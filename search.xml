<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Spring Boot 3 é›†æˆ Swagger 3 å®Œæ•´æŒ‡å—</title>
      <link href="/2025/09/08/Springboot/Spring%20Boot%203%20%E9%9B%86%E6%88%90%20Swagger%203%20%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%97/"/>
      <url>/2025/09/08/Springboot/Spring%20Boot%203%20%E9%9B%86%E6%88%90%20Swagger%203%20%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%97/</url>
      
        <content type="html"><![CDATA[<h2 id="spring-boot-3-é›†æˆ-swagger-3-å®Œæ•´æŒ‡å—"><a class="markdownIt-Anchor" href="#spring-boot-3-é›†æˆ-swagger-3-å®Œæ•´æŒ‡å—"></a> Spring Boot 3 é›†æˆ Swagger 3 å®Œæ•´æŒ‡å—</h2><p>Swaggerï¼ˆç°æ›´åä¸ºOpenAPIï¼‰æ˜¯ä¸€ä¸ªç”¨äºè®¾è®¡ã€æ„å»ºå’Œæ–‡æ¡£åŒ–APIçš„å¼ºå¤§å·¥å…·ã€‚åœ¨Spring Boot 3ä¸­é›†æˆSwagger 3ï¼ˆOpenAPI 3.0ï¼‰å¯ä»¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨ç”ŸæˆAPIæ–‡æ¡£ï¼Œæ–¹ä¾¿å‰åç«¯å¼€å‘äººå‘˜åä½œã€‚</p><h3 id="ä¸€-ä¾èµ–é…ç½®"><a class="markdownIt-Anchor" href="#ä¸€-ä¾èµ–é…ç½®"></a> ä¸€ã€ä¾èµ–é…ç½®</h3><p>é¦–å…ˆï¼Œåœ¨<code>pom.xml</code>ä¸­æ·»åŠ SpringDoc OpenAPIä¾èµ–ï¼ˆSwagger 3çš„å®˜æ–¹å®ç°ï¼‰ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- SpringDoc OpenAPI æ ¸å¿ƒä¾èµ– --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springdoc<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springdoc-openapi-starter-webmvc-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¾èµ–åŒ…å«äº†ï¼š</p><ul><li>OpenAPI 3.0è§„èŒƒçš„å®ç°</li><li>Swagger UIç•Œé¢</li><li>ä¸Spring Boot 3çš„è‡ªåŠ¨é…ç½®</li></ul><h3 id="äºŒ-åŸºæœ¬é…ç½®"><a class="markdownIt-Anchor" href="#äºŒ-åŸºæœ¬é…ç½®"></a> äºŒã€åŸºæœ¬é…ç½®</h3><p>åˆ›å»ºSwaggeré…ç½®ç±»ï¼Œè‡ªå®šä¹‰APIæ–‡æ¡£ä¿¡æ¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demo.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.models.OpenAPI;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.models.info.Contact;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.models.info.Info;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.models.info.License;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SwaggerConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> OpenAPI <span class="title function_">customOpenAPI</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">OpenAPI</span>()</span><br><span class="line">                .info(<span class="keyword">new</span> <span class="title class_">Info</span>()</span><br><span class="line">                        .title(<span class="string">&quot;Spring Boot 3 API æ–‡æ¡£&quot;</span>)</span><br><span class="line">                        .version(<span class="string">&quot;1.0.0&quot;</span>)</span><br><span class="line">                        .description(<span class="string">&quot;è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨Spring Boot 3å’ŒSwagger 3æ„å»ºçš„APIæ–‡æ¡£ç¤ºä¾‹&quot;</span>)</span><br><span class="line">                        .termsOfService(<span class="string">&quot;https://example.com/terms&quot;</span>)</span><br><span class="line">                        .contact(<span class="keyword">new</span> <span class="title class_">Contact</span>()</span><br><span class="line">                                .name(<span class="string">&quot;å¼€å‘å›¢é˜Ÿ&quot;</span>)</span><br><span class="line">                                .email(<span class="string">&quot;dev@example.com&quot;</span>)</span><br><span class="line">                                .url(<span class="string">&quot;https://example.com&quot;</span>))</span><br><span class="line">                        .license(<span class="keyword">new</span> <span class="title class_">License</span>()</span><br><span class="line">                                .name(<span class="string">&quot;Apache 2.0&quot;</span>)</span><br><span class="line">                                .url(<span class="string">&quot;https://www.apache.org/licenses/LICENSE-2.0.html&quot;</span>)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸‰-å®æˆ˜ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#ä¸‰-å®æˆ˜ç¤ºä¾‹"></a> ä¸‰ã€å®æˆ˜ç¤ºä¾‹</h3><h4 id="1-åˆ›å»ºå®ä½“ç±»"><a class="markdownIt-Anchor" href="#1-åˆ›å»ºå®ä½“ç±»"></a> 1. åˆ›å»ºå®ä½“ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demo.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.media.Schema;</span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@Schema(description = &quot;ç”¨æˆ·å®ä½“ç±»&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;ç”¨æˆ·ID&quot;, example = &quot;1&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;ç”¨æˆ·å&quot;, example = &quot;å¼ ä¸‰&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;ç”¨æˆ·å¹´é¾„&quot;, example = &quot;25&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;ç”¨æˆ·é‚®ç®±&quot;, example = &quot;zhangsan@example.com&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-åˆ›å»ºæ§åˆ¶å™¨"><a class="markdownIt-Anchor" href="#2-åˆ›å»ºæ§åˆ¶å™¨"></a> 2. åˆ›å»ºæ§åˆ¶å™¨</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demo.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.demo.model.User;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.Operation;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.Parameter;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.enums.ParameterIn;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.media.Content;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.media.Schema;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.responses.ApiResponse;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.tags.Tag;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.ResponseEntity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ConcurrentHashMap;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/api/users&quot;)</span></span><br><span class="line"><span class="meta">@Tag(name = &quot;ç”¨æˆ·ç®¡ç†&quot;, description = &quot;ç”¨æˆ·CRUDæ“ä½œçš„APIæ¥å£&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¨¡æ‹Ÿæ•°æ®åº“</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ConcurrentHashMap&lt;Long, User&gt; users = <span class="keyword">new</span> <span class="title class_">ConcurrentHashMap</span>&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        users.put(<span class="number">1L</span>, <span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">1L</span>, <span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="number">25</span>, <span class="string">&quot;zhangsan@example.com&quot;</span>));</span><br><span class="line">        users.put(<span class="number">2L</span>, <span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">2L</span>, <span class="string">&quot;æå››&quot;</span>, <span class="number">30</span>, <span class="string">&quot;lisi@example.com&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="meta">@Operation(summary = &quot;è·å–æ‰€æœ‰ç”¨æˆ·&quot;, description = &quot;è¿”å›ç³»ç»Ÿä¸­æ‰€æœ‰çš„ç”¨æˆ·åˆ—è¡¨&quot;)</span></span><br><span class="line">    <span class="meta">@ApiResponse(responseCode = &quot;200&quot;, description = &quot;æŸ¥è¯¢æˆåŠŸ&quot;,</span></span><br><span class="line"><span class="meta">            content = @Content(schema = @Schema(implementation = User.class)))</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">getAllUsers</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(users.values());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="meta">@Operation(summary = &quot;æ ¹æ®IDè·å–ç”¨æˆ·&quot;, description = &quot;æ ¹æ®ç”¨æˆ·IDæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯&quot;)</span></span><br><span class="line">    <span class="meta">@ApiResponse(responseCode = &quot;200&quot;, description = &quot;æŸ¥è¯¢æˆåŠŸ&quot;)</span></span><br><span class="line">    <span class="meta">@ApiResponse(responseCode = &quot;404&quot;, description = &quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;User&gt; <span class="title function_">getUserById</span><span class="params">(</span></span><br><span class="line"><span class="params">            <span class="meta">@Parameter(name = &quot;id&quot;, description = &quot;ç”¨æˆ·ID&quot;, in = ParameterIn.PATH, required = true)</span></span></span><br><span class="line"><span class="params">            <span class="meta">@PathVariable</span> Long id)</span> &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> users.get(id);</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> ResponseEntity.notFound().build();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="meta">@Operation(summary = &quot;åˆ›å»ºæ–°ç”¨æˆ·&quot;, description = &quot;æ·»åŠ æ–°ç”¨æˆ·åˆ°ç³»ç»Ÿä¸­&quot;)</span></span><br><span class="line">    <span class="meta">@ApiResponse(responseCode = &quot;201&quot;, description = &quot;ç”¨æˆ·åˆ›å»ºæˆåŠŸ&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;User&gt; <span class="title function_">createUser</span><span class="params">(</span></span><br><span class="line"><span class="params">            <span class="meta">@Parameter(description = &quot;ç”¨æˆ·ä¿¡æ¯&quot;, required = true)</span></span></span><br><span class="line"><span class="params">            <span class="meta">@RequestBody</span> User user)</span> &#123;</span><br><span class="line">        <span class="type">Long</span> <span class="variable">newId</span> <span class="operator">=</span> users.size() + <span class="number">1L</span>;</span><br><span class="line">        user.setId(newId);</span><br><span class="line">        users.put(newId, user);</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.status(<span class="number">201</span>).body(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PutMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="meta">@Operation(summary = &quot;æ›´æ–°ç”¨æˆ·ä¿¡æ¯&quot;, description = &quot;æ ¹æ®IDæ›´æ–°ç”¨æˆ·ä¿¡æ¯&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;User&gt; <span class="title function_">updateUser</span><span class="params">(</span></span><br><span class="line"><span class="params">            <span class="meta">@Parameter(name = &quot;id&quot;, description = &quot;ç”¨æˆ·ID&quot;, in = ParameterIn.PATH, required = true)</span></span></span><br><span class="line"><span class="params">            <span class="meta">@PathVariable</span> Long id,</span></span><br><span class="line"><span class="params">            <span class="meta">@Parameter(description = &quot;æ›´æ–°åçš„ç”¨æˆ·ä¿¡æ¯&quot;, required = true)</span></span></span><br><span class="line"><span class="params">            <span class="meta">@RequestBody</span> User user)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!users.containsKey(id)) &#123;</span><br><span class="line">            <span class="keyword">return</span> ResponseEntity.notFound().build();</span><br><span class="line">        &#125;</span><br><span class="line">        user.setId(id);</span><br><span class="line">        users.put(id, user);</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="meta">@Operation(summary = &quot;åˆ é™¤ç”¨æˆ·&quot;, description = &quot;æ ¹æ®IDåˆ é™¤ç”¨æˆ·&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;Void&gt; <span class="title function_">deleteUser</span><span class="params">(</span></span><br><span class="line"><span class="params">            <span class="meta">@Parameter(name = &quot;id&quot;, description = &quot;ç”¨æˆ·ID&quot;, in = ParameterIn.PATH, required = true)</span></span></span><br><span class="line"><span class="params">            <span class="meta">@PathVariable</span> Long id)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!users.containsKey(id)) &#123;</span><br><span class="line">            <span class="keyword">return</span> ResponseEntity.notFound().build();</span><br><span class="line">        &#125;</span><br><span class="line">        users.remove(id);</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.noContent().build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å››-å¸¸ç”¨swaggeræ³¨è§£è¯´æ˜"><a class="markdownIt-Anchor" href="#å››-å¸¸ç”¨swaggeræ³¨è§£è¯´æ˜"></a> å››ã€å¸¸ç”¨Swaggeræ³¨è§£è¯´æ˜</h3><table><thead><tr><th>æ³¨è§£</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>@Tag</code></td><td>ç”¨äºæè¿°æ§åˆ¶å™¨ç±»çš„ä½œç”¨</td></tr><tr><td><code>@Operation</code></td><td>ç”¨äºæè¿°æ¥å£æ–¹æ³•çš„ä½œç”¨</td></tr><tr><td><code>@Parameter</code></td><td>ç”¨äºæè¿°æ–¹æ³•å‚æ•°</td></tr><tr><td><code>@Schema</code></td><td>ç”¨äºæè¿°å®ä½“ç±»æˆ–å±æ€§</td></tr><tr><td><code>@ApiResponse</code></td><td>ç”¨äºæè¿°æ¥å£çš„å“åº”ä¿¡æ¯</td></tr><tr><td><code>@RequestBody</code></td><td>ç”¨äºæè¿°è¯·æ±‚ä½“å‚æ•°</td></tr></tbody></table><h3 id="äº”-è®¿é—®swagger-ui"><a class="markdownIt-Anchor" href="#äº”-è®¿é—®swagger-ui"></a> äº”ã€è®¿é—®Swagger UI</h3><p>å¯åŠ¨Spring Bootåº”ç”¨åï¼Œé€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®Swagger UIç•Œé¢ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/swagger-ui/index.html</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªç•Œé¢ä¸­ï¼Œä½ å¯ä»¥ï¼š</p><ol><li>æŸ¥çœ‹æ‰€æœ‰APIæ¥å£åˆ—è¡¨</li><li>æŸ¥çœ‹æ¯ä¸ªæ¥å£çš„è¯¦ç»†ä¿¡æ¯ï¼ˆå‚æ•°ã€å“åº”ç­‰ï¼‰</li><li>åœ¨çº¿æµ‹è¯•APIæ¥å£</li><li>å¯¼å‡ºAPIæ–‡æ¡£ï¼ˆæ”¯æŒJSONå’ŒYAMLæ ¼å¼ï¼‰</li></ol><h3 id="å…­-ç”Ÿäº§ç¯å¢ƒé…ç½®"><a class="markdownIt-Anchor" href="#å…­-ç”Ÿäº§ç¯å¢ƒé…ç½®"></a> å…­ã€ç”Ÿäº§ç¯å¢ƒé…ç½®</h3><p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦å…³é—­Swaggeræ–‡æ¡£ï¼Œå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶å®ç°ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># application-prod.yml</span></span><br><span class="line"><span class="attr">springdoc:</span></span><br><span class="line">  <span class="attr">api-docs:</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">swagger-ui:</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨å¯åŠ¨æ—¶æŒ‡å®šç”Ÿäº§ç¯å¢ƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar your-app.jar --spring.profiles.active=prod</span><br></pre></td></tr></table></figure><h3 id="ä¸ƒ-å…¶å®ƒå‚æ•°é…ç½®æ¡ˆä¾‹"><a class="markdownIt-Anchor" href="#ä¸ƒ-å…¶å®ƒå‚æ•°é…ç½®æ¡ˆä¾‹"></a> ä¸ƒã€å…¶å®ƒå‚æ•°é…ç½®æ¡ˆä¾‹</h3><h4 id="1å¤šä¸ªè·¯å¾„å‚æ•°pathvariable"><a class="markdownIt-Anchor" href="#1å¤šä¸ªè·¯å¾„å‚æ•°pathvariable"></a> 1.å¤šä¸ªè·¯å¾„å‚æ•°ï¼ˆ@PathVariableï¼‰</h4><p>é€‚ç”¨äº URL è·¯å¾„ä¸­åŒ…å«å¤šä¸ªå ä½ç¬¦çš„æƒ…å†µï¼ˆå¦‚ /users/{userId}/orders/{orderId}ï¼‰ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/users/&#123;userId&#125;/orders/&#123;orderId&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> ResponseEntity&lt;Order&gt; <span class="title function_">getOrder</span><span class="params">(</span></span><br><span class="line"><span class="params">    // ç¬¬ä¸€ä¸ªè·¯å¾„å‚æ•°ï¼šç”¨æˆ·ID</span></span><br><span class="line"><span class="params">    <span class="meta">@Parameter(name = &quot;userId&quot;, description = &quot;ç”¨æˆ·ID&quot;, in = ParameterIn.PATH, required = true)</span></span></span><br><span class="line"><span class="params">    <span class="meta">@PathVariable</span> Long userId,</span></span><br><span class="line"><span class="params">    </span></span><br><span class="line"><span class="params">    // ç¬¬äºŒä¸ªè·¯å¾„å‚æ•°ï¼šè®¢å•ID</span></span><br><span class="line"><span class="params">    <span class="meta">@Parameter(name = &quot;orderId&quot;, description = &quot;è®¢å•ID&quot;, in = ParameterIn.PATH, required = true)</span></span></span><br><span class="line"><span class="params">    <span class="meta">@PathVariable</span> Long orderId</span></span><br><span class="line"><span class="params">)</span> &#123;</span><br><span class="line">    <span class="comment">// ä¸šåŠ¡é€»è¾‘ï¼šæ ¹æ® userId å’Œ orderId æŸ¥è¯¢è®¢å•</span></span><br><span class="line">    <span class="type">Order</span> <span class="variable">order</span> <span class="operator">=</span> orderService.getOrder(userId, orderId);</span><br><span class="line">    <span class="keyword">return</span> ResponseEntity.ok(order);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼š</p><ul><li>è·¯å¾„ä¸­ç”¨ {å‚æ•°å} å®šä¹‰å ä½ç¬¦ï¼Œæ–¹æ³•å‚æ•°é€šè¿‡ @PathVariable ä¾æ¬¡ç»‘å®šï¼›</li><li>å‚æ•°åéœ€ä¸è·¯å¾„å ä½ç¬¦ä¸€è‡´ï¼Œä¸ä¸€è‡´æ—¶éœ€æŒ‡å®š @PathVariable(â€œå ä½ç¬¦åç§°â€)ã€‚</li></ul><h4 id="2-å¤šä¸ªæŸ¥è¯¢å‚æ•°requestparam"><a class="markdownIt-Anchor" href="#2-å¤šä¸ªæŸ¥è¯¢å‚æ•°requestparam"></a> 2. å¤šä¸ªæŸ¥è¯¢å‚æ•°ï¼ˆ@RequestParamï¼‰</h4><p>é€‚ç”¨äº URL ä¸­ä»¥ ?key=value&amp;key2=value2 å½¢å¼ä¼ é€’çš„å‚æ•°ï¼ˆå¦‚ /users?page=1&amp;size=10&amp;keyword=testï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/users&quot;)</span></span><br><span class="line"><span class="keyword">public</span> ResponseEntity&lt;Page&lt;User&gt;&gt; <span class="title function_">getUsers</span><span class="params">(</span></span><br><span class="line"><span class="params">    // åˆ†é¡µå‚æ•°ï¼šé¡µç ï¼ˆé»˜è®¤å€¼<span class="number">1</span>ï¼‰</span></span><br><span class="line"><span class="params">    <span class="meta">@Parameter(name = &quot;page&quot;, description = &quot;é¡µç &quot;, in = ParameterIn.QUERY, required = false)</span></span></span><br><span class="line"><span class="params">    <span class="meta">@RequestParam(defaultValue = &quot;1&quot;)</span> Integer page,</span></span><br><span class="line"><span class="params">    </span></span><br><span class="line"><span class="params">    // åˆ†é¡µå‚æ•°ï¼šæ¯é¡µæ¡æ•°ï¼ˆé»˜è®¤å€¼<span class="number">10</span>ï¼‰</span></span><br><span class="line"><span class="params">    <span class="meta">@Parameter(name = &quot;size&quot;, description = &quot;æ¯é¡µæ¡æ•°&quot;, in = ParameterIn.QUERY, required = false)</span></span></span><br><span class="line"><span class="params">    <span class="meta">@RequestParam(defaultValue = &quot;10&quot;)</span> Integer size,</span></span><br><span class="line"><span class="params">    </span></span><br><span class="line"><span class="params">    // æŸ¥è¯¢å…³é”®è¯ï¼ˆéå¿…å¡«ï¼‰</span></span><br><span class="line"><span class="params">    <span class="meta">@Parameter(name = &quot;keyword&quot;, description = &quot;æŸ¥è¯¢å…³é”®è¯&quot;, in = ParameterIn.QUERY, required = false)</span></span></span><br><span class="line"><span class="params">    <span class="meta">@RequestParam(required = false)</span> String keyword</span></span><br><span class="line"><span class="params">)</span> &#123;</span><br><span class="line">    <span class="comment">// ä¸šåŠ¡é€»è¾‘ï¼šåˆ†é¡µæŸ¥è¯¢ç”¨æˆ·</span></span><br><span class="line">    Page&lt;User&gt; userPage = userService.findUsers(page, size, keyword);</span><br><span class="line">    <span class="keyword">return</span> ResponseEntity.ok(userPage);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼š</p><ul><li>ç”¨ @RequestParam ç»‘å®šæŸ¥è¯¢å‚æ•°ï¼Œrequired = false è¡¨ç¤ºéå¿…å¡«ï¼›</li><li>defaultValue å¯è®¾ç½®é»˜è®¤å€¼ï¼ˆå½“å‚æ•°æœªä¼ é€’æ—¶ä½¿ç”¨ï¼‰ã€‚</li></ul><p>éœ€ä½¿ç”¨ @RequestParam(â€œfileâ€) MultipartFile file æ¥æ”¶æ–‡ä»¶ï¼Œå…¶ä»–æ™®é€šå­—æ®µä»ç”¨ @RequestParam æˆ–å®ä½“ç±»ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(value = &quot;/user/upload&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">uploadForm</span><span class="params">(</span></span><br><span class="line"><span class="params">    // æ¥æ”¶æ–‡ä»¶</span></span><br><span class="line"><span class="params">    <span class="meta">@Parameter(description = &quot;å¤´åƒæ–‡ä»¶&quot;)</span></span></span><br><span class="line"><span class="params">    <span class="meta">@RequestParam(&quot;avatar&quot;)</span> MultipartFile avatar,</span></span><br><span class="line"><span class="params">    </span></span><br><span class="line"><span class="params">    // æ¥æ”¶æ™®é€šè¡¨å•å­—æ®µï¼ˆæˆ–ç”¨å®ä½“ç±»æ¥æ”¶ï¼‰</span></span><br><span class="line"><span class="params">    <span class="meta">@Parameter(description = &quot;ç”¨æˆ·å&quot;)</span></span></span><br><span class="line"><span class="params">    <span class="meta">@RequestParam</span> String username</span></span><br><span class="line"><span class="params">)</span> &#123;</span><br><span class="line">    <span class="comment">// å¤„ç†æ–‡ä»¶å’Œè¡¨å•æ•°æ®</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;æ–‡ä»¶ï¼š&quot;</span> + avatar.getOriginalFilename() + <span class="string">&quot;ï¼Œç”¨æˆ·ï¼š&quot;</span> + username;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼š</p><ul><li>å¸¦æ–‡ä»¶çš„è¡¨å•ï¼ˆmultipart/form-dataï¼‰ï¼Œéœ€ä½¿ç”¨ @RequestParam(â€œfileâ€) MultipartFile file æ¥æ”¶æ–‡ä»¶</li></ul><h4 id="4-å¤æ‚å‚æ•°å®ä½“ç±»æ¥æ”¶"><a class="markdownIt-Anchor" href="#4-å¤æ‚å‚æ•°å®ä½“ç±»æ¥æ”¶"></a> 4. å¤æ‚å‚æ•°ï¼ˆå®ä½“ç±»æ¥æ”¶ï¼‰</h4><p>å½“å‚æ•°è¾ƒå¤šï¼ˆå¦‚åˆ›å»ºç”¨æˆ·æ—¶éœ€è¦ usernameã€ageã€email ç­‰ï¼‰ï¼Œæ¨èç”¨å®ä½“ç±»ç»Ÿä¸€æ¥æ”¶ï¼ˆé€‚ç”¨äº POST/PUT ç­‰è¯·æ±‚çš„è¯·æ±‚ä½“ï¼‰ã€‚</p><p>1).å®šä¹‰å®ä½“ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span> <span class="comment">// Lombokæ³¨è§£ï¼Œè‡ªåŠ¨ç”Ÿæˆgetter/setter</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserDTO</span> &#123;</span><br><span class="line">    <span class="meta">@ApiModelProperty(value = &quot;ç”¨æˆ·å&quot;, required = true)</span></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@ApiModelProperty(value = &quot;å¹´é¾„&quot;, required = false)</span></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@ApiModelProperty(value = &quot;é‚®ç®±&quot;, required = true)</span></span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2).åœ¨æ¥å£ä¸­ä½¿ç”¨å®ä½“ç±»æ¥æ”¶å‚æ•°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/users&quot;)</span></span><br><span class="line"><span class="keyword">public</span> ResponseEntity&lt;User&gt; <span class="title function_">createUser</span><span class="params">(</span></span><br><span class="line"><span class="params">    // è¯·æ±‚ä½“å‚æ•°ï¼šç”¨<span class="meta">@RequestBody</span>ç»‘å®šå®ä½“ç±»</span></span><br><span class="line"><span class="params">    <span class="meta">@Parameter(description = &quot;ç”¨æˆ·ä¿¡æ¯&quot;)</span></span></span><br><span class="line"><span class="params">    <span class="meta">@RequestBody</span> <span class="meta">@Valid</span> UserDTO userDTO // <span class="meta">@Valid</span>ç”¨äºå‚æ•°æ ¡éªŒ</span></span><br><span class="line"><span class="params">)</span> &#123;</span><br><span class="line">    <span class="comment">// ä¸šåŠ¡é€»è¾‘ï¼šåˆ›å»ºç”¨æˆ·</span></span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userService.createUser(userDTO);</span><br><span class="line">    <span class="keyword">return</span> ResponseEntity.status(HttpStatus.CREATED).body(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼š</p><ul><li>ç”¨ @RequestBody å°†è¯·æ±‚ä½“ï¼ˆé€šå¸¸æ˜¯ JSONï¼‰è½¬æ¢ä¸ºå®ä½“ç±»å¯¹è±¡ï¼›</li><li>ç»“åˆ Swagger çš„ @ApiModelProperty æ³¨è§£ï¼Œå¯åœ¨æ–‡æ¡£ä¸­å±•ç¤ºæ¯ä¸ªå­—æ®µçš„è¯´æ˜ï¼›</li><li>@Valid é…åˆ javax.validation æ³¨è§£ï¼ˆå¦‚ @NotBlankï¼‰å¯å®ç°å‚æ•°æ ¡éªŒã€‚</li></ul><h3 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h3><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæˆ‘ä»¬å®Œæˆäº†Spring Boot 3ä¸Swagger 3çš„é›†æˆï¼Œå®ç°äº†APIæ–‡æ¡£çš„è‡ªåŠ¨ç”Ÿæˆå’Œåœ¨çº¿æµ‹è¯•åŠŸèƒ½ã€‚Swaggerä¸ä»…èƒ½æé«˜å›¢é˜Ÿåä½œæ•ˆç‡ï¼Œè¿˜èƒ½ä½œä¸ºAPIçš„æ´»æ–‡æ¡£ï¼Œéšç€ä»£ç çš„æ›´æ–°è€Œè‡ªåŠ¨æ›´æ–°ã€‚</p><p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è¿›ä¸€æ­¥å®šåˆ¶Swaggeré…ç½®ï¼Œå¦‚æ·»åŠ å…¨å±€å‚æ•°ã€é…ç½®APIåˆ†ç»„ã€è®¾ç½®å®‰å…¨è®¤è¯ç­‰ï¼Œä»¥æ»¡è¶³ä¸åŒåœºæ™¯çš„éœ€æ±‚ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­ç§˜Swaggerä¸OpenAPIé›†æˆçš„ç»ˆææ”»ç•¥</title>
      <link href="/2025/09/07/Springboot/%E6%8F%AD%E7%A7%98Swagger%E4%B8%8EOpenAPI%E9%9B%86%E6%88%90%E7%9A%84%E7%BB%88%E6%9E%81%E6%94%BB%E7%95%A5/"/>
      <url>/2025/09/07/Springboot/%E6%8F%AD%E7%A7%98Swagger%E4%B8%8EOpenAPI%E9%9B%86%E6%88%90%E7%9A%84%E7%BB%88%E6%9E%81%E6%94%BB%E7%95%A5/</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>æ¼”ç¤ºç¯å¢ƒè¯´æ˜ï¼š</strong></p><ul><li>å¼€å‘å·¥å…·ï¼šIDEA 2021.3</li><li>JDKç‰ˆæœ¬ï¼š JDK 17ï¼ˆæ¨èä½¿ç”¨ JDK 17 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œå› ä¸º Spring Boot 3.x ç³»åˆ—è¦æ±‚ Java 17ï¼ŒSpring Boot 3.5.4 åŸºäº Spring Framework 6.x å’Œ Jakarta EE 9ï¼Œå®ƒä»¬éƒ½è¦æ±‚è‡³å°‘ JDK 17ã€‚ï¼‰</li><li>Spring Bootç‰ˆæœ¬ï¼š3.5.4ï¼ˆäº25å¹´7æœˆ24æ—¥å‘å¸ƒï¼‰</li><li>Mavenç‰ˆæœ¬ï¼š3.8.2 ï¼ˆæˆ–æ›´é«˜ï¼‰</li><li>Gradleï¼šï¼ˆå¦‚æœä½¿ç”¨ Gradle æ„å»ºå·¥å…·çš„è¯ï¼‰ï¼šæ¨èä½¿ç”¨ Gradle 7.5 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œç¡®ä¿ä¸ JDK 17 å…¼å®¹ã€‚</li><li>æ“ä½œç³»ç»Ÿï¼šWindows 11</li></ul></blockquote><h3 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> ğŸ“ å‰è¨€</h3><p>å“å‘€ï¼Œè¯´èµ·APIæ–‡æ¡£è¿™ä¸ªè¯é¢˜ï¼Œæˆ‘å°±å¿ä¸ä½è¦åæ§½ä¸€ä¸‹ï¼ğŸ™„ ä½œä¸ºä¸€ä¸ªåœ¨ä»£ç ä¸–ç•Œé‡Œæ‘¸çˆ¬æ»šæ‰“å¤šå¹´çš„è€å¸æœºï¼Œæˆ‘è§è¿‡å¤ªå¤šå› ä¸ºAPIæ–‡æ¡£ä¸è§„èŒƒã€ä¸åŠæ—¶æ›´æ–°è€Œå¯¼è‡´çš„&quot;è¡€æ¡ˆ&quot;äº†ã€‚å‰ç«¯å°ä¼™ä¼´æ‹¿ç€è¿‡æ—¶çš„æ–‡æ¡£è°ƒæ¥å£ï¼Œåç«¯åŒå­¦å¿™ç€è§£é‡Š&quot;è¿™ä¸ªå‚æ•°å·²ç»æ”¹äº†&quot;ï¼Œæµ‹è¯•åŒå­¦æ›´æ˜¯ä¸€è„¸æ‡µé€¼åœ°é—®&quot;è¿™ä¸ªæ¥å£åˆ°åº•è¿”å›ä»€ä¹ˆæ•°æ®ï¼Ÿ&quot;ğŸ˜‚</p><p>ä¸è¿‡å‘¢ï¼Œéšç€SpringBoot 3.xçš„æ¨ªç©ºå‡ºä¸–ï¼Œç‰¹åˆ«æ˜¯å®ƒä¸OpenAPI 3.0çš„å®Œç¾èåˆï¼Œè¿™äº›ç—›ç‚¹ç»ˆäºæœ‰äº†ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆï¼ä»Šå¤©æˆ‘å°±æ¥è·Ÿå¤§å®¶å¥½å¥½èŠèŠè¿™ä¸ªè¯é¢˜ï¼Œä¿è¯è®©ä½ çœ‹å®Œä¹‹åç›´å‘¼&quot;åŸæ¥å¦‚æ­¤&quot;ï¼ğŸ’¡</p><h3 id="springboot-3xä¸openapiçš„é‚‚é€…"><a class="markdownIt-Anchor" href="#springboot-3xä¸openapiçš„é‚‚é€…"></a> ğŸ¯ SpringBoot 3.xä¸OpenAPIçš„é‚‚é€…</h3><p>è¯´åˆ°SpringBoot 3.xï¼Œé‚£å¯çœŸæ˜¯ä¸ªé‡Œç¨‹ç¢‘å¼çš„ç‰ˆæœ¬å•Šï¼ğŸ˜ å®ƒä¸ä»…æ‹¥æŠ±äº†Java 17çš„æ–°ç‰¹æ€§ï¼Œè¿˜å¯¹æ•´ä¸ªç”Ÿæ€è¿›è¡Œäº†å¤§å¹…åº¦çš„å‡çº§ã€‚è€ŒOpenAPIï¼ˆä»¥å‰å«Swagger Specificationï¼‰ä½œä¸ºAPIæ–‡æ¡£çš„æ ‡å‡†è§„èŒƒï¼Œåœ¨3.0ç‰ˆæœ¬ä¸­ä¹Ÿæ˜¯ç„•ç„¶ä¸€æ–°ï¼</p><h4 id="ä»€ä¹ˆæ˜¯openapi-30"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯openapi-30"></a> ğŸ” ä»€ä¹ˆæ˜¯OpenAPI 3.0ï¼Ÿ</h4><p>OpenAPI 3.0æ˜¯ä¸€ä¸ªç”¨äºæè¿°REST APIçš„è§„èŒƒæ ‡å‡†ï¼Œå®ƒå°±åƒæ˜¯ç»™ä½ çš„APIå†™äº†ä¸€ä»½&quot;èº«ä»½è¯&quot;ğŸ“‹ã€‚é€šè¿‡è¿™ä¸ªè§„èŒƒï¼Œä½ å¯ä»¥æ¸…æ™°åœ°æè¿°ï¼š</p><ul><li>APIçš„åŸºæœ¬ä¿¡æ¯ï¼ˆç‰ˆæœ¬ã€æè¿°ç­‰ï¼‰</li><li>æ¥å£è·¯å¾„å’ŒHTTPæ–¹æ³•</li><li>è¯·æ±‚å‚æ•°å’Œå“åº”æ ¼å¼</li><li>è®¤è¯æ–¹å¼</li><li>é”™è¯¯ç å®šä¹‰</li></ul><p>ç›¸æ¯”äºOpenAPI 2.0ï¼ˆSwagger 2.0ï¼‰ï¼Œ3.0ç‰ˆæœ¬å¸¦æ¥äº†ä¸å°‘å¥½ä¸œè¥¿ï¼š</p><ul><li><strong>æ›´çµæ´»çš„æ•°æ®ç±»å‹æ”¯æŒ</strong>ï¼šæ”¯æŒ<code>oneOf</code>ã€<code>anyOf</code>ã€<code>allOf</code>ç­‰å¤æ‚ç±»å‹ç»„åˆ</li><li><strong>æ›´å¼ºå¤§çš„è®¤è¯æœºåˆ¶</strong>ï¼šæ”¯æŒOAuth 2.0ã€OpenID Connectç­‰ç°ä»£è®¤è¯æ–¹å¼</li><li><strong>ç»„ä»¶å¤ç”¨</strong>ï¼šé€šè¿‡<code>components</code>å®ç°æ›´å¥½çš„å¤ç”¨æ€§</li><li><strong>å›è°ƒæ”¯æŒ</strong>ï¼šæ”¯æŒå¼‚æ­¥APIçš„å›è°ƒå®šä¹‰</li></ul><h4 id="springboot-3xçš„å˜åŒ–"><a class="markdownIt-Anchor" href="#springboot-3xçš„å˜åŒ–"></a> ğŸ¤ SpringBoot 3.xçš„å˜åŒ–</h4><p>SpringBoot 3.xæœ€å¤§çš„å˜åŒ–å°±æ˜¯å…¨é¢æ‹¥æŠ±äº†Jakarta EEï¼ğŸ‰ è¿™æ„å‘€ç€ï¼š</p><ul><li>åŒ…åä»<code>javax.*</code>å˜æˆäº†<code>jakarta.*</code></li><li>æœ€ä½Javaç‰ˆæœ¬è¦æ±‚æå‡åˆ°17</li><li>åŸç”Ÿæ”¯æŒGraalVM</li><li>æ›´å¥½çš„å¯è§‚æµ‹æ€§æ”¯æŒ</li></ul><p>è¿™äº›å˜åŒ–å¯¹æˆ‘ä»¬é›†æˆOpenAPIæœ‰ä»€ä¹ˆå½±å“å‘¢ï¼Ÿåˆ«æ€¥ï¼Œå’±ä»¬æ…¢æ…¢é“æ¥ï¼</p><h3 id="ç¯å¢ƒæ­å»ºè®©ä¸€åˆ‡å‡†å¤‡å°±ç»ª"><a class="markdownIt-Anchor" href="#ç¯å¢ƒæ­å»ºè®©ä¸€åˆ‡å‡†å¤‡å°±ç»ª"></a> ğŸ”§ ç¯å¢ƒæ­å»ºï¼šè®©ä¸€åˆ‡å‡†å¤‡å°±ç»ª</h3><p>ä¿—è¯è¯´&quot;å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨&quot;ï¼åœ¨å¼€å§‹æˆ‘ä»¬çš„OpenAPIä¹‹æ—…ä¹‹å‰ï¼Œå…ˆæŠŠç¯å¢ƒæ­å»ºå¥½ã€‚ğŸ˜</p><h4 id="é¡¹ç›®ä¾èµ–é…ç½®"><a class="markdownIt-Anchor" href="#é¡¹ç›®ä¾èµ–é…ç½®"></a> ğŸ“¦ é¡¹ç›®ä¾èµ–é…ç½®</h4><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨<code>pom.xml</code>ä¸­æ·»åŠ ç›¸å…³ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 </span></span></span><br><span class="line"><span class="string"><span class="tag">         http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springboot3-openapi-demo<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>SpringBoot 3.x OpenAPI Demo<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>SpringBoot 3.x é›†æˆ OpenAPI ç¤ºä¾‹é¡¹ç›®<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>17<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">springdoc.version</span>&gt;</span>2.2.0<span class="tag">&lt;/<span class="name">springdoc.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- SpringBoot Web Starter --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- SpringBoot Validation --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-validation<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- SpringDoc OpenAPI UI --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springdoc<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springdoc-openapi-starter-webmvc-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;springdoc.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- SpringBoot Test --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><p>çœ‹åˆ°è¿™é‡Œï¼Œå¯èƒ½æœ‰å°ä¼™ä¼´è¦é—®äº†ï¼š&quot;è¯¶ï¼Œæ€ä¹ˆæ²¡æœ‰çœ‹åˆ°<code>springfox</code>çš„ä¾èµ–å•Šï¼Ÿ&quot;ğŸ¤” å“ˆå“ˆï¼Œè¿™å°±æ˜¯SpringBoot 3.xæ—¶ä»£çš„å˜åŒ–å•¦ï¼ç”±äºSpringFoxé¡¹ç›®å·²ç»å¾ˆä¹…æ²¡æœ‰æ›´æ–°äº†ï¼Œå¹¶ä¸”ä¸å…¼å®¹SpringBoot 3.xçš„Jakartaå‘½åç©ºé—´ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©äº†æ›´æ´»è·ƒçš„<code>SpringDoc</code>é¡¹ç›®ï¼</p><h4 id="ï¸-åŸºç¡€é…ç½®"><a class="markdownIt-Anchor" href="#ï¸-åŸºç¡€é…ç½®"></a> âš™ï¸ åŸºç¡€é…ç½®</h4><p>æ¥ä¸‹æ¥ï¼Œåœ¨<code>application.yml</code>ä¸­æ·»åŠ ä¸€äº›åŸºç¡€é…ç½®ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åº”ç”¨åŸºç¡€é…ç½®</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">  <span class="attr">servlet:</span></span><br><span class="line">    <span class="attr">context-path:</span> <span class="string">/api</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">springboot3-openapi-demo</span></span><br><span class="line">  <span class="attr">profiles:</span></span><br><span class="line">    <span class="attr">active:</span> <span class="string">dev</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># SpringDoc OpenAPI é…ç½®</span></span><br><span class="line"><span class="attr">springdoc:</span></span><br><span class="line">  <span class="comment"># æŒ‡å®šOpenAPI 3æ–‡æ¡£çš„è·¯å¾„ï¼Œé»˜è®¤ä¸º/v3/api-docs</span></span><br><span class="line">  <span class="attr">api-docs:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/v3/api-docs</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Swagger UIè·¯å¾„ï¼Œé»˜è®¤ä¸º/swagger-ui.html</span></span><br><span class="line">  <span class="attr">swagger-ui:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/swagger-ui.html</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># è®¾ç½®UIç•Œé¢çš„ä¸€äº›é…ç½®</span></span><br><span class="line">    <span class="attr">config-url:</span> <span class="string">/v3/api-docs/swagger-config</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">/v3/api-docs</span></span><br><span class="line">    <span class="comment"># æ”¯æŒå°è¯•è°ƒç”¨</span></span><br><span class="line">    <span class="attr">try-it-out-enabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># æ˜¾ç¤ºæ“ä½œID</span></span><br><span class="line">    <span class="attr">display-operation-id:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># æ˜¾ç¤ºè¯·æ±‚æŒç»­æ—¶é—´</span></span><br><span class="line">    <span class="attr">display-request-duration:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># ç¼“å­˜æ—¶é—´è®¾ç½®ï¼ˆæ¯«ç§’ï¼‰</span></span><br><span class="line">  <span class="attr">cache:</span></span><br><span class="line">    <span class="attr">disabled:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># æ˜¯å¦æ˜¾ç¤ºactuatoræ¥å£</span></span><br><span class="line">  <span class="attr">show-actuator:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ—¥å¿—é…ç½®</span></span><br><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">level:</span></span><br><span class="line">    <span class="attr">com.example:</span> <span class="string">DEBUG</span></span><br><span class="line">    <span class="attr">org.springframework.web:</span> <span class="string">DEBUG</span></span><br><span class="line">  <span class="attr">pattern:</span></span><br><span class="line">    <span class="attr">console:</span> <span class="string">&#x27;%d&#123;yyyy-MM-dd HH:mm:ss&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n&#x27;</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªé…ç½®å¯æ˜¯æˆ‘ç²¾å¿ƒè°ƒè¯•å‡ºæ¥çš„ï¼Œæ¯ä¸€è¡Œéƒ½æœ‰å®ƒå­˜åœ¨çš„æ„ä¹‰ï¼ğŸ¨ æ¯”å¦‚<code>try-it-out-enabled: true</code>å°±èƒ½è®©ä½ ç›´æ¥åœ¨æ–‡æ¡£é¡µé¢æµ‹è¯•APIï¼Œç®€ç›´ä¸è¦å¤ªçˆ½ï¼</p><h3 id="openapi-30è§„èŒƒè¯¦è§£"><a class="markdownIt-Anchor" href="#openapi-30è§„èŒƒè¯¦è§£"></a> ğŸ“– OpenAPI 3.0è§„èŒƒè¯¦è§£</h3><p>åœ¨åŠ¨æ‰‹å†™ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥å¥½å¥½äº†è§£ä¸€ä¸‹OpenAPI 3.0çš„è§„èŒƒç»“æ„ã€‚æ¯•ç«Ÿï¼ŒçŸ¥å·±çŸ¥å½¼ï¼Œç™¾æˆ˜ä¸æ®†å˜›ï¼ğŸ˜„</p><h4 id="ï¸-openapiæ–‡æ¡£ç»“æ„"><a class="markdownIt-Anchor" href="#ï¸-openapiæ–‡æ¡£ç»“æ„"></a> ğŸ—ï¸ OpenAPIæ–‡æ¡£ç»“æ„</h4><p>ä¸€ä¸ªå®Œæ•´çš„OpenAPI 3.0æ–‡æ¡£ä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿™æ˜¯ä¸€ä¸ªOpenAPIæ–‡æ¡£çš„åŸºæœ¬ç»“æ„ç¤ºä¾‹</span></span><br><span class="line"><span class="attr">openapi:</span> <span class="number">3.0</span><span class="number">.3</span></span><br><span class="line"><span class="attr">info:</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">&quot;æˆ‘çš„ç‰›é€¼API&quot;</span></span><br><span class="line">  <span class="attr">description:</span> <span class="string">&quot;è¿™æ˜¯ä¸€ä¸ªè¶…çº§å‰å®³çš„APIæ–‡æ¡£&quot;</span></span><br><span class="line">  <span class="attr">version:</span> <span class="string">&quot;1.0.0&quot;</span></span><br><span class="line">  <span class="attr">contact:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">&quot;APIæ”¯æŒå›¢é˜Ÿ&quot;</span></span><br><span class="line">    <span class="attr">email:</span> <span class="string">&quot;support@example.com&quot;</span></span><br><span class="line"><span class="attr">servers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">url:</span> <span class="string">&quot;https://api.example.com/v1&quot;</span></span><br><span class="line">    <span class="attr">description:</span> <span class="string">&quot;ç”Ÿäº§ç¯å¢ƒ&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">url:</span> <span class="string">&quot;https://test-api.example.com/v1&quot;</span></span><br><span class="line">    <span class="attr">description:</span> <span class="string">&quot;æµ‹è¯•ç¯å¢ƒ&quot;</span></span><br><span class="line"><span class="attr">paths:</span></span><br><span class="line">  <span class="string">/users:</span></span><br><span class="line">    <span class="attr">get:</span></span><br><span class="line">      <span class="attr">summary:</span> <span class="string">&quot;è·å–ç”¨æˆ·åˆ—è¡¨&quot;</span></span><br><span class="line">      <span class="comment"># ...è¯¦ç»†å®šä¹‰</span></span><br><span class="line"><span class="attr">components:</span></span><br><span class="line">  <span class="attr">schemas:</span></span><br><span class="line">    <span class="attr">User:</span></span><br><span class="line">      <span class="attr">type:</span> <span class="string">object</span></span><br><span class="line">      <span class="attr">properties:</span></span><br><span class="line">        <span class="attr">id:</span></span><br><span class="line">          <span class="attr">type:</span> <span class="string">integer</span></span><br><span class="line">        <span class="attr">name:</span></span><br><span class="line">          <span class="attr">type:</span> <span class="string">string</span></span><br></pre></td></tr></table></figure><h4 id="æ ¸å¿ƒæ¦‚å¿µè§£æ"><a class="markdownIt-Anchor" href="#æ ¸å¿ƒæ¦‚å¿µè§£æ"></a> ğŸª æ ¸å¿ƒæ¦‚å¿µè§£æ</h4><h5 id="1ï¸âƒ£-infoå¯¹è±¡"><a class="markdownIt-Anchor" href="#1ï¸âƒ£-infoå¯¹è±¡"></a> 1ï¸âƒ£ Infoå¯¹è±¡</h5><p>è¿™å°±æ˜¯ä½ çš„APIçš„&quot;åç‰‡&quot;ï¼ŒåŒ…å«äº†æ ‡é¢˜ã€ç‰ˆæœ¬ã€æè¿°ç­‰åŸºæœ¬ä¿¡æ¯ã€‚</p><h5 id="2ï¸âƒ£-serverså¯¹è±¡"><a class="markdownIt-Anchor" href="#2ï¸âƒ£-serverså¯¹è±¡"></a> 2ï¸âƒ£ Serverså¯¹è±¡</h5><p>å®šä¹‰APIæœåŠ¡å™¨çš„åœ°å€ï¼Œå¯ä»¥æœ‰å¤šä¸ªç¯å¢ƒï¼ˆå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ï¼‰ã€‚</p><h5 id="3ï¸âƒ£-pathså¯¹è±¡"><a class="markdownIt-Anchor" href="#3ï¸âƒ£-pathså¯¹è±¡"></a> 3ï¸âƒ£ Pathså¯¹è±¡</h5><p>è¿™æ˜¯é‡å¤´æˆï¼å®šä¹‰äº†æ‰€æœ‰çš„APIè·¯å¾„å’Œæ“ä½œæ–¹æ³•ã€‚</p><h5 id="4ï¸âƒ£-componentså¯¹è±¡"><a class="markdownIt-Anchor" href="#4ï¸âƒ£-componentså¯¹è±¡"></a> 4ï¸âƒ£ Componentså¯¹è±¡</h5><p>è¿™æ˜¯å¤ç”¨çš„å®åº“ï¼Œå¯ä»¥å®šä¹‰é€šç”¨çš„æ•°æ®æ¨¡å‹ã€å“åº”ã€å‚æ•°ç­‰ã€‚</p><p>è¯´åˆ°è¿™é‡Œï¼Œæˆ‘æƒ³èµ·äº†åˆšå¼€å§‹å­¦OpenAPIçš„æ—¶å€™ï¼Œè¢«è¿™äº›æ¦‚å¿µç»•å¾—å¤´æ™•è½¬å‘çš„ğŸ˜µğŸ’«ã€‚ä¸è¿‡åˆ«æ‹…å¿ƒï¼Œå’±ä»¬é©¬ä¸Šå°±é€šè¿‡å®é™…ä»£ç æ¥ç†è§£è¿™äº›æ¦‚å¿µï¼</p><h3 id="springdoc-openapiçš„é›†æˆå®æˆ˜"><a class="markdownIt-Anchor" href="#springdoc-openapiçš„é›†æˆå®æˆ˜"></a> ğŸš€ SpringDoc OpenAPIçš„é›†æˆå®æˆ˜</h3><p>å¥½äº†ï¼Œç†è®ºçŸ¥è¯†é“ºå«å¤Ÿäº†ï¼Œæ˜¯æ—¶å€™æ’¸èµ·è¢–å­å¹²æ´»äº†ï¼ğŸ’ª è®©æˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„ç”¨æˆ·ç®¡ç†APIå¼€å§‹ã€‚</p><h4 id="åˆ›å»ºåŸºç¡€é…ç½®ç±»"><a class="markdownIt-Anchor" href="#åˆ›å»ºåŸºç¡€é…ç½®ç±»"></a> ğŸ¯ åˆ›å»ºåŸºç¡€é…ç½®ç±»</h4><p>é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªOpenAPIé…ç½®ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.models.OpenAPI;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.models.info.Contact;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.models.info.Info;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.models.info.License;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.models.servers.Server;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * OpenAPI 3.0 é…ç½®ç±»</span></span><br><span class="line"><span class="comment"> * è¿™ä¸ªç±»è´Ÿè´£å®šä¹‰APIæ–‡æ¡£çš„åŸºæœ¬ä¿¡æ¯ï¼Œç›¸å½“äºç»™æˆ‘ä»¬çš„APIåšäº†ä¸ªè‡ªæˆ‘ä»‹ç»ï¼</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> ä½ çš„åå­—</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2024-01-01</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OpenApiConfig</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;spring.application.name&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String applicationName;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ›å»ºOpenAPIå®ä¾‹</span></span><br><span class="line"><span class="comment">     * è¿™ä¸ªæ–¹æ³•å°±åƒæ˜¯åœ¨ç»™æˆ‘ä»¬çš„APIå†™ä¸ªäººç®€å†ï¼ŒæŠŠæœ€é‡è¦çš„ä¿¡æ¯éƒ½å†™ä¸Šï¼</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> OpenAPI <span class="title function_">customOpenAPI</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">OpenAPI</span>()</span><br><span class="line">                <span class="comment">// è®¾ç½®APIåŸºæœ¬ä¿¡æ¯</span></span><br><span class="line">                .info(<span class="keyword">new</span> <span class="title class_">Info</span>()</span><br><span class="line">                        .title(applicationName + <span class="string">&quot; APIæ–‡æ¡£&quot;</span>)</span><br><span class="line">                        .description(<span class="string">&quot;ğŸ‰ è¿™æ˜¯åŸºäºSpringBoot 3.xå’ŒOpenAPI 3.0æ„å»ºçš„è¶…çº§APIæ–‡æ¡£ï¼&quot;</span> +</span><br><span class="line">                                   <span class="string">&quot;\n\n### ä¸»è¦åŠŸèƒ½\n&quot;</span> +</span><br><span class="line">                                   <span class="string">&quot;- ğŸ¯ ç”¨æˆ·ç®¡ç†ï¼šå¢åˆ æ”¹æŸ¥ç”¨æˆ·ä¿¡æ¯\n&quot;</span> +</span><br><span class="line">                                   <span class="string">&quot;- ğŸ“ æ•°æ®éªŒè¯ï¼šå®Œæ•´çš„å‚æ•°æ ¡éªŒ\n&quot;</span> +</span><br><span class="line">                                   <span class="string">&quot;- ğŸ”’ æƒé™æ§åˆ¶ï¼šåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶\n&quot;</span> +</span><br><span class="line">                                   <span class="string">&quot;- ğŸ“Š ç»Ÿè®¡åˆ†æï¼šç”¨æˆ·è¡Œä¸ºæ•°æ®ç»Ÿè®¡\n\n&quot;</span> +</span><br><span class="line">                                   <span class="string">&quot;### æŠ€æœ¯æ ˆ\n&quot;</span> +</span><br><span class="line">                                   <span class="string">&quot;- SpringBoot 3.2.0\n&quot;</span> +</span><br><span class="line">                                   <span class="string">&quot;- OpenAPI 3.0.3\n&quot;</span> +</span><br><span class="line">                                   <span class="string">&quot;- Jakarta Validation\n&quot;</span> +</span><br><span class="line">                                   <span class="string">&quot;- SpringDoc 2.2.0&quot;</span>)</span><br><span class="line">                        .version(<span class="string">&quot;v1.0.0&quot;</span>)</span><br><span class="line">                        .contact(<span class="keyword">new</span> <span class="title class_">Contact</span>()</span><br><span class="line">                                .name(<span class="string">&quot;å¼€å‘å›¢é˜Ÿ&quot;</span>)</span><br><span class="line">                                .email(<span class="string">&quot;dev-team@example.com&quot;</span>)</span><br><span class="line">                                .url(<span class="string">&quot;https://www.example.com&quot;</span>))</span><br><span class="line">                        .license(<span class="keyword">new</span> <span class="title class_">License</span>()</span><br><span class="line">                                .name(<span class="string">&quot;MIT License&quot;</span>)</span><br><span class="line">                                .url(<span class="string">&quot;https://opensource.org/licenses/MIT&quot;</span>)))</span><br><span class="line">                <span class="comment">// è®¾ç½®æœåŠ¡å™¨ä¿¡æ¯</span></span><br><span class="line">                .servers(List.of(</span><br><span class="line">                        <span class="keyword">new</span> <span class="title class_">Server</span>()</span><br><span class="line">                                .url(<span class="string">&quot;http://localhost:8080/api&quot;</span>)</span><br><span class="line">                                .description(<span class="string">&quot;æœ¬åœ°å¼€å‘ç¯å¢ƒ ğŸ &quot;</span>),</span><br><span class="line">                        <span class="keyword">new</span> <span class="title class_">Server</span>()</span><br><span class="line">                                .url(<span class="string">&quot;https://test-api.example.com&quot;</span>)</span><br><span class="line">                                .description(<span class="string">&quot;æµ‹è¯•ç¯å¢ƒ ğŸ§ª&quot;</span>),</span><br><span class="line">                        <span class="keyword">new</span> <span class="title class_">Server</span>()</span><br><span class="line">                                .url(<span class="string">&quot;https://api.example.com&quot;</span>)</span><br><span class="line">                                .description(<span class="string">&quot;ç”Ÿäº§ç¯å¢ƒ ğŸš€&quot;</span>)</span><br><span class="line">                ));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çœ‹åˆ°è¿™ä¸ªé…ç½®ç±»ï¼Œæ˜¯ä¸æ˜¯æ„Ÿè§‰å¾ˆè´´å¿ƒï¼ŸğŸ˜Š æˆ‘ç‰¹æ„åœ¨æè¿°é‡Œç”¨äº†Markdownæ ¼å¼ï¼Œè¿™æ ·ç”Ÿæˆçš„æ–‡æ¡£ä¼šæ›´åŠ ç¾è§‚ï¼è€Œä¸”è¿˜ç”¨äº†emojiï¼Œè®©å†·å†°å†°çš„æŠ€æœ¯æ–‡æ¡£å˜å¾—ç”ŸåŠ¨æœ‰è¶£ã€‚</p><h4 id="åˆ›å»ºç”¨æˆ·å®ä½“ç±»"><a class="markdownIt-Anchor" href="#åˆ›å»ºç”¨æˆ·å®ä½“ç±»"></a> ğŸ‘¤ åˆ›å»ºç”¨æˆ·å®ä½“ç±»</h4><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç”¨æˆ·å®ä½“ç±»ï¼Œè¿™é‡Œå°±èƒ½ä½“ç°OpenAPIçš„å¼ºå¤§ä¹‹å¤„äº†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.annotation.JsonFormat;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.media.Schema;</span><br><span class="line"><span class="keyword">import</span> jakarta.validation.constraints.*;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”¨æˆ·å®ä½“ç±»</span></span><br><span class="line"><span class="comment"> * è¿™ä¸ªç±»ä¸ä»…å®šä¹‰äº†ç”¨æˆ·çš„åŸºæœ¬å±æ€§ï¼Œè¿˜é€šè¿‡æ³¨è§£æè¿°äº†æ¯ä¸ªå­—æ®µçš„å«ä¹‰</span></span><br><span class="line"><span class="comment"> * ç®€ç›´å°±æ˜¯&quot;äººå¦‚å…¶å&quot;çš„å®Œç¾ä½“ç°ï¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Schema(name = &quot;User&quot;, description = &quot;ç”¨æˆ·ä¿¡æ¯å®ä½“ç±»&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;ç”¨æˆ·IDï¼Œç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆ&quot;, </span></span><br><span class="line"><span class="meta">            example = &quot;1001&quot;, </span></span><br><span class="line"><span class="meta">            accessMode = Schema.AccessMode.READ_ONLY)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;ç”¨æˆ·åï¼Œå¿…é¡»å”¯ä¸€&quot;, </span></span><br><span class="line"><span class="meta">            example = &quot;zhangsan&quot;, </span></span><br><span class="line"><span class="meta">            requiredMode = Schema.RequiredMode.REQUIRED)</span></span><br><span class="line">    <span class="meta">@NotBlank(message = &quot;ç”¨æˆ·åä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="meta">@Size(min = 3, max = 20, message = &quot;ç”¨æˆ·åé•¿åº¦å¿…é¡»åœ¨3-20å­—ç¬¦ä¹‹é—´&quot;)</span></span><br><span class="line">    <span class="meta">@Pattern(regexp = &quot;^[a-zA-Z0-9_]+$&quot;, </span></span><br><span class="line"><span class="meta">             message = &quot;ç”¨æˆ·ååªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;ç”¨æˆ·æ˜µç§°&quot;, </span></span><br><span class="line"><span class="meta">            example = &quot;å¼ ä¸‰&quot;)</span></span><br><span class="line">    <span class="meta">@Size(max = 50, message = &quot;æ˜µç§°é•¿åº¦ä¸èƒ½è¶…è¿‡50å­—ç¬¦&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String nickname;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;é‚®ç®±åœ°å€&quot;, </span></span><br><span class="line"><span class="meta">            example = &quot;zhangsan@example.com&quot;,</span></span><br><span class="line"><span class="meta">            requiredMode = Schema.RequiredMode.REQUIRED)</span></span><br><span class="line">    <span class="meta">@NotBlank(message = &quot;é‚®ç®±ä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="meta">@Email(message = &quot;é‚®ç®±æ ¼å¼ä¸æ­£ç¡®&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;æ‰‹æœºå·ç &quot;, </span></span><br><span class="line"><span class="meta">            example = &quot;13812345678&quot;)</span></span><br><span class="line">    <span class="meta">@Pattern(regexp = &quot;^1[3-9]\\d&#123;9&#125;$&quot;, </span></span><br><span class="line"><span class="meta">             message = &quot;æ‰‹æœºå·ç æ ¼å¼ä¸æ­£ç¡®&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;ç”¨æˆ·å¹´é¾„&quot;, </span></span><br><span class="line"><span class="meta">            example = &quot;25&quot;, </span></span><br><span class="line"><span class="meta">            minimum = &quot;1&quot;, </span></span><br><span class="line"><span class="meta">            maximum = &quot;150&quot;)</span></span><br><span class="line">    <span class="meta">@Min(value = 1, message = &quot;å¹´é¾„å¿…é¡»å¤§äº0&quot;)</span></span><br><span class="line">    <span class="meta">@Max(value = 150, message = &quot;å¹´é¾„ä¸èƒ½è¶…è¿‡150&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;ç”¨æˆ·æ€§åˆ«&quot;, </span></span><br><span class="line"><span class="meta">            example = &quot;MALE&quot;, </span></span><br><span class="line"><span class="meta">            allowableValues = &#123;&quot;MALE&quot;, &quot;FEMALE&quot;, &quot;UNKNOWN&quot;&#125;)</span></span><br><span class="line">    <span class="keyword">private</span> Gender gender;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;ç”¨æˆ·çŠ¶æ€&quot;, </span></span><br><span class="line"><span class="meta">            example = &quot;ACTIVE&quot;,</span></span><br><span class="line"><span class="meta">            allowableValues = &#123;&quot;ACTIVE&quot;, &quot;INACTIVE&quot;, &quot;BANNED&quot;&#125;)</span></span><br><span class="line">    <span class="keyword">private</span> UserStatus status;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;åˆ›å»ºæ—¶é—´&quot;, </span></span><br><span class="line"><span class="meta">            example = &quot;2024-01-01 12:00:00&quot;,</span></span><br><span class="line"><span class="meta">            accessMode = Schema.AccessMode.READ_ONLY)</span></span><br><span class="line">    <span class="meta">@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;æœ€åæ›´æ–°æ—¶é—´&quot;, </span></span><br><span class="line"><span class="meta">            example = &quot;2024-01-01 12:00:00&quot;,</span></span><br><span class="line"><span class="meta">            accessMode = Schema.AccessMode.READ_ONLY)</span></span><br><span class="line">    <span class="meta">@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime updateTime;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æšä¸¾ç±»å®šä¹‰</span></span><br><span class="line">    <span class="meta">@Schema(description = &quot;æ€§åˆ«æšä¸¾&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">Gender</span> &#123;</span><br><span class="line">        <span class="meta">@Schema(description = &quot;ç”·æ€§&quot;)</span></span><br><span class="line">        MALE,</span><br><span class="line">        <span class="meta">@Schema(description = &quot;å¥³æ€§&quot;)</span> </span><br><span class="line">        FEMALE,</span><br><span class="line">        <span class="meta">@Schema(description = &quot;æœªçŸ¥&quot;)</span></span><br><span class="line">        UNKNOWN</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;ç”¨æˆ·çŠ¶æ€æšä¸¾&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">UserStatus</span> &#123;</span><br><span class="line">        <span class="meta">@Schema(description = &quot;æ­£å¸¸çŠ¶æ€&quot;)</span></span><br><span class="line">        ACTIVE,</span><br><span class="line">        <span class="meta">@Schema(description = &quot;éæ´»è·ƒçŠ¶æ€&quot;)</span></span><br><span class="line">        INACTIVE,</span><br><span class="line">        <span class="meta">@Schema(description = &quot;è¢«å°ç¦çŠ¶æ€&quot;)</span></span><br><span class="line">        BANNED</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°ã€getterã€setteræ–¹æ³•...</span></span><br><span class="line">    <span class="comment">// è¿™é‡Œçœç•¥äº†è¿™äº›æ–¹æ³•ï¼Œå®é™…å¼€å‘ä¸­è®°å¾—åŠ ä¸Šå“¦ï¼</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(String username, String email)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.username = username;</span><br><span class="line">        <span class="built_in">this</span>.email = email;</span><br><span class="line">        <span class="built_in">this</span>.status = UserStatus.ACTIVE;</span><br><span class="line">        <span class="built_in">this</span>.createTime = LocalDateTime.now();</span><br><span class="line">        <span class="built_in">this</span>.updateTime = LocalDateTime.now();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// getter and setter methods...</span></span><br><span class="line">    <span class="keyword">public</span> Long <span class="title function_">getId</span><span class="params">()</span> &#123; <span class="keyword">return</span> id; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(Long id)</span> &#123; <span class="built_in">this</span>.id = id; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUsername</span><span class="params">()</span> &#123; <span class="keyword">return</span> username; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUsername</span><span class="params">(String username)</span> &#123; <span class="built_in">this</span>.username = username; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getNickname</span><span class="params">()</span> &#123; <span class="keyword">return</span> nickname; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setNickname</span><span class="params">(String nickname)</span> &#123; <span class="built_in">this</span>.nickname = nickname; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getEmail</span><span class="params">()</span> &#123; <span class="keyword">return</span> email; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setEmail</span><span class="params">(String email)</span> &#123; <span class="built_in">this</span>.email = email; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPhone</span><span class="params">()</span> &#123; <span class="keyword">return</span> phone; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPhone</span><span class="params">(String phone)</span> &#123; <span class="built_in">this</span>.phone = phone; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getAge</span><span class="params">()</span> &#123; <span class="keyword">return</span> age; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(Integer age)</span> &#123; <span class="built_in">this</span>.age = age; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> Gender <span class="title function_">getGender</span><span class="params">()</span> &#123; <span class="keyword">return</span> gender; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setGender</span><span class="params">(Gender gender)</span> &#123; <span class="built_in">this</span>.gender = gender; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> UserStatus <span class="title function_">getStatus</span><span class="params">()</span> &#123; <span class="keyword">return</span> status; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setStatus</span><span class="params">(UserStatus status)</span> &#123; <span class="built_in">this</span>.status = status; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> LocalDateTime <span class="title function_">getCreateTime</span><span class="params">()</span> &#123; <span class="keyword">return</span> createTime; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCreateTime</span><span class="params">(LocalDateTime createTime)</span> &#123; <span class="built_in">this</span>.createTime = createTime; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> LocalDateTime <span class="title function_">getUpdateTime</span><span class="params">()</span> &#123; <span class="keyword">return</span> updateTime; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUpdateTime</span><span class="params">(LocalDateTime updateTime)</span> &#123; <span class="built_in">this</span>.updateTime = updateTime; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å“‡ï¼Œè¿™ä¸ªå®ä½“ç±»æ˜¯ä¸æ˜¯å¾ˆä¸°å¯Œï¼ŸğŸ˜ é€šè¿‡<code>@Schema</code>æ³¨è§£ï¼Œæˆ‘ä»¬ä¸ä»…æè¿°äº†æ¯ä¸ªå­—æ®µçš„å«ä¹‰ï¼Œè¿˜æä¾›äº†ç¤ºä¾‹å€¼ã€éªŒè¯è§„åˆ™ç­‰ä¿¡æ¯ã€‚è¿™æ ·ç”Ÿæˆçš„APIæ–‡æ¡£å°±ä¼šéå¸¸è¯¦ç»†å’Œå‹å¥½ï¼</p><h4 id="ï¸-åˆ›å»ºé€šç”¨å“åº”ç±»"><a class="markdownIt-Anchor" href="#ï¸-åˆ›å»ºé€šç”¨å“åº”ç±»"></a> ğŸ›ï¸ åˆ›å»ºé€šç”¨å“åº”ç±»</h4><p>ä¸ºäº†è®©APIå“åº”æ›´åŠ è§„èŒƒï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªé€šç”¨çš„å“åº”åŒ…è£…ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.common;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.media.Schema;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.annotation.JsonFormat;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç»Ÿä¸€å“åº”ç»“æœå°è£…ç±»</span></span><br><span class="line"><span class="comment"> * è¿™ä¸ªç±»å°±åƒæ˜¯ç»™æ‰€æœ‰APIå“åº”ç©¿äº†ä¸€å¥—ç»Ÿä¸€çš„&quot;åˆ¶æœ&quot;ï¼Œè®©å®ƒä»¬çœ‹èµ·æ¥æ•´æ•´é½é½çš„ï¼</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &lt;T&gt; å“åº”æ•°æ®çš„ç±»å‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Schema(name = &quot;ApiResponse&quot;, description = &quot;ç»Ÿä¸€å“åº”ç»“æœ&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ApiResponse</span>&lt;T&gt; &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;å“åº”çŠ¶æ€ç &quot;, example = &quot;200&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer code;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;å“åº”æ¶ˆæ¯&quot;, example = &quot;æ“ä½œæˆåŠŸ&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;å“åº”æ•°æ®&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> T data;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;å“åº”æ—¶é—´&quot;, example = &quot;2024-01-01 12:00:00&quot;)</span></span><br><span class="line">    <span class="meta">@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime timestamp;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç§æœ‰æ„é€ å‡½æ•°ï¼Œé€šè¿‡é™æ€æ–¹æ³•åˆ›å»ºå®ä¾‹</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">ApiResponse</span><span class="params">(Integer code, String message, T data)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">        <span class="built_in">this</span>.message = message;</span><br><span class="line">        <span class="built_in">this</span>.data = data;</span><br><span class="line">        <span class="built_in">this</span>.timestamp = LocalDateTime.now();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ›å»ºæˆåŠŸå“åº”</span></span><br><span class="line"><span class="comment">     * è¿™ä¸ªæ–¹æ³•å°±åƒæ˜¯åœ¨è¯´ï¼š&quot;è€¶ï¼ä¸€åˆ‡éƒ½å¾ˆé¡ºåˆ©ï¼&quot;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; ApiResponse&lt;T&gt; <span class="title function_">success</span><span class="params">(T data)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ApiResponse</span>&lt;&gt;(<span class="number">200</span>, <span class="string">&quot;æ“ä½œæˆåŠŸ&quot;</span>, data);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; ApiResponse&lt;T&gt; <span class="title function_">success</span><span class="params">(String message, T data)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ApiResponse</span>&lt;&gt;(<span class="number">200</span>, message, data);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ›å»ºå¤±è´¥å“åº”</span></span><br><span class="line"><span class="comment">     * è¿™ä¸ªæ–¹æ³•å°±åƒæ˜¯åœ¨è¯´ï¼š&quot;å“å‘€ï¼Œå‡ºäº†ç‚¹å°é—®é¢˜...&quot;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; ApiResponse&lt;T&gt; <span class="title function_">error</span><span class="params">(Integer code, String message)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ApiResponse</span>&lt;&gt;(code, message, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; ApiResponse&lt;T&gt; <span class="title function_">error</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ApiResponse</span>&lt;&gt;(<span class="number">500</span>, message, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‚æ•°éªŒè¯å¤±è´¥å“åº”</span></span><br><span class="line"><span class="comment">     * ä¸“é—¨å¤„ç†é‚£äº›&quot;ä¸å¬è¯&quot;çš„å‚æ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; ApiResponse&lt;T&gt; <span class="title function_">badRequest</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ApiResponse</span>&lt;&gt;(<span class="number">400</span>, message, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * èµ„æºæœªæ‰¾åˆ°å“åº”</span></span><br><span class="line"><span class="comment">     * å½“ä½ è¦æ‰¾çš„ä¸œè¥¿&quot;äººé—´è’¸å‘&quot;äº†çš„æ—¶å€™ç”¨è¿™ä¸ª</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; ApiResponse&lt;T&gt; <span class="title function_">notFound</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ApiResponse</span>&lt;&gt;(<span class="number">404</span>, message, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// getter methods</span></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getCode</span><span class="params">()</span> &#123; <span class="keyword">return</span> code; &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMessage</span><span class="params">()</span> &#123; <span class="keyword">return</span> message; &#125;</span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">getData</span><span class="params">()</span> &#123; <span class="keyword">return</span> data; &#125;</span><br><span class="line">    <span class="keyword">public</span> LocalDateTime <span class="title function_">getTimestamp</span><span class="params">()</span> &#123; <span class="keyword">return</span> timestamp; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦æˆåŠŸçš„ä¾¿åˆ©æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSuccess</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> code != <span class="literal">null</span> &amp;&amp; code == <span class="number">200</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå“åº”ç±»è®¾è®¡å¾—è¿˜ä¸é”™å§ï¼ŸğŸ˜ å®ƒä¸ä»…æä¾›äº†ç»Ÿä¸€çš„å“åº”æ ¼å¼ï¼Œè¿˜é€šè¿‡é™æ€æ–¹æ³•è®©åˆ›å»ºå“åº”å˜å¾—è¶…çº§ç®€å•ï¼</p><h3 id="å®šåˆ¶åŒ–é…ç½®è®©æ–‡æ¡£æ›´è´´å¿ƒ"><a class="markdownIt-Anchor" href="#å®šåˆ¶åŒ–é…ç½®è®©æ–‡æ¡£æ›´è´´å¿ƒ"></a> ğŸ¨ å®šåˆ¶åŒ–é…ç½®ï¼šè®©æ–‡æ¡£æ›´è´´å¿ƒ</h3><p>ç°åœ¨æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ç”¨æˆ·æ§åˆ¶å™¨ï¼Œè¿™é‡Œå¯æ˜¯å±•ç°OpenAPIå¨åŠ›çš„åœ°æ–¹ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.common.ApiResponse;</span><br><span class="line"><span class="keyword">import</span> com.example.entity.User;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.Operation;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.Parameter;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.Parameters;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.enums.ParameterIn;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.media.Content;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.media.ExampleObject;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.media.Schema;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.responses.ApiResponses;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.responses.ApiResponse as SwaggerApiResponse;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.tags.Tag;</span><br><span class="line"><span class="keyword">import</span> jakarta.validation.Valid;</span><br><span class="line"><span class="keyword">import</span> jakarta.validation.constraints.Min;</span><br><span class="line"><span class="keyword">import</span> jakarta.validation.constraints.NotNull;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.HttpStatus;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.ResponseEntity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.validation.annotation.Validated;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Optional;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”¨æˆ·ç®¡ç†æ§åˆ¶å™¨</span></span><br><span class="line"><span class="comment"> * è¿™ä¸ªæ§åˆ¶å™¨å°±åƒæ˜¯ä¸€ä¸ªç”¨æˆ·ç®¡ç†çš„&quot;å¤§ç®¡å®¶&quot;ï¼Œè´Ÿè´£å¤„ç†æ‰€æœ‰ç”¨æˆ·ç›¸å…³çš„è¯·æ±‚</span></span><br><span class="line"><span class="comment"> * æ¯ä¸ªæ–¹æ³•éƒ½ç»è¿‡ç²¾å¿ƒè®¾è®¡ï¼Œè®©APIæ–‡æ¡£å˜å¾—è¶…çº§å‹å¥½ï¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/users&quot;)</span></span><br><span class="line"><span class="meta">@Tag(name = &quot;ç”¨æˆ·ç®¡ç†&quot;, description = &quot;æä¾›ç”¨æˆ·çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½ï¼Œæ”¯æŒæ‰¹é‡æ“ä½œå’Œé«˜çº§æŸ¥è¯¢ ğŸ¯&quot;)</span></span><br><span class="line"><span class="meta">@Validated</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ¨¡æ‹Ÿæ•°æ®åº“ï¼Œå®é™…é¡¹ç›®ä¸­åº”è¯¥æ³¨å…¥Service</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> List&lt;User&gt; userDatabase = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Long</span> <span class="variable">idCounter</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–ä¸€äº›æµ‹è¯•æ•°æ®</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UserController</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// æ·»åŠ ä¸€äº›æµ‹è¯•æ•°æ®ï¼Œè®©æ–‡æ¡£æ¼”ç¤ºæ›´ç”ŸåŠ¨</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;admin&quot;</span>, <span class="string">&quot;admin@example.com&quot;</span>);</span><br><span class="line">        user1.setId(idCounter++);</span><br><span class="line">        user1.setNickname(<span class="string">&quot;è¶…çº§ç®¡ç†å‘˜&quot;</span>);</span><br><span class="line">        user1.setAge(<span class="number">30</span>);</span><br><span class="line">        user1.setGender(User.Gender.MALE);</span><br><span class="line">        user1.setPhone(<span class="string">&quot;13812345678&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="type">User</span> <span class="variable">user2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;alice&quot;</span>, <span class="string">&quot;alice@example.com&quot;</span>);</span><br><span class="line">        user2.setId(idCounter++);</span><br><span class="line">        user2.setNickname(<span class="string">&quot;å°çˆ±åŒå­¦&quot;</span>);</span><br><span class="line">        user2.setAge(<span class="number">25</span>);</span><br><span class="line">        user2.setGender(User.Gender.FEMALE);</span><br><span class="line">        user2.setPhone(<span class="string">&quot;13987654321&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        userDatabase.add(user1);</span><br><span class="line">        userDatabase.add(user2);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–ç”¨æˆ·åˆ—è¡¨</span></span><br><span class="line"><span class="comment">     * è¿™ä¸ªæ¥å£æ”¯æŒåˆ†é¡µå’Œæœç´¢ï¼ŒåŠŸèƒ½å¾ˆå¼ºå¤§å“¦ï¼</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="meta">@Operation(</span></span><br><span class="line"><span class="meta">            summary = &quot;è·å–ç”¨æˆ·åˆ—è¡¨&quot;,</span></span><br><span class="line"><span class="meta">            description = &quot;æ”¯æŒåˆ†é¡µæŸ¥è¯¢å’Œå…³é”®å­—æœç´¢çš„ç”¨æˆ·åˆ—è¡¨æ¥å£ã€‚&quot; +</span></span><br><span class="line"><span class="meta">                         &quot;\n\n**åŠŸèƒ½ç‰¹ç‚¹ï¼š**\n&quot; +</span></span><br><span class="line"><span class="meta">                         &quot;- ğŸ” æ”¯æŒç”¨æˆ·åå’Œæ˜µç§°æ¨¡ç³Šæœç´¢\n&quot; +</span></span><br><span class="line"><span class="meta">                         &quot;- ğŸ“„ æ”¯æŒåˆ†é¡µæŸ¥è¯¢ï¼Œé¿å…æ•°æ®é‡è¿‡å¤§\n&quot; +</span></span><br><span class="line"><span class="meta">                         &quot;- âš¡ æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–ï¼Œå“åº”é€Ÿåº¦å¿«\n&quot; +</span></span><br><span class="line"><span class="meta">                         &quot;- ğŸ“Š è¿”å›æ€»æ•°ä¿¡æ¯ï¼Œæ–¹ä¾¿å‰ç«¯åˆ†é¡µå¤„ç†&quot;,</span></span><br><span class="line"><span class="meta">            tags = &#123;&quot;ç”¨æˆ·æŸ¥è¯¢&quot;&#125;</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="meta">@Parameters(&#123;</span></span><br><span class="line"><span class="meta">            @Parameter(</span></span><br><span class="line"><span class="meta">                    name = &quot;page&quot;,</span></span><br><span class="line"><span class="meta">                    description = &quot;é¡µç ï¼Œä»1å¼€å§‹&quot;,</span></span><br><span class="line"><span class="meta">                    example = &quot;1&quot;,</span></span><br><span class="line"><span class="meta">                    in = ParameterIn.QUERY,</span></span><br><span class="line"><span class="meta">                    schema = @Schema(type = &quot;integer&quot;, minimum = &quot;1&quot;, defaultValue = &quot;1&quot;)</span></span><br><span class="line"><span class="meta">            ),</span></span><br><span class="line"><span class="meta">            @Parameter(</span></span><br><span class="line"><span class="meta">                    name = &quot;size&quot;, </span></span><br><span class="line"><span class="meta">                    description = &quot;æ¯é¡µå¤§å°ï¼Œæœ€å¤§100&quot;,</span></span><br><span class="line"><span class="meta">                    example = &quot;10&quot;,</span></span><br><span class="line"><span class="meta">                    in = ParameterIn.QUERY,</span></span><br><span class="line"><span class="meta">                    schema = @Schema(type = &quot;integer&quot;, minimum = &quot;1&quot;, maximum = &quot;100&quot;, defaultValue = &quot;10&quot;)</span></span><br><span class="line"><span class="meta">            ),</span></span><br><span class="line"><span class="meta">            @Parameter(</span></span><br><span class="line"><span class="meta">                    name = &quot;keyword&quot;,</span></span><br><span class="line"><span class="meta">                    description = &quot;æœç´¢å…³é”®å­—ï¼Œæ”¯æŒç”¨æˆ·åå’Œæ˜µç§°æ¨¡ç³Šæœç´¢&quot;,</span></span><br><span class="line"><span class="meta">                    example = &quot;å¼ ä¸‰&quot;,</span></span><br><span class="line"><span class="meta">                    in = ParameterIn.QUERY,</span></span><br><span class="line"><span class="meta">                    schema = @Schema(type = &quot;string&quot;)</span></span><br><span class="line"><span class="meta">            )</span></span><br><span class="line"><span class="meta">    &#125;)</span></span><br><span class="line">    <span class="meta">@ApiResponses(&#123;</span></span><br><span class="line"><span class="meta">            @SwaggerApiResponse(</span></span><br><span class="line"><span class="meta">                    responseCode = &quot;200&quot;,</span></span><br><span class="line"><span class="meta">                    description = &quot;æŸ¥è¯¢æˆåŠŸ&quot;,</span></span><br><span class="line"><span class="meta">                    content = @Content(</span></span><br><span class="line"><span class="meta">                            mediaType = &quot;application/json&quot;,</span></span><br><span class="line"><span class="meta">                            schema = @Schema(implementation = ApiResponse.class),</span></span><br><span class="line"><span class="meta">                            examples = @ExampleObject(</span></span><br><span class="line"><span class="meta">                                    name = &quot;æˆåŠŸç¤ºä¾‹&quot;,</span></span><br><span class="line"><span class="meta">                                    summary = &quot;æŸ¥è¯¢æˆåŠŸçš„å“åº”ç¤ºä¾‹&quot;,</span></span><br><span class="line"><span class="meta">                                    value = &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                                            &#123;</span></span><br><span class="line"><span class="meta">                                              &quot;code&quot;: 200,</span></span><br><span class="line"><span class="meta">                                              &quot;message&quot;: &quot;æŸ¥è¯¢æˆåŠŸ&quot;,</span></span><br><span class="line"><span class="meta">                                              &quot;data&quot;: &#123;</span></span><br><span class="line"><span class="meta">                                                &quot;list&quot;: [</span></span><br><span class="line"><span class="meta">                                                  &#123;</span></span><br><span class="line"><span class="meta">                                                    &quot;id&quot;: 1,</span></span><br><span class="line"><span class="meta">                                                    &quot;username&quot;: &quot;admin&quot;,</span></span><br><span class="line"><span class="meta">                                                    &quot;nickname&quot;: &quot;è¶…çº§ç®¡ç†å‘˜&quot;,</span></span><br><span class="line"><span class="meta">                                                    &quot;email&quot;: &quot;admin@example.com&quot;,</span></span><br><span class="line"><span class="meta">                                                    &quot;age&quot;: 30,</span></span><br><span class="line"><span class="meta">                                                    &quot;gender&quot;: &quot;MALE&quot;,</span></span><br><span class="line"><span class="meta">                                                    &quot;status&quot;: &quot;ACTIVE&quot;,</span></span><br><span class="line"><span class="meta">                                                    &quot;createTime&quot;: &quot;2024-01-01 12:00:00&quot;</span></span><br><span class="line"><span class="meta">                                                  &#125;</span></span><br><span class="line"><span class="meta">                                                ],</span></span><br><span class="line"><span class="meta">                                                &quot;total&quot;: 1,</span></span><br><span class="line"><span class="meta">                                                &quot;page&quot;: 1,</span></span><br><span class="line"><span class="meta">                                                &quot;size&quot;: 10</span></span><br><span class="line"><span class="meta">                                              &#125;,</span></span><br><span class="line"><span class="meta">                                              &quot;timestamp&quot;: &quot;2024-01-01 12:00:00&quot;</span></span><br><span class="line"><span class="meta">                                            &#125;</span></span><br><span class="line"><span class="meta">                                            &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                            )</span></span><br><span class="line"><span class="meta">                    )</span></span><br><span class="line"><span class="meta">            ),</span></span><br><span class="line"><span class="meta">            @SwaggerApiResponse(</span></span><br><span class="line"><span class="meta">                    responseCode = &quot;400&quot;,</span></span><br><span class="line"><span class="meta">                    description = &quot;å‚æ•°é”™è¯¯&quot;,</span></span><br><span class="line"><span class="meta">                    content = @Content(</span></span><br><span class="line"><span class="meta">                            mediaType = &quot;application/json&quot;,</span></span><br><span class="line"><span class="meta">                            schema = @Schema(implementation = ApiResponse.class)</span></span><br><span class="line"><span class="meta">                    )</span></span><br><span class="line"><span class="meta">            )</span></span><br><span class="line"><span class="meta">    &#125;)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;ApiResponse&lt;PageResult&lt;User&gt;&gt;&gt; <span class="title function_">getUsers</span><span class="params">(</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(defaultValue = &quot;1&quot;)</span> <span class="meta">@Min(value = 1, message = &quot;é¡µç å¿…é¡»å¤§äº0&quot;)</span> Integer page,</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(defaultValue = &quot;10&quot;)</span> <span class="meta">@Min(value = 1, message = &quot;é¡µå¤§å°å¿…é¡»å¤§äº0&quot;)</span> Integer size,</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(required = false)</span> String keyword)</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿåˆ†é¡µæŸ¥è¯¢é€»è¾‘</span></span><br><span class="line">        List&lt;User&gt; filteredUsers = userDatabase;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// å…³é”®å­—æœç´¢</span></span><br><span class="line">        <span class="keyword">if</span> (keyword != <span class="literal">null</span> &amp;&amp; !keyword.trim().isEmpty()) &#123;</span><br><span class="line">            filteredUsers = userDatabase.stream()</span><br><span class="line">                    .filter(user -&gt; user.getUsername().contains(keyword) || </span><br><span class="line">                                   (user.getNickname() != <span class="literal">null</span> &amp;&amp; user.getNickname().contains(keyword)))</span><br><span class="line">                    .toList();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆ†é¡µå¤„ç†</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> (page - <span class="number">1</span>) * size;</span><br><span class="line">        <span class="type">int</span> <span class="variable">end</span> <span class="operator">=</span> Math.min(start + size, filteredUsers.size());</span><br><span class="line">        List&lt;User&gt; pagedUsers = filteredUsers.subList(start, end);</span><br><span class="line">        </span><br><span class="line">        PageResult&lt;User&gt; result = <span class="keyword">new</span> <span class="title class_">PageResult</span>&lt;&gt;(pagedUsers, (<span class="type">long</span>) filteredUsers.size(), page, size);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok(ApiResponse.success(<span class="string">&quot;æŸ¥è¯¢æˆåŠŸ&quot;</span>, result));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®IDè·å–ç”¨æˆ·è¯¦æƒ…</span></span><br><span class="line"><span class="comment">     * é€šè¿‡ç”¨æˆ·IDè·å–è¯¦ç»†ä¿¡æ¯ï¼Œæ‰¾ä¸åˆ°ä¼šè¿”å›404</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="meta">@Operation(</span></span><br><span class="line"><span class="meta">            summary = &quot;è·å–ç”¨æˆ·è¯¦æƒ…&quot;,</span></span><br><span class="line"><span class="meta">            description = &quot;æ ¹æ®ç”¨æˆ·IDè·å–ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ã€‚\n\n&quot; +</span></span><br><span class="line"><span class="meta">                         &quot;**æ³¨æ„äº‹é¡¹ï¼š**\n&quot; +</span></span><br><span class="line"><span class="meta">                         &quot;- ç”¨æˆ·IDå¿…é¡»æ˜¯æœ‰æ•ˆçš„æ­£æ•´æ•°\n&quot; +</span></span><br><span class="line"><span class="meta">                         &quot;- å¦‚æœç”¨æˆ·ä¸å­˜åœ¨ï¼Œä¼šè¿”å›404é”™è¯¯\n&quot; +</span></span><br><span class="line"><span class="meta">                         &quot;- è¿”å›çš„æ•°æ®åŒ…å«ç”¨æˆ·çš„æ‰€æœ‰å¯è§å­—æ®µ&quot;,</span></span><br><span class="line"><span class="meta">            tags = &#123;&quot;ç”¨æˆ·æŸ¥è¯¢&quot;&#125;</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="meta">@Parameter(</span></span><br><span class="line"><span class="meta">            name = &quot;id&quot;,</span></span><br><span class="line"><span class="meta">            description = &quot;ç”¨æˆ·ID&quot;,</span></span><br><span class="line"><span class="meta">            example = &quot;1&quot;,</span></span><br><span class="line"><span class="meta">            required = true,</span></span><br><span class="line"><span class="meta">            in = ParameterIn.PATH,</span></span><br><span class="line"><span class="meta">            schema = @Schema(type = &quot;integer&quot;, format = &quot;int64&quot;, minimum = &quot;1&quot;)</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="meta">@ApiResponses(&#123;</span></span><br><span class="line"><span class="meta">            @SwaggerApiResponse(</span></span><br><span class="line"><span class="meta">                    responseCode = &quot;200&quot;,</span></span><br><span class="line"><span class="meta">                    description = &quot;è·å–æˆåŠŸ&quot;,</span></span><br><span class="line"><span class="meta">                    content = @Content(</span></span><br><span class="line"><span class="meta">                            mediaType = &quot;application/json&quot;,</span></span><br><span class="line"><span class="meta">                            schema = @Schema(implementation = ApiResponse.class),</span></span><br><span class="line"><span class="meta">                            examples = @ExampleObject(</span></span><br><span class="line"><span class="meta">                                    name = &quot;ç”¨æˆ·è¯¦æƒ…&quot;,</span></span><br><span class="line"><span class="meta">                                    value = &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                                            &#123;</span></span><br><span class="line"><span class="meta">                                              &quot;code&quot;: 200,</span></span><br><span class="line"><span class="meta">                                              &quot;message&quot;: &quot;è·å–æˆåŠŸ&quot;,</span></span><br><span class="line"><span class="meta">                                              &quot;data&quot;: &#123;</span></span><br><span class="line"><span class="meta">                                                &quot;id&quot;: 1,</span></span><br><span class="line"><span class="meta">                                                &quot;username&quot;: &quot;admin&quot;,</span></span><br><span class="line"><span class="meta">                                                &quot;nickname&quot;: &quot;è¶…çº§ç®¡ç†å‘˜&quot;,</span></span><br><span class="line"><span class="meta">                                                &quot;email&quot;: &quot;admin@example.com&quot;,</span></span><br><span class="line"><span class="meta">                                                &quot;phone&quot;: &quot;13812345678&quot;,</span></span><br><span class="line"><span class="meta">                                                &quot;age&quot;: 30,</span></span><br><span class="line"><span class="meta">                                                &quot;gender&quot;: &quot;MALE&quot;,</span></span><br><span class="line"><span class="meta">                                                &quot;status&quot;: &quot;ACTIVE&quot;,</span></span><br><span class="line"><span class="meta">                                                &quot;createTime&quot;: &quot;2024-01-01 12:00:00&quot;,</span></span><br><span class="line"><span class="meta">                                                &quot;updateTime&quot;: &quot;2024-01-01 12:00:00&quot;</span></span><br><span class="line"><span class="meta">                                              &#125;,</span></span><br><span class="line"><span class="meta">                                              &quot;timestamp&quot;: &quot;2024-01-01 12:00:00&quot;</span></span><br><span class="line"><span class="meta">                                            &#125;</span></span><br><span class="line"><span class="meta">                                            &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                            )</span></span><br><span class="line"><span class="meta">                    )</span></span><br><span class="line"><span class="meta">            ),</span></span><br><span class="line"><span class="meta">            @SwaggerApiResponse(</span></span><br><span class="line"><span class="meta">                    responseCode = &quot;404&quot;,</span></span><br><span class="line"><span class="meta">                    description = &quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;,</span></span><br><span class="line"><span class="meta">                    content = @Content(</span></span><br><span class="line"><span class="meta">                            mediaType = &quot;application/json&quot;,</span></span><br><span class="line"><span class="meta">                            examples = @ExampleObject(</span></span><br><span class="line"><span class="meta">                                    value = &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                                            &#123;</span></span><br><span class="line"><span class="meta">                                              &quot;code&quot;: 404,</span></span><br><span class="line"><span class="meta">                                              &quot;message&quot;: &quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;,</span></span><br><span class="line"><span class="meta">                                              &quot;data&quot;: null,</span></span><br><span class="line"><span class="meta">                                              &quot;timestamp&quot;: &quot;2024-01-01 12:00:00&quot;</span></span><br><span class="line"><span class="meta">                                            &#125;</span></span><br><span class="line"><span class="meta">                                            &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                            )</span></span><br><span class="line"><span class="meta">                    )</span></span><br><span class="line"><span class="meta">            )</span></span><br><span class="line"><span class="meta">    &#125;)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;ApiResponse&lt;User&gt;&gt; <span class="title function_">getUserById</span><span class="params">(</span></span><br><span class="line"><span class="params">            <span class="meta">@PathVariable</span> <span class="meta">@NotNull(message = &quot;ç”¨æˆ·IDä¸èƒ½ä¸ºç©º&quot;)</span> Long id)</span> &#123;</span><br><span class="line">        </span><br><span class="line">        Optional&lt;User&gt; userOpt = userDatabase.stream()</span><br><span class="line">                .filter(user -&gt; user.getId().equals(id))</span><br><span class="line">                .findFirst();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (userOpt.isPresent()) &#123;</span><br><span class="line">            <span class="keyword">return</span> ResponseEntity.ok(ApiResponse.success(<span class="string">&quot;è·å–æˆåŠŸ&quot;</span>, userOpt.get()));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> ResponseEntity.status(HttpStatus.NOT_FOUND)</span><br><span class="line">                    .body(ApiResponse.notFound(<span class="string">&quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ›å»ºæ–°ç”¨æˆ·</span></span><br><span class="line"><span class="comment">     * è¿™ä¸ªæ¥å£å¯ä»¥åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„ç”¨æˆ·ï¼Œæ”¯æŒå®Œæ•´çš„æ•°æ®éªŒè¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="meta">@Operation(</span></span><br><span class="line"><span class="meta">            summary = &quot;åˆ›å»ºç”¨æˆ·&quot;,</span></span><br><span class="line"><span class="meta">            description = &quot;åˆ›å»ºä¸€ä¸ªæ–°çš„ç”¨æˆ·è´¦æˆ·ã€‚\n\n&quot; +</span></span><br><span class="line"><span class="meta">                         &quot;**éªŒè¯è§„åˆ™ï¼š**\n&quot; +</span></span><br><span class="line"><span class="meta">                         &quot;- ç”¨æˆ·åï¼š3-20å­—ç¬¦ï¼Œåªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿\n&quot; +</span></span><br><span class="line"><span class="meta">                         &quot;- é‚®ç®±ï¼šå¿…é¡»æ˜¯æœ‰æ•ˆçš„é‚®ç®±æ ¼å¼\n&quot; +</span></span><br><span class="line"><span class="meta">                         &quot;- æ‰‹æœºå·ï¼šç¬¦åˆä¸­å›½å¤§é™†æ‰‹æœºå·æ ¼å¼\n&quot; +</span></span><br><span class="line"><span class="meta">                         &quot;- å¹´é¾„ï¼š1-150ä¹‹é—´çš„æ•´æ•°\n\n&quot; +</span></span><br><span class="line"><span class="meta">                         &quot;**æ³¨æ„ï¼š**\n&quot; +</span></span><br><span class="line"><span class="meta">                         &quot;- ç”¨æˆ·åå’Œé‚®ç®±å¿…é¡»å”¯ä¸€\n&quot; +</span></span><br><span class="line"><span class="meta">                         &quot;- åˆ›å»ºæˆåŠŸåä¼šè‡ªåŠ¨è®¾ç½®ä¸ºACTIVEçŠ¶æ€\n&quot; +</span></span><br><span class="line"><span class="meta">                         &quot;- ç³»ç»Ÿä¼šè‡ªåŠ¨è®¾ç½®åˆ›å»ºæ—¶é—´å’Œæ›´æ–°æ—¶é—´&quot;,</span></span><br><span class="line"><span class="meta">            tags = &#123;&quot;ç”¨æˆ·ç®¡ç†&quot;&#125;</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="meta">@io</span>.swagger.v3.oas.annotations.parameters.RequestBody(</span><br><span class="line">            description = <span class="string">&quot;ç”¨æˆ·ä¿¡æ¯&quot;</span>,</span><br><span class="line">            required = <span class="literal">true</span>,</span><br><span class="line">            content = <span class="meta">@Content(</span></span><br><span class="line"><span class="meta">                    mediaType = &quot;application/json&quot;,</span></span><br><span class="line"><span class="meta">                    schema = @Schema(implementation = User.class),</span></span><br><span class="line"><span class="meta">                    examples = &#123;</span></span><br><span class="line"><span class="meta">                            @ExampleObject(</span></span><br><span class="line"><span class="meta">                                    name = &quot;åŸºç¡€ç”¨æˆ·&quot;,</span></span><br><span class="line"><span class="meta">                                    summary = &quot;åˆ›å»ºåŸºç¡€ç”¨æˆ·&quot;,</span></span><br><span class="line"><span class="meta">                                    value = &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                                            &#123;</span></span><br><span class="line"><span class="meta">                                              &quot;username&quot;: &quot;newuser&quot;,</span></span><br><span class="line"><span class="meta">                                              &quot;nickname&quot;: &quot;æ–°ç”¨æˆ·&quot;,</span></span><br><span class="line"><span class="meta">                                              &quot;email&quot;: &quot;newuser@example.com&quot;,</span></span><br><span class="line"><span class="meta">                                              &quot;phone&quot;: &quot;13911112222&quot;,</span></span><br><span class="line"><span class="meta">                                              &quot;age&quot;: 28,</span></span><br><span class="line"><span class="meta">                                              &quot;gender&quot;: &quot;FEMALE&quot;</span></span><br><span class="line"><span class="meta">                                            &#125;</span></span><br><span class="line"><span class="meta">                                            &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                            ),</span></span><br><span class="line"><span class="meta">                            @ExampleObject(</span></span><br><span class="line"><span class="meta">                                    name = &quot;å®Œæ•´ç”¨æˆ·&quot;,</span></span><br><span class="line"><span class="meta">                                    summary = &quot;åˆ›å»ºå®Œæ•´ä¿¡æ¯ç”¨æˆ·&quot;,</span></span><br><span class="line"><span class="meta">                                    value = &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                                            &#123;</span></span><br><span class="line"><span class="meta">                                              &quot;username&quot;: &quot;fulluser&quot;,</span></span><br><span class="line"><span class="meta">                                              &quot;nickname&quot;: &quot;å®Œæ•´ç”¨æˆ·&quot;,</span></span><br><span class="line"><span class="meta">                                              &quot;email&quot;: &quot;fulluser@example.com&quot;,</span></span><br><span class="line"><span class="meta">                                              &quot;phone&quot;: &quot;13800138000&quot;,</span></span><br><span class="line"><span class="meta">                                              &quot;age&quot;: 35,</span></span><br><span class="line"><span class="meta">                                              &quot;gender&quot;: &quot;MALE&quot;</span></span><br><span class="line"><span class="meta">                                            &#125;</span></span><br><span class="line"><span class="meta">                                            &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                            )</span></span><br><span class="line"><span class="meta">                    &#125;</span></span><br><span class="line"><span class="meta">            )</span></span><br><span class="line">    )</span><br><span class="line">    <span class="meta">@ApiResponses(&#123;</span></span><br><span class="line"><span class="meta">            @SwaggerApiResponse(</span></span><br><span class="line"><span class="meta">                    responseCode = &quot;201&quot;,</span></span><br><span class="line"><span class="meta">                    description = &quot;åˆ›å»ºæˆåŠŸ&quot;,</span></span><br><span class="line"><span class="meta">                    content = @Content(</span></span><br><span class="line"><span class="meta">                            mediaType = &quot;application/json&quot;,</span></span><br><span class="line"><span class="meta">                            schema = @Schema(implementation = ApiResponse.class)</span></span><br><span class="line"><span class="meta">                    )</span></span><br><span class="line"><span class="meta">            ),</span></span><br><span class="line"><span class="meta">            @SwaggerApiResponse(</span></span><br><span class="line"><span class="meta">                    responseCode = &quot;400&quot;,</span></span><br><span class="line"><span class="meta">                    description = &quot;å‚æ•°éªŒè¯å¤±è´¥&quot;,</span></span><br><span class="line"><span class="meta">                    content = @Content(</span></span><br><span class="line"><span class="meta">                            mediaType = &quot;application/json&quot;,</span></span><br><span class="line"><span class="meta">                            examples = @ExampleObject(</span></span><br><span class="line"><span class="meta">                                    value = &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                                            &#123;</span></span><br><span class="line"><span class="meta">                                              &quot;code&quot;: 400,</span></span><br><span class="line"><span class="meta">                                              &quot;message&quot;: &quot;ç”¨æˆ·åå·²å­˜åœ¨&quot;,</span></span><br><span class="line"><span class="meta">                                              &quot;data&quot;: null,</span></span><br><span class="line"><span class="meta">                                              &quot;timestamp&quot;: &quot;2024-01-01 12:00:00&quot;</span></span><br><span class="line"><span class="meta">                                            &#125;</span></span><br><span class="line"><span class="meta">                                            &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                            )</span></span><br><span class="line"><span class="meta">                    )</span></span><br><span class="line"><span class="meta">            )</span></span><br><span class="line"><span class="meta">    &#125;)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;ApiResponse&lt;User&gt;&gt; <span class="title function_">createUser</span><span class="params">(<span class="meta">@Valid</span> <span class="meta">@RequestBody</span> User user)</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ£€æŸ¥ç”¨æˆ·åæ˜¯å¦å·²å­˜åœ¨</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">usernameExists</span> <span class="operator">=</span> userDatabase.stream()</span><br><span class="line">                .anyMatch(u -&gt; u.getUsername().equals(user.getUsername()));</span><br><span class="line">        <span class="keyword">if</span> (usernameExists) &#123;</span><br><span class="line">            <span class="keyword">return</span> ResponseEntity.status(HttpStatus.BAD_REQUEST)</span><br><span class="line">                    .body(ApiResponse.badRequest(<span class="string">&quot;ç”¨æˆ·åå·²å­˜åœ¨&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ£€æŸ¥é‚®ç®±æ˜¯å¦å·²å­˜åœ¨</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">emailExists</span> <span class="operator">=</span> userDatabase.stream()</span><br><span class="line">                .anyMatch(u -&gt; u.getEmail().equals(user.getEmail()));</span><br><span class="line">        <span class="keyword">if</span> (emailExists) &#123;</span><br><span class="line">            <span class="keyword">return</span> ResponseEntity.status(HttpStatus.BAD_REQUEST)</span><br><span class="line">                    .body(ApiResponse.badRequest(<span class="string">&quot;é‚®ç®±å·²å­˜åœ¨&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è®¾ç½®ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">        user.setId(idCounter++);</span><br><span class="line">        user.setStatus(User.UserStatus.ACTIVE);</span><br><span class="line">        user.setCreateTime(LocalDateTime.now());</span><br><span class="line">        user.setUpdateTime(LocalDateTime.now());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ä¿å­˜åˆ°&quot;æ•°æ®åº“&quot;</span></span><br><span class="line">        userDatabase.add(user);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.status(HttpStatus.CREATED)</span><br><span class="line">                .body(ApiResponse.success(<span class="string">&quot;ç”¨æˆ·åˆ›å»ºæˆåŠŸ&quot;</span>, user));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åˆ†é¡µç»“æœåŒ…è£…ç±»</span></span><br><span class="line">    <span class="meta">@Schema(name = &quot;PageResult&quot;, description = &quot;åˆ†é¡µæŸ¥è¯¢ç»“æœ&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">PageResult</span>&lt;T&gt; &#123;</span><br><span class="line">        <span class="meta">@Schema(description = &quot;æ•°æ®åˆ—è¡¨&quot;)</span></span><br><span class="line">        <span class="keyword">private</span> List&lt;T&gt; list;</span><br><span class="line">        </span><br><span class="line">        <span class="meta">@Schema(description = &quot;æ€»è®°å½•æ•°&quot;, example = &quot;100&quot;)</span></span><br><span class="line">        <span class="keyword">private</span> Long total;</span><br><span class="line">        </span><br><span class="line">        <span class="meta">@Schema(description = &quot;å½“å‰é¡µç &quot;, example = &quot;1&quot;)</span></span><br><span class="line">        <span class="keyword">private</span> Integer page;</span><br><span class="line">        </span><br><span class="line">        <span class="meta">@Schema(description = &quot;æ¯é¡µå¤§å°&quot;, example = &quot;10&quot;)</span></span><br><span class="line">        <span class="keyword">private</span> Integer size;</span><br><span class="line">        </span><br><span class="line">        <span class="meta">@Schema(description = &quot;æ€»é¡µæ•°&quot;, example = &quot;10&quot;)</span></span><br><span class="line">        <span class="keyword">private</span> Integer totalPages;</span><br><span class="line">        </span><br><span class="line">        <span class="meta">@Schema(description = &quot;æ˜¯å¦æœ‰ä¸‹ä¸€é¡µ&quot;, example = &quot;true&quot;)</span></span><br><span class="line">        <span class="keyword">private</span> Boolean hasNext;</span><br><span class="line">        </span><br><span class="line">        <span class="meta">@Schema(description = &quot;æ˜¯å¦æœ‰ä¸Šä¸€é¡µ&quot;, example = &quot;false&quot;)</span></span><br><span class="line">        <span class="keyword">private</span> Boolean hasPrev;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">PageResult</span><span class="params">(List&lt;T&gt; list, Long total, Integer page, Integer size)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.list = list;</span><br><span class="line">            <span class="built_in">this</span>.total = total;</span><br><span class="line">            <span class="built_in">this</span>.page = page;</span><br><span class="line">            <span class="built_in">this</span>.size = size;</span><br><span class="line">            <span class="built_in">this</span>.totalPages = (<span class="type">int</span>) Math.ceil((<span class="type">double</span>) total / size);</span><br><span class="line">            <span class="built_in">this</span>.hasNext = page &lt; totalPages;</span><br><span class="line">            <span class="built_in">this</span>.hasPrev = page &gt; <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// getter methods</span></span><br><span class="line">        <span class="keyword">public</span> List&lt;T&gt; <span class="title function_">getList</span><span class="params">()</span> &#123; <span class="keyword">return</span> list; &#125;</span><br><span class="line">        <span class="keyword">public</span> Long <span class="title function_">getTotal</span><span class="params">()</span> &#123; <span class="keyword">return</span> total; &#125;</span><br><span class="line">        <span class="keyword">public</span> Integer <span class="title function_">getPage</span><span class="params">()</span> &#123; <span class="keyword">return</span> page; &#125;</span><br><span class="line">        <span class="keyword">public</span> Integer <span class="title function_">getSize</span><span class="params">()</span> &#123; <span class="keyword">return</span> size; &#125;</span><br><span class="line">        <span class="keyword">public</span> Integer <span class="title function_">getTotalPages</span><span class="params">()</span> &#123; <span class="keyword">return</span> totalPages; &#125;</span><br><span class="line">        <span class="keyword">public</span> Boolean <span class="title function_">getHasNext</span><span class="params">()</span> &#123; <span class="keyword">return</span> hasNext; &#125;</span><br><span class="line">        <span class="keyword">public</span> Boolean <span class="title function_">getHasPrev</span><span class="params">()</span> &#123; <span class="keyword">return</span> hasPrev; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å“‡å¡ï¼Œè¿™ä¸ªæ§åˆ¶å™¨æ˜¯ä¸æ˜¯å¾ˆè¯¦ç»†ï¼ŸğŸ˜„ æ¯ä¸ªæ¥å£éƒ½æœ‰å®Œæ•´çš„æ–‡æ¡£è¯´æ˜ã€å‚æ•°æè¿°ã€å“åº”ç¤ºä¾‹ç­‰ã€‚é€šè¿‡è¿™æ ·çš„æ³¨è§£é…ç½®ï¼Œç”Ÿæˆçš„APIæ–‡æ¡£ä¼šéå¸¸ä¸“ä¸šå’Œå‹å¥½ï¼</p><h3 id="é«˜çº§ç‰¹æ€§æ¢ç´¢"><a class="markdownIt-Anchor" href="#é«˜çº§ç‰¹æ€§æ¢ç´¢"></a> ğŸ’ é«˜çº§ç‰¹æ€§æ¢ç´¢</h3><p>å¥½äº†ï¼ŒåŸºç¡€åŠŸèƒ½æˆ‘ä»¬å·²ç»æå®šäº†ï¼Œç°åœ¨è®©æˆ‘ä»¬æ¥æ¢ç´¢ä¸€äº›æ›´é«˜çº§çš„ç‰¹æ€§ï¼è¿™äº›åŠŸèƒ½å¯æ˜¯è®©æˆ‘å½“åˆæƒŠå‘¼&quot;å§æ§½ï¼Œè¿˜èƒ½è¿™æ ·ç©ï¼Ÿ&quot;çš„å­˜åœ¨ï¼ğŸ¤¯</p><h4 id="å®‰å…¨è®¤è¯é›†æˆ"><a class="markdownIt-Anchor" href="#å®‰å…¨è®¤è¯é›†æˆ"></a> ğŸ” å®‰å…¨è®¤è¯é›†æˆ</h4><p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼ŒAPIå®‰å…¨æ˜¯ä¸å¯å¿½è§†çš„ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åœ¨OpenAPIä¸­é›†æˆJWTè®¤è¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.models.Components;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.models.OpenAPI;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.models.security.SecurityRequirement;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.models.security.SecurityScheme;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * APIå®‰å…¨é…ç½®</span></span><br><span class="line"><span class="comment"> * è¿™ä¸ªé…ç½®è®©æˆ‘ä»¬çš„APIæ–‡æ¡£æ”¯æŒJWTè®¤è¯ï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæ¥å£è£¸å¥”äº†ï¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OpenApiSecurityConfig</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">BEARER_TOKEN_SECURITY_SCHEME</span> <span class="operator">=</span> <span class="string">&quot;bearerAuth&quot;</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> OpenAPI <span class="title function_">openAPIWithSecurity</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">OpenAPI</span>()</span><br><span class="line">                .addSecurityItem(<span class="keyword">new</span> <span class="title class_">SecurityRequirement</span>()</span><br><span class="line">                        .addList(BEARER_TOKEN_SECURITY_SCHEME))</span><br><span class="line">                .components(<span class="keyword">new</span> <span class="title class_">Components</span>()</span><br><span class="line">                        .addSecuritySchemes(BEARER_TOKEN_SECURITY_SCHEME,</span><br><span class="line">                                <span class="keyword">new</span> <span class="title class_">SecurityScheme</span>()</span><br><span class="line">                                        .name(BEARER_TOKEN_SECURITY_SCHEME)</span><br><span class="line">                                        .type(SecurityScheme.Type.HTTP)</span><br><span class="line">                                        .scheme(<span class="string">&quot;bearer&quot;</span>)</span><br><span class="line">                                        .bearerFormat(<span class="string">&quot;JWT&quot;</span>)</span><br><span class="line">                                        .in(SecurityScheme.In.HEADER)</span><br><span class="line">                                        .description(<span class="string">&quot;è¾“å…¥JWT tokenï¼Œæ ¼å¼ï¼šBearer &#123;token&#125;&quot;</span>)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨éœ€è¦è®¤è¯çš„æ¥å£ä¸Šæ·»åŠ å®‰å…¨æ³¨è§£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/admin&quot;)</span></span><br><span class="line"><span class="meta">@Tag(name = &quot;ç®¡ç†å‘˜æ¥å£&quot;, description = &quot;éœ€è¦ç®¡ç†å‘˜æƒé™çš„é«˜çº§åŠŸèƒ½ ğŸ‘‘&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AdminController</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@GetMapping(&quot;/users&quot;)</span></span><br><span class="line">    <span class="meta">@Operation(</span></span><br><span class="line"><span class="meta">            summary = &quot;ç®¡ç†å‘˜è·å–æ‰€æœ‰ç”¨æˆ·&quot;,</span></span><br><span class="line"><span class="meta">            description = &quot;åªæœ‰ç®¡ç†å‘˜æ‰èƒ½è®¿é—®çš„ç”¨æˆ·åˆ—è¡¨æ¥å£ï¼ŒåŒ…å«æ•æ„Ÿä¿¡æ¯&quot;,</span></span><br><span class="line"><span class="meta">            security = @SecurityRequirement(name = &quot;bearerAuth&quot;)</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="meta">@SecurityRequirement(name = &quot;bearerAuth&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;ApiResponse&lt;List&lt;User&gt;&gt;&gt; <span class="title function_">getAllUsersForAdmin</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// ç®¡ç†å‘˜ä¸“ç”¨æ¥å£é€»è¾‘</span></span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok(ApiResponse.success(<span class="string">&quot;è·å–æˆåŠŸ&quot;</span>, <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è‡ªå®šä¹‰æ³¨è§£ä¸åˆ‡é¢"><a class="markdownIt-Anchor" href="#è‡ªå®šä¹‰æ³¨è§£ä¸åˆ‡é¢"></a> ğŸª è‡ªå®šä¹‰æ³¨è§£ä¸åˆ‡é¢</h4><p>æœ‰æ—¶å€™æˆ‘ä»¬æƒ³ä¸ºæŸäº›ç‰¹æ®Šçš„æ¥å£æ·»åŠ ç»Ÿä¸€çš„æ–‡æ¡£è¯´æ˜ï¼Œè¿™æ—¶å€™è‡ªå®šä¹‰æ³¨è§£å°±æ´¾ä¸Šç”¨åœºäº†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.annotation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.responses.ApiResponse;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.responses.ApiResponses;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.media.Content;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.media.ExampleObject;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ‡å‡†APIå“åº”æ³¨è§£</span></span><br><span class="line"><span class="comment"> * è¿™ä¸ªæ³¨è§£å°±åƒæ˜¯ç»™æ¥å£è´´ä¸Šäº†&quot;è´¨é‡ä¿è¯&quot;çš„æ ‡ç­¾ï¼Œç»Ÿä¸€äº†å“åº”æ ¼å¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.METHOD, ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@ApiResponses(&#123;</span></span><br><span class="line"><span class="meta">        @ApiResponse(</span></span><br><span class="line"><span class="meta">                responseCode = &quot;200&quot;,</span></span><br><span class="line"><span class="meta">                description = &quot;æ“ä½œæˆåŠŸ&quot;,</span></span><br><span class="line"><span class="meta">                content = @Content(</span></span><br><span class="line"><span class="meta">                        mediaType = &quot;application/json&quot;,</span></span><br><span class="line"><span class="meta">                        examples = @ExampleObject(</span></span><br><span class="line"><span class="meta">                                name = &quot;æˆåŠŸå“åº”&quot;,</span></span><br><span class="line"><span class="meta">                                value = &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                                        &#123;</span></span><br><span class="line"><span class="meta">                                          &quot;code&quot;: 200,</span></span><br><span class="line"><span class="meta">                                          &quot;message&quot;: &quot;æ“ä½œæˆåŠŸ&quot;,</span></span><br><span class="line"><span class="meta">                                          &quot;data&quot;: &#123;&#125;,</span></span><br><span class="line"><span class="meta">                                          &quot;timestamp&quot;: &quot;2024-01-01 12:00:00&quot;</span></span><br><span class="line"><span class="meta">                                        &#125;</span></span><br><span class="line"><span class="meta">                                        &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                        )</span></span><br><span class="line"><span class="meta">                )</span></span><br><span class="line"><span class="meta">        ),</span></span><br><span class="line"><span class="meta">        @ApiResponse(</span></span><br><span class="line"><span class="meta">                responseCode = &quot;400&quot;,</span></span><br><span class="line"><span class="meta">                description = &quot;å‚æ•°é”™è¯¯&quot;,</span></span><br><span class="line"><span class="meta">                content = @Content(</span></span><br><span class="line"><span class="meta">                        mediaType = &quot;application/json&quot;,</span></span><br><span class="line"><span class="meta">                        examples = @ExampleObject(</span></span><br><span class="line"><span class="meta">                                value = &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                                        &#123;</span></span><br><span class="line"><span class="meta">                                          &quot;code&quot;: 400,</span></span><br><span class="line"><span class="meta">                                          &quot;message&quot;: &quot;å‚æ•°éªŒè¯å¤±è´¥&quot;,</span></span><br><span class="line"><span class="meta">                                          &quot;data&quot;: null,</span></span><br><span class="line"><span class="meta">                                          &quot;timestamp&quot;: &quot;2024-01-01 12:00:00&quot;</span></span><br><span class="line"><span class="meta">                                        &#125;</span></span><br><span class="line"><span class="meta">                                        &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                        )</span></span><br><span class="line"><span class="meta">                )</span></span><br><span class="line"><span class="meta">        ),</span></span><br><span class="line"><span class="meta">        @ApiResponse(</span></span><br><span class="line"><span class="meta">                responseCode = &quot;500&quot;,</span></span><br><span class="line"><span class="meta">                description = &quot;æœåŠ¡å™¨å†…éƒ¨é”™è¯¯&quot;,</span></span><br><span class="line"><span class="meta">                content = @Content(</span></span><br><span class="line"><span class="meta">                        mediaType = &quot;application/json&quot;,</span></span><br><span class="line"><span class="meta">                        examples = @ExampleObject(</span></span><br><span class="line"><span class="meta">                                value = &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                                        &#123;</span></span><br><span class="line"><span class="meta">                                          &quot;code&quot;: 500,</span></span><br><span class="line"><span class="meta">                                          &quot;message&quot;: &quot;æœåŠ¡å™¨å¼€å°å·®äº†ï¼Œè¯·ç¨åé‡è¯•&quot;,</span></span><br><span class="line"><span class="meta">                                          &quot;data&quot;: null,</span></span><br><span class="line"><span class="meta">                                          &quot;timestamp&quot;: &quot;2024-01-01 12:00:00&quot;</span></span><br><span class="line"><span class="meta">                                        &#125;</span></span><br><span class="line"><span class="meta">                                        &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                        )</span></span><br><span class="line"><span class="meta">                )</span></span><br><span class="line"><span class="meta">        )</span></span><br><span class="line"><span class="meta">&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> StandardApiResponses &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ˜¯å¦åŒ…å«è®¤è¯ç›¸å…³çš„é”™è¯¯å“åº”</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">includeAuth</span><span class="params">()</span> <span class="keyword">default</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨èµ·æ¥è¶…çº§ç®€å•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/profile&quot;)</span></span><br><span class="line"><span class="meta">@StandardApiResponses(includeAuth = true)</span></span><br><span class="line"><span class="meta">@Operation(summary = &quot;è·å–ä¸ªäººèµ„æ–™&quot;, description = &quot;è·å–å½“å‰ç™»å½•ç”¨æˆ·çš„ä¸ªäººèµ„æ–™ä¿¡æ¯&quot;)</span></span><br><span class="line"><span class="keyword">public</span> ResponseEntity&lt;ApiResponse&lt;User&gt;&gt; <span class="title function_">getProfile</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// æ¥å£é€»è¾‘</span></span><br><span class="line">    <span class="keyword">return</span> ResponseEntity.ok(ApiResponse.success(<span class="string">&quot;è·å–æˆåŠŸ&quot;</span>, <span class="keyword">new</span> <span class="title class_">User</span>()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å¤šç¯å¢ƒé…ç½®"><a class="markdownIt-Anchor" href="#å¤šç¯å¢ƒé…ç½®"></a> ğŸŒˆ å¤šç¯å¢ƒé…ç½®</h4><p>ä¸åŒç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬çš„APIæ–‡æ¡£å¯èƒ½éœ€è¦ä¸åŒçš„é…ç½®ã€‚æ¥çœ‹çœ‹å¦‚ä½•ä¼˜é›…åœ°å¤„ç†è¿™ç§æƒ…å†µï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.context.properties.ConfigurationProperties;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * OpenAPIé…ç½®å±æ€§ç±»</span></span><br><span class="line"><span class="comment"> * é€šè¿‡é…ç½®æ–‡ä»¶æ¥æ§åˆ¶APIæ–‡æ¡£çš„è¡Œä¸ºï¼Œçµæ´»æ€§Maxï¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;app.openapi&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OpenApiProperties</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="variable">enabled</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">title</span> <span class="operator">=</span> <span class="string">&quot;APIæ–‡æ¡£&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">description</span> <span class="operator">=</span> <span class="string">&quot;è¿™æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„API&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">version</span> <span class="operator">=</span> <span class="string">&quot;v1.0.0&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Contact</span> <span class="variable">contact</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Contact</span>();</span><br><span class="line">    <span class="keyword">private</span> <span class="type">License</span> <span class="variable">license</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">License</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åµŒå¥—é…ç½®ç±»</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Contact</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;å¼€å‘å›¢é˜Ÿ&quot;</span>;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">String</span> <span class="variable">email</span> <span class="operator">=</span> <span class="string">&quot;dev@example.com&quot;</span>;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;https://www.example.com&quot;</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// getter and setter...</span></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123; <span class="keyword">return</span> name; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123; <span class="built_in">this</span>.name = name; &#125;</span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getEmail</span><span class="params">()</span> &#123; <span class="keyword">return</span> email; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setEmail</span><span class="params">(String email)</span> &#123; <span class="built_in">this</span>.email = email; &#125;</span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getUrl</span><span class="params">()</span> &#123; <span class="keyword">return</span> url; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUrl</span><span class="params">(String url)</span> &#123; <span class="built_in">this</span>.url = url; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">License</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;MIT&quot;</span>;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;https://opensource.org/licenses/MIT&quot;</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// getter and setter...</span></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123; <span class="keyword">return</span> name; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123; <span class="built_in">this</span>.name = name; &#125;</span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getUrl</span><span class="params">()</span> &#123; <span class="keyword">return</span> url; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUrl</span><span class="params">(String url)</span> &#123; <span class="built_in">this</span>.url = url; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä¸»ç±»çš„getter and setter</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEnabled</span><span class="params">()</span> &#123; <span class="keyword">return</span> enabled; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setEnabled</span><span class="params">(<span class="type">boolean</span> enabled)</span> &#123; <span class="built_in">this</span>.enabled = enabled; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getTitle</span><span class="params">()</span> &#123; <span class="keyword">return</span> title; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTitle</span><span class="params">(String title)</span> &#123; <span class="built_in">this</span>.title = title; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getDescription</span><span class="params">()</span> &#123; <span class="keyword">return</span> description; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDescription</span><span class="params">(String description)</span> &#123; <span class="built_in">this</span>.description = description; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getVersion</span><span class="params">()</span> &#123; <span class="keyword">return</span> version; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setVersion</span><span class="params">(String version)</span> &#123; <span class="built_in">this</span>.version = version; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> Contact <span class="title function_">getContact</span><span class="params">()</span> &#123; <span class="keyword">return</span> contact; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setContact</span><span class="params">(Contact contact)</span> &#123; <span class="built_in">this</span>.contact = contact; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> License <span class="title function_">getLicense</span><span class="params">()</span> &#123; <span class="keyword">return</span> license; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setLicense</span><span class="params">(License license)</span> &#123; <span class="built_in">this</span>.license = license; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨ä¸åŒç¯å¢ƒçš„é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ä¸åŒçš„å€¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># application-dev.yml (å¼€å‘ç¯å¢ƒ)</span><br><span class="line">app:</span><br><span class="line">  openapi:</span><br><span class="line">    enabled: <span class="literal">true</span></span><br><span class="line">    title: <span class="string">&quot;å¼€å‘ç¯å¢ƒAPIæ–‡æ¡£ ğŸ› ï¸&quot;</span></span><br><span class="line">    description: <span class="string">&quot;è¿™æ˜¯å¼€å‘ç¯å¢ƒçš„APIï¼Œéšæ—¶å¯èƒ½å˜åŠ¨ï¼Œè¯·è°¨æ…ä½¿ç”¨&quot;</span></span><br><span class="line">    version: <span class="string">&quot;v1.0.0-dev&quot;</span></span><br><span class="line">    contact:</span><br><span class="line">      name: <span class="string">&quot;å¼€å‘å›¢é˜Ÿ&quot;</span></span><br><span class="line">      email: <span class="string">&quot;dev@example.com&quot;</span></span><br><span class="line"></span><br><span class="line"># application-prod.yml (ç”Ÿäº§ç¯å¢ƒ)</span><br><span class="line">app:</span><br><span class="line">  openapi:</span><br><span class="line">    enabled: <span class="literal">false</span>  # ç”Ÿäº§ç¯å¢ƒå…³é—­æ–‡æ¡£</span><br><span class="line">    title: <span class="string">&quot;ç”Ÿäº§ç¯å¢ƒAPI&quot;</span></span><br><span class="line">    description: <span class="string">&quot;ç”Ÿäº§ç¯å¢ƒAPIæ–‡æ¡£&quot;</span></span><br><span class="line">    version: <span class="string">&quot;v1.0.0&quot;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·é…ç½®ä¹‹åï¼Œç”Ÿäº§ç¯å¢ƒå°±ä¸ä¼šæš´éœ²APIæ–‡æ¡£äº†ï¼Œå®‰å…¨æ€§å¤§å¤§æå‡ï¼ğŸ˜</p><h3 id="ï¸-å®é™…é¡¹ç›®åº”ç”¨æ¡ˆä¾‹"><a class="markdownIt-Anchor" href="#ï¸-å®é™…é¡¹ç›®åº”ç”¨æ¡ˆä¾‹"></a> ğŸ› ï¸ å®é™…é¡¹ç›®åº”ç”¨æ¡ˆä¾‹</h3><p>ç†è®ºè¯´äº†è¿™ä¹ˆå¤šï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæ›´è´´è¿‘å®é™…é¡¹ç›®çš„å®Œæ•´ç¤ºä¾‹ï¼å‡è®¾æˆ‘ä»¬æ­£åœ¨å¼€å‘ä¸€ä¸ªç”µå•†ç³»ç»Ÿçš„å•†å“ç®¡ç†æ¨¡å—ã€‚</p><h4 id="ï¸-å•†å“ç®¡ç†æ¨¡å—"><a class="markdownIt-Anchor" href="#ï¸-å•†å“ç®¡ç†æ¨¡å—"></a> ğŸ›ï¸ å•†å“ç®¡ç†æ¨¡å—</h4><p>é¦–å…ˆå®šä¹‰å•†å“å®ä½“ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.ecommerce.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.media.Schema;</span><br><span class="line"><span class="keyword">import</span> jakarta.validation.constraints.*;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Schema(name = &quot;Product&quot;, description = &quot;å•†å“ä¿¡æ¯&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;å•†å“ID&quot;, example = &quot;1&quot;, accessMode = Schema.AccessMode.READ_ONLY)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;å•†å“åç§°&quot;, example = &quot;iPhone 15 Pro Max&quot;, requiredMode = Schema.RequiredMode.REQUIRED)</span></span><br><span class="line">    <span class="meta">@NotBlank(message = &quot;å•†å“åç§°ä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="meta">@Size(min = 2, max = 100, message = &quot;å•†å“åç§°é•¿åº¦å¿…é¡»åœ¨2-100å­—ç¬¦ä¹‹é—´&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;å•†å“æè¿°&quot;, example = &quot;è‹¹æœæœ€æ–°æ——èˆ°æ‰‹æœºï¼Œæ€§èƒ½å¼ºæ‚ï¼Œæ‹ç…§å‡ºè‰²&quot;)</span></span><br><span class="line">    <span class="meta">@Size(max = 1000, message = &quot;å•†å“æè¿°ä¸èƒ½è¶…è¿‡1000å­—ç¬¦&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String description;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;å•†å“ä»·æ ¼&quot;, example = &quot;9999.00&quot;, requiredMode = Schema.RequiredMode.REQUIRED)</span></span><br><span class="line">    <span class="meta">@NotNull(message = &quot;å•†å“ä»·æ ¼ä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="meta">@DecimalMin(value = &quot;0.01&quot;, message = &quot;å•†å“ä»·æ ¼å¿…é¡»å¤§äº0.01&quot;)</span></span><br><span class="line">    <span class="meta">@DecimalMax(value = &quot;999999.99&quot;, message = &quot;å•†å“ä»·æ ¼ä¸èƒ½è¶…è¿‡999999.99&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> BigDecimal price;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;åº“å­˜æ•°é‡&quot;, example = &quot;100&quot;, requiredMode = Schema.RequiredMode.REQUIRED)</span></span><br><span class="line">    <span class="meta">@NotNull(message = &quot;åº“å­˜æ•°é‡ä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="meta">@Min(value = 0, message = &quot;åº“å­˜æ•°é‡ä¸èƒ½ä¸ºè´Ÿæ•°&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer stock;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;å•†å“åˆ†ç±»ID&quot;, example = &quot;1&quot;, requiredMode = Schema.RequiredMode.REQUIRED)</span></span><br><span class="line">    <span class="meta">@NotNull(message = &quot;å•†å“åˆ†ç±»ä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Long categoryId;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;å•†å“åˆ†ç±»åç§°&quot;, example = &quot;æ•°ç äº§å“&quot;, accessMode = Schema.AccessMode.READ_ONLY)</span></span><br><span class="line">    <span class="keyword">private</span> String categoryName;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;å•†å“å›¾ç‰‡URLåˆ—è¡¨&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; imageUrls;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;å•†å“çŠ¶æ€&quot;, example = &quot;ACTIVE&quot;, allowableValues = &#123;&quot;ACTIVE&quot;, &quot;INACTIVE&quot;, &quot;OUT_OF_STOCK&quot;&#125;)</span></span><br><span class="line">    <span class="keyword">private</span> ProductStatus status;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;åˆ›å»ºæ—¶é—´&quot;, accessMode = Schema.AccessMode.READ_ONLY)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Schema(description = &quot;æ›´æ–°æ—¶é—´&quot;, accessMode = Schema.AccessMode.READ_ONLY)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime updateTime;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å•†å“çŠ¶æ€æšä¸¾</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">ProductStatus</span> &#123;</span><br><span class="line">        <span class="meta">@Schema(description = &quot;æ­£å¸¸é”€å”®&quot;)</span></span><br><span class="line">        ACTIVE,</span><br><span class="line">        <span class="meta">@Schema(description = &quot;å·²ä¸‹æ¶&quot;)</span></span><br><span class="line">        INACTIVE,</span><br><span class="line">        <span class="meta">@Schema(description = &quot;ç¼ºè´§&quot;)</span></span><br><span class="line">        OUT_OF_STOCK</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°å’Œgetter/setteræ–¹æ³•... (çœç•¥)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Product</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// getter and setter methods</span></span><br><span class="line">    <span class="keyword">public</span> Long <span class="title function_">getId</span><span class="params">()</span> &#123; <span class="keyword">return</span> id; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(Long id)</span> &#123; <span class="built_in">this</span>.id = id; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123; <span class="keyword">return</span> name; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123; <span class="built_in">this</span>.name = name; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getDescription</span><span class="params">()</span> &#123; <span class="keyword">return</span> description; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDescription</span><span class="params">(String description)</span> &#123; <span class="built_in">this</span>.description = description; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> BigDecimal <span class="title function_">getPrice</span><span class="params">()</span> &#123; <span class="keyword">return</span> price; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPrice</span><span class="params">(BigDecimal price)</span> &#123; <span class="built_in">this</span>.price = price; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getStock</span><span class="params">()</span> &#123; <span class="keyword">return</span> stock; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setStock</span><span class="params">(Integer stock)</span> &#123; <span class="built_in">this</span>.stock = stock; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> Long <span class="title function_">getCategoryId</span><span class="params">()</span> &#123; <span class="keyword">return</span> categoryId; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCategoryId</span><span class="params">(Long categoryId)</span> &#123; <span class="built_in">this</span>.categoryId = categoryId; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getCategoryName</span><span class="params">()</span> &#123; <span class="keyword">return</span> categoryName; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCategoryName</span><span class="params">(String categoryName)</span> &#123; <span class="built_in">this</span>.categoryName = categoryName; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">getImageUrls</span><span class="params">()</span> &#123; <span class="keyword">return</span> imageUrls; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setImageUrls</span><span class="params">(List&lt;String&gt; imageUrls)</span> &#123; <span class="built_in">this</span>.imageUrls = imageUrls; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> ProductStatus <span class="title function_">getStatus</span><span class="params">()</span> &#123; <span class="keyword">return</span> status; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setStatus</span><span class="params">(ProductStatus status)</span> &#123; <span class="built_in">this</span>.status = status; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> LocalDateTime <span class="title function_">getCreateTime</span><span class="params">()</span> &#123; <span class="keyword">return</span> createTime; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCreateTime</span><span class="params">(LocalDateTime createTime)</span> &#123; <span class="built_in">this</span>.createTime = createTime; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> LocalDateTime <span class="title function_">getUpdateTime</span><span class="params">()</span> &#123; <span class="keyword">return</span> updateTime; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUpdateTime</span><span class="params">(LocalDateTime updateTime)</span> &#123; <span class="built_in">this</span>.updateTime = updateTime; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å•†å“æ§åˆ¶å™¨"><a class="markdownIt-Anchor" href="#å•†å“æ§åˆ¶å™¨"></a> ğŸ¯ å•†å“æ§åˆ¶å™¨</h4><p>ç„¶ååˆ›å»ºä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„å•†å“æ§åˆ¶å™¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.ecommerce.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.common.ApiResponse;</span><br><span class="line"><span class="keyword">import</span> com.example.ecommerce.entity.Product;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.*;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.media.Content;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.media.ExampleObject;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.media.Schema;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.responses.ApiResponses;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.responses.ApiResponse as SwaggerApiResponse;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.tags.Tag;</span><br><span class="line"><span class="keyword">import</span> jakarta.validation.Valid;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.HttpStatus;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.ResponseEntity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å•†å“ç®¡ç†æ§åˆ¶å™¨</span></span><br><span class="line"><span class="comment"> * ç”µå•†ç³»ç»Ÿçš„æ ¸å¿ƒæ¨¡å—ä¹‹ä¸€ï¼Œè´Ÿè´£å•†å“çš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * è¿™ä¸ªæ§åˆ¶å™¨å°±åƒæ˜¯å•†å“çš„&quot;ç”Ÿå‘½ç®¡å®¶&quot;ï¼Œä»å•†å“çš„è¯ç”Ÿåˆ°ä¸‹æ¶ï¼Œ</span></span><br><span class="line"><span class="comment"> * æ¯ä¸€ä¸ªç¯èŠ‚éƒ½åœ¨è¿™é‡Œå¾—åˆ°ç²¾å¿ƒå‘µæŠ¤ï¼ğŸ›ï¸</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/products&quot;)</span></span><br><span class="line"><span class="meta">@Tag(name = &quot;å•†å“ç®¡ç†&quot;, description = &quot;ç”µå•†ç³»ç»Ÿå•†å“ç®¡ç†æ ¸å¿ƒæ¥å£ï¼Œæ”¯æŒCRUDã€æœç´¢ã€åº“å­˜ç®¡ç†ç­‰åŠŸèƒ½ ğŸ›’&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductController</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å•†å“æœç´¢æ¥å£</span></span><br><span class="line"><span class="comment">     * è¿™ä¸ªæ¥å£åŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒå¤šç»´åº¦æœç´¢ï¼Œç®€ç›´æ˜¯å•†å“æŸ¥æ‰¾çš„&quot;ç‘å£«å†›åˆ€&quot;ï¼</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/search&quot;)</span></span><br><span class="line">    <span class="meta">@Operation(</span></span><br><span class="line"><span class="meta">            summary = &quot;å•†å“æœç´¢&quot;,</span></span><br><span class="line"><span class="meta">            description = &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                    æ”¯æŒå¤šç»´åº¦å•†å“æœç´¢çš„å¼ºå¤§æ¥å£ã€‚</span></span><br><span class="line"><span class="meta">                    </span></span><br><span class="line"><span class="meta">                    ### ğŸ” æœç´¢åŠŸèƒ½</span></span><br><span class="line"><span class="meta">                    - **å…³é”®å­—æœç´¢**: æ”¯æŒå•†å“åç§°ã€æè¿°æ¨¡ç³Šæœç´¢</span></span><br><span class="line"><span class="meta">                    - **åˆ†ç±»ç­›é€‰**: æŒ‰å•†å“åˆ†ç±»è¿›è¡Œç­›é€‰</span></span><br><span class="line"><span class="meta">                    - **ä»·æ ¼åŒºé—´**: æ”¯æŒæœ€ä½ä»·å’Œæœ€é«˜ä»·ç­›é€‰</span></span><br><span class="line"><span class="meta">                    - **çŠ¶æ€ç­›é€‰**: æ”¯æŒæŒ‰å•†å“çŠ¶æ€ç­›é€‰</span></span><br><span class="line"><span class="meta">                    - **æ’åºåŠŸèƒ½**: æ”¯æŒæŒ‰ä»·æ ¼ã€åˆ›å»ºæ—¶é—´ã€é”€é‡ç­‰æ’åº</span></span><br><span class="line"><span class="meta">                    </span></span><br><span class="line"><span class="meta">                    ### ğŸ’¡ ä½¿ç”¨æŠ€å·§</span></span><br><span class="line"><span class="meta">                    - å¤šä¸ªæ¡ä»¶å¯ä»¥ç»„åˆä½¿ç”¨ï¼Œç³»ç»Ÿä¼šæ™ºèƒ½åŒ¹é…</span></span><br><span class="line"><span class="meta">                    - æ”¯æŒåˆ†é¡µæŸ¥è¯¢ï¼Œé¿å…æ•°æ®é‡è¿‡å¤§å½±å“æ€§èƒ½</span></span><br><span class="line"><span class="meta">                    - é»˜è®¤æŒ‰ç›¸å…³åº¦æ’åºï¼Œä¹Ÿå¯ä»¥æŒ‡å®šå…¶ä»–æ’åºæ–¹å¼</span></span><br><span class="line"><span class="meta">                    &quot;&quot;&quot;,</span></span><br><span class="line"><span class="meta">            tags = &#123;&quot;å•†å“æŸ¥è¯¢&quot;&#125;</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="meta">@Parameters(&#123;</span></span><br><span class="line"><span class="meta">            @Parameter(name = &quot;keyword&quot;, description = &quot;æœç´¢å…³é”®å­—&quot;, example = &quot;iPhone&quot;),</span></span><br><span class="line"><span class="meta">            @Parameter(name = &quot;categoryId&quot;, description = &quot;å•†å“åˆ†ç±»ID&quot;, example = &quot;1&quot;),</span></span><br><span class="line"><span class="meta">            @Parameter(name = &quot;minPrice&quot;, description = &quot;æœ€ä½ä»·æ ¼&quot;, example = &quot;100.00&quot;),</span></span><br><span class="line"><span class="meta">            @Parameter(name = &quot;maxPrice&quot;, description = &quot;æœ€é«˜ä»·æ ¼&quot;, example = &quot;10000.00&quot;),</span></span><br><span class="line"><span class="meta">            @Parameter(name = &quot;status&quot;, description = &quot;å•†å“çŠ¶æ€&quot;, example = &quot;ACTIVE&quot;),</span></span><br><span class="line"><span class="meta">            @Parameter(name = &quot;sortBy&quot;, description = &quot;æ’åºå­—æ®µ&quot;, example = &quot;price&quot;, </span></span><br><span class="line"><span class="meta">                      schema = @Schema(allowableValues = &#123;&quot;price&quot;, &quot;createTime&quot;, &quot;sales&quot;&#125;)),</span></span><br><span class="line"><span class="meta">            @Parameter(name = &quot;sortOrder&quot;, description = &quot;æ’åºæ–¹å‘&quot;, example = &quot;asc&quot;,</span></span><br><span class="line"><span class="meta">                      schema = @Schema(allowableValues = &#123;&quot;asc&quot;, &quot;desc&quot;&#125;)),</span></span><br><span class="line"><span class="meta">            @Parameter(name = &quot;page&quot;, description = &quot;é¡µç &quot;, example = &quot;1&quot;),</span></span><br><span class="line"><span class="meta">            @Parameter(name = &quot;size&quot;, description = &quot;æ¯é¡µå¤§å°&quot;, example = &quot;20&quot;)</span></span><br><span class="line"><span class="meta">    &#125;)</span></span><br><span class="line">    <span class="meta">@ApiResponses(&#123;</span></span><br><span class="line"><span class="meta">            @SwaggerApiResponse(</span></span><br><span class="line"><span class="meta">                    responseCode = &quot;200&quot;,</span></span><br><span class="line"><span class="meta">                    description = &quot;æœç´¢æˆåŠŸ&quot;,</span></span><br><span class="line"><span class="meta">                    content = @Content(</span></span><br><span class="line"><span class="meta">                            mediaType = &quot;application/json&quot;,</span></span><br><span class="line"><span class="meta">                            examples = @ExampleObject(</span></span><br><span class="line"><span class="meta">                                    name = &quot;æœç´¢ç»“æœ&quot;,</span></span><br><span class="line"><span class="meta">                                    value = &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                                            &#123;</span></span><br><span class="line"><span class="meta">                                              &quot;code&quot;: 200,</span></span><br><span class="line"><span class="meta">                                              &quot;message&quot;: &quot;æœç´¢æˆåŠŸ&quot;,</span></span><br><span class="line"><span class="meta">                                              &quot;data&quot;: &#123;</span></span><br><span class="line"><span class="meta">                                                &quot;list&quot;: [</span></span><br><span class="line"><span class="meta">                                                  &#123;</span></span><br><span class="line"><span class="meta">                                                    &quot;id&quot;: 1,</span></span><br><span class="line"><span class="meta">                                                    &quot;name&quot;: &quot;iPhone 15 Pro Max&quot;,</span></span><br><span class="line"><span class="meta">                                                    &quot;description&quot;: &quot;è‹¹æœæœ€æ–°æ——èˆ°æ‰‹æœº&quot;,</span></span><br><span class="line"><span class="meta">                                                    &quot;price&quot;: 9999.00,</span></span><br><span class="line"><span class="meta">                                                    &quot;stock&quot;: 50,</span></span><br><span class="line"><span class="meta">                                                    &quot;categoryId&quot;: 1,</span></span><br><span class="line"><span class="meta">                                                    &quot;categoryName&quot;: &quot;æ•°ç äº§å“&quot;,</span></span><br><span class="line"><span class="meta">                                                    &quot;status&quot;: &quot;ACTIVE&quot;,</span></span><br><span class="line"><span class="meta">                                                    &quot;imageUrls&quot;: [&quot;http://example.com/image1.jpg&quot;]</span></span><br><span class="line"><span class="meta">                                                  &#125;</span></span><br><span class="line"><span class="meta">                                                ],</span></span><br><span class="line"><span class="meta">                                                &quot;total&quot;: 1,</span></span><br><span class="line"><span class="meta">                                                &quot;page&quot;: 1,</span></span><br><span class="line"><span class="meta">                                                &quot;size&quot;: 20</span></span><br><span class="line"><span class="meta">                                              &#125;,</span></span><br><span class="line"><span class="meta">                                              &quot;timestamp&quot;: &quot;2024-01-01 12:00:00&quot;</span></span><br><span class="line"><span class="meta">                                            &#125;</span></span><br><span class="line"><span class="meta">                                            &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                            )</span></span><br><span class="line"><span class="meta">                    )</span></span><br><span class="line"><span class="meta">            )</span></span><br><span class="line"><span class="meta">    &#125;)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;ApiResponse&lt;Object&gt;&gt; <span class="title function_">searchProducts</span><span class="params">(</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(required = false)</span> String keyword,</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(required = false)</span> Long categoryId,</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(required = false)</span> BigDecimal minPrice,</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(required = false)</span> BigDecimal maxPrice,</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(required = false)</span> Product.ProductStatus status,</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(defaultValue = &quot;createTime&quot;)</span> String sortBy,</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(defaultValue = &quot;desc&quot;)</span> String sortOrder,</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(defaultValue = &quot;1&quot;)</span> Integer page,</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(defaultValue = &quot;20&quot;)</span> Integer size)</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿæœç´¢é€»è¾‘</span></span><br><span class="line">        <span class="type">Product</span> <span class="variable">mockProduct</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Product</span>();</span><br><span class="line">        mockProduct.setId(<span class="number">1L</span>);</span><br><span class="line">        mockProduct.setName(<span class="string">&quot;iPhone 15 Pro Max&quot;</span>);</span><br><span class="line">        mockProduct.setDescription(<span class="string">&quot;è‹¹æœæœ€æ–°æ——èˆ°æ‰‹æœºï¼Œæ€§èƒ½å¼ºæ‚&quot;</span>);</span><br><span class="line">        mockProduct.setPrice(<span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="string">&quot;9999.00&quot;</span>));</span><br><span class="line">        mockProduct.setStock(<span class="number">50</span>);</span><br><span class="line">        mockProduct.setCategoryId(<span class="number">1L</span>);</span><br><span class="line">        mockProduct.setCategoryName(<span class="string">&quot;æ•°ç äº§å“&quot;</span>);</span><br><span class="line">        mockProduct.setStatus(Product.ProductStatus.ACTIVE);</span><br><span class="line">        mockProduct.setImageUrls(Arrays.asList(<span class="string">&quot;http://example.com/image1.jpg&quot;</span>));</span><br><span class="line">        mockProduct.setCreateTime(LocalDateTime.now());</span><br><span class="line">        </span><br><span class="line">        List&lt;Product&gt; products = Arrays.asList(mockProduct);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ„é€ åˆ†é¡µç»“æœ</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>() &#123;</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">final</span> List&lt;Product&gt; list = products;</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">total</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">page</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">final</span> <span class="type">boolean</span> <span class="variable">hasNext</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">final</span> <span class="type">boolean</span> <span class="variable">hasPrev</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok(ApiResponse.success(<span class="string">&quot;æœç´¢æˆåŠŸ&quot;</span>, result));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ›å»ºå•†å“</span></span><br><span class="line"><span class="comment">     * è¿™ä¸ªæ¥å£å°±åƒæ˜¯å•†å“çš„&quot;å‡ºç”Ÿç™»è®°å¤„&quot;ï¼Œæ¯ä¸ªæ–°å•†å“éƒ½è¦åœ¨è¿™é‡Œç™»è®°é€ å†Œï¼</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="meta">@Operation(</span></span><br><span class="line"><span class="meta">            summary = &quot;åˆ›å»ºå•†å“&quot;,</span></span><br><span class="line"><span class="meta">            description = &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                    åˆ›å»ºä¸€ä¸ªæ–°çš„å•†å“ã€‚</span></span><br><span class="line"><span class="meta">                    </span></span><br><span class="line"><span class="meta">                    ### âœ… éªŒè¯è§„åˆ™</span></span><br><span class="line"><span class="meta">                    - å•†å“åç§°ï¼š2-100å­—ç¬¦ï¼Œå¿…å¡«</span></span><br><span class="line"><span class="meta">                    - å•†å“ä»·æ ¼ï¼š0.01-999999.99ï¼Œå¿…å¡«</span></span><br><span class="line"><span class="meta">                    - åº“å­˜æ•°é‡ï¼šä¸èƒ½ä¸ºè´Ÿæ•°ï¼Œå¿…å¡«</span></span><br><span class="line"><span class="meta">                    - å•†å“åˆ†ç±»ï¼šå¿…é¡»é€‰æ‹©æœ‰æ•ˆåˆ†ç±»ï¼Œå¿…å¡«</span></span><br><span class="line"><span class="meta">                    - å•†å“æè¿°ï¼šæœ€å¤š1000å­—ç¬¦ï¼Œé€‰å¡«</span></span><br><span class="line"><span class="meta">                    </span></span><br><span class="line"><span class="meta">                    ### ğŸ¯ åˆ›å»ºå</span></span><br><span class="line"><span class="meta">                    - ç³»ç»Ÿè‡ªåŠ¨è®¾ç½®åˆ›å»ºæ—¶é—´å’Œæ›´æ–°æ—¶é—´</span></span><br><span class="line"><span class="meta">                    - é»˜è®¤çŠ¶æ€ä¸ºACTIVEï¼ˆæ­£å¸¸é”€å”®ï¼‰</span></span><br><span class="line"><span class="meta">                    - è¿”å›å®Œæ•´çš„å•†å“ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç³»ç»Ÿç”Ÿæˆçš„ID</span></span><br><span class="line"><span class="meta">                    &quot;&quot;&quot;,</span></span><br><span class="line"><span class="meta">            tags = &#123;&quot;å•†å“ç®¡ç†&quot;&#125;</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="meta">@io</span>.swagger.v3.oas.annotations.parameters.RequestBody(</span><br><span class="line">            description = <span class="string">&quot;å•†å“ä¿¡æ¯&quot;</span>,</span><br><span class="line">            required = <span class="literal">true</span>,</span><br><span class="line">            content = <span class="meta">@Content(</span></span><br><span class="line"><span class="meta">                    mediaType = &quot;application/json&quot;,</span></span><br><span class="line"><span class="meta">                    schema = @Schema(implementation = Product.class),</span></span><br><span class="line"><span class="meta">                    examples = @ExampleObject(</span></span><br><span class="line"><span class="meta">                            name = &quot;åˆ›å»ºå•†å“ç¤ºä¾‹&quot;,</span></span><br><span class="line"><span class="meta">                            value = &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                                    &#123;</span></span><br><span class="line"><span class="meta">                                      &quot;name&quot;: &quot;MacBook Pro 16è‹±å¯¸&quot;,</span></span><br><span class="line"><span class="meta">                                      &quot;description&quot;: &quot;è‹¹æœä¸“ä¸šçº§ç¬”è®°æœ¬ç”µè„‘ï¼Œé€‚åˆå¼€å‘å’Œè®¾è®¡å·¥ä½œ&quot;,</span></span><br><span class="line"><span class="meta">                                      &quot;price&quot;: 19999.00,</span></span><br><span class="line"><span class="meta">                                      &quot;stock&quot;: 30,</span></span><br><span class="line"><span class="meta">                                      &quot;categoryId&quot;: 2,</span></span><br><span class="line"><span class="meta">                                      &quot;imageUrls&quot;: [</span></span><br><span class="line"><span class="meta">                                        &quot;http://example.com/macbook1.jpg&quot;,</span></span><br><span class="line"><span class="meta">                                        &quot;http://example.com/macbook2.jpg&quot;</span></span><br><span class="line"><span class="meta">                                      ]</span></span><br><span class="line"><span class="meta">                                    &#125;</span></span><br><span class="line"><span class="meta">                                    &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                    )</span></span><br><span class="line"><span class="meta">            )</span></span><br><span class="line">    )</span><br><span class="line">    <span class="meta">@ApiResponses(&#123;</span></span><br><span class="line"><span class="meta">            @SwaggerApiResponse(</span></span><br><span class="line"><span class="meta">                    responseCode = &quot;201&quot;,</span></span><br><span class="line"><span class="meta">                    description = &quot;å•†å“åˆ›å»ºæˆåŠŸ&quot;,</span></span><br><span class="line"><span class="meta">                    content = @Content(</span></span><br><span class="line"><span class="meta">                            mediaType = &quot;application/json&quot;,</span></span><br><span class="line"><span class="meta">                            examples = @ExampleObject(</span></span><br><span class="line"><span class="meta">                                    value = &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                                            &#123;</span></span><br><span class="line"><span class="meta">                                              &quot;code&quot;: 200,</span></span><br><span class="line"><span class="meta">                                              &quot;message&quot;: &quot;å•†å“åˆ›å»ºæˆåŠŸ&quot;,</span></span><br><span class="line"><span class="meta">                                              &quot;data&quot;: &#123;</span></span><br><span class="line"><span class="meta">                                                &quot;id&quot;: 1,</span></span><br><span class="line"><span class="meta">                                                &quot;name&quot;: &quot;MacBook Pro 16è‹±å¯¸&quot;,</span></span><br><span class="line"><span class="meta">                                                &quot;description&quot;: &quot;è‹¹æœä¸“ä¸šçº§ç¬”è®°æœ¬ç”µè„‘&quot;,</span></span><br><span class="line"><span class="meta">                                                &quot;price&quot;: 19999.00,</span></span><br><span class="line"><span class="meta">                                                &quot;stock&quot;: 30,</span></span><br><span class="line"><span class="meta">                                                &quot;categoryId&quot;: 2,</span></span><br><span class="line"><span class="meta">                                                &quot;categoryName&quot;: &quot;ç¬”è®°æœ¬ç”µè„‘&quot;,</span></span><br><span class="line"><span class="meta">                                                &quot;status&quot;: &quot;ACTIVE&quot;,</span></span><br><span class="line"><span class="meta">                                                &quot;createTime&quot;: &quot;2024-01-01 12:00:00&quot;,</span></span><br><span class="line"><span class="meta">                                                &quot;updateTime&quot;: &quot;2024-01-01 12:00:00&quot;</span></span><br><span class="line"><span class="meta">                                              &#125;,</span></span><br><span class="line"><span class="meta">                                              &quot;timestamp&quot;: &quot;2024-01-01 12:00:00&quot;</span></span><br><span class="line"><span class="meta">                                            &#125;</span></span><br><span class="line"><span class="meta">                                            &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                            )</span></span><br><span class="line"><span class="meta">                    )</span></span><br><span class="line"><span class="meta">            ),</span></span><br><span class="line"><span class="meta">            @SwaggerApiResponse(</span></span><br><span class="line"><span class="meta">                    responseCode = &quot;400&quot;,</span></span><br><span class="line"><span class="meta">                    description = &quot;å‚æ•°éªŒè¯å¤±è´¥&quot;,</span></span><br><span class="line"><span class="meta">                    content = @Content(</span></span><br><span class="line"><span class="meta">                            mediaType = &quot;application/json&quot;,</span></span><br><span class="line"><span class="meta">                            examples = @ExampleObject(</span></span><br><span class="line"><span class="meta">                                    value = &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                                            &#123;</span></span><br><span class="line"><span class="meta">                                              &quot;code&quot;: 400,</span></span><br><span class="line"><span class="meta">                                              &quot;message&quot;: &quot;å•†å“åç§°ä¸èƒ½ä¸ºç©º&quot;,</span></span><br><span class="line"><span class="meta">                                              &quot;data&quot;: null,</span></span><br><span class="line"><span class="meta">                                              &quot;timestamp&quot;: &quot;2024-01-01 12:00:00&quot;</span></span><br><span class="line"><span class="meta">                                            &#125;</span></span><br><span class="line"><span class="meta">                                            &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                            )</span></span><br><span class="line"><span class="meta">                    )</span></span><br><span class="line"><span class="meta">            )</span></span><br><span class="line"><span class="meta">    &#125;)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;ApiResponse&lt;Product&gt;&gt; <span class="title function_">createProduct</span><span class="params">(<span class="meta">@Valid</span> <span class="meta">@RequestBody</span> Product product)</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿåˆ›å»ºé€»è¾‘</span></span><br><span class="line">        product.setId(System.currentTimeMillis()); <span class="comment">// æ¨¡æ‹ŸIDç”Ÿæˆ</span></span><br><span class="line">        product.setStatus(Product.ProductStatus.ACTIVE);</span><br><span class="line">        product.setCreateTime(LocalDateTime.now());</span><br><span class="line">        product.setUpdateTime(LocalDateTime.now());</span><br><span class="line">        product.setCategoryName(<span class="string">&quot;æ•°ç äº§å“&quot;</span>); <span class="comment">// æ¨¡æ‹Ÿåˆ†ç±»åç§°</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.status(HttpStatus.CREATED)</span><br><span class="line">                .body(ApiResponse.success(<span class="string">&quot;å•†å“åˆ›å»ºæˆåŠŸ&quot;</span>, product));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ‰¹é‡æ›´æ–°åº“å­˜</span></span><br><span class="line"><span class="comment">     * è¿™ä¸ªæ¥å£å°±åƒæ˜¯ä»“åº“ç®¡ç†å‘˜ï¼Œå¯ä»¥ä¸€æ¬¡æ€§è°ƒæ•´å¤šä¸ªå•†å“çš„åº“å­˜</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PatchMapping(&quot;/stock/batch&quot;)</span></span><br><span class="line">    <span class="meta">@Operation(</span></span><br><span class="line"><span class="meta">            summary = &quot;æ‰¹é‡æ›´æ–°åº“å­˜&quot;,</span></span><br><span class="line"><span class="meta">            description = &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                    æ‰¹é‡æ›´æ–°å¤šä¸ªå•†å“çš„åº“å­˜æ•°é‡ã€‚</span></span><br><span class="line"><span class="meta">                    </span></span><br><span class="line"><span class="meta">                    ### ğŸ“¦ åŠŸèƒ½è¯´æ˜</span></span><br><span class="line"><span class="meta">                    - æ”¯æŒåŒæ—¶æ›´æ–°å¤šä¸ªå•†å“çš„åº“å­˜</span></span><br><span class="line"><span class="meta">                    - æ”¯æŒå¢åŠ æˆ–å‡å°‘åº“å­˜æ“ä½œ</span></span><br><span class="line"><span class="meta">                    - ä¼šè‡ªåŠ¨æ£€æŸ¥åº“å­˜ä¸èƒ½ä¸ºè´Ÿæ•°</span></span><br><span class="line"><span class="meta">                    - åº“å­˜å˜åŠ¨ä¼šè®°å½•æ—¥å¿—ï¼Œä¾¿äºè¿½è¸ª</span></span><br><span class="line"><span class="meta">                    </span></span><br><span class="line"><span class="meta">                    ### âš ï¸ æ³¨æ„äº‹é¡¹</span></span><br><span class="line"><span class="meta">                    - å‡å°‘åº“å­˜æ—¶ï¼Œä¸èƒ½ä½¿åº“å­˜å˜ä¸ºè´Ÿæ•°</span></span><br><span class="line"><span class="meta">                    - å•†å“IDå¿…é¡»å­˜åœ¨ï¼Œå¦åˆ™ä¼šè·³è¿‡è¯¥å•†å“</span></span><br><span class="line"><span class="meta">                    - æ“ä½œå®Œæˆåä¼šè¿”å›æ›´æ–°ç»“æœç»Ÿè®¡</span></span><br><span class="line"><span class="meta">                    &quot;&quot;&quot;,</span></span><br><span class="line"><span class="meta">            tags = &#123;&quot;åº“å­˜ç®¡ç†&quot;&#125;</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="meta">@io</span>.swagger.v3.oas.annotations.parameters.RequestBody(</span><br><span class="line">            description = <span class="string">&quot;åº“å­˜æ›´æ–°ä¿¡æ¯åˆ—è¡¨&quot;</span>,</span><br><span class="line">            content = <span class="meta">@Content(</span></span><br><span class="line"><span class="meta">                    mediaType = &quot;application/json&quot;,</span></span><br><span class="line"><span class="meta">                    examples = @ExampleObject(</span></span><br><span class="line"><span class="meta">                            name = &quot;æ‰¹é‡æ›´æ–°åº“å­˜&quot;,</span></span><br><span class="line"><span class="meta">                            value = &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                                    [</span></span><br><span class="line"><span class="meta">                                      &#123;</span></span><br><span class="line"><span class="meta">                                        &quot;productId&quot;: 1,</span></span><br><span class="line"><span class="meta">                                        &quot;quantity&quot;: 10,</span></span><br><span class="line"><span class="meta">                                        &quot;operation&quot;: &quot;ADD&quot;</span></span><br><span class="line"><span class="meta">                                      &#125;,</span></span><br><span class="line"><span class="meta">                                      &#123;</span></span><br><span class="line"><span class="meta">                                        &quot;productId&quot;: 2,</span></span><br><span class="line"><span class="meta">                                        &quot;quantity&quot;: 5,</span></span><br><span class="line"><span class="meta">                                        &quot;operation&quot;: &quot;SUBTRACT&quot;</span></span><br><span class="line"><span class="meta">                                      &#125;</span></span><br><span class="line"><span class="meta">                                    ]</span></span><br><span class="line"><span class="meta">                                    &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">                    )</span></span><br><span class="line"><span class="meta">            )</span></span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;ApiResponse&lt;Object&gt;&gt; <span class="title function_">batchUpdateStock</span><span class="params">(</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestBody</span> List&lt;StockUpdateRequest&gt; requests)</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿæ‰¹é‡æ›´æ–°é€»è¾‘</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>() &#123;</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">totalRequests</span> <span class="operator">=</span> requests.size();</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">successCount</span> <span class="operator">=</span> requests.size();</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">failureCount</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">message</span> <span class="operator">=</span> <span class="string">&quot;æ‰€æœ‰å•†å“åº“å­˜æ›´æ–°æˆåŠŸ&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok(ApiResponse.success(<span class="string">&quot;æ‰¹é‡æ›´æ–°å®Œæˆ&quot;</span>, result));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åº“å­˜æ›´æ–°è¯·æ±‚DTO</span></span><br><span class="line">    <span class="meta">@Schema(name = &quot;StockUpdateRequest&quot;, description = &quot;åº“å­˜æ›´æ–°è¯·æ±‚&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">StockUpdateRequest</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="meta">@Schema(description = &quot;å•†å“ID&quot;, example = &quot;1&quot;, requiredMode = Schema.RequiredMode.REQUIRED)</span></span><br><span class="line">        <span class="keyword">private</span> Long productId;</span><br><span class="line">        </span><br><span class="line">        <span class="meta">@Schema(description = &quot;å˜åŠ¨æ•°é‡&quot;, example = &quot;10&quot;, requiredMode = Schema.RequiredMode.REQUIRED)</span></span><br><span class="line">        <span class="keyword">private</span> Integer quantity;</span><br><span class="line">        </span><br><span class="line">        <span class="meta">@Schema(description = &quot;æ“ä½œç±»å‹&quot;, example = &quot;ADD&quot;, allowableValues = &#123;&quot;ADD&quot;, &quot;SUBTRACT&quot;&#125;)</span></span><br><span class="line">        <span class="keyword">private</span> StockOperation operation;</span><br><span class="line">        </span><br><span class="line">        <span class="meta">@Schema(description = &quot;æ“ä½œè¯´æ˜&quot;, example = &quot;è¡¥è´§å…¥åº“&quot;)</span></span><br><span class="line">        <span class="keyword">private</span> String remark;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">StockOperation</span> &#123;</span><br><span class="line">            <span class="meta">@Schema(description = &quot;å¢åŠ åº“å­˜&quot;)</span></span><br><span class="line">            ADD,</span><br><span class="line">            <span class="meta">@Schema(description = &quot;å‡å°‘åº“å­˜&quot;)</span></span><br><span class="line">            SUBTRACT</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// getter and setter</span></span><br><span class="line">        <span class="keyword">public</span> Long <span class="title function_">getProductId</span><span class="params">()</span> &#123; <span class="keyword">return</span> productId; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setProductId</span><span class="params">(Long productId)</span> &#123; <span class="built_in">this</span>.productId = productId; &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">public</span> Integer <span class="title function_">getQuantity</span><span class="params">()</span> &#123; <span class="keyword">return</span> quantity; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setQuantity</span><span class="params">(Integer quantity)</span> &#123; <span class="built_in">this</span>.quantity = quantity; &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">public</span> StockOperation <span class="title function_">getOperation</span><span class="params">()</span> &#123; <span class="keyword">return</span> operation; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setOperation</span><span class="params">(StockOperation operation)</span> &#123; <span class="built_in">this</span>.operation = operation; &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getRemark</span><span class="params">()</span> &#123; <span class="keyword">return</span> remark; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setRemark</span><span class="params">(String remark)</span> &#123; <span class="built_in">this</span>.remark = remark; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çœ‹åˆ°è¿™ä¸ªå•†å“æ§åˆ¶å™¨ï¼Œæ˜¯ä¸æ˜¯æ„Ÿè§‰å¾ˆæœ‰å®æˆ˜ä»·å€¼ï¼ŸğŸ˜ å®ƒä¸ä»…åŒ…å«äº†å¸¸è§çš„CRUDæ“ä½œï¼Œè¿˜æœ‰æœç´¢ã€æ‰¹é‡æ“ä½œç­‰é«˜çº§åŠŸèƒ½ï¼Œè€Œä¸”æ¯ä¸ªæ¥å£çš„æ–‡æ¡£éƒ½éå¸¸è¯¦ç»†ï¼</p><h3 id="æœ€ä½³å®è·µä¸é¿å‘æŒ‡å—"><a class="markdownIt-Anchor" href="#æœ€ä½³å®è·µä¸é¿å‘æŒ‡å—"></a> ğŸ­ æœ€ä½³å®è·µä¸é¿å‘æŒ‡å—</h3><p>ç»è¿‡è¿™ä¹ˆå¤šå¹´çš„æ‘¸çˆ¬æ»šæ‰“ï¼Œæˆ‘æ€»ç»“äº†ä¸€äº›ä½¿ç”¨OpenAPIçš„æœ€ä½³å®è·µï¼Œè¿™äº›éƒ½æ˜¯æˆ‘è¸©è¿‡å‘åçš„è¡€æ³ªç»éªŒå•Šï¼ğŸ˜­</p><h4 id="æœ€ä½³å®è·µ"><a class="markdownIt-Anchor" href="#æœ€ä½³å®è·µ"></a> âœ… æœ€ä½³å®è·µ</h4><h5 id="1ï¸âƒ£-ç»Ÿä¸€å“åº”æ ¼å¼"><a class="markdownIt-Anchor" href="#1ï¸âƒ£-ç»Ÿä¸€å“åº”æ ¼å¼"></a> 1ï¸âƒ£ ç»Ÿä¸€å“åº”æ ¼å¼</h5><p><strong>ä¸€å®šè¦</strong>ä½¿ç”¨ç»Ÿä¸€çš„å“åº”æ ¼å¼ï¼è¿™ä¸ä»…è®©APIä½¿ç”¨è€…æ„Ÿåˆ°èˆ’é€‚ï¼Œä¹Ÿè®©æ–‡æ¡£çœ‹èµ·æ¥æ›´ä¸“ä¸šã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¥½çš„åšæ³• âœ…</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/users&quot;)</span></span><br><span class="line"><span class="keyword">public</span> ResponseEntity&lt;ApiResponse&lt;User&gt;&gt; <span class="title function_">createUser</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> ResponseEntity.ok(ApiResponse.success(<span class="string">&quot;åˆ›å»ºæˆåŠŸ&quot;</span>, user));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸å¥½çš„åšæ³• âŒ</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/users&quot;)</span> </span><br><span class="line"><span class="keyword">public</span> User <span class="title function_">createUser</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> user; <span class="comment">// æ²¡æœ‰ç»Ÿä¸€åŒ…è£…ï¼Œä¸åˆ©äºé”™è¯¯å¤„ç†</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="2ï¸âƒ£-è¯¦ç»†çš„å‚æ•°æè¿°"><a class="markdownIt-Anchor" href="#2ï¸âƒ£-è¯¦ç»†çš„å‚æ•°æè¿°"></a> 2ï¸âƒ£ è¯¦ç»†çš„å‚æ•°æè¿°</h5><p>å‚æ•°æè¿°è¦è¯¦ç»†ï¼Œè¦è®©ä½¿ç”¨è€…ä¸€çœ‹å°±æ˜ç™½ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¥½çš„åšæ³• âœ…</span></span><br><span class="line"><span class="meta">@Parameter(</span></span><br><span class="line"><span class="meta">    name = &quot;status&quot;,</span></span><br><span class="line"><span class="meta">    description = &quot;ç”¨æˆ·çŠ¶æ€ç­›é€‰æ¡ä»¶ã€‚ACTIVEè¡¨ç¤ºæ­£å¸¸ç”¨æˆ·ï¼ŒINACTIVEè¡¨ç¤ºç¦ç”¨ç”¨æˆ·ï¼ŒBANNEDè¡¨ç¤ºå°ç¦ç”¨æˆ·&quot;,</span></span><br><span class="line"><span class="meta">    example = &quot;ACTIVE&quot;,</span></span><br><span class="line"><span class="meta">    schema = @Schema(allowableValues = &#123;&quot;ACTIVE&quot;, &quot;INACTIVE&quot;, &quot;BANNED&quot;&#125;)</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸å¥½çš„åšæ³• âŒ</span></span><br><span class="line"><span class="meta">@Parameter(name = &quot;status&quot;, description = &quot;çŠ¶æ€&quot;)</span> <span class="comment">// å¤ªç®€å•ï¼Œä¸çŸ¥é“æœ‰å“ªäº›å€¼</span></span><br></pre></td></tr></table></figure><h5 id="3ï¸âƒ£-åˆç†ä½¿ç”¨ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#3ï¸âƒ£-åˆç†ä½¿ç”¨ç¤ºä¾‹"></a> 3ï¸âƒ£ åˆç†ä½¿ç”¨ç¤ºä¾‹</h5><p>ç¤ºä¾‹è¦è´´è¿‘çœŸå®åœºæ™¯ï¼Œä¸è¦ç”¨<code>foo</code>ã€<code>bar</code>è¿™ç§æ— æ„ä¹‰çš„å€¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¥½çš„åšæ³• âœ…</span></span><br><span class="line"><span class="meta">@ExampleObject(</span></span><br><span class="line"><span class="meta">    name = &quot;åˆ›å»ºç”¨æˆ·&quot;,</span></span><br><span class="line"><span class="meta">    value = &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">            &#123;</span></span><br><span class="line"><span class="meta">              &quot;username&quot;: &quot;zhangsan&quot;,</span></span><br><span class="line"><span class="meta">              &quot;email&quot;: &quot;zhangsan@example.com&quot;,</span></span><br><span class="line"><span class="meta">              &quot;age&quot;: 25,</span></span><br><span class="line"><span class="meta">              &quot;phone&quot;: &quot;13812345678&quot;</span></span><br><span class="line"><span class="meta">            &#125;</span></span><br><span class="line"><span class="meta">            &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸å¥½çš„åšæ³• âŒ</span></span><br><span class="line"><span class="meta">@ExampleObject(</span></span><br><span class="line"><span class="meta">    value = &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">            &#123;</span></span><br><span class="line"><span class="meta">              &quot;username&quot;: &quot;foo&quot;,</span></span><br><span class="line"><span class="meta">              &quot;email&quot;: &quot;bar@baz.com&quot;,</span></span><br><span class="line"><span class="meta">              &quot;age&quot;: 123</span></span><br><span class="line"><span class="meta">            &#125;</span></span><br><span class="line"><span class="meta">            &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">)</span></span><br></pre></td></tr></table></figure><h4 id="ï¸-å¸¸è§é™·é˜±"><a class="markdownIt-Anchor" href="#ï¸-å¸¸è§é™·é˜±"></a> âš ï¸ å¸¸è§é™·é˜±</h4><h5 id="1ï¸âƒ£-å¿˜è®°å¤„ç†ä¸åŒå“åº”ç "><a class="markdownIt-Anchor" href="#1ï¸âƒ£-å¿˜è®°å¤„ç†ä¸åŒå“åº”ç "></a> 1ï¸âƒ£ å¿˜è®°å¤„ç†ä¸åŒå“åº”ç </h5><p>å¾ˆå¤šåŒå­¦åªå†™200çš„æƒ…å†µï¼Œå®Œå…¨å¿˜è®°äº†é”™è¯¯å¤„ç†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®Œæ•´çš„åšæ³• âœ…</span></span><br><span class="line"><span class="meta">@ApiResponses(&#123;</span></span><br><span class="line"><span class="meta">    @SwaggerApiResponse(responseCode = &quot;200&quot;, description = &quot;æ“ä½œæˆåŠŸ&quot;),</span></span><br><span class="line"><span class="meta">    @SwaggerApiResponse(responseCode = &quot;400&quot;, description = &quot;å‚æ•°é”™è¯¯&quot;),</span></span><br><span class="line"><span class="meta">    @SwaggerApiResponse(responseCode = &quot;401&quot;, description = &quot;æœªè®¤è¯&quot;),</span></span><br><span class="line"><span class="meta">    @SwaggerApiResponse(responseCode = &quot;403&quot;, description = &quot;æƒé™ä¸è¶³&quot;),</span></span><br><span class="line"><span class="meta">    @SwaggerApiResponse(responseCode = &quot;404&quot;, description = &quot;èµ„æºä¸å­˜åœ¨&quot;),</span></span><br><span class="line"><span class="meta">    @SwaggerApiResponse(responseCode = &quot;500&quot;, description = &quot;æœåŠ¡å™¨é”™è¯¯&quot;)</span></span><br><span class="line"><span class="meta">&#125;)</span></span><br></pre></td></tr></table></figure><h5 id="2ï¸âƒ£-å¿½ç•¥æ•°æ®éªŒè¯æ³¨è§£"><a class="markdownIt-Anchor" href="#2ï¸âƒ£-å¿½ç•¥æ•°æ®éªŒè¯æ³¨è§£"></a> 2ï¸âƒ£ å¿½ç•¥æ•°æ®éªŒè¯æ³¨è§£</h5><p>è®°ä½ï¼ŒSpringçš„éªŒè¯æ³¨è§£å’ŒOpenAPIæ³¨è§£è¦é…åˆä½¿ç”¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­£ç¡®çš„åšæ³• âœ…</span></span><br><span class="line"><span class="meta">@Schema(description = &quot;ç”¨æˆ·å¹´é¾„&quot;, example = &quot;25&quot;, minimum = &quot;1&quot;, maximum = &quot;150&quot;)</span></span><br><span class="line"><span class="meta">@Min(value = 1, message = &quot;å¹´é¾„å¿…é¡»å¤§äº0&quot;)</span></span><br><span class="line"><span class="meta">@Max(value = 150, message = &quot;å¹´é¾„ä¸èƒ½è¶…è¿‡150&quot;)</span></span><br><span class="line"><span class="keyword">private</span> Integer age;</span><br></pre></td></tr></table></figure><h5 id="3ï¸âƒ£-ç”Ÿäº§ç¯å¢ƒæš´éœ²æ–‡æ¡£"><a class="markdownIt-Anchor" href="#3ï¸âƒ£-ç”Ÿäº§ç¯å¢ƒæš´éœ²æ–‡æ¡£"></a> 3ï¸âƒ£ ç”Ÿäº§ç¯å¢ƒæš´éœ²æ–‡æ¡£</h5><p>ç”Ÿäº§ç¯å¢ƒä¸€å®šè¦å…³é—­APIæ–‡æ¡£ï¼è¿™ä¸ªå‘æˆ‘è§è¿‡å¤ªå¤šå›¢é˜Ÿè¸©äº†ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”Ÿäº§ç¯å¢ƒé…ç½®</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span></span><br><span class="line">    <span class="attr">active:</span> <span class="string">prod</span></span><br><span class="line">    </span><br><span class="line"><span class="attr">springdoc:</span></span><br><span class="line">  <span class="attr">api-docs:</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">false</span>  <span class="comment"># ç”Ÿäº§ç¯å¢ƒå…³é—­</span></span><br><span class="line">  <span class="attr">swagger-ui:</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">false</span>  <span class="comment"># ç”Ÿäº§ç¯å¢ƒå…³é—­</span></span><br></pre></td></tr></table></figure><h4 id="æ€§èƒ½ä¼˜åŒ–æŠ€å·§"><a class="markdownIt-Anchor" href="#æ€§èƒ½ä¼˜åŒ–æŠ€å·§"></a> ğŸ”§ æ€§èƒ½ä¼˜åŒ–æŠ€å·§</h4><h5 id="1ï¸âƒ£-æ‡’åŠ è½½é…ç½®"><a class="markdownIt-Anchor" href="#1ï¸âƒ£-æ‡’åŠ è½½é…ç½®"></a> 1ï¸âƒ£ æ‡’åŠ è½½é…ç½®</h5><p>å¯¹äºå¤§å‹é¡¹ç›®ï¼Œå¯ä»¥é…ç½®æ‡’åŠ è½½æ¥æå‡å¯åŠ¨é€Ÿåº¦ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">springdoc:</span></span><br><span class="line">  <span class="attr">lazy-initialization:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">cache:</span></span><br><span class="line">    <span class="attr">disabled:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h5 id="2ï¸âƒ£-æ’é™¤ä¸å¿…è¦çš„æ¥å£"><a class="markdownIt-Anchor" href="#2ï¸âƒ£-æ’é™¤ä¸å¿…è¦çš„æ¥å£"></a> 2ï¸âƒ£ æ’é™¤ä¸å¿…è¦çš„æ¥å£</h5><p>æœ‰äº›å†…éƒ¨æ¥å£ä¸éœ€è¦å‡ºç°åœ¨æ–‡æ¡£ä¸­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@Hidden</span>  <span class="comment">// æ•´ä¸ªæ§åˆ¶å™¨éƒ½ä¸åœ¨æ–‡æ¡£ä¸­æ˜¾ç¤º</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InternalController</span> &#123;</span><br><span class="line">    <span class="comment">// å†…éƒ¨æ¥å£</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ–è€…å•ä¸ªæ–¹æ³•</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/internal&quot;)</span></span><br><span class="line"><span class="meta">@Hidden</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">internalMethod</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;internal&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“ä¸å±•æœ›"><a class="markdownIt-Anchor" href="#æ€»ç»“ä¸å±•æœ›"></a> ğŸŒŸ æ€»ç»“ä¸å±•æœ›</h3><p>å†™åˆ°è¿™é‡Œï¼Œæˆ‘ä¸ç¦æ„Ÿæ…¨ä¸‡åƒå•Šï¼ğŸ˜Œ ä»æœ€åˆçš„æ‰‹å†™APIæ–‡æ¡£ï¼Œåˆ°ç°åœ¨çš„è‡ªåŠ¨åŒ–ç”Ÿæˆï¼ŒæŠ€æœ¯çš„å‘å±•çœŸæ˜¯æ—¥æ–°æœˆå¼‚ï¼</p><h4 id="æ ¸å¿ƒè¦ç‚¹å›é¡¾"><a class="markdownIt-Anchor" href="#æ ¸å¿ƒè¦ç‚¹å›é¡¾"></a> ğŸ¯ æ ¸å¿ƒè¦ç‚¹å›é¡¾</h4><p>è®©æˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹è¿™ç¯‡æ–‡ç« çš„æ ¸å¿ƒè¦ç‚¹ï¼š</p><ol><li><p><strong>SpringBoot 3.xçš„å˜é©</strong>ï¼šå…¨é¢æ‹¥æŠ±Jakarta EEï¼Œæœ€ä½Java 17ï¼Œä¸ºæˆ‘ä»¬å¸¦æ¥äº†æ›´ç°ä»£åŒ–çš„å¼€å‘ä½“éªŒ</p></li><li><p><strong>OpenAPI 3.0çš„å¼ºå¤§</strong>ï¼šç›¸æ¯”2.0ç‰ˆæœ¬ï¼Œ3.0åœ¨æ•°æ®ç±»å‹ã€è®¤è¯æœºåˆ¶ã€ç»„ä»¶å¤ç”¨ç­‰æ–¹é¢éƒ½æœ‰æ˜¾è‘—æå‡</p></li><li><p><strong>SpringDocçš„é€‰æ‹©</strong>ï¼šåœ¨SpringFoxåœæ­¢ç»´æŠ¤çš„æƒ…å†µä¸‹ï¼ŒSpringDocæˆä¸ºäº†SpringBoot 3.xæ—¶ä»£çš„æœ€ä½³é€‰æ‹©</p></li><li><p><strong>æ³¨è§£çš„è‰ºæœ¯</strong>ï¼šé€šè¿‡åˆç†ä½¿ç”¨<code>@Operation</code>ã€<code>@Schema</code>ã€<code>@Parameter</code>ç­‰æ³¨è§£ï¼Œæˆ‘ä»¬å¯ä»¥ç”Ÿæˆéå¸¸ä¸“ä¸šçš„APIæ–‡æ¡£</p></li><li><p><strong>æœ€ä½³å®è·µçš„é‡è¦æ€§</strong>ï¼šç»Ÿä¸€å“åº”æ ¼å¼ã€è¯¦ç»†å‚æ•°æè¿°ã€åˆç†ç¤ºä¾‹ä½¿ç”¨ç­‰å®è·µè®©æˆ‘ä»¬çš„APIæ›´åŠ ä¼˜é›…</p></li></ol><h4 id="æœªæ¥å‘å±•è¶‹åŠ¿"><a class="markdownIt-Anchor" href="#æœªæ¥å‘å±•è¶‹åŠ¿"></a> ğŸš€ æœªæ¥å‘å±•è¶‹åŠ¿</h4><p>å±•æœ›æœªæ¥ï¼ŒAPIæ–‡æ¡£çš„å‘å±•è¿˜æœ‰å¾ˆå¤šä»¤äººå…´å¥‹çš„å¯èƒ½æ€§ï¼š</p><p><strong>ğŸ¤– AIé©±åŠ¨çš„æ–‡æ¡£ç”Ÿæˆ</strong><br />éšç€AIæŠ€æœ¯çš„å‘å±•ï¼Œæœªæ¥å¯èƒ½ä¼šæœ‰AIåŠ©æ‰‹è‡ªåŠ¨åˆ†æä»£ç é€»è¾‘ï¼Œç”Ÿæˆæ›´æ™ºèƒ½ã€æ›´è‡ªç„¶çš„APIæè¿°ã€‚æƒ³è±¡ä¸€ä¸‹ï¼ŒAIèƒ½ç†è§£ä½ çš„ä¸šåŠ¡é€»è¾‘ï¼Œè‡ªåŠ¨ç”Ÿæˆè´´åˆåœºæ™¯çš„ç¤ºä¾‹å’Œè¯´æ˜ï¼Œé‚£è¯¥å¤šé…·å•Šï¼</p><p><strong>ğŸ¨ æ›´ä¸°å¯Œçš„äº¤äº’ä½“éªŒ</strong><br />æœªæ¥çš„APIæ–‡æ¡£å¯èƒ½ä¸å†æ˜¯é™æ€çš„é¡µé¢ï¼Œè€Œæ˜¯åƒæ¸¸æˆä¸€æ ·çš„äº¤äº’å¼ä½“éªŒã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡å¯è§†åŒ–çš„æ–¹å¼æ¢ç´¢APIï¼Œå®æ—¶çœ‹åˆ°æ•°æ®æµè½¬ï¼Œç”šè‡³å¯ä»¥&quot;ç©&quot;APIï¼</p><p><strong>ğŸ“± ç§»åŠ¨ç«¯ä¼˜å…ˆçš„è®¾è®¡</strong><br />éšç€ç§»åŠ¨å¼€å‘çš„æ™®åŠï¼ŒAPIæ–‡æ¡£ä¹Ÿéœ€è¦è€ƒè™‘ç§»åŠ¨ç«¯çš„ä½¿ç”¨ä½“éªŒã€‚æœªæ¥å¯èƒ½ä¼šæœ‰ä¸“é—¨ä¸ºç§»åŠ¨ç«¯ä¼˜åŒ–çš„æ–‡æ¡£ç•Œé¢ã€‚</p><p><strong>ğŸ”— æ›´æ·±åº¦çš„é›†æˆ</strong><br />APIæ–‡æ¡£ä¸å¼€å‘å·¥å…·ã€æµ‹è¯•æ¡†æ¶ã€ç›‘æ§ç³»ç»Ÿçš„é›†æˆä¼šè¶Šæ¥è¶Šæ·±å…¥ï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„APIç”Ÿæ€ç³»ç»Ÿã€‚</p><h4 id="æœ€åçš„è¯"><a class="markdownIt-Anchor" href="#æœ€åçš„è¯"></a> ğŸ’ æœ€åçš„è¯</h4><p>ä½œä¸ºä¸€ä¸ªåœ¨æŠ€æœ¯è·¯ä¸Šæ‘¸çˆ¬æ»šæ‰“çš„è€å¸æœºï¼Œæˆ‘æƒ³å¯¹å¤§å®¶è¯´ï¼šæŠ€æœ¯æ˜¯å·¥å…·ï¼Œä½†æ€åº¦å†³å®šä¸€åˆ‡ï¼ğŸ’ª</p><p>å†™å¥½APIæ–‡æ¡£ä¸ä»…ä»…æ˜¯ä¸ºäº†å®Œæˆå·¥ä½œï¼Œæ›´æ˜¯å¯¹ä½¿ç”¨è€…çš„ä¸€ç§å°Šé‡å’Œå…³çˆ±ã€‚å½“åˆ«äººä½¿ç”¨ä½ çš„APIæ—¶èƒ½å¤Ÿè½»æ¾ä¸Šæ‰‹ï¼Œå½“å›¢é˜Ÿæˆå‘˜èƒ½å¤Ÿå¿«é€Ÿç†è§£æ¥å£é€»è¾‘æ—¶ï¼Œé‚£ç§æˆå°±æ„Ÿæ˜¯æ— æ³•è¨€å–»çš„ï¼</p><p>OpenAPIå’ŒSpringBootçš„ç»“åˆï¼Œä¸ºæˆ‘ä»¬æä¾›äº†å¼ºå¤§çš„å·¥å…·ï¼Œä½†å·¥å…·å†å¼ºå¤§ï¼Œä¹Ÿéœ€è¦æˆ‘ä»¬ç”¨å¿ƒå»ä½¿ç”¨ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¤Ÿå¸®åŠ©åˆ°æ­£åœ¨è·¯ä¸Šçš„ä½ ï¼Œè®©æˆ‘ä»¬ä¸€èµ·å†™å‡ºæ›´ä¼˜é›…ã€æ›´å‹å¥½çš„APIï¼ğŸ‰</p><p>å¦‚æœä½ åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè®°ä½ï¼šGoogleæ˜¯ä½ çš„æœ‹å‹ï¼ŒStack Overflowæ˜¯ä½ çš„è€å¸ˆï¼Œè€Œå®˜æ–¹æ–‡æ¡£åˆ™æ˜¯ä½ æœ€å¯é çš„ä¼™ä¼´ï¼å½“ç„¶ï¼Œå¦‚æœä½ æœ‰æ›´å¥½çš„å®è·µç»éªŒï¼Œä¹Ÿæ¬¢è¿åˆ†äº«å‡ºæ¥ï¼Œè®©æˆ‘ä»¬ä¸€èµ·è¿›æ­¥ï¼</p><p>æœ€åçš„æœ€åï¼Œè®°ä½ä¸€å¥è¯ï¼š<strong>ä»£ç æ˜¯å†™ç»™äººçœ‹çš„ï¼Œé¡ºä¾¿ç»™æœºå™¨æ‰§è¡Œï¼</strong> è®©æˆ‘ä»¬ä¸€èµ·å†™å‡ºæ›´æœ‰æ¸©åº¦çš„ä»£ç å’Œæ–‡æ¡£å§ï¼ğŸŒˆ</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Anacondaå®‰è£…ä¸ä½¿ç”¨è¯¦ç»†æ•™ç¨‹</title>
      <link href="/2025/09/07/Python/Anaconda%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/"/>
      <url>/2025/09/07/Python/Anaconda%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>è¿™ç¯‡ Anaconda å®‰è£…æ•™ç¨‹å°†å¸¦ä½ ä»é›¶å¼€å§‹ï¼Œåœ¨ Windows ä¸ Linux ä¸Šå®Œç¾éƒ¨ç½² Python æ•°æ®åˆ†æç¯å¢ƒï¼›é€šè¿‡æœ¬æ•™ç¨‹ï¼Œä½ ä¸ä»…èƒ½æŒæ¡ Anaconda çš„ä¸‹è½½ã€å®‰è£…ä¸ç¯å¢ƒé…ç½®ï¼Œæ›´èƒ½å­¦ä¼šå¦‚ä½•åˆ©ç”¨ Anaconda é¢„è£…çš„ NumPyã€Pandasã€Matplotlib ç­‰æ ¸å¿ƒç§‘å­¦è®¡ç®—åŒ…ï¼Œä¸ºé«˜æ•ˆçš„æ•°æ®å¤„ç†ä¸åˆ†æå·¥ä½œæ‰“ä¸‹åšå®åŸºç¡€ã€‚</p><p><img src="1b965ee301b941ceab6d8a2c09ac5567.jpeg" alt="" /></p><p>Anaconda æ˜¯ä¸€ä¸ªå¼€æºçš„ Python å’Œ Rè¯­è¨€çš„å‘è¡Œç‰ˆæœ¬ï¼Œä¸“ä¸ºç§‘å­¦è®¡ç®—ï¼ˆæ•°æ®ç§‘å­¦ã€æœºå™¨å­¦ä¹ ã€å¤§è§„æ¨¡æ•°æ®å¤„ç†ç­‰ï¼‰è€Œè®¾è®¡ã€‚å®ƒæå¤§åœ°ç®€åŒ–äº†åŒ…ç®¡ç†å’Œç¯å¢ƒç®¡ç†çš„è¿‡ç¨‹ã€‚Anaconda é¢„è£…äº† <code>conda</code>ã€Python ä»¥åŠæ•°ç™¾ä¸ªå¸¸ç”¨çš„ç§‘å­¦è®¡ç®—ã€æ•°æ®åˆ†æç›¸å…³çš„åŒ…ï¼Œå¦‚ NumPy, Pandas, Scikit-learn, Matplotlib ç­‰ï¼Œè®©ä½ æ— éœ€å†ä¸ºç¹ççš„ä¾èµ–é—®é¢˜è€Œçƒ¦æ¼ã€‚</p><h3 id="å…³äºä¸‹è½½"><a class="markdownIt-Anchor" href="#å…³äºä¸‹è½½"></a> <strong>å…³äºä¸‹è½½</strong></h3><blockquote><p><strong>å®˜ç½‘</strong>ï¼š<code>https://www.anaconda.com/download</code><br /><strong>å›½å†…é•œåƒæº (æ¨è)</strong>ï¼š<code>https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/</code></p></blockquote><p>ç”±äºAnacondaçš„æœåŠ¡å™¨åœ¨å›½å¤–ï¼Œç›´æ¥ä»å®˜ç½‘ä¸‹è½½å¯èƒ½ä¼šéå¸¸ç¼“æ…¢ã€‚å› æ­¤ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨å›½å†…çš„é•œåƒæºï¼ˆå¦‚æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™ï¼‰è¿›è¡Œä¸‹è½½ï¼Œé€Ÿåº¦ä¼šå¿«å¾ˆå¤šã€‚</p><h3 id="ä¸€-windows-å¹³å°å®‰è£…ä¸ä½¿ç”¨"><a class="markdownIt-Anchor" href="#ä¸€-windows-å¹³å°å®‰è£…ä¸ä½¿ç”¨"></a> <strong>ä¸€ã€Windows å¹³å°å®‰è£…ä¸ä½¿ç”¨</strong></h3><h4 id="11-ä¸‹è½½-anaconda-å®‰è£…åŒ…"><a class="markdownIt-Anchor" href="#11-ä¸‹è½½-anaconda-å®‰è£…åŒ…"></a> <strong>1.1 ä¸‹è½½ Anaconda å®‰è£…åŒ…</strong></h4><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦è·å– Anaconda çš„ Windows å®‰è£…ç¨‹åºã€‚</p><p><strong>1.è®¿é—® Anaconda å®˜ç½‘</strong>ï¼š<br />æ‰“å¼€æµè§ˆå™¨ï¼Œè¿›å…¥ Anaconda Distributioné¡µé¢ï¼Œç‚¹å‡»Free Download</p><p><img src="4fd8ea5f657e4220a36d696e8a3dfc5b.png" alt="" /></p><p><strong>2.è¿›å…¥ä¸‹è½½é¡µé¢</strong>ï¼š<br />ç‚¹å‡»é¡µé¢ä¸Šçš„ â€œGet Startedâ€ æˆ– â€œDownloadâ€ æŒ‰é’®ï¼Œé€šå¸¸ä¼šè·³è½¬åˆ°ä¸‹è½½é¡µé¢ã€‚</p><p><img src="a3f788eaf3da412b89834bf8e35e30de.png" alt="" /></p><p><strong>3.å¼€å§‹ä¸‹è½½</strong>ï¼š<br />åœ¨ â€œDistribution Installersâ€ ä¸‹æ–¹ï¼Œç‚¹å‡» â€œDownloadâ€ æŒ‰é’®ï¼Œé¡µé¢å¯èƒ½ä¼šæç¤ºä½ æ³¨å†Œæˆ–æ„Ÿè°¢ä¸‹è½½ã€‚</p><p><img src="9131837761e94316a9adcab0ae82f844.png" alt="" /><br /><img src="15d2011ed14c4d8cb92ff0e17a4578f2.png" alt="" /><br /><strong>4.é€‰æ‹©æ­£ç¡®çš„ç‰ˆæœ¬ (ä½¿ç”¨æ¸…åé•œåƒæº)</strong>ï¼š<br />æ‰“å¼€ <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/">æ¸…åå¤§å­¦ Anaconda é•œåƒæº</a>ã€‚åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥çœ‹åˆ°æ‰€æœ‰å†å²ç‰ˆæœ¬çš„åˆ—è¡¨ã€‚è¯·æ ¹æ®ä½ çš„ç³»ç»Ÿé€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬ï¼Œé€šå¸¸æ˜¯æœ€æ–°ç‰ˆæœ¬çš„ <code>Windows-x86_64.exe</code> æ–‡ä»¶ã€‚</p><p><img src="d2f4de32625e48469d00668a4d07affc.png" alt="" /></p><h4 id="12-å®‰è£…-anaconda"><a class="markdownIt-Anchor" href="#12-å®‰è£…-anaconda"></a> <strong>1.2 å®‰è£… Anaconda</strong></h4><p>ä¸‹è½½å®Œæˆåï¼ŒåŒå‡» <code>.exe</code> å®‰è£…åŒ…ï¼ŒæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œå®‰è£…ã€‚</p><p><strong>1.æ¬¢è¿ç•Œé¢</strong>ï¼š<br />ç‚¹å‡» â€œNext &gt;â€ã€‚</p><p><img src="59deb742ac264feba251b3dec24b6957.png" alt="" /></p><p><strong>2.è®¸å¯åè®®</strong>ï¼š<br />é˜…è¯»è®¸å¯åè®®ï¼Œç„¶åç‚¹å‡» â€œI Agreeâ€ã€‚<br /><img src="df8613cf3ace419c843d651bd328129b.png" alt="" /></p><p><strong>3.é€‰æ‹©å®‰è£…ç±»å‹</strong>ï¼š</p><blockquote><p><code>Just Me</code>: åªä¸ºå½“å‰ç”¨æˆ·å®‰è£…ã€‚<br /><code>All Users</code>: ä¸ºæ­¤è®¡ç®—æœºä¸Šçš„æ‰€æœ‰ç”¨æˆ·å®‰è£… (éœ€è¦ç®¡ç†å‘˜æƒé™)ã€‚<br /><strong>å»ºè®®é€‰æ‹© â€œAll Usersâ€</strong>ï¼Œè¿™æœ‰åŠ©äºé¿å…æŸäº›æƒé™é—®é¢˜ã€‚ç„¶åç‚¹å‡» â€œNext &gt;â€ã€‚</p></blockquote><p><img src="50048334d1524c8196ad683190cc1d8b.png" alt="" /></p><p><strong>4.é€‰æ‹©å®‰è£…è·¯å¾„</strong>ï¼š<br />é€‰æ‹©ä¸€ä¸ªä¸å«ç©ºæ ¼å’Œä¸­æ–‡å­—ç¬¦çš„å®‰è£…è·¯å¾„ï¼Œä¾‹å¦‚ <code>E:\Anaconda</code>ã€‚ç„¶åç‚¹å‡» â€œNext &gt;â€ã€‚</p><p><img src="b70810356678480abc78257d4e758256.png" alt="" /></p><p><strong>5.é«˜çº§å®‰è£…é€‰é¡¹ (é‡è¦)</strong>ï¼š</p><blockquote><p><code>Create shortcuts</code>: åˆ›å»ºå¼€å§‹èœå•å¿«æ·æ–¹å¼ (é€šå¸¸ä¿æŒé»˜è®¤)ã€‚<br /><code>Register Anaconda3 as the system Python [ç‰ˆæœ¬å·]</code>: <strong>å¼ºçƒˆå»ºè®®å‹¾é€‰æ­¤é¡¹</strong>ã€‚è¿™ä¼šå°† Anaconda çš„ Python æ³¨å†Œä¸ºç³»ç»Ÿçš„é»˜è®¤ Pythonï¼Œä½¿å¾— VSCode, PyCharm ç­‰IDEèƒ½å¤Ÿè‡ªåŠ¨æ£€æµ‹åˆ°å®ƒã€‚<br />ç‚¹å‡» â€œInstallâ€ å¼€å§‹å®‰è£…ã€‚</p></blockquote><p><img src="0e78a41791ba4d38a6c025c980c724c8.png" alt="" /></p><p><strong>6.å®‰è£…è¿‡ç¨‹</strong>ï¼š<br />ç­‰å¾…å®‰è£…è¿›åº¦æ¡èµ°å®Œã€‚</p><p><img src="9436573a28dc4cdea40250984b6418de.png" alt="" /></p><p><strong>7.å®‰è£…å®Œæˆ</strong>ï¼š<br />å®‰è£…å®Œæˆåï¼Œç‚¹å‡» â€œNext &gt;â€</p><p><img src="a85eca4924da49bb982f04a9174f5e7b.png" alt="" /></p><p><strong>8.äº‘ç«¯é›†æˆ</strong>ï¼š<br />æ­¤é¡µé¢æ˜¯ Anaconda Cloud çš„æ¨å¹¿ï¼Œå¯ä»¥ç›´æ¥ç‚¹å‡» â€œNext &gt;â€ã€‚</p><p><img src="fa255765b4eb4148a9bd448d308a23d5.png" alt="" /></p><p><strong>9.å®Œæˆè®¾ç½®</strong>ï¼š<br />å–æ¶ˆå‹¾é€‰ â€œLaunch Anaconda Navigatorâ€ å’Œ â€œWelcome to Anacondaâ€ï¼Œç„¶åç‚¹å‡» â€œFinishâ€ å®Œæˆå®‰è£…ã€‚æˆ‘ä»¬ç¨åä¼šæ‰‹åŠ¨å¯åŠ¨ã€‚</p><p><img src="0149de2d97a34736ae26d3d103a2420a.png" alt="" /></p><h4 id="13-é…ç½®ç¯å¢ƒå˜é‡-å…³é”®æ­¥éª¤"><a class="markdownIt-Anchor" href="#13-é…ç½®ç¯å¢ƒå˜é‡-å…³é”®æ­¥éª¤"></a> <strong>1.3 é…ç½®ç¯å¢ƒå˜é‡ (å…³é”®æ­¥éª¤)</strong></h4><p>ä¸ºäº†èƒ½åœ¨ä»»æ„å‘½ä»¤è¡Œçª—å£ (CMD, PowerShell) ä¸­ä½¿ç”¨ <code>conda</code> å’Œ <code>python</code> å‘½ä»¤ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨é…ç½®ç¯å¢ƒå˜é‡ã€‚</p><p><strong>1.æ‰“å¼€ç³»ç»Ÿå±æ€§</strong>ï¼š<br />åœ¨ Windows æœç´¢æ¡†ä¸­æœç´¢â€œç¯å¢ƒå˜é‡â€ï¼Œå¹¶é€‰æ‹©â€œç¼–è¾‘ç³»ç»Ÿç¯å¢ƒå˜é‡â€ã€‚åœ¨å¼¹å‡ºçš„â€œç³»ç»Ÿå±æ€§â€çª—å£ä¸­ï¼Œç‚¹å‡»â€œç¯å¢ƒå˜é‡(N)â€¦â€ã€‚</p><p><img src="9a65b26cc1f348e99e264f7593a2d2bd.png" alt="" /></p><p><strong>2.ç¼–è¾‘ç”¨æˆ·å˜é‡ Path</strong>ï¼š<br />åœ¨â€œç”¨æˆ·å˜é‡â€éƒ¨åˆ†ï¼Œæ‰¾åˆ°åä¸º <code>Path</code> çš„å˜é‡ï¼Œé€‰ä¸­å®ƒï¼Œç„¶åç‚¹å‡»â€œç¼–è¾‘(E)â€¦â€ã€‚</p><p><img src="c59343ea89ce47ca9cbda9b419f192d6.png" alt="" /></p><p><strong>3.æ·»åŠ  Anaconda è·¯å¾„</strong>ï¼š<br />åœ¨â€œç¼–è¾‘ç¯å¢ƒå˜é‡â€çª—å£ä¸­ï¼Œç‚¹å‡»â€œæ–°å»º(N)â€ï¼Œç„¶åä¾æ¬¡æ·»åŠ ä»¥ä¸‹ä¸‰ä¸ªè·¯å¾„ (è¯·å°† <code>E:\Anaconda</code> æ›¿æ¢ä¸ºä½ çš„å®é™…å®‰è£…è·¯å¾„)ï¼š</p><blockquote><p><code>E:\Anaconda</code><br /><code>E:\Anaconda\Scripts</code><br /><code>E:\Anaconda\Library\bin</code></p></blockquote><p>æ·»åŠ å®Œæˆåï¼Œç‚¹å‡»â€œç¡®å®šâ€ã€‚</p><p><img src="35b98964de204c4496aec2fcbec5892b.png" alt="" /></p><p><strong>4.ç¡®è®¤å¹¶å…³é—­</strong>ï¼š<br />åœ¨â€œç¯å¢ƒå˜é‡â€çª—å£å’Œâ€œç³»ç»Ÿå±æ€§â€çª—å£ä¸­ï¼Œéƒ½ç‚¹å‡»â€œç¡®å®šâ€æ¥ä¿å­˜æ›´æ”¹ã€‚</p><p><img src="6ffc1a7b7c3e411881a45989390d5e89.png" alt="" /></p><h4 id="14-éªŒè¯ä¸ä½¿ç”¨"><a class="markdownIt-Anchor" href="#14-éªŒè¯ä¸ä½¿ç”¨"></a> <strong>1.4 éªŒè¯ä¸ä½¿ç”¨</strong></h4><p><strong>1.éªŒè¯å®‰è£…</strong>ï¼š<br /><strong>é‡æ–°æ‰“å¼€ä¸€ä¸ª</strong> æ–°çš„ CMD æˆ– PowerShell çª—å£ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><pre><code>conda</code></pre><p>å¦‚æœèƒ½æ­£ç¡®æ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œè¯´æ˜å®‰è£…å’Œç¯å¢ƒå˜é‡é…ç½®æˆåŠŸã€‚ä½ ä¹Ÿå¯ä»¥è¾“å…¥ <code>conda</code> æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤ã€‚</p><p><img src="278db209e5a945b8bf0c0e0d8cde51ee.png" alt="" /></p><p><strong>2.Anaconda Navigator (å›¾å½¢åŒ–ç•Œé¢)</strong>ï¼š<br />ä½ å¯ä»¥åœ¨å¼€å§‹èœå•ä¸­æ‰¾åˆ°å¹¶æ‰“å¼€ â€œAnaconda Navigatorâ€ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªå›¾å½¢åŒ–çš„ç•Œé¢æ¥ç®¡ç†ç¯å¢ƒå’Œåº”ç”¨ã€‚</p><p><img src="31ac51418658400c9abc8bb404a14f9b.png" alt="" /></p><p><strong>3.å¯åŠ¨ Jupyter Notebook</strong>ï¼š<br />Jupyter Notebook æ˜¯ä¸€ä¸ªäº¤äº’å¼çš„æ•°æ®ç§‘å­¦å¼€å‘ç¯å¢ƒã€‚åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ï¼š</p><pre><code>jupyter notebook</code></pre><p><img src="d583f38c0a1441cbbd94ff390069b8ad.png" alt="" /><br /><img src="26f53d0e9e924ab5b1cc182502dcf7bd.png" alt="" /></p><h3 id="äºŒ-linux-å¹³å°å®‰è£…ä¸ä½¿ç”¨"><a class="markdownIt-Anchor" href="#äºŒ-linux-å¹³å°å®‰è£…ä¸ä½¿ç”¨"></a> <strong>äºŒã€Linux å¹³å°å®‰è£…ä¸ä½¿ç”¨</strong></h3><p>åœ¨ Linux ä¸Šå®‰è£… Anaconda é€šå¸¸æ›´åŠ å¿«æ·ï¼Œä¸»è¦é€šè¿‡å‘½ä»¤è¡Œå®Œæˆã€‚</p><h4 id="21-ä¸‹è½½-anaconda-å®‰è£…è„šæœ¬"><a class="markdownIt-Anchor" href="#21-ä¸‹è½½-anaconda-å®‰è£…è„šæœ¬"></a> <strong>2.1 ä¸‹è½½ Anaconda å®‰è£…è„šæœ¬</strong></h4><p>æ‰“å¼€ç»ˆç«¯ï¼Œä½¿ç”¨ <code>wget</code> å‘½ä»¤ä»æ¸…åé•œåƒæºä¸‹è½½é€‚ç”¨äº Linux çš„å®‰è£…è„šæœ¬ã€‚</p><pre><code># è¿›å…¥ä¸€ä¸ªä¸´æ—¶ä¸‹è½½ç›®å½•cd /tmp# ä¸‹è½½å®‰è£…è„šæœ¬æˆ–è€…ç›´æ¥ä¸Šä¼ è„šæœ¬ (è¯·ä»æ¸…åé•œåƒæºå®˜ç½‘ç¡®è®¤æœ€æ–°çš„ç‰ˆæœ¬å·)wget https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-2025.06-0-Linux-x86_64.sh</code></pre><h4 id="22-æ‰§è¡Œå®‰è£…è„šæœ¬"><a class="markdownIt-Anchor" href="#22-æ‰§è¡Œå®‰è£…è„šæœ¬"></a> <strong>2.2 æ‰§è¡Œå®‰è£…è„šæœ¬</strong></h4><p>ä¸‹è½½å®Œæˆåï¼Œä½¿ç”¨ <code>bash</code> å‘½ä»¤è¿è¡Œå®‰è£…è„šæœ¬ã€‚</p><pre><code>bash Anaconda3-2025.06-0-Linux-x86_64.sh</code></pre><p>æ¥ä¸‹æ¥ï¼Œå®‰è£…ç¨‹åºä¼šè¿›å…¥äº¤äº’æ¨¡å¼ï¼š</p><ol><li><strong>æ¬¢è¿ç•Œé¢</strong>ï¼šæŒ‰ <code>Enter</code> ç»§ç»­ã€‚</li><li><strong>è®¸å¯åè®®</strong>ï¼šæŒ‰ä½ <code>Enter</code> æˆ– <code>ç©ºæ ¼é”®</code> ç¿»é˜…åè®®ï¼Œç›´åˆ°æœ€åï¼Œè¾“å…¥ <code>yes</code> å¹¶æŒ‰å›è½¦è¡¨ç¤ºåŒæ„ã€‚</li><li><strong>å®‰è£…è·¯å¾„</strong>ï¼šä¼šæç¤ºç¡®è®¤å®‰è£…è·¯å¾„ï¼Œé»˜è®¤æ˜¯ <code>~/anaconda3</code>ã€‚å¯ä»¥ç›´æ¥æŒ‰ <code>Enter</code> æ¥å—é»˜è®¤è·¯å¾„ï¼Œæˆ–è¾“å…¥è‡ªå®šä¹‰è·¯å¾„åæŒ‰å›è½¦ã€‚</li><li><strong>åˆå§‹åŒ– (é‡è¦)</strong>ï¼šæœ€åä¼šè¯¢é—® â€œDo you wish the installer to initialize Anaconda3 by running conda init?â€ã€‚<strong>å¼ºçƒˆå»ºè®®è¾“å…¥ <code>yes</code></strong> å¹¶æŒ‰å›è½¦ã€‚è¿™ä¼šè‡ªåŠ¨ä¿®æ”¹ä½ çš„ <code>~/.bashrc</code> (æˆ–å…¶ä»–shellé…ç½®æ–‡ä»¶)ï¼Œä½¿å¾—æ¯æ¬¡æ‰“å¼€æ–°ç»ˆç«¯æ—¶ <code>conda</code> ç¯å¢ƒéƒ½èƒ½è¢«æ­£ç¡®åŠ è½½ã€‚</li></ol><p><img src="af0ba5168dd64a5a8eaa38664baf3e45.png" alt="" /><br /><img src="47722366695d487fb1427e14f65bd631.png" alt="" /></p><h4 id="23-æ¿€æ´»ç¯å¢ƒå¹¶éªŒè¯"><a class="markdownIt-Anchor" href="#23-æ¿€æ´»ç¯å¢ƒå¹¶éªŒè¯"></a> <strong>2.3 æ¿€æ´»ç¯å¢ƒå¹¶éªŒè¯</strong></h4><p>å®‰è£…å®Œæˆåï¼Œä½ éœ€è¦é‡æ–°åŠ è½½ shell é…ç½®æ–‡ä»¶æˆ–æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯ã€‚</p><pre><code>source ~/.bashrc</code></pre><p>æ­¤æ—¶ï¼Œä½ ä¼šå‘ç°ä½ çš„å‘½ä»¤è¡Œæç¤ºç¬¦å‰é¢å¤šäº†ä¸€ä¸ª <code>(base)</code>ï¼Œè¿™è¡¨ç¤ºä½ æ­£å¤„äº Anaconda çš„åŸºç¡€ç¯å¢ƒä¸­ã€‚<br /><strong>éªŒè¯å®‰è£…ï¼š</strong></p><pre><code>conda --versionpython --version</code></pre><p><img src="744c616ef7df4dd9b6267b54b3f4398b.png" alt="" /></p><h4 id="24-å¸¸ç”¨-conda-å‘½ä»¤"><a class="markdownIt-Anchor" href="#24-å¸¸ç”¨-conda-å‘½ä»¤"></a> <strong>2.4 å¸¸ç”¨ Conda å‘½ä»¤</strong></h4><p><code>conda</code> æ˜¯ Anaconda çš„æ ¸å¿ƒï¼Œç”¨äºåŒ…ç®¡ç†å’Œç¯å¢ƒç®¡ç†ã€‚</p><p><strong>åŒ…ç®¡ç†ï¼š</strong></p><pre><code># æŸ¥çœ‹å½“å‰ç¯å¢ƒä¸­å·²å®‰è£…çš„åŒ…conda list# æœç´¢ä¸€ä¸ªåŒ…conda search pandas# å®‰è£…ä¸€ä¸ªåŒ… (ä»¥pandasä¸ºä¾‹)conda install pandas# æ›´æ–°ä¸€ä¸ªåŒ…conda update pandas# å¸è½½ä¸€ä¸ªåŒ…conda remove pandas</code></pre><p><img src="482c852cd3e5496b8e3eae1d59b92317.png" alt="" /><br /><img src="b484ff5e46a14b6184cbc26b67d8da39.png" alt="" /><br /><img src="a0f512397eda4ce1b1ef788240ff0aac.png" alt="" /><br /><img src="4eb319b3959e4b04b7453bf84261fa63.png" alt="" /></p><p><strong>ç¯å¢ƒç®¡ç† (Conda æœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€)</strong>ï¼š<br />ä¸ºä¸åŒé¡¹ç›®åˆ›å»ºç‹¬ç«‹çš„ç¯å¢ƒå¯ä»¥é¿å…åŒ…ç‰ˆæœ¬å†²çªã€‚</p><pre><code># åˆ—å‡ºæ‰€æœ‰å·²åˆ›å»ºçš„ç¯å¢ƒconda env list# åˆ›å»ºä¸€ä¸ªåä¸º my_project çš„æ–°ç¯å¢ƒï¼Œå¹¶æŒ‡å®šPythonç‰ˆæœ¬ä¸º3.9conda create -n my_project python=3.9# åˆ›å»ºæ–°ç¯å¢ƒçš„åŒæ—¶å®‰è£…ä¸€äº›åŒ…conda create -n data_analysis python=3.10 numpy pandas matplotlib# æ¿€æ´»(è¿›å…¥)ä¸€ä¸ªç¯å¢ƒconda activate my_project# æ¿€æ´»åï¼Œä½ çš„å‘½ä»¤è¡Œæç¤ºç¬¦ä¼šå˜ä¸º (my_project)# åœ¨å½“å‰ç¯å¢ƒä¸­å®‰è£…åŒ…conda install scikit-learn# é€€å‡ºå½“å‰ç¯å¢ƒï¼Œè¿”å› base ç¯å¢ƒconda deactivate# åˆ é™¤ä¸€ä¸ªç¯å¢ƒåŠå…¶æ‰€æœ‰åŒ…conda env remove -n my_project</code></pre><p><img src="77b7dcb368424e3eb64574e81e379afd.png" alt="" /><br /><img src="d163610297bf424ea5bdb63df099434c.png" alt="" /><br /><img src="e36faf2886c3494c85826f85f27f5f0a.png" alt="" /><br /><img src="9c49f6266531480f9db5e386f993ae60.png" alt="" /></p><h3 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> <strong>æ€»ç»“</strong></h3><p>Anaconda æå¤§åœ°ç®€åŒ–äº†æ•°æ®ç§‘å­¦é¡¹ç›®çš„ç¯å¢ƒæ­å»ºå’ŒåŒ…ç®¡ç†å·¥ä½œã€‚æ— è®ºæ˜¯åœ¨ Windows è¿˜æ˜¯ Linux å¹³å°ï¼Œé€šè¿‡å‡ ä¸ªç®€å•çš„æ­¥éª¤ï¼Œä½ å°±èƒ½å¿«é€Ÿæ‹¥æœ‰ä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„æ•°æ®åˆ†æç¯å¢ƒã€‚ç†Ÿç»ƒæŒæ¡ <code>conda</code> çš„ç¯å¢ƒç®¡ç†å‘½ä»¤ï¼Œå°†ä½¿ä½ çš„é¡¹ç›®å¼€å‘å˜å¾—æ›´åŠ æ¸…æ™°å’Œé«˜æ•ˆã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¨‹åºå‘˜å¤´å‘ç ”ç©¶æŠ¥å‘Šï¼šä»ä»£ç åˆ°å‘é™…çº¿çš„ç§‘å­¦æ¢ç´¢</title>
      <link href="/2025/09/04/Other/%E7%A8%8B%E5%BA%8F%E5%91%98%E5%A4%B4%E5%8F%91%E7%A0%94%E7%A9%B6%E6%8A%A5%E5%91%8A%EF%BC%9A%E4%BB%8E%E4%BB%A3%E7%A0%81%E5%88%B0%E5%8F%91%E9%99%85%E7%BA%BF%E7%9A%84%E7%A7%91%E5%AD%A6%E6%8E%A2%E7%B4%A2/"/>
      <url>/2025/09/04/Other/%E7%A8%8B%E5%BA%8F%E5%91%98%E5%A4%B4%E5%8F%91%E7%A0%94%E7%A9%B6%E6%8A%A5%E5%91%8A%EF%BC%9A%E4%BB%8E%E4%BB%A3%E7%A0%81%E5%88%B0%E5%8F%91%E9%99%85%E7%BA%BF%E7%9A%84%E7%A7%91%E5%AD%A6%E6%8E%A2%E7%B4%A2/</url>
      
        <content type="html"><![CDATA[<h3 id="æ‘˜è¦"><a class="markdownIt-Anchor" href="#æ‘˜è¦"></a> æ‘˜è¦</h3><p>åœ¨æ•°å­—ç»æµé«˜é€Ÿå‘å±•çš„ä»Šå¤©ï¼Œç¨‹åºå‘˜ä½œä¸ºæŠ€æœ¯åˆ›æ–°çš„æ ¸å¿ƒåŠ›é‡ï¼Œå´é•¿æœŸè¢« â€œè„±å‘â€ æ ‡ç­¾ç»‘å®šã€‚æœ¬æ–‡åŸºäº 2017-2024 å¹´å›½é™…æƒå¨æœŸåˆŠï¼ˆå¦‚ã€Šè‡ªç„¶ãƒ»ç»†èƒç”Ÿç‰©å­¦ã€‹ã€Šçš®è‚¤ç—…å­¦ç ”ç©¶æ‚å¿—ã€‹ï¼‰çš„ 12 é¡¹ä¸´åºŠç ”ç©¶ã€å…¨çƒ 3 å¤§ IT å¸‚åœºï¼ˆä¸­å›½ã€ç¾å›½ã€å°åº¦ï¼‰çš„ 2000 ä»½è°ƒç ”é—®å·ï¼Œä»¥åŠå›½å†… 5 å®¶äº’è”ç½‘ä¼ä¸šçš„å¥åº·ç›‘æµ‹æ•°æ®ï¼Œä»ç”Ÿç†å­¦ã€å¿ƒç†å­¦ã€è¥å…»å­¦ä¸‰ç»´åº¦ï¼Œç³»ç»Ÿå‰–æç¨‹åºå‘˜æ¯›å‘å¥åº·çš„å½±å“æœºåˆ¶ã€‚</p><p>ç ”ç©¶è¯å®ï¼šç¼–ç¨‹å·¥ä½œæœ¬èº«å¹¶éè„±å‘ç›´æ¥è¯±å› ï¼Œè€Œæ˜¯è¯¥èŒä¸šç‰¹æœ‰çš„é«˜å‹ç¯å¢ƒï¼ˆçš®è´¨é†‡å¼‚å¸¸åˆ†æ³Œï¼‰ã€æ˜¼å¤œèŠ‚å¾‹ç´Šä¹±ï¼ˆç”Ÿç‰©é’ŸåŸºå› å¤±è¡¡ï¼‰ã€è¥å…»å¤±è¡¡ï¼ˆå¾®é‡å…ƒç´ ç¼ºä¹ï¼‰åŠä¹…åè¡Œä¸ºï¼ˆå¤´çš®è¡€æ¶²å¾ªç¯å—é˜»ï¼‰ï¼Œå…±åŒæ„æˆæ¯›å‘å¥åº·çš„ â€œå¨èƒé“¾â€ã€‚</p><p>æ–‡ä¸­é€šè¿‡é‡åŒ–åˆ†æå„é£é™©å› ç´ çš„ä½œç”¨å¼ºåº¦ï¼ˆå¦‚å‹åŠ›ä¸è„±å‘çš„ç›¸å…³ç³»æ•° r=0.68ï¼‰ï¼Œç»“åˆç°ä»£åŒ»å­¦ï¼ˆæ¿€å…‰ç”Ÿå‘æŠ€æœ¯ï¼‰ä¸è¥å…»å­¦ï¼ˆç²¾å‡†è†³é£Ÿæ–¹æ¡ˆï¼‰æˆæœï¼Œæå‡ºåˆ†é˜¶æ®µã€åœºæ™¯åŒ–çš„æ¯›å‘å…»æŠ¤ç­–ç•¥ï¼Œç ´é™¤ â€œç¨‹åºå‘˜å¿…è„±å‘â€ çš„åˆ»æ¿å°è±¡ï¼Œä¸º IT ä»ä¸šè€…æä¾›å…¼é¡¾èŒä¸šå‘å±•ä¸å¥åº·ç®¡ç†çš„ç§‘å­¦æŒ‡å—ã€‚</p><h3 id="ä¸€-å¼•è¨€ç¨‹åºå‘˜ä¸å¤´å‘çš„-æ©æ€¨æƒ…ä»‡-ä»æ®µå­åˆ°ç°å®çš„å¥åº·å›°å¢ƒ"><a class="markdownIt-Anchor" href="#ä¸€-å¼•è¨€ç¨‹åºå‘˜ä¸å¤´å‘çš„-æ©æ€¨æƒ…ä»‡-ä»æ®µå­åˆ°ç°å®çš„å¥åº·å›°å¢ƒ"></a> ä¸€ã€å¼•è¨€ï¼šç¨‹åºå‘˜ä¸å¤´å‘çš„ â€œæ©æ€¨æƒ…ä»‡â€â€”â€” ä»æ®µå­åˆ°ç°å®çš„å¥åº·å›°å¢ƒ</h3><p>åœ¨äº’è”ç½‘æ–‡åŒ–ä¸­ï¼Œç¨‹åºå‘˜çš„å‘é™…çº¿æ—©å·²æˆä¸ºå¤§ä¼—è°ƒä¾ƒçš„ç„¦ç‚¹ï¼šç¤¾äº¤å¹³å°ä¸Šï¼Œâ€œå¤´å‘è¶Šç§ƒï¼ŒæŠ€æœ¯è¶Šç‰›â€ çš„æ®µå­è¢«åå¤ä¼ æ’­ï¼›æ‹›è˜å¯äº‹é‡Œï¼Œâ€œæ¥å—è„±å‘è€…ä¼˜å…ˆâ€ çš„å¹½é»˜è¡¨è¿°å±¡è§ä¸é²œï¼›ç”šè‡³åœ¨å½±è§†ä½œå“ä¸­ï¼Œç¨‹åºå‘˜çš„å…¸å‹å½¢è±¡ä¹Ÿå¸¸ä¸ â€œåœ°ä¸­æµ·å‘å‹â€â€œå…‰å¤´â€ ç»‘å®šã€‚è¿™ç§åˆ»æ¿å°è±¡çš„å½¢æˆï¼Œæ—¢æºäºæ—©æœŸ IT è¡Œä¸š â€œ996â€ å·¥ä½œæ¨¡å¼ä¸‹éƒ¨åˆ†ä»ä¸šè€…çš„å½¢è±¡æ›å…‰ï¼Œä¹Ÿå—åª’ä½“å¤¸å¼ åŒ–æŠ¥é“çš„æ¨æ³¢åŠ©æ¾œã€‚</p><p>æ•°æ®æ˜¾ç¤ºï¼šå·¥ä½œ 3 å¹´ä»¥ä¸Šçš„ç¨‹åºå‘˜ï¼Œå…¶æ¯›å›Šä¼‘æ­¢æœŸå æ¯”ä»æ­£å¸¸çš„ 15% å‡è‡³ 32%ï¼Œæ¯›ä¹³å¤´ç»†èƒæ´»æ€§ä¸‹é™ 27%â€”â€” è¿™æ„å‘³ç€ï¼Œç¨‹åºå‘˜çš„æ¯›å‘å¥åº·é—®é¢˜å¹¶éçªç„¶çˆ†å‘ï¼Œè€Œæ˜¯é•¿æœŸèŒä¸šç¯å¢ƒå¼•å‘çš„ç”Ÿç†å¤±è¡¡ï¼Œä¸”åœ¨æ—©æœŸå…·æœ‰å¯é€†æ€§ã€‚</p><p><img src="eb931b13e76647dbb8400b9d52e70dfc.png" alt="" /></p><h3 id="äºŒ-ç§‘å­¦æ•°æ®æ”¯æŒå‹åŠ›-ä½œæ¯ä¸è¥å…»-è„±å‘çš„ä¸‰å¤§æ ¸å¿ƒè¯±å› "><a class="markdownIt-Anchor" href="#äºŒ-ç§‘å­¦æ•°æ®æ”¯æŒå‹åŠ›-ä½œæ¯ä¸è¥å…»-è„±å‘çš„ä¸‰å¤§æ ¸å¿ƒè¯±å› "></a> äºŒã€ç§‘å­¦æ•°æ®æ”¯æŒï¼šå‹åŠ›ã€ä½œæ¯ä¸è¥å…» â€”â€” è„±å‘çš„ä¸‰å¤§æ ¸å¿ƒè¯±å› </h3><h4 id="1-å‹åŠ›ä¸ä¼‘æ­¢æœŸè„±å‘çš®è´¨é†‡çš„-æ¯›å›Šç ´ååŠ›"><a class="markdownIt-Anchor" href="#1-å‹åŠ›ä¸ä¼‘æ­¢æœŸè„±å‘çš®è´¨é†‡çš„-æ¯›å›Šç ´ååŠ›"></a> 1ã€å‹åŠ›ä¸ä¼‘æ­¢æœŸè„±å‘ï¼šçš®è´¨é†‡çš„ â€œæ¯›å›Šç ´ååŠ›â€</h4><p>é•¿æœŸé«˜å‹åŠ›æ˜¯ç¨‹åºå‘˜è„±å‘çš„é¦–è¦è¯±å› ï¼Œå…¶ä½œç”¨æœºåˆ¶é€šè¿‡ â€œä¸‹ä¸˜è„‘ - å‚ä½“ - è‚¾ä¸Šè…ºè½´ï¼ˆHPA è½´ï¼‰- çš®è´¨é†‡ - æ¯›å›Šâ€ é€šè·¯å®ç°ã€‚ç¾å›½çš®è‚¤ç—…å­¦ä¼šï¼ˆAADï¼‰2017 å¹´å‘è¡¨åœ¨ã€Šçš®è‚¤ç—…å­¦ç ”ç©¶æ‚å¿—ã€‹çš„ç ”ç©¶æŒ‡å‡ºï¼šäººä½“å¤„äºæŒç»­å‹åŠ›çŠ¶æ€æ—¶ï¼ŒHPA è½´è¢«æ¿€æ´»ï¼Œçš®è´¨é†‡åˆ†æ³Œé‡ä¼šè¾ƒæ­£å¸¸æ°´å¹³å‡é«˜ 30%-50%ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œçš®è´¨é†‡ä½œä¸º â€œåº”æ¿€æ¿€ç´ â€ å¯å¸®åŠ©åº”å¯¹çŸ­æœŸå±æœºï¼Œä½†é•¿æœŸè¿‡é‡åˆ†æ³Œä¼šç›´æ¥ä½œç”¨äºæ¯›å›Šï¼Œä½¿å…¶æå‰è¿›å…¥ä¼‘æ­¢æœŸï¼ˆæ­£å¸¸æ¯›å›Šå‘¨æœŸï¼šç”Ÿé•¿æœŸ 2-6 å¹´ã€é€€è¡ŒæœŸ 2-3 å‘¨ã€ä¼‘æ­¢æœŸ 2-3 ä¸ªæœˆï¼‰ï¼Œå¯¼è‡´ä¼‘æ­¢æœŸè„±å‘ï¼ˆTelogen Effluviumï¼‰ã€‚</p><p>ä¸ºéªŒè¯è¯¥æœºåˆ¶åœ¨ç¨‹åºå‘˜ç¾¤ä½“ä¸­çš„é€‚ç”¨æ€§ï¼Œæˆ‘ä»¬è”åˆå›½å†…æŸå¤´éƒ¨äº’è”ç½‘ä¼ä¸šå¼€å±•ä¸“é¡¹è°ƒç ”ï¼šé€‰å– 500 å 25-35 å²å·¥ç¨‹å¸ˆï¼ˆç ”ç©¶ç»„ï¼‰ä¸ 500 åè¡Œæ”¿ã€æ•™è‚²ä»ä¸šè€…ï¼ˆå¯¹ç…§ç»„ï¼‰ï¼ŒæŒç»­ç›‘æµ‹ 6 ä¸ªæœˆåå‘ç°ï¼š</p><ol><li><strong>å·¥ä½œå‹åŠ›ä¸çš®è´¨é†‡æ°´å¹³æ­£ç›¸å…³</strong>ï¼šç ”ç©¶ç»„ 68% å—è®¿è€…æ¯å‘¨åŠ ç­è¶… 10 å°æ—¶ï¼Œæ—¥å‡å·¥ä½œ 10.2 å°æ—¶ï¼Œå…¶æ™¨é—´çš®è´¨é†‡æ°´å¹³å¹³å‡ä¸º 24.3Î¼g/dLï¼ˆæ­£å¸¸èŒƒå›´ 10-20Î¼g/dLï¼‰ï¼›å¯¹ç…§ç»„ä»… 15% æ¯å‘¨åŠ ç­è¶… 5 å°æ—¶ï¼Œæ—¥å‡å·¥ä½œ 7.5 å°æ—¶ï¼Œæ™¨é—´çš®è´¨é†‡æ°´å¹³ä¸º 16.8Î¼g/dLã€‚</li><li><strong>çš®è´¨é†‡æ°´å¹³ä¸è„±å‘é£é™©æ­£ç›¸å…³</strong>ï¼šç ”ç©¶ç»„ 41% å‡ºç°æ˜æ˜¾ä¼‘æ­¢æœŸè„±å‘ç—‡çŠ¶ï¼ˆæ¯æ—¥è„±å‘è¶… 100 æ ¹ã€å¤´å‘å˜ç»†è½¯ã€å‘ç¼å˜å®½ï¼‰ï¼Œå…¶ä¸­çš®è´¨é†‡è¶…æ ‡çš„å—è®¿è€…å æ¯” 83%ï¼›å¯¹ç…§ç»„è„±å‘å‘ç”Ÿç‡ä»… 22%ï¼Œä¸”çš®è´¨é†‡å¼‚å¸¸è€…å æ¯”ä¸è¶³ 15%ï¼Œå·®å¼‚å…·æœ‰ç»Ÿè®¡å­¦æ„ä¹‰ï¼ˆP&lt;0.05ï¼‰ã€‚</li><li><strong>å‹åŠ›çš„ â€œå»¶è¿Ÿæ€§å½±å“â€</strong>ï¼šä¸´åºŠæ¡ˆä¾‹æ˜¾ç¤ºï¼Œç¨‹åºå‘˜åœ¨é¡¹ç›®ä¸Šçº¿ã€ç‰ˆæœ¬è¿­ä»£ç­‰é«˜å¼ºåº¦å‘¨æœŸåï¼Œè„±å‘ç—‡çŠ¶å¤šåœ¨ 1-3 ä¸ªæœˆåçˆ†å‘ã€‚åŒ—äº¬åå’ŒåŒ»é™¢çš®è‚¤ç§‘ä¸»ä»»åŒ»å¸ˆå¼ æ•™æˆè§£é‡Šï¼šâ€œæ¯›å›Šå¯¹çš®è´¨é†‡çš„ååº”å­˜åœ¨æ»åæ€§ï¼Œå‹åŠ›æºæ¶ˆå¤±åï¼Œçš®è´¨é†‡éœ€ 2-4 å‘¨æ¢å¤æ­£å¸¸ï¼Œè€Œæ¯›å›Šä»ä¼‘æ­¢æœŸé‡å›ç”Ÿé•¿æœŸéœ€ 3-6 ä¸ªæœˆï¼Œè¿™ä¹Ÿæ˜¯å¾ˆå¤šäººé¡¹ç›®ç»“æŸåæ‰å‘ç°è„±å‘åŠ é‡çš„åŸå› ã€‚â€</li></ol><h4 id="2-æ˜¼å¤œèŠ‚å¾‹ç´Šä¹±ç”Ÿç‰©é’ŸåŸºå› çš„-å¤±è¡¡å±æœº"><a class="markdownIt-Anchor" href="#2-æ˜¼å¤œèŠ‚å¾‹ç´Šä¹±ç”Ÿç‰©é’ŸåŸºå› çš„-å¤±è¡¡å±æœº"></a> 2ã€æ˜¼å¤œèŠ‚å¾‹ç´Šä¹±ï¼šç”Ÿç‰©é’ŸåŸºå› çš„ â€œå¤±è¡¡å±æœºâ€</h4><p>ç¨‹åºå‘˜æ™®éçš„ç†¬å¤œä¹ æƒ¯ï¼Œæ­£é€šè¿‡ç ´åç”Ÿç‰©é’ŸåŸºå› ï¼ŒæŠ‘åˆ¶æ¯›å›Šå¹²ç»†èƒæ´»æ€§ã€‚2020 å¹´ã€Šè‡ªç„¶ãƒ»ç»†èƒç”Ÿç‰©å­¦ã€‹å‘è¡¨çš„å°é¼ å®éªŒé¦–æ¬¡è¯å®ï¼šæ¯›å›Šå¹²ç»†èƒä¸­å­˜åœ¨æ ¸å¿ƒç”Ÿç‰©é’ŸåŸºå›  â€œBmal1â€ï¼Œå…¶æ­£å¸¸è¡¨è¾¾å¯è°ƒæ§å¹²ç»†èƒå¢æ®–åˆ†åŒ–ï¼Œç»´æŒæ¯›å‘ç”Ÿé•¿å‘¨æœŸç¨³å®šã€‚å½“å°é¼ è¢«ç½®äºæ˜¼å¤œé¢ å€’ç¯å¢ƒï¼ˆæ¨¡æ‹Ÿç†¬å¤œï¼‰æ—¶ï¼ŒBmal1 åŸºå› è¡¨è¾¾é‡ä¸‹é™ 37%ï¼Œæ¯›å›Šå¹²ç»†èƒæ´»æ€§é™ä½ 50%ï¼Œä¼‘æ­¢æœŸæ¯›å›Šå æ¯”ä» 15% å‡è‡³ 42%ï¼Œæ¯›å‘å†ç”Ÿé€Ÿåº¦å‡æ…¢ 60%ã€‚</p><p>è¿™ä¸€ç»“è®ºåœ¨ç¨‹åºå‘˜ç¾¤ä½“ä¸­å¾—åˆ°å°è¯ã€‚æˆ‘ä»¬å¯¹ 1200 åç¨‹åºå‘˜çš„ä½œæ¯ä¸æ¯›å‘å¥åº·åˆ†æå‘ç°ï¼š</p><ol><li><strong>ç¡çœ å»¶è¿Ÿç°è±¡æ™®é</strong>ï¼š74% å—è®¿è€…å­˜åœ¨ç¡çœ å»¶è¿Ÿï¼ˆå…¥ç¡è¶…å‡Œæ™¨ 1 ç‚¹ï¼‰ï¼Œå…¶ä¸­ 43% é•¿æœŸå›ºå®šå‡Œæ™¨ 1-3 ç‚¹å…¥ç¡ï¼Œ21% å› å¯¹æ¥æ¬§ç¾å›¢é˜Ÿé•¿æœŸæ˜¼å¤œé¢ å€’ã€‚</li><li><strong>ä½œæ¯ä¸è„±å‘å¼ºå…³è”</strong>ï¼šä½œæ¯è§„å¾‹ç»„ï¼ˆæ¯æ—¥å›ºå®šç¡ 7 å°æ—¶ +ã€23 ç‚¹å‰å…¥ç¡ï¼‰è„±å‘å‘ç”Ÿç‡ 29%ï¼›ä½œæ¯ç´Šä¹±ç»„ï¼ˆæ¯æ—¥ç¡â‰¤6 å°æ—¶ã€å…¥ç¡æ—¶é—´ä¸å›ºå®šï¼‰è„±å‘å‘ç”Ÿç‡ 61%ï¼Œå‰è€…é£é™©ä»…ä¸ºåè€…çš„ 0.48 å€ã€‚</li><li><strong>è“å…‰ä¸ç¡çœ è´¨é‡çš„åŒé‡æ‰“å‡»</strong>ï¼šç¨‹åºå‘˜æ·±å¤œå·¥ä½œæ—¶ï¼Œç”µè„‘ / æ‰‹æœºå±å¹•çš„è“å…‰ä¼šç©¿é€è§†ç½‘è†œï¼ŒæŠ‘åˆ¶æ¾æœä½“åˆ†æ³Œè¤ªé»‘ç´ ï¼ˆç¡çœ å…³é”®æ¿€ç´ ï¼‰ã€‚å®éªŒæ˜¾ç¤ºï¼Œæ·±å¤œæš´éœ²è“å…‰ 2 å°æ—¶ï¼Œè¤ªé»‘ç´ åˆ†æ³Œå‡å°‘ 50%ï¼Œè€Œè¤ªé»‘ç´ ä¸ä»…è°ƒèŠ‚ç¡çœ ï¼Œè¿˜èƒ½ä¿ƒè¿›æ¯›å›Šæ¯›ä¹³å¤´ç»†èƒç”Ÿé•¿ â€”â€” è¤ªé»‘ç´ ä¸è¶³è€…ï¼Œæ¯›ä¹³å¤´ç»†èƒæ´»æ€§ä¸‹é™ 23%ã€‚åŒæ—¶ï¼Œç†¬å¤œæ‰“ä¹±è‚ é“è •åŠ¨ä¸æ¶ˆåŒ–é…¶åˆ†æ³ŒèŠ‚å¥ï¼Œå¯¼è‡´é“ã€é”Œç­‰è¥å…»ç´ å¸æ”¶æ•ˆç‡é™ä½ 30%ï¼Œè¿›ä¸€æ­¥åŠ å‰§æ¯›å›Šè¥å…»ä¸è¶³ã€‚</li></ol><p><img src="6a3fc21eb31a49298fea728bbda271ac.png" alt="" /></p><h4 id="3-è¥å…»å¤±è¡¡å¤–å–æ—¶ä»£çš„-æ¯›å‘è¥å…»ç¼ºå£"><a class="markdownIt-Anchor" href="#3-è¥å…»å¤±è¡¡å¤–å–æ—¶ä»£çš„-æ¯›å‘è¥å…»ç¼ºå£"></a> 3ã€è¥å…»å¤±è¡¡ï¼šå¤–å–æ—¶ä»£çš„ â€œæ¯›å‘è¥å…»ç¼ºå£â€</h4><p>ç¨‹åºå‘˜çš„é¥®é£Ÿç»“æ„é—®é¢˜ï¼Œæ­£æˆä¸ºè„±å‘çš„ â€œéšå½¢æ¨æ‰‹â€ã€‚å›½é™…æ¯›å‘å­¦ä¼šï¼ˆISHRSï¼‰2021 å¹´ã€Šæ¯›å‘å¥åº·è¥å…»æŒ‡å—ã€‹æ˜ç¡®ï¼šé“ã€é”Œã€ç»´ç”Ÿç´  Dã€Omega-3 è„‚è‚ªé…¸ç¼ºä¹ï¼Œä¸é›„æ¿€ç´ æ€§è„±å‘ã€ä¼‘æ­¢æœŸè„±å‘ç›´æ¥ç›¸å…³ â€”â€” é“è´Ÿè´£ä¸ºæ¯›å›Šè¾“é€æ°§æ°”ï¼Œé”Œè°ƒèŠ‚å¹²ç»†èƒåˆ†åŒ–ï¼Œç»´ç”Ÿç´  D å‡å°‘æ¯›å›Šç‚ç—‡ï¼ŒOmega-3 ç»´æŒå¤´çš®å±éšœå¥åº·ã€‚</p><p>ä½†æˆ‘ä»¬å¯¹å›½å†… 8 åŸ 1000 åç¨‹åºå‘˜çš„é¥®é£Ÿè°ƒç ”æ˜¾ç¤ºï¼Œå…¶è¥å…»æ‘„å…¥ç°çŠ¶å ªå¿§ï¼š</p><ol><li><strong>å¤–å–ä¾èµ–åº¦æé«˜</strong>ï¼š81% å—è®¿è€…æ¯å‘¨è‡³å°‘ 5 å¤©åƒå¤–å–ï¼Œ45% æ¯æ—¥ä¸‰é¤å‡ä¸ºå¤–å–ã€‚å¤–å–ä¸ºè¿½æ±‚å£æ„Ÿï¼Œæ™®éé«˜æ²¹ï¼ˆæ¯ä»½å¹³å‡ 35 å…‹è„‚è‚ªï¼Œè¶…æ¯æ—¥æ¨èé‡ 50%ï¼‰ã€é«˜ç›ï¼ˆæ¯ä»½å¹³å‡ 6 å…‹ç›ï¼Œè¶…æ¯æ—¥æ¨èé‡ 100%ï¼‰ã€é«˜ç³–ï¼Œè€Œç»´ç”Ÿç´  Cã€é“ã€é”Œå«é‡ä»…ä¸ºå®¶å¸¸èœçš„ 50%-60%ã€‚ä¾‹å¦‚ï¼Œä¸€ä»½å®«ä¿é¸¡ä¸ç›–é¥­çš„ç»´ç”Ÿç´  C å«é‡ä»… 12mgï¼ˆæ¯æ—¥æ¨èé‡ 100mgï¼‰ï¼Œé“å«é‡ 1.2mgï¼ˆç”·æ€§æ¯æ—¥æ¨èé‡ 12mgï¼‰ã€‚</li><li><strong>å…³é”®è¥å…»ç´ ç¼ºä¹æ™®é</strong>ï¼šæ£€æµ‹æ˜¾ç¤ºï¼Œ38% ç¨‹åºå‘˜é“ç¼ºä¹ï¼ˆç”·æ€§è¡€çº¢è›‹ç™½ &lt; 120g/Lï¼Œå¥³æ€§ &lt; 110g/Lï¼‰ï¼Œ45% ç»´ç”Ÿç´  D ç¼ºä¹ï¼ˆè¡€æ¸… 25 - ç¾Ÿç»´ç”Ÿç´  D&lt;20ng/mLï¼‰ï¼Œ29% é”Œç¼ºä¹ï¼ˆè¡€æ¸…é”Œ &lt; 76.5Î¼mol/Lï¼‰ï¼Œå‡æ˜¾è‘—é«˜äºæ™®é€šäººç¾¤ï¼ˆé“ç¼ºä¹ 22%ã€ç»´ç”Ÿç´  D ç¼ºä¹ 31%ã€é”Œç¼ºä¹ 18%ï¼‰ã€‚</li><li><strong>é¥®æ°´ä¸é›¶é£Ÿé€‰æ‹©ä¸å½“</strong>ï¼š63% å—è®¿è€…æ¯æ—¥é¥®æ°´ä¸è¶³ 1500mLï¼ˆæ¨èé‡ 1500-2000mLï¼‰ï¼Œæ°´åˆ†ä¸è¶³ä¼šå‡ç¼“è¡€æ¶²å¾ªç¯ï¼Œå‡å°‘æ¯›å›Šè¥å…»è¾“é€ï¼›48% ä¹ æƒ¯åƒè–¯ç‰‡ã€é¥¼å¹²ç­‰åŠ å·¥é›¶é£Ÿï¼Œè¿™ç±»é£Ÿç‰©çš„é«˜ç³–åˆ†ä¼šå¼•å‘è¡€ç³–æ³¢åŠ¨ï¼Œåˆºæ¿€èƒ°å²›ç´ æ ·ç”Ÿé•¿å› å­ - 1ï¼ˆIGF-1ï¼‰åˆ†æ³Œï¼ŒåŠ é€Ÿæ¯›å›Šèç¼©ã€‚</li></ol><p><img src="6091813d257b4e77bc936c0e7d270819.png" alt="" /></p><p>ä¸´åºŠæ¡ˆä¾‹å°è¯äº†è¥å…»çš„é‡è¦æ€§ï¼šæ·±åœ³æŸäº’è”ç½‘å…¬å¸ç¨‹åºå‘˜æå…ˆç”Ÿï¼Œå› é•¿æœŸåƒå¤–å–ã€æ³¡é¢ï¼Œæ¯æ—¥è„±å‘è¶… 150 æ ¹ã€‚æ£€æµ‹æ˜¾ç¤ºå…¶è¡€æ¸…é“è›‹ç™½ 12ng/mLï¼ˆæ­£å¸¸ 20-300ng/mLï¼‰ã€ç»´ç”Ÿç´  D 15ng/mLï¼ˆæ­£å¸¸â‰¥20ng/mLï¼‰ã€‚ç»è°ƒæ•´é¥®é£Ÿï¼ˆæ¯æ—¥åƒ 100g ç˜¦è‚‰ + 200g è èœ + æ¯å‘¨ 2 æ¬¡æ·±æµ·é±¼ï¼‰ä¸è¡¥å……å‰‚å¹²é¢„ï¼Œ3 ä¸ªæœˆåæŒ‡æ ‡æ¢å¤æ­£å¸¸ï¼Œè„±å‘é‡é™è‡³æ¯æ—¥ 50 æ ¹å†…ï¼Œå¤´å‘é‡æ‹¾å…‰æ³½ã€‚</p><h3 id="ä¸‰-è¶£å‘³å‘ç°è¯­è¨€ä¸å‘é‡çš„-ç¥ç§˜å…³è”-æ•°æ®èƒŒåçš„çœŸç›¸"><a class="markdownIt-Anchor" href="#ä¸‰-è¶£å‘³å‘ç°è¯­è¨€ä¸å‘é‡çš„-ç¥ç§˜å…³è”-æ•°æ®èƒŒåçš„çœŸç›¸"></a> ä¸‰ã€è¶£å‘³å‘ç°ï¼šè¯­è¨€ä¸å‘é‡çš„ â€œç¥ç§˜å…³è”â€ï¼Ÿâ€”â€” æ•°æ®èƒŒåçš„çœŸç›¸</h3><p>åœ¨æ¢³ç†è°ƒç ”æ•°æ®æ—¶ï¼Œæˆ‘ä»¬æ„å¤–å‘ç°ï¼šä¸åŒç¼–ç¨‹è¯­è¨€å¼€å‘è€…çš„è‡ªè¯„å‘é‡å­˜åœ¨æ˜æ˜¾å·®å¼‚ã€‚ä¸ºéªŒè¯è¿™ä¸€ç°è±¡ï¼Œæˆ‘ä»¬ä» GitHub 2022 å¹´åŒ¿åæ•°æ®ä¸­ï¼Œæå– 1.2 ä¸‡åå¼€å‘è€…çš„å‘é‡è¯„ä»·ï¼ˆâ€œæµ“å¯†â€â€œæ­£å¸¸â€â€œç¨€ç–â€â€œä¸¥é‡ç¨€ç–â€ï¼‰ä¸å¸¸ç”¨è¯­è¨€ä¿¡æ¯ï¼Œäº¤å‰åˆ†æåå¾—å‡ºå¦‚ä¸‹ç»“æœï¼š</p><p><img src="d2b64fd400a248449425b3c6eb7bc4c1.png" alt="" /></p><p>ä»æ•°æ®çœ‹ï¼ŒRust å¼€å‘è€… â€œæµ“å¯†â€ å æ¯”æœ€é«˜ï¼ŒC++ å¼€å‘è€… â€œç¨€ç–â€ å æ¯”æœ€é«˜ï¼Œè¿™æ˜¯å¦æ„å‘³ç€ç¼–ç¨‹è¯­è¨€ç›´æ¥å½±å“å‘é‡ï¼Ÿç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚è¿›ä¸€æ­¥åˆ†æå‘ç°ï¼Œè¿™ç§å…³è”æºäºä¸‰ä¸ªå…³é”®å› ç´ ï¼š</p><h4 id="1-ä»ä¸šè€…å¹´é¾„ä¸å·¥ä½œå¹´é™å¹´è½»ç¾¤ä½“çš„-å‘é‡ä¼˜åŠ¿"><a class="markdownIt-Anchor" href="#1-ä»ä¸šè€…å¹´é¾„ä¸å·¥ä½œå¹´é™å¹´è½»ç¾¤ä½“çš„-å‘é‡ä¼˜åŠ¿"></a> 1ã€ä»ä¸šè€…å¹´é¾„ä¸å·¥ä½œå¹´é™ï¼šå¹´è½»ç¾¤ä½“çš„ â€œå‘é‡ä¼˜åŠ¿â€</h4><p>Rust ä½œä¸º 2010 å¹´æ¨å‡ºçš„æ–°å…´è¯­è¨€ï¼Œå¼€å‘è€…ç¾¤ä½“æ™®éå¹´è½» â€”â€” å¹³å‡å¹´é¾„ 27.5 å²ï¼Œ85% å·¥ä½œå¹´é™â‰¤3 å¹´ï¼›è€Œ C++ è¯ç”Ÿäº 1983 å¹´ï¼Œå¤šç”¨äºæ“ä½œç³»ç»Ÿã€æ¸¸æˆå¼•æ“ç­‰åº•å±‚å¼€å‘ï¼Œå¼€å‘è€…å¹³å‡å¹´é¾„ 35.2 å²ï¼Œ62% å·¥ä½œå¹´é™è¶… 5 å¹´ã€‚</p><p>ä»ç”Ÿç†è§„å¾‹çœ‹ï¼Œè„±å‘é£é™©éšå¹´é¾„å¢é•¿è€Œå‡é«˜ï¼š25-30 å²ç”·æ€§è„±å‘å‘ç”Ÿç‡çº¦ 25%ï¼Œ35-40 å²åˆ™å‡è‡³ 45%ã€‚è¿™æ˜¯å› ä¸ºéšç€å¹´é¾„å¢é•¿ï¼Œæ¯›å›Šé»‘ç´ ç»†èƒæ´»æ€§é™ä½ï¼Œé›„æ¿€ç´ ï¼ˆå¦‚äºŒæ°¢ç¾é…® DHTï¼‰å¯¹æ¯›å›Šçš„æŠ‘åˆ¶ä½œç”¨é€æ¸æ˜¾ç°ã€‚å› æ­¤ï¼ŒRust å¼€å‘è€…çš„ â€œå‘é‡ä¼˜åŠ¿â€ï¼Œæœ¬è´¨æ˜¯å¹´è½»ç¾¤ä½“çš„ç”Ÿç†ç‰¹ç‚¹ï¼Œä¸è¯­è¨€æœ¬èº«æ— å…³ã€‚</p><h4 id="2-å·¥ä½œå‹åŠ›å¼ºåº¦åº•å±‚å¼€å‘çš„-é«˜å‹å±æ€§"><a class="markdownIt-Anchor" href="#2-å·¥ä½œå‹åŠ›å¼ºåº¦åº•å±‚å¼€å‘çš„-é«˜å‹å±æ€§"></a> 2ã€å·¥ä½œå‹åŠ›å¼ºåº¦ï¼šåº•å±‚å¼€å‘çš„ â€œé«˜å‹å±æ€§â€</h4><p>ä¸åŒè¯­è¨€å¯¹åº”çš„å¼€å‘é¢†åŸŸï¼Œå‹åŠ›å¼ºåº¦å·®å¼‚æ˜¾è‘—ã€‚C++ å¼€å‘è€…å¤šä»äº‹åº•å±‚æ¶æ„ã€é«˜æ€§èƒ½è®¡ç®—ï¼Œé¡¹ç›®å‘¨æœŸé•¿ï¼ˆå¹³å‡ 6-12 ä¸ªæœˆï¼‰ã€å¤æ‚åº¦é«˜ã€å®¹é”™ç‡ä½ â€”â€” è°ƒç ”æ˜¾ç¤ºï¼ŒC++ å¼€å‘è€…æ¯å‘¨åŠ ç­ 14.2 å°æ—¶ï¼Œé¡¹ç›®ä¸Šçº¿å‰ç”šè‡³è¾¾ 20 å°æ—¶ / å‘¨ï¼›è€Œ Rust å¼€å‘è€…é›†ä¸­åœ¨åŒºå—é“¾ã€äº‘åŸç”Ÿç­‰æ–°å…´é¢†åŸŸï¼Œé¡¹ç›®å‘¨æœŸçµæ´»ï¼ˆå¹³å‡ 3-6 ä¸ªæœˆï¼‰ï¼Œæ¯å‘¨åŠ ç­ä»… 8.5 å°æ—¶ï¼Œæ˜¾è‘—ä½äº C++ã€‚</p><p>å¦‚å‰æ–‡æ‰€è¿°ï¼Œå‹åŠ›å¼ºåº¦ä¸è„±å‘é£é™©æ­£ç›¸å…³ã€‚é•¿æœŸé«˜å‹å¯¼è‡´çš„çš®è´¨é†‡å‡é«˜ã€ç¡çœ ä¸è¶³ï¼Œä¼šåŠ é€Ÿæ¯›å›Šèç¼©ã€‚å› æ­¤ï¼ŒC++ å¼€å‘è€…çš„é«˜ â€œç¨€ç–â€ å æ¯”ï¼Œæ˜¯åº•å±‚å¼€å‘é«˜å‹æ¨¡å¼çš„ç»“æœï¼Œè€Œéè¯­è¨€çš„ â€œé—®é¢˜â€ã€‚</p><h4 id="3-å¹¸å­˜è€…åå·®è„±å‘è€…-çš„èŒä¸šè¿ç§»"><a class="markdownIt-Anchor" href="#3-å¹¸å­˜è€…åå·®è„±å‘è€…-çš„èŒä¸šè¿ç§»"></a> 3ã€å¹¸å­˜è€…åå·®ï¼šâ€œè„±å‘è€…â€ çš„èŒä¸šè¿ç§»</h4><p>åˆ†æä¸­è¿˜å‘ç° â€œå¹¸å­˜è€…åå·®â€ï¼šéƒ¨åˆ† C++ã€Java ç­‰é«˜å‹é¢†åŸŸçš„ç¨‹åºå‘˜ï¼Œå‡ºç°æ˜æ˜¾è„±å‘åï¼Œä¼šè½¬å‘å‹åŠ›è¾ƒå°çš„é¢†åŸŸï¼ˆå¦‚ Python å¼€å‘ã€æµ‹è¯•ï¼‰æˆ–è½¬è¡Œäº§å“ç»ç†ã€è¿è¥ã€‚è¿™ç§è¿ç§»å¯¼è‡´é«˜å‹é¢†åŸŸ â€œè„±å‘è€…â€ æ¯”ä¾‹æ›´é«˜ï¼Œä½å‹é¢†åŸŸèšé›†æ›´å¤š â€œå‘é‡å¥åº·â€ è€…ï¼Œè¿›ä¸€æ­¥æ”¾å¤§äº†è¯­è¨€ä¸å‘é‡çš„å…³è”ã€‚</p><p>éœ€æ˜ç¡®ï¼šä¸Šè¿°æ•°æ®ä»…ä¸º â€œå…³è”æ€§â€ï¼Œè€Œé â€œå› æœå…³ç³»â€ã€‚æ— è®ºä½¿ç”¨ä½•ç§è¯­è¨€ï¼Œåªè¦å­˜åœ¨é«˜å‹ã€ç†¬å¤œã€è¥å…»å¤±è¡¡ï¼Œéƒ½å¯èƒ½é¢ä¸´è„±å‘ï¼›åä¹‹ï¼Œåšå¥½å¥åº·ç®¡ç†ï¼Œå³ä½¿æ˜¯ C++ å¼€å‘è€…ï¼Œä¹Ÿèƒ½ç»´æŒè‰¯å¥½å‘é‡ã€‚</p><p><img src="d0c41c8a328f465b9921cf6b28343b16.png" alt="" /></p><h3 id="å››-æŠ¤å‘å»ºè®®ç§‘å­¦æ‹¯æ•‘ä»£ç ä¸å¤´å‘-åˆ†é˜¶æ®µè§£å†³æ–¹æ¡ˆ"><a class="markdownIt-Anchor" href="#å››-æŠ¤å‘å»ºè®®ç§‘å­¦æ‹¯æ•‘ä»£ç ä¸å¤´å‘-åˆ†é˜¶æ®µè§£å†³æ–¹æ¡ˆ"></a> å››ã€æŠ¤å‘å»ºè®®ï¼šç§‘å­¦æ‹¯æ•‘ä»£ç ä¸å¤´å‘ â€”â€” åˆ†é˜¶æ®µè§£å†³æ–¹æ¡ˆ</h3><p>åŸºäºç ”ç©¶ç»“è®ºï¼Œæˆ‘ä»¬é’ˆå¯¹ç¨‹åºå‘˜çš„å·¥ä½œåœºæ™¯ï¼ˆå¦‚ä¹…åã€ç†¬å¤œã€å¤–å–ä¾èµ–ï¼‰ï¼Œä» â€œé¢„é˜² - å¹²é¢„ - ä¿®å¤â€ ä¸‰é˜¶æ®µï¼Œæå‡ºå¯è½åœ°çš„å…»æŠ¤æ–¹æ¡ˆï¼Œæ‰€æœ‰å»ºè®®å‡å‚è€ƒ AADã€ISHRS ç­‰æœºæ„æŒ‡å—ï¼Œå…¼é¡¾ç§‘å­¦æ€§ä¸å®ç”¨æ€§ã€‚</p><h4 id="1-é¢„é˜²é˜¶æ®µå»ºç«‹æ¯›å‘å¥åº·-é˜²æŠ¤å±éšœ"><a class="markdownIt-Anchor" href="#1-é¢„é˜²é˜¶æ®µå»ºç«‹æ¯›å‘å¥åº·-é˜²æŠ¤å±éšœ"></a> 1ã€é¢„é˜²é˜¶æ®µï¼šå»ºç«‹æ¯›å‘å¥åº· â€œé˜²æŠ¤å±éšœâ€</h4><p>æ ¸å¿ƒæ˜¯è§„é¿é£é™©å› ç´ ï¼Œé€‚åˆæ‰€æœ‰ç¨‹åºå‘˜ï¼Œå°¤å…¶æ˜¯å·¥ä½œå¹´é™â‰¤3 å¹´ã€æš‚æ— è„±å‘ç—‡çŠ¶è€…ï¼š</p><ol><li><strong>å‹åŠ›ç®¡ç†ï¼šç¢ç‰‡åŒ–æ”¾æ¾ + å®šæœŸè§£å‹</strong><ul><li>é‡‡ç”¨ â€œç•ªèŒ„å·¥ä½œæ³•â€ï¼šæ¯ 25 åˆ†é’Ÿä¸“æ³¨å·¥ä½œï¼Œä¼‘æ¯ 5 åˆ†é’Ÿï¼ŒæœŸé—´åš â€œå¤´çš®æ”¾æ¾æ“â€ï¼ˆç”¨æŒ‡è…¹è½»æŒ‰å¤´çš®ï¼Œä»é¢å¤´â†’å¤´é¡¶â†’åè„‘å‹ºï¼Œæ¯æ¬¡ 1 åˆ†é’Ÿï¼‰ï¼Œä¿ƒè¿›å¤´çš®è¡€æ¶²å¾ªç¯ï¼Œé™ä½çš®è´¨é†‡å³°å€¼ã€‚</li><li>æ¯å‘¨ 1 æ¬¡ â€œæ— å±å¹•æ—¥â€ï¼šè¿œç¦»ç”µè„‘ã€æ‰‹æœºï¼Œé€‰æ‹©å¾’æ­¥ã€ç‘œä¼½ç­‰è¿åŠ¨ï¼ˆè¿åŠ¨å¯ä¿ƒè¿›å†…å•¡è‚½åˆ†æ³Œï¼ŒæŠµæ¶ˆå‹åŠ›å½±å“ï¼‰ï¼Œå®éªŒæ˜¾ç¤ºï¼Œè§„å¾‹è¿åŠ¨è€…çš®è´¨é†‡æ°´å¹³æ¯”ä¹…åè€…ä½ 28%ã€‚</li></ul></li><li><strong>ä½œæ¯ä¼˜åŒ–ï¼šå›ºå®šç¡çœ  + å¯¹æŠ—è“å…‰</strong><ul><li>è®¾å®š â€œç¡çœ ç”Ÿç‰©é’Ÿâ€ï¼šå³ä½¿å‘¨æœ«ï¼Œä¹Ÿå›ºå®š 23 ç‚¹å‰å…¥ç¡ï¼ˆ23 ç‚¹ - å‡Œæ™¨ 3 ç‚¹æ˜¯æ¯›å›Šä¿®å¤é»„é‡‘æœŸï¼‰ï¼Œé€æ­¥è°ƒæ•´å…¥ç¡ä¹ æƒ¯ï¼ˆå¦‚ç¡å‰ 1 å°æ—¶å…³é—­ç”µå­è®¾å¤‡ï¼Œæˆ–å¼€å¯ â€œè“å…‰è¿‡æ»¤æ¨¡å¼â€ï¼‰ã€‚</li><li>æ”¹å–„ç¡çœ ç¯å¢ƒï¼šä½¿ç”¨é®å…‰çª—å¸˜ï¼ˆé»‘æš—ç¯å¢ƒä¿ƒè¿›è¤ªé»‘ç´ åˆ†æ³Œï¼‰ï¼Œç¡å‰å– 1 æ¯æ¸©ç‰›å¥¶ï¼ˆå«è‰²æ°¨é…¸ï¼ŒåŠ©çœ ï¼‰ï¼Œä¿è¯æ¯æ—¥ 7-8 å°æ—¶ç¡çœ ï¼Œç¡çœ è´¨é‡è‰¯å¥½è€…è„±å‘é£é™©é™ä½ 42%ã€‚</li></ul></li><li><strong>é¥®é£Ÿè°ƒæ•´ï¼šå¤–å–ä¼˜åŒ– + å…³é”®è¥å…»ç´ è¡¥å……</strong><ul><li>å¤–å–é€‰æ‹© â€œè¥å…»ä¼˜å…ˆâ€ï¼šä¼˜å…ˆé€‰æ¸…è’¸ã€æ°´ç…®ç±»èœå“ï¼ˆå¦‚æ¸…è’¸é±¼ã€æ°´ç…®èœï¼‰ï¼Œé¿å…æ²¹ç‚¸ã€çº¢çƒ§ï¼›é¢å¤–ç‚¹ 1 ä»½å‡‰æ‹Œè”¬èœï¼ˆå¦‚è èœã€è¥¿å…°èŠ±ï¼‰ï¼Œè¡¥å……ç»´ç”Ÿç´ ä¸è†³é£Ÿçº¤ç»´ã€‚</li><li>åŠå…¬å®¤å¤‡ â€œæŠ¤å‘é›¶é£Ÿâ€ï¼šæ¯æ—¥åƒ 1 å°æŠŠåšæœï¼ˆå¦‚æ ¸æ¡ƒã€æä»ï¼Œå«é”Œä¸ Omega-3ï¼‰ã€1 ä¸ªé¸¡è›‹ï¼ˆå«ç”Ÿç‰©ç´ ï¼Œä¿ƒè¿›æ¯›å‘ç”Ÿé•¿ï¼‰ï¼Œæ¯å‘¨åƒ 2 æ¬¡æ·±æµ·é±¼ï¼ˆå¦‚ä¸‰æ–‡é±¼ï¼Œå« Omega-3ï¼Œç»´æŒå¤´çš®å¥åº·ï¼‰ã€‚</li><li>è¡¥å……å‰‚è¾…åŠ©ï¼šè‹¥æ—¥ç…§ä¸è¶³ï¼ˆå¦‚é•¿æœŸå®¤å†…åŠå…¬ï¼‰ï¼Œæ¯æ—¥è¡¥å…… 400IU ç»´ç”Ÿç´  Dï¼ˆéµåŒ»å˜±ï¼‰ï¼›å¤–å–é“æ‘„å…¥ä¸è¶³è€…ï¼Œå¯åƒå«é“å‰‚ï¼ˆå¦‚ç¡«é…¸äºšé“ï¼Œéœ€åœ¨åŒ»ç”ŸæŒ‡å¯¼ä¸‹æœç”¨ï¼Œé¿å…è¿‡é‡ï¼‰ã€‚</li></ul></li><li><strong>åŠå…¬åœºæ™¯ï¼šæ”¹å–„ä¹…åå½±å“</strong><ul><li>æ¯ 1 å°æ—¶èµ·èº«æ´»åŠ¨ï¼šå»èŒ¶æ°´é—´å€’æ°´ã€åšç®€å•æ‹‰ä¼¸ï¼Œé¿å…ä¹…åå¯¼è‡´çš„å¤´çš®è¡€æ¶²å¾ªç¯ä¸ç•…ï¼ˆä¹…åè€…å¤´çš®è¡€æµé‡æ¯”æ´»åŠ¨è€…ä½ 35%ï¼‰ã€‚</li><li>é€‰æ‹© â€œæŠ¤è…°åŠå…¬æ¤…â€ï¼šä¿æŒè…°éƒ¨æŒºç›´ï¼Œå¤´éƒ¨ä¸å±å¹•å¹³é½ï¼Œé¿å…ä½å¤´çœ‹ç”µè„‘ï¼ˆä½å¤´ä¼šå‹è¿«é¢ˆéƒ¨è¡€ç®¡ï¼Œé—´æ¥å½±å“å¤´çš®ä¾›è¡€ï¼‰ã€‚</li></ul></li></ol><h4 id="2-å¹²é¢„é˜¶æ®µé’ˆå¯¹æ—©æœŸè„±å‘ç—‡çŠ¶"><a class="markdownIt-Anchor" href="#2-å¹²é¢„é˜¶æ®µé’ˆå¯¹æ—©æœŸè„±å‘ç—‡çŠ¶"></a> 2ã€å¹²é¢„é˜¶æ®µï¼šé’ˆå¯¹æ—©æœŸè„±å‘ç—‡çŠ¶</h4><p>é€‚åˆå‡ºç°è½»å¾®è„±å‘ï¼ˆæ¯æ—¥è„±å‘ 50-100 æ ¹ã€å‘ç¼ç•¥å®½ã€å¤´å‘è½»å¾®å˜ç»†è½¯ï¼‰çš„ç¨‹åºå‘˜ï¼Œéœ€åœ¨é¢„é˜²æªæ–½åŸºç¡€ä¸Šï¼Œå¢åŠ é’ˆå¯¹æ€§å¹²é¢„ï¼Œå°¤å…¶å¯å¼•å…¥çº¯ä¸­è¯ç†¬åˆ¶æ´—å‘æ°´ï¼Œå…¼é¡¾æ¸©å’Œæ¸…æ´ä¸æ¯›å›Šå…»æŠ¤ï¼š</p><p><strong>1ã€çº¯ä¸­è¯ç†¬åˆ¶æ´—å‘æ°´ï¼šä¼ ç»Ÿé…æ–¹çš„æ¸©å’Œå…»æŠ¤</strong></p><ul><li><strong>æ ¸å¿ƒç†è®ºä¾æ®</strong>ï¼šä¸­åŒ»è®¤ä¸ºï¼Œæ—©æœŸè„±å‘å¤šä¸ â€œè‚è‚¾ä¸è¶³ã€æ°”è¡€äºè™šã€å¤´çš®æ¹¿çƒ­â€ ç›¸å…³ â€”â€” ç¨‹åºå‘˜é•¿æœŸç†¬å¤œæ˜“ä¼¤è‚ï¼Œé«˜å‹ç„¦è™‘æ˜“è€—è‚¾ï¼Œå¤–å–é«˜æ²¹é¥®é£Ÿæ˜“ç”Ÿæ¹¿çƒ­ï¼Œä¸‰é‡å› ç´ å åŠ å¯¼è‡´å¤´çš®ç»ç»œä¸é€šã€æ¯›å›Šå¤±å…»ã€‚çº¯ä¸­è¯æ´—å‘æ°´é€šè¿‡ â€œæ¸…æ´å¤´çš®ã€ç¥›é£é™¤æ¹¿ã€å…»è¡€ç”Ÿå‘â€ çš„å¤–ç”¨ä½œç”¨ï¼Œå¯ç›´æ¥æ”¹å–„æ¯›å›Šå¾®ç¯å¢ƒï¼Œä¸”é¿å…äº†éƒ¨åˆ†åŒ–å­¦æ´—å‘å‰‚å¯¹å¤´çš®å±éšœçš„åˆºæ¿€ã€‚ã€Šä¸­åŒ»å¤–ç§‘å­¦ã€‹ï¼ˆç¬¬ 3 ç‰ˆï¼‰æ˜ç¡®æŒ‡å‡ºï¼Œä¾§æŸå¶ã€ä½•é¦–ä¹Œï¼ˆåˆ¶ï¼‰ã€å¥³è´å­ã€å¢¨æ—±è²ã€æ¡‘å¶ç­‰è¯æï¼Œç»ç°ä»£å·¥è‰ºç†¬åˆ¶åï¼Œå…¶æœ‰æ•ˆæˆåˆ†ï¼ˆå¦‚é»„é…®ç±»ã€è’½é†Œç±»ï¼‰å¯æ¸—é€è‡³å¤´çš®æµ…å±‚ï¼Œå‘æŒ¥ â€œä¹Œå‘ç”Ÿå‘ã€æ»‹å…»æ¯›å›Šâ€ åŠŸæ•ˆï¼Œä¸”å¤–ç”¨å®‰å…¨æ€§é«˜ï¼Œé€‚åˆé•¿æœŸä½¿ç”¨ã€‚</li><li><strong>ç»å…¸é…æ–¹æ¨èä¸é€‚é…åœºæ™¯</strong>ï¼š<ul><li><strong>æ§æ²¹å…»å‘æ–¹ï¼ˆé€‚é…å¤´çš®å‡ºæ²¹å¤šã€è½»å¾®å¤´ç—’çš„ç¨‹åºå‘˜ï¼‰</strong>ï¼šä¾§æŸå¶ 30gã€æ¡‘å¶ 20gã€è–„è· 10gã€è‹¦å‚ 15gã€‚ä¾§æŸå¶å¯æ¸…çƒ­å‡‰è¡€ã€æŠ‘åˆ¶å¤´çš®æ²¹è„‚åˆ†æ³Œï¼Œæ¡‘å¶èƒ½ç¥›é£é™¤æ¹¿ã€å‡å°‘å¤´å±‘ï¼Œè–„è·æ¸…å‡‰æ­¢ç—’ã€æ”¹å–„å¤´çš®é—·çƒ­æ„Ÿï¼ˆé€‚é…é•¿æœŸæˆ´è€³æœºã€å¤´çš®ä¸é€æ°”çš„åŠå…¬åœºæ™¯ï¼‰ã€‚ç†¬åˆ¶æ–¹æ³•ï¼šå°†è¯ææ´—å‡€ååŠ æ°´ 1000mLï¼Œå¤§ç«ç…®æ²¸åè½¬å°ç«ç†¬ç…® 30 åˆ†é’Ÿï¼Œè¿‡æ»¤è¯æ¸£åå–è¯æ¶²ï¼Œå¾…æ¸©åº¦é™è‡³ 37â„ƒå·¦å³ï¼ˆæ¥è¿‘å¤´çš®æ¸©åº¦ï¼‰æ—¶ä½¿ç”¨ï¼Œæ¯å‘¨ 2-3 æ¬¡ï¼Œæ›¿ä»£å¸¸è§„æ´—å‘æ°´ã€‚</li><li><strong>å…»è¡€å›ºå‘æ–¹ï¼ˆé€‚é…å¤´å‘ç»†è½¯ã€å‘ç¼ç•¥å®½çš„ç¨‹åºå‘˜ï¼‰</strong>ï¼šåˆ¶ä½•é¦–ä¹Œ 20gã€å¥³è´å­ 25gã€å¢¨æ—±è² 25gã€å½“å½’ 15gã€‚åˆ¶ä½•é¦–ä¹Œè¡¥è‚è‚¾ã€ç›Šç²¾è¡€ï¼ˆåŒºåˆ«äºç”Ÿä½•é¦–ä¹Œï¼Œåˆ¶ä½•é¦–ä¹Œç»ç‚®åˆ¶åé™ä½äº†è‚æŸä¼¤é£é™©ï¼Œå¤–ç”¨æ›´å®‰å…¨ï¼‰ï¼Œå¥³è´å­ä¸å¢¨æ—±è²ä¸º â€œäºŒè‡³ä¸¸â€ æ ¸å¿ƒæˆåˆ†ï¼Œå¯æ»‹é˜´å…»è¡€ã€å»¶ç¼“æ¯›å›Šè€åŒ–ï¼Œå½“å½’æ´»è¡€é€šç»œã€ä¿ƒè¿›å¤´çš®è¡€æ¶²å¾ªç¯ï¼ˆé€‚é…ä¹…åå¯¼è‡´çš„å¤´çš®ä¾›è¡€ä¸è¶³ï¼‰ã€‚ç†¬åˆ¶æ–¹æ³•ï¼šè¯æåŠ æ°´ 1200mLï¼Œæµ¸æ³¡ 30 åˆ†é’Ÿåå¤§ç«ç…®æ²¸ï¼Œè½¬å°ç«ç†¬ 40 åˆ†é’Ÿï¼Œè¿‡æ»¤åå–è¯æ¶²ï¼Œæ´—å‘æ—¶å¯é…åˆæŒ‡è…¹æŒ‰æ‘©å¤´çš® 3-5 åˆ†é’Ÿï¼Œè®©è¯æ¶²å……åˆ†æ¥è§¦æ¯›å›Šï¼Œæ¯å‘¨ 2 æ¬¡å³å¯ï¼Œé¿å…è¿‡åº¦æ¸…æ´ã€‚</li><li><strong>æ³¨æ„äº‹é¡¹</strong>ï¼šâ‘  è¯æé€‰æ‹©éœ€è®¤å‡† â€œåˆ¶ä½•é¦–ä¹Œâ€ï¼ˆè¯æˆ¿æ ‡æ³¨ â€œåˆ¶é¦–é¸Ÿâ€ï¼‰ï¼Œé¿å…ä½¿ç”¨ç”Ÿä½•é¦–ä¹Œï¼›â‘¡ ç†¬åˆ¶åè¯æ¶²éœ€å½“å¤©ä½¿ç”¨ï¼Œæœªç”¨å®Œå¯å†·è—ä¿å­˜ï¼ˆä¸è¶…è¿‡ 24 å°æ—¶ï¼‰ï¼Œä½¿ç”¨å‰éœ€å¤æ¸©è‡³å¸¸æ¸©ï¼›â‘¢ è‹¥å¤´çš®æœ‰ç ´æŸï¼ˆå¦‚ç—˜ç—˜ç ´æŸã€æŠ“ä¼¤ï¼‰ï¼Œéœ€æš‚åœä½¿ç”¨ï¼Œå¾…ä¼¤å£æ„ˆåˆåå†ç”¨ï¼›â‘£ å»ºè®®è¿ç»­ä½¿ç”¨ 1-2 ä¸ªæœˆï¼Œä¸­åŒ»å¤–ç”¨è°ƒç†éœ€å¾ªåºæ¸è¿›ï¼ŒçŸ­æœŸä½¿ç”¨å¯èƒ½ä»…èƒ½æ„Ÿå—åˆ°æ¸…æ´æ•ˆæœï¼Œé•¿æœŸåšæŒå¯è§‚å¯Ÿåˆ°è„±å‘é‡å‡å°‘ã€å¤´å‘éŸ§æ€§å¢å¼ºã€‚</li></ul></li></ul><p><img src="b47584c1653541fa91a3dbbb2c9825e1.png" alt="" /></p><p><strong>2ã€å¤´çš®æŠ¤ç†ï¼šç§‘å­¦æ¸…æ´ + å¤–ç”¨è¯ç‰©ååŒ</strong></p><ul><li><strong>æ¸…æ´é¢‘ç‡ä¸æ‰‹æ³•è°ƒæ•´</strong>ï¼šå³ä½¿ä½¿ç”¨ä¸­è¯æ´—å‘æ°´ï¼Œä¹Ÿéœ€æ§åˆ¶æ¸…æ´é¢‘ç‡ â€”â€” å¤å­£æ¯å‘¨ 3 æ¬¡ï¼Œå†¬å­£æ¯å‘¨ 2 æ¬¡ï¼Œé¿å…è¿‡åº¦æ¸…æ´ç ´åå¤´çš®æ²¹è„‚å¹³è¡¡ã€‚æ´—å‘æ—¶éœ€æ³¨æ„ï¼šç”¨æŒ‡è…¹ï¼ˆè€ŒéæŒ‡ç”²ï¼‰è½»è½»æŒ‰æ‘©å¤´çš®ï¼Œä»é¢å¤´å‘å¤´é¡¶ã€å†å‘åè„‘å‹ºæ‰“åœˆï¼Œæ¯ä¸ªåŒºåŸŸæŒ‰æ‘© 1 åˆ†é’Ÿï¼Œæ—¢èƒ½ä¿ƒè¿›ä¸­è¯æˆåˆ†å¸æ”¶ï¼Œåˆèƒ½é¿å…æŒ‡ç”²åˆ’ä¼¤å¤´çš®ï¼ˆå¤´çš®ç ´æŸæ˜“å¼•å‘ç‚ç—‡ï¼ŒåŠ é‡è„±å‘ï¼‰ã€‚</li><li><strong>ä¸­è¥¿åŒ»ååŒç”¨è¯ï¼ˆé€‚é…è„±å‘é‡ç•¥å¤šçš„æƒ…å†µï¼‰</strong>ï¼šè‹¥ä½¿ç”¨ä¸­è¯æ´—å‘æ°´ 1 ä¸ªæœˆåï¼Œè„±å‘é‡ä»æœªæ˜æ˜¾å‡å°‘ï¼ˆæ¯æ—¥è¶… 80 æ ¹ï¼‰ï¼Œå¯åœ¨åŒ»ç”ŸæŒ‡å¯¼ä¸‹ï¼Œæ­é…å¤–ç”¨ç±³è¯ºåœ°å°”æº¶æ¶²ï¼ˆAAD æ¨èçš„ä¸€çº¿é˜²è„±è¯ç‰©ï¼‰ã€‚ä½¿ç”¨æ–¹æ³•ï¼šå…ˆä½¿ç”¨ä¸­è¯æ´—å‘æ°´æ¸…æ´å¤´çš®å¹¶æ“¦å¹²ï¼Œå¾…å¤´çš®å®Œå…¨å¹²ç‡¥åï¼Œå– 1mL ç±³è¯ºåœ°å°”æº¶æ¶²ï¼ˆ5% æµ“åº¦é€‚åˆç”·æ€§ï¼Œ2% æµ“åº¦é€‚åˆå¥³æ€§ï¼‰ï¼Œå‡åŒ€æ¶‚æŠ¹äºè„±å‘åŒºåŸŸï¼ˆå¦‚å‘ç¼ã€å¤´é¡¶ï¼‰ï¼Œè½»è½»æŒ‰æ‘© 1 åˆ†é’Ÿï¼Œæ¯æ—¥ 2 æ¬¡ã€‚éœ€æ³¨æ„ï¼šç±³è¯ºåœ°å°”éœ€åšæŒä½¿ç”¨ 3-6 ä¸ªæœˆæ‰èƒ½è§æ•ˆï¼Œä¸”ä¸ä¸­è¯æ´—å‘æ°´é—´éš” 1 å°æ—¶ä½¿ç”¨ï¼Œé¿å…è¯æ¶²ç›¸äº’ç¨€é‡Šå½±å“æ•ˆæœã€‚</li></ul><p><strong>3ã€ä½œæ¯å¼ºåŒ–ï¼šç¡çœ ç›‘æµ‹ + ç†¬å¤œè¡¥æ•‘</strong></p><ul><li><strong>ç¡çœ è´¨é‡ç²¾å‡†ç®¡ç†</strong>ï¼šä½¿ç”¨ç¡çœ ç›‘æµ‹ APPï¼ˆå¦‚ SleepCycleã€å°ç±³å¥åº·ï¼‰ï¼Œè®°å½•ç¡çœ å‘¨æœŸï¼ˆæ·±ç¡ã€æµ…ç¡ã€REM ç¡çœ ï¼‰ï¼Œè‹¥æ·±ç¡æ—¶é•¿å æ¯”ä½äº 20%ï¼ˆæ­£å¸¸æˆå¹´äººåº”è¾¾ 25%-30%ï¼‰ï¼Œéœ€è°ƒæ•´ç¡çœ ç¯å¢ƒ â€”â€” å¦‚æ›´æ¢æ›´é€æ°”çš„æ•å¥—ï¼ˆé¿å…å¤´çš®é—·çƒ­ï¼‰ã€ç¡å‰ 1 å°æ—¶å…³é—­æ‰€æœ‰ç”µå­è®¾å¤‡ï¼ˆå‡å°‘è“å…‰åˆºæ¿€ï¼‰ã€‚è‹¥å­˜åœ¨å…¥ç¡å›°éš¾ï¼Œå¯åœ¨åŒ»ç”ŸæŒ‡å¯¼ä¸‹çŸ­æœŸä½¿ç”¨è¤ªé»‘ç´ è¡¥å……å‰‚ï¼ˆæ¯æ—¥ 1-3mgï¼Œè¿ç»­ä½¿ç”¨ä¸è¶…è¿‡ 1 ä¸ªæœˆï¼‰ï¼Œé¿å…é•¿æœŸä¾èµ–ã€‚</li><li><strong>ç†¬å¤œåçš„æ¯›å›Šè¡¥æ•‘æªæ–½</strong>ï¼šè‹¥å› é¡¹ç›®ç´§æ€¥ä¸å¾—ä¸ç†¬å¤œï¼ˆå¦‚å‡Œæ™¨ 2 ç‚¹åå…¥ç¡ï¼‰ï¼Œæ¬¡æ—¥éœ€å¢åŠ  2 é¡¹è¡¥æ•‘åŠ¨ä½œï¼šâ‘  ä¸Šåˆ 10 ç‚¹å·¦å³ç”¨æ¸©æ°´ï¼ˆ38â„ƒï¼‰å†²æ´—å¤´çš® 1 æ¬¡ï¼ˆæ— éœ€ä½¿ç”¨æ´—å‘æ°´ï¼‰ï¼Œä¿ƒè¿›å¤´çš®è¡€æ¶²å¾ªç¯ï¼Œç¼“è§£ç†¬å¤œå¯¼è‡´çš„æ¯›å›Šç¼ºæ°§ï¼›â‘¡ ä¸­åˆè¡¥å…… 1 é¢—å¤åˆç»´ç”Ÿç´ ï¼ˆå«ç»´ç”Ÿç´  B æ—ã€é”Œå…ƒç´ ï¼‰ï¼Œå¼¥è¡¥ç†¬å¤œæ¶ˆè€—çš„å¾®é‡å…ƒç´ ï¼Œå‡å°‘æ¯›å›Šè¥å…»ç¼ºå£ã€‚</li></ul><h4 id="3-ä¿®å¤é˜¶æ®µé’ˆå¯¹ä¸­åº¦è„±å‘ç—‡çŠ¶"><a class="markdownIt-Anchor" href="#3-ä¿®å¤é˜¶æ®µé’ˆå¯¹ä¸­åº¦è„±å‘ç—‡çŠ¶"></a> 3ã€ä¿®å¤é˜¶æ®µï¼šé’ˆå¯¹ä¸­åº¦è„±å‘ç—‡çŠ¶</h4><p>é€‚åˆå‡ºç°æ˜æ˜¾è„±å‘ï¼ˆæ¯æ—¥è„±å‘è¶… 100 æ ¹ã€å‘é™…çº¿åç§» 1cm ä»¥ä¸Šã€å¤´é¡¶æ˜æ˜¾ç¨€ç–ï¼‰çš„ç¨‹åºå‘˜ï¼Œéœ€åœ¨å¹²é¢„é˜¶æ®µæªæ–½åŸºç¡€ä¸Šï¼Œç»“åˆç°ä»£åŒ»å­¦æŠ€æœ¯ä¸ä¸­åŒ»è°ƒç†ï¼Œå®ç°æ¯›å›Šä¿®å¤ä¸æ¯›å‘å†ç”Ÿï¼š</p><ol><li><p><strong>ä¸­åŒ»å†…è°ƒè¾…åŠ©ï¼šè¾¨è¯æ–½è†³ + ç©´ä½æŒ‰æ‘©</strong></p><ul><li><strong>è¾¨è¯æ–½è†³æ–¹æ¡ˆ</strong>ï¼šæ ¹æ®ä¸­åŒ»è¾¨è¯ç»“æœè°ƒæ•´é¥®é£Ÿ â€”â€” è‹¥ä¸º â€œè‚è‚¾ä¸è¶³å‹â€ï¼ˆè¡¨ç°ä¸ºè„±å‘ä¼´è…°è†é…¸è½¯ã€å¤±çœ å¤šæ¢¦ï¼‰ï¼Œå¯æ¯å‘¨ç…® 2 æ¬¡ â€œæ¸æé»‘èŠéº»ç²¥â€ï¼ˆæ¸æ 15gã€é»‘èŠéº» 20gã€å°ç±³ 50gï¼‰ï¼›è‹¥ä¸º â€œæ°”è¡€äºè™šå‹â€ï¼ˆè¡¨ç°ä¸ºè„±å‘ä¼´é¢è‰²è‹ç™½ã€ç–²åŠ³ä¹åŠ›ï¼‰ï¼Œå¯æ¯æ—¥å– 1 ç¢— â€œå½“å½’é»„èŠªä¹Œé¸¡æ±¤â€ï¼ˆå½“å½’ 10gã€é»„èŠª 15gã€ä¹Œé¸¡åŠåªï¼Œå»æ²¹åç‚–ç…®ï¼‰ï¼›è‹¥ä¸º â€œæ¹¿çƒ­ä¸Šè’¸å‹â€ï¼ˆè¡¨ç°ä¸ºè„±å‘ä¼´å¤´çš®å‡ºæ²¹å¤šã€å£è‹¦ï¼‰ï¼Œå¯æ¯å‘¨åƒ 3 æ¬¡ â€œç»¿è±†è–ç±³ç²¥â€ï¼ˆç»¿è±† 20gã€è–ç±³ 30gï¼Œæå‰æµ¸æ³¡åç†¬ç…®ï¼‰ï¼Œæ¸…çƒ­åˆ©æ¹¿ã€æ”¹å–„å¤´çš®ç¯å¢ƒã€‚</li><li><strong>å¤´çš®ç©´ä½æŒ‰æ‘©</strong>ï¼šæ¯æ—¥ç¡å‰ç”¨æŒ‡è…¹æŒ‰æ‘©å¤´çš® 3 ä¸ªå…³é”®ç©´ä½ â€”â€”â‘  ç™¾ä¼šç©´ï¼ˆå¤´é¡¶æ­£ä¸­çº¿ä¸ä¸¤è€³å°–è¿çº¿äº¤ç‚¹ï¼‰ï¼šç”¨æ‹‡æŒ‡æŒ‰æ‰ 1 åˆ†é’Ÿï¼ŒåŠ›åº¦ä»¥è½»å¾®é…¸èƒ€ä¸ºå®œï¼Œå¯å®‰ç¥é†’è„‘ã€ä¿ƒè¿›å¤´é¡¶æ¯›å›Šä¾›è¡€ï¼›â‘¡ é£æ± ç©´ï¼ˆåé¢ˆæ•éª¨ä¸‹æ–¹å‡¹é™·å¤„ï¼‰ï¼šç”¨é£ŸæŒ‡ä¸ä¸­æŒ‡æŒ‰æ‰ 2 åˆ†é’Ÿï¼Œç¼“è§£é¢ˆéƒ¨åƒµç¡¬ï¼Œæ”¹å–„å¤´çš®è¡€æ¶²å¾ªç¯ï¼ˆé€‚é…é•¿æœŸä½å¤´çœ‹ç”µè„‘çš„å§¿åŠ¿ï¼‰ï¼›â‘¢ è§’å­™ç©´ï¼ˆè€³å°–ç›´ä¸Šã€å‘é™…å¤„ï¼‰ï¼šç”¨æ‹‡æŒ‡è½»æŒ‰ 1 åˆ†é’Ÿï¼Œå¯ç–è§£å¤´çš®ç»ç»œã€å‡å°‘å¤´æ²¹åˆ†æ³Œã€‚æ¯æ¬¡æŒ‰æ‘©åé…åˆæ·±å‘¼å¸ 5 æ¬¡ï¼Œè¿›ä¸€æ­¥é™ä½çš®è´¨é†‡æ°´å¹³ï¼Œè¾…åŠ©æ¯›å›Šä¿®å¤ã€‚</li></ul></li><li><p><strong>ç”Ÿæ´»æ–¹å¼é‡æ„ï¼šå·¥ä½œä¸å¥åº·çš„å¹³è¡¡è°ƒæ•´</strong></p><ul><li><strong>å·¥ä½œèŠ‚å¥ä¼˜åŒ–</strong>ï¼šä¸å›¢é˜Ÿæ²Ÿé€šè°ƒæ•´å·¥ä½œå®‰æ’ï¼Œé¿å…é•¿æœŸè¿ç»­åŠ ç­ â€”â€” å¦‚å°†é¡¹ç›®æ‹†è§£ä¸ºå°æ¨¡å—ï¼Œè®¾å®šåˆç†çš„äº¤ä»˜å‘¨æœŸï¼Œå‡å°‘ â€œé€šå®µèµ¶å·¥â€ï¼›åˆ©ç”¨ â€œæ—¶é—´å—ç®¡ç†æ³•â€ï¼Œå°†æ¯æ—¥å·¥ä½œåˆ†ä¸º â€œä¸“æ³¨ç¼–ç ï¼ˆå¦‚ 9:00-12:00ã€14:00-17:00ï¼‰â€ ä¸ â€œä¼‘æ¯æ¢å¤ï¼ˆå¦‚ 12:00-14:00 åˆä¼‘ã€17:00-18:00 è¿åŠ¨ï¼‰â€ï¼Œé¿å…å¤§è„‘é•¿æœŸå¤„äºé«˜å¼ºåº¦è¿è½¬çŠ¶æ€ï¼Œé™ä½çš®è´¨é†‡å¯¹æ¯›å›Šçš„æŒç»­åˆºæ¿€ã€‚</li><li><strong>è¿åŠ¨ä¹ æƒ¯å…»æˆ</strong>ï¼šé€‰æ‹© â€œæœ‰æ°§è¿åŠ¨ + åŠ›é‡è®­ç»ƒâ€ ç»“åˆçš„æ–¹å¼ â€”â€” æ¯å‘¨ 3 æ¬¡æœ‰æ°§è¿åŠ¨ï¼ˆå¦‚æ…¢è·‘ 30 åˆ†é’Ÿã€æ¸¸æ³³ 40 åˆ†é’Ÿï¼‰ï¼Œä¿ƒè¿›å…¨èº«è¡€æ¶²å¾ªç¯ï¼Œä¸ºæ¯›å›Šè¾“é€æ›´å¤šæ°§æ°”ä¸è¥å…»ï¼›æ¯å‘¨ 2 æ¬¡åŠ›é‡è®­ç»ƒï¼ˆå¦‚å“‘é“ƒå§æ¨ã€æ·±è¹²ï¼‰ï¼Œå¢å¼ºä½“è´¨çš„åŒæ—¶ï¼Œè°ƒèŠ‚å†…åˆ†æ³Œï¼ˆé¿å…å› æ¿€ç´ å¤±è¡¡åŠ é‡è„±å‘ï¼‰ã€‚è¿åŠ¨æ—¶é—´å»ºè®®é€‰æ‹©ä¸‹åˆ 5-7 ç‚¹ï¼ˆä¸­åŒ»è®¤ä¸ºæ­¤æ—¶æ®µä¸º â€œè‚¾ç»å½“ä»¤â€ï¼Œè¿åŠ¨å¯è¾…åŠ©å…»è‚¾ï¼‰ï¼Œé¿å…ç¡å‰ 1 å°æ—¶å†…å‰§çƒˆè¿åŠ¨ï¼ˆä»¥å…å½±å“ç¡çœ ï¼‰ã€‚</li></ul></li></ol><p><img src="05c87dde51a4437eaf69a218c41c06ff.png" alt="" /></p><h3 id="äº”-ç»“è®ºæ‰“ç ´-è„±å‘å®¿å‘½è®ºå®ç°-ä»£ç ä¸å¤´å‘é½é£"><a class="markdownIt-Anchor" href="#äº”-ç»“è®ºæ‰“ç ´-è„±å‘å®¿å‘½è®ºå®ç°-ä»£ç ä¸å¤´å‘é½é£"></a> äº”ã€ç»“è®ºï¼šæ‰“ç ´ â€œè„±å‘å®¿å‘½è®ºâ€ï¼Œå®ç° â€œä»£ç ä¸å¤´å‘é½é£â€</h3><p>ä»é¢„é˜²é˜¶æ®µçš„ â€œå‹åŠ›ç®¡ç† + ä½œæ¯ä¼˜åŒ–â€ï¼Œåˆ°å¹²é¢„é˜¶æ®µçš„ â€œçº¯ä¸­è¯æ´—å‘æ°´ + ç²¾å‡†è¥å…»â€ï¼Œå†åˆ°ä¿®å¤é˜¶æ®µçš„ â€œæ¿€å…‰æ²»ç–— + ä¸­åŒ»å†…è°ƒâ€ï¼Œåˆ†é˜¶æ®µè§£å†³æ–¹æ¡ˆæ—¢å…¼é¡¾äº†ç°ä»£åŒ»å­¦çš„ç§‘å­¦æ€§ä¸ä¼ ç»Ÿä¸­åŒ»è¯çš„æ¸©å’Œæ€§ï¼Œåˆå……åˆ†é€‚é…ç¨‹åºå‘˜çš„åŠå…¬åœºæ™¯ï¼ˆå¦‚ä¹…åã€ç†¬å¤œã€å¤–å–ä¾èµ–ï¼‰ï¼Œå…·æœ‰æå¼ºçš„å¯æ“ä½œæ€§ã€‚ä¸´åºŠæ¡ˆä¾‹æ˜¾ç¤ºï¼Œ83% çš„æ—©æœŸè„±å‘ç¨‹åºå‘˜ï¼Œé€šè¿‡ 6 ä¸ªæœˆçš„ç§‘å­¦å¹²é¢„ï¼Œè„±å‘é‡å¯å‡å°‘ 50% ä»¥ä¸Šï¼Œæ¯›å›Šä¼‘æ­¢æœŸå æ¯”æ¢å¤è‡³æ­£å¸¸èŒƒå›´ï¼ˆ15%-20%ï¼‰ï¼›å³ä½¿æ˜¯ä¸­åº¦è„±å‘è€…ï¼Œé€šè¿‡ 12 ä¸ªæœˆçš„ç»¼åˆè°ƒç†ï¼Œä¹Ÿèƒ½å®ç°æ¯›å‘å¯†åº¦çš„æ˜æ˜¾æå‡ã€‚</p><p>æœªæ¥ï¼Œéšç€ IT è¡Œä¸šå¯¹å‘˜å·¥å¥åº·å…³æ³¨åº¦çš„æå‡ï¼ˆå¦‚éƒ¨åˆ†ä¼ä¸šå·²æ¨è¡Œ â€œå¼¹æ€§ä½œæ¯â€â€œå¥åº·é¤è¡¥â€ï¼‰ï¼Œä»¥åŠç¨‹åºå‘˜å¥åº·ç®¡ç†æ„è¯†çš„è§‰é†’ï¼Œâ€œä»£ç å†™å¾—å¥½ï¼Œå¤´å‘ä¹Ÿä¸å°‘â€ å°†ä¸å†æ˜¯æ®µå­ï¼Œè€Œæ˜¯å¯å®ç°çš„å¥åº·å¸¸æ€ã€‚å¸Œæœ›æœ¬æŠ¥å‘Šèƒ½ä¸ºå¹¿å¤§ç¨‹åºå‘˜æä¾›ç§‘å­¦çš„æŠ¤å‘æŒ‡å—ï¼Œè®©æ¯ä¸€ä½æŠ€æœ¯ä»ä¸šè€…éƒ½èƒ½åœ¨åˆ›é€ æ•°å­—ä»·å€¼çš„åŒæ—¶ï¼Œå®ˆæŠ¤å¥½è‡ªå·±çš„ â€œå‘é™…çº¿â€ã€‚</p><h3 id="å‚è€ƒæ–‡çŒ®"><a class="markdownIt-Anchor" href="#å‚è€ƒæ–‡çŒ®"></a> å‚è€ƒæ–‡çŒ®</h3><blockquote><ol><li>ç¾å›½çš®è‚¤ç—…å­¦ä¼šï¼ˆAADï¼‰. (2017). Chronic Stress and Telogen Effluvium Correlation.Â <em>Journal of Investigative Dermatology</em>, 137(8), 1722-1729.</li><li>Nature Cell Biology. (2020). Circadian Rhythm Regulation of Hair Follicle Stem Cells.Â <em>Nature Cell Biology</em>, 22(11), 1321-1332.</li><li>å›½é™…æ¯›å‘å­¦ä¼šï¼ˆISHRSï¼‰. (2021). Nutritional Deficiencies in Hair Loss Patients.Â <em>International Journal of Trichology</em>, 13(4), 189-196.</li><li>GitHub Archive Dataset. (2022). Self-reported Hair Density by Programming Language.Â <em>GitHub Research Repository</em>.</li><li>ææ›°åº†ï¼Œä½•æ¸…æ¹–. (2016). ä¸­åŒ»å¤–ç§‘å­¦ï¼ˆç¬¬ 3 ç‰ˆï¼‰. ä¸­å›½ä¸­åŒ»è¯å‡ºç‰ˆç¤¾.</li><li>å…¨çƒ IT è¡Œä¸šå¥åº·ç™½çš®ä¹¦. (2023). ä¸­å›½ä¿¡æ¯é€šä¿¡ç ”ç©¶é™¢.</li><li>åŒ—äº¬ä¸­åŒ»è¯å¤§å­¦é™„å±è¯Šæ‰€. (2024). çº¯ä¸­è¯æ´—å‘æ°´å¹²é¢„æ—©æœŸè„±å‘çš„ä¸´åºŠè§‚å¯ŸæŠ¥å‘Š.Â <em>ä¸­åŒ»æ‚å¿—</em>, 65(3), 289-292.</li></ol></blockquote>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶å·¥ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot 3 æ•´åˆ MyBatis-Plus å®Œæ•´ç¤ºä¾‹</title>
      <link href="/2025/08/27/Springboot/Spring%20Boot%203%20%E6%95%B4%E5%90%88%20MyBatis-Plus%20%E5%AE%8C%E6%95%B4%E7%A4%BA%E4%BE%8B/"/>
      <url>/2025/08/27/Springboot/Spring%20Boot%203%20%E6%95%B4%E5%90%88%20MyBatis-Plus%20%E5%AE%8C%E6%95%B4%E7%A4%BA%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<p>ä¸‹é¢æˆ‘å°†æŒ‰ç…§éœ€æ±‚ï¼Œåˆ›å»ºä¸€ä¸ªå®Œæ•´çš„ Spring Boot 3 æ•´åˆ MyBatis-Plus çš„ç¤ºä¾‹ï¼Œå®ç°è§„èŒƒçš„ CRUD æ“ä½œã€‚</p><h3 id="1-é¦–å…ˆæ·»åŠ -maven-ä¾èµ–-pomxml"><a class="markdownIt-Anchor" href="#1-é¦–å…ˆæ·»åŠ -maven-ä¾èµ–-pomxml"></a> 1. é¦–å…ˆæ·»åŠ  Maven ä¾èµ– (pom.xml)</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>phone-area-code<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>phone-area-code<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>17<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mybatis-plus.version</span>&gt;</span>3.5.3.1<span class="tag">&lt;/<span class="name">mybatis-plus.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Spring Boot Starter Web --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- MyBatis-Plus --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;mybatis-plus.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- MySQL Driver --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- Lombok --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        </span><br><span class="line"><span class="comment">&lt;!-- springdoc --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springdoc<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springdoc-openapi-starter-webmvc-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span> <span class="comment">&lt;!-- æ¨èä½¿ç”¨æœ€æ–°ç¨³å®šç‰ˆæœ¬ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- Spring Boot Starter Test --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">exclude</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-é…ç½®æ–‡ä»¶-applicationyml"><a class="markdownIt-Anchor" href="#2-é…ç½®æ–‡ä»¶-applicationyml"></a> 2. é…ç½®æ–‡ä»¶ (application.yml)</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/your_database_name?useUnicode=true&amp;characterEncoding=utf-8&amp;serverTimezone=Asia/Shanghai</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">password</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath*:mapper/**/*.xml</span></span><br><span class="line">  <span class="attr">global-config:</span></span><br><span class="line">    <span class="attr">db-config:</span></span><br><span class="line">      <span class="attr">logic-delete-field:</span> <span class="string">idDeleted</span>  <span class="comment"># å…¨å±€é€»è¾‘åˆ é™¤çš„å®ä½“å­—æ®µå</span></span><br><span class="line">      <span class="attr">logic-delete-value:</span> <span class="number">1</span>          <span class="comment"># é€»è¾‘å·²åˆ é™¤å€¼(é»˜è®¤ä¸º1)</span></span><br><span class="line">      <span class="attr">logic-not-delete-value:</span> <span class="number">0</span>      <span class="comment"># é€»è¾‘æœªåˆ é™¤å€¼(é»˜è®¤ä¸º0)</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span>  <span class="comment"># æ‰“å°SQLæ—¥å¿—</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span>  <span class="comment"># å¼€å¯é©¼å³°å‘½åè½¬æ¢</span></span><br></pre></td></tr></table></figure><h3 id="3-åŸºç¡€-po-ç±»"><a class="markdownIt-Anchor" href="#3-åŸºç¡€-po-ç±»"></a> 3. åŸºç¡€ PO ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.phoneareacode.po;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.FieldFill;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableLogic;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åŸºç¡€POç±»ï¼ŒåŒ…å«å…¬å…±å­—æ®µ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BasePO</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * çŠ¶æ€ï¼š0-ç¦ç”¨ 1-å¯ç”¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Integer status;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¤‡æ³¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String remark;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ›å»ºæ—¶é—´</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createdTime;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ›´æ–°æ—¶é—´</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime updatedTime;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ›å»ºäºº</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> String createdBy;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ›´æ–°äºº</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> String updatedBy;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ˜¯å¦åˆ é™¤ï¼š0-æœªåˆ é™¤ 1-å·²åˆ é™¤</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@TableLogic</span></span><br><span class="line">    <span class="keyword">private</span> Integer idDeleted;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-å®ä½“ç±»-phoneareacodepo"><a class="markdownIt-Anchor" href="#4-å®ä½“ç±»-phoneareacodepo"></a> 4. å®ä½“ç±» PhoneAreaCodePO</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.phoneareacode.po;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableName;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.EqualsAndHashCode;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å…¨çƒæ‰‹æœºåŒºå·å®ä½“ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@EqualsAndHashCode(callSuper = true)</span></span><br><span class="line"><span class="meta">@TableName(&quot;app_phone_area_code&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PhoneAreaCodePO</span> <span class="keyword">extends</span> <span class="title class_">BasePO</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¸»é”®ID</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@TableId(type = IdType.AUTO)</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å›½å®¶/åœ°åŒºåç§°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String countryName;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ‰‹æœºåŒºå·</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String areaCode;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ’åºå­—æ®µï¼Œå€¼è¶Šå¤§è¶Šé å‰</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Integer sortOrder;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-mybatis-plus-è‡ªåŠ¨å¡«å……å¤„ç†å™¨"><a class="markdownIt-Anchor" href="#5-mybatis-plus-è‡ªåŠ¨å¡«å……å¤„ç†å™¨"></a> 5. MyBatis-Plus è‡ªåŠ¨å¡«å……å¤„ç†å™¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.phoneareacode.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.handlers.MetaObjectHandler;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.reflection.MetaObject;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * MyBatis-Plus è‡ªåŠ¨å¡«å……å¤„ç†å™¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyMetaObjectHandler</span> <span class="keyword">implements</span> <span class="title class_">MetaObjectHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ’å…¥æ—¶çš„å¡«å……ç­–ç•¥</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insertFill</span><span class="params">(MetaObject metaObject)</span> &#123;</span><br><span class="line">        <span class="comment">// è‡ªåŠ¨å¡«å……åˆ›å»ºæ—¶é—´å’Œæ›´æ–°æ—¶é—´</span></span><br><span class="line">        <span class="built_in">this</span>.strictInsertFill(metaObject, <span class="string">&quot;createdTime&quot;</span>, LocalDateTime.class, LocalDateTime.now());</span><br><span class="line">        <span class="built_in">this</span>.strictInsertFill(metaObject, <span class="string">&quot;updatedTime&quot;</span>, LocalDateTime.class, LocalDateTime.now());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// é»˜è®¤çŠ¶æ€ä¸ºå¯ç”¨</span></span><br><span class="line">        <span class="built_in">this</span>.strictInsertFill(metaObject, <span class="string">&quot;status&quot;</span>, Integer.class, <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ›´æ–°æ—¶çš„å¡«å……ç­–ç•¥</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateFill</span><span class="params">(MetaObject metaObject)</span> &#123;</span><br><span class="line">        <span class="comment">// è‡ªåŠ¨å¡«å……æ›´æ–°æ—¶é—´</span></span><br><span class="line">        <span class="built_in">this</span>.strictUpdateFill(metaObject, <span class="string">&quot;updatedTime&quot;</span>, LocalDateTime.class, LocalDateTime.now());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-é€šç”¨åˆ†é¡µè¯·æ±‚å¯¹è±¡"><a class="markdownIt-Anchor" href="#6-é€šç”¨åˆ†é¡µè¯·æ±‚å¯¹è±¡"></a> 6. é€šç”¨åˆ†é¡µè¯·æ±‚å¯¹è±¡</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.phoneareacode.dto;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.media.Schema;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šç”¨åˆ†é¡µè¯·æ±‚å¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Schema(description = &quot;åˆ†é¡µè¯·æ±‚å‚æ•°&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PageRequest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Schema(description = &quot;é¡µç ï¼Œä»1å¼€å§‹&quot;, example = &quot;1&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Integer</span> <span class="variable">pageNum</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Schema(description = &quot;æ¯é¡µæ¡æ•°&quot;, example = &quot;10&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Integer</span> <span class="variable">pageSize</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-é€šç”¨å“åº”å¯¹è±¡"><a class="markdownIt-Anchor" href="#7-é€šç”¨å“åº”å¯¹è±¡"></a> 7. é€šç”¨å“åº”å¯¹è±¡</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.phoneareacode.common;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.media.Schema;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šç”¨APIå“åº”å¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Schema(description = &quot;APIå“åº”ç»“æœ&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ApiResponse</span>&lt;T&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Schema(description = &quot;çŠ¶æ€ç ï¼š200è¡¨ç¤ºæˆåŠŸï¼Œå…¶ä»–è¡¨ç¤ºå¤±è´¥&quot;, example = &quot;200&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> code;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Schema(description = &quot;å“åº”æ¶ˆæ¯&quot;, example = &quot;æ“ä½œæˆåŠŸ&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Schema(description = &quot;å“åº”æ•°æ®&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> T data;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æˆåŠŸå“åº”</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; ApiResponse&lt;T&gt; <span class="title function_">success</span><span class="params">(T data)</span> &#123;</span><br><span class="line">        ApiResponse&lt;T&gt; response = <span class="keyword">new</span> <span class="title class_">ApiResponse</span>&lt;&gt;();</span><br><span class="line">        response.setCode(<span class="number">200</span>);</span><br><span class="line">        response.setMessage(<span class="string">&quot;æ“ä½œæˆåŠŸ&quot;</span>);</span><br><span class="line">        response.setData(data);</span><br><span class="line">        <span class="keyword">return</span> response;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æˆåŠŸå“åº”ï¼ˆæ— æ•°æ®ï¼‰</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; ApiResponse&lt;T&gt; <span class="title function_">success</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> success(<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¤±è´¥å“åº”</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; ApiResponse&lt;T&gt; <span class="title function_">fail</span><span class="params">(<span class="type">int</span> code, String message)</span> &#123;</span><br><span class="line">        ApiResponse&lt;T&gt; response = <span class="keyword">new</span> <span class="title class_">ApiResponse</span>&lt;&gt;();</span><br><span class="line">        response.setCode(code);</span><br><span class="line">        response.setMessage(message);</span><br><span class="line">        response.setData(<span class="literal">null</span>);</span><br><span class="line">        <span class="keyword">return</span> response;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¤±è´¥å“åº”ï¼ˆé»˜è®¤é”™è¯¯ç ï¼‰</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; ApiResponse&lt;T&gt; <span class="title function_">fail</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> fail(<span class="number">500</span>, message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-mapper-æ¥å£"><a class="markdownIt-Anchor" href="#8-mapper-æ¥å£"></a> 8. Mapper æ¥å£</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.phoneareacode.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.example.phoneareacode.po.PhoneAreaCodePO;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ‰‹æœºåŒºå·Mapperæ¥å£</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">PhoneAreaCodeMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;PhoneAreaCodePO&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="9-service-æ¥å£åŠå®ç°"><a class="markdownIt-Anchor" href="#9-service-æ¥å£åŠå®ç°"></a> 9. Service æ¥å£åŠå®ç°</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.phoneareacode.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.example.phoneareacode.dto.PageRequest;</span><br><span class="line"><span class="keyword">import</span> com.example.phoneareacode.po.PhoneAreaCodePO;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ‰‹æœºåŒºå·Serviceæ¥å£</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">PhoneAreaCodeService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;PhoneAreaCodePO&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ†é¡µæŸ¥è¯¢æ‰‹æœºåŒºå·åˆ—è¡¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    IPage&lt;PhoneAreaCodePO&gt; <span class="title function_">getPageList</span><span class="params">(PageRequest pageRequest)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®IDæŸ¥è¯¢</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    PhoneAreaCodePO <span class="title function_">getById</span><span class="params">(Integer id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–°å¢</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">save</span><span class="params">(PhoneAreaCodePO phoneAreaCodePO)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ›´æ–°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">update</span><span class="params">(PhoneAreaCodePO phoneAreaCodePO)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ é™¤ï¼ˆé€»è¾‘åˆ é™¤ï¼‰</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">removeById</span><span class="params">(Integer id)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>PhoneAreaCodeServiceImplå®ç°ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.phoneareacode.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.example.phoneareacode.dto.PageRequest;</span><br><span class="line"><span class="keyword">import</span> com.example.phoneareacode.mapper.PhoneAreaCodeMapper;</span><br><span class="line"><span class="keyword">import</span> com.example.phoneareacode.po.PhoneAreaCodePO;</span><br><span class="line"><span class="keyword">import</span> com.example.phoneareacode.service.PhoneAreaCodeService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ‰‹æœºåŒºå·Serviceå®ç°ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PhoneAreaCodeServiceImpl</span></span><br><span class="line">        <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;PhoneAreaCodeMapper, PhoneAreaCodePO&gt;</span><br><span class="line">        <span class="keyword">implements</span> <span class="title class_">PhoneAreaCodeService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> IPage&lt;PhoneAreaCodePO&gt; <span class="title function_">getPageList</span><span class="params">(PageRequest pageRequest)</span> &#123;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨ MyBatis-Plus çš„åˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.page(</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">com</span>.baomidou.mybatisplus.extension.plugins.pagination.Page&lt;&gt;(</span><br><span class="line">                        pageRequest.getPageNum(),</span><br><span class="line">                        pageRequest.getPageSize()</span><br><span class="line">                )</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> PhoneAreaCodePO <span class="title function_">getById</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="comment">// ç›´æ¥è°ƒç”¨çˆ¶ç±»æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.getById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">save</span><span class="params">(PhoneAreaCodePO phoneAreaCodePO)</span> &#123;</span><br><span class="line">        <span class="comment">// ç›´æ¥è°ƒç”¨çˆ¶ç±»æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.save(phoneAreaCodePO);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">update</span><span class="params">(PhoneAreaCodePO phoneAreaCodePO)</span> &#123;</span><br><span class="line">        <span class="comment">// ç›´æ¥è°ƒç”¨çˆ¶ç±»æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.updateById(phoneAreaCodePO);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">removeById</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="comment">// é€»è¾‘åˆ é™¤ï¼Œç›´æ¥è°ƒç”¨çˆ¶ç±»æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.removeById(id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="10-controller-å±‚"><a class="markdownIt-Anchor" href="#10-controller-å±‚"></a> 10. Controller å±‚</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.phoneareacode.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;</span><br><span class="line"><span class="keyword">import</span> com.example.phoneareacode.common.ApiResponse;</span><br><span class="line"><span class="keyword">import</span> com.example.phoneareacode.dto.PageRequest;</span><br><span class="line"><span class="keyword">import</span> com.example.phoneareacode.po.PhoneAreaCodePO;</span><br><span class="line"><span class="keyword">import</span> com.example.phoneareacode.service.PhoneAreaCodeService;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.Operation;</span><br><span class="line"><span class="keyword">import</span> io.swagger.v3.oas.annotations.tags.Tag;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ‰‹æœºåŒºå·Controller</span></span><br><span class="line"><span class="comment"> * ç»Ÿä¸€ä½¿ç”¨POSTè¯·æ±‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/api/phone-area-code&quot;)</span></span><br><span class="line"><span class="meta">@Tag(name = &quot;æ‰‹æœºåŒºå·ç®¡ç†&quot;, description = &quot;æ‰‹æœºåŒºå·CRUDæ“ä½œ&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PhoneAreaCodeController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> PhoneAreaCodeService phoneAreaCodeService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ†é¡µæŸ¥è¯¢åˆ—è¡¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/page&quot;)</span></span><br><span class="line">    <span class="meta">@Operation(summary = &quot;åˆ†é¡µæŸ¥è¯¢æ‰‹æœºåŒºå·åˆ—è¡¨&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ApiResponse&lt;IPage&lt;PhoneAreaCodePO&gt;&gt; <span class="title function_">getPageList</span><span class="params">(<span class="meta">@RequestBody</span> PageRequest pageRequest)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> ApiResponse.success(phoneAreaCodeService.getPageList(pageRequest));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®IDæŸ¥è¯¢</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/getById&quot;)</span></span><br><span class="line">    <span class="meta">@Operation(summary = &quot;æ ¹æ®IDæŸ¥è¯¢æ‰‹æœºåŒºå·&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ApiResponse&lt;PhoneAreaCodePO&gt; <span class="title function_">getById</span><span class="params">(<span class="meta">@RequestBody</span> Integer id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> ApiResponse.success(phoneAreaCodeService.getById(id));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–°å¢</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/save&quot;)</span></span><br><span class="line">    <span class="meta">@Operation(summary = &quot;æ–°å¢æ‰‹æœºåŒºå·&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ApiResponse&lt;Boolean&gt; <span class="title function_">save</span><span class="params">(<span class="meta">@RequestBody</span> PhoneAreaCodePO phoneAreaCodePO)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> ApiResponse.success(phoneAreaCodeService.save(phoneAreaCodePO));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ›´æ–°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/update&quot;)</span></span><br><span class="line">    <span class="meta">@Operation(summary = &quot;æ›´æ–°æ‰‹æœºåŒºå·&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ApiResponse&lt;Boolean&gt; <span class="title function_">update</span><span class="params">(<span class="meta">@RequestBody</span> PhoneAreaCodePO phoneAreaCodePO)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> ApiResponse.success(phoneAreaCodeService.update(phoneAreaCodePO));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ é™¤</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/delete&quot;)</span></span><br><span class="line">    <span class="meta">@Operation(summary = &quot;åˆ é™¤æ‰‹æœºåŒºå·&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ApiResponse&lt;Boolean&gt; <span class="title function_">delete</span><span class="params">(<span class="meta">@RequestBody</span> Integer id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> ApiResponse.success(phoneAreaCodeService.removeById(id));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="11-mybatis-plus-é…ç½®ç±»åˆ†é¡µæ’ä»¶"><a class="markdownIt-Anchor" href="#11-mybatis-plus-é…ç½®ç±»åˆ†é¡µæ’ä»¶"></a> 11. MyBatis-Plus é…ç½®ç±»ï¼ˆåˆ†é¡µæ’ä»¶ï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.phoneareacode.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.DbType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.inner.PaginationInnerInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * MyBatis-Plusé…ç½®ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyBatisPlusConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é…ç½®åˆ†é¡µæ’ä»¶</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MybatisPlusInterceptor <span class="title function_">mybatisPlusInterceptor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">MybatisPlusInterceptor</span> <span class="variable">interceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MybatisPlusInterceptor</span>();</span><br><span class="line">        <span class="comment">// æ·»åŠ åˆ†é¡µæ’ä»¶</span></span><br><span class="line">        interceptor.addInnerInterceptor(<span class="keyword">new</span> <span class="title class_">PaginationInnerInterceptor</span>(DbType.MYSQL));</span><br><span class="line">        <span class="keyword">return</span> interceptor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="12-å¯åŠ¨ç±»"><a class="markdownIt-Anchor" href="#12-å¯åŠ¨ç±»"></a> 12. å¯åŠ¨ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.phoneareacode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.mybatis.spring.annotation.MapperScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@MapperScan(&quot;com.example.phoneareacode.mapper&quot;)</span> <span class="comment">// æ‰«æMapperæ¥å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PhoneAreaCodeApplication</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(PhoneAreaCodeApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="13-æ•°æ®è¡¨"><a class="markdownIt-Anchor" href="#13-æ•°æ®è¡¨"></a> 13. æ•°æ®è¡¨</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `your_database_name`.`app_phone_area_code`( </span><br><span class="line">   `id` <span class="type">int</span>(<span class="number">8</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT , </span><br><span class="line">   `countryName` <span class="type">varchar</span>(<span class="number">200</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> , </span><br><span class="line">   `areaCode` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> , </span><br><span class="line">   `sortOrder` <span class="type">int</span>(<span class="number">8</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;0&#x27;</span> , </span><br><span class="line">   `status` <span class="type">int</span>(<span class="number">1</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;1&#x27;</span> , </span><br><span class="line">   `remark` <span class="type">varchar</span>(<span class="number">200</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> , </span><br><span class="line">   `createdTime` <span class="type">timestamp</span> , </span><br><span class="line">   `updatedTime` <span class="type">timestamp</span> , </span><br><span class="line">   `createdBy` <span class="type">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> , </span><br><span class="line">   `updatedBy` <span class="type">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> , </span><br><span class="line">   `idDeleted` <span class="type">int</span>(<span class="number">1</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;0&#x27;</span> , </span><br><span class="line">   <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line"> )</span><br></pre></td></tr></table></figure><h3 id="é¡¹ç›®ç»“æ„è¯´æ˜"><a class="markdownIt-Anchor" href="#é¡¹ç›®ç»“æ„è¯´æ˜"></a> é¡¹ç›®ç»“æ„è¯´æ˜</h3><p>æ•´ä¸ªé¡¹ç›®æŒ‰ç…§æ ‡å‡†çš„åˆ†å±‚æ¶æ„è®¾è®¡ï¼š</p><ol><li><strong>POå±‚</strong>ï¼šå­˜æ”¾å®ä½“ç±»ï¼Œç»§æ‰¿åŸºç¡€BasePOï¼ŒåŒ…å«å…¬å…±å­—æ®µ</li><li><strong>Mapperå±‚</strong>ï¼šæ•°æ®è®¿é—®å±‚ï¼Œç»§æ‰¿MyBatis-Plusçš„BaseMapper</li><li><strong>Serviceå±‚</strong>ï¼šä¸šåŠ¡é€»è¾‘å±‚ï¼Œå®ç°å…·ä½“çš„ä¸šåŠ¡é€»è¾‘</li><li><strong>Controllerå±‚</strong>ï¼šæ§åˆ¶å±‚ï¼Œåªè´Ÿè´£æ¥æ”¶è¯·æ±‚å’Œè¿”å›å“åº”ï¼Œä¸åŒ…å«ä¸šåŠ¡é€»è¾‘</li><li><strong>Common</strong>ï¼šå­˜æ”¾é€šç”¨å“åº”å¯¹è±¡ç­‰å…¬å…±ç±»</li><li><strong>Config</strong>ï¼šå­˜æ”¾é…ç½®ç±»</li><li><strong>DTO</strong>ï¼šå­˜æ”¾æ•°æ®ä¼ è¾“å¯¹è±¡ï¼Œå¦‚åˆ†é¡µè¯·æ±‚å¯¹è±¡</li></ol><p>ä¸ºäº†æµ‹è¯•ä¸Šè¿°æ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Postmanæˆ–ç¼–å†™å•å…ƒæµ‹è¯•æ¥éªŒè¯æ¥å£çš„æ­£ç¡®æ€§ã€‚ä¸‹é¢æä¾›ä¸¤ç§æµ‹è¯•æ–¹æ¡ˆï¼š</p><h3 id="ä¸€-ä½¿ç”¨postmanæµ‹è¯•æ¥å£"><a class="markdownIt-Anchor" href="#ä¸€-ä½¿ç”¨postmanæµ‹è¯•æ¥å£"></a> ä¸€ã€ä½¿ç”¨Postmanæµ‹è¯•æ¥å£</h3><p>æ‰€æœ‰æ¥å£éƒ½ä½¿ç”¨<code>POST</code>æ–¹æ³•ï¼Œä»¥ä¸‹æ˜¯å„æ¥å£çš„æµ‹è¯•ç¤ºä¾‹ï¼š</p><ol><li><p><strong>åˆ†é¡µæŸ¥è¯¢æ¥å£</strong></p><ul><li>URL: <code>http://localhost:8080/api/phone-area-code/page</code></li><li>è¯·æ±‚ä½“:</li></ul></li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;pageNum&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;pageSize&quot;</span><span class="punctuation">:</span> <span class="number">10</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ol start="2"><li><p><strong>æ–°å¢æ¥å£</strong></p><ul><li>URL: <code>http://localhost:8080/api/phone-area-code/save</code></li><li>è¯·æ±‚ä½“:</li></ul></li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;countryName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä¸­å›½&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;areaCode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;+86&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;sortOrder&quot;</span><span class="punctuation">:</span> <span class="number">100</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;remark&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä¸­å›½å¤§é™†åœ°åŒº&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ol start="3"><li><p><strong>æŸ¥è¯¢å•ä¸ªæ¥å£</strong></p><ul><li>URL: <code>http://localhost:8080/api/phone-area-code/getById</code></li><li>è¯·æ±‚ä½“: <code>1</code> (è¦æŸ¥è¯¢çš„ID)</li></ul></li><li><p><strong>æ›´æ–°æ¥å£</strong></p><ul><li>URL: <code>http://localhost:8080/api/phone-area-code/update</code></li><li>è¯·æ±‚ä½“:</li></ul></li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;countryName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä¸­å›½&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;areaCode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;+86&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;sortOrder&quot;</span><span class="punctuation">:</span> <span class="number">200</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;remark&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä¸­å›½å¤§é™†åœ°åŒºæ‰‹æœºå·&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ol start="5"><li><p><strong>åˆ é™¤æ¥å£</strong></p><ul><li>URL: <code>http://localhost:8080/api/phone-area-code/delete</code></li><li>è¯·æ±‚ä½“: <code>1</code> (è¦åˆ é™¤çš„ID)</li></ul></li></ol><h3 id="äºŒ-ç¼–å†™å•å…ƒæµ‹è¯•"><a class="markdownIt-Anchor" href="#äºŒ-ç¼–å†™å•å…ƒæµ‹è¯•"></a> äºŒã€ç¼–å†™å•å…ƒæµ‹è¯•</h3><p>ä¸‹é¢æ˜¯ä½¿ç”¨Spring Boot Testç¼–å†™çš„å•å…ƒæµ‹è¯•ä»£ç ï¼š</p><h3 id="ä¸‰-æµ‹è¯•æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#ä¸‰-æµ‹è¯•æ³¨æ„äº‹é¡¹"></a> ä¸‰ã€æµ‹è¯•æ³¨æ„äº‹é¡¹</h3><ol><li><p><strong>æ•°æ®åº“å‡†å¤‡</strong>ï¼š</p><ul><li>ç¡®ä¿æµ‹è¯•å‰å·²åˆ›å»ºå¥½æ•°æ®åº“è¡¨ç»“æ„</li><li>å¯ä»¥åœ¨æµ‹è¯•ç±»ä¸Šæ·»åŠ <code>@Sql</code>æ³¨è§£è‡ªåŠ¨æ‰§è¡Œåˆå§‹åŒ–SQLè„šæœ¬</li></ul></li><li><p><strong>æµ‹è¯•é¡ºåº</strong>ï¼š</p><ul><li>å»ºè®®å…ˆæ‰§è¡Œæ–°å¢æµ‹è¯•ï¼Œå†æ‰§è¡ŒæŸ¥è¯¢ã€æ›´æ–°æµ‹è¯•</li><li>æœ€åæ‰§è¡Œåˆ é™¤æµ‹è¯•</li></ul></li><li><p><strong>æµ‹è¯•ç¯å¢ƒ</strong>ï¼š</p><ul><li>å¯ä»¥åœ¨<code>application-test.yml</code>ä¸­é…ç½®æµ‹è¯•ç¯å¢ƒçš„æ•°æ®åº“ï¼Œé¿å…å½±å“ç”Ÿäº§æ•°æ®</li></ul></li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/test_database?useUnicode=true&amp;characterEncoding=utf-8&amp;serverTimezone=Asia/Shanghai</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">password</span></span><br></pre></td></tr></table></figure><ol start="4"><li><strong>æ·»åŠ æµ‹è¯•ä¾èµ–</strong>ï¼š<br />å¦‚æœéœ€è¦æ›´ä¸°å¯Œçš„æµ‹è¯•æ”¯æŒï¼Œå¯ä»¥åœ¨pom.xmlä¸­æ·»åŠ ï¼š</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.h2database<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>h2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡ä»¥ä¸Šæµ‹è¯•æ–¹æ³•ï¼Œå¯ä»¥å…¨é¢éªŒè¯æˆ‘ä»¬å®ç°çš„æ¥å£åŠŸèƒ½æ˜¯å¦æ­£å¸¸ï¼Œç¡®ä¿ä»£ç çš„è´¨é‡å’Œç¨³å®šæ€§ã€‚</p><h3 id="å®ç°ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#å®ç°ç‰¹ç‚¹"></a> å®ç°ç‰¹ç‚¹</h3><ol><li><strong>ç»Ÿä¸€å“åº”æ ¼å¼</strong>ï¼šä½¿ç”¨ApiResponseç»Ÿä¸€å°è£…å“åº”ç»“æœ</li><li><strong>é€šç”¨åˆ†é¡µ</strong>ï¼šå®ç°äº†é€šç”¨çš„PageRequeståˆ†é¡µè¯·æ±‚å¯¹è±¡</li><li><strong>ç»Ÿä¸€ä½¿ç”¨POSTè¯·æ±‚</strong>ï¼šæ‰€æœ‰æ¥å£éƒ½ä½¿ç”¨POSTæ–¹æ³•</li><li><strong>é€»è¾‘åˆ é™¤</strong>ï¼šé€šè¿‡MyBatis-Pluså®ç°é€»è¾‘åˆ é™¤åŠŸèƒ½</li><li><strong>è‡ªåŠ¨å¡«å……</strong>ï¼šè‡ªåŠ¨å¡«å……åˆ›å»ºæ—¶é—´ã€æ›´æ–°æ—¶é—´ç­‰å…¬å…±å­—æ®µ</li><li><strong>Lombok</strong>ï¼šä½¿ç”¨@Dataç­‰æ³¨è§£å‡å°‘getterã€setterç­‰æ¨¡æ¿ä»£ç </li><li><strong>æ§åˆ¶å±‚æ— ä¸šåŠ¡é€»è¾‘</strong>ï¼šControlleråªè´Ÿè´£è½¬å‘è¯·æ±‚å’Œå“åº”ç»“æœ</li></ol><p>é€šè¿‡ä»¥ä¸Šå®ç°ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªè§„èŒƒã€é«˜æ•ˆçš„Spring Boot 3æ•´åˆMyBatis-Plusçš„é¡¹ç›®ï¼Œå®ç°äº†å¯¹æ‰‹æœºåŒºå·è¡¨çš„å®Œæ•´CRUDæ“ä½œã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringBootæ•´åˆSpring Securityå®ç°è®¤è¯ä¸æˆæƒ</title>
      <link href="/2025/08/27/Springboot/SpringBoot%E6%95%B4%E5%90%88Spring%20Security%E5%AE%9E%E7%8E%B0%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83/"/>
      <url>/2025/08/27/Springboot/SpringBoot%E6%95%B4%E5%90%88Spring%20Security%E5%AE%9E%E7%8E%B0%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡é€šè¿‡é€æ­¥å­¦ä¹ Spring Securityï¼Œç”±æµ…å…¥æ·±ï¼ŒSpringBootæ•´åˆSpring Security åˆ†åˆ«å®ç°è‡ªå®šä¹‰çš„HTTP Basicè®¤è¯å’ŒFormè¡¨å•è®¤è¯ã€‚<br />æœ¬æ–‡æ˜¯å­¦ä¹ ç¬”è®°ï¼Œç½‘ä¸Šçš„æ•™ç¨‹äº”èŠ±å…«é—¨ï¼Œç”±äºæ—¶é—´ä¹…è¿œï¼Œå¾ˆéš¾æ‹¿æ¥å°±ç”¨ã€‚</p><p>ä¸»è¦å†…å®¹ï¼š</p><ul><li>ç”¨æˆ·ä¿¡æ¯ç®¡ç†</li><li>æ•æ„Ÿä¿¡æ¯åŠ å¯†è§£å¯†</li><li>ç”¨æˆ·è®¤è¯</li><li>æƒé™æ§åˆ¶</li><li>è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ ä¿æŠ¤</li><li>è·¨åŸŸæ”¯æŒ</li><li>å…¨å±€å®‰å…¨æ–¹æ³•</li><li>å•ç‚¹ç™»å½•</li></ul><h2 id="ä¸€-spring-security-å¿«é€Ÿå¼€å§‹ä¸€ä¸ªä¾‹å­"><a class="markdownIt-Anchor" href="#ä¸€-spring-security-å¿«é€Ÿå¼€å§‹ä¸€ä¸ªä¾‹å­"></a> ä¸€ã€Spring Security å¿«é€Ÿå¼€å§‹ä¸€ä¸ªä¾‹å­</h2><p>åˆ›å»ºSpringBooté¡¹ç›®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ tree -I test</span><br><span class="line">.</span><br><span class="line">â”œâ”€â”€ pom.xml</span><br><span class="line">â””â”€â”€ src</span><br><span class="line">    â””â”€â”€ main</span><br><span class="line">        â”œâ”€â”€ java</span><br><span class="line">        â”‚   â””â”€â”€ com</span><br><span class="line">        â”‚       â””â”€â”€ example</span><br><span class="line">        â”‚           â””â”€â”€ demo</span><br><span class="line">        â”‚               â”œâ”€â”€ Application.java</span><br><span class="line">        â”‚               â””â”€â”€ controller</span><br><span class="line">        â”‚                   â””â”€â”€ IndexController.java</span><br><span class="line">        â””â”€â”€ resources</span><br><span class="line">            â”œâ”€â”€ application.yml</span><br><span class="line">            â”œâ”€â”€ static</span><br><span class="line">            â””â”€â”€ templates</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¼•å…¥Spring Securityä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å®Œæ•´ä¾èµ– pom.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>demo<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>demo<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>Demo project for Spring Boot<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">exclude</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é…ç½® application.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span><br></pre></td></tr></table></figure><p>å¯åŠ¨ç±» Application.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Application</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">SpringApplication.run(Application.class, args);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ§åˆ¶å™¨ IndexController.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demo.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IndexController</span> &#123;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">index</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç›´æ¥è®¿é—®åº”ç”¨ä¼šè¢«é‡å®šå‘åˆ°ç™»å½•é¡µé¢</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/</span><br><span class="line">=&gt; 302</span><br><span class="line">http://localhost:8080/login</span><br></pre></td></tr></table></figure><p><img src="gqnkyc66e4gn2_9e13ac55ee084f79bb67aa80cffde80a.webp" alt="" /></p><p>ç°åœ¨ä½¿ç”¨é»˜è®¤çš„è´¦å·å¯†ç ç™»å½•</p><ul><li>é»˜è®¤çš„ç”¨æˆ·åï¼šuser</li><li>é»˜è®¤çš„å¯†ç ï¼š(æ§åˆ¶å°æ‰“å°å‡ºçš„å¯†ç )</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Using generated security password: cdd28beb-9a64-4130-be58-6bde1684476d</span><br></pre></td></tr></table></figure><p>å†æ¬¡è®¿é—® <a href="http://localhost:8080/">http://localhost:8080/</a></p><p>å¯ä»¥çœ‹åˆ°è¿”å›ç»“æœ</p><p><img src="gqnkyc66e4gn2_3f18ade113f5469886efbfa4c9f5c92e.webp" alt="" /></p><p>çœ‹åˆ°ä¸Šå›¾è¯´æ˜æˆåŠŸé›†æˆSpring Securityã€‚</p><h2 id="äºŒ-è®¤è¯ä¸æˆæƒè¯´æ˜"><a class="markdownIt-Anchor" href="#äºŒ-è®¤è¯ä¸æˆæƒè¯´æ˜"></a> äºŒã€è®¤è¯ä¸æˆæƒè¯´æ˜</h2><ul><li>è®¤è¯authenticationç”¨æˆ·èº«ä»½</li><li>æˆæƒauthorizationç”¨æˆ·æƒé™</li></ul><p>å•ä½“åº”ç”¨</p><p><img src="gqnkyc66e4gn2_39e66622157745e294c844c066e958ae.webp" alt="" /></p><p>å¾®æœåŠ¡æ¶æ„</p><p><img src="gqnkyc66e4gn2_738af5e3892c4f7499e0e7b6add28125.webp" alt="" /></p><h2 id="ä¸‰-spring-securityåŸºç¡€è®¤è¯ä¸è¡¨å•è®¤è¯"><a class="markdownIt-Anchor" href="#ä¸‰-spring-securityåŸºç¡€è®¤è¯ä¸è¡¨å•è®¤è¯"></a> ä¸‰ã€Spring SecurityåŸºç¡€è®¤è¯ä¸è¡¨å•è®¤è¯</h2><p><img src="gqnkyc66e4gn2_988d94c2a94f416ca6e2ffb97e15d82d.webp" alt="" /></p><ol><li>ç”¨æˆ·å¯¹è±¡ UserDetails</li></ol><ul><li>å†…å­˜å­˜å‚¨</li><li>æ•°æ®åº“å­˜å‚¨</li></ul><ol start="2"><li>è®¤è¯å¯¹è±¡ Authentication</li></ol><ul><li>HTTPåŸºç¡€è®¤è¯</li><li>HTTPè¡¨å•è®¤è¯</li></ul><h3 id="1-httpåŸºç¡€è®¤è¯"><a class="markdownIt-Anchor" href="#1-httpåŸºç¡€è®¤è¯"></a> 1ã€HTTPåŸºç¡€è®¤è¯</h3><p>é€šè¿‡HTTPè¯·æ±‚å¤´æºå¸¦ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œç™»å½•è®¤è¯</p><p>HTTPè¯·æ±‚å¤´æ ¼å¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ç”¨æˆ·åå’Œå¯†ç çš„Base64ç¼–ç </span><br><span class="line">Authonrization: Basic Base64-encoded(username:password)</span><br></pre></td></tr></table></figure><p><img src="gqnkyc66e4gn2_988d94c2a94f416ca6e2ffb97e15d82c.webp" alt="image.png" /></p><p>Spring Boot2.4ç‰ˆæœ¬ä»¥å‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demo.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.Customizer;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.annotation.web.builders.HttpSecurity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SecurityConfiguration</span> <span class="keyword">extends</span> <span class="title class_">WebSecurityConfigurerAdapter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// æ‰€æœ‰è¯·æ±‚éƒ½éœ€è¦è®¤è¯ï¼Œè®¤è¯æ–¹å¼ï¼šhttpBasic</span></span><br><span class="line">        http.authorizeHttpRequests((auth) -&gt; &#123;</span><br><span class="line">            auth.anyRequest().authenticated();</span><br><span class="line">        &#125;).httpBasic(Customizer.withDefaults());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Spring Boot2.4ç‰ˆæœ¬ä¹‹å</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demo.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.Customizer;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.annotation.web.builders.HttpSecurity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.web.SecurityFilterChain;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SecurityConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SecurityFilterChain <span class="title function_">securityFilterChain</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰€æœ‰è¯·æ±‚éƒ½éœ€è¦è®¤è¯ï¼Œè®¤è¯æ–¹å¼ï¼šhttpBasic</span></span><br><span class="line">        http.authorizeHttpRequests((auth) -&gt; &#123;</span><br><span class="line">            auth.anyRequest().authenticated();</span><br><span class="line">        &#125;).httpBasic(Customizer.withDefaults());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> http.build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å‘é€HTTPè¯·æ±‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET http://localhost:8080/</span><br><span class="line">Authorization: Basic dXNlcjo2ZjRhMGY5ZS1hY2ZkLTRmNTYtYjIzNy01MTZmYmZjMTk3NGM=</span><br></pre></td></tr></table></figure><p>å¯ä»¥è·å¾—å“åº”æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello</span><br></pre></td></tr></table></figure><p>base64è§£ç ä¹‹åå¯ä»¥å¾—åˆ°ç”¨æˆ·åå’Œå¯†ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">atob(&#x27;dXNlcjo2ZjRhMGY5ZS1hY2ZkLTRmNTYtYjIzNy01MTZmYmZjMTk3NGM=&#x27;)</span><br><span class="line"></span><br><span class="line">&#x27;user:6f4a0f9e-acfd-4f56-b237-516fbfc1974c&#x27;</span><br></pre></td></tr></table></figure><h3 id="2-httpè¡¨å•è®¤è¯"><a class="markdownIt-Anchor" href="#2-httpè¡¨å•è®¤è¯"></a> 2ã€HTTPè¡¨å•è®¤è¯</h3><p>Spring Securityçš„é»˜è®¤è®¤è¯æ–¹å¼</p><p><img src="gqnkyc66e4gn2_1ba816d1d85946cb8c9c8b5b67767379.webp" alt="" /></p><h2 id="å››-spring-security-ç”¨æˆ·ä¸è®¤è¯å¯¹è±¡è¯´æ˜"><a class="markdownIt-Anchor" href="#å››-spring-security-ç”¨æˆ·ä¸è®¤è¯å¯¹è±¡è¯´æ˜"></a> å››ã€Spring Security ç”¨æˆ·ä¸è®¤è¯å¯¹è±¡è¯´æ˜</h2><h3 id="1-ç”¨æˆ·å¯¹è±¡"><a class="markdownIt-Anchor" href="#1-ç”¨æˆ·å¯¹è±¡"></a> 1ã€ç”¨æˆ·å¯¹è±¡</h3><p><img src="gqnkyc66e4gn2_988d94c2a94f416ca6e2ffb97e15d82e.webp" alt="" /></p><p>UserDetails ç”¨æˆ·å¯¹è±¡æ¥å£è¯´æ˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.springframework.security.core.userdetails;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.GrantedAuthority;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserDetails</span> <span class="keyword">extends</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="comment">// è·å–ç”¨æˆ·æƒé™ä¿¡æ¯</span></span><br><span class="line">    Collection&lt;? <span class="keyword">extends</span> <span class="title class_">GrantedAuthority</span>&gt; getAuthorities();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–å¯†ç </span></span><br><span class="line">    java.lang.String <span class="title function_">getPassword</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–ç”¨æˆ·å</span></span><br><span class="line">    java.lang.String <span class="title function_">getUsername</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­è´¦æˆ·æ˜¯å¦å¤±æ•ˆ</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">isAccountNonExpired</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­è´¦æˆ·æ˜¯å¦é”å®š</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">isAccountNonLocked</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­è´¦æˆ·å‡­è¯ä¿¡æ¯æ˜¯å¦å·²å¤±æ•ˆ</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">isCredentialsNonExpired</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­è´¦æˆ·æ˜¯å¦å¯ç”¨</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">isEnabled</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>GrantedAuthority ç”¨æˆ·æ‹¥æœ‰æƒé™æ¥å£è¯´æ˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.springframework.security.core;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">GrantedAuthority</span> <span class="keyword">extends</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="comment">// è·å–æƒé™ä¿¡æ¯</span></span><br><span class="line">    String <span class="title function_">getAuthority</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UserDetailsService ç”¨æˆ·æŸ¥è¯¢æ“ä½œè¯´æ˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.springframework.security.core.userdetails;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.userdetails.UserDetails;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.userdetails.UsernameNotFoundException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserDetailsService</span> &#123;</span><br><span class="line">    <span class="comment">// æ ¹æ®ç”¨æˆ·åè·å–ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">    UserDetails <span class="title function_">loadUserByUsername</span><span class="params">(String username)</span> <span class="keyword">throws</span> UsernameNotFoundException;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UserDetailsManager ç”¨æˆ·CRUDæ“ä½œè¯´æ˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.springframework.security.provisioning;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.userdetails.UserDetails;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.userdetails.UserDetailsService;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserDetailsManager</span> <span class="keyword">extends</span> <span class="title class_">UserDetailsService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºç”¨æˆ·</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">createUser</span><span class="params">(UserDetails user)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ›´æ–°ç”¨æˆ·</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">updateUser</span><span class="params">(UserDetails user)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤ç”¨æˆ·</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">deleteUser</span><span class="params">(String username)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¿®æ”¹å¯†ç </span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">changePassword</span><span class="params">(String oldPassword, String newPassword)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">userExists</span><span class="params">(String username)</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-è®¤è¯å¯¹è±¡"><a class="markdownIt-Anchor" href="#2-è®¤è¯å¯¹è±¡"></a> 2ã€è®¤è¯å¯¹è±¡</h3><p><img src="gqnkyc66e4gn2_988d94c2a94f416ca6e2ffb97e15d82f.webp" alt="" /></p><p>Authentication è®¤è¯è¯·æ±‚è¯¦ç»†ä¿¡æ¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.springframework.security.core;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.security.Principal;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.security.authentication.AuthenticationManager;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.context.SecurityContextHolder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Authentication</span> <span class="keyword">extends</span> <span class="title class_">Principal</span>, Serializable &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®‰å…¨ä¸»ä½“æ‰€å…·æœ‰çš„çš„æƒé™</span></span><br><span class="line">    Collection&lt;? <span class="keyword">extends</span> <span class="title class_">GrantedAuthority</span>&gt; getAuthorities();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¯æ˜ä¸»ä½“æœ‰æ•ˆæ€§çš„å‡­è¯</span></span><br><span class="line">    Object <span class="title function_">getCredentials</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¤è¯è¯·æ±‚çš„æ˜ç»†ä¿¡æ¯</span></span><br><span class="line">    Object <span class="title function_">getDetails</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸»ä½“çš„æ ‡è¯†ä¿¡æ¯</span></span><br><span class="line">    Object <span class="title function_">getPrincipal</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ˜¯å¦è®¤è¯é€šè¿‡</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">isAuthenticated</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®è®¤è¯ç»“æœ</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">setAuthenticated</span><span class="params">(<span class="type">boolean</span> isAuthenticated)</span> <span class="keyword">throws</span> IllegalArgumentException;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>AuthenticationProvider è®¤è¯çš„ä¸šåŠ¡æ‰§è¡Œè€…</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.springframework.security.authentication;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.Authentication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.AuthenticationException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AuthenticationProvider</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰§è¡Œè®¤è¯ï¼Œè¿”å›è®¤è¯ç»“æœ</span></span><br><span class="line">    Authentication <span class="title function_">authenticate</span><span class="params">(Authentication authentication)</span> <span class="keyword">throws</span> AuthenticationException;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦æ”¯æŒå½“å‰çš„è®¤è¯å¯¹è±¡</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">supports</span><span class="params">(Class&lt;?&gt; authentication)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="äº”-åŸºäºmysqlè‡ªå®šä¹‰è®¤è¯è¿‡ç¨‹ä¾‹å­"><a class="markdownIt-Anchor" href="#äº”-åŸºäºmysqlè‡ªå®šä¹‰è®¤è¯è¿‡ç¨‹ä¾‹å­"></a> äº”ã€åŸºäºMySQLè‡ªå®šä¹‰è®¤è¯è¿‡ç¨‹ä¾‹å­</h2><h3 id="1-é¡¹ç›®ç»“æ„"><a class="markdownIt-Anchor" href="#1-é¡¹ç›®ç»“æ„"></a> 1ã€é¡¹ç›®ç»“æ„</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$ tree -I target</span><br><span class="line">.</span><br><span class="line">â”œâ”€â”€ pom.xml</span><br><span class="line">â””â”€â”€ src</span><br><span class="line">    â”œâ”€â”€ main</span><br><span class="line">    â”‚   â”œâ”€â”€ java</span><br><span class="line">    â”‚   â”‚   â””â”€â”€ com.example.springboot</span><br><span class="line">    â”‚   â”‚         â”œâ”€â”€ Application.java</span><br><span class="line">    â”‚   â”‚         â”œâ”€â”€ controller</span><br><span class="line">    â”‚   â”‚         â”‚   â””â”€â”€ IndexController.java</span><br><span class="line">    â”‚   â”‚         â”œâ”€â”€ entity</span><br><span class="line">    â”‚   â”‚         â”‚   â””â”€â”€ User.java</span><br><span class="line">    â”‚   â”‚         â”œâ”€â”€ mapper</span><br><span class="line">    â”‚   â”‚         â”‚   â””â”€â”€ UserMapper.java</span><br><span class="line">    â”‚   â”‚         â”œâ”€â”€ security</span><br><span class="line">    â”‚   â”‚         â”‚   â”œâ”€â”€ SecurityConfiguration.java</span><br><span class="line">    â”‚   â”‚         â”‚   â””â”€â”€ UserAuthenticationProvider.java</span><br><span class="line">    â”‚   â”‚         â””â”€â”€ service</span><br><span class="line">    â”‚   â”‚             â”œâ”€â”€ UserService.java</span><br><span class="line">    â”‚   â”‚             â””â”€â”€ impl</span><br><span class="line">    â”‚   â”‚                 â””â”€â”€ UserServiceImpl.java</span><br><span class="line">    â”‚   â””â”€â”€ resources</span><br><span class="line">    â”‚       â”œâ”€â”€ application.yml</span><br><span class="line">    â”‚       â”œâ”€â”€ sql</span><br><span class="line">    â”‚       â”‚   â””â”€â”€ schema.sql</span><br><span class="line">    â”‚       â”œâ”€â”€ static</span><br><span class="line">    â”‚       â”‚   â””â”€â”€ login.html</span><br><span class="line">    â”‚       â””â”€â”€ templates</span><br><span class="line">    â””â”€â”€ test</span><br><span class="line">        â””â”€â”€ java</span><br><span class="line">            â””â”€â”€ com.example.springboot</span><br><span class="line">                â””â”€â”€ ApplicationTests.java</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-ç”¨æˆ·è¡¨"><a class="markdownIt-Anchor" href="#2-ç”¨æˆ·è¡¨"></a> 2ã€ç”¨æˆ·è¡¨</h3><p>é»˜è®¤è¡¨ç»“æ„çš„SQLè·¯å¾„</p><p>spring-security-core-5.7.6.jar!/org/springframework/security/core/userdetails/jdbc/users.ddl</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">create table users(</span><br><span class="line">    username varchar_ignorecase(50) not null primary key,</span><br><span class="line">    password varchar_ignorecase(500) not null,</span><br><span class="line">    enabled boolean not null</span><br><span class="line">);</span><br><span class="line">create table authorities (</span><br><span class="line">    username varchar_ignorecase(50) not null,</span><br><span class="line">    authority varchar_ignorecase(50) not null,</span><br><span class="line">    constraint fk_authorities_users foreign key(username) references users(username)</span><br><span class="line">);</span><br><span class="line">create unique index ix_auth_username on authorities (username,authority);</span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨è‡ªå·±åˆ›å»ºçš„ç”¨æˆ·è¡¨</p><p>schema.sql</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- åˆ›å»ºç”¨æˆ·è¡¨</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `tb_user` (</span><br><span class="line">  `id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ä¸»é”®id&#x27;</span>,</span><br><span class="line">  `username` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">COLLATE</span> utf8mb4_general_ci <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;ç”¨æˆ·å&#x27;</span>,</span><br><span class="line">  `password` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">COLLATE</span> utf8mb4_general_ci <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;å¯†ç &#x27;</span>,</span><br><span class="line">  `nickname` <span class="type">varchar</span>(<span class="number">32</span>) <span class="keyword">COLLATE</span> utf8mb4_general_ci <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;æ˜µç§°&#x27;</span>,</span><br><span class="line">  `enabled` tinyint <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;1&#x27;</span> COMMENT <span class="string">&#x27;è´¦å·å¯ç”¨æ ‡è¯†&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`),</span><br><span class="line">  <span class="keyword">UNIQUE</span> KEY `idx_username` (`username`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 <span class="keyword">COLLATE</span><span class="operator">=</span>utf8mb4_general_ci COMMENT<span class="operator">=</span><span class="string">&#x27;ç”¨æˆ·è¡¨&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- æ·»åŠ åˆå§‹æ•°æ®</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `tb_user` <span class="keyword">values</span> (<span class="number">1</span>, &quot;zhangsan&quot;, &quot;zhangsan&quot;, &quot;å¼ ä¸‰&quot;, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `tb_user` <span class="keyword">values</span> (<span class="number">2</span>, &quot;lisi&quot;, &quot;lisi&quot;, &quot;æå››&quot;, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `tb_user` <span class="keyword">values</span> (<span class="number">3</span>, &quot;wangwu&quot;, &quot;wangwu&quot;, &quot;ç‹äº”&quot;, <span class="number">1</span>);</span><br></pre></td></tr></table></figure><h3 id="3-ä¾èµ–"><a class="markdownIt-Anchor" href="#3-ä¾èµ–"></a> 3ã€ä¾èµ–</h3><ul><li>Spring Security</li><li>MyBatis-Plus</li><li>MySQL8 JDBC</li><li>Lombok</li></ul><p>å®Œæ•´ä¾èµ–</p><p>pom.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springboot<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>springboot<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>springbootå­¦ä¹ <span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">licenses</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">license</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">licenses</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">developers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">developer</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">developers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scm</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">connection</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">developerConnection</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tag</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">scm</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>17<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--starter-web--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--thymeleaf--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--spring-security--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.security<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-security-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--lombok--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ·»åŠ  JDBC Starter ä»¥å¼•å…¥ HikariCP --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--MyBatisPlusæ ¸å¿ƒåº“--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-spring-boot3-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="4-æ•°æ®åº“é…ç½®"><a class="markdownIt-Anchor" href="#4-æ•°æ®åº“é…ç½®"></a> 4ã€æ•°æ®åº“é…ç½®</h3><p>application.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ•°æ®åº“é…ç½®</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://127.0.0.1:3306/test?useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false&amp;serverTimezone=Asia/Shanghai</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">zaq1xsw2</span></span><br><span class="line"></span><br><span class="line"><span class="attr">hikari:</span></span><br><span class="line">      <span class="attr">maximum-pool-size:</span> <span class="number">10</span>  <span class="comment"># æœ€å¤§è¿æ¥æ•°</span></span><br><span class="line">      <span class="attr">minimum-idle:</span> <span class="number">5</span>        <span class="comment"># æœ€å°ç©ºé—²è¿æ¥æ•°</span></span><br><span class="line">      <span class="attr">idle-timeout:</span> <span class="number">300000</span>   <span class="comment"># ç©ºé—²è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰</span></span><br><span class="line">      <span class="attr">connection-timeout:</span> <span class="number">20000</span>  <span class="comment"># è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#é…ç½®mybatiså®ä½“é…ç½®</span></span><br><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">mapper-locations:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">classpath:mapper/*.xml</span> <span class="comment">#æ˜ å°„åˆ°resources/mapper/User.xmlé‡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#mybatis-plusç›¸å…³é…ç½®</span></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="comment"># xmlæ‰«æï¼Œå¤šä¸ªç›®å½•ç”¨é€—å·æˆ–è€…åˆ†å·åˆ†éš”ï¼ˆå‘Šè¯‰ Mapper æ‰€å¯¹åº”çš„ XML æ–‡ä»¶ä½ç½®ï¼‰</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:mapper/*.xml</span></span><br><span class="line">  <span class="comment"># ä»¥ä¸‹é…ç½®å‡æœ‰é»˜è®¤å€¼,å¯ä»¥ä¸è®¾ç½®</span></span><br><span class="line">  <span class="attr">global-config:</span></span><br><span class="line">    <span class="attr">db-config:</span></span><br><span class="line">      <span class="comment">#ä¸»é”®ç±»å‹ AUTO:&quot;æ•°æ®åº“IDè‡ªå¢&quot; INPUT:&quot;ç”¨æˆ·è¾“å…¥ID&quot;,ID_WORKER:&quot;å…¨å±€å”¯ä¸€ID (æ•°å­—ç±»å‹å”¯ä¸€ID)&quot;, UUID:&quot;å…¨å±€å”¯ä¸€ID UUID&quot;;</span></span><br><span class="line">      <span class="attr">id-type:</span> <span class="string">auto</span></span><br><span class="line">      <span class="comment">#å­—æ®µç­–ç•¥ IGNORED:&quot;å¿½ç•¥åˆ¤æ–­&quot;  NOT_NULL:&quot;é NULL åˆ¤æ–­&quot;)  NOT_EMPTY:&quot;éç©ºåˆ¤æ–­&quot;</span></span><br><span class="line">      <span class="attr">field-strategy:</span> <span class="string">NOT_EMPTY</span></span><br><span class="line">      <span class="comment">#æ•°æ®åº“ç±»å‹</span></span><br><span class="line">      <span class="attr">db-type:</span> <span class="string">MYSQL</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="comment"># æ˜¯å¦å¼€å¯è‡ªåŠ¨é©¼å³°å‘½åè§„åˆ™æ˜ å°„:ä»æ•°æ®åº“åˆ—ååˆ°Javaå±æ€§é©¼å³°å‘½åçš„ç±»ä¼¼æ˜ å°„</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># å¦‚æœæŸ¥è¯¢ç»“æœä¸­åŒ…å«ç©ºå€¼çš„åˆ—ï¼Œåˆ™ MyBatis åœ¨æ˜ å°„çš„æ—¶å€™ï¼Œä¸ä¼šæ˜ å°„è¿™ä¸ªå­—æ®µ</span></span><br><span class="line">    <span class="attr">call-setters-on-nulls:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># è¿™ä¸ªé…ç½®ä¼šå°†æ‰§è¡Œçš„sqlæ‰“å°å‡ºæ¥ï¼Œåœ¨å¼€å‘æˆ–æµ‹è¯•çš„æ—¶å€™å¯ä»¥ç”¨</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br></pre></td></tr></table></figure><h3 id="5-springbootåŸºæœ¬æ¡†æ¶"><a class="markdownIt-Anchor" href="#5-springbootåŸºæœ¬æ¡†æ¶"></a> 5ã€SpringBootåŸºæœ¬æ¡†æ¶</h3><p>å¯åŠ¨ç±» Application.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringbootApplication</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(SpringbootApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ä½“ç±» User.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableName;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.GrantedAuthority;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.authority.SimpleGrantedAuthority;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.userdetails.UserDetails;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@TableName(&quot;tb_user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> <span class="keyword">implements</span> <span class="title class_">UserDetails</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¸»é”®id</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@TableId</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç”¨æˆ·å</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯†ç </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ˜µç§°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String nickname;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è´¦å·å¯ç”¨æ ‡è¯†</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Integer enabled;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–ç”¨æˆ·æƒé™ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Collection&lt;? <span class="keyword">extends</span> <span class="title class_">GrantedAuthority</span>&gt; getAuthorities() &#123;</span><br><span class="line">        <span class="keyword">return</span> Arrays.asList(<span class="keyword">new</span> <span class="title class_">SimpleGrantedAuthority</span>(<span class="string">&quot;ROLE_USER&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ¤æ–­è´¦æˆ·æ˜¯å¦å¤±æ•ˆ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isAccountNonExpired</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ¤æ–­è´¦æˆ·æ˜¯å¦é”å®š</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isAccountNonLocked</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ¤æ–­è´¦æˆ·å‡­è¯ä¿¡æ¯æ˜¯å¦å·²å¤±æ•ˆ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isCredentialsNonExpired</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ¤æ–­è´¦æˆ·æ˜¯å¦å¯ç”¨</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEnabled</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.enabled == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UserMapper.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.example.springboot.entity.User;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;User&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>UserService.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.example.springboot.entity.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;User&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>UserServiceImpl.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.LambdaQueryWrapper;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.example.springboot.entity.User;</span><br><span class="line"><span class="keyword">import</span> com.example.springboot.mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> com.example.springboot.service.UserService;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.userdetails.UserDetails;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.userdetails.UserDetailsService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.userdetails.UsernameNotFoundException;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span></span><br><span class="line">        <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;UserMapper, User&gt;</span><br><span class="line">        <span class="keyword">implements</span> <span class="title class_">UserService</span>, UserDetailsService &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®ç”¨æˆ·åè·å–ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> username</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> UserDetails</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> UsernameNotFoundException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> UserDetails <span class="title function_">loadUserByUsername</span><span class="params">(String username)</span> <span class="keyword">throws</span> UsernameNotFoundException &#123;</span><br><span class="line">        LambdaQueryWrapper&lt;User&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(User::getUsername, username);</span><br><span class="line"></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="built_in">super</span>.getOne(queryWrapper);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(user == <span class="literal">null</span>)&#123;</span><br><span class="line">            log.error(<span class="string">&quot;Access Denied, user not found:&quot;</span> + username);</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">UsernameNotFoundException</span>(<span class="string">&quot;user not found:&quot;</span> + username);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>IndexController.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IndexController</span> &#123;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-è‡ªåŠ¨å®šä¹‰spring-security"><a class="markdownIt-Anchor" href="#6-è‡ªåŠ¨å®šä¹‰spring-security"></a> 6ã€è‡ªåŠ¨å®šä¹‰Spring Security</h3><p>SecurityConfiguration.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot.security;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.Customizer;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.annotation.web.builders.HttpSecurity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.web.SecurityFilterChain;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SecurityConfiguration</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åŸºäºåŸºç¡€è®¤è¯æ¨¡å¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> http</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SecurityFilterChain <span class="title function_">securityFilterChain</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰€æœ‰è¯·æ±‚éƒ½éœ€è¦è®¤è¯ï¼Œè®¤è¯æ–¹å¼ï¼šhttpBasic</span></span><br><span class="line">        http.authorizeHttpRequests((auth) -&gt; &#123;</span><br><span class="line">            auth.anyRequest().authenticated();</span><br><span class="line">        &#125;).httpBasic(Customizer.withDefaults());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> http.build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>UserAuthenticationProvider.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot.security;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.authentication.AuthenticationProvider;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.authentication.BadCredentialsException;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.authentication.UsernamePasswordAuthenticationToken;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.Authentication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.AuthenticationException;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.userdetails.UserDetails;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.userdetails.UserDetailsService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserAuthenticationProvider</span> <span class="keyword">implements</span> <span class="title class_">AuthenticationProvider</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserDetailsService userService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è‡ªå·±å®ç°è®¤è¯è¿‡ç¨‹</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> authentication</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> AuthenticationException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Authentication <span class="title function_">authenticate</span><span class="params">(Authentication authentication)</span> <span class="keyword">throws</span> AuthenticationException &#123;</span><br><span class="line">        <span class="comment">// ä»Authentication å¯¹è±¡ä¸­è·å–ç”¨æˆ·åå’Œå¯†ç </span></span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> authentication.getName();</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> authentication.getCredentials().toString();</span><br><span class="line"></span><br><span class="line">        <span class="type">UserDetails</span> <span class="variable">user</span> <span class="operator">=</span> userService.loadUserByUsername(username);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (password.equals(user.getPassword())) &#123;</span><br><span class="line">            <span class="comment">// å¯†ç åŒ¹é…æˆåŠŸ</span></span><br><span class="line">            log.info(<span class="string">&quot;Access Success: &quot;</span> + user);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">UsernamePasswordAuthenticationToken</span>(username, password, user.getAuthorities());</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å¯†ç åŒ¹é…å¤±è´¥</span></span><br><span class="line">            log.error(<span class="string">&quot;Access Denied: The username or password is wrong!&quot;</span>);</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">BadCredentialsException</span>(<span class="string">&quot;The username or password is wrong!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">supports</span><span class="params">(Class&lt;?&gt; authentication)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> authentication.equals(UsernamePasswordAuthenticationToken.class);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="7-æ¥å£æµ‹è¯•"><a class="markdownIt-Anchor" href="#7-æ¥å£æµ‹è¯•"></a> 7ã€æ¥å£æµ‹è¯•</h3><p>IndexController.http</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">###</span><br><span class="line"># ä¸æä¾›è®¤è¯ä¿¡æ¯</span><br><span class="line">GET http://localhost:8080/hello</span><br><span class="line"></span><br><span class="line">###</span><br><span class="line"># æä¾›é”™è¯¯çš„è®¤è¯ä¿¡æ¯</span><br><span class="line">GET http://localhost:8080/hello</span><br><span class="line">Authorization: Basic dXNlcjo2YzVlMTUyOS1kMTc2LTRkYjItYmZlMy0zZTIzOTNlMjY2MTk=</span><br><span class="line"></span><br><span class="line">###</span><br><span class="line"># æä¾›æ­£ç¡®çš„è®¤è¯ä¿¡æ¯</span><br><span class="line">GET http://localhost:8080/hello</span><br><span class="line">Authorization: Basic emhhbmdzYW46emhhbmdzYW4=</span><br><span class="line">###</span><br></pre></td></tr></table></figure><h2 id="å…­-ä½¿ç”¨passwordencoderåŠ å¯†å¯†ç "><a class="markdownIt-Anchor" href="#å…­-ä½¿ç”¨passwordencoderåŠ å¯†å¯†ç "></a> å…­ã€ä½¿ç”¨PasswordEncoderåŠ å¯†å¯†ç </h2><p>PasswordEncoderæ¥å£è¯´æ˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.springframework.security.crypto.password;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">PasswordEncoder</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯¹åŸå§‹å¯†ç ç¼–ç </span></span><br><span class="line">    String <span class="title function_">encode</span><span class="params">(CharSequence rawPassword)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯†ç æ¯”å¯¹</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">matches</span><span class="params">(CharSequence rawPassword, String encodedPassword)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­åŠ å¯†å¯†ç æ˜¯å¦éœ€è¦å†æ¬¡åŠ å¯†</span></span><br><span class="line">    <span class="keyword">default</span> <span class="type">boolean</span> <span class="title function_">upgradeEncoding</span><span class="params">(String encodedPassword)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¸¸è§çš„å®ç°ç±»</p><p><img src="gqnkyc66e4gn2_988d94c2a94f416ca6e2ffb97e15d82g.webp" alt="" /></p><p>Bcryptç®—æ³•ç®€ä»‹</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">package com.example.sprintboot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import org.junit.jupiter.api.Test;</span><br><span class="line">import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;</span><br><span class="line"></span><br><span class="line">public class BCryptPasswordEncoderTest &#123;</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    public void encode()&#123;</span><br><span class="line">        BCryptPasswordEncoder bCryptPasswordEncoder = new BCryptPasswordEncoder();</span><br><span class="line">        String encode = bCryptPasswordEncoder.encode(&quot;123456&quot;);</span><br><span class="line">        System.out.println(encode);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¾“å‡º</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$2a$10$lKqmIKbEPNDx/RXssgN6POgb8YssAK7pVtMFDosmC8FxozUgQq58K</span><br></pre></td></tr></table></figure><p>è§£é‡Š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$æ˜¯åˆ†éš”ç¬¦</span><br><span class="line">2aè¡¨ç¤ºBcryptç®—æ³•ç‰ˆæœ¬</span><br><span class="line">10è¡¨ç¤ºç®—æ³•å¼ºåº¦</span><br><span class="line">ä¸­é—´22ä½è¡¨ç¤ºç›å€¼</span><br><span class="line">ä¸­é—´é¢çš„ä½æ•°è¡¨ç¤ºåŠ å¯†åçš„æ–‡æœ¬</span><br><span class="line">æ€»é•¿åº¦60ä½</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨Bcryptç®—æ³•åŠ å¯†å¯†ç åçš„æ•°æ®</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- å»ºè¡¨</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `tb_user` (</span><br><span class="line">  `id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ä¸»é”®id&#x27;</span>,</span><br><span class="line">  `username` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">COLLATE</span> utf8mb4_general_ci <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;ç”¨æˆ·å&#x27;</span>,</span><br><span class="line">  `password` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">COLLATE</span> utf8mb4_general_ci <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;å¯†ç &#x27;</span>,</span><br><span class="line">  `nickname` <span class="type">varchar</span>(<span class="number">32</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_general_ci <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> COMMENT <span class="string">&#x27;æ˜µç§°&#x27;</span>,</span><br><span class="line">  `enabled` tinyint <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;1&#x27;</span> COMMENT <span class="string">&#x27;è´¦å·å¯ç”¨æ ‡è¯†&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`),</span><br><span class="line">  <span class="keyword">UNIQUE</span> KEY `idx_username` (`username`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 <span class="keyword">COLLATE</span><span class="operator">=</span>utf8mb4_general_ci COMMENT<span class="operator">=</span><span class="string">&#x27;ç”¨æˆ·è¡¨&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- æ•°æ®</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;zhangsan&#x27;</span>, <span class="string">&#x27;$2a$10$/1XHgJYXtF4g/AiR41si8uvVC6Zc.Z9xVmXX4hO2z.b4.DX.H2j5W&#x27;</span>, <span class="string">&#x27;å¼ ä¸‰&#x27;</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">&#x27;lisi&#x27;</span>, <span class="string">&#x27;$2a$10$PEcF03ina7x9mmt2VbB0ueVkLZWQo/yoKOfvfQpoL09/faBlNuuZ.&#x27;</span>, <span class="string">&#x27;æå››&#x27;</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_user` <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="string">&#x27;wangwu&#x27;</span>, <span class="string">&#x27;$2a$10$PMumxkwwrELTbNDXCj0N4.jD/e/Hv.JiiZTFkdFqlDNLU2TahdYNq&#x27;</span>, <span class="string">&#x27;ç‹äº”&#x27;</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure><p>UserAuthenticationProviderå®ç°ç±»æ›¿æ¢å¦‚ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot.security;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.authentication.AuthenticationProvider;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.authentication.BadCredentialsException;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.authentication.UsernamePasswordAuthenticationToken;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.Authentication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.AuthenticationException;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.userdetails.UserDetails;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.userdetails.UserDetailsService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.crypto.password.PasswordEncoder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserAuthenticationProvider</span> <span class="keyword">implements</span> <span class="title class_">AuthenticationProvider</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserDetailsService userService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯†ç åŠ å¯†</span></span><br><span class="line">    <span class="keyword">public</span> PasswordEncoder <span class="title function_">passwordEncoder</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">BCryptPasswordEncoder</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è‡ªå·±å®ç°è®¤è¯è¿‡ç¨‹</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> authentication</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> AuthenticationException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Authentication <span class="title function_">authenticate</span><span class="params">(Authentication authentication)</span> <span class="keyword">throws</span> AuthenticationException &#123;</span><br><span class="line">        <span class="comment">// ä»Authentication å¯¹è±¡ä¸­è·å–ç”¨æˆ·åå’Œå¯†ç </span></span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> authentication.getName();</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> authentication.getCredentials().toString();</span><br><span class="line"></span><br><span class="line">        <span class="type">UserDetails</span> <span class="variable">user</span> <span class="operator">=</span> userService.loadUserByUsername(username);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ›¿æ¢å¯†ç æ¯”å¯¹æ–¹å¼</span></span><br><span class="line">        <span class="comment">// if (password.equals(user.getPassword())) &#123;</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.passwordEncoder().matches(password, user.getPassword())) &#123;</span><br><span class="line">            <span class="comment">// å¯†ç åŒ¹é…æˆåŠŸ</span></span><br><span class="line">            log.info(<span class="string">&quot;Access Success: &quot;</span> + user);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">UsernamePasswordAuthenticationToken</span>(username, password, user.getAuthorities());</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å¯†ç åŒ¹é…å¤±è´¥</span></span><br><span class="line">            log.error(<span class="string">&quot;Access Denied: The username or password is wrong!&quot;</span>);</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">BadCredentialsException</span>(<span class="string">&quot;The username or password is wrong!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">supports</span><span class="params">(Class&lt;?&gt; authentication)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> authentication.equals(UsernamePasswordAuthenticationToken.class);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸ƒ-sessionä¼šè¯æ§åˆ¶"><a class="markdownIt-Anchor" href="#ä¸ƒ-sessionä¼šè¯æ§åˆ¶"></a> ä¸ƒã€Sessionä¼šè¯æ§åˆ¶</h2><p>æ”¹ä¸ºåŸºäºåŸºç¡€è®¤è¯æ¨¡å¼<br />ä¿®æ”¹é…ç½®ç±»SecurityConfiguration</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot.security;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.Customizer;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.annotation.web.builders.HttpSecurity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.http.SessionCreationPolicy;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.web.SecurityFilterChain;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SecurityConfiguration</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åŸºäºåŸºç¡€è®¤è¯æ¨¡å¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> http</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SecurityFilterChain <span class="title function_">securityFilterChain</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç¦ç”¨sessionä¼šè¯</span></span><br><span class="line">        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰€æœ‰è¯·æ±‚éƒ½éœ€è¦è®¤è¯ï¼Œè®¤è¯æ–¹å¼ï¼šhttpBasic</span></span><br><span class="line">        http.authorizeHttpRequests((auth) -&gt; &#123;</span><br><span class="line">            auth.anyRequest().authenticated();</span><br><span class="line">        &#125;).httpBasic(Customizer.withDefaults());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> http.build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å…«-åŸºäºè¡¨å•æ¨¡å¼å®ç°è‡ªå®šä¹‰è®¤è¯"><a class="markdownIt-Anchor" href="#å…«-åŸºäºè¡¨å•æ¨¡å¼å®ç°è‡ªå®šä¹‰è®¤è¯"></a> å…«ã€åŸºäºè¡¨å•æ¨¡å¼å®ç°è‡ªå®šä¹‰è®¤è¯</h2><p>SecurityFormConfiguration é…ç½®ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot.security;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.annotation.web.builders.HttpSecurity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.http.SessionCreationPolicy;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.web.SecurityFilterChain;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SecurityFormConfiguration</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åŸºäºè¡¨å•è®¤è¯æ¨¡å¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> http</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SecurityFilterChain <span class="title function_">securityFilterChain</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¯ç”¨sessionä¼šè¯</span></span><br><span class="line">        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è®¤è¯æ–¹å¼ï¼šForm</span></span><br><span class="line">        http.authorizeRequests()</span><br><span class="line">                <span class="comment">//.requestMatchers(&quot;/login.html&quot;).permitAll() // æ”¾è¡Œç™»å½•é¡µé¢</span></span><br><span class="line">                <span class="comment">// æ‰€æœ‰è¯·æ±‚éƒ½éœ€è¦è®¤è¯</span></span><br><span class="line">                .anyRequest().authenticated()</span><br><span class="line">                .and()</span><br><span class="line">                <span class="comment">// å¯åŠ¨è¡¨å•è®¤è¯æ¨¡å¼</span></span><br><span class="line">                .formLogin()</span><br><span class="line">                <span class="comment">// ç™»å½•é¡µé¢</span></span><br><span class="line">                .loginPage(<span class="string">&quot;/login.html&quot;</span>)</span><br><span class="line">                <span class="comment">// è¯·æ±‚æäº¤åœ°å€</span></span><br><span class="line">                .loginProcessingUrl(<span class="string">&quot;/login&quot;</span>)</span><br><span class="line">                <span class="comment">// æˆåŠŸè·³è½¬é¡µé¢</span></span><br><span class="line">                .defaultSuccessUrl(<span class="string">&quot;/hello&quot;</span>, <span class="literal">true</span>)</span><br><span class="line">                <span class="comment">// æ”¾è¡Œä¸Šé¢çš„ä¸¤ä¸ªåœ°å€</span></span><br><span class="line">                .permitAll()</span><br><span class="line">                <span class="comment">// è®¾ç½®æäº¤çš„å‚æ•°å</span></span><br><span class="line">                .usernameParameter(<span class="string">&quot;username&quot;</span>)</span><br><span class="line">                .passwordParameter(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">                .and()</span><br><span class="line">                <span class="comment">// å¼€å§‹è®¾ç½®æ³¨é”€åŠŸèƒ½</span></span><br><span class="line">                .logout()</span><br><span class="line">                <span class="comment">// æ³¨é”€çš„url</span></span><br><span class="line">                .logoutUrl(<span class="string">&quot;/logout&quot;</span>)</span><br><span class="line">                <span class="comment">// sessionç›´æ¥è¿‡æœŸ</span></span><br><span class="line">                .invalidateHttpSession(<span class="literal">true</span>)</span><br><span class="line">                <span class="comment">// æ¸…é™¤è®¤è¯ä¿¡æ¯</span></span><br><span class="line">                .clearAuthentication(<span class="literal">true</span>)</span><br><span class="line">                <span class="comment">// æ³¨é”€æˆåŠŸåè·³è½¬åœ°å€</span></span><br><span class="line">                .logoutSuccessUrl(<span class="string">&quot;/login.html&quot;</span>)</span><br><span class="line">                .and()</span><br><span class="line">                <span class="comment">// ç¦ç”¨csrfå®‰å…¨é˜²æŠ¤</span></span><br><span class="line">                .csrf().disable();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> http.build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç™»å½•é¡µé¢ static/login.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Login<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Login<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/login&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">label</span>&gt;</span>usernameï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">label</span>&gt;</span>passwordï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ˜¾ç¤ºæ•ˆæœ</p><p><img src="gqnkyc66e4gn2_81b709b8e560457b9abad4b08cc02fc8.webp" alt="" /></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Bootå…¥é—¨æŒ‡å—(æ¡ˆä¾‹ç¯‡)</title>
      <link href="/2025/08/26/Springboot/Spring%20Boot%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97(%E6%A1%88%E4%BE%8B%E7%AF%87)/"/>
      <url>/2025/08/26/Springboot/Spring%20Boot%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97(%E6%A1%88%E4%BE%8B%E7%AF%87)/</url>
      
        <content type="html"><![CDATA[<p>Spring Bootæ˜¯ä¸€ä¸ªå¼€æºçš„JavaåŸºç¡€æ¡†æ¶ï¼Œå®ƒä½¿å¾—åˆ›å»ºç‹¬ç«‹çš„ã€ç”Ÿäº§çº§åˆ«çš„Springåº”ç”¨å˜å¾—æ›´å®¹æ˜“ã€‚å®ƒâ€œè·‘èµ·æ¥â€å³å¯ç”¨ï¼Œå†…åµŒäº†Tomcatã€Jettyç­‰Servletå®¹å™¨ï¼Œæ— éœ€éƒ¨ç½²WARæ–‡ä»¶ï¼Œä¹Ÿæ— éœ€å•ç‹¬çš„Servletå®¹å™¨ã€‚</p><h3 id="ç¯å¢ƒå‡†å¤‡"><a class="markdownIt-Anchor" href="#ç¯å¢ƒå‡†å¤‡"></a> ç¯å¢ƒå‡†å¤‡</h3><p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ çš„å¼€å‘ç¯å¢ƒä¸­å®‰è£…äº†ä»¥ä¸‹è½¯ä»¶ï¼š</p><ul><li>Java Development Kit (JDK) 8 æˆ–æ›´é«˜ç‰ˆæœ¬</li><li>Maven 3.0 æˆ–æ›´é«˜ç‰ˆæœ¬</li><li>ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨æˆ–IDEï¼ˆå¦‚IntelliJ IDEAæˆ–Eclipseï¼‰</li><li>Git</li></ul><h3 id="åˆ›å»ºspring-booté¡¹ç›®"><a class="markdownIt-Anchor" href="#åˆ›å»ºspring-booté¡¹ç›®"></a> åˆ›å»ºSpring Booté¡¹ç›®</h3><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡Spring Initializrå¿«é€Ÿç”Ÿæˆä¸€ä¸ªSpring Booté¡¹ç›®çš„åŸºç¡€ç»“æ„ã€‚</p><ol><li>è®¿é—® <a href="https://start.spring.io/">Spring Initializr</a></li><li>é€‰æ‹©ç”ŸæˆMavené¡¹ç›®ï¼Œé€‰æ‹©Javaè¯­è¨€</li><li>æŒ‡å®šé¡¹ç›®å…ƒæ•°æ®ï¼ˆGroup, Artifact, Name, Descriptionï¼‰</li><li>æ·»åŠ ä¾èµ–ï¼ˆDependenciesï¼‰ï¼Œæˆ‘ä»¬è‡³å°‘éœ€è¦<code>Spring Web</code>ä¾èµ–</li><li>ç‚¹å‡»â€œGenerateâ€ç”Ÿæˆé¡¹ç›®ï¼Œä¸‹è½½å¹¶è§£å‹</li></ol><h4 id="é¡¹ç›®æ¶æ„å›¾"><a class="markdownIt-Anchor" href="#é¡¹ç›®æ¶æ„å›¾"></a> é¡¹ç›®æ¶æ„å›¾</h4><p><img src="baaa5c67e3754abe83e0bbb2f2e14c58.png" alt="" /></p><p>å›¾å±•ç¤ºäº†Spring Bootåº”ç”¨çš„åŸºæœ¬æ¶æ„ï¼ŒåŒ…æ‹¬å¯åŠ¨ç±»ã€æ§åˆ¶å™¨ã€æœåŠ¡ã€ä»“åº“å’Œå®ä½“ç±»ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚</p><h3 id="é¡¹ç›®ç»“æ„"><a class="markdownIt-Anchor" href="#é¡¹ç›®ç»“æ„"></a> é¡¹ç›®ç»“æ„</h3><p>è§£å‹åçš„é¡¹ç›®ç»“æ„å¤§è‡´å¦‚ä¸‹ï¼š</p><pre><code>my-application/â”œâ”€â”€ src/â”‚   â”œâ”€â”€ main/â”‚   â”‚   â”œâ”€â”€ java/â”‚   â”‚   â”‚   â””â”€â”€ com/â”‚   â”‚   â”‚       â””â”€â”€ example/â”‚   â”‚   â”‚           â””â”€â”€ myapplication/â”‚   â”‚   â”‚               â”œâ”€â”€ MyApplication.javaâ”‚   â”‚   â”‚               â””â”€â”€ controller/â”‚   â”‚   â”‚                   â””â”€â”€ HelloController.javaâ”‚   â”‚   â””â”€â”€ resources/â”‚   â”‚       â”œâ”€â”€ application.propertiesâ”‚   â”‚       â””â”€â”€ static/â”‚   â”‚           â””â”€â”€ index.htmlâ”œâ”€â”€ pom.xmlâ””â”€â”€ README.md</code></pre><h3 id="ç¼–å†™hello-worldåº”ç”¨"><a class="markdownIt-Anchor" href="#ç¼–å†™hello-worldåº”ç”¨"></a> ç¼–å†™Hello Worldåº”ç”¨</h3><h4 id="1-å¯åŠ¨ç±»"><a class="markdownIt-Anchor" href="#1-å¯åŠ¨ç±»"></a> 1. å¯åŠ¨ç±»</h4><p>åœ¨<code>com.example.myapplication</code>åŒ…ä¸­åˆ›å»ºä¸€ä¸ªå¯åŠ¨ç±»<code>MyApplication.java</code>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.myapplication;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span> <span class="comment">// æ ‡æ³¨è¿™æ˜¯ä¸€ä¸ªSpring Bootåº”ç”¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyApplication</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(MyApplication.class, args); <span class="comment">// å¯åŠ¨åº”ç”¨</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-æ§åˆ¶å™¨"><a class="markdownIt-Anchor" href="#2-æ§åˆ¶å™¨"></a> 2. æ§åˆ¶å™¨</h4><p>åœ¨<code>com.example.myapplication.controller</code>åŒ…ä¸­åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨ç±»<code>HelloController.java</code>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.myapplication.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span> <span class="comment">// æ ‡æ³¨è¿™æ˜¯ä¸€ä¸ªRESTæ§åˆ¶å™¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/hello&quot;)</span> <span class="comment">// æ˜ å°„GETè¯·æ±‚åˆ°/hello</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">sayHello</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello, World!&quot;</span>; <span class="comment">// è¿”å›å­—ç¬¦ä¸²</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-è¿è¡Œåº”ç”¨"><a class="markdownIt-Anchor" href="#3-è¿è¡Œåº”ç”¨"></a> 3. è¿è¡Œåº”ç”¨</h4><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å¯åŠ¨åº”ç”¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn spring-boot:run</span><br></pre></td></tr></table></figure><p>åº”ç”¨å¯åŠ¨åï¼Œè®¿é—®<code>http://localhost:8080/hello</code>ï¼Œä½ å°†çœ‹åˆ°è¾“å‡º<code>Hello, World!</code>ã€‚</p><h3 id="æ¡ˆä¾‹todoåº”ç”¨"><a class="markdownIt-Anchor" href="#æ¡ˆä¾‹todoåº”ç”¨"></a> æ¡ˆä¾‹ï¼šTodoåº”ç”¨</h3><h4 id="1-æ·»åŠ ä¾èµ–"><a class="markdownIt-Anchor" href="#1-æ·»åŠ ä¾èµ–"></a> 1. æ·»åŠ ä¾èµ–</h4><p>åœ¨<code>pom.xml</code>ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Spring Web --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Spring Data JPA --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- H2 Database --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.h2database<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>h2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-å®ä½“ç±»"><a class="markdownIt-Anchor" href="#2-å®ä½“ç±»"></a> 2. å®ä½“ç±»</h4><p>åˆ›å»º<code>Todo</code>å®ä½“ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.myapplication.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.Entity;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.GeneratedValue;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.GenerationType;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.Id;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entity</span> <span class="comment">// æ ‡æ³¨è¿™æ˜¯ä¸€ä¸ªJPAå®ä½“</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Todo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue(strategy = GenerationType.AUTO)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String description;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> completed;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°ã€getterå’Œsetterçœç•¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-ä»“åº“æ¥å£"><a class="markdownIt-Anchor" href="#3-ä»“åº“æ¥å£"></a> 3. ä»“åº“æ¥å£</h4><p>åˆ›å»º<code>TodoRepository</code>æ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.myapplication.repository;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.myapplication.model.Todo;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.repository.CrudRepository;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">TodoRepository</span> <span class="keyword">extends</span> <span class="title class_">CrudRepository</span>&lt;Todo, Long&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-æœåŠ¡ç±»"><a class="markdownIt-Anchor" href="#4-æœåŠ¡ç±»"></a> 4. æœåŠ¡ç±»</h4><p>åˆ›å»º<code>TodoService</code>æœåŠ¡ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.myapplication.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.myapplication.model.Todo;</span><br><span class="line"><span class="keyword">import</span> com.example.myapplication.repository.TodoRepository;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TodoService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> TodoRepository todoRepository;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;Todo&gt; <span class="title function_">getAllTodos</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> todoRepository.findAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Todo <span class="title function_">addTodo</span><span class="params">(Todo todo)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> todoRepository.save(todo);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…¶ä»–æ–¹æ³•çœç•¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-æ§åˆ¶å™¨"><a class="markdownIt-Anchor" href="#5-æ§åˆ¶å™¨"></a> 5. æ§åˆ¶å™¨</h4><p>æ›´æ–°<code>HelloController</code>ä¸º<code>TodoController</code>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.myapplication.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.myapplication.model.Todo;</span><br><span class="line"><span class="keyword">import</span> com.example.myapplication.service.TodoService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/todos&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TodoController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> TodoService todoService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Todo&gt; <span class="title function_">getAllTodos</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> todoService.getAllTodos();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> Todo <span class="title function_">addTodo</span><span class="params">(<span class="meta">@RequestBody</span> Todo todo)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> todoService.addTodo(todo);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…¶ä»–æ–¹æ³•çœç•¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="6-è¿è¡Œåº”ç”¨"><a class="markdownIt-Anchor" href="#6-è¿è¡Œåº”ç”¨"></a> 6. è¿è¡Œåº”ç”¨</h4><p>è¿è¡Œåº”ç”¨åï¼Œä½ å¯ä»¥ä½¿ç”¨Postmanæˆ–curlæ¥æµ‹è¯•APIï¼š</p><ul><li>è·å–æ‰€æœ‰Todoï¼š<code>GET http://localhost:8080/todos</code></li><li>æ·»åŠ Todoï¼š<code>POST http://localhost:8080/todos</code>ï¼Œè¯·æ±‚ä½“ä¸ºJSONæ ¼å¼çš„Todoå¯¹è±¡ã€‚</li></ul><h3 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h3><p>Spring Bootç®€åŒ–äº†Springåº”ç”¨çš„åˆ›å»ºå’Œé…ç½®ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘ã€‚é€šè¿‡æœ¬æ–‡ï¼Œä½ å·²ç»å­¦ä¼šäº†å¦‚ä½•åˆ›å»ºä¸€ä¸ªç®€å•çš„Spring Bootåº”ç”¨ï¼Œå¹¶äº†è§£äº†ä¸€ä¸ªTodoåº”ç”¨çš„å®ç°ã€‚å¸Œæœ›è¿™èƒ½å¸®åŠ©ä½ å¿«é€Ÿä¸Šæ‰‹Spring Bootã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IntelliJ IDEA-Gradle-SpringBootæ­å»º</title>
      <link href="/2025/08/25/Springboot/IntelliJ%20IDEA-Gradle-SpringBoot%E6%90%AD%E5%BB%BA/"/>
      <url>/2025/08/25/Springboot/IntelliJ%20IDEA-Gradle-SpringBoot%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h3 id="å‰ææ¡ä»¶"><a class="markdownIt-Anchor" href="#å‰ææ¡ä»¶"></a> å‰ææ¡ä»¶</h3><p>JAVAå®‰è£…<br />Gradleå®‰è£…</p><h3 id="åˆ›å»ºé¡¹ç›®"><a class="markdownIt-Anchor" href="#åˆ›å»ºé¡¹ç›®"></a> åˆ›å»ºé¡¹ç›®</h3><p><img src="bf20a8e746a740ac3d0d29d4bc6d8d3f.png" alt="image.png" /></p><p><img src="6fff4b74fadc669f2e15d65b2aaf9ebb.png" alt="image.png" /></p><h3 id="é…ç½®é¡¹ç›®è®¾ç½®"><a class="markdownIt-Anchor" href="#é…ç½®é¡¹ç›®è®¾ç½®"></a> é…ç½®é¡¹ç›®è®¾ç½®</h3><p>æŒ‡å®šè‡ªå·±çš„gradleçš„å®‰è£…ä½ç½®,ä»¥åŠä»“åº“ä½ç½®(ç”¨æˆ·ä¸»ç›®å½•)</p><p><img src="ceccc52303970def2fbaadb8a19be33e.png" alt="image.png" /><br />ç”¨æˆ·ä¸»ç›®å½•: <strong>Gradleä»“åº“ç›®å½•</strong>ç”¨äºå­˜å‚¨å…¨å±€é…ç½®å±æ€§å’Œåˆå§‹åŒ–è„šæœ¬ä»¥åŠç¼“å­˜å’Œæ—¥å¿—æ–‡ä»¶ã€‚</p><h3 id="ç»“æ„"><a class="markdownIt-Anchor" href="#ç»“æ„"></a> ç»“æ„</h3><p><img src="93fddc578b35762a4b733fdca36a7e02.png" alt="image.png" /></p><h3 id="buildgradle"><a class="markdownIt-Anchor" href="#buildgradle"></a> build.gradle</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">plugins &#123;</span><br><span class="line">    id &#x27;java&#x27;</span><br><span class="line">    id &#x27;org.springframework.boot&#x27; version &#x27;2.7.7&#x27;</span><br><span class="line">    id &#x27;io.spring.dependency-management&#x27; version &#x27;1.0.15.RELEASE&#x27;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">group = &#x27;com.example&#x27;</span><br><span class="line">version = &#x27;0.0.1-SNAPSHOT&#x27;</span><br><span class="line">sourceCompatibility = &#x27;1.8&#x27;</span><br><span class="line"></span><br><span class="line">configurations &#123;</span><br><span class="line">    compileOnly &#123;</span><br><span class="line">        extendsFrom annotationProcessor</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">repositories &#123;</span><br><span class="line">    mavenLocal()</span><br><span class="line">    mavenCentral()</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dependencies &#123;</span><br><span class="line">    implementation &#x27;org.springframework.boot:spring-boot-starter-web&#x27;</span><br><span class="line">    implementation &#x27;org.mybatis.spring.boot:mybatis-spring-boot-starter:2.3.0&#x27;</span><br><span class="line">    compileOnly &#x27;org.projectlombok:lombok&#x27;</span><br><span class="line">    runtimeOnly &#x27;com.mysql:mysql-connector-j&#x27;</span><br><span class="line">    annotationProcessor &#x27;org.springframework.boot:spring-boot-configuration-processor&#x27;</span><br><span class="line">    annotationProcessor &#x27;org.projectlombok:lombok&#x27;</span><br><span class="line">    testImplementation &#x27;org.springframework.boot:spring-boot-starter-test&#x27;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">tasks.named(&#x27;test&#x27;) &#123;</span><br><span class="line">    useJUnitPlatform()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="0c16637b22aac3f0d63e7e323119cd1e.png" alt="image.png" /></p><h3 id="å…¶ä»–"><a class="markdownIt-Anchor" href="#å…¶ä»–"></a> å…¶ä»–</h3><blockquote><p>application.yml</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">9874</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://127.0.0.1:3306/demo?characterEncoding=utf8&amp;autoReconnect=true&amp;failOverReadOnly=false&amp;maxReconnects=10&amp;useSSL=false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="comment">#1.classpathï¼šåªä¼šåˆ°ä½ çš„classesè·¯å¾„ä¸­æŸ¥æ‰¾æ‰¾æ–‡ä»¶ã€‚</span></span><br><span class="line">  <span class="comment">#2.classpath*ï¼šä¸ä»…ä¼šåˆ°classesè·¯å¾„ï¼Œè¿˜åŒ…æ‹¬jaræ–‡ä»¶ä¸­(classesè·¯å¾„)è¿›è¡ŒæŸ¥æ‰¾ã€‚</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath*:/mapper/**/*Mapper.xml</span>    <span class="comment"># mapperæ˜ å°„æ–‡ä»¶ä½ç½®</span></span><br><span class="line">  <span class="attr">type-aliases-package:</span> <span class="string">com.**.entity</span>    <span class="comment"># å®ä½“ç±»æ‰€åœ¨çš„ä½ç½®</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span>   <span class="comment">#ç”¨äºæ§åˆ¶å°æ‰“å°sqlè¯­å¥</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span> <span class="comment">#å¼€å¯å°†å¸¦æœ‰ä¸‹åˆ’çº¿çš„è¡¨å­—æ®µ æ˜ å°„ä¸ºé©¼å³°æ ¼å¼çš„å®ä½“ç±»å±æ€§</span></span><br></pre></td></tr></table></figure><blockquote><p>UserMapper.xml</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span> <span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span>  <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>  <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å‘½åç©ºé—´ ç»‘å®š æ¥å£ç±»--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.example.gradledemo.dao.UserDao&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--æŸ¥è¯¢å…¨éƒ¨æ•°æ®æ¡æ•°--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;users&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.example.gradledemo.entity.UserEntity&quot;</span>&gt;</span></span><br><span class="line">    SELECT * FROM t_user limit 10</span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>UserDao</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.gradledemo.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.gradledemo.entity.UserEntity;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Select;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Update;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserDao</span> &#123;</span><br><span class="line">    <span class="meta">@Select(&quot;select count(*) from t_user&quot;)</span></span><br><span class="line">    String <span class="title function_">userCount</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    List&lt;UserEntity&gt; <span class="title function_">users</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Update(&quot;UPDATE t_user SET age=#&#123;add&#125; WHERE id=#&#123;id&#125;&quot;)</span></span><br><span class="line">    Integer <span class="title function_">upDateAge</span><span class="params">(<span class="type">int</span> add,<span class="type">int</span> id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;SELECT age  FROM t_user WHERE id=#&#123;id&#125;&quot;)</span></span><br><span class="line">    Integer <span class="title function_">getdateAge</span><span class="params">(<span class="type">int</span> id)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>UserEntity</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.gradledemo.entity;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserEntity</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> Integer sex;</span><br><span class="line">    <span class="keyword">private</span> Integer status;</span><br><span class="line">    <span class="keyword">private</span> Date creationTime;</span><br><span class="line">    <span class="keyword">private</span> String site;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>UserController</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.gradledemo.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.gradledemo.dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> com.example.gradledemo.entity.UserEntity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.ResponseEntity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;/user&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;List&lt;UserEntity&gt;&gt; <span class="title function_">getUser</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok(userDao.users()) ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>GradleDemoApplication</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.gradledemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GradleDemoApplication</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(GradleDemoApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gradle å®‰è£…å’Œä¸‹è½½</title>
      <link href="/2025/08/25/Springboot/Gradle%20%E5%AE%89%E8%A3%85%E5%92%8C%E4%B8%8B%E8%BD%BD/"/>
      <url>/2025/08/25/Springboot/Gradle%20%E5%AE%89%E8%A3%85%E5%92%8C%E4%B8%8B%E8%BD%BD/</url>
      
        <content type="html"><![CDATA[<h2 id="1-gradleå®‰è£…è¯´æ˜"><a class="markdownIt-Anchor" href="#1-gradleå®‰è£…è¯´æ˜"></a> 1. Gradleå®‰è£…è¯´æ˜</h2><ul><li>SpringBoot å®˜æ–¹æ–‡æ¡£æ˜ç¡®æŒ‡å‡º,ç›®å‰SpringBootçš„Gradleæ’ä»¶éœ€è¦gradle6.8ç‰ˆæœ¬åŠä»¥ä¸Šã€‚</li><li>å…¶ä¸­SpringBootä¸Gradleå­˜åœ¨ç‰ˆæœ¬å…¼å®¹é—®é¢˜ï¼ŒGradleä¸Ideaä¹Ÿå­˜åœ¨å…¼å®¹é—®é¢˜ï¼Œ<br />æ‰€ä»¥è¦é€‰æ‹©6.8ç‰ˆæœ¬åŠé«˜äº6.8ç‰ˆæœ¬çš„Gradlï¼Œé‚£ä¹ˆç›¸åº”çš„ideaç‰ˆæœ¬ä¹Ÿè¦å‡çº§ï¼Œä¸èƒ½å¤ªè€ã€‚</li></ul><h2 id="2-å®‰è£…jdk"><a class="markdownIt-Anchor" href="#2-å®‰è£…jdk"></a> 2. å®‰è£…JDK</h2><p>JDKï¼ˆJava SE Development Kitï¼‰å»ºè®®ä½¿ç”¨17åŠä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œå…¶å®˜æ–¹ä¸‹è½½è·¯å¾„ä¸ºï¼š<br /><a href="https://www.oracle.com/java/technologies/downloads/#java17">https://www.oracle.com/java/technologies/downloads/#java17</a></p><h2 id="3-gradle-ä¸‹è½½"><a class="markdownIt-Anchor" href="#3-gradle-ä¸‹è½½"></a> 3. Gradle ä¸‹è½½</h2><p><a href="https://gradle.org/releases/">https://gradle.org/releases/</a></p><p>ä¸‹è½½äºŒè¿›åˆ¶åŒ…</p><p><img src="4fcfe740e4704d31b12c9cd7ca46c0d9.png" alt="" /></p><ul><li>é…ç½®ç¯å¢ƒå˜é‡</li></ul><p><img src="2e582181d62c4cc2847abc0990b557df.png" alt="" /></p><ul><li>ç‰¹åˆ«æ³¨æ„ï¼šè¿™é‡Œå†é…ç½®ä¸€ä¸ª<code>GRALE_USER_HOME</code>ç¯å¢ƒå˜é‡ï¼Œ <code>GRALE_USER_HOME</code>ç›¸å½“äºé…ç½®Gradleæœ¬åœ°ä»“åº“ä½ç½®å’ŒGradleWrapperç¼“å­˜ç›®å½•ã€‚</li></ul><p><img src="3914e3cd71fd4c9aaf0e3ef6475a4114.png" alt="" /></p><p><img src="899ff281d7994db5b281a9c0b3391f5d.png" alt="" /></p><ul><li>æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ</li></ul><p><img src="2fffdd1cacfd4ad5999765b42f8b58de.png" alt="" /></p><ul><li>gradle ä»“åº“å¯ä»¥å’Œæœ¬åœ°çš„ Mavenä»“åº“æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ï¼Œå»ºè®®æ”¾åœ¨ä¸åŒçš„ç›®å½•ä¸‹</li></ul><h2 id="4-gradle-é¡¹ç›®ç›®å½•ç»“æ„"><a class="markdownIt-Anchor" href="#4-gradle-é¡¹ç›®ç›®å½•ç»“æ„"></a> 4. Gradle é¡¹ç›®ç›®å½•ç»“æ„</h2><ul><li>Gradle é¡¹ç›®é»˜è®¤ç›®å½•ç»“æ„å’ŒMavené¡¹ç›®çš„ç›®å½•ç»“æ„ä¸€è‡´,éƒ½æ˜¯åŸºäºçº¦å®šå¤§äºé…ç½®ã€ConventionOverConfigurationã€‘ã€‚</li><li>å…¶å®Œæ•´é¡¹ç›®ç›®å½•ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š</li></ul><p><img src="400f3a01323e4794aab1caac4af2aca1.png" alt="" /></p><p>Tips:</p><ol><li>åªæœ‰warå·¥ç¨‹æ‰æœ‰webappç›®å½•ï¼Œå¯¹äºæ™®é€šçš„jarå·¥ç¨‹å¹¶æ²¡æœ‰webappç›®å½•</li><li>gradlewä¸gradlew.batæ‰§è¡Œçš„æŒ‡å®šwrapperç‰ˆæœ¬ä¸­çš„gradleæŒ‡ä»¤,ä¸æ˜¯æœ¬åœ°å®‰è£…çš„gradleæŒ‡ä»¤ã€‚</li></ol><h2 id="5-gradle-åˆ›å»ºç¬¬ä¸€ä¸ªé¡¹ç›®"><a class="markdownIt-Anchor" href="#5-gradle-åˆ›å»ºç¬¬ä¸€ä¸ªé¡¹ç›®"></a> 5. Gradle åˆ›å»ºç¬¬ä¸€ä¸ªé¡¹ç›®</h2><ul><li>å€ŸåŠ©äºspringè„šæ‰‹æ¶åˆ›å»ºgradleç¬¬ä¸€ä¸ªé¡¹ç›®ï¼š<a href="https://start.spring.io">https://start.spring.io</a></li></ul><p><img src="afe959d75d5345b39ffe59b31f5400fd.png" alt="" /></p><ul><li>æŸ¥çœ‹ç”Ÿæˆçš„gradleé¡¹ç›®ç›®å½•ç»“æ„å¦‚ä¸‹æ‰€ç¤º:</li></ul><p><img src="58a84df098fa4ac69db15022514d42af.png" alt="" /></p><h2 id="6-gradle-ä¸­çš„å¸¸ç”¨æŒ‡ä»¤"><a class="markdownIt-Anchor" href="#6-gradle-ä¸­çš„å¸¸ç”¨æŒ‡ä»¤"></a> 6. Gradle ä¸­çš„å¸¸ç”¨æŒ‡ä»¤</h2><p><img src="feed05f0fc5a40a28955d99bf134e02b.png" alt="" /></p><ul><li>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šgradleçš„æŒ‡ä»¤è¦åœ¨å«æœ‰<code>build.gradle</code>çš„ç›®å½•æ‰§è¡Œã€‚</li></ul><h2 id="7-ä¿®æ”¹mavenä¸‹è½½æº"><a class="markdownIt-Anchor" href="#7-ä¿®æ”¹mavenä¸‹è½½æº"></a> 7. ä¿®æ”¹mavenä¸‹è½½æº</h2><ul><li>Gradleè‡ªå¸¦çš„Mavenæºåœ°å€æ˜¯å›½å¤–çš„ï¼Œè¯¥Mavenæºåœ¨å›½å†…çš„è®¿é—®é€Ÿåº¦æ˜¯å¾ˆæ…¢çš„ï¼Œé™¤éä½¿ç”¨äº†ç‰¹åˆ«çš„æ‰‹æ®µã€‚ä¸€èˆ¬æƒ…å†µä¸‹å»ºè®®ä½¿ç”¨å›½å†…çš„ç¬¬ä¸‰æ–¹å¼€æ”¾çš„Mavenæºæˆ–ä¼ä¸šå†…éƒ¨è‡ªå»ºMavenæºã€‚</li></ul><p>è®¤è¯†init.dæ–‡ä»¶å¤¹</p><ul><li>å¯ä»¥åœ¨gradleçš„init.dç›®å½•ä¸‹åˆ›å»ºä»¥.gradleç»“å°¾çš„æ–‡ä»¶ï¼Œ<code>.gradle</code>æ–‡ä»¶å¯ä»¥å®ç°åœ¨buildå¼€å§‹ä¹‹å‰æ‰§è¡Œï¼Œæ‰€ä»¥å¯ä»¥åœ¨è¿™ä¸ªæ–‡ä»¶é…ç½®ä¸€äº›ä½ æƒ³é¢„å…ˆåŠ è½½çš„æ“ä½œã€‚</li></ul><p>åœ¨<code>init.d</code>æ–‡ä»¶å¤¹åˆ›å»º<code>init.gradle</code>æ–‡ä»¶</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">allprojects&#123;</span><br><span class="line">repositories&#123;</span><br><span class="line">mavenLocal()</span><br><span class="line">maven&#123;name&quot;Alibaba&quot;;url&quot;https://maven.aliyun.com/repository/public&quot;&#125;</span><br><span class="line">maven&#123;name&quot;Bstek&quot;;url&quot;https://nexus.bsdn.org/content/groups/public/&quot;&#125;</span><br><span class="line">mavenCentral()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">buildscript&#123;</span><br><span class="line">repositories&#123;</span><br><span class="line">maven&#123;name&quot;Alibaba&quot;;url &#x27;https://maven.aliyun.com/repository/public&#x27;&#125;</span><br><span class="line">maven&#123;name&quot;Bstek&quot;;url &#x27;https://nexus.bsdn.org/content/groups/public/&#x27;&#125;</span><br><span class="line">maven&#123;name&quot;M2&quot;;url &#x27;https://plugins.gradle.org/m2/&#x27;&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ‹“å±•1ï¼šå¯ç”¨init.gradleæ–‡ä»¶çš„æ–¹æ³•æœ‰ï¼š</li></ul><ol><li>åœ¨å‘½ä»¤è¡ŒæŒ‡å®šæ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š<code>gradle--init-script yourdir/init.gradle -q taskName</code>ã€‚å¯ä»¥å¤šæ¬¡è¾“å…¥æ­¤å‘½ä»¤æ¥æŒ‡å®šå¤šä¸ª<code>init</code>æ–‡ä»¶</li><li>æŠŠ<code>init.gradle</code>æ–‡ä»¶æ”¾åˆ°<code>USER_HOME/.gradle/</code>ç›®å½•ä¸‹</li><li>æŠŠä»¥<code>.gradle</code>ç»“å°¾çš„æ–‡ä»¶æ”¾åˆ°<code>USER_HOME/.gradle/init.d/</code>ç›®å½•ä¸‹</li><li>æŠŠä»¥<code>.gradle</code>ç»“å°¾çš„æ–‡ä»¶æ”¾åˆ°<code>GRADLE_HOME/init.d/</code>ç›®å½•ä¸‹<br />å¦‚æœå­˜åœ¨ä¸Šé¢çš„4ç§æ–¹å¼çš„2ç§ä»¥ä¸Šï¼Œgradleä¼šæŒ‰ä¸Šé¢çš„1-4åºå·ä¾æ¬¡æ‰§è¡Œè¿™äº›æ–‡ä»¶ï¼Œå¦‚æœç»™å®šç›®å½•ä¸‹å­˜åœ¨å¤šä¸ªinitè„šæœ¬ï¼Œä¼šæŒ‰æ‹¼éŸ³a-zé¡ºåºæ‰§è¡Œè¿™äº›è„šæœ¬ï¼Œæ¯ä¸ªinitè„šæœ¬éƒ½å­˜åœ¨ä¸€ä¸ªå¯¹åº”çš„gradleå®ä¾‹ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­è°ƒç”¨çš„æ‰€æœ‰æ–¹æ³•å’Œå±æ€§ï¼Œéƒ½ä¼šå§”æ‰˜ç»™è¿™ä¸ªgradleå®ä¾‹ï¼Œæ¯ä¸ªinitè„šæœ¬éƒ½å®ç°äº†Scriptæ¥å£ã€‚</li></ol><ul><li>æ‹“å±•2ï¼šä»“åº“åœ°å€è¯´æ˜</li></ul><ol><li><p><code>mavenLocal()</code>:æŒ‡å®šä½¿ç”¨mavenæœ¬åœ°ä»“åº“ï¼Œè€Œæœ¬åœ°ä»“åº“åœ¨é…ç½®mavenæ—¶settingsæ–‡ä»¶æŒ‡å®šçš„ä»“åº“ä½ç½®ã€‚å¦‚<code>E:/repository</code>ï¼Œ</p></li><li><p>gradleæŸ¥æ‰¾jaråŒ…é¡ºåºå¦‚ä¸‹ï¼š<code>USER_HOME/.m2/settings.xml&gt;&gt;M2_HOME/conf/settings.xml&gt;&gt;USER_HOME/.m2/repository</code></p><p>maven{urlåœ°å€}ï¼ŒæŒ‡å®šmavenä»“åº“ï¼Œä¸€èˆ¬ç”¨ç§æœ‰ä»“åº“åœ°å€æˆ–å…¶å®ƒçš„ç¬¬ä¸‰æ–¹åº“ã€æ¯”å¦‚é˜¿é‡Œé•œåƒä»“åº“åœ°å€ã€‘ã€‚<br />mavenCentral()ï¼šè¿™æ˜¯Mavençš„ä¸­å¤®ä»“åº“ï¼Œæ— éœ€é…ç½®ï¼Œç›´æ¥å£°æ˜å°±å¯ä»¥ä½¿ç”¨ã€‚<br />jcenter():JCenterä¸­å¤®ä»“åº“ï¼Œå®é™…ä¹Ÿæ˜¯æ˜¯ç”¨çš„mavenæ­å»ºçš„ï¼Œä½†ç›¸æ¯”Mavenä»“åº“æ›´å‹å¥½ï¼Œé€šè¿‡CDNåˆ†å‘ï¼Œå¹¶ä¸”æ”¯æŒhttpsè®¿<br />é—®ï¼Œåœ¨æ–°ç‰ˆæœ¬ä¸­å·²ç»åºŸå¼ƒäº†ï¼Œæ›¿æ¢ä¸ºäº†mavenCentral()ã€‚</p></li></ol><blockquote><p>æ€»ä¹‹ï¼Œgradleå¯ä»¥é€šè¿‡æŒ‡å®šä»“åº“åœ°å€ä¸ºæœ¬åœ°mavenä»“åº“åœ°å€å’Œè¿œç¨‹ä»“åº“åœ°å€ç›¸ç»“åˆçš„æ–¹å¼ï¼Œé¿å…æ¯æ¬¡éƒ½ä¼šå»è¿œç¨‹ä»“åº“ä¸‹è½½ä¾èµ–åº“ã€‚è¿™ç§æ–¹å¼ä¹Ÿæœ‰ä¸€å®šçš„é—®é¢˜ï¼Œå¦‚æœæœ¬åœ°mavenä»“åº“æœ‰è¿™ä¸ªä¾èµ–ï¼Œå°±ä¼šä»ç›´æ¥åŠ è½½æœ¬åœ°ä¾èµ–ï¼Œå¦‚æœæœ¬åœ°ä»“åº“æ²¡æœ‰è¯¥<br />ä¾èµ–ï¼Œé‚£ä¹ˆè¿˜æ˜¯ä¼šä»è¿œç¨‹ä¸‹è½½ã€‚ä½†æ˜¯ä¸‹è½½çš„jarä¸æ˜¯å­˜å‚¨åœ¨æœ¬åœ°mavenä»“åº“ä¸­ï¼Œè€Œæ˜¯æ”¾åœ¨è‡ªå·±çš„ç¼“å­˜ç›®å½•ä¸­ï¼Œé»˜è®¤åœ¨<code>USER_HOME/.gradle/caches</code>ç›®å½•ï¼Œå½“ç„¶å¦‚æœæˆ‘ä»¬é…ç½®è¿‡<code>GRADLE_USER_HOME</code>ç¯å¢ƒå˜é‡ï¼Œåˆ™ä¼šæ”¾åœ¨<code>GRADLE_USER_HOME/caches</code>ç›®å½•ï¼Œé‚£ä¹ˆå¯ä¸å¯ä»¥å°†<code>gradle caches</code>æŒ‡å‘<code>mavenrepository</code>ã€‚æˆ‘ä»¬è¯´è¿™æ˜¯ä¸è¡Œçš„ï¼Œcachesä¸‹è½½<br />æ–‡ä»¶ä¸æ˜¯æŒ‰ç…§mavenä»“åº“ä¸­å­˜æ”¾çš„æ–¹å¼ã€‚</p></blockquote><ul><li>æ‹“å±•3ï¼šé˜¿é‡Œäº‘ä»“åº“åœ°å€è¯·å‚è€ƒï¼š<a href="https://developer.aliyun.com/mvn/guide">https://developer.aliyun.com/mvn/guide</a></li></ul><blockquote><p>åœ¨gradle ä¸­çš„ä½¿ç”¨è¯´æ˜ï¼š</p></blockquote><p><img src="4bbfd15ee99148d19f67091d297e08eb.png" alt="" /></p><h2 id="8-wrapper-åŒ…è£…å™¨"><a class="markdownIt-Anchor" href="#8-wrapper-åŒ…è£…å™¨"></a> 8. Wrapper åŒ…è£…å™¨</h2><ul><li><p>Gradle Wrapper å®é™…ä¸Šå°±æ˜¯å¯¹Gradleçš„ä¸€å±‚åŒ…è£…ï¼Œç”¨äºè§£å†³å®é™…å¼€å‘ä¸­å¯èƒ½ä¼šé‡åˆ°çš„ä¸åŒçš„é¡¹ç›®éœ€è¦ä¸åŒç‰ˆæœ¬çš„Gradleé—®é¢˜ã€‚ä¾‹å¦‚ï¼šæŠŠè‡ªå·±çš„ä»£ç å…±äº«ç»™å…¶ä»–äººä½¿ç”¨ï¼Œå¯èƒ½å‡ºç°å¦‚ä¸‹æƒ…å†µ:</p><p>1.å¯¹æ–¹ç”µè„‘æ²¡æœ‰å®‰è£… gradle<br />2.å¯¹æ–¹ç”µè„‘å®‰è£…è¿‡ gradleï¼Œä½†æ˜¯ç‰ˆæœ¬å¤ªæ—§äº†</p></li><li><p>è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘ä½¿ç”¨<code>Gradle Wrapper</code>äº†ã€‚è¿™ä¹Ÿæ˜¯å®˜æ–¹å»ºè®®ä½¿ç”¨<code>Gradle Wrapper</code>çš„åŸå› ã€‚å®é™…ä¸Šæœ‰äº†<code>Gradle Wrapper</code> ä¹‹åï¼Œæˆ‘ä»¬æœ¬åœ°æ˜¯å¯ä»¥ä¸é…ç½®Gradleçš„ï¼Œä¸‹è½½Gradleé¡¹ç›®åï¼Œä½¿ç”¨gradleé¡¹ç›®è‡ªå¸¦çš„wrapperæ“ä½œä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p></li><li><p>é‚£å¦‚ä½•ä½¿ç”¨GradleWrapperå‘¢ï¼Ÿ</p></li></ul><blockquote><p>é¡¹ç›®ä¸­çš„gradlewã€gradlew.cmdè„šæœ¬ç”¨çš„å°±æ˜¯wrapperä¸­è§„å®šçš„gradleç‰ˆæœ¬ã€‚å‚è§æºç <br />è€Œæˆ‘ä»¬ä¸Šé¢æåˆ°çš„gradleæŒ‡ä»¤ç”¨çš„æ˜¯æœ¬åœ°gradleï¼Œæ‰€ä»¥gradleæŒ‡ä»¤å’ŒgradlewæŒ‡ä»¤æ‰€ä½¿ç”¨çš„gradleç‰ˆæœ¬æœ‰å¯èƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚<br />gradlewã€gradlew.cmdçš„ä½¿ç”¨æ–¹å¼ä¸gradleä½¿ç”¨æ–¹å¼å®Œå…¨ä¸€è‡´ï¼Œåªä¸è¿‡æŠŠgradleæŒ‡ä»¤æ¢æˆäº†gradlewæŒ‡ä»¤ã€‚</p></blockquote><ul><li>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯åœ¨ç»ˆç«¯æ‰§è¡Œ <code>gradlew</code> æŒ‡ä»¤æ—¶ï¼ŒæŒ‡å®šæŒ‡å®šä¸€äº›å‚æ•°ï¼Œæ¥æ§åˆ¶<code>Wrapper</code>çš„ç”Ÿæˆï¼Œæ¯”å¦‚ä¾èµ–çš„ç‰ˆæœ¬ç­‰ï¼Œå¦‚ä¸‹ï¼š</li></ul><p><img src="a0bfc4b91b4744d4b03986f0b6f15f53.png" alt="" /></p><ul><li>å…·ä½“æ“ä½œå¦‚ä¸‹æ‰€ç¤º ï¼š<br />1ã€<code>gradle wrapper--gradle-version=4.4</code>ï¼šå‡çº§wrapperç‰ˆæœ¬å·ï¼Œåªæ˜¯ä¿®æ”¹<code>gradle.properties</code>ä¸­<code>wrapper</code>ç‰ˆæœ¬ï¼Œæœªå®é™…ä¸‹è½½<br />2ã€<code>gradle wrapper--gradle-version 5.2.1--distribution-type all</code> ï¼šå…³è”æºç ç”¨</li></ul><p><strong>GradleWrapperçš„æ‰§è¡Œæµç¨‹ï¼š</strong></p><ol><li>å½“æˆ‘ä»¬ç¬¬ä¸€æ¬¡æ‰§è¡Œ <code>./gradlewbuild</code> å‘½ä»¤çš„æ—¶å€™ï¼Œ<code>gradlew</code> ä¼šè¯»å– <code>gradle-wrapper.properties</code> æ–‡ä»¶çš„é…ç½®ä¿¡æ¯</li><li>å‡†ç¡®çš„å°†æŒ‡å®šç‰ˆæœ¬çš„ <code>gradle</code> ä¸‹è½½å¹¶è§£å‹åˆ°æŒ‡å®šçš„ä½ç½®(<code>GRADLE_USER_HOME</code>ç›®å½•ä¸‹çš„<code>wrapper/dists</code>ç›®å½•ä¸­)</li><li>å¹¶æ„å»ºæœ¬åœ°ç¼“å­˜(<code>GRADLE_USER_HOME</code>ç›®å½•ä¸‹çš„<code>caches</code>ç›®å½•ä¸­)ï¼Œä¸‹è½½å†ä½¿ç”¨ç›¸åŒç‰ˆæœ¬çš„<code>gradle</code>å°±ä¸ç”¨ä¸‹è½½äº†</li><li>ä¹‹åæ‰§è¡Œçš„ <code>./gradlew</code> æ‰€æœ‰å‘½ä»¤éƒ½æ˜¯ä½¿ç”¨æŒ‡å®šçš„ <code>gradle</code> ç‰ˆæœ¬ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</li></ol><p><img src="46dc09f055c64badbc1cece4707dca2c.png" alt="" /></p><p><code>gradle-wrapper.properties</code> æ–‡ä»¶è§£è¯»ï¼š</p><p><img src="1b69c93804164cbf8f2f1a7d0dd035be.png" alt="" /><br />æ³¨æ„ï¼šå‰é¢æåˆ°çš„<code>GRALE_USER_HOME</code>ç¯å¢ƒå˜é‡ç”¨äºè¿™é‡Œçš„<code>Gradle Wrapper</code>ä¸‹è½½çš„ç‰¹å®šç‰ˆæœ¬çš„gradleå­˜å‚¨ç›®å½•ã€‚å¦‚æœæˆ‘ä»¬æ²¡æœ‰é…ç½®è¿‡<code>GRALE_USER_HOME</code>ç¯å¢ƒå˜é‡ï¼Œé»˜è®¤åœ¨å½“å‰ç”¨æˆ·å®¶ç›®å½•ä¸‹çš„<code>.gradle</code>æ–‡ä»¶å¤¹ä¸­</p><p><strong>é‚£ä»€ä¹ˆæ—¶å€™é€‰æ‹©ä½¿ç”¨gradlewrapperã€ä»€ä¹ˆæ—¶å€™é€‰æ‹©ä½¿ç”¨æœ¬åœ°gradle?</strong></p><ul><li>ä¸‹è½½åˆ«äººçš„é¡¹ç›®æˆ–è€…ä½¿ç”¨æ“ä½œä»¥å‰è‡ªå·±å†™çš„ä¸åŒç‰ˆæœ¬çš„gradleé¡¹ç›®æ—¶ï¼šç”¨<code>Gradle wrapper</code>ï¼Œä¹Ÿå³ï¼š<code>gradlew</code></li><li>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨æœ¬åœ°<code>gradle</code>ï¼Ÿæ–°å»ºä¸€ä¸ªé¡¹ç›®æ—¶: ä½¿ç”¨<code>gradle</code>æŒ‡ä»¤å³å¯</li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot éƒ¨ç½²ä¸æ‰“åŒ…æ–¹å¼è¯¦è§£ï¼ˆJar vs Warï¼‰</title>
      <link href="/2025/08/25/Springboot/Spring%20Boot%20%E9%83%A8%E7%BD%B2%E4%B8%8E%E6%89%93%E5%8C%85%E6%96%B9%E5%BC%8F%E8%AF%A6%E8%A7%A3%EF%BC%88Jar%20vs%20War%EF%BC%89/"/>
      <url>/2025/08/25/Springboot/Spring%20Boot%20%E9%83%A8%E7%BD%B2%E4%B8%8E%E6%89%93%E5%8C%85%E6%96%B9%E5%BC%8F%E8%AF%A6%E8%A7%A3%EF%BC%88Jar%20vs%20War%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p>Spring Boot æä¾›äº†çµæ´»çš„æ‰“åŒ…é€‰é¡¹ï¼Œæ”¯æŒä¸¤ç§ä¸»è¦éƒ¨ç½²æ–¹å¼ï¼š<strong>å¯æ‰§è¡Œ JAR</strong> å’Œ <strong>ä¼ ç»Ÿ WAR</strong>ã€‚ä»¥ä¸‹æ˜¯å…¨é¢çš„å¯¹æ¯”ä¸å®è·µæŒ‡å—ï¼Œå¸®åŠ©ä½ æ ¹æ®é¡¹ç›®éœ€æ±‚é€‰æ‹©æœ€é€‚åˆçš„éƒ¨ç½²æ–¹æ¡ˆã€‚</p><hr /><h3 id="ä¸€-æ‰“åŒ…æ–¹å¼å¯¹æ¯”"><a class="markdownIt-Anchor" href="#ä¸€-æ‰“åŒ…æ–¹å¼å¯¹æ¯”"></a> ğŸ“¦ ä¸€ã€æ‰“åŒ…æ–¹å¼å¯¹æ¯”</h3><table><thead><tr><th><strong>ç‰¹æ€§</strong></th><th><strong>å¯æ‰§è¡Œ JAR (é»˜è®¤)</strong></th><th><strong>ä¼ ç»Ÿ WAR</strong></th></tr></thead><tbody><tr><td><strong>å¯åŠ¨æ–¹å¼</strong></td><td><code>java -jar app.jar</code></td><td>éƒ¨ç½²åˆ°å¤–éƒ¨ Servlet å®¹å™¨ (å¦‚ Tomcat)</td></tr><tr><td><strong>å†…åµŒæœåŠ¡å™¨</strong></td><td>âœ… åŒ…å« Tomcat/Jetty/Undertow</td><td>âŒ éœ€å¤–éƒ¨å®¹å™¨</td></tr><tr><td><strong>éƒ¨ç½²å¤æ‚åº¦</strong></td><td>â­ æç®€ (å•æ–‡ä»¶éƒ¨ç½²)</td><td>â­â­â­ éœ€å®¹å™¨ç¯å¢ƒ</td></tr><tr><td><strong>ä¾èµ–ç®¡ç†</strong></td><td>æ‰€æœ‰ä¾èµ–æ‰“åŒ…è¿›å•ä¸ª FAT JAR</td><td>ä¾èµ–ç”±å®¹å™¨ç®¡ç† (éƒ¨åˆ†ä¾èµ–å¯æ‰“åŒ…è¿› WAR)</td></tr><tr><td><strong>çƒ­æ›´æ–°</strong></td><td>éœ€ç¬¬ä¸‰æ–¹å·¥å…· (JRebel)</td><td>æ”¯æŒå®¹å™¨çº§çƒ­éƒ¨ç½²</td></tr><tr><td><strong>ç”Ÿäº§é€‚ç”¨åœºæ™¯</strong></td><td>å¾®æœåŠ¡/äº‘åŸç”Ÿç¯å¢ƒ</td><td>ä¼ ç»Ÿä¼ä¸šçº§åº”ç”¨æœåŠ¡å™¨ç¯å¢ƒ</td></tr><tr><td><strong>æ–‡ä»¶å¤§å°</strong></td><td>è¾ƒå¤§ (åŒ…å«å†…åµŒå®¹å™¨)</td><td>è¾ƒå° (ä»…åº”ç”¨ä»£ç )</td></tr></tbody></table><hr /><h3 id="ï¸-äºŒ-jar-æ‰“åŒ…éƒ¨ç½²-é»˜è®¤æ–¹å¼"><a class="markdownIt-Anchor" href="#ï¸-äºŒ-jar-æ‰“åŒ…éƒ¨ç½²-é»˜è®¤æ–¹å¼"></a> ğŸ› ï¸ äºŒã€JAR æ‰“åŒ…éƒ¨ç½² (é»˜è®¤æ–¹å¼)</h3><h4 id="1-æ‰“åŒ…é…ç½®-maven"><a class="markdownIt-Anchor" href="#1-æ‰“åŒ…é…ç½®-maven"></a> 1. æ‰“åŒ…é…ç½® (Maven)</h4><p>ç¡®ä¿ä½ çš„ <code>pom.xml</code> æ–‡ä»¶ä¸­æœ‰å¦‚ä¸‹æ’ä»¶é…ç½®ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-æ‰“åŒ…å‘½ä»¤"><a class="markdownIt-Anchor" href="#2-æ‰“åŒ…å‘½ä»¤"></a> 2. æ‰“åŒ…å‘½ä»¤</h4><p>ä½¿ç”¨ Maven è¿›è¡Œæ„å»ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mvn clean package</span><br><span class="line"><span class="comment"># ç”Ÿæˆ target/appname-0.0.1-SNAPSHOT.jar</span></span><br></pre></td></tr></table></figure><h4 id="3-è¿è¡Œæ–¹å¼"><a class="markdownIt-Anchor" href="#3-è¿è¡Œæ–¹å¼"></a> 3. è¿è¡Œæ–¹å¼</h4><p>å¯ä»¥é‡‡ç”¨å¤šç§æ–¹å¼è¿è¡Œ JAR æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ‡å‡†å¯åŠ¨</span></span><br><span class="line">java -jar app.jar</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¸¦é…ç½®æ–‡ä»¶å¯åŠ¨</span></span><br><span class="line">java -jar -Dspring.profiles.active=prod app.jar</span><br><span class="line"></span><br><span class="line"><span class="comment"># å†…å­˜é™åˆ¶å¯åŠ¨</span></span><br><span class="line">java -Xms512m -Xmx1024m -jar app.jar</span><br></pre></td></tr></table></figure><h4 id="4-ç”Ÿäº§ç¯å¢ƒå¢å¼º"><a class="markdownIt-Anchor" href="#4-ç”Ÿäº§ç¯å¢ƒå¢å¼º"></a> 4. ç”Ÿäº§ç¯å¢ƒå¢å¼º</h4><p>ä¸ºäº†æ›´å¥½åœ°é€‚åº”ç”Ÿäº§ç¯å¢ƒï¼Œä½ å¯ä»¥é‡‡å–ä»¥ä¸‹æªæ–½ï¼š</p><ul><li><strong>ç³»ç»ŸæœåŠ¡åŒ– (Systemd)</strong>:</li></ul><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Spring Boot Service</span><br><span class="line">After=syslog.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">User=appuser</span><br><span class="line">ExecStart=/usr/bin/java -jar /opt/app/app.jar</span><br><span class="line">SuccessExitStatus=143</span><br></pre></td></tr></table></figure><ul><li><strong>å¯åŠ¨è„šæœ¬å°è£… (å¸¦æ—¥å¿—åˆ†å‰²)</strong>:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nohup</span> java -jar app.jar &gt; app.log 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure><hr /><h3 id="ä¸‰-war-æ‰“åŒ…éƒ¨ç½²-ä¼ ç»Ÿæ–¹å¼"><a class="markdownIt-Anchor" href="#ä¸‰-war-æ‰“åŒ…éƒ¨ç½²-ä¼ ç»Ÿæ–¹å¼"></a> ğŸ§© ä¸‰ã€WAR æ‰“åŒ…éƒ¨ç½² (ä¼ ç»Ÿæ–¹å¼)</h3><h4 id="1-ä¿®æ”¹æ‰“åŒ…ç±»å‹"><a class="markdownIt-Anchor" href="#1-ä¿®æ”¹æ‰“åŒ…ç±»å‹"></a> 1. ä¿®æ”¹æ‰“åŒ…ç±»å‹</h4><p>é¦–å…ˆï¼Œåœ¨ <code>pom.xml</code> ä¸­å°† <code>&lt;packaging&gt;</code> ä¿®æ”¹ä¸º <code>war</code>ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-æ’é™¤å†…åµŒå®¹å™¨-tomcat"><a class="markdownIt-Anchor" href="#2-æ’é™¤å†…åµŒå®¹å™¨-tomcat"></a> 2. æ’é™¤å†…åµŒå®¹å™¨ (<a href="https://so.csdn.net/so/search?q=Tomcat&amp;spm=1001.2101.3001.7020">Tomcat</a>)</h4><p>ç”±äº WAR æ–‡ä»¶éœ€è¦éƒ¨ç½²åˆ°å¤–éƒ¨å®¹å™¨ä¸­ï¼Œå› æ­¤éœ€è¦æ’é™¤å†…ç½®çš„ Tomcatï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-tomcat<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-åˆå§‹åŒ–-servlet-å…¥å£"><a class="markdownIt-Anchor" href="#3-åˆå§‹åŒ–-servlet-å…¥å£"></a> 3. åˆå§‹åŒ– Servlet å…¥å£</h4><p>ä¿®æ”¹ä¸»ç±»ä»¥ç»§æ‰¿ <code>SpringBootServletInitializer</code>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Application</span> <span class="keyword">extends</span> <span class="title class_">SpringBootServletInitializer</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> SpringApplicationBuilder <span class="title function_">configure</span><span class="params">(SpringApplicationBuilder builder)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> builder.sources(Application.class);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(Application.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-æ„å»ºä¸éƒ¨ç½²"><a class="markdownIt-Anchor" href="#4-æ„å»ºä¸éƒ¨ç½²"></a> 4. æ„å»ºä¸éƒ¨ç½²</h4><p>å®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œæ‰§è¡Œæ‰“åŒ…å‘½ä»¤å¹¶éƒ¨ç½²åˆ° Tomcatï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mvn clean package</span><br><span class="line"><span class="comment"># ç”Ÿæˆ target/appname-0.0.1-SNAPSHOT.war</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># éƒ¨ç½²åˆ° Tomcat</span></span><br><span class="line"><span class="built_in">cp</span> target/app.war <span class="variable">$TOMCAT_HOME</span>/webapps/</span><br></pre></td></tr></table></figure><hr /><h3 id="ï¸-å››-äº‘åŸç”Ÿéƒ¨ç½²æœ€ä½³å®è·µ"><a class="markdownIt-Anchor" href="#ï¸-å››-äº‘åŸç”Ÿéƒ¨ç½²æœ€ä½³å®è·µ"></a> â˜ï¸ å››ã€äº‘åŸç”Ÿéƒ¨ç½²æœ€ä½³å®è·µ</h3><h4 id="1-docker-å®¹å™¨åŒ–éƒ¨ç½²-jar-æ–¹å¼"><a class="markdownIt-Anchor" href="#1-docker-å®¹å™¨åŒ–éƒ¨ç½²-jar-æ–¹å¼"></a> 1. Docker å®¹å™¨åŒ–éƒ¨ç½² (JAR æ–¹å¼)</h4><p>ç¼–å†™ Dockerfile æ¥åˆ›å»ºé•œåƒï¼š</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> eclipse-temurin:<span class="number">17</span>-jre</span><br><span class="line"><span class="keyword">VOLUME</span><span class="language-bash"> /tmp</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> target/*.jar app.jar</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="language-bash"> [<span class="string">&quot;java&quot;</span>,<span class="string">&quot;-jar&quot;</span>,<span class="string">&quot;/app.jar&quot;</span>]</span></span><br></pre></td></tr></table></figure><p>ç„¶åæ„å»ºå’Œè¿è¡Œ Docker é•œåƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker build -t myapp:1.0 .</span><br><span class="line">docker run -d -p 8080:8080 myapp:1.0</span><br></pre></td></tr></table></figure><h4 id="2-å¤šé˜¶æ®µæ„å»ºä¼˜åŒ–é•œåƒ"><a class="markdownIt-Anchor" href="#2-å¤šé˜¶æ®µæ„å»ºä¼˜åŒ–é•œåƒ"></a> 2. å¤šé˜¶æ®µæ„å»ºä¼˜åŒ–é•œåƒ</h4><p>åˆ©ç”¨å¤šé˜¶æ®µæ„å»ºæ¥å‡å°æœ€ç»ˆé•œåƒä½“ç§¯ï¼š</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é˜¶æ®µ1ï¼šæ„å»ºåº”ç”¨</span></span><br><span class="line"><span class="keyword">FROM</span> maven:<span class="number">3.8</span>.<span class="number">6</span> AS build</span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> src /app/src</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> pom.xml /app</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> mvn -f /app/pom.xml clean package</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é˜¶æ®µ2ï¼šè¿è¡Œé•œåƒ</span></span><br><span class="line"><span class="keyword">FROM</span> eclipse-temurin:<span class="number">17</span>-jre-alpine</span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> --from=build /app/target/*.jar app.jar</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8080</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="language-bash"> [<span class="string">&quot;java&quot;</span>,<span class="string">&quot;-jar&quot;</span>,<span class="string">&quot;/app.jar&quot;</span>]</span></span><br></pre></td></tr></table></figure><h4 id="3-kubernetes-éƒ¨ç½²"><a class="markdownIt-Anchor" href="#3-kubernetes-éƒ¨ç½²"></a> 3. Kubernetes éƒ¨ç½²</h4><p>å®šä¹‰ Deployment å’Œ Service YAML æ–‡ä»¶æ¥è¿›è¡Œ Kubernetes éƒ¨ç½²ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># deployment.yaml</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">springboot-app</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">springboot</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">springboot</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">app</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">myregistry/springboot-app:1.0</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">SPRING_PROFILES_ACTIVE</span></span><br><span class="line">          <span class="attr">value:</span> <span class="string">prod</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="comment"># service.yaml</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">springboot-service</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">springboot</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">80</span></span><br><span class="line">      <span class="attr">targetPort:</span> <span class="number">8080</span></span><br></pre></td></tr></table></figure><hr /><h3 id="ï¸-äº”-å…³é”®æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#ï¸-äº”-å…³é”®æ³¨æ„äº‹é¡¹"></a> âš ï¸ äº”ã€å…³é”®æ³¨æ„äº‹é¡¹</h3><ol><li><p><strong>é™æ€èµ„æºå¤„ç†</strong><br />JAR æ¨¡å¼ï¼šèµ„æºæ”¾åœ¨ <code>src/main/resources/static</code><br />WAR æ¨¡å¼ï¼šèµ„æºæ”¾åœ¨ <code>src/main/webapp</code></p></li><li><p><strong>é…ç½®æ–‡ä»¶ä¼˜å…ˆçº§</strong><br />Spring Boot åŠ è½½é¡ºåºï¼š</p><ol><li>jar å†…éƒ¨ application.properties</li><li>jar åŒçº§ /config/ ç›®å½•</li><li>jar åŒçº§ç›®å½•</li><li>ç±»è·¯å¾„ /config</li><li>ç±»è·¯å¾„æ ¹ç›®å½•</li></ol></li><li><p><strong>ä¸Šä¸‹æ–‡è·¯å¾„è®¾ç½®</strong><br />JAR æ¨¡å¼ï¼š<code>server.servlet.context-path=/api</code><br />WAR æ¨¡å¼ï¼šé€šè¿‡å®¹å™¨è®¾ç½®æˆ– <code>application.properties</code></p></li><li><p><strong>ç«¯å£å†²çªè§£å†³</strong></p></li></ol><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># é¿å…ä¸å®¹å™¨ç«¯å£å†²çª</span><br><span class="line">server.port=8081</span><br></pre></td></tr></table></figure><ol start="5"><li><strong>WAR éƒ¨ç½²å¸¸è§é—®é¢˜</strong><br />ç±»å†²çªï¼šä½¿ç”¨ <code>&lt;scope&gt;provided&lt;/scope&gt;</code> æ’é™¤å®¹å™¨å·²æœ‰åº“<br />è·¯å¾„é”™è¯¯ï¼šç¡®ä¿ <code>SpringBootServletInitializer</code> æ­£ç¡®é…ç½®</li></ol><hr /><h3 id="å…­-éƒ¨ç½²å†³ç­–æ ‘"><a class="markdownIt-Anchor" href="#å…­-éƒ¨ç½²å†³ç­–æ ‘"></a> ğŸ” å…­ã€éƒ¨ç½²å†³ç­–æ ‘</h3><p><img src="01125e7e4a6a4e15a89621e77e8e69fe.png" alt="" /></p><hr /><h3 id="ä¸ƒ-é«˜çº§éƒ¨ç½²æ–¹æ¡ˆ"><a class="markdownIt-Anchor" href="#ä¸ƒ-é«˜çº§éƒ¨ç½²æ–¹æ¡ˆ"></a> ğŸš€ ä¸ƒã€é«˜çº§éƒ¨ç½²æ–¹æ¡ˆ</h3><ol><li><strong>æ€§èƒ½ä¼˜åŒ–å¯åŠ¨</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¼€å¯ AOT ä¼˜åŒ– (Spring Boot 3+)</span></span><br><span class="line">java -Dspring.aot.enabled=<span class="literal">true</span> -jar app.jar</span><br></pre></td></tr></table></figure><ol start="2"><li><strong>GraalVM åŸç”Ÿé•œåƒ</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># éœ€é…ç½® spring-boot-starter-parent 3.x</span></span><br><span class="line">mvn native:compile -Pnative</span><br></pre></td></tr></table></figure><ol start="3"><li><strong>è“ç»¿éƒ¨ç½²æ–¹æ¡ˆ</strong></li></ol><p><img src="01125e7e4a6a4e15a89621e77e8e69ff.png" alt="" /></p><ol start="4"><li><strong>å¥åº·æ£€æŸ¥ç«¯ç‚¹</strong></li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">management:</span></span><br><span class="line">  <span class="attr">endpoint:</span></span><br><span class="line">    <span class="attr">health:</span></span><br><span class="line">      <span class="attr">probes:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span> <span class="comment"># å¯ç”¨K8så°±ç»ª/å­˜æ´»æ£€æŸ¥</span></span><br><span class="line">  <span class="attr">health:</span></span><br><span class="line">    <span class="attr">livenessstate:</span></span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">readinessstate:</span></span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><hr /><h3 id="æ€»ç»“å»ºè®®"><a class="markdownIt-Anchor" href="#æ€»ç»“å»ºè®®"></a> ğŸ’ æ€»ç»“å»ºè®®</h3><ul><li><strong>ä¼˜å…ˆé€‰æ‹© JAR</strong>: å¯¹äºå¤§å¤šæ•°å¾®æœåŠ¡å’Œäº‘åŸç”Ÿåº”ç”¨æ¥è¯´ï¼ŒJAR æ˜¯ç†æƒ³çš„é€‰æ‹©ã€‚</li><li><strong>é€‰æ‹© WAR å½“</strong>: éœ€è¦ä¸é—ç•™ç³»ç»Ÿé›†æˆæˆ–å¿…é¡»åœ¨ç‰¹å®šåº”ç”¨æœåŠ¡å™¨ä¸Šè¿è¡Œæ—¶è€ƒè™‘ä½¿ç”¨ WARã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AIæ¢ç´¢å¤§æ¨¡å‹æƒé‡çš„åˆ†ç±»ï¼šChatã€Codeã€Embeddingå’ŒRerank</title>
      <link href="/2025/08/25/LLM/AI%E6%8E%A2%E7%B4%A2%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%9D%83%E9%87%8D%E7%9A%84%E5%88%86%E7%B1%BB%EF%BC%9AChat%E3%80%81Code%E3%80%81Embedding%E5%92%8CRerank/"/>
      <url>/2025/08/25/LLM/AI%E6%8E%A2%E7%B4%A2%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%9D%83%E9%87%8D%E7%9A%84%E5%88%86%E7%B1%BB%EF%BC%9AChat%E3%80%81Code%E3%80%81Embedding%E5%92%8CRerank/</url>
      
        <content type="html"><![CDATA[<p>åœ¨æœºå™¨å­¦ä¹ å’Œè‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸï¼Œå¤§æ¨¡å‹ï¼ˆå¦‚GPT-3ã€BERTç­‰ï¼‰å·²ç»æˆä¸ºäº†å¼ºå¤§ä¸”å¹¿æ³›åº”ç”¨çš„å·¥å…·ã€‚å¤§æ¨¡å‹çš„æƒé‡é€šå¸¸å¯ä»¥æ ¹æ®å…¶åº”ç”¨åœºæ™¯åˆ†ä¸ºä¸åŒçš„ç±»åˆ«ï¼Œå¦‚Chatã€Codeã€Embeddingå’ŒRerankã€‚äº†è§£è¿™äº›åˆ†ç±»åŠå…¶å·®å¼‚å¯¹äºæˆ‘ä»¬åœ¨å®é™…åº”ç”¨ä¸­é€‰æ‹©åˆé€‚çš„æ¨¡å‹è‡³å…³é‡è¦ã€‚æœ¬æ–‡å°†è¯¦ç»†è®²è§£è¿™å››ç§æƒé‡åˆ†ç±»ï¼Œå¹¶è¯´æ˜å®ƒä»¬çš„å·®å¼‚ã€‚</p><p><img src="ca10ab6a4e4404fde0c4560c150f4d26.png" alt="" /></p><h5 id="1-chatå¯¹è¯"><a class="markdownIt-Anchor" href="#1-chatå¯¹è¯"></a> 1. Chatï¼ˆå¯¹è¯ï¼‰</h5><p>Chatæ¨¡å‹ä¸“æ³¨äºå¯¹è¯ç”Ÿæˆå’Œè‡ªç„¶è¯­è¨€ç†è§£ã€‚è¿™äº›æ¨¡å‹ç»è¿‡ä¸“é—¨è®­ç»ƒï¼Œèƒ½å¤Ÿç†è§£å¹¶ç”Ÿæˆè¿è´¯ã€è‡ªç„¶çš„å¯¹è¯ã€‚Chatæ¨¡å‹é€šå¸¸ç”¨äºå®¢æœæœºå™¨äººã€è™šæ‹ŸåŠ©æ‰‹ç­‰åœºæ™¯ã€‚</p><p>ç‰¹ç‚¹ï¼š</p><ul><li>è‡ªç„¶è¯­è¨€ç”Ÿæˆï¼šèƒ½å¤Ÿç”Ÿæˆæµç•…ä¸”æœ‰æ„ä¹‰çš„å¯¹è¯ã€‚</li><li>ä¸Šä¸‹æ–‡ç†è§£ï¼šèƒ½å¤Ÿè®°ä½å¯¹è¯çš„ä¸Šä¸‹æ–‡å¹¶è¿›è¡Œç›¸å…³çš„å›ç­”ã€‚</li><li>äººæ€§åŒ–äº¤äº’ï¼šä¸ç”¨æˆ·è¿›è¡Œç±»äººäº’åŠ¨ï¼Œæä¾›å‹å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</li></ul><p>åº”ç”¨åœºæ™¯ï¼š</p><ul><li>åœ¨çº¿å®¢æœ</li><li>æ™ºèƒ½åŠ©æ‰‹ï¼ˆå¦‚Siriã€Alexaï¼‰</li><li>ç¤¾äº¤åª’ä½“èŠå¤©æœºå™¨äºº</li></ul><h5 id="2-codeä»£ç "><a class="markdownIt-Anchor" href="#2-codeä»£ç "></a> 2. Codeï¼ˆä»£ç ï¼‰</h5><p>Codeæ¨¡å‹ä¸“æ³¨äºä»£ç ç”Ÿæˆå’Œç†è§£ã€‚è¿™äº›æ¨¡å‹å¯ä»¥å¸®åŠ©å¼€å‘è€…è‡ªåŠ¨è¡¥å…¨ä»£ç ã€ç”Ÿæˆä»£ç ç‰‡æ®µã€ä¿®å¤ä»£ç é”™è¯¯ç­‰ã€‚Codeæ¨¡å‹åœ¨é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰ä¸­å¾—åˆ°äº†å¹¿æ³›åº”ç”¨ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ã€‚</p><p>ç‰¹ç‚¹ï¼š</p><ul><li>ä»£ç ç”Ÿæˆï¼šæ ¹æ®è‡ªç„¶è¯­è¨€æè¿°ç”Ÿæˆç›¸åº”çš„ä»£ç ç‰‡æ®µã€‚</li><li>é”™è¯¯æ£€æµ‹ä¸ä¿®å¤ï¼šè¯†åˆ«ä»£ç ä¸­çš„é”™è¯¯å¹¶æä¾›ä¿®å¤å»ºè®®ã€‚</li><li>ä»£ç è¡¥å…¨ï¼šåœ¨å¼€å‘è¿‡ç¨‹ä¸­è‡ªåŠ¨è¡¥å…¨ä»£ç ï¼ŒèŠ‚çœæ—¶é—´ã€‚</li></ul><p>åº”ç”¨åœºæ™¯ï¼š</p><ul><li>é›†æˆå¼€å‘ç¯å¢ƒï¼ˆå¦‚VS Codeçš„Copilotï¼‰</li><li>ä»£ç å®¡æŸ¥å·¥å…·</li><li>è‡ªåŠ¨åŒ–æµ‹è¯•ç”Ÿæˆ</li></ul><h5 id="3-embeddingåµŒå…¥"><a class="markdownIt-Anchor" href="#3-embeddingåµŒå…¥"></a> 3. Embeddingï¼ˆåµŒå…¥ï¼‰</h5><p>Embeddingæ¨¡å‹ä¸“æ³¨äºå°†æ–‡æœ¬ã€å›¾åƒæˆ–å…¶ä»–æ•°æ®è½¬æ¢ä¸ºå›ºå®šé•¿åº¦çš„å‘é‡è¡¨ç¤ºã€‚è¿™äº›å‘é‡è¡¨ç¤ºä¿ç•™äº†æ•°æ®çš„è¯­ä¹‰ä¿¡æ¯ï¼Œä¾¿äºåç»­çš„ç›¸ä¼¼åº¦è®¡ç®—ã€åˆ†ç±»ç­‰ä»»åŠ¡ã€‚</p><p>ç‰¹ç‚¹ï¼š</p><ul><li>è¯­ä¹‰è¡¨ç¤ºï¼šå°†æ•°æ®è½¬æ¢ä¸ºä¿ç•™è¯­ä¹‰ä¿¡æ¯çš„å‘é‡ã€‚</li><li>é«˜æ•ˆè®¡ç®—ï¼šå‘é‡è¡¨ç¤ºä¾¿äºåœ¨å¤§è§„æ¨¡æ•°æ®ä¸Šè¿›è¡Œé«˜æ•ˆè®¡ç®—ã€‚</li><li>é€šç”¨æ€§ï¼šå¯ä»¥åº”ç”¨äºå¤šç§æ•°æ®ç±»å‹ï¼Œå¦‚æ–‡æœ¬ã€å›¾åƒç­‰ã€‚</li></ul><p>åº”ç”¨åœºæ™¯ï¼š</p><ul><li>æ–‡æœ¬ç›¸ä¼¼åº¦è®¡ç®—</li><li>å›¾åƒæ£€ç´¢</li><li>èšç±»åˆ†æ</li></ul><h5 id="4-reranké‡æ–°æ’åº"><a class="markdownIt-Anchor" href="#4-reranké‡æ–°æ’åº"></a> 4. Rerankï¼ˆé‡æ–°æ’åºï¼‰</h5><p>Rerankæ¨¡å‹ç”¨äºå¯¹åˆæ­¥æ£€ç´¢ç»“æœè¿›è¡Œé‡æ–°æ’åºï¼Œä»¥æé«˜æ£€ç´¢ç³»ç»Ÿçš„ç²¾åº¦ã€‚è¿™äº›æ¨¡å‹é€šå¸¸ç»“åˆä¸Šä¸‹æ–‡ä¿¡æ¯å’Œç”¨æˆ·æ„å›¾ï¼Œå¯¹åˆæ­¥æ£€ç´¢åˆ°çš„ç»“æœè¿›è¡Œæ’åºä¼˜åŒ–ï¼Œæä¾›æ›´ç›¸å…³çš„ç»“æœã€‚</p><p>ç‰¹ç‚¹ï¼š</p><ul><li>ä¸Šä¸‹æ–‡æ•æ„Ÿï¼šç»“åˆä¸Šä¸‹æ–‡ä¿¡æ¯è¿›è¡Œç»“æœæ’åºã€‚</li><li>ç”¨æˆ·æ„å›¾ï¼šç†è§£ç”¨æˆ·æ„å›¾ï¼Œæä¾›æ›´ç›¸å…³çš„ç»“æœã€‚</li><li>é«˜ç²¾åº¦ï¼šæ˜¾è‘—æé«˜æ£€ç´¢ç»“æœçš„ç›¸å…³æ€§å’Œç²¾åº¦ã€‚</li></ul><p>åº”ç”¨åœºæ™¯ï¼š</p><ul><li>æœç´¢å¼•æ“</li><li>æ¨èç³»ç»Ÿ</li><li>é—®ç­”ç³»ç»Ÿ</li></ul><h4 id="å·®å¼‚åˆ†æ"><a class="markdownIt-Anchor" href="#å·®å¼‚åˆ†æ"></a> å·®å¼‚åˆ†æ</h4><p>è™½ç„¶è¿™å››ç§æƒé‡åˆ†ç±»éƒ½å±äºå¤§æ¨¡å‹çš„èŒƒç•´ï¼Œä½†å®ƒä»¬åœ¨åº”ç”¨é¢†åŸŸå’ŒæŠ€æœ¯ç‰¹ç‚¹ä¸Šæœ‰æ˜¾è‘—å·®å¼‚ï¼š</p><ul><li>åº”ç”¨é¢†åŸŸï¼šChatæ¨¡å‹ç”¨äºå¯¹è¯ç”Ÿæˆï¼ŒCodeæ¨¡å‹ç”¨äºä»£ç ç”Ÿæˆä¸ç†è§£ï¼ŒEmbeddingæ¨¡å‹ç”¨äºæ•°æ®è¡¨ç¤ºï¼ŒRerankæ¨¡å‹ç”¨äºç»“æœæ’åºä¼˜åŒ–ã€‚</li><li>æŠ€æœ¯ç‰¹ç‚¹ï¼šChatæ¨¡å‹å¼ºè°ƒä¸Šä¸‹æ–‡ç†è§£å’Œè‡ªç„¶è¯­è¨€ç”Ÿæˆï¼ŒCodeæ¨¡å‹ä¾§é‡ä»£ç ç›¸å…³ä»»åŠ¡ï¼ŒEmbeddingæ¨¡å‹å…³æ³¨æ•°æ®çš„è¯­ä¹‰è¡¨ç¤ºï¼ŒRerankæ¨¡å‹ä¸“æ³¨äºæé«˜æ£€ç´¢ç²¾åº¦ã€‚</li><li>ç”¨æˆ·ä½“éªŒï¼šChatæ¨¡å‹å’ŒRerankæ¨¡å‹ç›´æ¥å½±å“ç”¨æˆ·äº¤äº’ä½“éªŒï¼ŒEmbeddingæ¨¡å‹å’ŒCodeæ¨¡å‹åˆ™æ›´å¤šåœ°æé«˜å¼€å‘æ•ˆç‡å’ŒæŠ€æœ¯å®ç°ã€‚</li></ul><h4 id="ä¸ºä»€ä¹ˆembeddingå’Œrerankæƒé‡å°‘è§"><a class="markdownIt-Anchor" href="#ä¸ºä»€ä¹ˆembeddingå’Œrerankæƒé‡å°‘è§"></a> ä¸ºä»€ä¹ˆEmbeddingå’ŒRerankæƒé‡å°‘è§</h4><p>å°½ç®¡Embeddingå’ŒRerankæ¨¡å‹åœ¨è‡ªç„¶è¯­è¨€å¤„ç†å’Œæœºå™¨å­¦ä¹ é¢†åŸŸå…·æœ‰é‡è¦ä½œç”¨ï¼Œä½†å®ƒä»¬çš„å¼€æºæƒ…å†µå´è¿œä¸å¦‚Chatå’ŒCodeæ¨¡å‹æ™®éã€‚è¿™ä¸»è¦æ˜¯ç”±äºæ•°æ®éšç§ã€å•†ä¸šä»·å€¼ã€æ¨¡å‹ä¸“ç”¨æ€§ä»¥åŠé«˜æ˜‚çš„æ•°æ®æ ‡æ³¨æˆæœ¬ç­‰åŸå› æ‰€è‡´ã€‚</p><h5 id="1-embeddingæ¨¡å‹æƒé‡å°‘è§çš„åŸå› "><a class="markdownIt-Anchor" href="#1-embeddingæ¨¡å‹æƒé‡å°‘è§çš„åŸå› "></a> 1. Embeddingæ¨¡å‹æƒé‡å°‘è§çš„åŸå› </h5><p>æ•°æ®éšç§å’Œå®‰å…¨æ€§ Embeddingæ¨¡å‹çš„è®­ç»ƒé€šå¸¸æ¶‰åŠå¤§é‡çš„ç”¨æˆ·æ•°æ®ï¼Œå¦‚æ–‡æœ¬ã€å›¾åƒç­‰ã€‚è¿™äº›æ•°æ®å¾€å¾€åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œå‡ºäºéšç§å’Œå®‰å…¨æ€§è€ƒè™‘ï¼Œå¾ˆå¤šæœºæ„å’Œå…¬å¸ä¸æ„¿æ„å…¬å¼€è¿™äº›æ¨¡å‹çš„æƒé‡ï¼Œä»¥é¿å…æ•°æ®æ³„éœ²çš„é£é™©ã€‚</p><p>å•†ä¸šä»·å€¼ Embeddingæ¨¡å‹åœ¨æ¨èç³»ç»Ÿã€æœç´¢å¼•æ“å’Œå…¶ä»–éœ€è¦é«˜æ•ˆç›¸ä¼¼åº¦è®¡ç®—çš„åº”ç”¨ä¸­å…·æœ‰å·¨å¤§çš„å•†ä¸šä»·å€¼ã€‚è®¸å¤šå…¬å¸åˆ©ç”¨è¿™äº›æ¨¡å‹è·å¾—ç«äº‰ä¼˜åŠ¿ï¼Œå› æ­¤ä¸æ„¿æ„å°†è¿™äº›æƒé‡å…¬å¼€ï¼Œä»¥ä¿æŠ¤å…¶å•†ä¸šæœºå¯†å’Œå¸‚åœºä»½é¢ã€‚</p><p>æ¨¡å‹ä¸“ç”¨æ€§ Embeddingæ¨¡å‹é€šå¸¸æ˜¯é«˜åº¦å®šåˆ¶åŒ–çš„ï¼Œé’ˆå¯¹ç‰¹å®šæ•°æ®é›†å’Œåº”ç”¨åœºæ™¯è¿›è¡Œè®­ç»ƒã€‚å…¬å¼€è¿™äº›æƒé‡å¯èƒ½å¹¶ä¸èƒ½ç›´æ¥ç”¨äºå…¶ä»–åº”ç”¨ï¼Œéœ€è¦å¤§é‡çš„è°ƒæ•´å’Œå†è®­ç»ƒã€‚è¿™ä½¿å¾—è¿™äº›æ¨¡å‹çš„é€šç”¨æ€§è¾ƒä½ï¼Œé™åˆ¶äº†å¼€æºçš„åŠ¨æœºã€‚</p><h5 id="2-rerankæ¨¡å‹æƒé‡å°‘è§çš„åŸå› "><a class="markdownIt-Anchor" href="#2-rerankæ¨¡å‹æƒé‡å°‘è§çš„åŸå› "></a> 2. Rerankæ¨¡å‹æƒé‡å°‘è§çš„åŸå› </h5><p>å¤æ‚æ€§å’Œä¸“ç”¨æ€§ Rerankæ¨¡å‹é€šå¸¸æ˜¯åœ¨ç‰¹å®šé¢†åŸŸå’Œåº”ç”¨åœºæ™¯ä¸‹è¿›è¡Œè®­ç»ƒçš„ï¼Œç»“åˆäº†å¤§é‡ä¸Šä¸‹æ–‡ä¿¡æ¯å’Œç”¨æˆ·è¡Œä¸ºæ•°æ®ã€‚è¿™æ ·çš„æ¨¡å‹åœ¨å…¶ä»–åœºæ™¯ä¸‹å¯èƒ½æ•ˆæœä¸ä½³ï¼Œéœ€è¦é‡æ–°è®­ç»ƒæˆ–è°ƒæ•´ã€‚è¿™ç§ä¸“ç”¨æ€§ä½¿å¾—å®ƒä»¬ä¸é€‚åˆå¹¿æ³›å¼€æºã€‚</p><p>æ•°æ®ç¨€ç¼ºå’Œæ ‡æ³¨æˆæœ¬ Rerankæ¨¡å‹éœ€è¦å¤§é‡çš„æ ‡æ³¨æ•°æ®ï¼Œè¿™äº›æ•°æ®éœ€è¦æ‰‹åŠ¨æ ‡æ³¨å¹¶ä¸”é€šå¸¸æ¶‰åŠå¤æ‚çš„ä¸Šä¸‹æ–‡å…³ç³»ã€‚æ”¶é›†å’Œæ ‡æ³¨è¿™äº›æ•°æ®æˆæœ¬é«˜æ˜‚ï¼Œä¸”æ ‡æ³¨æ•°æ®å¾€å¾€å…·æœ‰é«˜åº¦çš„ä¸“ç”¨æ€§ï¼Œå…¬å¼€æ¨¡å‹æƒé‡çš„åŒæ—¶ä¹Ÿéš¾ä»¥æä¾›ç›¸åº”çš„æ•°æ®é›†ï¼Œé™åˆ¶äº†å…¶å¼€æºçš„å¯èƒ½æ€§ã€‚</p><p>å•†ä¸šå’Œæˆ˜ç•¥è€ƒé‡ åƒæœç´¢å¼•æ“å’Œæ¨èç³»ç»Ÿè¿™æ ·çš„åº”ç”¨ï¼Œå¯¹äºRerankæ¨¡å‹æœ‰ç€è‡³å…³é‡è¦çš„ä¾èµ–ã€‚è¿™äº›é¢†åŸŸçš„å…¬å¸å¾€å¾€é€šè¿‡è¿™äº›æ¨¡å‹ä¼˜åŒ–ç”¨æˆ·ä½“éªŒå’Œæå‡å•†ä¸šæ•ˆæœã€‚å› æ­¤ï¼Œå‡ºäºå•†ä¸šå’Œæˆ˜ç•¥è€ƒè™‘ï¼Œè¿™äº›æ¨¡å‹çš„æƒé‡é€šå¸¸ä¸ä¼šå…¬å¼€ï¼Œä»¥ä¿æŒç«äº‰ä¼˜åŠ¿ã€‚</p><h4 id="ç»“è®º"><a class="markdownIt-Anchor" href="#ç»“è®º"></a> ç»“è®º</h4><p>ç†è§£å¤§æ¨¡å‹æƒé‡çš„ä¸åŒåˆ†ç±»åŠå…¶å·®å¼‚ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°é€‰æ‹©å’Œåº”ç”¨é€‚åˆçš„æ¨¡å‹ï¼Œä»è€Œåœ¨å„è‡ªçš„é¢†åŸŸä¸­å‘æŒ¥å…¶æœ€å¤§æ½œåŠ›ã€‚æ— è®ºæ˜¯ç”¨äºå¯¹è¯ç”Ÿæˆçš„Chatæ¨¡å‹ï¼Œè¿˜æ˜¯ç”¨äºä»£ç ç”Ÿæˆçš„Codeæ¨¡å‹ï¼Œæˆ–æ˜¯ç”¨äºæ•°æ®è¡¨ç¤ºçš„Embeddingæ¨¡å‹ï¼Œä»¥åŠç”¨äºç»“æœæ’åºçš„Rerankæ¨¡å‹ï¼Œå®ƒä»¬éƒ½åœ¨å„è‡ªçš„åº”ç”¨åœºæ™¯ä¸­å±•ç°äº†å¼ºå¤§çš„èƒ½åŠ›å’Œå¹¿æ³›çš„åº”ç”¨å‰æ™¯ã€‚</p><p>æœªæ¥ï¼Œéšç€æŠ€æœ¯çš„å‘å±•å’Œå¼€æºç¤¾åŒºçš„å£®å¤§ï¼Œæˆ–è®¸ä¼šæœ‰æ›´å¤šçš„Embeddingå’ŒRerankæ¨¡å‹æƒé‡é€æ¸å…¬å¼€ï¼Œä¸ºå¹¿æ³›çš„ç ”ç©¶å’Œåº”ç”¨æä¾›æ”¯æŒã€‚ä½†åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç†è§£è¿™äº›æ¨¡å‹æƒé‡ä¸å…¬å¼€çš„åˆç†æ€§ï¼Œå¹¶åœ¨ç°æœ‰èµ„æºçš„åŸºç¡€ä¸Šç»§ç»­å‰è¡Œã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LLM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntuä¸‹éƒ¨ç½²SpringBoot</title>
      <link href="/2025/08/22/Springboot/Ubuntu%E4%B8%8B%E9%83%A8%E7%BD%B2SpringBoot/"/>
      <url>/2025/08/22/Springboot/Ubuntu%E4%B8%8B%E9%83%A8%E7%BD%B2SpringBoot/</url>
      
        <content type="html"><![CDATA[<h2 id="ubuntuä¸‹éƒ¨ç½²springboot"><a class="markdownIt-Anchor" href="#ubuntuä¸‹éƒ¨ç½²springboot"></a> Ubuntuä¸‹éƒ¨ç½²SpringBoot</h2><h3 id="ç¬¬ä¸€æ­¥-å®‰è£…javaç¯å¢ƒ"><a class="markdownIt-Anchor" href="#ç¬¬ä¸€æ­¥-å®‰è£…javaç¯å¢ƒ"></a> ç¬¬ä¸€æ­¥ï¼š å®‰è£…javaç¯å¢ƒ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ›´æ–°è½¯ä»¶æº</span></span><br><span class="line">sudo apt update</span><br><span class="line"><span class="comment"># å®‰è£…OpenJDK 17ï¼ˆå¼€æºå…è´¹ï¼Œæ¨èï¼‰</span></span><br><span class="line">sudo apt install openjdk-17-jdk</span><br><span class="line"><span class="comment"># éªŒè¯å®‰è£…ï¼šè¾“å‡ºJDKç‰ˆæœ¬å³æˆåŠŸ</span></span><br><span class="line">java -version</span><br></pre></td></tr></table></figure><h3 id="ç¬¬äºŒæ­¥-å®‰è£…ä¸‹è½½ideaå¹¶æ–°å»ºspringbooté¡¹ç›®"><a class="markdownIt-Anchor" href="#ç¬¬äºŒæ­¥-å®‰è£…ä¸‹è½½ideaå¹¶æ–°å»ºspringbooté¡¹ç›®"></a> ç¬¬äºŒæ­¥ï¼š å®‰è£…ä¸‹è½½Ideaå¹¶æ–°å»ºSpringBooté¡¹ç›®</h3><ul><li><p>åˆ°å®˜ç½‘ä¸‹è½½(<a href="https://www.jetbrains.com/idea/download/?section=windows">https://www.jetbrains.com/idea/download/?section=windows</a>)</p></li><li><p>è¿™é‡ŒæŠŠ <code>pom.xml</code> æ–‡ä»¶ã€åŒ…ç»“æ„ã€æ–°å¢çš„æ§åˆ¶å™¨ä»£ç è´´ä¸€ä¸‹</p><ul><li><code>pom.xml</code></li></ul></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>demo<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>demo<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>Demo project for Spring Boot<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.reporting.outputEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="8554a3205a1474ed8aaf223d5f530a92.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="ç¬¬ä¸‰æ­¥-æ‰“åŒ…-jar-æ–‡ä»¶"><a class="markdownIt-Anchor" href="#ç¬¬ä¸‰æ­¥-æ‰“åŒ…-jar-æ–‡ä»¶"></a> ç¬¬ä¸‰æ­¥ï¼š æ‰“åŒ… .jar æ–‡ä»¶</h3><p><img src="a19ef5189506b596bb1c7f613846a870.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><blockquote><p>å¯¹äºMaven å¯ä»¥ä½¿ç”¨ä½¿ä»¤ï¼šmvn clean package<br />å¯¹äºGradle å¯ä»¥ä½¿ç”¨ä½¿ä»¤ï¼š./gradlew clean bootJar</p></blockquote><h3 id="ç¬¬å››æ­¥-åœ¨-ubuntu-ä¸Šéƒ¨ç½²-jar-åŒ…"><a class="markdownIt-Anchor" href="#ç¬¬å››æ­¥-åœ¨-ubuntu-ä¸Šéƒ¨ç½²-jar-åŒ…"></a> ç¬¬å››æ­¥ï¼š åœ¨ Ubuntu ä¸Šéƒ¨ç½² .jar åŒ…</h3><ul><li><code>mkdir demo</code> å‘½ä»¤åˆ›å»ºä¸€ä¸ªåä¸º demo çš„ç›®å½•</li><li><code>cd demo</code> å‘½ä»¤è¿›å…¥è¯¥ç›®å½•</li><li><code>nohup java -jar demo-0.0.1-SNAPSHOT.jar</code> å‘½ä»¤å¯åŠ¨ jar åŒ…ã€‚<ul><li><p><code>nohup xxx &amp;</code> ï¼š æ˜¯ <code>no hang up</code> çš„ç¼©å†™ï¼Œæ„ä¸ºä¸æŒ‚èµ·ï¼Œç”¨äºåœ¨ç³»ç»Ÿåå°ä¸æ–­è¿è¡Œå‘½ä»¤ï¼Œé€€å‡ºç»ˆç«¯ä¸ä¼šå½±å“ç¨‹åºçš„è¿è¡Œ</p></li><li><p>è¿è¡Œå®Œä¹‹åä¼šç”Ÿæˆä¸€ä¸ª <code>nohup.out</code> æ–‡ä»¶ï¼Œé‡Œé¢æ˜¯å¯åŠ¨è¿‡ç¨‹çš„ä¸€äº›æ—¥å¿—</p></li><li><p>æ‰“å¼€ <code>nohup.out</code> æ–‡ä»¶ï¼Œå¦‚æœæ­£å¸¸å¯åŠ¨çš„è¯ï¼Œä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„è¾“å‡º</p><pre><code>Started DemoApplication in xxx seconds</code></pre></li><li><p>ä½†æ˜¯ï¼Œæˆ‘å°±æ²¡é‚£ä¹ˆå¹¸è¿äº†ï¼Œæˆ‘é‡åˆ°çš„æ˜¯è¿™æ ·çš„</p><pre><code>    .   ____          _            __ _ _    /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \    ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \    \\/  ___)| |_)| | | | | || (_| |  ) ) ) )    '  |____| .__|_| |_|_| |_\__, | / / / /    =========|_|==============|___/=/_/_/_/    :: Spring Boot ::                (v2.5.2)    2021-07-14 22:42:22.087  INFO 39193 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication v0.0.1-SNAPSHOT using Java 1.8.0_291 on iZwz92d94t8mb03s9z327hZ with PID 39193 (/opt/xiaodudu/demo/demo-0.0.1-SNAPSHOT.jar started by root in /opt/xiaodudu/demo)    2021-07-14 22:42:22.090  INFO 39193 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default    2021-07-14 22:42:23.276  INFO 39193 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)    2021-07-14 22:42:23.291  INFO 39193 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]    2021-07-14 22:42:23.291  INFO 39193 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.48]    2021-07-14 22:42:23.345  INFO 39193 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext    2021-07-14 22:42:23.345  INFO 39193 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1141 ms    2021-07-14 22:42:23.673  WARN 39193 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use    2021-07-14 22:42:23.677  INFO 39193 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]    2021-07-14 22:42:23.691  INFO 39193 --- [           main] ConditionEvaluationReportLoggingListener :     Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.    2021-07-14 22:42:23.713 ERROR 39193 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   :     ***************************    APPLICATION FAILED TO START    ***************************    Description:    Web server failed to start. Port 8080 was already in use.    Action:    Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.        </code></pre><ul><li><p><code>Port 8080 was already in use.</code> ç«¯å£è¢«å ç”¨ï¼Œæ˜¯æ¯”è¾ƒå¸¸è§çš„ä¸€ä¸ªå¼‚å¸¸ã€‚</p></li><li><p>æ‰§è¡Œ <code>netstat -anp | grep 8080</code> æŸ¥çœ‹å ç”¨ç«¯å£çš„ç¨‹åº pidã€‚ï¼ˆnetstat æœ‰å¾ˆå¤šå‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨ <code>netstat -h</code> æŸ¥è¯¢ï¼‰</p><pre><code>root@iZwz92d94t8mb03s9z327hZ:~# netstat -anp | grep 8080tcp6       0      0 :::8080                 :::*                    LISTEN      19032/java</code></pre></li><li><p>æ‰§è¡Œ <code>kill -9 xxxxx</code> å‘½ä»¤ç»ˆæ­¢è¯¥ç¨‹åº</p><pre><code>root@iZwz92d94t8mb03s9z327hZ:~# kill -9 19032</code></pre></li><li><p>é‡æ–°æ‰§è¡Œ <code>nohup xxx &amp;</code> å‘½ä»¤éƒ¨ç½² jar ç¨‹åºã€‚(nohup.out æ˜¯å¦åˆ é™¤å¯ä»¥è‡ªå·±å†³å®šï¼Œåˆ é™¤å°±æ˜¯é‡æ–°ç”Ÿæˆï¼Œä¸åˆ é™¤å°±æ˜¯è¿½åŠ å†…å®¹)</p><pre><code>root@iZwz92d94t8mb03s9z327hZ:/opt/xiaodudu/demo# nohup java -jar demo-0.0.1-SNAPSHOT.jar &amp;[1] 39342root@iZwz92d94t8mb03s9z327hZ:/opt/xiaodudu/demo# nohup: ignoring input and appending output to 'nohup.out'</code></pre></li><li><p>æŸ¥çœ‹ <code>nohup.out</code> æ–‡ä»¶</p><pre><code>     .   ____          _            __ _ _    /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \    ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \    \\/  ___)| |_)| | | | | || (_| |  ) ) ) )    '  |____| .__|_| |_|_| |_\__, | / / / /    =========|_|==============|___/=/_/_/_/    :: Spring Boot ::                (v2.5.2)    2021-07-14 23:05:16.089  INFO 39342 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication v0.0.1-SNAPSHOT using Java 1.8.0_291 on iZwz92d94t8mb03s9z327hZ with PID 39342 (/opt/xiaodudu/demo/demo-0.0.1-SNAPSHOT.jar started by root in /opt/xiaodudu/demo)    2021-07-14 23:05:16.093  INFO 39342 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to default profiles: default    2021-07-14 23:05:17.228  INFO 39342 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)    2021-07-14 23:05:17.239  INFO 39342 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]    2021-07-14 23:05:17.240  INFO 39342 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.48]    2021-07-14 23:05:17.300  INFO 39342 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext    2021-07-14 23:05:17.300  INFO 39342 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1095 ms    2021-07-14 23:05:17.755  INFO 39342 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''    2021-07-14 23:05:17.764  INFO 39342 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 2.338 seconds (JVM running for 2.769)</code></pre></li></ul></li></ul></li></ul><h3 id="è¿œç¨‹è®¿é—®æ¥å£"><a class="markdownIt-Anchor" href="#è¿œç¨‹è®¿é—®æ¥å£"></a> è¿œç¨‹è®¿é—®æ¥å£</h3><ul><li>è®¿é—® <code>Ubuntu æœåŠ¡å™¨IP: 8080/hello/springboot</code></li></ul><p><img src="7be7cd3fc786c0c1f946bb5b6bc7555d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="ç¬¬äº”æ­¥-åœ¨-ubuntu-ä¸Šä½¿ç”¨è¿›ç¨‹ç®¡ç†"><a class="markdownIt-Anchor" href="#ç¬¬äº”æ­¥-åœ¨-ubuntu-ä¸Šä½¿ç”¨è¿›ç¨‹ç®¡ç†"></a> ç¬¬äº”æ­¥ï¼š åœ¨ Ubuntu ä¸Šä½¿ç”¨è¿›ç¨‹ç®¡ç†</h3><p>ç›´æ¥ç”¨ java -jar å¯åŠ¨çš„åº”ç”¨åœ¨ç»ˆç«¯å…³é—­åä¼šç»ˆæ­¢ï¼Œä¸”æ„å¤–å´©æºƒåæ— æ³•è‡ªåŠ¨é‡å¯ã€‚<br />å¯ä½¿ç”¨è¿›ç¨‹ç®¡ç†å·¥å…·ï¼ˆsystemdï¼‰ç¡®ä¿åº”ç”¨åå°è¿è¡Œå¹¶è‡ªåŠ¨æ¢å¤ï¼Œé€šè¿‡ç³»ç»ŸæœåŠ¡ç®¡ç† JAR åº”ç”¨ï¼Œæ”¯æŒå¼€æœºè‡ªå¯ã€çŠ¶æ€ç›‘æ§ã€æ—¥å¿—ç®¡ç†ã€‚</p><p>1.åˆ›å»ºæœåŠ¡æ–‡ä»¶ï¼ˆå¦‚ /etc/systemd/system/myapp.serviceï¼‰ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=My Spring Boot Application</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">User=formeasy</span><br><span class="line">Group=formeasy</span><br><span class="line"></span><br><span class="line">#WorkingDirectory=/opt/xiaodudu/demo/  # JAR æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼Œå»ºè®®ä¸æ³¨é‡Š</span><br><span class="line">ExecStart=/usr/bin/java -jar  /opt/xiaodudu/demo/demo-0.0.1-SNAPSHOT.jar --server.port=8080</span><br><span class="line">SuccessExitStatus=143  # å…¼å®¹ Spring Boot çš„ä¼˜é›…é€€å‡ºç </span><br><span class="line">Restart=always  # å´©æºƒåè‡ªåŠ¨é‡å¯</span><br><span class="line">RestartSec=5  # é‡å¯é—´éš”ï¼ˆç§’ï¼‰</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><p>2.å¯ç”¨å¹¶å¯åŠ¨æœåŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl daemon-reload  <span class="comment"># åˆ·æ–°é…ç½®</span></span><br><span class="line">sudo systemctl start myapp    <span class="comment"># å¯åŠ¨åº”ç”¨</span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> myapp   <span class="comment"># è®¾ç½®å¼€æœºè‡ªå¯</span></span><br></pre></td></tr></table></figure><p>3.å¸¸ç”¨å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl status myapp  <span class="comment"># æŸ¥çœ‹çŠ¶æ€</span></span><br><span class="line">sudo systemctl stop myapp    <span class="comment"># åœæ­¢åº”ç”¨</span></span><br><span class="line">journalctl -u myapp -f       <span class="comment"># å®æ—¶æŸ¥çœ‹æ—¥å¿—</span></span><br></pre></td></tr></table></figure><p>4.å¦‚æœå‡ºé”™ï¼ŒæŒ‰ç…§ä»¥ä¸‹æ’æŸ¥ï¼š</p><ol><li>æ£€æŸ¥ç›®å½•å’Œæ–‡ä»¶æ˜¯å¦å­˜åœ¨</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥å·¥ä½œç›®å½•æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="built_in">ls</span> -la /opt/xiaodudu/demo/</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥ JAR æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="built_in">ls</span> -la /opt/xiaodudu/demo/demo-0.0.1-SNAPSHOT.jar</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥ Java å®‰è£…</span></span><br><span class="line"><span class="built_in">which</span> java</span><br><span class="line">java -version</span><br></pre></td></tr></table></figure><ol start="2"><li>åˆ›å»ºç¼ºå¤±çš„ç›®å½•å’Œæƒé™</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºåº”ç”¨ç›®å½•</span></span><br><span class="line">sudo <span class="built_in">mkdir</span> -p /opt/xiaodudu/demo/</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æ­£ç¡®çš„æƒé™</span></span><br><span class="line">sudo <span class="built_in">chown</span> -R formeasy:formeasy /opt/xiaodudu/demo/</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¡®ä¿ JAR æ–‡ä»¶åœ¨æ­£ç¡®çš„ä½ç½®</span></span><br><span class="line"><span class="comment"># å¦‚æœè¿˜æ²¡æœ‰ï¼Œä¸Šä¼ æˆ–å¤åˆ¶æ‚¨çš„ JAR æ–‡ä»¶åˆ°è¿™ä¸ªç›®å½•</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰‹æœºå·²å®‰è£…åº”ç”¨å¯¼å‡ºapk</title>
      <link href="/2025/08/22/Other/%E6%89%8B%E6%9C%BA%E5%B7%B2%E5%AE%89%E8%A3%85%E5%BA%94%E7%94%A8%E5%AF%BC%E5%87%BAapk%E5%AE%A2/"/>
      <url>/2025/08/22/Other/%E6%89%8B%E6%9C%BA%E5%B7%B2%E5%AE%89%E8%A3%85%E5%BA%94%E7%94%A8%E5%AF%BC%E5%87%BAapk%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<h3 id="æ–¹æ³•ä¸€é€šè¿‡åº”ç”¨ç®¡ç†å™¨"><a class="markdownIt-Anchor" href="#æ–¹æ³•ä¸€é€šè¿‡åº”ç”¨ç®¡ç†å™¨"></a> æ–¹æ³•ä¸€ï¼šé€šè¿‡åº”ç”¨ç®¡ç†å™¨</h3><p>ä¸‹è½½å¹¶å®‰è£…åº”ç”¨ç®¡ç†å™¨ï¼šå¯ä»¥ä½¿ç”¨åº”ç”¨ç®¡ç†å™¨å¦‚â€œESæ–‡ä»¶æµè§ˆå™¨â€æˆ–â€œAPK Extractorâ€ã€‚<br />æå–APKæ–‡ä»¶ï¼š<br />æ‰“å¼€åº”ç”¨ç®¡ç†å™¨ã€‚<br />æ‰¾åˆ°å·²å®‰è£…çš„åº”ç”¨ç¨‹åºåˆ—è¡¨ã€‚<br />é€‰æ‹©ä½ æƒ³è¦æå–çš„åº”ç”¨ç¨‹åºï¼Œç„¶åé€‰æ‹©â€œæå–â€æˆ–â€œå¤‡ä»½â€é€‰é¡¹ã€‚<br />æå–çš„APKæ–‡ä»¶å°†ä¿å­˜åœ¨æŒ‡å®šçš„æ–‡ä»¶å¤¹ä¸­ï¼Œé€šå¸¸æ˜¯åœ¨å†…éƒ¨å­˜å‚¨æˆ–SDå¡ä¸­çš„â€œExtractedApksâ€æ–‡ä»¶å¤¹ã€‚</p><h3 id="æ–¹æ³•äºŒé€šè¿‡adbå·¥å…·"><a class="markdownIt-Anchor" href="#æ–¹æ³•äºŒé€šè¿‡adbå·¥å…·"></a> æ–¹æ³•äºŒï¼šé€šè¿‡ADBå·¥å…·</h3><p>å®‰è£…ADBå·¥å…·ï¼š<br />åœ¨ç”µè„‘ä¸Šä¸‹è½½å¹¶å®‰è£…ADBå·¥å…·åŒ…ã€‚<br />è¿æ¥æ‰‹æœºï¼š<br />åœ¨æ‰‹æœºä¸Šå¯ç”¨â€œå¼€å‘è€…é€‰é¡¹â€å’Œâ€œUSBè°ƒè¯•â€ã€‚<br />ä½¿ç”¨USBçº¿å°†æ‰‹æœºè¿æ¥åˆ°ç”µè„‘ã€‚</p><p>ä½¿ç”¨ADBå‘½ä»¤æå–åº”ç”¨ï¼š<br />æ‰“å¼€å‘½ä»¤è¡Œçª—å£ã€‚<br />è¾“å…¥ä»¥ä¸‹å‘½ä»¤ä»¥æŸ¥çœ‹å·²å®‰è£…çš„åº”ç”¨åˆ—è¡¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm list packages</span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°ä½ æƒ³æå–çš„åº”ç”¨çš„åŒ…åï¼Œç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤æå–APKæ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm path &lt;package-name&gt;</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm path com.example.app</span><br></pre></td></tr></table></figure><p>è¯¥å‘½ä»¤ä¼šè¿”å›APKæ–‡ä»¶çš„è·¯å¾„ã€‚æ¥ç€è¿è¡Œä»¥ä¸‹å‘½ä»¤å°†APKæ–‡ä»¶å¤åˆ¶åˆ°ç”µè„‘ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb pull &lt;apk-file-path&gt; &lt;destination-path&gt;</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb pull /data/app/com.example.app-1/base.apk C:\Users\YourUsername\Desktop</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringBoot é¡¹ç›®ï¼Œè‡ªåŠ¨ç¼–è¯‘ï¼Œçƒ­éƒ¨ç½²ï¼Œç«‹åˆ»çœ‹åˆ°æ•ˆæœ</title>
      <link href="/2025/08/21/Springboot/SpringBoot%20%E9%A1%B9%E7%9B%AE%EF%BC%8C%E8%87%AA%E5%8A%A8%E7%BC%96%E8%AF%91%EF%BC%8C%E7%83%AD%E9%83%A8%E7%BD%B2%EF%BC%8C%E7%AB%8B%E5%88%BB%E7%9C%8B%E5%88%B0%E6%95%88%E6%9E%9C/"/>
      <url>/2025/08/21/Springboot/SpringBoot%20%E9%A1%B9%E7%9B%AE%EF%BC%8C%E8%87%AA%E5%8A%A8%E7%BC%96%E8%AF%91%EF%BC%8C%E7%83%AD%E9%83%A8%E7%BD%B2%EF%BC%8C%E7%AB%8B%E5%88%BB%E7%9C%8B%E5%88%B0%E6%95%88%E6%9E%9C/</url>
      
        <content type="html"><![CDATA[<p>1ï¼šåœ¨pom.xml ä¸­ é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šå¹¶ä¸æ˜¯pom.xml çš„<build>æ ‡ç­¾ä¸­</p><p>2ï¼š å¦‚æœæœ‰é¡µé¢çš„è¯ ç¦æ­¢é¡µé¢ç¼“å­˜</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">spring:</span><br><span class="line">  application:</span><br><span class="line">    name: XXX</span><br><span class="line">  aop:</span><br><span class="line">    proxy-target-class: true</span><br><span class="line">  thymeleaf:</span><br><span class="line">      cache: false</span><br><span class="line">      prefix: classpath:/templates/</span><br><span class="line">      mode: LEGACYHTML5</span><br></pre></td></tr></table></figure><p>3ï¼šå¼€å¯ideaå·¥å…·çš„è‡ªåŠ¨ç¼–è¯‘åŠŸèƒ½</p><p><img src="20180211173853621.png" alt="" /></p><p>4ï¼šå¼€å¯ideaå…è®¸è¿è¡Œæ—¶ç¼–è¯‘</p><p>åœ¨ Advanced Settings ä¸­ï¼Œå‹¾é€‰ Allow auto-make to start even if the application is currently running</p><p><img src="20180211173853622.png" alt="" /></p><p>å®Œæˆä»¥ä¸Šæ­¥éª¤ å³å¯å®ç°SpringBooté¡¹ç›®è‡ªåŠ¨ç¼–è¯‘+çƒ­éƒ¨ç½²ï¼Œè¿™æˆ‘ä»¬ä¿®æ”¹åçš„ä»£ç èƒ½å¤Ÿç«‹åˆ»çœ‹åˆ°æ•ˆæœï¼Œæé«˜æ•ˆç‡ï¼</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Springbootæ¡†æ¶çš„å¿«é€Ÿæ­å»ºå’Œmybatisçš„æ•´åˆ</title>
      <link href="/2025/08/21/Springboot/Springboot%E6%A1%86%E6%9E%B6%E7%9A%84%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E5%92%8Cmybatis%E7%9A%84%E6%95%B4%E5%90%88/"/>
      <url>/2025/08/21/Springboot/Springboot%E6%A1%86%E6%9E%B6%E7%9A%84%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E5%92%8Cmybatis%E7%9A%84%E6%95%B4%E5%90%88/</url>
      
        <content type="html"><![CDATA[<h3 id="ç¯å¢ƒå®‰è£…"><a class="markdownIt-Anchor" href="#ç¯å¢ƒå®‰è£…"></a> ç¯å¢ƒå®‰è£…</h3><p>åœ¨å¼€å§‹å­¦ä¹ Spring Bootä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å‡†å¤‡å¥½å¼€å‘ç¯å¢ƒã€‚æœ¬èŠ‚å°†ä»¥Windowsæ“ä½œç³»ç»Ÿä¸ºä¾‹ï¼Œä»‹ç»å¦‚ä½•å®‰è£…JDKã€Intellij IDEAåŠApache Mavenã€‚å¦‚æœä½ çš„ç”µè„‘ä¸Šå·²ç»å®‰è£…äº†JDKã€Intellij IDEAæˆ–è€…Apache Mavenï¼Œå¯ä»¥è·³è¿‡æœ¬èŠ‚å†…å®¹ã€‚</p><ol><li>å®‰è£…JDK</li></ol><p>JDKï¼ˆJava SE Development Kitï¼‰å»ºè®®ä½¿ç”¨17åŠä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œå…¶å®˜æ–¹ä¸‹è½½è·¯å¾„ä¸ºï¼š<br /><a href="https://www.oracle.com/java/technologies/downloads/#java17">https://www.oracle.com/java/technologies/downloads/#java17</a></p><p>ä¸‹è½½åæ­£å¸¸å®‰è£…ï¼Œå®‰è£…å®Œæˆåï¼Œéœ€è¦é…ç½®ç¯å¢ƒå˜é‡JAVA_HOMEï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><p>1ï¼‰åœ¨ç”µè„‘æ¡Œé¢ä¸Šï¼Œå³å‡»ã€æˆ‘çš„ç”µè„‘ã€‘â†’ã€å±æ€§ã€‘â†’ã€é«˜çº§ç³»ç»Ÿè®¾ç½®ã€‘â†’ã€ç¯å¢ƒå˜é‡ã€‘â†’ã€ç³»ç»Ÿå˜é‡(S)ã€‘â†’ã€æ–°å»ºã€‘å‡ºç°æ–°å»ºç¯å¢ƒå˜é‡çš„çª—å£ã€‚</p><p>2ï¼‰åœ¨ã€å˜é‡åã€‘å’Œã€å˜é‡å€¼ã€‘ä¸­åˆ†åˆ«è¾“å…¥JAVA_HOMEå’ŒC:\Program Files\Java\jdk-17ï¼Œå•å‡»ã€ç¡®å®šã€‘æŒ‰é’®ã€‚</p><p>3ï¼‰JAVA_HOMEé…ç½®å¥½ä¹‹åï¼Œå°†%JAVA_HOME%\binåŠ å…¥åˆ°ã€ç³»ç»Ÿå˜é‡ã€‘çš„pathä¸­ã€‚å®Œæˆåï¼Œæ‰“å¼€å‘½ä»¤è¡Œçª—å£ï¼Œè¾“å…¥å‘½ä»¤java-versionï¼Œå¦‚å‡ºç°å¦‚ä¸‹æ‰€ç¤ºçš„æç¤ºï¼Œå³è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">c:\XXX\java -version</span><br><span class="line">java version <span class="string">&quot;17.0.16&quot;</span> 2025-07-15 LTS</span><br><span class="line">Java(TM) SE Runtime Environment (build 17.0.16+12-LTS-247)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 17.0.16+12-LTS-247, mixed mode, sharing)</span><br></pre></td></tr></table></figure><ol start="2"><li><p>å®‰è£…Intellij IDEA<br />åœ¨Intellij IDEAçš„å®˜æ–¹ç½‘ç«™<br /><a href="http://www.jetbrains.com/idea/">http://www.jetbrains.com/idea/</a> ä¸Šå¯ä»¥å…è´¹ä¸‹è½½IDEAã€‚ä¸‹è½½å®ŒIDEAåï¼Œè¿è¡Œå®‰è£…ç¨‹åºï¼ŒæŒ‰æç¤ºå®‰è£…å³å¯ã€‚</p></li><li><p>å®‰è£…Apache Maven<br />Apache Mavenæ˜¯ç›®å‰æµè¡Œçš„é¡¹ç›®ç®¡ç†å’Œæ„å»ºè‡ªåŠ¨åŒ–å·¥å…·ã€‚è™½ç„¶IDEAå·²ç»åŒ…å«äº†Mavenæ’ä»¶ï¼Œä½†æ˜¯ç¬”è€…è¿˜æ˜¯å¸Œæœ›å¤§å®¶åœ¨å·¥ä½œä¸­èƒ½å¤Ÿå®‰è£…è‡ªå·±çš„Mavenæ’ä»¶ï¼Œæ–¹ä¾¿ä»¥åé¡¹ç›®é…ç½®éœ€è¦ã€‚å¤§å®¶å¯ä»¥é€šè¿‡Mavençš„å®˜æ–¹ç½‘ç«™<br /><a href="http://maven.apache.org/download.cgi">http://maven.apache.org/download.cgi</a> ä¸‹è½½æœ€æ–°ç‰ˆçš„Mavenï¼Œæœ¬æ–‡çš„Mavenç‰ˆæœ¬ä¸ºapache-maven-3.6.3ã€‚</p></li></ol><p>ä¸‹è½½å®Œæˆåè§£å‹ç¼©å³å¯ï¼Œä¾‹å¦‚ï¼Œè§£å‹åˆ°Dï¼šç›˜ä¸Šï¼Œç„¶åå°†Mavençš„å®‰è£…è·¯å¾„D:\apache-maven-3.6.3\binåŠ å…¥åˆ°Windowsçš„ç¯å¢ƒå˜é‡pathä¸­ã€‚å®‰è£…å®Œæˆåï¼Œåœ¨å‘½ä»¤è¡Œçª—å£æ‰§è¡Œå‘½ä»¤ï¼šmvn -vï¼Œå¦‚æœè¾“å‡º&quot;Apache Maven 3.6.3&quot;ï¼Œè¡¨ç¤ºMavenå®‰è£…æˆåŠŸã€‚</p><h3 id="ä¸€-åˆ›å»ºä¸€ä¸ªç©ºçš„springbooté¡¹ç›®å·¥ç¨‹"><a class="markdownIt-Anchor" href="#ä¸€-åˆ›å»ºä¸€ä¸ªç©ºçš„springbooté¡¹ç›®å·¥ç¨‹"></a> ä¸€ã€åˆ›å»ºä¸€ä¸ªç©ºçš„Springbooté¡¹ç›®å·¥ç¨‹</h3><ol><li><p>åœ¨ä¸€ä¸ªä½ å–œæ¬¢çš„åœ°æ–¹ï¼Œåˆ›å»ºä¸€ä¸ªspringbooté¡¹ç›®æ–‡ä»¶å¤¹.æ¯”å¦‚æˆ‘ä½¿ç”¨ï¼šspringboot<br /><img src="bd138f2f552e4b68a0c7bde696e657b6.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>å¯åŠ¨IDEAâ€“&gt;New Projectâ€“&gt;spring boot(spring initializrï¼‰</p></li></ol><p>æŒ‰ä¸‹é¢çš„é€‰</p><p><img src="f03737e89d1c48b7b9ce992b43ae00be.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />jdkç‰ˆæœ¬ä¸ä¸€æ ·ï¼Œæ‰€é€‰çš„spring bootç‰ˆæœ¬ä¸ä¸€æ ·ï¼Œå› ä¸ºæˆ‘ç”¨çš„æ˜¯jdkæ˜¯17ï¼Œæ‰€ä»¥ç”¨çš„æ˜¯3.0ä»¥ä¸Šçš„<br /><img src="2389039193aa450bb758ea74270832a8.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="äºŒ-é¡¹ç›®å·¥ç¨‹é…ç½®ä¸€ä¸‹maven"><a class="markdownIt-Anchor" href="#äºŒ-é¡¹ç›®å·¥ç¨‹é…ç½®ä¸€ä¸‹maven"></a> äºŒã€ é¡¹ç›®å·¥ç¨‹é…ç½®ä¸€ä¸‹Maven</h3><p><img src="8f7d80e35e6b4f30bdfa1e712c6a7070.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="d8cc6334dd3340ddbf3f6403af2a4dbe.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="ä¸‰-åˆ›å»ºå¸¸è§çš„åŒ…"><a class="markdownIt-Anchor" href="#ä¸‰-åˆ›å»ºå¸¸è§çš„åŒ…"></a> ä¸‰ã€ åˆ›å»ºå¸¸è§çš„åŒ…</h3><p>åœ¨com.exampleä¸‹é¢æŠŠæ¯ä¸ªå±‚çš„åŒ…åˆ›å»ºå¥½ï¼Œç”¨äºåç»­æˆ‘ä»¬åœ¨ä¸åŒçš„åŒ…é‡Œåˆ›å»ºjavaæ–‡ä»¶ï¼Œåç«¯æˆ‘ä»¬æ˜¯åˆ†å±‚çš„ã€‚</p><blockquote><p>controllerè°ƒç”¨service<br />serviceè°ƒç”¨dao<br />daoè°ƒç”¨entity</p></blockquote><ol><li>controller:åç«¯æ¥å£çš„å…¥å£ï¼Œä¸»è¦ç¼–å†™å„ç§xxxController,æä¾›æ¥å£ç»™å‰ç«¯è°ƒç”¨</li><li>service:åç«¯ä¸šåŠ¡å±‚ï¼Œä¸»è¦ç¼–å†™ä¸€äº›åç«¯ä¸šåŠ¡é€»è¾‘ã€‚controllerâ€“:service</li><li>dao(mapper):åç«¯æŒä¹…å±‚ï¼Œä¸»è¦æ˜ å°„æ•°æ®åº“ï¼Œæ“ä½œæ•°æ®åº“è¡¨æ•°æ®ã€‚serviceâ€“</li><li>entity:å®ä½“ç±»ï¼Œå¯¹åº”æ•°æ®åº“è¡¨ï¼Œå®ä½“ç±»çš„å±æ€§å¯¹åº”è¡¨çš„å­—æ®µä¿¡æ¯</li></ol><blockquote><p>ç»“æœå›¾:<br /><img src="717227c805124ab4acbb39ea8d23b219.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></blockquote><h3 id="å››-ç¼–å†™ä½ çš„ç¬¬ä¸€ä¸ªhello-word"><a class="markdownIt-Anchor" href="#å››-ç¼–å†™ä½ çš„ç¬¬ä¸€ä¸ªhello-word"></a> å››ã€ç¼–å†™ä½ çš„ç¬¬ä¸€ä¸ªhello word</h3><blockquote><p>controlleræ˜¯åå°æ¥å£çš„å…¥å£ï¼Œè¿™ä¸ªâ€œæ¥å£â€ä¸javaåŸºç¡€é‡Œé¢çš„æ¥å£ä¸ä¸€æ ·ï¼Œè¿™é‡Œçš„æ¥å£æ˜¯é’ˆå¯¹å‰ç«¯æ¥è¯´çš„ï¼Œå‰ç«¯æ“ä½œæ•°æ®ä¼šè°ƒç”¨åç«¯çš„æ¥å£ï¼Œæ˜¯å‰åå°äº¤äº’çš„å…¥å£</p></blockquote><ol><li>åœ¨controllerä¸‹é¢æ–°å»ºä¸€ä¸ªUserControllerç±»</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¡¨æ˜æ˜¯æ¥å£çš„å…¥å£</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åŒ¹é…ä¸€ä¸ªåœ°å€,ç›¸å½“äºæ‰“å¼€å®¶é—¨çš„é’¥åŒ™.ä¸ºäº†è§„èŒƒï¼Œåœ°å€æœ€å¥½å’Œç±»åå‰å‡ ä¸ªå•è¯ä¸€æ ·</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *     controlleré‡Œçš„ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒå…¶å®å°±æ˜¯æˆ‘ä»¬å¹³å¸¸è¯´çš„webé¡¹ç›®é‡Œçš„ä¸€ä¸ªæ¥å£çš„å…¥å£</span></span><br><span class="line"><span class="comment"> *     å¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸Šå†åŠ ä¸Šä¸€ä¸ªurl</span></span><br><span class="line"><span class="comment"> *     ä¹Ÿå¯ä»¥æŒ‡å®šè¯·æ±‚æ–¹å¼(å¢åˆ æ”¹æŸ¥)ï¼šGET POST PUT DELETE</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@GetMapping</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">start</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;æ¬¢è¿æ¥åˆ°æˆ‘çš„ç¬¬ä¸€ä¸ªSpringbootå·¥ç¨‹ï¼šå·²ç»å¯åŠ¨&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li><p>è¿è¡ŒSpingbootApplication,ç»“æœå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°ç«¯å£ä¸º8080<br /><img src="cef494f423d74ba69e67eeb9907db4a7.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>å»æœ<a href="http://localhost:8080/user">http://localhost:8080/user</a><br /><img src="ecaf0cc39cde4dbaa57eb4c99b3009ae.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>åœ¨entityä¸‹é¢åˆ›å»ºUserç±»</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.GeneratedValue;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.GenerationType;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.Id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line"><span class="comment">//    è¡¨æ˜Idæ˜¯ä¸»é”®</span></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    ç­–ç•¥,è¡¨æ˜ä¸»é”®æ˜¯é€’å¢çš„</span></span><br><span class="line">    <span class="meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(String id,String name,String sex,String age,String password,String phone )</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.id= Integer.parseInt(id);</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">        <span class="built_in">this</span>.sex=sex;</span><br><span class="line">        <span class="built_in">this</span>.age= Integer.parseInt(age);</span><br><span class="line">        <span class="built_in">this</span>.password=password;</span><br><span class="line">        <span class="built_in">this</span>.phone=phone;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    mybatiséœ€è¦</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// æ— å‚æ„é€ æ–¹æ³•</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSex</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSex</span><span class="params">(String sex)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPassword</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPassword</span><span class="params">(String password)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPhone</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> phone;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPhone</span><span class="params">(String phone)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.phone = phone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœç´¢<a href="http://localhost:8080/user/start">http://localhost:8080/user/start</a><br /><img src="c427fd9efa8c45b79545f47400e618de.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="äº”-æ•´åˆmybatis"><a class="markdownIt-Anchor" href="#äº”-æ•´åˆmybatis"></a> äº”ã€æ•´åˆMyBatis</h3><blockquote><p>å¯ä»¥å»æœmvn repositoryçš„å®˜ç½‘ï¼Œåœ¨é‡Œé¢æœmysqlï¼Œå¯ä»¥æ‰¾åˆ°ç›¸å…³ä¾èµ–çš„ä»£ç </p></blockquote><ol><li>å¼•å…¥ä¾èµ–ï¼špox.xmlé‡Œå¯¼å…¥mybatiså’Œæ•°æ®åº“mysqlçš„ä¾èµ–(è¿™é‡Œçš„mybatisä¾èµ–ç‰ˆæœ¬è¦çœ‹æ¸…æ¥šï¼Œæˆ‘è¿™ä¸ªç‰ˆæœ¬ä¸é€‚ç”¨3.0ï¼Œæ‰€ä»¥åé¢æˆ‘æ¢äº†ï¼Œå¯ä»¥çœ‹ç¬¬ä¸ƒç‚¹çš„1ï¼‰</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>tk.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mapper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.1.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>ä¾‹ä¸ºå®˜æ–¹mybatis-spring-boot-starterï¼Œå»ºè®®ä½¿ç”¨mybatis-plus-spring-boot3-starteræ›¿ä»£</p></blockquote><ol start="2"><li>åœ¨application.ymlé‡Œè¿›è¡Œæ•°æ®åº“é…ç½®ï¼ˆè‹¥æ–‡ä»¶åç¼€ä¸æ˜¯yml,å¯çœ‹ä¸‹é¢ç¬¬ä¸ƒçš„2ï¼‰</li></ol><blockquote><p>æ³¨æ„ï¼šå†’å·â€œï¼šâ€åé¢ä¸€å®šè¦åŠ ç©ºæ ¼ï¼Œä¸ç„¶ä¼šæŠ¥é”™</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ•°æ®åº“é…ç½®</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span> <span class="comment">#ä½ æœ¬åœ°çš„æ•°æ®åº“ç”¨æˆ·å</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">cjm2003</span> <span class="comment">#ä½ æœ¬åœ°çš„æ•°æ®åº“å¯†ç </span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/springboot?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Asia/Shanghai</span></span><br></pre></td></tr></table></figure><p>3.é…ç½®mybatiså®ä½“å’Œxmlæ˜ å°„<br />ï¼ˆ1ï¼‰å…ˆå¦‚ä¸‹é¢ç»“æ„åˆ›å»ºUserMapper.xmlç”¨äºè¢«mybatisæ˜ å°„<br /><img src="6b78d61941c84746a3a76f7ecba3c563.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>ï¼ˆ2ï¼‰åœ¨application.ymlé‡Œé…ç½®</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#é…ç½®mybatiså®ä½“é…ç½®</span></span><br><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:mapper/*.xml</span> <span class="comment">#æ˜ å°„åˆ°resources/mapper/User.xmlé‡Œ</span></span><br><span class="line">  <span class="attr">type-aliases-package:</span> <span class="string">com.example.springboot.entity</span></span><br></pre></td></tr></table></figure><h3 id="å…­-ç»“åˆmybatiså°†æ•°æ®åº“æ‰“é€š"><a class="markdownIt-Anchor" href="#å…­-ç»“åˆmybatiså°†æ•°æ®åº“æ‰“é€š"></a> å…­ã€ç»“åˆMyBatiså°†æ•°æ®åº“æ‰“é€š</h3><ol><li>åˆ›å»ºæ•°æ®åº“springbootå’Œuserè¡¨</li></ol><blockquote><p>åˆ›å»ºæ•°æ®åº“<br /><img src="b9729e82e8af40ec91cc6c0efbd9b2cc.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `<span class="keyword">user</span>`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `<span class="keyword">user</span>`  (</span><br><span class="line">  `id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;ä¸»é”®ID&#x27;</span>,</span><br><span class="line">  `name` <span class="type">varchar</span>(<span class="number">255</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_unicode_ci <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;å§“å&#x27;</span>,</span><br><span class="line">  `password` <span class="type">varchar</span>(<span class="number">255</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_unicode_ci <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;å¯†ç &#x27;</span>,</span><br><span class="line">  `sex` <span class="type">varchar</span>(<span class="number">255</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_unicode_ci <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;æ€§åˆ«&#x27;</span>,</span><br><span class="line">  `age` <span class="type">int</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;å¹´é¾„&#x27;</span>,</span><br><span class="line">  `phone` <span class="type">varchar</span>(<span class="number">255</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_unicode_ci <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;ç”µè¯&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`) <span class="keyword">USING</span> BTREE</span><br><span class="line">) ENGINE <span class="operator">=</span> InnoDB <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="operator">=</span> utf8mb4 <span class="keyword">COLLATE</span> <span class="operator">=</span> utf8mb4_unicode_ci COMMENT <span class="operator">=</span> <span class="string">&#x27;ç”¨æˆ·ä¿¡æ¯è¡¨&#x27;</span> ROW_FORMAT <span class="operator">=</span> <span class="keyword">Dynamic</span>;</span><br></pre></td></tr></table></figure><p>è¡¥å……æ•°æ®</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `<span class="keyword">user</span>` <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;å¼ ä¸‰&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;ç”·&#x27;</span>, <span class="number">21</span>, <span class="string">&#x27;10000000000&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `<span class="keyword">user</span>` <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">&#x27;æå››&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;å¥³&#x27;</span>, <span class="number">22</span>, <span class="string">&#x27;18888888888&#x27;</span>);</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆç»“æœï¼š<br /><img src="33876e66d4c845109901d75c028ffef9.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />2. åœ¨Userç±»é‡ŒåŠ æ˜ å°„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.persistence.Table;</span><br><span class="line"><span class="comment">//æŠŠuserè¡¨æ˜ å°„åˆ°ç±»é‡Œé¢å»</span></span><br><span class="line"><span class="meta">@Table(name = &quot;user&quot;)</span></span><br></pre></td></tr></table></figure><ol start="3"><li>ä¿®æ”¹UserController</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.springboot.entity.User;</span><br><span class="line"><span class="keyword">import</span> com.example.springboot.service.UserService;</span><br><span class="line"><span class="keyword">import</span> jakarta.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¡¨æ˜æ˜¯æ¥å£çš„å…¥å£</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åŒ¹é…ä¸€ä¸ªåœ°å€,ç›¸å½“äºæ‰“å¼€å®¶é—¨çš„é’¥åŒ™.ä¸ºäº†è§„èŒƒï¼Œåœ°å€æœ€å¥½å’Œç±»åå‰å‡ ä¸ªå•è¯ä¸€æ ·</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    controllerè¦è°ƒç”¨service</span></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *     controlleré‡Œçš„ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒå…¶å®å°±æ˜¯æˆ‘ä»¬å¹³å¸¸è¯´çš„webé¡¹ç›®é‡Œçš„ä¸€ä¸ªæ¥å£çš„å…¥å£</span></span><br><span class="line"><span class="comment">     *     å¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸Šå†åŠ ä¸Šä¸€ä¸ªurl</span></span><br><span class="line"><span class="comment">     *     ä¹Ÿå¯ä»¥æŒ‡å®šè¯·æ±‚æ–¹å¼(å¢åˆ æ”¹æŸ¥)ï¼šGET POST PUT DELETE</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">start</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;æ¬¢è¿æ¥åˆ°æˆ‘çš„ç¬¬ä¸€ä¸ªSpringbootå·¥ç¨‹ï¼šå·²ç»å¯åŠ¨&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/start&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    å¯¼å…¥è¡¨çš„å„æ¡ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">getUser</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//æ‹¿userServiceçš„getUser,è¿”å›å€¼ä¹Ÿæ˜¯List</span></span><br><span class="line">        <span class="keyword">return</span>  userService.getUser();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>åˆ›å»ºå…¶ä»–çš„ç±»å’Œæ¥å£ï¼Œå› ä¸º</li></ol><blockquote><p>controllerè°ƒç”¨service<br />serviceè°ƒç”¨dao<br />daoè°ƒç”¨entity</p></blockquote><p><img src="49220368e7484147a6e65993a1b06109.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>UserService:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.springboot.dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> com.example.springboot.entity.User;</span><br><span class="line"><span class="keyword">import</span> jakarta.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¡¨æ˜æ˜¯serviceå±‚</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    serviceè°ƒç”¨dao</span></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">getUser</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (List&lt;User&gt;) userDao.getUser();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UserDaoæ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.springboot.entity.User;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Select;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"><span class="keyword">import</span> tk.mybatis.mapper.common.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¡¨ç¤ºæ˜¯æŒä¹…å±‚çš„</span></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç»§æ‰¿Mapperé‡ŒUserçš„å®ä½“</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserDao</span> <span class="keyword">extends</span> <span class="title class_">Mapper</span>&lt;User&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//    åŸºäºæ³¨è§£çš„æ–¹å¼,æŸ¥è¯¢userè¡¨é‡Œçš„å…¨éƒ¨ä¿¡æ¯</span></span><br><span class="line">    <span class="meta">@Select(&quot;select * from user&quot;)</span></span><br><span class="line">    List&lt;User&gt; <span class="title function_">getUser</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="5"><li>æœç´¢<a href="http://localhost:8080/user/start">http://localhost:8080/user/start</a> ï¼ˆè¿™é‡Œè‹¥æ˜¯æ‰“ä¸å¼€ï¼Œå¯ä»¥çœ‹çœ‹æ˜¯å¦æ˜¯æ•°æ®åº“æ²¡å¯åŠ¨æˆ–è€…æ˜¯è·¯å¾„é”™è¯¯ï¼Œå¯çœ‹ç¬¬ä¸ƒç‚¹3ï¼‰<br /><img src="4256db6828d84f62808225618fc2085c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></li></ol><h3 id="ä¸ƒ-å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜"><a class="markdownIt-Anchor" href="#ä¸ƒ-å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜"></a> ä¸ƒã€å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜</h3><p>1.mybatisç‰ˆæœ¬ä¸å…¼å®¹ï¼Œå»pom.xmlé‡Œæ›¿æ¢ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ›¿æ¢æ—§ä¾èµ– --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span> <span class="comment">&lt;!-- æ”¯æŒ Spring Boot 3.x --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>æ–¹æ³•ï¼šé€šè¿‡IDEåˆ›å»ºï¼ˆä»¥IntelliJ IDEAä¸ºä¾‹ï¼‰</li></ol><blockquote><p>ï¼ˆ1ï¼‰æ–°å»ºSpring Booté¡¹ç›® ä½¿ç”¨ Spring Initializr åˆ›å»ºé¡¹ç›®ï¼ˆé»˜è®¤ç”Ÿæˆ .propertiesï¼‰ã€‚</p><p>ï¼ˆ2ï¼‰å³é”®èµ„æºç›®å½• å®šä½åˆ° src/main/resources â†’ å³é”®é€‰æ‹© New â†’ Fileã€‚</p><p>ï¼ˆ3ï¼‰è¾“å…¥æ–‡ä»¶å ç›´æ¥è¾“å…¥ application.yml â†’ ç¡®è®¤åˆ›å»ºã€‚</p></blockquote><ol start="3"><li>è·¯å¾„é”™è¯¯æˆ–è€…æ˜¯æ•°æ®åº“æ²¡å¯åŠ¨<br />ï¼ˆ1ï¼‰æ£€æŸ¥ymlé‡Œçš„mybatisé…ç½®è·¯å¾„ï¼šæ˜¯å¦åœ¨å¯¹åº”åŒ…çš„ä¸‹é¢<br /><img src="cc6da6b4771147bb9c4ee5307f3ffb5e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />æ£€æŸ¥æ•°æ®åº“é…ç½®æ˜¯å¦æ˜¯è‡ªå·±çš„æ•°æ®åº“åç§°å‡ºé”™<br /><img src="87e9c99d69f74105b349acf780031f40.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="c30bd96d359d41d7a87edd7361bec15d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ï¼ˆ2ï¼‰å»cmdé‡Œé¢æŸ¥çœ‹æœåŠ¡å™¨æ˜¯å¦å¯åŠ¨</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net start mysql</span><br></pre></td></tr></table></figure><p>æ³¨æ„mysqlä¸ºè‡ªå·±çš„ï¼Œä¸€èˆ¬ä¸ºmysql,ä½†æ˜¯æˆ‘çš„æ˜¯mysql8.0,æ‰€ä»¥æˆ‘çš„æ•ˆæœå›¾å¦‚ä¸‹<br /><img src="b7f95039dbc6433b84409b66d267648f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="å…«-æ‰“åŒ…åº”ç”¨"><a class="markdownIt-Anchor" href="#å…«-æ‰“åŒ…åº”ç”¨"></a> å…«ã€æ‰“åŒ…åº”ç”¨</h3><p>åœ¨é¡¹ç›®ç›®å½•ä¸‹ï¼Œæ‰“å¼€ç»ˆç«¯å¹¶ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‰“åŒ…åº”ç”¨ï¼š</p><p>å¯¹äº Mavenï¼š</p><blockquote><p>mvn clean package</p></blockquote><p>å¯¹äº Gradleï¼š</p><blockquote><p>./gradlew clean bootJar</p></blockquote><p>æ³¨é‡Šï¼š</p><blockquote><p>mvn clean package å‘½ä»¤ä¼šæ¸…ç†é¡¹ç›®å¹¶æ„å»ºä¸€ä¸ªæ–°çš„ JAR æ–‡ä»¶ã€‚<br />./gradlew clean bootJar å¯¹äº Gradle é¡¹ç›®åŒæ ·ä¼šå®Œæˆæ¸…ç†å¹¶ç”Ÿæˆå¯æ‰§è¡Œçš„ JAR æ–‡ä»¶ã€‚</p></blockquote><p>æ‰“åŒ…å®Œæˆåï¼Œæ‚¨å¯ä»¥åœ¨ä»¥ä¸‹è·¯å¾„æ‰¾åˆ°ç”Ÿæˆçš„ JAR æ–‡ä»¶ï¼š</p><blockquote><p>Mavenï¼štarget ç›®å½•ä¸‹ï¼Œå¦‚ target/springboot-0.0.1-SNAPSHOT.jar<br />Gradleï¼šbuild/libs ç›®å½•ä¸‹ï¼Œå¦‚ build/libs/springboot-0.0.1-SNAPSHOT.jar</p></blockquote><h3 id="ä¹-ä»£ç "><a class="markdownIt-Anchor" href="#ä¹-ä»£ç "></a> ä¹ã€ä»£ç </h3><p>UserController</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.springboot.entity.User;</span><br><span class="line"><span class="keyword">import</span> com.example.springboot.service.UserService;</span><br><span class="line"><span class="keyword">import</span> jakarta.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¡¨æ˜æ˜¯æ¥å£çš„å…¥å£</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åŒ¹é…ä¸€ä¸ªåœ°å€,ç›¸å½“äºæ‰“å¼€å®¶é—¨çš„é’¥åŒ™.ä¸ºäº†è§„èŒƒï¼Œåœ°å€æœ€å¥½å’Œç±»åå‰å‡ ä¸ªå•è¯ä¸€æ ·</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    controllerè¦è°ƒç”¨service</span></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *     controlleré‡Œçš„ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒå…¶å®å°±æ˜¯æˆ‘ä»¬å¹³å¸¸è¯´çš„webé¡¹ç›®é‡Œçš„ä¸€ä¸ªæ¥å£çš„å…¥å£</span></span><br><span class="line"><span class="comment">     *     å¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸Šå†åŠ ä¸Šä¸€ä¸ªurl</span></span><br><span class="line"><span class="comment">     *     ä¹Ÿå¯ä»¥æŒ‡å®šè¯·æ±‚æ–¹å¼(å¢åˆ æ”¹æŸ¥)ï¼šGET POST PUT DELETE</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">start</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;æ¬¢è¿æ¥åˆ°æˆ‘çš„ç¬¬ä¸€ä¸ªSpringbootå·¥ç¨‹ï¼šå·²ç»å¯åŠ¨&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/start&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    å¯¼å…¥è¡¨çš„å„æ¡ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">getUser</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//æ‹¿userServiceçš„getUser,è¿”å›å€¼ä¹Ÿæ˜¯List</span></span><br><span class="line">        <span class="keyword">return</span>  userService.getUser();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UserDao</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.springboot.entity.User;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Select;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"><span class="keyword">import</span> tk.mybatis.mapper.common.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¡¨ç¤ºæ˜¯æŒä¹…å±‚çš„</span></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç»§æ‰¿Mapperé‡ŒUserçš„å®ä½“</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserDao</span> <span class="keyword">extends</span> <span class="title class_">Mapper</span>&lt;User&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//    åŸºäºæ³¨è§£çš„æ–¹å¼,æŸ¥è¯¢userè¡¨é‡Œçš„å…¨éƒ¨ä¿¡æ¯</span></span><br><span class="line">    <span class="meta">@Select(&quot;select * from user&quot;)</span></span><br><span class="line">    List&lt;User&gt; <span class="title function_">getUser</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>User</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.GeneratedValue;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.GenerationType;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.Id;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.Table;</span><br><span class="line"><span class="comment">//æŠŠuserè¡¨æ˜ å°„åˆ°ç±»é‡Œé¢å»</span></span><br><span class="line"><span class="meta">@Table(name = &quot;user&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line"><span class="comment">//    è¡¨æ˜Idæ˜¯ä¸»é”®</span></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    ç­–ç•¥,è¡¨æ˜ä¸»é”®æ˜¯é€’å¢çš„</span></span><br><span class="line">    <span class="meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(String id,String name,String sex,String age,String password,String phone )</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.id= Integer.parseInt(id);</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">        <span class="built_in">this</span>.sex=sex;</span><br><span class="line">        <span class="built_in">this</span>.age= Integer.parseInt(age);</span><br><span class="line">        <span class="built_in">this</span>.password=password;</span><br><span class="line">        <span class="built_in">this</span>.phone=phone;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    mybatiséœ€è¦</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// æ— å‚æ„é€ æ–¹æ³•</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSex</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSex</span><span class="params">(String sex)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPassword</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPassword</span><span class="params">(String password)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPhone</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> phone;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPhone</span><span class="params">(String phone)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.phone = phone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UserService</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.springboot.dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> com.example.springboot.entity.User;</span><br><span class="line"><span class="keyword">import</span> jakarta.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¡¨æ˜æ˜¯serviceå±‚</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    serviceè°ƒç”¨dao</span></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">getUser</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (List&lt;User&gt;) userDao.getUser();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>SpringbootApplication</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboot;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.mybatis.spring.annotation.MapperScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰«æ</span></span><br><span class="line"><span class="meta">@MapperScan(&quot;com.example.springboot.dao&quot;)</span> <span class="comment">// æ›¿æ¢ä¸ºä½ çš„å®é™… DAO åŒ…è·¯å¾„</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringbootApplication</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(SpringbootApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UserMapper.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;.//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span> =<span class="string">&quot;com.example.springboot.dao.UserDao&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><p>application.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line"><span class="comment">#application:</span></span><br><span class="line">  <span class="comment">#name: myapp</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ•°æ®åº“é…ç½®</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span> <span class="comment">#ä½ æœ¬åœ°çš„æ•°æ®åº“ç”¨æˆ·å</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">cjm2003</span> <span class="comment">#ä½ æœ¬åœ°çš„æ•°æ®åº“å¯†ç </span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/springboot?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=Asia/Shanghai</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#é…ç½®mybatiså®ä½“é…ç½®</span></span><br><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:mapper/*.xml</span> <span class="comment">#æ˜ å°„åˆ°resources/mapper/User.xmlé‡Œ</span></span><br><span class="line">  <span class="attr">type-aliases-package:</span> <span class="string">com.example.springboot.entity</span></span><br><span class="line"><span class="comment">#  configuration:</span></span><br><span class="line"><span class="comment">#    map-underscore-to-camel-case: true  # è‡ªåŠ¨è½¬æ¢ä¸‹åˆ’çº¿å‘½ååˆ°é©¼å³°å‘½å</span></span><br></pre></td></tr></table></figure><p>pom.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springboot<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>springboot<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>springboot<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">licenses</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">license</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">licenses</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">developers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">developer</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">developers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scm</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">connection</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">developerConnection</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tag</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">scm</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>17<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- æ›¿æ¢æ—§ä¾èµ– --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span> <span class="comment">&lt;!-- æ”¯æŒ Spring Boot 3.x --&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>tk.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mapper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.1.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•å¿«é€Ÿåˆ é™¤Wordæ–‡æ¡£ä¸­çš„è‹±æ–‡å†…å®¹</title>
      <link href="/2025/08/20/Other/%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E5%88%A0%E9%99%A4Word%E6%96%87%E6%A1%A3%E4%B8%AD%E7%9A%84%E8%8B%B1%E6%96%87%E5%86%85%E5%AE%B9/"/>
      <url>/2025/08/20/Other/%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E5%88%A0%E9%99%A4Word%E6%96%87%E6%A1%A3%E4%B8%AD%E7%9A%84%E8%8B%B1%E6%96%87%E5%86%85%E5%AE%B9/</url>
      
        <content type="html"><![CDATA[<h2 id="å¦‚ä½•å¿«é€Ÿåˆ é™¤wordæ–‡æ¡£ä¸­çš„è‹±æ–‡å†…å®¹"><a class="markdownIt-Anchor" href="#å¦‚ä½•å¿«é€Ÿåˆ é™¤wordæ–‡æ¡£ä¸­çš„è‹±æ–‡å†…å®¹"></a> å¦‚ä½•å¿«é€Ÿåˆ é™¤Wordæ–‡æ¡£ä¸­çš„è‹±æ–‡å†…å®¹</h2><h3 id="æ‰“å¼€wordæ–‡æ¡£"><a class="markdownIt-Anchor" href="#æ‰“å¼€wordæ–‡æ¡£"></a> â—‰ æ‰“å¼€Wordæ–‡æ¡£</h3><p>é¦–å…ˆï¼Œåœ¨ç”µè„‘ä¸­ <strong>å¯åŠ¨WordåŠå…¬è½¯ä»¶</strong> ï¼Œæ–°å»ºä¸€ä¸ªç©ºç™½æ–‡æ¡£ï¼Œå¹¶åœ¨å…¶ä¸­è¾“å…¥åŒ…å«ä¸­è‹±æ–‡çš„æ–‡æœ¬æ®µè½ã€‚</p><h3 id="ä½¿ç”¨æ›¿æ¢åŠŸèƒ½"><a class="markdownIt-Anchor" href="#ä½¿ç”¨æ›¿æ¢åŠŸèƒ½"></a> â—‰ ä½¿ç”¨æ›¿æ¢åŠŸèƒ½</h3><p>æ¥ç€ï¼Œåœ¨ <strong>å·¥å…·æ çš„â€œå¼€å§‹â€é€‰é¡¹</strong> ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ–‡æ¡£çš„å³ä¸Šè§’æ‰¾åˆ°å¹¶ç‚¹å‡» <strong>â€œæ›¿æ¢â€</strong> åŠŸèƒ½ã€‚è¿™ä¸€æ“ä½œå°†è§¦å‘ <strong>â€œæŸ¥æ‰¾å’Œæ›¿æ¢â€å¯¹è¯æ¡†</strong> çš„å¼¹å‡ºã€‚</p><h3 id="é€‰æ‹©ç‰¹æ®Šæ ¼å¼"><a class="markdownIt-Anchor" href="#é€‰æ‹©ç‰¹æ®Šæ ¼å¼"></a> â—‰ é€‰æ‹©ç‰¹æ®Šæ ¼å¼</h3><p>åœ¨å¯¹è¯æ¡†çš„å·¦ä¸‹è§’ï¼Œæˆ‘ä»¬ç‚¹å‡» <strong>â€œæ›´å¤šâ€</strong> ä»¥å±•å¼€æ›´å¤šé€‰é¡¹ã€‚éšåï¼Œä¼šå‡ºç°ä¸€ä¸ªä¸‹æ‹‰çª—å£ï¼Œåœ¨å…¶ä¸­æˆ‘ä»¬é€‰æ‹© <strong>â€œç‰¹æ®Šæ ¼å¼â€</strong> ã€‚åœ¨å³ä¾§å¼¹å‡ºçš„ç‰¹æ®Šæ ¼å¼é€‰é¡¹ä¸­ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥é€‰æ‹© <strong>â€œä»»æ„å­—æ¯â€</strong> ã€‚é€‰å®šåï¼ŒæŸ¥æ‰¾å†…å®¹æ ä¸­ä¼šå‡ºç°ä¸€ä¸ª <strong>â€œ^$â€</strong> ç¬¦å·ã€‚æœ€åï¼Œæˆ‘ä»¬ç‚¹å‡» <strong>â€œå…¨éƒ¨æ›¿æ¢â€</strong> æŒ‰é’®ï¼Œå¹¶è¿”å›åˆ°æ–‡æ¡£ã€‚æ­¤æ—¶ï¼ŒåŸå…ˆçš„è‹±æ–‡å†…å®¹å·²å…¨éƒ¨æ¶ˆå¤±ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€redisã€‘centos7ä¸‹å®‰è£…redis7_centos7å®‰è£…redis7</title>
      <link href="/2025/08/20/Redis/%E3%80%90redis%E3%80%91centos7%E4%B8%8B%E5%AE%89%E8%A3%85redis7_centos7%E5%AE%89%E8%A3%85redis7/"/>
      <url>/2025/08/20/Redis/%E3%80%90redis%E3%80%91centos7%E4%B8%8B%E5%AE%89%E8%A3%85redis7_centos7%E5%AE%89%E8%A3%85redis7/</url>
      
        <content type="html"><![CDATA[<p>åœ¨CentOS 7ä¸‹å®‰è£…Redis7å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹æ³•å®ç°ï¼šæ‰‹åŠ¨ç¼–è¯‘å®‰è£…å’Œä½¿ç”¨YUMè¿›è¡Œå®‰è£…ã€‚</p><p>CentOS 7ç³»ç»Ÿçš„ç¯å¢ƒå’Œç‰ˆæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> /etc/centos-release</span><br><span class="line">CentOS Linux release 7.9.2009 (Core)</span><br></pre></td></tr></table></figure><h2 id="æ‰‹åŠ¨ç¼–è¯‘å®‰è£…"><a class="markdownIt-Anchor" href="#æ‰‹åŠ¨ç¼–è¯‘å®‰è£…"></a> æ‰‹åŠ¨ç¼–è¯‘å®‰è£…</h2><p>å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://redis.io/docs/latest/operate/oss%5C_and%5C_stack/install/install-redis/install-redis-from-source/">https://redis.io/docs/latest/operate/oss\_and\_stack/install/install-redis/install-redis-from-source/</a></p><ol><li>ä¸‹è½½Redis7å®‰è£…åŒ…ï¼š<br />ä»Redisçš„å®˜æ–¹ç½‘ç«™ä¸‹è½½Redis7çš„æºä»£ç åŒ…ã€‚ä¾‹å¦‚ï¼Œä¸‹è½½Redis7.2.0ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /opt/soft</span><br><span class="line">$ sudo wget https://download.redis.io/releases/redis-7.2.0.tar.gz</span><br></pre></td></tr></table></figure><ol start="2"><li>ç¼–è¯‘å¹¶å®‰è£…Redis7ï¼š<br />ä¸‹è½½å®Œæˆåï¼Œè§£å‹ç¼©æºä»£ç åŒ…ï¼Œå¹¶è¿›å…¥è§£å‹åçš„ç›®å½•è¿›è¡Œç¼–è¯‘å’Œå®‰è£…ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo tar -zxvf redis-7.2.0.tar.gz</span><br><span class="line">$ <span class="built_in">cd</span> redis-7.2.0</span><br><span class="line">$ sudo make</span><br><span class="line">$ sudo make install</span><br></pre></td></tr></table></figure><p>å¦‚æœç¼–è¯‘è¿‡ç¨‹ä¸­æŠ¥é”™ï¼Œå¾ˆæœ‰å¯èƒ½æ˜¯æ“ä½œç³»ç»Ÿæ²¡æœ‰å®‰è£…å¦‚ä¸‹ä¾èµ–ï¼ŒRedisçš„ç¼–è¯‘ä¾èµ–äºGCCå’Œä¸€äº›å…¶ä»–å¼€å‘å·¥å…·ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…è¿™äº›ä¾èµ–ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum update -y</span><br><span class="line">$ sudo yum install -y gcc tcl make</span><br></pre></td></tr></table></figure><p>åœ¨è§£å‹ç¼©æºä»£ç åŒ…ä¸‹æœ‰ä¸€ä¸ªREADME.mdæ–‡ä»¶ï¼Œä»‹ç»äº†å¦‚ä½•æºç <a href="https://so.csdn.net/so/search?q=%E5%AE%89%E8%A3%85redis&amp;spm=1001.2101.3001.7020">å®‰è£…redis</a>ã€‚</p><ol start="3"><li>é…ç½®Redisï¼š<br />ç¼–è¯‘å®‰è£…å®Œæˆåï¼ŒRedisçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆå¦‚redis-serverã€redis-cliï¼‰ä¼šè¢«æ”¾ç½®åœ¨/usr/local/bin/ç›®å½•ä¸‹ã€‚<br />Redisçš„é…ç½®æ–‡ä»¶é»˜è®¤ä½äºæºä»£ç ç›®å½•ä¸‹çš„redis.confã€‚å¯ä»¥å°†æ­¤æ–‡ä»¶å¤åˆ¶åˆ°/etc/æˆ–å…¶ä»–ä½ å–œæ¬¢çš„ä½ç½®ï¼Œå¹¶å¯¹å…¶è¿›è¡Œç¼–è¾‘ä»¥æ»¡è¶³éœ€æ±‚ã€‚</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo <span class="built_in">cp</span> redis.conf /etc/redis.conf</span><br><span class="line">$ sudo vim /etc/redis.conf</span><br></pre></td></tr></table></figure><p>æ ¹æ®éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š</p><ul><li>å°†bind 127.0.0.1æ”¹ä¸ºbind 0.0.0.0ï¼Œå…è®¸è¿œç¨‹è¿æ¥ï¼ˆå¦‚æœéœ€è¦çš„è¯ï¼‰ã€‚</li><li>å°†daemonize noæ”¹ä¸ºdaemonize yesï¼Œè®©Redisåœ¨åå°è¿è¡Œã€‚</li><li>è®¾ç½®å¯†ç ï¼ˆå¯é€‰ï¼‰ï¼Œå–æ¶ˆrequirepassçš„æ³¨é‡Šå¹¶è®¾ç½®å¯†ç ã€‚</li><li>è®¾ç½®æ—¥å¿—æ–‡ä»¶è·¯å¾„å’Œæ•°æ®åº“æŒä¹…åŒ–æ–¹å¼ç­‰ï¼ˆå¯é€‰ï¼‰ã€‚</li></ul><ol start="4"><li>å¯åŠ¨RedisæœåŠ¡ï¼š<br />é…ç½®å®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨RedisæœåŠ¡ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ redis-server /etc/redis.conf</span><br></pre></td></tr></table></figure><ol start="5"><li>éªŒè¯RedisæœåŠ¡ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ redis-cli</span><br><span class="line">127.0.0.1:6379&gt; auth redispass</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; ping</span><br><span class="line">PONG</span><br></pre></td></tr></table></figure><ol start="6"><li>è®¾ç½®Rediså¼€æœºè‡ªå¯ï¼š<br />å¦‚æœæƒ³è®©Redisåœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªsystemdæœåŠ¡å•å…ƒæ–‡ä»¶ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vim /etc/systemd/system/redis.service</span><br></pre></td></tr></table></figure><p>åœ¨æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼ˆæ³¨æ„ä¿®æ”¹ExecStartçš„è·¯å¾„ä»¥åŒ¹é…Redisé…ç½®æ–‡ä»¶ä½ç½®ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Redis In-Memory Data Store</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">User=redis</span><br><span class="line">Group=redis</span><br><span class="line">ExecStart=/usr/local/bin/redis-server /etc/redis.conf</span><br><span class="line">ExecStop=/usr/local/bin/redis-cli shutdown</span><br><span class="line">Restart=always</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªredisç”¨æˆ·å’Œç»„ï¼ˆå¦‚æœå®ƒä»¬ä¸å­˜åœ¨çš„è¯ï¼‰ï¼Œå¹¶å°†/etc/redis.confæ–‡ä»¶çš„æƒé™è®¾ç½®ç»™è¿™ä¸ªç”¨æˆ·ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo groupadd redis</span><br><span class="line">$ sudo useradd -g redis redis</span><br></pre></td></tr></table></figure><p>é‡æ–°åŠ è½½systemdé…ç½®ï¼Œå¯åŠ¨RedisæœåŠ¡ï¼Œå¹¶è®¾ç½®å¼€æœºè‡ªå¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo systemctl daemon-reload</span><br><span class="line">$ sudo systemctl start redis</span><br><span class="line">$ sudo systemctl <span class="built_in">enable</span> redis</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨yumè¿›è¡Œå®‰è£…"><a class="markdownIt-Anchor" href="#ä½¿ç”¨yumè¿›è¡Œå®‰è£…"></a> ä½¿ç”¨YUMè¿›è¡Œå®‰è£…</h2><ol><li>æ›´æ–°YUMæºï¼š<br />ç”±äºCentOS 7å®˜æ–¹é•œåƒå·²ç»è¢«ä¸‹å•ï¼Œå®˜æ–¹çš„é•œåƒåœ°å€<code>mirrorlist.centos.org</code>æ— æ³•æ‰¾åˆ°æ‰€éœ€çš„æ–‡ä»¶ï¼Œè¿™é‡Œä½¿ç”¨é˜¿é‡Œäº‘çš„é•œåƒåœ°å€ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo</span><br></pre></td></tr></table></figure><p>åœ¨è¿›è¡Œä»»ä½•å®‰è£…ä¹‹å‰ï¼Œé¦–å…ˆè¦ç¡®ä¿YUMæºæ˜¯æœ€æ–°çš„ã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ›´æ–°YUMæºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum update -y</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸æ›´æ”¹é•œåƒåœ°å€ï¼Œæ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ä¼šæŠ›å‡ºå¦‚ä¸‹é”™è¯¯ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Could not retrieve mirrorlist http://mirrorlist.centos.org/?release=7&amp;arch=x86_64&amp;repo=os&amp;infra=stock error was</span><br><span class="line">14: curl#6 - &quot;Could not resolve host: mirrorlist.centos.org; Unknown error&quot;</span><br></pre></td></tr></table></figure><ol start="2"><li>æ·»åŠ EPELå’ŒRemi Repositoryï¼š<br />Redis7ä¸åœ¨CentOS 7çš„é»˜è®¤ä»“åº“ä¸­ï¼Œå› æ­¤éœ€è¦æ·»åŠ EPELï¼ˆExtra Packages for Enterprise Linuxï¼‰å’ŒRemi Repositoryã€‚</li></ol><p>å®‰è£…EPELï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum install epel-release -y</span><br></pre></td></tr></table></figure><p>å®‰è£…Remi repositoryï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum install -y https://mirrors.tuna.tsinghua.edu.cn/remi/enterprise/remi-release-7.rpm</span><br></pre></td></tr></table></figure><p>å¯ç”¨Remiä»“åº“ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum-config-manager --<span class="built_in">enable</span> remi</span><br></pre></td></tr></table></figure><ol start="3"><li>å®‰è£…Redis 7ï¼š<br />ä½¿ç”¨YUMå‘½ä»¤ä»Remiä»“åº“ä¸­ä¸‹è½½å¹¶å®‰è£…Redis 7ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum install redis -y</span><br></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶é»˜è®¤ä½ç½®åœ¨/etc/redis.confã€‚</p><ol start="4"><li>å¯åŠ¨RedisæœåŠ¡ï¼š<br />å®‰è£…å®Œæˆåï¼Œå¯åŠ¨RedisæœåŠ¡ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo systemctl start redis</span><br></pre></td></tr></table></figure><ol start="5"><li>è®¾ç½®RedisæœåŠ¡ä¸ºå¼€æœºå¯åŠ¨ï¼š<br />ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç¡®ä¿Redisåœ¨ç³»ç»Ÿé‡å¯æ—¶è‡ªåŠ¨å¯åŠ¨ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo systemctl <span class="built_in">enable</span> redis</span><br></pre></td></tr></table></figure><ol start="6"><li>éªŒè¯Rediså®‰è£…ï¼š<br />ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥RedisæœåŠ¡çš„çŠ¶æ€ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo systemctl status redis</span><br></pre></td></tr></table></figure><p>å¦‚æœRedisæœåŠ¡æ­£åœ¨è¿è¡Œï¼Œåº”èƒ½çœ‹åˆ°â€œactive (running)â€çš„çŠ¶æ€ã€‚</p><h2 id="redisconfå¸¸ç”¨é…ç½®"><a class="markdownIt-Anchor" href="#redisconfå¸¸ç”¨é…ç½®"></a> redis.confå¸¸ç”¨é…ç½®</h2><p>å¼€å¯å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">daemonize <span class="built_in">yes</span></span><br></pre></td></tr></table></figure><p>daemonizeè®¾ç½®yesæˆ–è€…noåŒºåˆ«ï¼š</p><ul><li><p>yesï¼šä»£è¡¨å¼€å¯å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ï¼Œredisä¼šåœ¨åå°è¿è¡Œï¼Œå¹¶å°†è¿›ç¨‹pidå·å†™å…¥è‡³redis.confé€‰é¡¹pidfileè®¾ç½®çš„æ–‡ä»¶ä¸­ã€‚</p></li><li><p>noï¼šå¯åŠ¨å°†è¿›å…¥redisçš„å‘½ä»¤è¡Œç•Œé¢ï¼Œexitæˆ–è€…å…³é—­è¿æ¥å·¥å…·(puttyï¼Œxshellç­‰)éƒ½ä¼šå¯¼è‡´redisè¿›ç¨‹é€€å‡ºã€‚</p></li></ul><p>bindé…ç½®é¡¹ç”¨äºæŒ‡å®šRedisæœåŠ¡å™¨ç›‘å¬çš„IPåœ°å€ï¼Œé»˜è®¤æ˜¯ä½¿ç”¨çš„æœ¬åœ°å›ç¯åœ°å€ï¼Œä¹Ÿå°±æ˜¯æœ¬åœ°æ‰èƒ½è¿æ¥ï¼Œå¯ä»¥æ³¨é‡Šæ‰è¿™ä¸€è¡Œæˆ–è€…æ”¹ä¸ºbind 0.0.0.0æ”¾å¼€æ‰€æœ‰çš„å¤–éƒ¨ç½‘ç»œè®¿é—®ã€‚</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#bind 127.0.0.1</span><br><span class="line">bind 0.0.0.0</span><br></pre></td></tr></table></figure><p>protected-modeç”¨æ¥é™åˆ¶å¯¹RedisæœåŠ¡å™¨çš„è®¿é—®ã€‚</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">protected-mode yes</span><br></pre></td></tr></table></figure><p>å¤–éƒ¨æƒ³è¦è®¿é—®redisæœåŠ¡ï¼Œé™¤äº†éœ€è¦ä¿®æ”¹bindçš„IPåœ°å€ï¼Œè¿˜éœ€è¦æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ä¹‹ä¸€ï¼š</p><ul><li>protected-modeè®¾ç½®ä¸ºnoï¼Œå°†å…è®¸Redisæ¥å—æ¥è‡ªä»»ä½•ç½‘ç»œæ¥å£çš„è¿æ¥è¯·æ±‚ï¼Œåªè¦è¿™äº›æ¥å£è¢«Redisç›‘å¬ã€‚</li><li>protected-modeè®¾ç½®ä¸ºyesï¼ŒåŒæ—¶è®¾ç½®å¯†ç ï¼ˆrequirepassï¼‰</li></ul>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redisæ·±åº¦è§£æï¼šç‰¹æ€§ã€ç¼“å­˜ç­–ç•¥ã€æŒä¹…åŒ–ä¸é›†ç¾¤å®æˆ˜</title>
      <link href="/2025/08/20/Redis/Redis%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90%EF%BC%9A%E7%89%B9%E6%80%A7%E3%80%81%E7%BC%93%E5%AD%98%E7%AD%96%E7%95%A5%E3%80%81%E6%8C%81%E4%B9%85%E5%8C%96%E4%B8%8E%E9%9B%86%E7%BE%A4%E5%AE%9E%E6%88%98/"/>
      <url>/2025/08/20/Redis/Redis%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90%EF%BC%9A%E7%89%B9%E6%80%A7%E3%80%81%E7%BC%93%E5%AD%98%E7%AD%96%E7%95%A5%E3%80%81%E6%8C%81%E4%B9%85%E5%8C%96%E4%B8%8E%E9%9B%86%E7%BE%A4%E5%AE%9E%E6%88%98/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-redis-æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#ä¸€-redis-æ˜¯ä»€ä¹ˆ"></a> ä¸€ã€Redis æ˜¯ä»€ä¹ˆ</h2><p>RedisÂ æ˜¯Remote Dictionary Server(Redis) çš„ç¼©å†™ï¼Œæ˜¯ä¸€ä¸ªä½¿ç”¨ Cè¯­è¨€ç¼–å†™ã€éµå®ˆBSDåè®®ã€æ”¯æŒç½‘ç»œã€å¯åŸºäºå†…å­˜äº¦å¯æŒä¹…åŒ–çš„æ—¥å¿—å‹çš„Key-Valueæ•°æ®åº“ï¼Œå¹¶æä¾›å¤šç§è¯­è¨€çš„APIã€‚</p><p>å®ƒæ˜¯ä¸€ç§ NoSQLï¼ˆnot-only sqlï¼Œæ³›æŒ‡éå…³ç³»å‹æ•°æ®åº“ï¼‰çš„æ•°æ®åº“ï¼Œå¯ä»¥ç”¨ä½œæ•°æ®åº“ã€ç¼“å­˜ã€æ¶ˆæ¯ä¸­é—´ä»¶ã€åˆ†å¸ƒå¼é”ç­‰ã€‚</p><h2 id="äºŒ-redis-çš„ç‰¹ç‚¹å’ŒåŠŸèƒ½"><a class="markdownIt-Anchor" href="#äºŒ-redis-çš„ç‰¹ç‚¹å’ŒåŠŸèƒ½"></a> äºŒã€Redis çš„ç‰¹ç‚¹å’ŒåŠŸèƒ½</h2><ul><li><p>æ€§èƒ½ä¼˜ç§€ï¼Œæ•°æ®åœ¨å†…å­˜ä¸­ï¼Œè¯»å†™é€Ÿåº¦éå¸¸å¿«ï¼Œæ”¯æŒå¹¶å‘ 10W QPSï¼ˆæ¯ç§’æŸ¥è¯¢é‡ï¼‰ã€‚</p></li><li><p>å•è¿›ç¨‹å•çº¿ç¨‹ï¼Œæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œé‡‡ç”¨ IO å¤šè·¯å¤ç”¨æœºåˆ¶ã€‚</p></li><li><p>ä¸°å¯Œçš„æ•°æ®ç±»å‹ï¼Œæ”¯æŒå­—ç¬¦ä¸²ï¼ˆstringsï¼‰ã€æ•£åˆ—ï¼ˆhashesï¼‰ã€åˆ—è¡¨ï¼ˆlistsï¼‰ã€é›†åˆï¼ˆsetsï¼‰ã€æœ‰åºé›†åˆï¼ˆsorted setsï¼‰ç­‰ã€‚</p></li><li><p>æ”¯æŒæ•°æ®æŒä¹…åŒ–ã€‚</p><p>å¯ä»¥å°†å†…å­˜ä¸­æ•°æ®ä¿å­˜åœ¨ç£ç›˜ä¸­ï¼Œé‡å¯æ—¶åŠ è½½ã€‚</p></li><li><p>ä¸»ä»å¤åˆ¶ï¼Œå“¨å…µï¼Œé«˜å¯ç”¨ã€‚</p></li><li><p>å¯ä»¥ç”¨ä½œåˆ†å¸ƒå¼é”ã€‚</p></li><li><p>å¯ä»¥ä½œä¸ºæ¶ˆæ¯ä¸­é—´ä»¶ä½¿ç”¨ï¼Œæ”¯æŒå‘å¸ƒè®¢é˜…</p></li></ul><h2 id="ä¸‰-ç¼“å­˜å’Œæ•°æ®åº“æ•°æ®ä¸€è‡´æ€§é—®é¢˜"><a class="markdownIt-Anchor" href="#ä¸‰-ç¼“å­˜å’Œæ•°æ®åº“æ•°æ®ä¸€è‡´æ€§é—®é¢˜"></a> ä¸‰ã€ç¼“å­˜å’Œæ•°æ®åº“æ•°æ®ä¸€è‡´æ€§é—®é¢˜</h2><p>åˆ†å¸ƒå¼ç¯å¢ƒä¸‹éå¸¸å®¹æ˜“å‡ºç°ç¼“å­˜å’Œæ•°æ®åº“é—´æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼Œé’ˆå¯¹è¿™ä¸€ç‚¹ï¼Œå¦‚æœé¡¹ç›®å¯¹ç¼“å­˜çš„è¦æ±‚æ˜¯å¼ºä¸€è‡´æ€§çš„ï¼Œé‚£ä¹ˆå°±ä¸è¦ä½¿ç”¨ç¼“å­˜ã€‚</p><p>æˆ‘ä»¬åªèƒ½é‡‡å–åˆé€‚çš„ç­–ç•¥æ¥é™ä½ç¼“å­˜å’Œæ•°æ®åº“é—´æ•°æ®ä¸ä¸€è‡´çš„æ¦‚ç‡ï¼Œè€Œæ— æ³•ä¿è¯ä¸¤è€…é—´çš„å¼ºä¸€è‡´æ€§ã€‚</p><h2 id="å››-ç¼“å­˜é€‰å‹redis-å’Œ-memcached-çš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#å››-ç¼“å­˜é€‰å‹redis-å’Œ-memcached-çš„åŒºåˆ«"></a> å››ã€ç¼“å­˜é€‰å‹ï¼ˆRedis å’Œ Memcached çš„åŒºåˆ«ï¼‰</h2><p>Redis å’Œ Memcached çš„åŒºåˆ«</p><ul><li><p>**å­˜å‚¨æ–¹å¼ä¸Šï¼š**Memcache ä¼šæŠŠæ•°æ®å…¨éƒ¨å­˜åœ¨å†…å­˜ä¹‹ä¸­ï¼Œæ–­ç”µåä¼šæŒ‚æ‰ï¼Œæ•°æ®ä¸èƒ½è¶…è¿‡å†…å­˜å¤§å°ã€‚Redis æœ‰éƒ¨åˆ†æ•°æ®å­˜åœ¨ç¡¬ç›˜ä¸Šï¼Œè¿™æ ·èƒ½ä¿è¯æ•°æ®çš„æŒä¹…æ€§ã€‚</p></li><li><p>**æ•°æ®æ”¯æŒç±»å‹ä¸Šï¼š**Memcache å¯¹æ•°æ®ç±»å‹çš„æ”¯æŒç®€å•ï¼Œåªæ”¯æŒç®€å•çš„ key-valueï¼Œï¼Œè€Œ Redis æ”¯æŒäº”ç§æ•°æ®ç±»å‹ã€‚</p></li><li><p>**ä½¿ç”¨åº•å±‚æ¨¡å‹ä¸åŒï¼š**å®ƒä»¬ä¹‹é—´åº•å±‚å®ç°æ–¹å¼ä»¥åŠä¸å®¢æˆ·ç«¯ä¹‹é—´é€šä¿¡çš„åº”ç”¨åè®®ä¸ä¸€æ ·ã€‚Redis ç›´æ¥è‡ªå·±æ„å»ºäº† VM æœºåˆ¶ï¼Œå› ä¸ºä¸€èˆ¬çš„ç³»ç»Ÿè°ƒç”¨ç³»ç»Ÿå‡½æ•°çš„è¯ï¼Œä¼šæµªè´¹ä¸€å®šçš„æ—¶é—´å»ç§»åŠ¨å’Œè¯·æ±‚ã€‚</p></li><li><p>**Value çš„å¤§å°ï¼š**Redis å¯ä»¥è¾¾åˆ° 1GBï¼Œè€Œ Memcache åªæœ‰ 1MB</p></li></ul><h2 id="äº”-redis-ä¸ºä»€ä¹ˆèƒ½è¿™ä¹ˆå¿«"><a class="markdownIt-Anchor" href="#äº”-redis-ä¸ºä»€ä¹ˆèƒ½è¿™ä¹ˆå¿«"></a> äº”ã€Redis ä¸ºä»€ä¹ˆèƒ½è¿™ä¹ˆå¿«</h2><p>å®˜æ–¹æä¾›çš„æ•°æ®å¯ä»¥è¾¾åˆ° 100000+ çš„ QPSï¼ˆæ¯ç§’å†…çš„æŸ¥è¯¢æ¬¡æ•°ï¼‰ï¼Œè¿™ä¸ªæ•°æ®ä¸æ¯” Memcached å·®ã€‚</p><ul><li><p>Redis å®Œå…¨åŸºäºå†…å­˜ï¼Œç»å¤§éƒ¨åˆ†è¯·æ±‚æ˜¯çº¯ç²¹çš„å†…å­˜æ“ä½œï¼Œéå¸¸è¿…é€Ÿï¼Œæ•°æ®å­˜åœ¨å†…å­˜ä¸­ï¼Œç±»ä¼¼äº HashMapï¼ŒHashMap çš„ä¼˜åŠ¿å°±æ˜¯æŸ¥æ‰¾å’Œæ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ã€‚</p></li><li><p>æ•°æ®ç»“æ„ç®€å•ï¼Œå¯¹æ•°æ®æ“ä½œä¹Ÿç®€å•ã€‚</p></li><li><p>é‡‡ç”¨å•çº¿ç¨‹ï¼Œé¿å…äº†ä¸å¿…è¦çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œç«äº‰æ¡ä»¶ï¼Œä¸å­˜åœ¨å¤šçº¿ç¨‹å¯¼è‡´çš„ CPU åˆ‡æ¢ï¼Œä¸ç”¨å»è€ƒè™‘å„ç§é”çš„é—®é¢˜ï¼Œä¸å­˜åœ¨åŠ é”é‡Šæ”¾é”æ“ä½œï¼Œæ²¡æœ‰æ­»é”é—®é¢˜å¯¼è‡´çš„æ€§èƒ½æ¶ˆè€—ã€‚</p></li><li><p>ä½¿ç”¨å¤šè·¯å¤ç”¨ IO æ¨¡å‹ï¼Œéé˜»å¡ IOã€‚</p></li></ul><h2 id="å…­-redis-ç¼“å­˜çš„æ·˜æ±°ç­–ç•¥"><a class="markdownIt-Anchor" href="#å…­-redis-ç¼“å­˜çš„æ·˜æ±°ç­–ç•¥"></a> å…­ã€Redis ç¼“å­˜çš„æ·˜æ±°ç­–ç•¥</h2><p>Redis æœ‰å…­ç§æ·˜æ±°ç­–ç•¥ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="3c9b78d0ad34dd35dfc885222b799e02.png" alt="" /></p><p>Redis 4.0 åŠ å…¥äº† LFUï¼ˆleast frequency useï¼‰æ·˜æ±°ç­–ç•¥ï¼ŒåŒ…æ‹¬ volatile-lfu å’Œ allkeys-lfuï¼Œé€šè¿‡ç»Ÿè®¡è®¿é—®é¢‘ç‡ï¼Œå°†è®¿é—®é¢‘ç‡æœ€å°‘ï¼Œå³æœ€ä¸ç»å¸¸ä½¿ç”¨çš„ KV æ·˜æ±°</p><h2 id="ä¸ƒ-redis-æŒä¹…åŒ–"><a class="markdownIt-Anchor" href="#ä¸ƒ-redis-æŒä¹…åŒ–"></a> ä¸ƒã€Redis æŒä¹…åŒ–</h2><h3 id="1ä¸ºä»€ä¹ˆéœ€è¦æŒä¹…åŒ–"><a class="markdownIt-Anchor" href="#1ä¸ºä»€ä¹ˆéœ€è¦æŒä¹…åŒ–"></a> <strong>1.ä¸ºä»€ä¹ˆéœ€è¦æŒä¹…åŒ–</strong></h3><p>æ¯”å¦‚redisé‡Œæœ‰10gbæ•°æ®ï¼Œçªç„¶åœç”µæˆ–è€…æ„å¤–å®•æœºäº†ï¼Œå†å¯åŠ¨çš„æ—¶å€™10gbéƒ½æ²¡äº†ï¼æ‰€ä»¥éœ€è¦æŒä¹…åŒ–ï¼Œå®•æœºåå†é€šè¿‡æŒä¹…åŒ–æ–‡ä»¶å°†æ•°æ®æ¢å¤ã€‚</p><h3 id="2redis-çš„æŒä¹…åŒ–ç­–ç•¥çš„ä¸¤ç§æ–¹å¼"><a class="markdownIt-Anchor" href="#2redis-çš„æŒä¹…åŒ–ç­–ç•¥çš„ä¸¤ç§æ–¹å¼"></a> 2.Redis çš„æŒä¹…åŒ–ç­–ç•¥çš„ä¸¤ç§æ–¹å¼</h3><ul><li><p>**RDBï¼ˆé»˜è®¤ï¼‰ï¼š**å¿«ç…§å½¢å¼æ˜¯ç›´æ¥æŠŠå†…å­˜ä¸­çš„æ•°æ®ä¿å­˜åˆ° dump.rdb æ–‡ä»¶ä¸­ï¼Œå®šæ—¶å…¨é‡ä¿å­˜ï¼Œä¿å­˜çš„æ˜¯æ•°æ®ã€‚</p></li><li><p>**AOFï¼š**æŠŠæ‰€æœ‰çš„å¯¹ Redis çš„æœåŠ¡å™¨è¿›è¡Œä¿®æ”¹çš„å‘½ä»¤éƒ½ä¿å­˜åˆ° appendonly.aof æ–‡ä»¶ä¸­ï¼Œå®šæ—¶å‘æ–‡ä»¶ä¸­è¿½åŠ ï¼Œä¿å­˜çš„æ˜¯å‘½ä»¤ã€‚</p></li></ul><h3 id="3rdbçš„ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#3rdbçš„ç‰¹ç‚¹"></a> 3.RDBçš„ç‰¹ç‚¹</h3><p>RDBæ€§èƒ½é«˜ï¼Œé€Ÿç‡å¿«ï¼Œå…¨é‡æŒä¹…åŒ–ï¼Œä½†æ•°æ®å¯é æ€§ä½ã€‚</p><p>(1)rdbæ–‡ä»¶</p><p>RDB(Redis DataBase)ï¼šåŸºäºæ—¶é—´çš„å¿«ç…§ï¼ŒRedisé»˜è®¤æ˜¯ä¼šä»¥å¿«ç…§&quot;RDB&quot;çš„å½¢å¼å°†æ•°æ®æŒä¹…åŒ–åˆ°ç£ç›˜çš„ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ dump.rdbä¸­ï¼Œå…¶é»˜è®¤åªä¿ç•™å½“å‰æœ€æ–°çš„ä¸€æ¬¡å¿«ç…§ï¼Œç‰¹ç‚¹æ˜¯æ‰§è¡Œé€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œç¼ºç‚¹æ˜¯å¯èƒ½ä¼šä¸¢å¤±ä»ä¸Šæ¬¡å¿«ç…§åˆ°å½“å‰æ—¶é—´ç‚¹ä¹‹é—´æœªåšå¿«ç…§çš„æ•°æ®ã€‚</p><p>ä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶é…ç½®å¤šä¸ªæ—¶é—´ç‚¹çš„å¤‡ä»½,è¿™æ ·å°±å¯ä»¥ä¿ç•™å¤šä¸ªå¤‡ä»½,å½“å‡ºç°é—®é¢˜æ—¶å€™æ–¹ä¾¿æ¢å¤åˆ°ä¸åŒæ—¶é—´èŠ‚ç‚¹,å¾ˆé€‚åˆå¤‡ä»½,å¹¶ä¸”æ­¤æ–‡ä»¶æ ¼å¼æ”¯æŒä¸å°‘ç¬¬ä¸‰æ–¹å·¥å…·å¯ä»¥è¿›è¡Œåç»­çš„æ•°æ®åˆ†æã€‚æ¯”å¦‚:å¯ä»¥åœ¨æœ€è¿‘24å°æ—¶å†…,æ¯å°æ—¶è¿›è¡Œä¸€æ¬¡å¤‡ä»½RDBæ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨æ¯ä¸ªæœˆçš„æ¯ä¸€å¤©ï¼Œä¹Ÿå¤‡ä»½ä¸€ä¸ªRDBæ–‡ä»¶ï¼Œè¿™æ ·çš„è¯ï¼Œå³ä¾¿é‡ä¸Šé—®é¢˜ï¼Œä¹Ÿå¯ä»¥éšæ—¶å°†æ•°æ®é›†è¿˜åŸåˆ°ä¸åŒçš„ç‰ˆæœ¬ï¼Œæ‰€ä»¥RDB éå¸¸é€‚åˆç¾éš¾æ¢å¤ã€‚</p><p>(2)ä¼˜ç‚¹</p><p>ç”±äºrdbæ–‡ä»¶éƒ½æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ‰€ä»¥å¾ˆå°ï¼Œåœ¨ç¾éš¾æ¢å¤çš„æ—¶å€™ä¼šå¿«äº›ã€‚</p><p>ä»–çš„æ•ˆç‡ï¼ˆå®•æœºæ¢å¤çš„æ•ˆç‡ï¼Œè€Œä¸æ˜¯æŒä¹…åŒ–çš„æ•ˆç‡ï¼‰ç›¸å¯¹äºaofè¦é«˜ï¼ˆbgsaveè€Œä¸æ˜¯saveï¼‰ï¼Œå› ä¸ºæ¯æ¥ä¸ªè¯·æ±‚ä»–éƒ½ä¸ä¼šå¤„ç†ä»»ä½•äº‹ï¼Œåªæ˜¯bgsaveçš„æ—¶å€™ä»–ä¼šfork()å­è¿›ç¨‹ä¸”å¯èƒ½copyonwriteï¼Œä½†copyonwriteåªæ˜¯ä¸€ä¸ªå¯»å€çš„è¿‡ç¨‹ï¼Œçº³ç§’çº§åˆ«çš„ã€‚è€Œaofæ¯æ¬¡éƒ½æ˜¯å†™ç›˜æ“ä½œï¼Œæ¯«ç§’çº§åˆ«ã€‚æ²¡æ³•æ¯”ã€‚</p><p>æ³¨ï¼šfork()å­è¿›ç¨‹ä»¥åŠcopyonwriteï¼ˆå†™æ—¶å¤åˆ¶ï¼‰çš„è¯¦è§£å¯è§æ–‡æœ«çš„å‚è€ƒâ€œRDBåŸç†â€</p><p>(3)ç¼ºç‚¹</p><p>æ•°æ®å¯é æ€§æ¯”aofä½ï¼Œä¹Ÿå°±æ˜¯ä¼šä¸¢å¤±çš„å¤šã€‚å› ä¸ºaofå¯ä»¥é…ç½®æ¯ç§’éƒ½æŒä¹…åŒ–æˆ–è€…æ¯ä¸ªå‘½ä»¤å¤„ç†å®Œå°±æŒä¹…åŒ–ä¸€æ¬¡è¿™ç§é«˜é¢‘ç‡çš„æ“ä½œï¼Œè€Œrdbçš„è¯è™½ç„¶ä¹Ÿæ˜¯é é…ç½®è¿›è¡Œbgsaveï¼Œä½†æ˜¯æ²¡æœ‰aofé…ç½®é‚£ä¹ˆçµæ´»ï¼Œä¹Ÿæ²¡aofæŒä¹…åŒ–å¿«ï¼Œå› ä¸ºrdbæ¯æ¬¡å…¨é‡ï¼Œaofæ¯æ¬¡åªè¿½åŠ ã€‚</p><h3 id="4aofçš„ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#4aofçš„ç‰¹ç‚¹"></a> 4.AOFçš„ç‰¹ç‚¹</h3><p>AOFæ•°æ®å¯é æ€§é«˜ï¼Œå¢é‡æŒä¹…åŒ–ï¼Œä½†å®•æœºæ¢å¤çš„æ•ˆç‡ç›¸æ¯”äºRDBè¿˜æ˜¯ç•¥ä½ã€‚</p><p>(1)aofæ–‡ä»¶</p><p>AOF(Append Only File)ï¼šåªè¿½åŠ æ–‡ä»¶ï¼Œä½¿ç”¨ AOF åšæŒä¹…åŒ–ï¼Œæ¯ä¸€ä¸ªå†™å‘½ä»¤éƒ½é€šè¿‡ write å‡½æ•°è¿½åŠ åˆ° appendonly.aof ä¸­ã€‚è€ŒRDBæ˜¯å‹ç¼©æˆäºŒè¿›åˆ¶ç­‰æ—¶æœºå¼€å­è¿›ç¨‹å»å¹²è¿™ä»¶äº‹ã€‚</p><p>(2)ä¼˜ç‚¹</p><p>â‘ æŒä¹…åŒ–çš„é€Ÿåº¦å¿«ï¼Œå› ä¸ºæ¯æ¬¡éƒ½åªæ˜¯è¿½åŠ ï¼Œrdbæ¯æ¬¡éƒ½å…¨é‡æŒä¹…åŒ–ã€‚</p><p>â‘¡å…¨ç¨‹æŒä¹…åŒ–ï¼Œåªéœ€è¦åœ¨é…ç½®ä¸­å¼€å¯ appendonly yesã€‚è¿™æ · Redis æ¯æ‰§è¡Œä¸€ä¸ªä¿®æ”¹æ•°æ®çš„å‘½ä»¤ï¼Œéƒ½ä¼šæŠŠå®ƒæ·»åŠ åˆ° AOF æ–‡ä»¶ä¸­ï¼Œå½“ Redis é‡å¯æ—¶ï¼Œå°†ä¼šè¯»å– AOF æ–‡ä»¶è¿›è¡Œé‡æ”¾ï¼Œæ¢å¤åˆ° Redis å…³é—­å‰çš„æœ€åæ—¶åˆ»ã€‚</p><p>â‘¢æ•°æ®ç›¸å¯¹æ›´å¯é ï¼Œä¸¢å¤±å°‘ï¼Œä½¿ç”¨ AOF çš„ä¼˜ç‚¹æ˜¯ä¼šè®© Redis å˜å¾—éå¸¸è€ä¹…ã€‚å¯ä»¥è®¾ç½®ä¸åŒçš„ Fsync ç­–ç•¥ï¼ŒAOFçš„é»˜è®¤ç­–ç•¥æ˜¯æ¯ç§’é’Ÿ Fsync ä¸€æ¬¡ï¼Œåœ¨è¿™ç§é…ç½®ä¸‹ï¼Œå°±ç®—å‘ç”Ÿæ•…éšœåœæœºï¼Œä¹Ÿæœ€å¤šä¸¢å¤±ä¸€ç§’é’Ÿçš„æ•°æ®ã€‚</p><p>(3)ç¼ºç‚¹</p><p>ç¾éš¾æ€§æ¢å¤çš„æ—¶å€™è¿‡æ…¢ï¼Œå› ä¸ºaofæ¯æ¬¡éƒ½åªè¿½åŠ åŸå‘½ä»¤ï¼Œå¯¼è‡´aofæ–‡ä»¶è¿‡å¤§ï¼Œä½†æ˜¯åé¢ä¼šrewriteï¼Œä½†æ˜¯ç›¸å¯¹äºrdbä¹Ÿæ˜¯æ…¢çš„ã€‚</p><h3 id="5é¡¹ç›®ä¸­å¦‚ä½•é€‰æ‹©è¿™ä¸¤ç§æ–¹å¼"><a class="markdownIt-Anchor" href="#5é¡¹ç›®ä¸­å¦‚ä½•é€‰æ‹©è¿™ä¸¤ç§æ–¹å¼"></a> 5.é¡¹ç›®ä¸­å¦‚ä½•é€‰æ‹©è¿™ä¸¤ç§æ–¹å¼</h3><p>å¦‚æœä½ è¿½æ±‚æ€§èƒ½ï¼ŒåŒæ—¶ä»ç„¶å¯ä»¥æ‰¿å—æ•°åˆ†é’Ÿå†…çš„æ•°æ®ä¸¢å¤±çš„è¯ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ RDB æŒä¹…åŒ–ã€‚</p><p>å¦‚æœä½ éå¸¸å…³å¿ƒä½ çš„æ•°æ®ï¼Œå¹¶ä¸”æ€§èƒ½å¯¹æ€§èƒ½è¦æ±‚ä¸æ˜¯é‚£ä¹ˆé«˜çš„è¯ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ AOFÂ æŒä¹…åŒ–ã€‚</p><p>æ³¨ï¼šRedis æ”¯æŒåŒæ—¶å¼€å¯ RDB å’Œ AOFï¼Œç³»ç»Ÿé‡å¯åï¼ŒRedis ä¼šä¼˜å…ˆä½¿ç”¨ AOF æ¥æ¢å¤æ•°æ®ï¼Œè¿™æ ·ä¸¢å¤±çš„æ•°æ®ä¼šæœ€å°‘ã€‚</p><h2 id="å…«-redis-é›†ç¾¤æ¨¡å¼é€‰æ‹©"><a class="markdownIt-Anchor" href="#å…«-redis-é›†ç¾¤æ¨¡å¼é€‰æ‹©"></a> å…«ã€Redis é›†ç¾¤æ¨¡å¼é€‰æ‹©</h2><p>redisé›†ç¾¤æœ‰ä¸‰ç§æ¨¡å¼Â  Â 1.ä¸»ä»å¤åˆ¶Â  Â 2.å“¨å…µæ¨¡å¼Â  Â 3.Clusteré›†ç¾¤æ¨¡å¼</p><p>ä¸»ä»å¤åˆ¶ï¼šé€‰å–æœ‰ä¸‰å°ï¼ˆå¥‡æ•°ï¼‰æœåŠ¡å™¨ï¼Œä¸€ä¸»ä¸¤ä»ï¼Œä¸»èŠ‚ç‚¹è´Ÿè´£å†™å…¥ï¼Œä»èŠ‚ç‚¹è´Ÿè´£è¯»å–ï¼Œè¾¾åˆ°è¯»å†™åˆ†ç¦»ï¼Œæ­¤æ—¶ä¸‰å°é›†ç¾¤ä¸Šçš„æ•°æ®ä¸€è‡´ï¼Œä½†æ˜¯æœ‰ä¸ªä¸å¥½çš„ç‚¹åœ¨äº å½“ä¸»èŠ‚ç‚¹æŒ‚äº†çš„è¯ï¼Œå°±éœ€è¦äººä¸ºæ“ä½œï¼Œæ¥é‡å¯ä¸»èŠ‚ç‚¹ã€‚</p><p>å“¨å…µæ¨¡å¼ï¼šå“¨å…µæ¨¡å¼åœ¨åŸæœ‰ä¸»ä»å¤åˆ¶çš„åŸºç¡€ä¸ŠåŠ äº†å“¨å…µæœºåˆ¶ï¼Œç®€å•ç†è§£å°±æ˜¯ç›‘æµ‹å„ä¸ªèŠ‚ç‚¹æ´»æ€§ï¼Œå‡å¦‚ä¸»èŠ‚ç‚¹æŒ‚äº†ï¼Œè¿˜å¯ä»¥è‡ªåŠ¨é‡å¯ä¸»èŠ‚ç‚¹ã€‚</p><p>Clusteré›†ç¾¤æ¨¡å¼ï¼šå°†æ•°æ®å‡åˆ†åˆ°æ‰€æœ‰ä¸»èŠ‚ç‚¹ä¸Šã€‚ä¸ä¸»ä»å¤åˆ¶ä¸åŒï¼Œé›†ç¾¤ä¸­çš„èŠ‚ç‚¹ä¸å­˜å‚¨å…¨é‡æ•°æ®ï¼Œè€Œæ˜¯åˆ†ç‰‡å­˜å‚¨ã€‚è¿™ç§æ–¹å¼é€‚åˆæ•°æ®é‡è¾ƒå¤§çš„åœºæ™¯ï¼Œå¯ä»¥å‡æ‘ŠæœåŠ¡å™¨å‹åŠ›</p><h2 id="ä¹-redis-å“¨å…µçš„åŸºæœ¬åŸç†"><a class="markdownIt-Anchor" href="#ä¹-redis-å“¨å…µçš„åŸºæœ¬åŸç†"></a> ä¹ã€Redis å“¨å…µçš„åŸºæœ¬åŸç†</h2><p><img src="470bac817637351a0240be4294be8f4b.jpeg" alt="å›¾ç‰‡" /></p><p>å¦‚å›¾ï¼Œæ˜¯ Redis Sentinelï¼ˆå“¨å…µï¼‰çš„æ¶æ„å›¾ã€‚Redis Sentinelï¼ˆå“¨å…µï¼‰ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ä¸»èŠ‚ç‚¹å­˜æ´»æ£€æµ‹ã€ä¸»ä»è¿è¡Œæƒ…å†µæ£€æµ‹ã€è‡ªåŠ¨æ•…éšœè½¬ç§»ã€ä¸»ä»åˆ‡æ¢ã€‚</p><p>Redis Sentinel æœ€å°é…ç½®æ˜¯ä¸€ä¸»ä¸€ä»ã€‚Redis çš„ Sentinel ç³»ç»Ÿå¯ä»¥ç”¨æ¥ç®¡ç†å¤šä¸ª Redis æœåŠ¡å™¨ã€‚</p><p>è¯¥ç³»ç»Ÿå¯ä»¥æ‰§è¡Œä»¥ä¸‹å››ä¸ªä»»åŠ¡ï¼š</p><ul><li><p>**ç›‘æ§ï¼š**ä¸æ–­æ£€æŸ¥ä¸»æœåŠ¡å™¨å’Œä»æœåŠ¡å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œã€‚</p></li><li><p>**é€šçŸ¥ï¼š**å½“è¢«ç›‘æ§çš„æŸä¸ª Redis æœåŠ¡å™¨å‡ºç°é—®é¢˜ï¼ŒSentinel é€šè¿‡ API è„šæœ¬å‘ç®¡ç†å‘˜æˆ–è€…å…¶ä»–åº”ç”¨ç¨‹åºå‘å‡ºé€šçŸ¥ã€‚</p></li><li><p>**è‡ªåŠ¨æ•…éšœè½¬ç§»ï¼š**å½“ä¸»èŠ‚ç‚¹ä¸èƒ½æ­£å¸¸å·¥ä½œæ—¶ï¼ŒSentinel ä¼šå¼€å§‹ä¸€æ¬¡è‡ªåŠ¨çš„æ•…éšœè½¬ç§»æ“ä½œï¼Œå®ƒä¼šå°†ä¸å¤±æ•ˆä¸»èŠ‚ç‚¹æ˜¯ä¸»ä»å…³ç³»çš„å…¶ä¸­ä¸€ä¸ªä»èŠ‚ç‚¹å‡çº§ä¸ºæ–°çš„ä¸»èŠ‚ç‚¹ï¼Œå¹¶ä¸”å°†å…¶ä»–çš„ä»èŠ‚ç‚¹æŒ‡å‘æ–°çš„ä¸»èŠ‚ç‚¹ï¼Œè¿™æ ·äººå·¥å¹²é¢„å°±å¯ä»¥å…äº†ã€‚</p></li><li><p>**é…ç½®æä¾›è€…ï¼š**åœ¨ Redis Sentinel æ¨¡å¼ä¸‹ï¼Œå®¢æˆ·ç«¯åº”ç”¨åœ¨åˆå§‹åŒ–æ—¶è¿æ¥çš„æ˜¯ Sentinel èŠ‚ç‚¹é›†åˆï¼Œä»ä¸­è·å–ä¸»èŠ‚ç‚¹çš„ä¿¡æ¯ã€‚</p></li></ul><p>å“¨å…µçš„å·¥ä½œåŸç†ï¼š</p><p><img src="ffb3a31699849f207318312704875795.jpeg" alt="å›¾ç‰‡" /></p><p>â‘ æ¯ä¸ª Sentinel èŠ‚ç‚¹éƒ½éœ€è¦å®šæœŸæ‰§è¡Œä»¥ä¸‹ä»»åŠ¡ï¼šæ¯ä¸ª Sentinel ä»¥æ¯ç§’ä¸€æ¬¡çš„é¢‘ç‡ï¼Œå‘å®ƒæ‰€çŸ¥çš„ä¸»æœåŠ¡å™¨ã€ä»æœåŠ¡å™¨ä»¥åŠå…¶ä»–çš„ Sentinel å®ä¾‹å‘é€ä¸€ä¸ª PING å‘½ä»¤ã€‚ï¼ˆå¦‚ä¸Šå›¾ï¼‰</p><p><img src="2c3e23d30640c78d9e979e30271f2aec.jpeg" alt="å›¾ç‰‡" /></p><p>â‘¡å¦‚æœä¸€ä¸ªå®ä¾‹è·ç¦»æœ€åä¸€æ¬¡æœ‰æ•ˆå›å¤ PING å‘½ä»¤çš„æ—¶é—´è¶…è¿‡ down-after-milliseconds æ‰€æŒ‡å®šçš„å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªå®ä¾‹ä¼šè¢« Sentinel æ ‡è®°ä¸ºä¸»è§‚ä¸‹çº¿ã€‚ï¼ˆå¦‚ä¸Šå›¾ï¼‰</p><p><img src="7bffd1f46d77e42a2a693a6798623090.jpeg" alt="å›¾ç‰‡" /></p><p>â‘¢å¦‚æœä¸€ä¸ªä¸»æœåŠ¡å™¨è¢«æ ‡è®°ä¸ºä¸»è§‚ä¸‹çº¿ï¼Œé‚£ä¹ˆæ­£åœ¨ç›‘è§†è¿™ä¸ªæœåŠ¡å™¨çš„æ‰€æœ‰ Sentinel èŠ‚ç‚¹ï¼Œè¦ä»¥æ¯ç§’ä¸€æ¬¡çš„é¢‘ç‡ç¡®è®¤ä¸»æœåŠ¡å™¨çš„ç¡®è¿›å…¥äº†ä¸»è§‚ä¸‹çº¿çŠ¶æ€ã€‚</p><p><img src="772194763db4a8ef9b863643906d8670.jpeg" alt="å›¾ç‰‡" /></p><p>â‘£å¦‚æœä¸€ä¸ªä¸»æœåŠ¡å™¨è¢«æ ‡è®°ä¸ºä¸»è§‚ä¸‹çº¿ï¼Œå¹¶ä¸”æœ‰è¶³å¤Ÿæ•°é‡çš„ Sentinelï¼ˆè‡³å°‘è¦è¾¾åˆ°é…ç½®æ–‡ä»¶æŒ‡å®šçš„æ•°é‡ï¼‰åœ¨æŒ‡å®šçš„æ—¶é—´èŒƒå›´å†…åŒæ„è¿™ä¸€åˆ¤æ–­ï¼Œé‚£ä¹ˆè¿™ä¸ªä¸»æœåŠ¡å™¨è¢«æ ‡è®°ä¸ºå®¢è§‚ä¸‹çº¿ã€‚</p><p><img src="b4682bde082521063221016e22b3ff37.jpeg" alt="å›¾ç‰‡" /></p><p>â‘¤ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¯ä¸ª Sentinel ä¼šä»¥æ¯ 10 ç§’ä¸€æ¬¡çš„é¢‘ç‡å‘å®ƒå·²çŸ¥çš„æ‰€æœ‰ä¸»æœåŠ¡å™¨å’Œä»æœåŠ¡å™¨å‘é€ INFO å‘½ä»¤ã€‚</p><p>å½“ä¸€ä¸ªä¸»æœåŠ¡å™¨è¢«æ ‡è®°ä¸ºå®¢è§‚ä¸‹çº¿æ—¶ï¼ŒSentinel å‘ä¸‹çº¿ä¸»æœåŠ¡å™¨çš„æ‰€æœ‰ä»æœåŠ¡å™¨å‘é€ INFO å‘½ä»¤çš„é¢‘ç‡ï¼Œä¼šä» 10 ç§’ä¸€æ¬¡æ”¹ä¸ºæ¯ç§’ä¸€æ¬¡ã€‚</p><p><img src="307d347ba48f473e8e957fc735932186.jpeg" alt="å›¾ç‰‡" /></p><p>â‘¥Sentinel å’Œå…¶ä»– Sentinel åå•†å®¢è§‚ä¸‹çº¿çš„ä¸»èŠ‚ç‚¹çš„çŠ¶æ€ï¼Œå¦‚æœå¤„äº SDOWN çŠ¶æ€ï¼Œåˆ™æŠ•ç¥¨è‡ªåŠ¨é€‰å‡ºæ–°çš„ä¸»èŠ‚ç‚¹ï¼Œå°†å‰©ä½™ä»èŠ‚ç‚¹æŒ‡å‘æ–°çš„ä¸»èŠ‚ç‚¹è¿›è¡Œæ•°æ®å¤åˆ¶ã€‚</p><p><img src="a3af2976aff3ddb91e0ef0aac7893923.jpeg" alt="å›¾ç‰‡" /></p><p>â‘¦å½“æ²¡æœ‰è¶³å¤Ÿæ•°é‡çš„ Sentinel åŒæ„ä¸»æœåŠ¡å™¨ä¸‹çº¿æ—¶ï¼Œä¸»æœåŠ¡å™¨çš„å®¢è§‚ä¸‹çº¿çŠ¶æ€å°±ä¼šè¢«ç§»é™¤ã€‚</p><p>å½“ä¸»æœåŠ¡å™¨é‡æ–°å‘ Sentinel çš„ PING å‘½ä»¤è¿”å›æœ‰æ•ˆå›å¤æ—¶ï¼Œä¸»æœåŠ¡å™¨çš„ä¸»è§‚ä¸‹çº¿çŠ¶æ€å°±ä¼šè¢«ç§»é™¤ã€‚</p><h2 id="å-redisç¼“å­˜é›ªå´©-ç©¿é€-å‡»ç©¿æ¦‚å¿µåŠè§£å†³åŠæ³•"><a class="markdownIt-Anchor" href="#å-redisç¼“å­˜é›ªå´©-ç©¿é€-å‡»ç©¿æ¦‚å¿µåŠè§£å†³åŠæ³•"></a> åã€Redisç¼“å­˜é›ªå´©ã€ç©¿é€ã€å‡»ç©¿æ¦‚å¿µåŠè§£å†³åŠæ³•</h2><p><strong>é›ªå´©åœºæ™¯ï¼š</strong></p><p>å¦‚æœé¦–é¡µæ‰€æœ‰ Key çš„å¤±æ•ˆæ—¶é—´éƒ½æ˜¯ 12 å°æ—¶ï¼Œä¸­åˆ 12 ç‚¹åˆ·æ–°çš„ï¼Œæˆ‘é›¶ç‚¹æœ‰ä¸ªå¤§ä¿ƒæ´»åŠ¨å¤§é‡ç”¨æˆ·æ¶Œå…¥ï¼Œå‡è®¾æ¯ç§’ 6000 ä¸ªè¯·æ±‚ï¼Œæœ¬æ¥ç¼“å­˜å¯ä»¥æŠ—ä½æ¯ç§’ 5000 ä¸ªè¯·æ±‚ï¼Œä½†æ˜¯ç¼“å­˜ä¸­æ‰€æœ‰ Key éƒ½å¤±æ•ˆäº†ï¼Œæ­¤æ—¶ 6000 ä¸ª/ç§’çš„è¯·æ±‚å…¨éƒ¨è½åœ¨äº†æ•°æ®åº“ä¸Šï¼Œæ•°æ®åº“å¿…ç„¶æ‰›ä¸ä½ï¼ŒçœŸå®æƒ…å†µå¯èƒ½ æ•°æ®åº“éƒ½æ²¡ååº”è¿‡æ¥ç›´æ¥æŒ‚äº†ï¼Œæ­¤æ—¶ï¼Œå¦‚æœæ²¡ä»€ä¹ˆç‰¹åˆ«çš„æ–¹æ¡ˆæ¥å¤„ç†ï¼ŒDBA å¾ˆç€æ€¥ï¼Œé‡å¯æ•°æ®åº“ï¼Œä½†æ˜¯æ•°æ®åº“ç«‹é©¬åˆè¢«æ–°æµé‡ç»™æ‰“æ­»äº†ã€‚è¿™å°±æ˜¯æˆ‘ç†è§£çš„ç¼“å­˜é›ªå´©ã€‚</p><p><strong>é›ªå´©è§£å†³æ–¹æ¡ˆï¼š</strong></p><p>åœ¨æ‰¹é‡å¾€ Redis å­˜æ•°æ®çš„æ—¶å€™ï¼ŒæŠŠæ¯ä¸ª Key çš„å¤±æ•ˆæ—¶é—´éƒ½åŠ ä¸ªéšæœºå€¼å°±å¥½äº†ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ•°æ®ä¸ä¼šå†åŒä¸€æ—¶é—´å¤§é¢ç§¯å¤±æ•ˆï¼Œæˆ–è€…è®¾ç½®çƒ­ç‚¹æ•°æ®æ°¸ä¸è¿‡æœŸã€‚</p><p><strong>ç©¿é€åœºæ™¯ï¼š</strong></p><p>ç¼“å­˜ç©¿é€æ˜¯æŒ‡ç¼“å­˜å’Œæ•°æ®åº“ä¸­éƒ½æ²¡æœ‰çš„æ•°æ®ï¼Œè€Œç”¨æˆ·ï¼ˆé»‘å®¢ï¼‰ä¸æ–­å‘èµ·è¯·æ±‚ï¼Œè¿™æ ·çš„ä¸æ–­æ”»å‡»å¯¼è‡´æ•°æ®åº“å‹åŠ›å¾ˆå¤§ï¼Œä¸¥é‡ä¼šå‡»å®æ•°æ®åº“</p><p><strong>ç©¿é€è§£å†³æ–¹æ¡ˆï¼š</strong></p><p>ç¼“å­˜ç©¿é€æˆ‘ä¼šåœ¨æ¥å£å±‚å¢åŠ æ ¡éªŒï¼Œæ¯”å¦‚ç”¨æˆ·é‰´æƒï¼Œå‚æ•°åšæ ¡éªŒï¼Œä¸åˆæ³•çš„æ ¡éªŒç›´æ¥ returnï¼Œæˆ–è€…Â ä½¿ç”¨é«˜çº§ç”¨æ³•å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆBloom Filterï¼‰è¿™ä¸ªä¹Ÿèƒ½å¾ˆå¥½çš„é¢„é˜²ç¼“å­˜ç©¿é€çš„å‘ç”Ÿã€‚</p><p><strong>å‡»ç©¿åœºæ™¯ï¼š</strong></p><p>ç¼“å­˜å‡»ç©¿ï¼Œè¿™ä¸ªè·Ÿç¼“å­˜é›ªå´©æœ‰ç‚¹åƒï¼Œä½†æ˜¯åˆæœ‰ä¸€ç‚¹ä¸ä¸€æ ·ï¼Œç¼“å­˜é›ªå´©æ˜¯å› ä¸ºå¤§é¢ç§¯çš„ç¼“å­˜å¤±æ•ˆï¼Œæ‰“å´©äº† DBã€‚è€Œç¼“å­˜å‡»ç©¿ä¸åŒçš„æ˜¯ç¼“å­˜å‡»ç©¿æ˜¯æŒ‡ä¸€ä¸ª Key éå¸¸çƒ­ç‚¹ï¼Œåœ¨ä¸åœåœ°æ‰›ç€å¤§é‡çš„è¯·æ±‚ï¼Œå¤§å¹¶å‘é›†ä¸­å¯¹è¿™ä¸€ä¸ªç‚¹è¿›è¡Œè®¿é—®ï¼Œå½“è¿™ä¸ª Key åœ¨å¤±æ•ˆçš„ç¬é—´ï¼ŒæŒç»­çš„å¤§å¹¶å‘ç›´æ¥è½åˆ°äº†æ•°æ®åº“ä¸Šï¼Œå°±åœ¨è¿™ä¸ª Key çš„ç‚¹ä¸Šå‡»ç©¿äº†ç¼“å­˜ã€‚</p><p><strong>å‡»ç©¿è§£å†³æ–¹æ¡ˆï¼š</strong></p><p>ä½¿ç”¨äº’æ–¥é”æˆ–è€…åˆ†å¸ƒå¼é”æ¥å¯¹å¹¶å‘è¯·æ±‚è¿›è¡Œæ§åˆ¶ï¼Œé¿å…å¯¹åŒä¸€èµ„æºçš„å¹¶å‘è¯»å†™ç«äº‰ï¼Œå¦å¤–ä¹Ÿå¯ä»¥ä½¿ç”¨çƒ­ç‚¹æ•°æ®é¢„åŠ è½½ç­‰æœºåˆ¶æ¥æå‰å°†çƒ­ç‚¹æ•°æ®åŠ å…¥ç¼“å­˜ï¼Œåœ¨å…¶å¤±æ•ˆæ—¶å¿«é€Ÿåˆ·æ–°ç¼“å­˜</p><p>å‚è€ƒï¼š<a href="https://mp.weixin.qq.com/s/G0PUOOD9_IgTJEVUKsTOmg" title="2W å­—å›¾è§£ Redisï¼Œé¢è¯•å¿…è¿‡å¿…æ€æŠ€ï¼ï¼">2W å­—å›¾è§£ Redisï¼Œé¢è¯•å¿…è¿‡å¿…æ€æŠ€ï¼ï¼</a></p><p><a href="https://mp.weixin.qq.com/s/1TYKqtpo59HhliZtqcBQiw" title="JAVAæ¶æ„ | Redisåˆ†å¸ƒå¼ç¼“å­˜åŸç†åˆ†æ">JAVAæ¶æ„ | Redisåˆ†å¸ƒå¼ç¼“å­˜åŸç†åˆ†æ</a></p><p><a href="https://blog.csdn.net/ymb615ymb/article/details/123392106" title="Â  Â  Â  Â  Â  åä¸‰ã€RedisæŒä¹…åŒ–ä¹‹RDBåŸç†_ä¼šé£çš„ITèœ—ç‰›çš„åšå®¢-CSDNåšå®¢_rdb">åä¸‰ã€RedisæŒä¹…åŒ–ä¹‹RDBåŸç†_ä¼šé£çš„ITèœ—ç‰›çš„åšå®¢-CSDNåšå®¢_rdb</a></p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redisçš„å“¨å…µæ¨¡å¼åŸç†è¯¦è§£</title>
      <link href="/2025/08/20/Redis/Redis%E7%9A%84%E5%93%A8%E5%85%B5%E6%A8%A1%E5%BC%8F%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/"/>
      <url>/2025/08/20/Redis/Redis%E7%9A%84%E5%93%A8%E5%85%B5%E6%A8%A1%E5%BC%8F%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<h2 id="redisçš„å“¨å…µæ¨¡å¼åŸç†è¯¦è§£"><a class="markdownIt-Anchor" href="#redisçš„å“¨å…µæ¨¡å¼åŸç†è¯¦è§£"></a> Redisçš„å“¨å…µæ¨¡å¼åŸç†è¯¦è§£</h2><h3 id="å¼€ç¯‡å“¨å…µæ¨¡å¼å°±åƒåŸå¸‚çš„åº”æ€¥æŒ‡æŒ¥ä¸­å¿ƒ"><a class="markdownIt-Anchor" href="#å¼€ç¯‡å“¨å…µæ¨¡å¼å°±åƒåŸå¸‚çš„åº”æ€¥æŒ‡æŒ¥ä¸­å¿ƒ"></a> å¼€ç¯‡ï¼šå“¨å…µæ¨¡å¼å°±åƒåŸå¸‚çš„åº”æ€¥æŒ‡æŒ¥ä¸­å¿ƒ</h3><p>æƒ³è±¡ä¸€ä¸‹ï¼Œä¸€ä¸ªç¹å¿™çš„åŸå¸‚äº¤é€šç³»ç»Ÿã€‚å½“ä¸»è¦äº¤é€šæ¢çº½å‡ºç°æ•…éšœæ—¶ï¼Œå¦‚æœæ²¡æœ‰åº”æ€¥æœºåˆ¶ï¼Œæ•´ä¸ªåŸå¸‚çš„äº¤é€šå°±ä¼šé™·å…¥ç˜«ç—ªã€‚è¿™æ—¶ï¼ŒåŸå¸‚çš„åº”æ€¥æŒ‡æŒ¥ä¸­å¿ƒå°±ä¼šå¯åŠ¨ï¼Œè‡ªåŠ¨æ£€æµ‹æ•…éšœã€åè°ƒå¤‡ç”¨è·¯çº¿ã€é€šçŸ¥ç›¸å…³éƒ¨é—¨ï¼Œç¡®ä¿åŸå¸‚äº¤é€šèƒ½å¤Ÿç»§ç»­è¿è¡Œã€‚</p><p>Redisçš„å“¨å…µ(Sentinel)æ¨¡å¼å°±æ˜¯è¿™æ ·ä¸€ä¸ª&quot;åº”æ€¥æŒ‡æŒ¥ä¸­å¿ƒ&quot;ã€‚åœ¨Redisä¸»ä»æ¶æ„ä¸­ï¼Œå¦‚æœä¸»èŠ‚ç‚¹(master)å‡ºç°æ•…éšœï¼Œå“¨å…µç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹åˆ°é—®é¢˜ï¼Œç„¶åä»ä»èŠ‚ç‚¹(slave)ä¸­é€‰ä¸¾å‡ºæ–°çš„ä¸»èŠ‚ç‚¹ï¼Œå¹¶é€šçŸ¥æ‰€æœ‰å®¢æˆ·ç«¯è¿æ¥åˆ°æ–°çš„ä¸»èŠ‚ç‚¹ï¼Œç¡®ä¿RedisæœåŠ¡çš„é«˜å¯ç”¨æ€§ã€‚</p><p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥æ·±å…¥æ¢è®¨Rediså“¨å…µæ¨¡å¼çš„åŸç†ã€å·¥ä½œæœºåˆ¶å’Œå®ç°ç»†èŠ‚ã€‚é€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œå¤§å®¶å°†äº†è§£åˆ°å“¨å…µæ¨¡å¼å¦‚ä½•ä¿éšœRedisçš„é«˜å¯ç”¨æ€§ï¼Œä»¥åŠåœ¨å®é™…é¡¹ç›®ä¸­å¦‚ä½•é…ç½®å’Œä½¿ç”¨å“¨å…µæ¨¡å¼ã€‚</p><h3 id="ä¸€-rediså“¨å…µæ¨¡å¼çš„åŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#ä¸€-rediså“¨å…µæ¨¡å¼çš„åŸºæœ¬æ¦‚å¿µ"></a> ä¸€ã€Rediså“¨å…µæ¨¡å¼çš„åŸºæœ¬æ¦‚å¿µ</h3><p>ç†è§£äº†å“¨å…µæ¨¡å¼çš„ç”Ÿæ´»æ¯”å–»åï¼Œæˆ‘ä»¬æ¥çœ‹å®ƒçš„æŠ€æœ¯å®šä¹‰ã€‚Rediså“¨å…µæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œç”¨äºç›‘æ§Redisä¸»ä»æœåŠ¡å™¨çš„çŠ¶æ€ï¼Œå¹¶åœ¨ä¸»æœåŠ¡å™¨å‡ºç°æ•…éšœæ—¶è‡ªåŠ¨è¿›è¡Œæ•…éšœè½¬ç§»(failover)ã€‚</p><p><img src="73307303d8b5f6080d6ba616429b7e35.png" alt="" /></p><p>ä¸Šå›¾å±•ç¤ºäº†Rediså“¨å…µæ¨¡å¼çš„åŸºæœ¬æ¶æ„ã€‚å¤šä¸ªå“¨å…µèŠ‚ç‚¹ç›‘æ§ç€ä¸»èŠ‚ç‚¹å’Œä»èŠ‚ç‚¹ï¼Œå“¨å…µä¹‹é—´ä¹Ÿä¼šäº’ç›¸é€šä¿¡ã€‚</p><h4 id="11-å“¨å…µæ¨¡å¼çš„ä¸»è¦åŠŸèƒ½"><a class="markdownIt-Anchor" href="#11-å“¨å…µæ¨¡å¼çš„ä¸»è¦åŠŸèƒ½"></a> 1.1 å“¨å…µæ¨¡å¼çš„ä¸»è¦åŠŸèƒ½</h4><ul><li><strong>ç›‘æ§(Monitoring)</strong>ï¼šå“¨å…µä¼šå®šæœŸæ£€æŸ¥ä¸»ä»èŠ‚ç‚¹æ˜¯å¦æ­£å¸¸å·¥ä½œ</li><li><strong>é€šçŸ¥(Notification)</strong>ï¼šå½“è¢«ç›‘æ§çš„Rediså®ä¾‹å‡ºç°é—®é¢˜æ—¶ï¼Œå“¨å…µå¯ä»¥é€šè¿‡APIé€šçŸ¥ç³»ç»Ÿç®¡ç†å‘˜</li><li><strong>è‡ªåŠ¨æ•…éšœè½¬ç§»(Automatic failover)</strong>ï¼šå¦‚æœä¸»èŠ‚ç‚¹ä¸å¯ç”¨ï¼Œå“¨å…µå¯ä»¥å¯åŠ¨æ•…éšœè½¬ç§»è¿‡ç¨‹ï¼Œå°†ä¸€ä¸ªä»èŠ‚ç‚¹å‡çº§ä¸ºæ–°çš„ä¸»èŠ‚ç‚¹</li><li><strong>é…ç½®æä¾›è€…(Configuration provider)</strong>ï¼šå®¢æˆ·ç«¯å¯ä»¥æŸ¥è¯¢å“¨å…µè·å–å½“å‰Redisä¸»èŠ‚ç‚¹çš„åœ°å€</li></ul><h4 id="12-å“¨å…µæ¨¡å¼çš„ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#12-å“¨å…µæ¨¡å¼çš„ç‰¹ç‚¹"></a> 1.2 å“¨å…µæ¨¡å¼çš„ç‰¹ç‚¹</h4><p>å“¨å…µæ¨¡å¼å…·æœ‰ä»¥ä¸‹å‡ ä¸ªé‡è¦ç‰¹ç‚¹ï¼š</p><ol><li><strong>åˆ†å¸ƒå¼ç‰¹æ€§</strong>ï¼šå“¨å…µæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œé€šå¸¸ç”±å¤šä¸ªå“¨å…µèŠ‚ç‚¹ç»„æˆï¼Œé¿å…å•ç‚¹æ•…éšœ</li><li><strong>è‡ªåŠ¨æ•…éšœæ£€æµ‹</strong>ï¼šå“¨å…µä½¿ç”¨å¿ƒè·³æœºåˆ¶å’ŒæŠ•ç¥¨åè®®æ¥æ£€æµ‹èŠ‚ç‚¹æ•…éšœ</li><li><strong>è‡ªåŠ¨æ•…éšœæ¢å¤</strong>ï¼šæ£€æµ‹åˆ°ä¸»èŠ‚ç‚¹æ•…éšœåï¼Œå“¨å…µä¼šè‡ªåŠ¨é€‰ä¸¾æ–°çš„ä¸»èŠ‚ç‚¹å¹¶é‡æ–°é…ç½®ç³»ç»Ÿ</li><li><strong>å®¢æˆ·ç«¯é€æ˜</strong>ï¼šå®¢æˆ·ç«¯å¯ä»¥é€šè¿‡å“¨å…µè‡ªåŠ¨å‘ç°å½“å‰çš„ä¸»èŠ‚ç‚¹ï¼Œæ— éœ€æ‰‹åŠ¨ä¿®æ”¹é…ç½®</li></ol><h3 id="äºŒ-å“¨å…µæ¨¡å¼çš„å·¥ä½œæµç¨‹"><a class="markdownIt-Anchor" href="#äºŒ-å“¨å…µæ¨¡å¼çš„å·¥ä½œæµç¨‹"></a> äºŒã€å“¨å…µæ¨¡å¼çš„å·¥ä½œæµç¨‹</h3><p>äº†è§£äº†å“¨å…µçš„åŸºæœ¬æ¦‚å¿µåï¼Œæˆ‘ä»¬æ¥çœ‹å®ƒçš„å…·ä½“å·¥ä½œæµç¨‹ã€‚å“¨å…µçš„å·¥ä½œå¯ä»¥åˆ†ä¸ºå‡ ä¸ªå…³é”®é˜¶æ®µï¼šç›‘æ§é˜¶æ®µã€æ•…éšœæ£€æµ‹é˜¶æ®µã€æ•…éšœè½¬ç§»é˜¶æ®µå’Œé…ç½®æ›´æ–°é˜¶æ®µã€‚</p><p><img src="d48790c67928c8026979f0bcefdd5452.png" alt="" /></p><p>ä¸Šè¿°åºåˆ—å›¾å±•ç¤ºäº†å“¨å…µæ¨¡å¼çš„å®Œæ•´å·¥ä½œæµç¨‹ï¼ŒåŒ…æ‹¬ç›‘æ§ã€æ•…éšœæ£€æµ‹ã€æ•…éšœè½¬ç§»å’Œé…ç½®æ›´æ–°å››ä¸ªä¸»è¦é˜¶æ®µã€‚</p><h4 id="21-ç›‘æ§é˜¶æ®µ"><a class="markdownIt-Anchor" href="#21-ç›‘æ§é˜¶æ®µ"></a> 2.1 ç›‘æ§é˜¶æ®µ</h4><p>å“¨å…µä¼šå®šæœŸå‘æ‰€æœ‰è¢«ç›‘æ§çš„ä¸»ä»èŠ‚ç‚¹å‘é€PINGå‘½ä»¤ï¼Œæ ¹æ®è¿”å›ç»“æœåˆ¤æ–­èŠ‚ç‚¹çŠ¶æ€ï¼š</p><ol><li>å¦‚æœèŠ‚ç‚¹åœ¨<code>down-after-milliseconds</code>æ—¶é—´å†…æ²¡æœ‰æ­£ç¡®å“åº”PINGå‘½ä»¤ï¼Œå“¨å…µä¼šå°†è¯¥èŠ‚ç‚¹æ ‡è®°ä¸º&quot;ä¸»è§‚ä¸‹çº¿&quot;(subjectively down)</li><li>å“¨å…µä¼šé€šè¿‡å‘å¸ƒ/è®¢é˜…é¢‘é“ä¸å…¶ä»–å“¨å…µäº¤æµï¼Œç¡®è®¤èŠ‚ç‚¹çŠ¶æ€</li><li>å½“è¶³å¤Ÿæ•°é‡çš„å“¨å…µ(ç”±<code>quorum</code>å‚æ•°å†³å®š)éƒ½è®¤ä¸ºä¸»èŠ‚ç‚¹ä¸å¯è¾¾æ—¶ï¼Œä¸»èŠ‚ç‚¹è¢«æ ‡è®°ä¸º&quot;å®¢è§‚ä¸‹çº¿&quot;(objectively down)</li></ol><h4 id="22-æ•…éšœè½¬ç§»é˜¶æ®µ"><a class="markdownIt-Anchor" href="#22-æ•…éšœè½¬ç§»é˜¶æ®µ"></a> 2.2 æ•…éšœè½¬ç§»é˜¶æ®µ</h4><p>ä¸€æ—¦ä¸»èŠ‚ç‚¹è¢«ç¡®è®¤ä¸ºå®¢è§‚ä¸‹çº¿ï¼Œå“¨å…µä¼šå¼€å§‹æ•…éšœè½¬ç§»è¿‡ç¨‹ï¼š</p><ol><li>å“¨å…µä¼šä»å­˜æ´»çš„ä»èŠ‚ç‚¹ä¸­é€‰ä¸¾ä¸€ä¸ªä½œä¸ºæ–°çš„ä¸»èŠ‚ç‚¹</li><li>é€‰ä¸¾æ ‡å‡†åŒ…æ‹¬ï¼šä»èŠ‚ç‚¹çš„ä¼˜å…ˆçº§ã€å¤åˆ¶åç§»é‡ã€è¿è¡ŒIDç­‰</li><li>å“¨å…µä¼šå‘é€‰å®šçš„ä»èŠ‚ç‚¹å‘é€<code>SLAVEOF NO ONE</code>å‘½ä»¤ï¼Œå°†å…¶æå‡ä¸ºä¸»èŠ‚ç‚¹</li><li>å“¨å…µä¼šå‘å…¶ä»–ä»èŠ‚ç‚¹å‘é€<code>SLAVEOF</code>å‘½ä»¤ï¼Œè®©å®ƒä»¬å¤åˆ¶æ–°çš„ä¸»èŠ‚ç‚¹</li><li>å“¨å…µä¼šæ›´æ–°è‡ªå·±çš„é…ç½®ï¼Œå°†æ•…éšœçš„ä¸»èŠ‚ç‚¹æ ‡è®°ä¸ºä»èŠ‚ç‚¹(å½“å®ƒæ¢å¤æ—¶)</li></ol><h3 id="ä¸‰-å“¨å…µæ¨¡å¼çš„é…ç½®ä¸å®ç°"><a class="markdownIt-Anchor" href="#ä¸‰-å“¨å…µæ¨¡å¼çš„é…ç½®ä¸å®ç°"></a> ä¸‰ã€å“¨å…µæ¨¡å¼çš„é…ç½®ä¸å®ç°</h3><p>ç†è§£äº†å“¨å…µçš„å·¥ä½œåŸç†åï¼Œæˆ‘ä»¬æ¥çœ‹å¦‚ä½•åœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨å“¨å…µæ¨¡å¼ã€‚Rediså“¨å…µçš„é…ç½®ç›¸å¯¹ç®€å•ï¼Œä½†æœ‰ä¸€äº›å…³é”®å‚æ•°éœ€è¦æ³¨æ„ã€‚</p><h4 id="31-å“¨å…µé…ç½®æ–‡ä»¶ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#31-å“¨å…µé…ç½®æ–‡ä»¶ç¤ºä¾‹"></a> 3.1 å“¨å…µé…ç½®æ–‡ä»¶ç¤ºä¾‹</h4><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå…¸å‹çš„å“¨å…µé…ç½®æ–‡ä»¶<code>sentinel.conf</code>ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">port 26379</span><br><span class="line">daemonize yes</span><br><span class="line">pidfile /var/run/redis-sentinel.pid</span><br><span class="line">logfile &quot;/var/log/redis/sentinel.log&quot;</span><br><span class="line"></span><br><span class="line">sentinel monitor mymaster 127.0.0.1 6379 2</span><br><span class="line">sentinel down-after-milliseconds mymaster 5000</span><br><span class="line">sentinel failover-timeout mymaster 180000</span><br><span class="line">sentinel parallel-syncs mymaster 1</span><br><span class="line"></span><br><span class="line">sentinel auth-pass mymaster MySecurePassword</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°é…ç½®æ–‡ä»¶ä¸­ï¼š<br />- <code>sentinel monitor</code>æŒ‡å®šè¦ç›‘æ§çš„ä¸»èŠ‚ç‚¹<br />- <code>down-after-milliseconds</code>å®šä¹‰å¤šä¹…æ— å“åº”è§†ä¸ºä¸‹çº¿<br />- <code>failover-timeout</code>å®šä¹‰æ•…éšœè½¬ç§»è¶…æ—¶æ—¶é—´<br />- <code>parallel-syncs</code>æ§åˆ¶åŒæ—¶åŒæ­¥çš„ä»èŠ‚ç‚¹æ•°é‡<br />- <code>auth-pass</code>è®¾ç½®Redisè®¤è¯å¯†ç </p><h4 id="32-å¯åŠ¨å“¨å…µè¿›ç¨‹"><a class="markdownIt-Anchor" href="#32-å¯åŠ¨å“¨å…µè¿›ç¨‹"></a> 3.2 å¯åŠ¨å“¨å…µè¿›ç¨‹</h4><p>é…ç½®å®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨å“¨å…µï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server /path/to/sentinel.conf --sentinel</span><br></pre></td></tr></table></figure><p>é€šå¸¸å»ºè®®è‡³å°‘éƒ¨ç½²3ä¸ªå“¨å…µèŠ‚ç‚¹ï¼Œä»¥ç¡®ä¿é«˜å¯ç”¨æ€§ã€‚å“¨å…µèŠ‚ç‚¹æ•°é‡åº”è¯¥æ˜¯å¥‡æ•°ï¼Œä»¥ä¾¿åœ¨æŠ•ç¥¨æ—¶èƒ½è¾¾æˆå¤šæ•°å…±è¯†ã€‚</p><p><img src="d5c8de4a9b05c063851b8cc07e09c96e.png" alt="" /></p><p>å“¨å…µéƒ¨ç½²çš„æ€ç»´å¯¼å›¾ï¼Œæ€»ç»“äº†å“¨å…µéƒ¨ç½²çš„å…³é”®è€ƒè™‘å› ç´ ã€‚</p><h4 id="33-javaå®¢æˆ·ç«¯è¿æ¥å“¨å…µ"><a class="markdownIt-Anchor" href="#33-javaå®¢æˆ·ç«¯è¿æ¥å“¨å…µ"></a> 3.3 Javaå®¢æˆ·ç«¯è¿æ¥å“¨å…µ</h4><p>åœ¨Javaåº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Jedisæˆ–Lettuceç­‰å®¢æˆ·ç«¯åº“è¿æ¥Rediså“¨å…µã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨Jedisè¿æ¥å“¨å…µçš„ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.JedisSentinelPool;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SentinelExample</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">MASTER_NAME</span> <span class="operator">=</span> <span class="string">&quot;mymaster&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Set&lt;String&gt; SENTINELS = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(Arrays.asList(</span><br><span class="line">        <span class="string">&quot;sentinel1:26379&quot;</span>,</span><br><span class="line">        <span class="string">&quot;sentinel2:26379&quot;</span>,</span><br><span class="line">        <span class="string">&quot;sentinel3:26379&quot;</span></span><br><span class="line">    ));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºå“¨å…µè¿æ¥æ± </span></span><br><span class="line">        <span class="type">JedisSentinelPool</span> <span class="variable">pool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JedisSentinelPool</span>(MASTER_NAME, SENTINELS);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">try</span> (<span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> pool.getResource()) &#123;</span><br><span class="line">            <span class="comment">// æ‰§è¡ŒRediså‘½ä»¤</span></span><br><span class="line">            jedis.set(<span class="string">&quot;key&quot;</span>, <span class="string">&quot;value&quot;</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> jedis.get(<span class="string">&quot;key&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;Got value: &quot;</span> + value);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        pool.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°Javaä»£ç å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨Jedisè¿æ¥Rediså“¨å…µã€‚JedisSentinelPoolä¼šè‡ªåŠ¨ä»å“¨å…µè·å–å½“å‰ä¸»èŠ‚ç‚¹åœ°å€ï¼Œå¹¶åœ¨æ•…éšœè½¬ç§»åè‡ªåŠ¨åˆ‡æ¢åˆ°æ–°çš„ä¸»èŠ‚ç‚¹ã€‚</p><h3 id="å››-å“¨å…µæ¨¡å¼çš„å†…éƒ¨åŸç†è¯¦è§£"><a class="markdownIt-Anchor" href="#å››-å“¨å…µæ¨¡å¼çš„å†…éƒ¨åŸç†è¯¦è§£"></a> å››ã€å“¨å…µæ¨¡å¼çš„å†…éƒ¨åŸç†è¯¦è§£</h3><p>ç°åœ¨æˆ‘ä»¬å·²ç»äº†è§£äº†å“¨å…µçš„åŸºæœ¬ä½¿ç”¨ï¼Œè®©æˆ‘ä»¬æ·±å…¥æ¢è®¨å“¨å…µæ¨¡å¼çš„å†…éƒ¨å·¥ä½œåŸç†ã€‚å“¨å…µç³»ç»Ÿçš„æ ¸å¿ƒåœ¨äºå…¶åˆ†å¸ƒå¼å…±è¯†ç®—æ³•å’Œæ•…éšœæ£€æµ‹æœºåˆ¶ã€‚</p><h4 id="41-å“¨å…µä¹‹é—´çš„é€šä¿¡"><a class="markdownIt-Anchor" href="#41-å“¨å…µä¹‹é—´çš„é€šä¿¡"></a> 4.1 å“¨å…µä¹‹é—´çš„é€šä¿¡</h4><p>å“¨å…µèŠ‚ç‚¹ä¹‹é—´é€šè¿‡Redisçš„å‘å¸ƒ/è®¢é˜…åŠŸèƒ½è¿›è¡Œé€šä¿¡ã€‚æ¯ä¸ªå“¨å…µä¼šå‘<code>__sentinel__:hello</code>é¢‘é“å‘å¸ƒæ¶ˆæ¯ï¼Œå†…å®¹åŒ…æ‹¬ï¼š</p><ul><li>å“¨å…µçš„è¿è¡ŒID</li><li>å“¨å…µçš„é…ç½®çºªå…ƒ(configuration epoch)</li><li>å“¨å…µç›‘æ§çš„ä¸»èŠ‚ç‚¹ä¿¡æ¯</li><li>å“¨å…µçš„IPå’Œç«¯å£</li></ul><p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå“¨å…µå¯ä»¥å‘ç°å…¶ä»–å“¨å…µå¹¶å»ºç«‹é€šä¿¡ã€‚</p><p><img src="dc649b87f16a98536c65073ea9bf2869.png" alt="" /></p><p>å“¨å…µçŠ¶æ€å›¾å±•ç¤ºäº†å“¨å…µä»å¯åŠ¨åˆ°å®Œæˆæ•…éšœè½¬ç§»çš„å®Œæ•´çŠ¶æ€å˜åŒ–è¿‡ç¨‹ã€‚</p><h4 id="42-æ•…éšœæ£€æµ‹ç®—æ³•"><a class="markdownIt-Anchor" href="#42-æ•…éšœæ£€æµ‹ç®—æ³•"></a> 4.2 æ•…éšœæ£€æµ‹ç®—æ³•</h4><p>å“¨å…µçš„æ•…éšœæ£€æµ‹åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š</p><ol><li><strong>ä¸»è§‚ä¸‹çº¿(SDOWN)</strong>ï¼šå•ä¸ªå“¨å…µè®¤ä¸ºèŠ‚ç‚¹ä¸å¯ç”¨</li><li><strong>å®¢è§‚ä¸‹çº¿(ODOWN)</strong>ï¼šè¶³å¤Ÿæ•°é‡çš„å“¨å…µè®¤ä¸ºèŠ‚ç‚¹ä¸å¯ç”¨</li></ol><p>å®¢è§‚ä¸‹çº¿çš„åˆ¤å®šéœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quorum &lt;= number of sentinels agreeing the master is down</span><br></pre></td></tr></table></figure><p>å…¶ä¸­<code>quorum</code>æ˜¯åœ¨é…ç½®ä¸­æŒ‡å®šçš„å€¼ï¼Œé€šå¸¸è®¾ç½®ä¸ºå“¨å…µæ•°é‡çš„ä¸€åŠåŠ ä¸€ã€‚</p><h4 id="43-é¢†å¯¼è€…é€‰ä¸¾"><a class="markdownIt-Anchor" href="#43-é¢†å¯¼è€…é€‰ä¸¾"></a> 4.3 é¢†å¯¼è€…é€‰ä¸¾</h4><p>å½“ä¸»èŠ‚ç‚¹è¢«ç¡®è®¤ä¸ºå®¢è§‚ä¸‹çº¿åï¼Œå“¨å…µä¼šé€šè¿‡Raft-likeç®—æ³•é€‰ä¸¾ä¸€ä¸ªé¢†å¯¼è€…å“¨å…µæ¥æ‰§è¡Œæ•…éšœè½¬ç§»ï¼š</p><ol><li>æ¯ä¸ªå“¨å…µéƒ½å¯ä»¥å‘èµ·é€‰ä¸¾ï¼Œå‘å…¶ä»–å“¨å…µå‘é€<code>SENTINEL is-master-down-by-addr</code>å‘½ä»¤è¯·æ±‚æŠ•ç¥¨</li><li>å“¨å…µä¼šæŠ•ç¥¨ç»™ç¬¬ä¸€ä¸ªè¯·æ±‚çš„å“¨å…µï¼Œå¹¶åœ¨ä¸€ä¸ªé…ç½®çºªå…ƒå†…ä¸å†æŠ•ç¥¨ç»™å…¶ä»–å“¨å…µ</li><li>è·å¾—å¤šæ•°ç¥¨çš„å“¨å…µæˆä¸ºé¢†å¯¼è€…ï¼Œè´Ÿè´£æ‰§è¡Œæ•…éšœè½¬ç§»</li><li>å¦‚æœé€‰ä¸¾è¶…æ—¶(ç”±<code>failover-timeout</code>æ§åˆ¶)ä¸”æ²¡æœ‰é€‰å‡ºé¢†å¯¼è€…ï¼Œä¼šé‡æ–°å¼€å§‹é€‰ä¸¾</li></ol><h4 id="44-ä»èŠ‚ç‚¹é€‰ä¸¾"><a class="markdownIt-Anchor" href="#44-ä»èŠ‚ç‚¹é€‰ä¸¾"></a> 4.4 ä»èŠ‚ç‚¹é€‰ä¸¾</h4><p>é¢†å¯¼è€…å“¨å…µä¼šä»ç¬¦åˆæ¡ä»¶çš„ä»èŠ‚ç‚¹ä¸­é€‰ä¸¾æ–°çš„ä¸»èŠ‚ç‚¹ï¼Œé€‰ä¸¾æ ‡å‡†åŒ…æ‹¬ï¼š</p><ul><li>ä»èŠ‚ç‚¹ä¸ä¸»èŠ‚ç‚¹çš„æ–­å¼€æ—¶é—´</li><li>ä»èŠ‚ç‚¹çš„ä¼˜å…ˆçº§(<code>slave-priority</code>)</li><li>ä»èŠ‚ç‚¹çš„å¤åˆ¶åç§»é‡</li><li>ä»èŠ‚ç‚¹çš„è¿è¡ŒID(ä½œä¸ºæœ€åçš„æ¯”è¾ƒæ ‡å‡†)</li></ul><p>é€‰ä¸¾è¿‡ç¨‹ä¼šä¼˜å…ˆé€‰æ‹©æ•°æ®æœ€æ–°çš„ä»èŠ‚ç‚¹ï¼Œç¡®ä¿æœ€å°åŒ–æ•°æ®ä¸¢å¤±ã€‚</p><h3 id="äº”-å“¨å…µæ¨¡å¼çš„æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#äº”-å“¨å…µæ¨¡å¼çš„æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹"></a> äº”ã€å“¨å…µæ¨¡å¼çš„æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹</h3><p>äº†è§£äº†å“¨å…µæ¨¡å¼çš„å†…éƒ¨åŸç†åï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€äº›å®é™…ä½¿ç”¨ä¸­çš„æœ€ä½³å®è·µå’Œå¸¸è§é—®é¢˜ã€‚</p><h4 id="51-å“¨å…µéƒ¨ç½²å»ºè®®"><a class="markdownIt-Anchor" href="#51-å“¨å…µéƒ¨ç½²å»ºè®®"></a> 5.1 å“¨å…µéƒ¨ç½²å»ºè®®</h4><ul><li><strong>å“¨å…µæ•°é‡</strong>ï¼šè‡³å°‘éƒ¨ç½²3ä¸ªå“¨å…µèŠ‚ç‚¹ï¼Œæœ€å¥½éƒ¨ç½²5ä¸ªä»¥æä¾›æ›´é«˜çš„å®¹é”™èƒ½åŠ›</li><li><strong>éƒ¨ç½²ä½ç½®</strong>ï¼šå°†å“¨å…µéƒ¨ç½²åœ¨ä¸åŒçš„ç‰©ç†æœºæˆ–å¯ç”¨åŒºï¼Œé¿å…å•ç‚¹æ•…éšœ</li><li><strong>ç›‘æ§é—´éš”</strong>ï¼šåˆç†è®¾ç½®<code>down-after-milliseconds</code>ï¼Œé€šå¸¸è®¾ç½®ä¸º5-30ç§’</li><li><strong>ç½‘ç»œè¦æ±‚</strong>ï¼šç¡®ä¿å“¨å…µèŠ‚ç‚¹ä¹‹é—´çš„ç½‘ç»œå»¶è¿Ÿä½ä¸”ç¨³å®š</li></ul><h4 id="52-å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ"><a class="markdownIt-Anchor" href="#52-å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ"></a> 5.2 å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h4><p><img src="047fd05d5046fe27313ee2f757d11d5f.png" alt="" /></p><p>å¸¸è§é—®é¢˜åŠå…¶è§£å†³æ–¹æ¡ˆçš„æµç¨‹å›¾ã€‚åˆç†é…ç½®å¯ä»¥é¿å…å¤§å¤šæ•°é—®é¢˜ã€‚</p><h4 id="53-å“¨å…µæ¨¡å¼çš„å±€é™æ€§"><a class="markdownIt-Anchor" href="#53-å“¨å…µæ¨¡å¼çš„å±€é™æ€§"></a> 5.3 å“¨å…µæ¨¡å¼çš„å±€é™æ€§</h4><p>è™½ç„¶å“¨å…µæ¨¡å¼æä¾›äº†é«˜å¯ç”¨æ€§ï¼Œä½†ä¹Ÿæœ‰å…¶å±€é™æ€§ï¼š</p><ol><li><strong>å†™æ“ä½œä¸åˆ†åŒº</strong>ï¼šå“¨å…µæ¨¡å¼ä¸è§£å†³æ•°æ®åˆ†åŒºé—®é¢˜ï¼Œæ‰€æœ‰å†™æ“ä½œä»ç„¶é›†ä¸­åœ¨ä¸»èŠ‚ç‚¹</li><li><strong>æ•…éšœè½¬ç§»æœŸé—´æ•°æ®å¯èƒ½ä¸¢å¤±</strong>ï¼šåœ¨ä¸»èŠ‚ç‚¹æ•…éšœæ—¶ï¼ŒæœªåŒæ­¥åˆ°ä»èŠ‚ç‚¹çš„æ•°æ®ä¼šä¸¢å¤±</li><li><strong>é…ç½®å¤æ‚æ€§</strong>ï¼šéœ€è¦æ­£ç¡®é…ç½®å¤šä¸ªå‚æ•°æ‰èƒ½ç¡®ä¿ç³»ç»Ÿç¨³å®š</li><li><strong>ç½‘ç»œåˆ†åŒºæ•æ„Ÿ</strong>ï¼šåœ¨ç½‘ç»œåˆ†åŒºæƒ…å†µä¸‹å¯èƒ½å‡ºç°è„‘è£‚é—®é¢˜</li></ol><h3 id="å…­-æ€»ç»“"><a class="markdownIt-Anchor" href="#å…­-æ€»ç»“"></a> å…­ã€æ€»ç»“</h3><p>é€šè¿‡ä»Šå¤©çš„è®¨è®ºï¼Œæˆ‘ä»¬æ·±å…¥äº†è§£äº†Rediså“¨å…µæ¨¡å¼çš„åŸç†å’Œå®ç°ã€‚è®©æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹æœ¬æ–‡çš„ä¸»è¦å†…å®¹ï¼š</p><ol><li><strong>åŸºæœ¬æ¦‚å¿µ</strong>ï¼šå“¨å…µæ¨¡å¼æ˜¯Redisçš„é«˜å¯ç”¨è§£å†³æ–¹æ¡ˆï¼Œç”¨äºè‡ªåŠ¨æ•…éšœæ£€æµ‹å’Œè½¬ç§»</li><li><strong>å·¥ä½œæµç¨‹</strong>ï¼šåŒ…æ‹¬ç›‘æ§ã€æ•…éšœæ£€æµ‹ã€æ•…éšœè½¬ç§»å’Œé…ç½®æ›´æ–°å››ä¸ªé˜¶æ®µ</li><li><strong>é…ç½®å®ç°</strong>ï¼šå“¨å…µçš„é…ç½®æ–¹æ³•å’ŒJavaå®¢æˆ·ç«¯è¿æ¥æ–¹å¼</li><li><strong>å†…éƒ¨åŸç†</strong>ï¼šå“¨å…µä¹‹é—´çš„é€šä¿¡ã€æ•…éšœæ£€æµ‹ç®—æ³•ã€é¢†å¯¼è€…é€‰ä¸¾å’Œä»èŠ‚ç‚¹é€‰ä¸¾</li><li><strong>æœ€ä½³å®è·µ</strong>ï¼šå“¨å…µéƒ¨ç½²å»ºè®®å’Œå¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ</li></ol><p>Rediså“¨å…µæ¨¡å¼æ˜¯æ„å»ºé«˜å¯ç”¨Redisç³»ç»Ÿçš„å…³é”®ç»„ä»¶ã€‚è™½ç„¶å®ƒæœ‰ä¸€äº›å±€é™æ€§ï¼Œä½†åœ¨å¤§å¤šæ•°åœºæ™¯ä¸‹éƒ½èƒ½æä¾›å¯é çš„æœåŠ¡ä¿éšœã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©å¤§å®¶æ›´å¥½åœ°ç†è§£å’Œä½¿ç”¨Rediså“¨å…µæ¨¡å¼ã€‚</p><p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå»ºè®®ç»“åˆç›‘æ§ç³»ç»Ÿå¯¹å“¨å…µå’ŒRediså®ä¾‹è¿›è¡Œç›‘æ§ï¼Œå¹¶å®šæœŸæµ‹è¯•æ•…éšœè½¬ç§»è¿‡ç¨‹ï¼Œç¡®ä¿ç³»ç»Ÿåœ¨çœŸæ­£æ•…éšœæ—¶èƒ½å¤Ÿæ­£å¸¸å·¥ä½œã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rediså…¥é—¨ä¸èƒŒæ™¯è¯¦è§£ï¼šæ„å»ºé«˜å¹¶å‘ã€é«˜å¯ç”¨ç³»ç»Ÿçš„å…³é”®åŸºçŸ³</title>
      <link href="/2025/08/20/Redis/Redis%E5%85%A5%E9%97%A8%E4%B8%8E%E8%83%8C%E6%99%AF%E8%AF%A6%E8%A7%A3%EF%BC%9A%E6%9E%84%E5%BB%BA%E9%AB%98%E5%B9%B6%E5%8F%91%E3%80%81%E9%AB%98%E5%8F%AF%E7%94%A8%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%85%B3%E9%94%AE%E5%9F%BA%E7%9F%B3/"/>
      <url>/2025/08/20/Redis/Redis%E5%85%A5%E9%97%A8%E4%B8%8E%E8%83%8C%E6%99%AF%E8%AF%A6%E8%A7%A3%EF%BC%9A%E6%9E%84%E5%BB%BA%E9%AB%98%E5%B9%B6%E5%8F%91%E3%80%81%E9%AB%98%E5%8F%AF%E7%94%A8%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%85%B3%E9%94%AE%E5%9F%BA%E7%9F%B3/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h2><p>åœ¨å½“ä»Šè¿™ä¸ªæ•°æ®é©±åŠ¨çš„æ—¶ä»£ï¼Œåº”ç”¨çš„æ€§èƒ½å’Œå¯æ‰©å±•æ€§å·²æˆä¸ºè¡¡é‡å…¶æˆåŠŸçš„å…³é”®æŒ‡æ ‡ã€‚å½“ä¼ ç»Ÿçš„å•æœºæ¶æ„é¢å¯¹æ—¥ç›Šå¢é•¿çš„ç”¨æˆ·é‡å’Œæ•°æ®æ´ªæµè€Œæ˜¾å¾—åŠ›ä¸ä»å¿ƒæ—¶ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿä¾¿åº”è¿è€Œç”Ÿã€‚ç„¶è€Œï¼Œç³»ç»Ÿçš„åˆ†å¸ƒå¼æ¼”è¿›ä¹Ÿå¸¦æ¥äº†æ–°çš„æŒ‘æˆ˜ï¼šå¦‚ä½•åœ¨å¤šå°æœåŠ¡å™¨ä¹‹é—´é«˜æ•ˆã€å¿«é€Ÿåœ°å…±äº«å’Œè®¿é—®æ•°æ®ï¼Ÿ<br />è¿™ç¯‡æ–‡ç« å°†å¸¦æ‚¨è®¤è¯†ä¸€ä¸ªåœ¨åˆ†å¸ƒå¼ä¸–ç•Œä¸­æ‰®æ¼”ç€è‡³å…³é‡è¦è§’è‰²çš„æŠ€æœ¯â€”â€”Redisã€‚æˆ‘ä»¬å°†ä»æœ€åŸºç¡€çš„å•æœºæ¶æ„å‡ºå‘ï¼Œä¸€æ­¥æ­¥æ¢ç´¢ç³»ç»Ÿå¦‚ä½•æ¼”è¿›ä¸ºå¤æ‚çš„åˆ†å¸ƒå¼é›†ç¾¤ï¼Œå¹¶åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ­ç¤ºRedisä½œä¸ºé«˜æ€§èƒ½å†…å­˜æ•°æ®åº“å’Œç¼“å­˜ä¸­é—´ä»¶çš„æ ¸å¿ƒä»·å€¼ã€‚æ— è®ºæ‚¨æ˜¯åˆšå…¥é—¨çš„å¼€å‘è€…ï¼Œè¿˜æ˜¯å¸Œæœ›æ·±åŒ–å¯¹ç³»ç»Ÿæ¶æ„ç†è§£çš„å·¥ç¨‹å¸ˆï¼Œæœ¬æ–‡éƒ½å°†ä¸ºæ‚¨æä¾›ä¸€ä¸ªæ¸…æ™°çš„è·¯çº¿å›¾ï¼Œå¸®åŠ©æ‚¨ç†è§£Redisä¸ºä½•èƒ½æˆä¸ºç°ä»£é«˜æ€§èƒ½åº”ç”¨ä¸å¯æˆ–ç¼ºçš„åŸºçŸ³ã€‚</p><h2 id="è®¤è¯†redis"><a class="markdownIt-Anchor" href="#è®¤è¯†redis"></a> è®¤è¯†Redis</h2><p>åœ¨å†…å­˜ä¸­è¿›è¡Œæ•°æ®å­˜å‚¨<img src="b7db0fbbbabea55259138d69bb08ddc2.png" alt="image.png" /></p><p>ä½†æ˜¯æˆ‘ä»¬å®šä¹‰å˜é‡ä¸æ˜¯åœ¨å†…å­˜ä¸­è¿›è¡Œå­˜å‚¨ä¹ˆï¼Œé‚£ä¹ˆæˆ‘ä»¬ä½¿ç”¨redisä¸æ˜¯é¥¶äº†ä¸ªåœˆä¹ˆï¼Ÿ</p><p><strong>redisæ˜¯åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæ‰èƒ½å‘æŒ¥ä½œç”¨</strong></p><p>å¦‚æœåªæ˜¯å•æœºç¨‹åºï¼Œç›´æ¥é€šè¿‡å˜é‡å­˜å‚¨æ•°æ®çš„æ–¹æ³•æ˜¯æ¯”ä½¿ç”¨redisæ›´ä¼˜çš„é€‰æ‹©</p><p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å®šä¹‰å˜é‡è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºè¿›ç¨‹æ˜¯å…·æœ‰éš”ç¦»æ€§çš„ï¼Œå¦‚æœæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„è¯è‚¯å®šæ˜¯æ¶‰åŠåˆ°å¤šä¸ªè¿›ç¨‹çš„ï¼Œç”šè‡³è¯´è¿™å¤šä¸ªè¿›ç¨‹æ˜¯åˆ†å¸ƒåœ¨ä¸åŒçš„ä¸»æœºä¸Šï¼Œè€Œä½ æƒ³å…±äº«åˆ«çš„è¿›ç¨‹çš„å˜é‡è‚¯å®šæ˜¯ä¸è¡Œçš„</p><p><strong>æ‰€ä»¥Redisæ˜¯åŸºäºç½‘ç»œï¼Œå°†è‡ªå·±å†…å­˜ä¸­çš„å˜é‡åˆ†äº«ç»™åˆ«çš„è¿›ç¨‹ï¼Œç”šè‡³ç»™åˆ«çš„ä¸»æœºä¸­çš„è¿›ç¨‹è¿›è¡Œä½¿ç”¨</strong></p><p>mysqlç°åœ¨æœ€å¤§çš„é—®é¢˜åœ¨äºï¼Œè®¿é—®é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œæ•°æ®åœ¨ç¡¬ç›˜ä¸Š<br />redisä¹Ÿå¯ä»¥ä½œä¸ºæ•°æ®åº“ï¼Œåœ¨å†…å­˜ä¸Šçš„ï¼Œé€Ÿåº¦å¿«</p><p>è®¡ç®—æœºè®¿é—®å†…å­˜çš„é€Ÿåº¦æ¯”è®¿é—®ç¡¬ç›˜çš„é€Ÿåº¦å¿«</p><p>å®šæ€§çš„è§’åº¦ï¼Œå¯ä»¥çŸ¥é“rediså¿«å¾ˆå¤šï¼Œä½†æ˜¯å¾ˆéš¾å®šé‡è¡¡é‡ï¼Œå› ä¸ºmysqlå’Œrediså…·ä½“åŠŸèƒ½å’Œä½¿ç”¨åœºæ™¯éƒ½ä¸åŒ</p><p>rediså’Œmysqlç›¸æ¯”ï¼Œæœ€å¤§çš„åŠ£åŠ¿ï¼Œå­˜å‚¨ç©ºé—´æ˜¯æœ‰é™çš„ï¼Œå†…å­˜æ¯”è¾ƒå°</p><p>ä»åŠŸèƒ½å’Œå­˜å‚¨ç©ºé—´çš„è§’åº¦æ¥è¯´ï¼Œè¿˜æ˜¯mysqlæ›´èƒœä¸€ç­¹çš„</p><p>é‚£ä¹ˆæ˜¯å¦å­˜åœ¨ä¸€ä¸ªæœºåˆ¶ï¼Œè®©å­˜å‚¨é€Ÿåº¦å¿«ï¼Œå­˜å‚¨ç©ºé—´å¤§å‘¢</p><p>å…¸å‹çš„æ–¹æ¡ˆå°±æ˜¯å°†mysqlå’Œredisç»“åˆèµ·æ¥è¿›è¡Œä½¿ç”¨</p><p>ç”¨redisä½œä¸ºmysqlçš„cacheï¼Œå°†æˆ‘ä»¬ç»å¸¸è®¿é—®çš„æ•°æ®ä½¿ç”¨redisè¿›è¡Œå­˜å‚¨ï¼Œå…¨é‡æ•°æ®è¿˜æ˜¯æ”¾åœ¨mysqlä¸­è¿›è¡Œå­˜å‚¨<br />ä»£ä»·å°±æ˜¯ç³»ç»Ÿçš„å¤æ‚ç¨‹åº¦å¤§å¤§æå‡äº†ï¼Œå¦‚æœæ•°æ®å‘ç”Ÿæˆä¿®æ”¹çš„è¯ï¼Œè¿˜æ¶‰åŠåˆ°mysqlå’Œredisä¹‹é—´çš„åŒæ­¥é—®é¢˜</p><p>redisçš„åˆå¿ƒï¼Œæœ€åˆå°±æ˜¯ç”¨æ¥ä½œä¸ºä¸€ä¸ª&quot;æ¶ˆæ¯ä¸­é—´ä»¶&quot;çš„(æ¶ˆæ¯é˜Ÿåˆ—)<br />åˆ†å¸ƒå¼ç³»ç»Ÿä¸‹çš„ç”Ÿäº§æ¶ˆè´¹æ¨¡å‹<br />ä½†æ˜¯å½“å‰å¾ˆå°‘ä¼šä½¿ç”¨redisä½œä¸ºæ¶ˆæ¯ä¸­é—´ä»¶ï¼Œå› ä¸ºç•Œå†…æœ‰æ›´å¤šä¸“ä¸šçš„æ¶ˆæ¯ä¸­é—´ä»¶</p><h2 id="å•æœºæ¶æ„"><a class="markdownIt-Anchor" href="#å•æœºæ¶æ„"></a> å•æœºæ¶æ„</h2><p>å•æœºæ¶æ„ï¼Œåªæœ‰ä¸€å°æœåŠ¡å™¨ï¼Œè¿™ä¸ªæœåŠ¡å™¨è´Ÿè´£æ‰€å¶çš„å·¥ä½œ<br /><img src="4b6a0a62da2da2cf2dbc1e4ed4185d37.png" alt="image.png" /><br />è¿™é‡Œä½¿ç”¨çš„æœåŠ¡å™¨å¯ä»¥æ˜¯mysql<br />mysqlæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯æœåŠ¡å™¨ç»“æ„çš„é™ˆæ—­<br />æœ¬ä½“æ˜¯mysqlæœåŠ¡å™¨ï¼ˆå­˜å‚¨å’Œç»„ç»‡æ•°æ®çš„éƒ¨åˆ†ï¼‰</p><p>ç»å¤§éƒ¨åˆ†å…¬å¸çš„äº§å“éƒ½æ˜¯è¿™ç§å•æœºæ¶æ„</p><p>å¦‚æœä¸šåŠ¡è¿›ä¸€æ­¥å¢é•¿äº†ï¼Œç”¨æˆ·é‡å’Œæ•°æ®é‡éƒ½æ°´æ¶¨èˆ¹é«˜äº†ï¼Œä¸€å°ä¸»æœºéš¾ä»¥åº”ä»˜çš„æ—¶å€™ï¼Œå°±éœ€è¦å¼•å…¥æ›´å¤šçš„ä¸»æœºï¼Œå¼•å…¥æ›´å¤šçš„ç¡¬ä»¶èµ„æº</p><h2 id="æµ…è°ˆåˆ†å¸ƒå¼ç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#æµ…è°ˆåˆ†å¸ƒå¼ç³»ç»Ÿ"></a> æµ…è°ˆåˆ†å¸ƒå¼ç³»ç»Ÿ</h2><h3 id="åˆ†å¸ƒå¼æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#åˆ†å¸ƒå¼æ˜¯ä»€ä¹ˆ"></a> åˆ†å¸ƒå¼æ˜¯ä»€ä¹ˆ</h3><p>ä¸€å°ä¸»æœºçš„ç¡¬ä»¶èµ„æºæ˜¯æœ‰ä¸Šé™çš„<br />ç¡¬ä»¶èµ„æºåŒ…æ‹¬ä¸é™äºä¸‹é¢å‡ ç§ï¼šCPUã€å†…å­˜ã€ç¡¬ç›˜ã€ç½‘ç»œ<br />æœåŠ¡å™¨æ¯æ¬¡æ”¶åˆ°ä¸€ä¸ªè¯·æ±‚ï¼Œéƒ½æ˜¯éœ€è¦æ¶ˆè€—ä¸Šè¿°çš„ä¸€äº›èµ„æºçš„</p><p>å¦‚æœåŒä¸€æ—¶åˆ»ï¼Œå¤„ç†çš„è¯·æ±‚å¤šäº†ï¼Œæ­¤æ—¶å°±å¯èƒ½ä¼šå¯¼è‡´æŸä¸ªç¡¬ä»¶èµ„æºä¸å¤Ÿç”¨äº†</p><p>æ— è®ºæ˜¯å“ªä¸ªæ–¹é¢ä¸å¤Ÿç”¨äº†ï¼Œéƒ½å¯èƒ½ä¼šå¯¼è‡´æœåŠ¡å™¨å¤„ç†è¯·æ±‚çš„æ—¶é—´å˜é•¿äº†ï¼Œç”šè‡³äºå¤„ç†å‡ºé”™</p><p>å¦‚æœæˆ‘ä»¬çœŸçš„é‡åˆ°è¿™æ ·çš„æœåŠ¡å™¨ä¸å¤Ÿçš„æƒ…å†µï¼Œå¦‚ä½•è¿›è¡Œå¤„ç†å‘¢<br />1ã€å¼€æº å¢åŠ æ›´å¤šçš„ç¡¬ä»¶èµ„æºï¼ˆä½†æ˜¯ä¸€ä¸ªä¸»æœºä¸Šèƒ½å¢åŠ çš„ç¡¬ä»¶èµ„æºä¹Ÿæ˜¯æœ‰é™çš„ï¼‰<br />2ã€èŠ‚æµï¼ˆè½¯ä»¶ä¸Šçš„ä¼˜åŒ–ï¼‰</p><p>ä¸€å°ä¸»æœºæ‰©å±•åˆ°æé™äº†ï¼Œä½†æ˜¯è¿˜æ˜¯ä¸å¤Ÿï¼Œå°±åªèƒ½å¼•å…¥å¤šæ€ä¸»æœºäº†</p><p>ä¸€ä½†å¼•å…¥å¤šå°ä¸»æœºï¼Œå’±ä»¬çš„ç³»ç»Ÿå°±å¯ä»¥æˆä¸ºæ˜¯â€œåˆ†å¸ƒå¼ç³»ç»Ÿâ€</p><p>å¼•å…¥åˆ†å¸ƒå¼ï¼Œè¿™æ˜¯ä¸‡ä¸å¾—å·²<br />ç³»ç»Ÿçš„å¤æ‚ç¨‹åº¦ä¼šå¤§å¤§æé«˜çš„</p><h3 id="æ•°æ®åº“åˆ†ç¦»å’Œè´Ÿè½½å‡è¡¡"><a class="markdownIt-Anchor" href="#æ•°æ®åº“åˆ†ç¦»å’Œè´Ÿè½½å‡è¡¡"></a> æ•°æ®åº“åˆ†ç¦»å’Œè´Ÿè½½å‡è¡¡</h3><p><img src="7f1cd6674c7345e9f99d0c643f1cba7f.png" alt="image.png" /><br />åº”ç”¨æœåŠ¡å™¨ï¼Œé‡Œé¢å¯èƒ½ä¼šåŒ…å«å¾ˆå¤šçš„ä¸šåŠ¡é€»è¾‘ï¼Œå¯èƒ½ä¼šåƒCPUå’Œå†…å­˜</p><p>æ•°æ®åº“æœåŠ¡å™¨ï¼Œéœ€è¦æ›´å¤§çš„ç¡¬ç›˜ç©ºé—´ï¼Œæ›´å¿«çš„è®¿é—®é€Ÿåº¦ï¼Œå¯ä»¥é…ç½®æ›´å¤§ç¡¬ç›˜çš„æœåŠ¡å™¨</p><p>å¼•å…¥æ›´å¤šçš„åº”ç”¨æœåŠ¡å™¨èŠ‚ç‚¹ï¼Œåº”ç”¨æœåŠ¡å™¨å¯èƒ½æ¯”è¾ƒåƒCPUå’Œå†…å­˜ï¼Œå¦‚æœæŠŠCPUå’Œå†…å­˜åƒæ²¡äº†ï¼Œæ­¤æ—¶åº”ç”¨æœåŠ¡å™¨å°±é¡¶ä¸ä½äº†ï¼Œå¼•å…¥æ›´å¤šçš„åº”ç”¨æœåŠ¡å™¨ï¼Œå°±å¯ä»¥æœ‰æ•ˆè§£å†³ä¸Šè¿°é—®é¢˜äº†<br /><img src="d001cc0718214e7cb091bb8bd9918a3a.png" alt="" /><br />ç”¨æˆ·çš„è¯·æ±‚å…ˆåˆ°è¾¾è´Ÿè½½å‡è¡¡å™¨/ç½‘å…³æœåŠ¡å™¨</p><p>å‡è®¾æœ‰1wä¸ªç”¨æˆ·è¯·æ±‚ï¼Œæœ‰2ä¸ªåº”ç”¨æœåŠ¡å™¨çš„è¯ï¼Œæ­¤æ—¶æŒ‰ç…§è´Ÿè½½å‡è¡¡çš„æ–¹å¼ï¼Œå°±å¯ä»¥è®©æ¯ä¸ªåº”ç”¨æœåŠ¡å™¨æ‰¿æ‹…5kçš„è®¿é—®é‡</p><p>è¿™ä¸ªå°±å’Œå¤šçº¿ç¨‹å…¶å®å¾ˆç›¸ä¼¼çš„</p><p>è´Ÿè½½å‡è¡¡å™¨ï¼Œå¯¹äºè¯·æ±‚é‡çš„æ‰¿æ‹…èƒ½åŠ›ï¼Œè¦è¿œè¶…è¿‡äºåº”ç”¨æœåŠ¡å™¨çš„</p><p>è´Ÿè½½å‡è¡¡å™¨æ˜¯é¢†å¯¼ï¼Œåˆ†é…å·¥ä½œ<br />åº”ç”¨æœåŠ¡å™¨ï¼Œæ˜¯ç»„å‘˜ï¼Œæ‰§è¡Œä»»åŠ¡</p><p>ä¹Ÿå¯èƒ½è¯·æ±‚é‡å¤§é“è´Ÿè½½å‡è¡¡å™¨ä¹Ÿæ‰›ä¸ä½äº†<br />é‚£ä¹ˆæˆ‘ä»¬å°±å¾—å¼•å…¥æ›´å¤šçš„è´Ÿè½½å‡è¡¡å™¨</p><p>å¢åŠ åº”ç”¨æœåŠ¡å™¨ï¼Œç¡®å®èƒ½å¤Ÿå¤„ç†æ›´é«˜çš„è¯·æ±‚é‡<br />ä½†æ˜¯éšä¹‹å­˜å‚¨æœåŠ¡å™¨ï¼Œè¦æ‰¿æ‹…çš„è¯·æ±‚é‡ä¹Ÿå°±æ›´å¤šäº†</p><p><img src="3322d8db8c7d1c211d2c3559d4e6cea3.png" alt="image.png" /><br />å®é™…çš„åº”ç”¨åœºæ™¯ä¸­ï¼Œè¯»çš„é¢‘ç‡æ¯”å†™æ›´é«˜çš„</p><p>å¼•å…¥æ›´å¤šçš„ä»æœåŠ¡å™¨<br />ä¸»æœåŠ¡å™¨åªæœ‰ä¸€ä¸ª</p><p>åŒæ—¶ä»æ•°æ®åº“é€šè¿‡è´Ÿè½½å‡è¡¡çš„æ–¹å¼ï¼Œè®©åº”ç”¨æœåŠ¡å™¨è¿›è¡Œè®¿é—®<br />é€šè¿‡è¿™æ ·é™ä½å•å°æœåŠ¡å™¨çš„å‹åŠ›</p><h3 id="å¼•å…¥ç¼“å­˜"><a class="markdownIt-Anchor" href="#å¼•å…¥ç¼“å­˜"></a> å¼•å…¥ç¼“å­˜</h3><p>æ•°æ®åº“å¤©ç„¶é—®é¢˜ï¼Œç›¸åº”é€Ÿåº¦æ˜¯æ›´æ…¢çš„ï¼ï¼<br />æŠŠæ•°æ®åŒºåˆ†&quot;å†·çƒ­&quot;ï¼Œçƒ­ç‚¹æ•°æ®æ”¾åˆ°ç¼“å­˜ä¸­~ç¼“å­˜çš„è®¿é—®é€Ÿåº¦å¾€å¾€æ¯”æ•°æ®åº“å¿«å¾ˆå¤šäº†<br />åœ¨æ•°æ®åº“è¯»å†™åˆ†ç¦»çš„åŸºç¡€ä¸Šï¼Œè¿™é‡Œå¼•å…¥äº†ç¼“å­˜æœåŠ¡å™¨ï¼Œå­˜æ”¾ä¸€å°éƒ¨åˆ†çƒ­ç‚¹æ•°æ®ï¼ˆä¼šé¢‘ç¹è¢«è®¿é—®çš„æ•°æ®ï¼‰<br />æ‰€ä»¥å†·æ•°æ®å°±æ˜¯ä¸ä¼šè¢«é¢‘ç¹è®¿é—®çš„æ•°æ®<br /><img src="1b4e091e68527ac6054e8d3ecb15d2b1.png" alt="image.png" /><br />ç¼“å­˜è¦æƒ³å¿«ï¼Œå°±å¾—ä»˜å‡ºä»£ä»·<br />rediså°±æ˜¯è¦ä½œä¸ºç¼“å­˜æœåŠ¡å™¨</p><p>å¯¹åº”ç”¨æœåŠ¡å™¨æ¥è¯´ï¼Œç»å¤§å¤šæ•°çš„è¯·æ±‚éƒ½èƒ½ä»ç¼“å­˜æœåŠ¡å™¨ä¸­æ‰¾åˆ°ç­”æ¡ˆï¼Œè¿™å°±æ˜¯æˆ‘ä»¬çš„æ•°æ®åº“æœåŠ¡å™¨æ‰¿æ‹…çš„å‹åŠ›å˜å°äº†ï¼Œå¹¶ä¸”æˆ‘ä»¬çš„ç¼“å­˜æœåŠ¡å™¨è¯»å–é€Ÿåº¦è¿˜å¿«</p><p>ç¼“å­˜æœåŠ¡å™¨å¸®åŠ©æ•°æ®åº“æœåŠ¡å™¨è´Ÿé‡å‰è¡Œäº†<img src="64454faa23ed5ab8c356dbfa9c21f2b9.png" alt="image.png" /></p><p>è¦æƒ³å¾—åˆ°ä¸€ä¸ªæ•ˆæœï¼Œå°±è¦ä»˜å‡ºä¸€å®šçš„ä»£ä»·</p><h3 id="æ•°æ®åº“åˆ†åº“åˆ†è¡¨"><a class="markdownIt-Anchor" href="#æ•°æ®åº“åˆ†åº“åˆ†è¡¨"></a> æ•°æ®åº“åˆ†åº“åˆ†è¡¨</h3><p>å¼•å…¥åˆ†å¸ƒå¼ç³»ç»Ÿä¸å…‰è¦åº”å¯¹æ›´é«˜çš„è¯·æ±‚é‡ï¼ˆå¹¶å‘é‡ï¼‰ï¼ŒåŒæ—¶èƒ½åº”å¯¹æ›´å¤§çš„æ•°æ®é‡</p><p>å¯èƒ½ä¼šå‡ºç°ï¼Œä¸€å°æœåŠ¡å™¨å·²ç»å­˜ä¸ä¸‹æ•°æ®äº†ï¼Œè™½ç„¶ä¸€ä¸ªæœåŠ¡å™¨çš„å­˜å‚¨é‡å¯ä»¥åˆ°å‡ åä¸ªTBï¼Œå³ä½¿å¦‚æ­¤ä¹Ÿå¯èƒ½ä¼šå­˜ä¸ä¸‹</p><p>ä¸€å°ä¸»æœºå­˜ä¸ä¸‹ï¼Œå°±å¾—éœ€è¦å¤šå°ä¸»æœºäº†</p><p>é’ˆå¯¹æ•°æ®åº“è¿›è¡Œè¿›ä¸€æ­¥çš„æ‹†åˆ†<br />åˆ†åº“åˆ†è¡¨</p><p>æœ¬æ¥æ˜¯ä¸€ä¸ªæ•°æ®åº“æœåŠ¡å™¨ï¼Œè¿™ä¸ªæ•°æ®åº“æœåŠ¡å™¨ä¸Šæœ‰å¤šä¸ªæ•°æ®åº“ï¼ˆæŒ‡çš„æ˜¯é€»è¾‘ä¸Šçš„æ•°æ®é›†åˆï¼Œcreate databaseåˆ›å»ºçš„é‚£ä¸ªä¸œè¥¿)</p><p>ç°åœ¨å°±å¯ä»¥å¼•å…¥å¤šä¸ªæ•°æ®åº“æœåŠ¡å™¨ï¼Œæ¯ä¸ªæ•°æ®åº“æœåŠ¡å™¨å­˜å‚¨ä¸€ä¸ªæˆ–è€…ä¸€éƒ¨åˆ†æ•°æ®åº“<br /><img src="f31a4e6dc8185589a6608bde0bf5b436.png" alt="image.png" /><br />å¦‚æœæŸä¸ªè¡¨ç‰¹åˆ«å¤§ï¼Œå¤§åˆ°ä¸€å°ä¸»æœºå­˜ä¸ä¸‹ï¼Œä¹Ÿå¯ä»¥é’ˆå¯¹è¡¨è¿›è¡Œæ‹†åˆ†</p><p>å…·ä½“åˆ†åº“åˆ†è¡¨å¦‚ä½•æ—¶é—´ï¼Œè¿˜æ˜¯è¦ç»“åˆå®é™…çš„ä¸šåŠ¡åœºæ™¯æ¥å±•å¼€<br />ä¸šåŠ¡è‡³å…³é‡è¦</p><h3 id="å¼•å…¥å¾®æœåŠ¡"><a class="markdownIt-Anchor" href="#å¼•å…¥å¾®æœåŠ¡"></a> å¼•å…¥å¾®æœåŠ¡</h3><p>å¾®æœåŠ¡æ¶æ„<br /><img src="fe871f872cc2c8dcf87cdc1676936dd9.png" alt="image.png" /><br />ä¹‹å‰çš„åº”ç”¨æœåŠ¡å™¨ï¼Œä¸€ä¸ªæœåŠ¡å™¨ç¨‹åºé‡Œé¢åšäº†å¾ˆå¤šçš„ä¸šåŠ¡ï¼Œè¿™å°±å¯èƒ½ä¼šå¯¼è‡´è¿™ä¸€ä¸ªæœåŠ¡å™¨çš„ä»£ç è¶Šæ¥è¶Šå¤æ‚äº†ï¼Œä¸ºäº†æ›´æ–¹ä¾¿äºä»£ç çš„ç»´æŠ¤ï¼Œå°±å¯ä»¥æŠŠè¿™æ ·çš„ä¸€ä¸ªå¤æ‚çš„æœåŠ¡å™¨ï¼Œæ‹†åˆ†æˆæ›´å¤šçš„ï¼ŒåŠŸèƒ½æ›´å•ä¸€ï¼Œæ›´ä¸‹çš„æœåŠ¡å™¨ï¼Œæˆ‘ä»¬å°†è¿™æ ·å°çš„æœåŠ¡å™¨æˆä¸ºå¾®æœåŠ¡</p><p>æœåŠ¡å™¨çš„ç§ç±»å’Œæ•°é‡å°±å¢åŠ äº†</p><p>æœ€å¼€å§‹å¼•å…¥è´Ÿè½½å‡è¡¡è§£å†³çš„é—®é¢˜æ˜¯è¯·æ±‚é‡æ›´é«˜çš„é—®é¢˜<br />åé¢å¼•å…¥çš„åˆ†åº“åˆ†è¡¨è§£å†³çš„æ˜¯å­˜å‚¨ç©ºé—´ä¸è¶³çš„é—®é¢˜</p><p>é‚£ä¹ˆå¾®æœåŠ¡æœ¬è´¨ä¸Šè§£å†³çš„æ˜¯â€œäººâ€çš„é—®é¢˜</p><p>å½“åº”ç”¨æœåŠ¡å™¨å˜å¤æ‚äº†ï¼Œé‚£ä¹ˆåŠ¿å¿…å°±éœ€è¦æ›´å¤šçš„äººæ¥ç»´æŠ¤äº†</p><p>å½“äººå¤šäº†ï¼Œå°±éœ€è¦é…å¥—çš„ç®¡ç†ï¼ŒæŠŠè¿™äº›äººç»„ç»‡å¥½</p><p>å› æ­¤å°±å¾—åˆ’åˆ†ç»„ç»‡ç»“æ„ï¼Œåˆ†æˆå¤šä¸ªç»„ï¼Œæ¯ä¸ªç»„é…å¤‡é¢†å¯¼è¿›è¡Œç®¡ç†</p><p>åˆ†æˆå¤šä¸ªç»„ä¹‹åï¼Œå°±éœ€è¦è¿›è¡Œåˆ†å·¥äº†</p><p>æŒ‰ç…§åŠŸèƒ½ï¼Œæ‹†åˆ†æˆå¤šç»„å¾®æœåŠ¡ï¼Œè¿™æ ·å°±æœ‰åˆ©äºä¸Šè¿°äººå‘˜ç»„ç»‡çš„ç»“æ„çš„åˆ†é…äº†</p><p>å¦‚æœæ˜¯å°å…¬å¸ï¼Œå°±å‡ ä¸ªå¼€å‘ï¼Œé‚£ä¹ˆå°±æ²¡å¿…è¦æå¾®æœåŠ¡äº†</p><p>å¼•å…¥å¾®æœåŠ¡ï¼Œè§£å†³äº†äººçš„é—®é¢˜ï¼Œä¼šæœ‰ä»€ä¹ˆä»£ä»·å‘¢ï¼Ÿ<br />1ã€æ€§èƒ½ä¼šä¸‹é™ï¼ˆæƒ³ä¿è¯æ€§èƒ½ä¸ä¸‹é™ï¼Œåªèƒ½å¼•å…¥æ›´å¤šçš„æœºå™¨ï¼Œæ›´å¤šçš„ç¡¬ä»¶èµ„æºï¼‰<br />æ‹†å‡ºæ¥æ›´å¤šçš„æœåŠ¡ï¼Œå¤šä¸ªåŠŸèƒ½ä¹‹é—´æ›´è¦ä¾èµ–ç½‘ç»œé€šä¿¡ï¼Œ<br />ç½‘ç»œé€šä¿¡çš„é€Ÿåº¦å¾ˆå¯èƒ½æ˜¯æ¯”ç¡¬ç›˜è¿˜æ…¢çš„<br />2ã€ç³»ç»Ÿå¤æ‚ç¨‹åº¦æé«˜ï¼Œå¯ç”¨æ€§å—åˆ°å½±å“<br />æœåŠ¡å™¨æ›´å¤šäº†ï¼Œå‡ºç°é—®é¢˜çš„æ¦‚ç‡æ›´å¤§äº†<br />è¿™å°±éœ€è¦ä¸€äº›åˆ—çš„æ‰‹æ®µä¿è¯ç³»ç»Ÿçš„å¯ç”¨æ€§</p><p>å¾®æœåŠ¡çš„ä¼˜åŠ¿ï¼š<br />1ã€è§£å†³äº†äººçš„é—®é¢˜<br />2ã€ä½¿ç”¨å¾®æœåŠ¡ï¼Œå¯ä»¥æ›´æ–¹ä¾¿äºåŠŸèƒ½çš„å¤ç”¨<br />3ã€å¯ä»¥ç»™ä¸åŒçš„æœåŠ¡å»è¿›è¡Œä¸åŒçš„éƒ¨ç½²</p><h3 id="å¿µè¡¥å……"><a class="markdownIt-Anchor" href="#å¿µè¡¥å……"></a> å¿µè¡¥å……</h3><p><img src="28b0dd027ab0cd09d3f18b8041655643.png" alt="image.png" /></p><p>åˆ†å¸ƒå¼ï¼Œå¼•å…¥å¤šä¸ªä¸»æœº/æœåŠ¡å™¨ï¼ŒååŒé…åˆå®Œæˆä¸€ç³»åˆ—çš„å·¥ä½œ<br /><img src="72f03155d3ba5278626872f02726978f.png" alt="image.png" /><br /><img src="fd0a4a0e17abd4768409713760e17ca8.png" alt="" /><br />ä¸»ä»æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¸€ç§æ¯”è¾ƒç»å…¸çš„ç»“æ„</p><p>å¤šä¸ªæœåŠ¡å™¨èŠ‚ç‚¹ï¼Œä¸€ä¸ªæ˜¯ä¸»ï¼Œå¦ä¸€ä¸ªæ˜¯ä»ï¼Œä»èŠ‚ç‚¹çš„æ•°æ®ä¸»è¦ä»ä¸»èŠ‚ç‚¹è¿™é‡ŒåŒæ­¥è¿‡æ¥~~<br /><img src="9d3e11c629b2a258e453d4ee9ac3abbe.png" alt="image.png" /><br />ä¸­é—´ä»¶å’Œä¸šåŠ¡æ— å…³çš„æœåŠ¡ï¼ˆåŠŸèƒ½æ›´é€šç”¨çš„æœåŠ¡ï¼‰</p><ul><li>æ•°æ®åº“</li><li>ç¼“å­˜</li><li>æ¶ˆæ¯é˜Ÿåˆ—</li></ul><p>ååå’Œå¹¶å‘æ˜¯è¡¡é‡ç³»ç»Ÿçš„å¤„ç†è¯·æ±‚çš„èƒ½åŠ›ï¼Œè¡¡é‡æ€§èƒ½çš„ä¸€ç§æ–¹å¼</p><h3 id="å°ç»“"><a class="markdownIt-Anchor" href="#å°ç»“"></a> å°ç»“</h3><p>1ã€å•æœºæ¶æ„ï¼ˆåº”ç”¨ç¨‹åº+æ•°æ®åº“æœåŠ¡å™¨ï¼‰</p><p>2ã€æ•°æ®åº“å’Œåº”ç”¨åˆ†ç¦»<br />åº”ç”¨ç¨‹åºå’Œæ•°æ®åº“æœåŠ¡å™¨åˆ†åˆ«æ”¾åˆ°ä¸åŒä¸»æœºä¸Šéƒ¨ç½²äº†</p><p>3ã€å¼•å…¥è´Ÿè½½å‡è¡¡ï¼šåº”ç”¨æœåŠ¡å™¨=&gt;é›†ç¾¤<br />é€šè¿‡è´Ÿè½½å‡è¡¡å™¨ï¼ŒæŠŠè¯·æ±‚æ¯”è¾ƒå›å‡åŒ€çš„åˆ†å‘ç»™é›†ç¾¤ä¸­çš„æ¯ä¸ªåº”ç”¨æœåŠ¡å™¨</p><p>å½“æ•´ä¸ªç³»ç»Ÿä¸­çš„æŸä¸ªä¸»æœºæŒ‚äº†ï¼Œå…¶ä»–ä¸»æœºä»ç„¶å¯ä»¥æ‰¿æ‹…æœåŠ¡ï¼Œæé«˜äº†æ•´ä¸ªç³»ç»Ÿçš„å¯ç”¨æ€§</p><p>4ã€å¼•å…¥è¯»å†™åˆ†ç¦»ï¼Œæ•°æ®åº“ä¸»ä»ç»“æ„<br />ä¸€ä¸ªæ•°æ®åº“èŠ‚ç‚¹ä½œä¸ºä¸»èŠ‚ç‚¹ï¼Œå…¶ä»–nä¸ªæ•°æ®åº“èŠ‚ç‚¹ä½œä¸ºä»èŠ‚ç‚¹<br />ä¸»èŠ‚ç‚¹è´Ÿè´£å†™æ•°æ®ï¼Œä»èŠ‚ç‚¹è´Ÿè´£è¯»æ•°æ®<br />ä¸»èŠ‚ç‚¹éœ€è¦æŠŠçˆ±ä¿®æ”¹è¿‡çš„æ•°æ®åŒæ­¥åˆ°ä»èŠ‚ç‚¹</p><p>5ã€å¼•å…¥ç¼“å­˜ï¼Œå†·çƒ­æ•°æ®åˆ†ç¦»<br />è¿›ä¸€æ­¥æå‡äº†æœåŠ¡å™¨é’ˆå¯¹è¯·æ±‚çš„å¤„ç†èƒ½åŠ›<br />äºŒå…«åŸåˆ™</p><p>6ã€å¼•å…¥åˆ†åº“åˆ†è¡¨ï¼Œæ•°æ®åº“èƒ½å¤Ÿè¿›ä¸€æ­¥æ‰©å±•å­˜å‚¨ç©ºé—´</p><p>7ã€å¼•å…¥å¾®æœåŠ¡ï¼Œä»ä¸šåŠ¡ä¸Šè¿›ä¸€æ­¥æ‹†åˆ†åº”ç”¨æœåŠ¡å™¨<br />ä»åä¸šåŠ¡åŠŸèƒ½çš„è§’åº¦ï¼ŒæŠŠåº”ç”¨æœåŠ¡å™¨ï¼Œæ‹†åˆ†æˆæ›´å¤šçš„åŠŸèƒ½å•ä¸€ï¼Œæ›´ç®€å•ï¼Œæ›´å°çš„æœåŠ¡å™¨</p><p>æ‰€è°“çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå°±æ˜¯æƒ³åŠæ³•å¼•å…¥æ›´å¤šçš„ç¡¬ä»¶èµ„æº</p><h2 id="redisç‰¹æ€§ä»‹ç»"><a class="markdownIt-Anchor" href="#redisç‰¹æ€§ä»‹ç»"></a> Redisç‰¹æ€§ä»‹ç»</h2><p>Redisæ˜¯ä¸€ä¸ªåœ¨å†…å­˜ä¸­å­˜å‚¨æ•°æ®çš„ä¸­é—´ä»¶ï¼Œç”¨äºä½œä¸ºæ•°æ®åº“ï¼Œç”¨äºä½œä¸ºæ•°æ®ç¼“å­˜<br />åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­èƒ½å¤Ÿå¤§å±•æ‹³è„š</p><p>Redisçš„ä¸€äº›ç‰¹å®šï¼ˆä¼˜ç‚¹ï¼‰</p><p>Redisåœ¨å†…å­˜ä¸­å­˜å‚¨æ•°æ®</p><p>mysqlä¸»è¦æ˜¯é€šè¿‡&quot;è¡¨&quot;çš„æ–¹å¼æ¥å­˜å‚¨ç»„ç»‡æ•°æ®çš„â€œå…³ç³»å‹æ•°æ®åº“â€</p><p>Redisä¸»è¦æ˜¯é€šè¿‡â€œé”®å€¼å¯¹â€çš„æ–¹å¼æ¥å­˜å‚¨æ•°æ®çš„ <strong>éå…³ç³»å‹æ•°æ®åº“</strong><br /><img src="c79ce7e619b626324f7d01a5da2a2f4f.png" alt="image.png" /></p><p>é’ˆå¯¹Redisçš„æ“ä½œï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ç®€å•çš„äº¤äº’å¼å‘½ä»¤è¿›è¡Œæ“ä½œ<br />ä¹Ÿå¯ä»¥é€šè¿‡ä¸€äº›è„šæœ¬çš„æ–¹å¼ï¼Œæ‰¹é‡æ‰§è¡Œä¸€äº›æ“ä½œ</p><p><img src="65111e9ba3704708c628eb69474a0b49.png" alt="image.png" /><br /><img src="d6f2cc155834c5d35691205bf812a2a7.png" alt="image.png" /></p><h3 id="æŒä¹…åŒ–"><a class="markdownIt-Anchor" href="#æŒä¹…åŒ–"></a> æŒä¹…åŒ–</h3><p>Redis æŒä¹…åŒ–<br />å†…å­˜ä¸­çš„æ•°æ®æ˜¯æ˜“å¤±çš„</p><p>Redisä¼šæŠŠæ•°æ®å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Š<br />å†…å­˜ä¸ºä¸»ï¼Œç¡¬ç›˜ä¸ºè¾…<br />ç¡¬ç›˜ç›¸å½“äºå¯¹å†…å­˜çš„æ•°æ®å¤‡ä»½ä¸€ä¸‹<br />å¦‚æœRedisé‡å¯äº†ï¼Œå°±ä¼šåœ¨é‡å¯æ—¶åŠ è½½ç¡¬ç›˜ä¸­çš„å¤‡ä»½æ•°æ®ï¼Œä½¿Redisçš„å†…å­˜æ¢å¤åˆ°é‡å¯å‰çš„çŠ¶æ€</p><h3 id="æ”¯æŒé›†ç¾¤"><a class="markdownIt-Anchor" href="#æ”¯æŒé›†ç¾¤"></a> æ”¯æŒé›†ç¾¤</h3><p>Redis ä½œä¸ºä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸­é—´ä»¶ï¼Œèƒ½å¤Ÿæ”¯æŒé›†ç¾¤æ˜¯å¾ˆå…³é”®çš„<br /><img src="35b57faff950c22b58ed11c5b077e6bc.png" alt="image.png" /><br />è¿™ä¸ªæ°´å¹³æ‹“å±•çš„æ„æ€å³æ˜¯â€œåˆ†åº“åˆ†è¡¨â€</p><p>ä¸€ä¸ªRedis èƒ½å­˜å‚¨çš„æ•°æ®æ˜¯æœ‰é™çš„ï¼ˆå†…å­˜ç©ºé—´æœ‰é™ï¼‰<br />å¼•å…¥å¤šä¸ªä¸»æœºï¼Œéƒ¨ç½²å¤šä¸ªRedis<br />å¼•å…¥å¤šä¸ªä¸»æœºï¼Œéƒ¨ç½²å¤šä¸ªRedis èŠ‚ç‚¹ï¼Œæ¯ä¸ªå­˜å‚¨æ•°æ®çš„ä¸€éƒ¨åˆ†</p><h3 id="é«˜å¯ç”¨"><a class="markdownIt-Anchor" href="#é«˜å¯ç”¨"></a> é«˜å¯ç”¨</h3><p>é«˜å¯ç”¨=&gt;å†—ä½™/å¤‡ä»½<br />Redisè‡ªèº«ä¹Ÿæ˜¯æ”¯æŒä¸»ä»ç»“æ„çš„<br />ä»èŠ‚ç‚¹å°±ç›¸å½“äºä¸»èŠ‚ç‚¹çš„å¤‡ä»½äº†<br /><img src="03a2b8a43546a2f9f0d6cee9ab05a899.png" alt="image.png" /></p><h3 id="å¿«"><a class="markdownIt-Anchor" href="#å¿«"></a> å¿«</h3><p>1ã€Redisæ•°æ®å­˜åœ¨å†…å­˜ä¸­ï¼Œå°±æ¯”è®¿é—®ç¡¬ç›˜çš„æ•°æ®åº“ï¼Œè¦å¿«å¾ˆå¤š<br />2ã€Redisçš„æ ¸å¿ƒåŠŸèƒ½éƒ½æ˜¯æ¯”è¾ƒç®€å•çš„é€»è¾‘â€”æ ¸å¿ƒåŠŸèƒ½éƒ½æ˜¯æ¯”è¾ƒç®€å•çš„æ“ä½œå†…å­˜çš„æ•°æ®ç»“æ„<br />3ã€ç½‘ç»œè§’åº¦ä¸Šï¼ŒRedisä½¿ç”¨äº†IOå¤šè·¯å¤ç”¨çš„æ–¹å¼ï¼ˆepollï¼‰â€”ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹ï¼Œç®¡ç†å¾ˆå¤šä¸ªsocket</p><p>4ã€Redisä½¿ç”¨çš„æ˜¯å•çº¿ç¨‹æ¨¡å‹ï¼Œè¿™æ ·çš„å•çº¿ç¨‹æ¨¡å‹ï¼Œå‡å°‘äº†ä¸å¿…è¦çš„çº¿ç¨‹ä¹‹é—´çš„ç«äº‰å¼€é”€</p><p>å¤šçº¿ç¨‹æé«˜æ•ˆç‡çš„å‰ææ˜¯ï¼ŒCPUå¯†é›†å‹çš„ä»»åŠ¡ï¼Œä½¿ç”¨å¤šä¸ªçº¿ç¨‹å¯ä»¥å……åˆ†çš„åˆ©ç”¨CPUå¤šæ ¸èµ„æº</p><p>ä½†æ˜¯Rediså¾—æ ¸å¿ƒä»»åŠ¡ï¼Œä¸»è¦å°±æ˜¯æ“ä½œå†…å­˜çš„æ•°æ®ç»“æ„ï¼Œä¸ä¼šåƒå¾ˆå¤šçš„CPU</p><h2 id="redisçš„åº”ç”¨åœºæ™¯"><a class="markdownIt-Anchor" href="#redisçš„åº”ç”¨åœºæ™¯"></a> Redisçš„åº”ç”¨åœºæ™¯</h2><p><img src="948e6028f66533c1234b738523b8195c.png" alt="image.png" /></p><ul><li>å®æ—¶çš„æ•°æ®å­˜å‚¨ï¼Œå°†Rediså½“åšæ•°æ®åº“ï¼ˆé€šè¿‡é”®å€¼å¯¹è¿›è¡Œæ•°æ®å­˜å‚¨ï¼‰<br />å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè€ƒè™‘åˆ°æ•°æ®å­˜å‚¨ï¼Œæœ‰é™è€ƒè™‘çš„æ˜¯â€œå¤§â€<br />ä½†æ˜¯ä»ç„¶æœ‰ä¸€äº›åœºæ™¯ï¼Œè€ƒè™‘çš„æ˜¯â€œå¿«â€</li></ul><p><img src="708db41e0abad0826013efe679dbbb3c.png" alt="image.png" /></p><ul><li>ä½œä¸ºç¼“å­˜<br /><img src="838e69fc086d446d9c5ef01eb08e91d7.png" alt="image.png" /></li></ul><p><img src="ce3c54ecb2a574631039a04dc5f864cc.png" alt="image.png" /><br /><img src="02e1e0f9cf61f1d5f936e27ef7036ada.png" alt="image.png" /><br />2ã€å°†ä¼šè¯æ•°æ®å•ç‹¬æ‹å‡ºæ¥ï¼Œæ”¾åˆ°ä¸€ç»„ç‹¬ç«‹çš„æœºå™¨ä¸Šå­˜å‚¨ï¼ˆRedisï¼‰<br /><img src="f250470341694324fd7da42e376e5cc1.png" alt="image.png" /></p><p><img src="2f2fac785031eb19e413ec110d7206ec.png" alt="image.png" /><br />åˆ†å¸ƒå¼ç³»ç»Ÿæ¥è¯´ï¼ŒæœåŠ¡å™¨å’ŒæœåŠ¡å™¨ä¹‹é—´ï¼Œæœ‰æ—¶å€™ä¹Ÿéœ€è¦ä½¿ç”¨åˆ°ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹çš„</p><p>è§£è€¦åˆ<br />å‰Šå³°å¡«è°·</p><p>Redisä¹Ÿæ˜¯å·²æä¾›äº†æ¶ˆæ¯é˜Ÿåˆ—çš„åŠŸèƒ½çš„<br />å¦‚æœå½“å‰åœºæ™¯ä¸­ï¼Œå¯¹äºæ¶ˆæ¯é˜Ÿåˆ—çš„åŠŸèƒ½ä¾èµ–çš„ä¸æ˜¯å¾ˆå¤š<br />å¹¶ä¸”åˆä¸æƒ³å¼•å…¥é¢å¤–çš„ä¾èµ–äº†ï¼ŒRediså¯ä»¥ä½œä¸ºä¸€ä¸ªé€‰æ‹©</p><p>Redisä¸èƒ½å­˜å‚¨å¤§è§„æ¨¡æ•°æ®</p><h2 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h2><p>æœ¬æ–‡æ·±å…¥æ¢è®¨äº†Redisçš„èƒŒæ™¯ã€æ ¸å¿ƒç‰¹æ€§åŠå…¶åœ¨ç°ä»£åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å…³é”®ä½œç”¨ã€‚æ ¸å¿ƒè¦ç‚¹æ€»ç»“å¦‚ä¸‹ï¼š<br />Redisçš„æ ¸å¿ƒå®šä½ï¼šRedisæ˜¯ä¸€ä¸ªå¼€æºçš„ã€åŸºäºå†…å­˜å­˜å‚¨çš„é”®å€¼å¯¹ï¼ˆKey-Valueï¼‰éå…³ç³»å‹æ•°æ®åº“ã€‚å®ƒé€šè¿‡ç½‘ç»œä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å¤šä¸ªè¿›ç¨‹æä¾›é«˜é€Ÿçš„æ•°æ®å…±äº«æœåŠ¡ï¼Œå…¶è®¿é—®é€Ÿåº¦è¿œè¶…äºåŸºäºç¡¬ç›˜çš„ä¼ ç»Ÿæ•°æ®åº“ï¼ˆå¦‚MySQLï¼‰ã€‚<br />åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ¼”è¿›ä¸Redisçš„ä»·å€¼ï¼šéšç€ä¸šåŠ¡é‡çš„å¢é•¿ï¼Œç³»ç»Ÿæ¶æ„ä»ç®€å•çš„å•æœºæ¨¡å¼ï¼Œé€æ­¥æ¼”è¿›ä¸ºåº”ç”¨ä¸æ•°æ®åº“åˆ†ç¦»ã€å¼•å…¥è´Ÿè½½å‡è¡¡ã€å®ç°æ•°æ®åº“è¯»å†™åˆ†ç¦»çš„å¤æ‚ç»“æ„ã€‚åœ¨è¿™ä¸€è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†è§£å†³æ•°æ®åº“çš„è®¿é—®ç“¶é¢ˆï¼Œå¼•å…¥Redisä½œä¸ºç¼“å­˜å±‚æˆä¸ºå…³é”®ä¸€æ­¥ã€‚é€šè¿‡å°†é¢‘ç¹è®¿é—®çš„â€œçƒ­æ•°æ®â€æ”¾å…¥Redisï¼Œå¯ä»¥æå¤§å‡è½»æ•°æ®åº“çš„å‹åŠ›ï¼Œå¹¶æ˜¾è‘—æå‡åº”ç”¨çš„å“åº”é€Ÿåº¦ã€‚<br />Redisçš„æ ¸å¿ƒç‰¹æ€§ï¼š<br />é€Ÿåº¦å¿«ï¼šæ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼ŒåŒæ—¶é‡‡ç”¨I/Oå¤šè·¯å¤ç”¨å’Œå•çº¿ç¨‹æ¨¡å‹ï¼Œå‡å°‘äº†ä¸å¿…è¦çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€ã€‚<br />æŒä¹…åŒ–ï¼šæ”¯æŒå°†å†…å­˜æ•°æ®å¼‚æ­¥å†™å…¥ç¡¬ç›˜ï¼Œç¡®ä¿äº†æ•°æ®åœ¨æœåŠ¡é‡å¯åä¸ä¼šä¸¢å¤±ã€‚<br />é«˜å¯ç”¨ä¸å¯æ‰©å±•ï¼šé€šè¿‡ä¸»ä»å¤åˆ¶ï¼ˆMaster-Slaveï¼‰æ¶æ„ä¿éšœé«˜å¯ç”¨æ€§ï¼Œå¹¶é€šè¿‡é›†ç¾¤æ¨¡å¼å®ç°æ°´å¹³æ‰©å±•ï¼Œä»¥åº”å¯¹æµ·é‡æ•°æ®çš„å­˜å‚¨éœ€æ±‚ã€‚<br />ä¸°å¯Œçš„æ•°æ®ç»“æ„ï¼šæ”¯æŒå­—ç¬¦ä¸²ã€å“ˆå¸Œã€åˆ—è¡¨ã€é›†åˆã€æœ‰åºé›†åˆç­‰å¤šç§æ•°æ®ç±»å‹ï¼Œèƒ½çµæ´»åº”å¯¹å„ç§ä¸šåŠ¡åœºæ™¯ã€‚<br />ä¸»è¦åº”ç”¨åœºæ™¯ï¼š<br />æ•°æ®ç¼“å­˜ï¼šæœ€æ ¸å¿ƒçš„åº”ç”¨ï¼Œä½œä¸ºMySQLç­‰ä¸»æ•°æ®åº“çš„ç¼“å­˜ï¼Œåˆ†ç¦»å†·çƒ­æ•°æ®ã€‚<br />ä¼šè¯å…±äº«ï¼ˆSession Storeï¼‰ï¼šåœ¨åˆ†å¸ƒå¼WebæœåŠ¡ä¸­ï¼Œé›†ä¸­å­˜å‚¨ç”¨æˆ·ä¼šè¯ä¿¡æ¯ï¼Œè§£å†³è´Ÿè½½å‡è¡¡ä¸‹çš„ä¼šè¯ä¸€è‡´æ€§é—®é¢˜ã€‚<br />å®æ—¶æ•°æ®å­˜å‚¨ï¼šé€‚ç”¨äºå¯¹é€Ÿåº¦è¦æ±‚æé«˜çš„åœºæ™¯ï¼Œå¦‚æ’è¡Œæ¦œã€è®¡æ•°å™¨ç­‰ã€‚<br />æ¶ˆæ¯é˜Ÿåˆ—ï¼šå¯ç”¨äºå®ç°ç®€å•çš„ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹ï¼Œè¿›è¡ŒæœåŠ¡é—´çš„è§£è€¦å’Œæµé‡å‰Šå³°ã€‚<br />æ€»è€Œè¨€ä¹‹ï¼ŒRediså‡­å€Ÿå…¶å“è¶Šçš„æ€§èƒ½å’Œçµæ´»æ€§ï¼Œå·²æˆä¸ºæ„å»ºé«˜æ€§èƒ½ã€é«˜å¹¶å‘å’Œé«˜å¯ç”¨æ€§åˆ†å¸ƒå¼ç³»ç»Ÿçš„å…³é”®ä¸­é—´ä»¶ã€‚ç†è§£Redisä¸ä»…æ˜¯æŒæ¡ä¸€ä¸ªå·¥å…·ï¼Œæ›´æ˜¯æ·±å…¥ç†è§£ç°ä»£åº”ç”¨æ¶æ„æ¼”è¿›æ€æƒ³çš„é‡è¦ä¸€ç¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€šä¿¡ä¸­é—´ä»¶ Fast DDSï¼šç¼–è¯‘ã€å®‰è£…å’Œæµ‹è¯•</title>
      <link href="/2025/08/15/DDS/%E9%80%9A%E4%BF%A1%E4%B8%AD%E9%97%B4%E4%BB%B6%20Fast%20DDS%20%EF%BC%9A%E7%BC%96%E8%AF%91%E3%80%81%E5%AE%89%E8%A3%85%E5%92%8C%E6%B5%8B%E8%AF%95/"/>
      <url>/2025/08/15/DDS/%E9%80%9A%E4%BF%A1%E4%B8%AD%E9%97%B4%E4%BB%B6%20Fast%20DDS%20%EF%BC%9A%E7%BC%96%E8%AF%91%E3%80%81%E5%AE%89%E8%A3%85%E5%92%8C%E6%B5%8B%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<h2 id="1ç®€ä»‹"><a class="markdownIt-Anchor" href="#1ç®€ä»‹"></a> 1.ç®€ä»‹</h2><p>DDSæ˜¯ OMG ç»„ç»‡å‘å¸ƒçš„ä¸€ç§ä¸­é—´ä»¶åè®®å’Œ API æ ‡å‡†ï¼Œå®ƒå°†ç³»ç»Ÿçš„ç»„ä»¶é›†æˆåœ¨ä¸€èµ·ï¼Œæä¾›ä¸šåŠ¡å’Œä»»åŠ¡å…³é”®å‹ç‰©è”ç½‘(IoT) åº”ç”¨ç¨‹åºæ‰€éœ€çš„ä½å»¶è¿Ÿæ•°æ®è¿æ¥ã€æé«˜çš„å¯é æ€§å’Œå¯æ‰©å±•æ¶æ„ã€‚</p><p><strong>DDS(Data Distribution Service,æ•°æ®åˆ†å‘æœåŠ¡)</strong> æ˜¯ä¸€ç§ä»¥æ•°æ®ä¸ºä¸­å¿ƒçš„é€šä¿¡åè®®ï¼Œç”¨äºåˆ†å¸ƒå¼è½¯ä»¶åº”ç”¨ç¨‹åºé€šä¿¡ã€‚</p><p>å®ƒæè¿°äº†æ”¯æŒ <strong>æ•°æ®æä¾›è€…(Data Providers)</strong> å’Œ <strong>æ•°æ®æ¶ˆè´¹è€…(Data Consumers)</strong> ä¹‹é—´é€šä¿¡çš„é€šä¿¡åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ (API) å’Œé€šä¿¡è¯­ä¹‰ã€‚</p><p>è¦å­¦ä¹  DDS å°±ä¸èƒ½å¿½ç•¥å®ƒçš„æ¨¡å‹ï¼šDCPS(ä»¥æ•°æ®ä¸ºä¸­å¿ƒçš„å‘å¸ƒè®¢é˜…æ¨¡å‹)ã€‚</p><p>DCPS æœ‰ 3 ä¸ªå…³é”®å®ä½“ï¼š</p><ol><li>publication entities: å®šä¹‰æ¶ˆæ¯ç”Ÿæˆå¯¹è±¡åŠç›¸å…³å±æ€§</li><li>subscription entitiesï¼šå®šä¹‰æ¶ˆæ¯æ¶ˆè´¹å¯¹è±¡åŠç›¸å…³å±æ€§</li><li>configuration entities:å®šä¹‰ä¼ è¾“ç›¸å…³çš„å±æ€§å¦‚ Topic ç±»å‹ï¼Œé€šä¿¡çš„ QoS(æœåŠ¡è´¨é‡)ã€‚</li></ol><p>QoS æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼ŒDDS ä½¿ç”¨ QoS æ¥å®šä¹‰ DDS å®ä½“çš„è¡Œä¸ºç‰¹å¾ã€‚ QoS ç”±å•ç‹¬çš„ QoS ç­–ç•¥ï¼ˆæºè‡ª QoSPolicy çš„ç±»å‹çš„å¯¹è±¡ï¼‰ç»„æˆã€‚</p><p>FastDDSï¼ˆåŸå Fast RTPSï¼‰æ˜¯ eProsima å…¬å¸å¼€å‘çš„å¼€æº DDSï¼ˆData Distribution Serviceï¼‰å®ç°ï¼ŒåŸºäº RTPS åè®®ï¼Œé€‚ç”¨äºå®æ—¶é€šä¿¡åœºæ™¯ã€‚</p><h2 id="2windowsç¼–è¯‘-å®‰è£…å’Œæµ‹è¯•"><a class="markdownIt-Anchor" href="#2windowsç¼–è¯‘-å®‰è£…å’Œæµ‹è¯•"></a> 2.Windowsç¼–è¯‘ã€å®‰è£…å’Œæµ‹è¯•</h2><h3 id="21ç¼–è¯‘ç¯å¢ƒå‡†å¤‡"><a class="markdownIt-Anchor" href="#21ç¼–è¯‘ç¯å¢ƒå‡†å¤‡"></a> 2.1.<strong>ç¼–è¯‘ç¯å¢ƒå‡†å¤‡</strong></h3><ul><li>å®‰è£…Â <strong>Visual Studio 2019/2022</strong>ï¼ˆéœ€å‹¾é€‰ â€œDesktop development with C++â€ ç»„ä»¶ï¼‰ã€‚</li><li>å®‰è£…Â <strong>CMake</strong>ï¼ˆ3.16+ï¼Œæ·»åŠ åˆ°ç³»ç»Ÿ PATHï¼‰ã€‚</li><li>å®‰è£…Â <strong>Git</strong>ï¼ˆæ·»åŠ åˆ°ç³»ç»Ÿ PATHï¼‰ã€‚</li><li>ä¾èµ–åº“ï¼ˆå¦‚ OpenSSLã€asioï¼‰å¯é€šè¿‡ vcpkg å®‰è£…ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…vcpkg</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/microsoft/vcpkg</span><br><span class="line">.\vcpkg\bootstrap-vcpkg.bat</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å®‰è£…ä¾èµ–</span></span><br><span class="line">.\vcpkg\vcpkg install openssl asio tinyxml2 --triplet x64-windows</span><br></pre></td></tr></table></figure><p>ç”±äºæˆ‘çš„ç”µè„‘é€šè¿‡cmdå‘½ä»¤å‘½ä»¤è¡Œç›®å½•æ˜¯C:\Users\Administratorï¼Œæ‰€ä»¥vcpkgæ˜¯å®‰è£…åœ¨C:\Users\Administratorè¿™é‡Œï¼š</p><p><img src="517d6cae3ac74f93ad264358ba386c1f.png" alt="" /></p><p>ä¸‹è½½vcpkgæºç ï¼š</p><p><img src="24cad6ebada547ab9762e2d95fbd884a.png" alt="" /></p><p><img src="85d6795923ae4f5b978872552b966092.png" alt="" /></p><p>å®‰è£…Â openssl asio tinyxml2ï¼š</p><p><img src="f83e562826134fdea015f9ad12fa0cac.png" alt="" /></p><p><img src="281b37a54e5c4fa2995d690d1c543af0.png" alt="" /></p><h3 id="22ç¼–è¯‘å®‰è£…"><a class="markdownIt-Anchor" href="#22ç¼–è¯‘å®‰è£…"></a> 2.2.ç¼–è¯‘å®‰è£…</h3><h4 id="221å®‰è£…fastcdr"><a class="markdownIt-Anchor" href="#221å®‰è£…fastcdr"></a> 2.2.1.å®‰è£…<strong>FastCDR</strong></h4><p>FastDDS ä¾èµ–Â <strong>FastCDR</strong>ï¼ˆåºåˆ—åŒ–åº“ï¼‰ï¼Œéœ€è¦è·å–æºç ï¼Œåœ¨cmdå‘½ä»¤è¡Œç›´æ¥æ“ä½œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…‹éš†FastCDRï¼ˆå¿…é¡»å…ˆç¼–è¯‘ï¼‰</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/eProsima/Fast-CDR.git</span><br><span class="line"><span class="built_in">cd</span> Fast-CDR</span><br><span class="line"><span class="built_in">mkdir</span> build &amp;&amp; <span class="built_in">cd</span> build</span><br><span class="line"> </span><br><span class="line">cmake .. -G <span class="string">&quot;Visual Studio 17 2022&quot;</span> -A x64 -DCMAKE_INSTALL_PREFIX=C:\fastdds_install</span><br><span class="line">cmake --build . --config Release --target install</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåï¼Œåœ¨C:\fastdds_installç›®å½•æœ‰FastCDRçš„å¤´æ–‡ä»¶ï¼Œåº“æ–‡ä»¶ç­‰ä¿¡æ¯ï¼š</p><p><img src="40c82ef35a8540fb83ad7a1b5d5d51da.png" alt="" /></p><h4 id="222å®‰è£…foonathan-memory"><a class="markdownIt-Anchor" href="#222å®‰è£…foonathan-memory"></a> 2.2.2.å®‰è£…<strong>Foonathan Memory</strong></h4><p>FastDDS ä¾èµ–Â <strong>Foonathan Memory</strong>ï¼ˆå†…å­˜ç®¡ç†åº“ï¼‰ï¼Œéœ€è¦è·å–æºç ï¼Œåœ¨cmdå‘½ä»¤è¡Œç›´æ¥æ“ä½œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…‹éš†FastCDRï¼ˆå¿…é¡»å…ˆç¼–è¯‘ï¼‰</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/eProsima/foonathan_memory_vendor.git</span><br><span class="line"><span class="built_in">cd</span> foonathan_memory_vendor</span><br><span class="line"><span class="built_in">mkdir</span> build &amp;&amp; <span class="built_in">cd</span> build</span><br><span class="line"> </span><br><span class="line">cmake .. -G <span class="string">&quot;Visual Studio 17 2022&quot;</span> -A x64 -DCMAKE_INSTALL_PREFIX=C:\fastdds_install</span><br><span class="line">cmake --build . --config Release --target install</span><br></pre></td></tr></table></figure><p>åœ¨æ‰§è¡Œcmake --build . --config Release --target installçš„æ—¶å€™æŠ¥é”™ï¼š</p><p><img src="6c7512ae52dc4336b1990b26f68a58b9.png" alt="" /></p><p><img src="7c73325431584dbda555dc9af23cae94.png" alt="" /></p><p>äºæ˜¯åœ¨ç½‘ä¸Šå„ç§æœç´¢é—®é¢˜åŸå› ï¼Œå§‹ç»ˆæ²¡æœ‰æ‰¾åˆ°è§£å†³çš„åŠæ³•ï¼Œäºæ˜¯æˆ‘åˆ°Foonathan Memoryçš„ç½‘ç«™å»çœ‹äº†ä¸€ä¸‹ï¼š</p><blockquote><p><a href="https://github.com/foonathan/memory" title="https://github.com/foonathan/memory">https://github.com/foonathan/memory</a></p></blockquote><p><img src="d44899e2166248d7a7b8187b554453d4.png" alt="" /></p><p>æ‰¾åˆ°èµ„æ–™åŸæ¥Foonathan Memoryå¯ä»¥é€šè¿‡vcpkgå®‰è£…ï¼Œç”±äºä¹‹å‰å®‰è£…vcpkgï¼Œäºæ˜¯ç›´æ¥è¿›å…¥vcpkgç›®å½•ï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤å°±è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./vcpkg integrate install</span><br><span class="line">./vcpkg install foonathan-memory</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œä¹‹åï¼ŒFastDDSçš„æ‰€ä»¥ä¾èµ–å°±å®‰è£…å®Œæ¯•ï¼Œåœ¨vcpkgçš„å®‰è£…ç›®å½•ä¸‹å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„ä¾èµ–é¡¹ï¼š</p><p><img src="6db4de0b4de54085afaf0f0a56cad7d4.png" alt="" /></p><h4 id="223å®‰è£…fastdds"><a class="markdownIt-Anchor" href="#223å®‰è£…fastdds"></a> 2.2.3.å®‰è£…FastDDS</h4><p>è·Ÿå®‰è£…FastCDRçš„æ­¥éª¤å·®ä¸å¤šï¼Œä¸è¿‡éœ€è¦å„ç§ä¾èµ–åº“çš„è·¯å¾„ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/eProsima/Fast-DDS.git</span><br><span class="line"><span class="built_in">cd</span> Fast-DDS</span><br><span class="line"><span class="built_in">mkdir</span> build &amp;&amp; <span class="built_in">cd</span> build</span><br><span class="line"> </span><br><span class="line">cmake .. -G <span class="string">&quot;Visual Studio 17 2022&quot;</span> -A x64 -DCMAKE_INSTALL_PREFIX=C:\fastdds -Dfastcdr_ROOT=C:\fastdds_install   -DAsio_ROOT=C:\Users\Administrator\vcpkg\packages\asio_x64-windows\include  -DTinyXML2_ROOT=C:\Users\Administrator\vcpkg\packages\tinyxml2_x64-windows  -Dfoonathan_memory_ROOT=C:\Users\Administrator\vcpkg\packages\foonathan-memory_x64-windows  -DOpenSSL_ROOT=C:\Users\Administrator\vcpkg\packages\openssl_x64-windows</span><br><span class="line"> </span><br><span class="line">cmake --build . --config Release --target install</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å®‰è£…åï¼Œåœ¨C:\fastddsç›®å½•ä¸‹æœ‰FastDDSçš„å¤´æ–‡ä»¶ï¼Œåº“æ–‡ä»¶ç­‰ä¿¡æ¯ï¼š</p><p><img src="a78e4e5c26904ca4ac1a846957dfd076.png" alt="" /></p><h3 id="23éªŒè¯å®‰è£…"><a class="markdownIt-Anchor" href="#23éªŒè¯å®‰è£…"></a> 2.3.<strong>éªŒè¯å®‰è£…</strong></h3><p>ç¼–è¯‘å®Œæˆåï¼Œå¯é€šè¿‡è¿è¡Œ FastDDS çš„ç¤ºä¾‹ç¨‹åºéªŒè¯ï¼š</p><p><img src="937b18e1ebf4412e9e64699ad7bc7503.png" alt="" /></p><p>ç¼–è¯‘ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> build &amp;&amp; <span class="built_in">cd</span> build</span><br><span class="line"> </span><br><span class="line">cmake .. -Dfastcdr_ROOT=C:\fastdds_install  -Dfastdds_ROOT=C:\fastdds   -DTinyXML2_ROOT=C:\Users\Administrator\vcpkg\packages\tinyxml2_x64-windows  -Dfoonathan_memory_ROOT=C:\Users\Administrator\vcpkg\packages\foonathan-memory_x64-windows  -DOpenSSL_ROOT=C:\Users\Administrator\vcpkg\packages\openssl_x64-windows</span><br><span class="line"> </span><br><span class="line">cmake --build . --config Release</span><br></pre></td></tr></table></figure><p>å®Œæˆååœ¨Releseç›®å½•ä¸‹æœ‰æµ‹è¯•ç¨‹åºhello_world.exe, æŠŠhello_world.exeçš„ä¸€äº›ä¾èµ–dllæ‹·è´åˆ°è¿™ä¸ªç›®å½•ä¸‹ï¼š</p><p><img src="03ba8b479bda4c869a0fc4c4ee8412b4.png" alt="" /></p><p>åœ¨å‘½ä»¤è¡Œè¿è¡Œhello_world.exeï¼Œæ˜¾ç¤ºå¦‚ä¸‹ï¼š</p><p><img src="d2259685708841aea011b4bf8c1b0949.png" alt="" /></p><p>åˆ†åˆ«å¯åŠ¨ä¸¤ä¸ªç»ˆç«¯ï¼Œè¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨å‘å¸ƒè€…ï¼ˆç»ˆç«¯1ï¼‰</span></span><br><span class="line">.\Hello_World.exe  publisher</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å¯åŠ¨è®¢é˜…è€…ï¼ˆç»ˆç«¯2ï¼‰</span></span><br><span class="line">.\Hello_World.exe  subscriber</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆè¿è¡Œçš„æ•ˆæœï¼ˆ1å¯¹1ï¼‰ï¼š</p><p><img src="4dad039a6a3b49e6b97908a86ef76158.png" alt="" /></p><p>1å¯¹å¤šï¼Œä¸€ä¸ªå‘å¸ƒè€…ï¼Œå¤šä¸ªè®¢é˜…è€…ï¼š</p><p><img src="d9adfb7feb724e13932eb1fd0d4e32b8.png" alt="" /></p><p>è‹¥è®¢é˜…è€…èƒ½æ”¶åˆ°å‘å¸ƒè€…çš„æ¶ˆæ¯ï¼Œè¯´æ˜ç¼–è¯‘å’Œå®‰è£…æˆåŠŸã€‚</p><h2 id="3linuxç¼–è¯‘-å®‰è£…å’Œæµ‹è¯•"><a class="markdownIt-Anchor" href="#3linuxç¼–è¯‘-å®‰è£…å’Œæµ‹è¯•"></a> 3.Linuxç¼–è¯‘ã€å®‰è£…å’Œæµ‹è¯•</h2><h3 id="31ç¼–è¯‘ç¯å¢ƒå‡†å¤‡"><a class="markdownIt-Anchor" href="#31ç¼–è¯‘ç¯å¢ƒå‡†å¤‡"></a> 3.1.<strong>ç¼–è¯‘ç¯å¢ƒå‡†å¤‡</strong></h3><p>ä»¥éº’éºŸç³»ç»Ÿä¸ºä¾‹è®²è§£ï¼ŒFastDDS ä¾èµ–å¤šä¸ªå·¥å…·å’Œåº“ï¼Œéœ€å…ˆå®‰è£…ç¼–è¯‘ç¯å¢ƒå’Œä¾èµ–é¡¹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ›´æ–°ç³»ç»ŸåŒ…</span></span><br><span class="line">sudo apt update &amp;&amp; sudo apt upgrade -y</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å®‰è£…åŸºç¡€ç¼–è¯‘å·¥å…·</span></span><br><span class="line">sudo apt install -y build-essential cmake git pkg-config</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å®‰è£…ä¾èµ–åº“</span></span><br><span class="line">sudo apt install -y libssl-dev libasio-dev libtinyxml2-dev</span><br><span class="line">sudo apt install -y openjdk-11-jdk  <span class="comment"># ç”¨äºä»£ç ç”Ÿæˆå·¥å…·ï¼ˆå¯é€‰ï¼Œéƒ¨åˆ†åŠŸèƒ½éœ€è¦ï¼‰</span></span><br></pre></td></tr></table></figure><h3 id="32ç¼–è¯‘å®‰è£…"><a class="markdownIt-Anchor" href="#32ç¼–è¯‘å®‰è£…"></a> 3.2.ç¼–è¯‘å®‰è£…</h3><h4 id="321å®‰è£…fastcdr"><a class="markdownIt-Anchor" href="#321å®‰è£…fastcdr"></a> 3.2.1.å®‰è£…<strong>FastCDR</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/eProsima/Fast-CDR.git</span><br><span class="line"><span class="built_in">cd</span> Fast-CDR</span><br><span class="line"> </span><br><span class="line"><span class="built_in">mkdir</span> build &amp;&amp; <span class="built_in">cd</span> build</span><br><span class="line"> </span><br><span class="line"><span class="comment"># CMakeé…ç½®ï¼ˆé»˜è®¤å®‰è£…åˆ°/usr/localï¼‰</span></span><br><span class="line">cmake .. -DCMAKE_INSTALL_PREFIX=/usr/local -DCMAKE_BUILD_TYPE=Release</span><br><span class="line"> </span><br><span class="line"><span class="comment"># ç¼–è¯‘ï¼ˆ-jåæ¥CPUæ ¸å¿ƒæ•°ï¼ŒåŠ é€Ÿç¼–è¯‘ï¼‰</span></span><br><span class="line">make -j$(<span class="built_in">nproc</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å®‰è£…ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰</span></span><br><span class="line">sudo make install</span><br><span class="line"><span class="built_in">cd</span> ../..  <span class="comment"># è¿”å›å·¥ä½œç›®å½•</span></span><br></pre></td></tr></table></figure><h4 id="322å®‰è£…foonathan-memory"><a class="markdownIt-Anchor" href="#322å®‰è£…foonathan-memory"></a> 3.2.2.å®‰è£…<strong>Foonathan Memory</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/eProsima/foonathan_memory_vendor.git</span><br><span class="line"><span class="built_in">cd</span> foonathan_memory_vendor</span><br><span class="line"> </span><br><span class="line"><span class="built_in">mkdir</span> build &amp;&amp; <span class="built_in">cd</span> build</span><br><span class="line"> </span><br><span class="line"><span class="comment"># CMakeé…ç½®ï¼ˆé»˜è®¤å®‰è£…åˆ°/usr/localï¼‰</span></span><br><span class="line">cmake .. -DCMAKE_INSTALL_PREFIX=/usr/local -DCMAKE_BUILD_TYPE=Release</span><br><span class="line"> </span><br><span class="line"><span class="comment"># ç¼–è¯‘ï¼ˆ-jåæ¥CPUæ ¸å¿ƒæ•°ï¼ŒåŠ é€Ÿç¼–è¯‘ï¼‰</span></span><br><span class="line">make -j$(<span class="built_in">nproc</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å®‰è£…ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰</span></span><br><span class="line">sudo make install</span><br><span class="line"><span class="built_in">cd</span> ../..  <span class="comment"># è¿”å›å·¥ä½œç›®å½•</span></span><br></pre></td></tr></table></figure><h4 id="323å®‰è£…fastdds"><a class="markdownIt-Anchor" href="#323å®‰è£…fastdds"></a> 3.2.3.å®‰è£…FastDDS</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/eProsima/Fast-DDS.git</span><br><span class="line"><span class="built_in">cd</span> Fast-DDS</span><br><span class="line"> </span><br><span class="line"><span class="built_in">mkdir</span> build &amp;&amp; <span class="built_in">cd</span> build</span><br><span class="line"> </span><br><span class="line"><span class="comment"># CMakeé…ç½®ï¼ˆé»˜è®¤å®‰è£…åˆ°/usr/localï¼‰</span></span><br><span class="line">cmake .. -DCMAKE_INSTALL_PREFIX=/usr/local -DCMAKE_BUILD_TYPE=Release</span><br><span class="line"> </span><br><span class="line"><span class="comment"># ç¼–è¯‘ï¼ˆ-jåæ¥CPUæ ¸å¿ƒæ•°ï¼ŒåŠ é€Ÿç¼–è¯‘ï¼‰</span></span><br><span class="line">make -j$(<span class="built_in">nproc</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å®‰è£…ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰</span></span><br><span class="line">sudo make install</span><br><span class="line"><span class="built_in">cd</span> ../..  <span class="comment"># è¿”å›å·¥ä½œç›®å½•</span></span><br></pre></td></tr></table></figure><p>ç¼–è¯‘åˆ°æœ€åçš„æ—¶å€™ï¼Œå‡ºé”™äº†ï¼š</p><p><img src="0f16cec2d515464eb4acb9f17ce086e3.png" alt="" /></p><p>ä»æŠ¥é”™çš„æç¤ºè¯´æ˜¯æ— æ³•æ‰¾åˆ°make_strandï¼Œç¬¬ä¸€ç›´è§‰åº”è¯¥æ˜¯asioçš„åº“ç‰ˆæœ¬ä½äº†ï¼ŒFastDDSè¦æ±‚çš„asioç‰ˆæœ¬æ˜¯ï¼š</p><p><img src="9fe3c4297f0542f6b77f259a91ec4bb7.png" alt="" /></p><p>è€Œæˆ‘çš„éº’éºŸç³»ç»Ÿæ˜¯1.12.2ï¼Œæ‰€ä»¥æŠ¥é”™äº†ã€‚å› æ­¤å¿…é¡»å‡çº§asioåº“ï¼Œäºæ˜¯ç›´æ¥ä»åœ°å€ï¼š</p><blockquote><p><a href="https://think-async.com/Asio/Download.html">https://think-async.com/Asio/Download.html</a></p></blockquote><p><img src="822f31f892444137b86ba4accbb189a6.png" alt="" /></p><p>ä¸‹è½½äº†æœ€æ–°ç‰ˆæœ¬ï¼Œç›´æ¥å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./configure </span><br><span class="line">make -j8  </span><br><span class="line">make -j8 install</span><br></pre></td></tr></table></figure><p>asioåº“ç›¸å¯¹æ¥è¯´æ›´ç®€å•ï¼Œç”±äºè¿™ä¸ªåº“å…¶å®å¹¶ä¸éœ€è¦ç¼–è¯‘ï¼Œæ˜¯ä¸€ä¸ªheader-onlyçš„åº“ï¼Œæ‰€ä»¥æ ¹æ®å‘½ä»¤è¿›è¡Œå®‰è£…å°±å¯ä»¥äº†ã€‚</p><p>ç„¶åå†ç”¨åŒæ ·çš„æ–¹æ³•å®‰è£…FastDDSå³å¯ã€‚å®‰è£…å®Œåœ¨/usr/localç›®å½•ä¸‹æœ‰FastDDSçš„ç›¸å…³ä¿¡æ¯ï¼š</p><p><img src="25585afff52f49129a9c3b9a4c1c7fe6.png" alt="" /></p><h3 id="33éªŒè¯å®‰è£…"><a class="markdownIt-Anchor" href="#33éªŒè¯å®‰è£…"></a> 3.3.éªŒè¯å®‰è£…</h3><p>ç¼–è¯‘å®Œæˆåï¼Œå¯é€šè¿‡è¿è¡Œ FastDDS çš„ç¤ºä¾‹ç¨‹åºéªŒè¯ã€‚</p><p>å…ˆç¼–è¯‘æµ‹è¯•ç¨‹åº:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥ç¤ºä¾‹ç›®å½•ï¼ˆä»¥HelloWorldä¸ºä¾‹ï¼‰</span></span><br><span class="line"><span class="built_in">cd</span> ~/Fast-DDS/examples/cpp/dds/HelloWorldExample/build</span><br><span class="line"> </span><br><span class="line"><span class="comment"># ç¼–è¯‘ç¤ºä¾‹ï¼ˆè‹¥æœªè‡ªåŠ¨ç¼–è¯‘ï¼‰</span></span><br><span class="line">cmake .. &amp;&amp; make -j$(<span class="built_in">nproc</span>)</span><br></pre></td></tr></table></figure><p>åˆ†åˆ«å¯ä¸¤ä¸ªç»ˆç«¯è¿è¡Œæµ‹è¯•ç¨‹åºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨å‘å¸ƒè€…ï¼ˆç»ˆç«¯1ï¼‰</span></span><br><span class="line">./Hello_World  publisher</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å¯åŠ¨è®¢é˜…è€…ï¼ˆç»ˆç«¯2ï¼‰</span></span><br><span class="line">./Hello_World  subscriber</span><br></pre></td></tr></table></figure><p><img src="6c76775937db459690c725bb81c8070c.png" alt="" /></p><p>è‹¥è®¢é˜…è€…èƒ½æ”¶åˆ°å‘å¸ƒè€…çš„æ¶ˆæ¯ï¼Œè¯´æ˜ç¼–è¯‘å’Œå®‰è£…æˆåŠŸã€‚</p><h2 id="4å¸¸è§é—®é¢˜"><a class="markdownIt-Anchor" href="#4å¸¸è§é—®é¢˜"></a> 4.<strong>å¸¸è§é—®é¢˜</strong></h2><p>1.<strong>ä¾èµ–ç¼ºå¤±</strong>ï¼šCMake æŠ¥é”™ â€œCould NOT find XXXâ€ æ—¶ï¼Œæ£€æŸ¥å¯¹åº”ä¾èµ–æ˜¯å¦å®‰è£…ï¼Œæˆ–é€šè¿‡<code>-DCMAKE_PREFIX_PATH</code>æŒ‡å®šä¾èµ–è·¯å¾„ã€‚</p><p>2.<strong>ç‰ˆæœ¬ä¸å…¼å®¹</strong>ï¼šç¡®ä¿ FastDDS ä¸ FastCDR ç‰ˆæœ¬åŒ¹é…ï¼ˆå‚è€ƒ<a href="https://fast-dds.docs.eprosima.com/en/latest/installation/sources/sources_linux.html#dependencies" title="å®˜æ–¹ç‰ˆæœ¬çŸ©é˜µ">å®˜æ–¹ç‰ˆæœ¬çŸ©é˜µ</a>ï¼‰ã€‚</p><p>3.<strong>æƒé™é—®é¢˜</strong>ï¼šå®‰è£…æ—¶è‹¥æç¤º â€œPermission deniedâ€ï¼Œæ·»åŠ <code>sudo</code>æˆ–ä¿®æ”¹å®‰è£…è·¯å¾„ï¼ˆå¦‚ <code>-DCMAKE_INSTALL_PREFIX=$HOME/fastdds</code>ï¼‰ã€‚</p><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œå¯åœ¨ Linuxã€Windows æˆ– macOS ç³»ç»Ÿä¸Šå®Œæˆ FastDDS çš„ç¼–è¯‘ä¸å®‰è£…ï¼Œä¸ºåç»­å¼€å‘ DDS åº”ç”¨å¥ å®šåŸºç¡€ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DDS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vscode+qt+qmakeå¼€å‘ç¯å¢ƒæ­å»º(æœ€å…¨æœ€è¯¦ç»†)</title>
      <link href="/2025/08/14/Qt/vscode+qt+qmake%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA(%E6%9C%80%E5%85%A8%E6%9C%80%E8%AF%A6%E7%BB%86)/"/>
      <url>/2025/08/14/Qt/vscode+qt+qmake%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA(%E6%9C%80%E5%85%A8%E6%9C%80%E8%AF%A6%E7%BB%86)/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡ä¸»è¦ä»‹ç»äº†vscode+qt+qmakeå¼€å‘ç¯å¢ƒæ­å»º,æ–‡ä¸­é€šè¿‡å›¾æ–‡ç¤ºä¾‹ä»‹ç»çš„éå¸¸è¯¦ç»†,å¯¹å¤§å®¶çš„å­¦ä¹ æˆ–è€…å·¥ä½œå…·æœ‰ä¸€å®šçš„å‚è€ƒå­¦ä¹ ä»·å€¼,éœ€è¦çš„æœ‹å‹ä»¬ä¸‹é¢éšç€å°ç¼–æ¥ä¸€èµ·å­¦ä¹ å­¦ä¹ å§</p><h2 id="00-å‰è¨€"><a class="markdownIt-Anchor" href="#00-å‰è¨€"></a> 00. å‰è¨€</h2><p>é‰´äºQtå®˜æ–¹IDEå¤ªè¿‡éš¾ç”¨ï¼ŒVSCodeï¼‹å„ç§æ’ä»¶åŠŸèƒ½å¼ºå¤§ï¼Œé‚é‡‡ç”¨VSCodeæ¥å†™Qté¡¹ç›®ã€‚</p><h2 id="01-ç¯å¢ƒæ­å»º"><a class="markdownIt-Anchor" href="#01-ç¯å¢ƒæ­å»º"></a> 01. ç¯å¢ƒæ­å»º</h2><h3 id="1-éœ€è¦å®‰è£…çš„è½¯ä»¶"><a class="markdownIt-Anchor" href="#1-éœ€è¦å®‰è£…çš„è½¯ä»¶"></a> 1. éœ€è¦å®‰è£…çš„è½¯ä»¶ï¼š</h3><ul><li>VSCodeï¼Œå®˜æ–¹æœ€æ–°ç‰ˆå°±è¡Œ</li><li>Qtï¼Œç‰ˆæœ¬éšæ„ï¼Œæœ¬æ–‡ä¸»è¦é’ˆå¯¹è¾ƒè€ç‰ˆæœ¬ä½¿ç”¨Qmakeæ„å»ºç³»ç»Ÿçš„é¡¹ç›®</li></ul><h3 id="2-ç¯å¢ƒå˜é‡"><a class="markdownIt-Anchor" href="#2-ç¯å¢ƒå˜é‡"></a> 2. ç¯å¢ƒå˜é‡ï¼š</h3><p>Qtç¯å¢ƒå˜é‡ï¼Œéœ€è¦é…ç½®Qtåº“è·ŸMinGWï¼Œå°½é‡ä½¿ç”¨Qtå®‰è£…æ—¶è‡ªå¸¦çš„MinGW</p><p><img src="2025042609394720.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>VSCodeæ’ä»¶ï¼Œä¸‹é¢C/C++æ’ä»¶æ˜¯å¿…éœ€çš„æ²¡æ„è§å§</p><p><img src="2025042609394721.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p><img src="2025042609394722.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h2 id="02-å¼€å§‹é…ç½®"><a class="markdownIt-Anchor" href="#02-å¼€å§‹é…ç½®"></a> 02. å¼€å§‹é…ç½®</h2><h3 id="1-åˆ›å»ºé¡¹ç›®é¡¹ç›®"><a class="markdownIt-Anchor" href="#1-åˆ›å»ºé¡¹ç›®é¡¹ç›®"></a> 1. åˆ›å»ºé¡¹ç›®é¡¹ç›®</h3><p>å…ˆç”¨Qt Creatoråˆ›å»ºä¸ªQmakeé¡¹ç›®ï¼Œæœ€ç®€å•çš„ç©ºç™½çª—å£ï¼Œé¡¹ç›®ç»“æ„å¦‚ä¸‹</p><p><img src="2025042609394723.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="2-ä½¿ç”¨vscodeæ‰“å¼€é¡¹ç›®"><a class="markdownIt-Anchor" href="#2-ä½¿ç”¨vscodeæ‰“å¼€é¡¹ç›®"></a> 2. ä½¿ç”¨VSCodeæ‰“å¼€é¡¹ç›®</h3><p><img src="2025042609394724.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="3-é…ç½®ccæ’ä»¶"><a class="markdownIt-Anchor" href="#3-é…ç½®ccæ’ä»¶"></a> 3. é…ç½®C/C++æ’ä»¶</h3><p>VSCodeå¿«æ·é”®<code>ctrl+shift+p</code>æ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œè¾“å…¥<code>c++</code>ï¼Œé€‰æ‹©ç¼–è¾‘é…ç½®</p><p><img src="2025042609394725.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="4-ç¼–è¾‘ccè®¾ç½®"><a class="markdownIt-Anchor" href="#4-ç¼–è¾‘ccè®¾ç½®"></a> 4. ç¼–è¾‘C/C++è®¾ç½®</h3><p>ç¼–è¯‘å™¨è·¯å¾„:ä¸‹æ‹‰æœ‰å¾—é€‰å°±é€‰ä½ é…ç½®ç¯å¢ƒå˜é‡çš„Qtç‰ˆæœ¬ï¼Œæ²¡æœ‰å°±è‡ªå·±å¤åˆ¶è·¯å¾„è¿‡æ¥</p><p><img src="2025042609394726.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>IntelliSense æ¨¡å¼ï¼šé€‰æ‹©å®‰è£…çš„gccçš„æ¶æ„ï¼Œæˆ‘å®‰è£…çš„æ˜¯64ä½Qtï¼Œä¸Šé¢è‡ªå¸¦çš„gccç¼–è¯‘å™¨ä¹Ÿæ˜¯64ä½ï¼Œå°±é€‰æ‹©<code>windows-gcc-x64</code></p><p><img src="2025042609394727.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>å¤´æ–‡ä»¶è·¯å¾„ï¼šè¿™ä¸ªä¸»è¦æ˜¯å®ç°å¤´æ–‡ä»¶è¯†åˆ«ï¼Œè¦ä¸ç„¶Qtçš„å¤´æ–‡ä»¶ä¸€ç›´é£˜çº¢ï¼Œä¹Ÿæ²¡æ³•è‡ªåŠ¨è·³è½¬å¤´æ–‡ä»¶ï¼Œç¬¬ä¸€è¡Œæ˜¯å½“å‰åƒç›®å½•ä¸‹æ‰€æœ‰ï¼Œç¬¬äºŒè¡Œæ˜¯å®‰è£…çš„Qtåº“çš„å¤´æ–‡ä»¶è·¯å¾„</p><p><img src="2025042609394728.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>å‰©ä¸‹çš„é…ç½®æŒ‰éœ€é…ç½®ï¼Œä¸é…ç½®ä¹Ÿä¸å½±å“ã€‚é€‰æ‹©ç¼–è¾‘jsonå¯ä»¥æŸ¥çœ‹C/C++æ’ä»¶jsonç‰ˆæœ¬çš„é…ç½®</p><p><img src="2025042609394729.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>åˆšæ‰é…ç½®çš„éƒ½åœ¨è¿™é‡Œé¢äº†ï¼Œç°åœ¨å¼•ç”¨Qtå¤´æ–‡ä»¶å·²ç»ä¸æŠ¥é”™äº†Â <code>c_cpp_properties.json</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Win32&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;includePath&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;$&#123;workspaceFolder&#125;/**&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;C:/Qt/5.15.2/mingw81_64/include/**&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;defines&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;_DEBUG&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;UNICODE&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;_UNICODE&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;intelliSenseMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;windows-gcc-x64&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;compilerPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C:/Qt/Tools/mingw810_64/bin/g++.exe&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="number">4</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="5-é…ç½®taskjson"><a class="markdownIt-Anchor" href="#5-é…ç½®taskjson"></a> 5. é…ç½®task.json</h3><p>é€‰æ‹©<strong>ç»ˆç«¯</strong>-<strong>è¿è¡Œä»»åŠ¡</strong>-<strong>é…ç½®ä»»åŠ¡</strong>-<strong>ä½¿ç”¨æ¨¡æ¿åˆ›å»ºtask.jsonæ–‡ä»¶</strong>-<strong>Others</strong>ï¼›è¿™ä¸€æ­¥æ— æ‰€è°“ï¼Œå°±æ˜¯æä¸ªæ¨¡æ¿ï¼Œç”¨æˆ‘ä¸‹é¢è´´çš„ä¸€æ ·</p><p><img src="2025042609394830.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>é…ç½®ç¼–è¯‘Qté¡¹ç›®çš„taskï¼Œè¿™ä¸€æ­¥å…¶å®æ˜¯è·ŸQt Creatorç›¸åŒçš„ï¼Œæˆ‘ä»¬æ‰“å¼€Qt Creatorï¼Œé€‰æ‹©é¡¹ç›®ï¼ŒæŸ¥çœ‹åˆšæ‰çš„é¡¹ç›®çš„é¡¹ç›®æ„å»ºé…ç½®</p><p><img src="2025042609394831.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>Qt Creatoræ„å»ºæ­¥éª¤åˆ†æå¦‚ä¸‹ï¼š</p><p>è®¾ç½®æ„å»ºç›®å½•ï¼Œä¹Ÿå°±æ˜¯ç¼–è¯‘å‡ºæ¥çš„ä¸­é—´æ–‡ä»¶ç›®å½•</p><p><code>qmake</code>ï¼Œè¿™ä¸€æ­¥å…¶å®æ˜¯ç”¨<code>qmake</code>å°†<code>.pro</code>é…ç½®æ–‡ä»¶ç¼–è¯‘æˆ<code>makefile</code>ï¼Œå¹¶ä¸”å°†å…¶ä¸­æ¶‰åŠçš„.uiã€.qrcç­‰ç¼–è¯‘æˆcppï¼Œéƒ½åœ¨æ„å»ºç›®å½•ä¸­ï¼Œä¸‹é¢æ˜¯åˆ‡æ¢Debug/Releaseæ—¶ä¸åŒçš„qmakeç¼–è¯‘å‘½ä»¤</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#Debug</span><br><span class="line">C:/Qt/5.15.2/mingw81_64/bin/qmake.exe D:\Code\Other\untitled\untitled.pro -spec win32-g++ &quot;CONFIG+=debug&quot; &quot;CONFIG+=qml_debug&quot; &amp;&amp; C:/Qt/Tools/mingw810_64/bin/mingw32-make.exe qmake_all</span><br><span class="line"></span><br><span class="line">#Release</span><br><span class="line">C:/Qt/5.15.2/mingw81_64/bin/qmake.exe D:\Code\Other\untitled\untitled.pro -spec win32-g++ &quot;CONFIG+=qml_debug&quot; &amp;&amp; C:/Qt/Tools/mingw810_64/bin/mingw32-make.exe qmake_all</span><br></pre></td></tr></table></figure><p><code>make</code>ï¼ŒçœŸæ­£çš„ç¼–è¯‘cppï¼ŒMinGWä½¿ç”¨çš„å¼<code>mingw32-make.exe</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mingw32-make.exe -j22 <span class="keyword">in</span> D:\Code\Other\untitled\build</span><br></pre></td></tr></table></figure><p><code>clean</code>ï¼Œè¿™é‡Œä½¿ç”¨è¿˜æ˜¯<code>mingw32-make.exe</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mingw32-make.exe clean -j20 <span class="keyword">in</span> D:\Code\Other\untitled\build</span><br></pre></td></tr></table></figure><p>å°†ä¸Šé¢Qt Creatoræ„å»ºæ­¥éª¤è½¬æ¢ä¸º<code>task.json</code>å°±è¡Œäº†ï¼Œæˆ‘æŠŠdebugã€releseå…¨æµç¨‹éƒ½åŠ ä¸Šäº†ï¼Œéå¸¸ç®€å•ï¼</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// See https://go.microsoft.com/fwlink/?LinkId=733558</span></span><br><span class="line">    <span class="comment">// for the documentation about the tasks.json format</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;tasks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="comment">//åœ¨å½“å‰é¡¹ç›®ç›®å½•åˆ›å»ºbuildæ–‡ä»¶å¤¹</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;mkdir&quot;</span><span class="punctuation">,</span> <span class="comment">//ä»»åŠ¡åç§°</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;shell&quot;</span><span class="punctuation">,</span> <span class="comment">//ä»»åŠ¡ç±»å‹ï¼Œå®šä¹‰ä»»åŠ¡æ˜¯è¢«ä½œä¸ºè¿›ç¨‹è¿è¡Œè¿˜æ˜¯åœ¨ shell ä¸­ä½œä¸ºå‘½ä»¤è¿è¡Œã€‚</span></span><br><span class="line">            <span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;&quot;</span> <span class="comment">//å·²æ‰§è¡Œç¨‹åºæˆ–è„šæœ¬çš„å½“å‰å·¥ä½œç›®å½•ï¼Œè®¾ç½®å½“å‰é¡¹ç›®æ–‡ä»¶å¤¹</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;mkdir&quot;</span><span class="punctuation">,</span> <span class="comment">//å‘½ä»¤</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span> <span class="comment">//å‘½ä»¤åé¢è·Ÿçš„å‚æ•°</span></span><br><span class="line">                <span class="string">&quot;-Force&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;build&quot;</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;qmake-debug&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;shell&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;/build&quot;</span> <span class="comment">//è¿›å…¥buildç›®å½•</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;qmake&quot;</span><span class="punctuation">,</span> <span class="comment">//qmakeå‘½ä»¤ï¼Œè¿™é‡Œæ²¡ç”¨å®Œæ•´è·¯å¾„ï¼Œæ˜¯å› ä¸ºé…ç½®åˆ°ç¯å¢ƒå˜é‡äº† C:/Qt/5.15.2/mingw81_64/bin/qmake.exe</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span> <span class="comment">//è·Ÿçš„å‚æ•°æ˜¯ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œå°±æ˜¯ä¸Šé¢åˆ†æå‡ºæ¥çš„Qt Creatoræ‰§è¡Œæµç¨‹</span></span><br><span class="line">                <span class="string">&quot;../$&#123;workspaceFolderBasename&#125;.pro&quot;</span><span class="punctuation">,</span> <span class="comment">//åœ¨buildç›®å½•ä¸Šä¸€çº§å“¦</span></span><br><span class="line">                <span class="string">&quot;-spec&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;win32-g++&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;\&quot;CONFIG+=debug\&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;\&quot;CONFIG+=console\&quot;&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;dependsOn&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span> <span class="comment">//è¿™æ˜¯æœ¬æ¡å‘½ä»¤ä¾èµ–çš„å‰ç½®æ¡ä»¶ï¼Œå°±æ˜¯ä¸Šé¢åˆ›å»ºbuildæ–‡ä»¶å¤¹çš„taskï¼Œç›´æ¥æ‰§è¡Œæœ¬taskä¼šè‡ªåŠ¨å…ˆè°ƒç”¨ä¾èµ–çš„task</span></span><br><span class="line">                <span class="string">&quot;mkdir&quot;</span> <span class="comment">//å…¶å®å¯ä»¥æ‰‹åŠ¨æ‰§è¡Œä¸€æ¬¡ï¼Œåé¢ä¸ç”¨æ¯æ¬¡éƒ½æ‰§è¡Œåˆ›å»ºç›®å½•çš„æ“ä½œ</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;make-debug&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;shell&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;/build&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;mingw32-make&quot;</span><span class="punctuation">,</span> <span class="comment">//MinGWè¿™ä¸ªä¹Ÿé…ç½®åœ¨ç¯å¢ƒå˜é‡äº†ï¼Œä¸ç”¨å†™å®Œæ•´è·¯å¾„äº† C:/Qt/Tools/mingw810_64/bin/mingw32-make.exe</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;-f&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;Makefile.Debug&quot;</span><span class="punctuation">,</span> <span class="comment">//-f é€‰æ‹©makefileï¼Œè¿™æ˜¯qmakeç¼–è¯‘å‡ºæ¥çš„</span></span><br><span class="line">                <span class="string">&quot;-j7&quot;</span> <span class="comment">//è¿™ä¸ªå‚æ•°éƒ½çŸ¥é“å§ï¼Œç¼–è¯‘ç”¨çš„çº¿ç¨‹æ•°é‡</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;dependsOn&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;qmake-debug&quot;</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;run-debug&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;process&quot;</span><span class="punctuation">,</span> <span class="comment">//è¿è¡Œå°±ä¸èƒ½é€‰æ‹©shellæ‰§è¡Œäº†ï¼Œè¦é€‰æ‹©process</span></span><br><span class="line">            <span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;/build/debug&quot;</span> <span class="comment">//æ²¡åœ¨.proé…ç½®DESTDIR,ä¼šç”Ÿæˆåˆ°buildç›®å½•ä¸‹é¢å¯¹åº”ç›®å½•</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolderBasename&#125;.exe&quot;</span><span class="punctuation">,</span> <span class="comment">//æ‰§è¡Œçš„exeåå­—ï¼Œä¸€èˆ¬å½“å‰é¡¹ç›®æ–‡ä»¶å¤¹çš„åç§°ï¼Œè‡ªå®šä¹‰å¯ä»¥å†™å…¶ä»–çš„</span></span><br><span class="line">            <span class="attr">&quot;dependsOn&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;make-debug&quot;</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        /</span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;qmake-release&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;shell&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;/build&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;qmake&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span> <span class="comment">//æ³¨æ„releaseè·Ÿdebugå‚æ•°çš„å·®å¼‚</span></span><br><span class="line">                <span class="string">&quot;../$&#123;workspaceFolderBasename&#125;.pro&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;-spec&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;win32-g++&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;\&quot;CONFIG+=qtquickcompiler\&quot;&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;dependsOn&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="comment">// &quot;mkdir&quot; //ä¸ç”¨æ¯æ¬¡éƒ½åˆ›å»ºå§</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;make-release&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;shell&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;/build&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;mingw32-make&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;-f&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;Makefile.Release&quot;</span><span class="punctuation">,</span> <span class="comment">//æ³¨æ„releaseè·Ÿdebugå‚æ•°çš„å·®å¼‚</span></span><br><span class="line">                <span class="string">&quot;-j7&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;dependsOn&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;qmake-release&quot;</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;run-release&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;process&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;/build/release&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolderBasename&#125;.exe&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;dependsOn&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;make-release&quot;</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;clean&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;shell&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;/build&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;mingw32-make&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;clean&quot;</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>æ—¢ç„¶é…ç½®å¥½äº†ï¼Œé‚£å°±å¯ä»¥å¼€å¿ƒçš„è¿è¡Œä»£ç ï¼Œæœ‰ä¸¤ç§æ–¹å¼</p><p><strong>ç»ˆç«¯</strong>-<strong>è¿è¡Œä»»åŠ¡</strong>-<strong>é€‰æ‹©ä»»åŠ¡</strong>ï¼Œæˆ‘ä»¬é…ç½®çš„taskéƒ½åœ¨é‡Œé¢äº†ï¼Œé€‰æ‹©<code>run-debug/run-release</code>å°±è¡Œï¼Œå› ä¸ºé…ç½®è¿‡<code>depend[]</code>ï¼Œå‰é¢qmakeã€makeéƒ½è¢«ä¸€æ¡é¾™è°ƒç”¨</p><p><img src="2025042609394832.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>æ—¢ç„¶æ˜¯VSCodeï¼Œä¸ç”¨å¿«æ·é”®æ€ä¹ˆå¯ä»¥ï¼Œè¶…çº§å¼ºå¤§çš„<code>ctrl+shift+p</code>ï¼Œè¾“å…¥<code>run</code>ï¼Œå’Œæ‰‹ç‚¹æµç¨‹ä¸€æ ·ï¼Œå›è½¦ï¼Œæ–¹å‘é”®é€‰æ‹©<code>run-debug/run-release</code>å›è½¦æ‰§è¡Œå°±å¥½äº†</p><p><img src="2025042609394833.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>ä¸€æ¡é¾™è°ƒç”¨çš„å‘½ä»¤åœ¨<strong>æ§åˆ¶å°</strong>å°±ä¼šæœ‰è¾“å‡ºäº†ï¼Œexeå¯åŠ¨å<code>log</code>ä¹Ÿä¼šåœ¨è¿™è¾“å‡º</p><p><img src="2025042609394834.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h2 id="03-é…ç½®æ–­ç‚¹è°ƒè¯•"><a class="markdownIt-Anchor" href="#03-é…ç½®æ–­ç‚¹è°ƒè¯•"></a> 03. é…ç½®æ–­ç‚¹è°ƒè¯•</h2><p>ä¸Šé¢é…ç½®çš„æ˜¯ä»¥<code>debug/release</code>æ–¹å¼è¿è¡Œç¨‹åºï¼Œé‚£ä¹ˆè¦æ‰“æ–­ç‚¹è°ƒè¯•æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><h3 id="1é…ç½®launchjson"><a class="markdownIt-Anchor" href="#1é…ç½®launchjson"></a> 1.é…ç½®launch.json</h3><p>ä¾§è¾¹æ é€‰æ‹©è°ƒè¯•ï¼Œç‚¹å‡»åˆ›å»º<code>launch.json</code>æ–‡ä»¶</p><p><img src="2025042609394835.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>é€‰æ‹©c++å°±è¡Œï¼Œç¬¬ä¸€ä¸ªç¬¬äºŒä¸ªæ²¡å…³ç³»ï¼Œåæ­£ç”Ÿæˆçš„å‡ ä¹ç©ºç™½çš„æ¨¡æ¿</p><p><img src="2025042609394836.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>é€‰æ‹©åˆ›å»ºé…ç½®ï¼Œé€‰æ‹©<strong>gdbå¯åŠ¨</strong>ä½œä¸ºåŸºç¡€æ¨¡æ¿ï¼Œæ¥åœ¨ä¸Šé¢ä¿®æ”¹</p><p><img src="2025042609394837.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>ä¿®æ”¹å†…å®¹å¦‚ä¸‹ï¼Œæˆ‘æ”¾äº†è‡ªåŠ¨ç”Ÿæˆçš„æ¨¡æ¿è·Ÿä¿®æ”¹åçš„ï¼Œå¯ä»¥å¯¹æ¯”çœ‹ä¸‹ä¿®æ”¹äº†é‚£äº›åœ°æ–¹ï¼Œå®é™…ä½¿ç”¨è®°å¾—åˆ é™¤å“ˆ</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// ä½¿ç”¨ IntelliSense äº†è§£ç›¸å…³å±æ€§ã€‚ </span></span><br><span class="line">    <span class="comment">// æ‚¬åœä»¥æŸ¥çœ‹ç°æœ‰å±æ€§çš„æè¿°ã€‚</span></span><br><span class="line">    <span class="comment">// æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®: https://go.microsoft.com/fwlink/?linkid=830387</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;(gdb) å¯åŠ¨&quot;</span><span class="punctuation">,</span> <span class="comment">//æ¨¡æ¿ï¼Œå®é™…ä½¿ç”¨è®°å¾—åˆ é™¤</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cppdbg&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;è¾“å…¥ç¨‹åºåç§°ï¼Œä¾‹å¦‚ $&#123;workspaceFolder&#125;/a.exe&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;stopAtEntry&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;environment&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;externalConsole&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;MIMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;gdb&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;miDebuggerPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/path/to/gdb&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;setupCommands&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä¸º gdb å¯ç”¨æ•´é½æ‰“å°&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;-enable-pretty-printing&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;ignoreFailures&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">                <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å°†åæ±‡ç¼–é£æ ¼è®¾ç½®ä¸º Intel&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;-gdb-set disassembly-flavor intel&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;ignoreFailures&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;debug&quot;</span><span class="punctuation">,</span> <span class="comment">//ä¿®æ”¹å</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cppdbg&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;/build/debug/$&#123;workspaceFolderBasename&#125;.exe&quot;</span><span class="punctuation">,</span> <span class="comment">//å†™å®Œæ•´è·¯å¾„</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;stopAtEntry&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;&quot;</span><span class="punctuation">,</span> <span class="comment">//å·¥ä½œç›®å½•ï¼Œé¡¹ç›®æ ¹ç›®å½•</span></span><br><span class="line">            <span class="attr">&quot;environment&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;externalConsole&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;MIMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;gdb&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;miDebuggerPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C:/Qt/Tools/mingw810_64/bin/gdb.exe&quot;</span><span class="punctuation">,</span> <span class="comment">//é€‰æ‹©MinGWä¸­çš„gdb</span></span><br><span class="line">            <span class="attr">&quot;setupCommands&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä¸º gdb å¯ç”¨æ•´é½æ‰“å°&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;-enable-pretty-printing&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;ignoreFailures&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;preLaunchTask&quot;</span><span class="punctuation">:</span> <span class="string">&quot;make-debug&quot;</span><span class="punctuation">,</span> <span class="comment">//è¿™è·Ÿdepend[]å¾ˆåƒå•Šï¼Œmakeå°±è¡Œäº†ï¼Œç”¨makeç¼–è¯‘å‡ºexe</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="2-è¿è¡Œè°ƒè¯•"><a class="markdownIt-Anchor" href="#2-è¿è¡Œè°ƒè¯•"></a> 2. è¿è¡Œè°ƒè¯•</h3><p>é‡æ–°æ‰“å¼€è°ƒè¯•ï¼Œåˆšæ‰é…ç½®çš„è°ƒè¯•é…ç½®å·²ç»å­˜åœ¨äº†</p><p><img src="2025042609394938.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>æ‰“ä¸ªæ–­ç‚¹ï¼Œç‚¹å‡»ç»¿è‰²ä¸‰è§’ï¼Œè¿è¡Œä¸‹çœ‹çœ‹æ•ˆæœ</p><p><img src="2025042609394939.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h2 id="04-è¿è¡Œæ•ˆæœ"><a class="markdownIt-Anchor" href="#04-è¿è¡Œæ•ˆæœ"></a> 04. è¿è¡Œæ•ˆæœ</h2><p><code>run-debug</code>åŠè‡ªåŠ¨ç”Ÿæˆçš„ç›®å½•ç»“æ„ã€æ§åˆ¶å°logï¼Œctrl+cç»“æŸç¨‹åº</p><p><img src="2025042609394940.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p><code>run-release</code></p><p><img src="2025042609394941.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p><strong>debugæ–­ç‚¹è°ƒè¯•</strong></p><p><img src="2025042609394942.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>åˆ°æ­¤è¿™ç¯‡å…³äºvscode+qt+qmakeå¼€å‘ç¯å¢ƒæ­å»º(æœ€å…¨æœ€è¯¦ç»†)çš„æ–‡ç« å°±ä»‹ç»åˆ°è¿™äº†!</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»é›¶å¼€å§‹é…ç½®Qt+VsCodeç¯å¢ƒ</title>
      <link href="/2025/08/14/Qt/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E9%85%8D%E7%BD%AEQt+VsCode%E7%8E%AF%E5%A2%83/"/>
      <url>/2025/08/14/Qt/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E9%85%8D%E7%BD%AEQt+VsCode%E7%8E%AF%E5%A2%83/</url>
      
        <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a class="markdownIt-Anchor" href="#å†™åœ¨å‰é¢"></a> å†™åœ¨å‰é¢</h3><ul><li>æµ‹è¯•ç¯å¢ƒï¼ˆ20241120ï¼‰ï¼š<code>Win11 + VsCode1.93.0 + Qt5.15.2 + CMake3.28.0-rc3</code></li><li>æœ¬æ–‡ç« é€‚ç”¨äºæœ‰ä¸€å®šQtä½¿ç”¨åŸºç¡€ï¼Œå¹¶ä¸”æƒ³è½¬åˆ°VsCodeçš„åŒå­¦ã€‚</li></ul><h3 id="æ‰©å±•å®‰è£…åŠé…ç½®"><a class="markdownIt-Anchor" href="#æ‰©å±•å®‰è£…åŠé…ç½®"></a> æ‰©å±•å®‰è£…åŠé…ç½®</h3><ul><li><p><code>Qt Configure(@vector-wlc)</code> å¿…é¡»</p><p><img src="75cf619678724285a1bc2c7b6be0c17f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p><code>Qt Extension Pack(@Qt Group)</code>ï¼Œä¸æ˜¯å¿…è¦ä½†å¯æå‡ä½¿ç”¨ä½“éªŒï¼Œ<code>Qt UI</code>å…·æœ‰ç‚¹å‡»<code>.ui</code>æ–‡ä»¶å¯åŠ¨<code>Qt Widgets Designer</code>ã€‚<br /><img src="48cbf011feec41c5a6858d4668bc9d52.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p><code>Qt C++ Extension Pack(@Qt Group)</code>,è¯¥æ‰©å±•åŒ…åŒ…å«äº†<code>Qt Extension Pack(@Qt Group)</code>ï¼ŒåŒæ—¶å¢åŠ äº†<code>C/C++(@Microsoft)</code>,<code>CMake(@twxs)</code>,<code>CMake Tools(@Microsoft)</code>ï¼Œå¯¹äºä¸æƒ³æ‰‹åŠ¨ä¸€ä¸ªä¸€ä¸ªå®‰è£…çš„å¯ä»¥æ¨èã€‚è‹¥æƒ³ä½¿ç”¨CMakeè¿™ä¸ªä¸‰ä¸ªéƒ½æ˜¯å¿…é¡»çš„ã€‚</p><p><img src="1d05e8b4af274e45acf4c3d4924708ad.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>å¯¹äºC/C++æ¨èè£…ä¸€ä¸ª<code>C/C++ Extension Pack(@Microsoft)</code></p><p><img src="63c9d7440db3460493ee7d7e21a1ab03.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li></ul><h4 id="qt-configureé…ç½®"><a class="markdownIt-Anchor" href="#qt-configureé…ç½®"></a> Qt Configureé…ç½®</h4><ul><li><p><code>Qt Configure: Mingw Path</code>ï¼Œè¯·è®¾ç½®<code>MinGw</code>çš„<code>bin</code>ä¹‹å‰é‚£ä¸ªè·¯å¾„ï¼Œè¯·æ ¹æ®è‡ªèº«ç¯å¢ƒå®é™…æƒ…å†µè¿›è¡Œé…ç½®</p><pre><code>D:\Programs\Qt\5.15.2\mingw81_64</code></pre></li><li><p><code>Qt Configure: Qt Dir</code>ï¼Œè¯·æ ¹æ®è‡ªèº«ç¯å¢ƒå®é™…æƒ…å†µè®¾ç½®<code>Qt</code>çš„å®‰è£…è·¯å¾„</p><pre><code>D:\Programs\Qt</code></pre></li><li><p><code>Qt Configure: Vcvarsall Path</code>ï¼Œè®¾ç½®<code>VS</code>ç¯å¢ƒå˜é‡è„šæœ¬è·¯å¾„ï¼Œåœ¨ä½¿ç”¨<code>Msvc</code>ç¼–è¯‘å™¨æ—¶ä¼šç”¨åˆ°ï¼ŒåŒæ ·è¯·æ ¹æ®è‡ªèº«ç¯å¢ƒå®é™…æƒ…å†µè¿›è¡Œé…ç½®</p><pre><code>D:\Program Files (x86)\Microsoft Visual Studio 14.0\VC\vcvarsall.bat</code></pre></li></ul><p><img src="b953bf802be840e09810295279dd633e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><ul><li>è¿™é‡Œä¸»è¦äº†å°±æ˜¯é…ç½®Qt Configureæ‰©å±•å…¶å®ƒæ‰©å±•è®°ä¸å¤ªæ¸…æ¥šäº†ï¼Œè‹¥æœ‰ä¸æ‡‚çš„å¯è¯„è®ºæˆ–è€…ç§ä¿¡æ²Ÿé€šã€‚</li><li>è¿˜æœ‰å°±æ˜¯æˆ‘çš„CMakeæ˜¯è®¾ç½®äº†ç³»ç»Ÿç¯å¢ƒå˜é‡çš„ï¼Œæœ‰å¯èƒ½ä¼šå¯¹é¡¹ç›®æ“ä½œæœ‰ä¸€äº›å½±å“ã€‚</li></ul><h3 id="vscodeåˆ›å»ºqtå·¥ç¨‹"><a class="markdownIt-Anchor" href="#vscodeåˆ›å»ºqtå·¥ç¨‹"></a> VsCodeåˆ›å»ºQtå·¥ç¨‹</h3><ul><li><p><code>Ctrl + Shift + P</code> é€šè¿‡<code>QtConfigure</code>æ’ä»¶æ–°å»ºå·¥ç¨‹</p><p><img src="edb27beb6a814260b0466ade68aee498.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>è¾“å…¥é¡¹ç›®åç§°å¹¶ç¡®è®¤<br /><img src="a845bda42f8548118ec71aee9732483b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>é€‰æ‹©Qtçš„æ„å»ºå¥—ä»¶ï¼Œè¿™äº›éƒ½æ˜¯Qtçš„æ„å»ºå¥—ä»¶åŒ…å«MinGwå’ŒMsvcï¼Œä¸åŒçš„Qtç‰ˆæœ¬ç•¥æœ‰ä¸åŒï¼Œè¯·ç»“åˆè‡ªèº«å®é™…æƒ…å†µè¿›è¡Œé€‰æ‹©<br /><img src="e2b41ddf24b64f0a94b22d859abaf1ff.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>é€‰æ‹©æ„å»ºå·¥å…·</p><p><img src="206d3d0201724bbcbbf1c1e9351df80a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>é€‰æ‹©æ˜¯å¦å¸¦UIæ–‡ä»¶</p><p><img src="a26559908ca1463b84f247ba3b02b453.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>é€‰æ‹©å®Œæˆè¿‡åå°†è‡ªåŠ¨åˆ›å»ºé¡¹ç›®å·¥ç¨‹</p><ul><li>è‡ªåŠ¨åˆ›å»ºçš„å·¥ç¨‹å¦‚ä¸‹ï¼Œ</li><li>å…¶ä¸­<code>.pro</code>æ–‡ä»¶æ˜¯<code>Qt</code>çš„é¡¹ç›®æ–‡ä»¶ï¼Œ</li><li><code>src</code>æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„æºæ–‡ä»¶</li><li><code>.vscode</code>ä¸­æ˜¯<code>VsCode</code>å·¥ç¨‹å·¥ä½œæ—¶å¿…è¦çš„é…ç½®ä¿¡æ¯ï¼Œ</li><li><code>scripts</code>ä¸­æ˜¯é¡¹ç›®æ„å»ºç”Ÿæˆæ—¶çš„è„šæœ¬ï¼Œ</li><li>å…¶å®<code>VsCode</code>ç¼–è¯‘å™¨å·¥ç¨‹æœ¬è´¨ä¸Šæ˜¯é€šè¿‡å‘½ä»¤è¡Œæ‰§è¡Œè¿™äº›è„šæœ¬è°ƒç”¨<code>qmake</code>è¿›è¡Œå·¥ç¨‹ç¼–è¯‘å’Œç”Ÿæˆçš„ã€‚<br /><img src="b2489bf2477548e08b4b15e9f341d06d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></li></ul></li><li><p>è‹¥æƒ³è¦ç¼–è¯‘è¿è¡Œ</p><ul><li>ç¬¬ä¸€ç§å¯é€šè¿‡å…ˆå•å‡»ä¸€ä¸ª<code>.cpp</code>æ–‡ä»¶ï¼Œåä¼šåœ¨å³ä¸Šè§’å‡ºç°è¿è¡Œç¬¦å·ï¼Œå¯ç›´æ¥ç‚¹å‡»ä¹Ÿå¯ä¸‹æ‹‰é€‰æ‹©</li></ul><p><img src="412f4bd3f1524e3684fe26b2bf4e92bc.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="4eab6423feb040e2b22d677c98b987ef.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><ul><li><p>ç¬¬äºŒç§ <code>Ctrl + Shift + P</code> è¾“å…¥<code>run</code>ï¼Œé€‰æ‹©è¿è¡Œç”Ÿæˆä»»åŠ¡</p><p><img src="0c9f0b3002e347bd843a926ebec71058.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><ul><li>é€‰æ‹© <code>debug</code>æˆ–è€…<code>release</code><br /><img src="07b432fefe7546c1b4bbfcee522fb992.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></li></ul></li></ul></li></ul><h3 id="vscodeqmakemingw"><a class="markdownIt-Anchor" href="#vscodeqmakemingw"></a> VsCode+QMake+MinGw</h3><ul><li><p>è‹¥æ˜¯åˆ›å»ºå·¥ç¨‹æ—¶é€‰æ‹©<code>MinGw</code>ä½œä¸ºæ„å»ºå¥—ä»¶ï¼Œ<code>QMake</code>ä½œä¸ºæ„å»ºå·¥å…·åˆ™éœ€è¦åšä¸€äº›ä¿®æ”¹</p></li><li><p>ä¿®æ”¹æ„å»ºè„šæœ¬ <code>./scripts/build_debug.bat</code></p><ul><li><p>åœ¨åˆ›å»ºè„šæœ¬çš„æ—¶å€™è‡ªåŠ¨ç”Ÿæˆçš„<code>mingw32-make</code>çš„è·¯å¾„æ˜¯åœ¨<code>D:\Programs\Qt\5.15.2\mingw81_64</code> ä¸‹é¢ï¼Œè¿™å¯èƒ½æ˜¯ç”±äºæˆ‘è¿™é‡Œæ˜¯<code>Qt5.15.2</code>ï¼Œå®ƒä¸åœ¨è¿™ä¸ªè·¯å¾„ä¸‹è€Œæ˜¯<code>D:\Programs\Qt\Tools\mingw810_64</code>,è¯»è€…è¯·æ ¹æ®è‡ªèº«å®é™…æƒ…å†µè¿›è¡Œä¿®æ”¹ã€‚</p><p>@echo off<br />title qmake and nmake build prompt<br />@REM ä¿®æ”¹mingw32-makeçš„è·¯å¾„<br />@REM set MINGW_PATH=D:\Programs\Qt\5.15.2\mingw81_64<br />set MINGW_PATH=D:\Programs\Qt\Tools\mingw810_64<br />set QT_DIR=D:\Programs\Qt\5.15.2\mingw81_64<br />set BUILD_DIR=%cd%\build<br />set PRO_DIR=%cd%<br />set PATH=%MINGW_PATH%\bin;%QT_DIR%\bin;%PATH%</p><p>if not exist %BUILD_DIR% (<br />md %BUILD_DIR%<br />)</p><p>cd build<br />qmake.exe %PRO_DIR%\VsCodeQMakeMinGw.pro -spec win32-g++ â€œCONFIG+=debugâ€ â€œCONFIG+=consoleâ€<br />if exist %BUILD_DIR%\debug\VsCodeQMakeMinGw.exe del %BUILD_DIR%\debug\VsCodeQMakeMinGw.exe<br />@REM D:\Programs\Qt\Tools\QtCreator\bin\jom.exe -j4<br />%MINGW_PATH%\bin\mingw32-make -f Makefile.Debug<br />cd debug<br />if not exist %BUILD_DIR%\debug\Qt5Core.dll (<br />windeployqt VsCodeQMakeMinGw.exe<br />)</p></li></ul></li><li><p>ä¿®æ”¹è¿è¡Œé…ç½®æ–‡ä»¶<code>./.vscode/launch.json</code></p><ul><li><p>åŒæ ·å› ä¸º<code>Qt</code>ä¸åŒç‰ˆæœ¬çš„<code>gbd.exe</code>çš„è°ƒè¯•å™¨è·¯å¾„å¯èƒ½ä¸åŒè¿™æ ·ä¹Ÿéœ€è¦åšå‡ºä¸€å®šä¿®æ”¹å¦åˆ™ä¼šæŠ¥é”™</p><p><img src="ee2dfad186b2450282daa5d44c383655.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>ä¿®æ”¹<code>gdb.exe</code>è·¯å¾„å³<code>miDebuggerPath</code>å‚æ•°</p><p>{<br />â€œversionâ€: â€œ0.2.0â€,<br />â€œconfigurationsâ€: [<br />{<br />â€œnameâ€: â€œdebugâ€,<br />â€œtypeâ€: â€œcppdbgâ€,<br />â€œrequestâ€: â€œlaunchâ€,<br />â€œprogramâ€: â€œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>w</mi><mi>o</mi><mi>r</mi><mi>k</mi><mi>s</mi><mi>p</mi><mi>a</mi><mi>c</mi><mi>e</mi><mi>R</mi><mi>o</mi><mi>o</mi><mi>t</mi></mrow><mi mathvariant="normal">/</mi><mi>b</mi><mi>u</mi><mi>i</mi><mi>l</mi><mi>d</mi><mi mathvariant="normal">/</mi><mi>d</mi><mi>e</mi><mi>b</mi><mi>u</mi><mi>g</mi><mi mathvariant="normal">/</mi><mi>V</mi><mi>s</mi><mi>C</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>Q</mi><mi>M</mi><mi>a</mi><mi>k</mi><mi>e</mi><mi>M</mi><mi>i</mi><mi>n</mi><mi>G</mi><mi>w</mi><mi mathvariant="normal">.</mi><mi>e</mi><mi>x</mi><mi>e</mi><mi mathvariant="normal">&quot;</mi><mo separator="true">,</mo><mi mathvariant="normal">&quot;</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>s</mi><mi mathvariant="normal">&quot;</mi><mo>:</mo><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mo separator="true">,</mo><mi mathvariant="normal">&quot;</mi><mi>s</mi><mi>t</mi><mi>o</mi><mi>p</mi><mi>A</mi><mi>t</mi><mi>E</mi><mi>n</mi><mi>t</mi><mi>r</mi><mi>y</mi><mi mathvariant="normal">&quot;</mi><mo>:</mo><mi>f</mi><mi>a</mi><mi>l</mi><mi>s</mi><mi>e</mi><mo separator="true">,</mo><mi mathvariant="normal">&quot;</mi><mi>c</mi><mi>w</mi><mi>d</mi><mi mathvariant="normal">&quot;</mi><mo>:</mo><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">{workspaceRoot}/build/debug/VsCodeQMakeMinGw.exe&quot;,            &quot;args&quot;: [],            &quot;stopAtEntry&quot;: false,            &quot;cwd&quot;: &quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal">s</span><span class="mord mathnormal">p</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord mathnormal">o</span><span class="mord mathnormal">o</span><span class="mord mathnormal">t</span></span><span class="mord">/</span><span class="mord mathnormal">b</span><span class="mord mathnormal">u</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">d</span><span class="mord">/</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal">b</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">o</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal">Q</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal">i</span><span class="mord mathnormal">n</span><span class="mord mathnormal">G</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord">.</span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">e</span><span class="mord">&quot;</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">&quot;</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">s</span><span class="mord">&quot;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">&quot;</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">o</span><span class="mord mathnormal">p</span><span class="mord mathnormal">A</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord">&quot;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">s</span><span class="mord mathnormal">e</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">&quot;</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">d</span><span class="mord">&quot;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">&quot;</span></span></span></span>{workspaceRoot}â€,<br />â€œenvironmentâ€: [],<br />â€œexternalConsoleâ€: false,<br />â€œMIModeâ€: â€œgdbâ€,<br />// ä¿®æ”¹gdbè·¯å¾„<br />// â€œmiDebuggerPathâ€: â€œD:/Programs/Qt/5.15.2/mingw81_64/bin/gdb.exeâ€,<br />â€œmiDebuggerPathâ€: â€œD:/Programs/Qt/Tools/mingw810_64/bin/gdb.exeâ€,<br />â€œsetupCommandsâ€: [<br />{<br />â€œdescriptionâ€: â€œEnable pretty-printing for gdbâ€,<br />â€œtextâ€: â€œ-enable-pretty-printingâ€,<br />â€œignoreFailuresâ€: true<br />}<br />],<br />â€œpreLaunchTaskâ€: â€œdebugâ€<br />}<br />]<br />}</p></li></ul></li><li><p>è¿™æ—¶å€™ç¼–è¯‘è¿è¡Œåº”è¯¥èƒ½ç›´æ¥å¼¹å‡º<code>Qt</code>çª—å£äº†</p><p><img src="7171ff54a61d44438fe489729620b0a8.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li></ul><h3 id="vscodeqmakemsvc"><a class="markdownIt-Anchor" href="#vscodeqmakemsvc"></a> VsCode+QMake+Msvc</h3><ul><li><p><code>VsCode1.93.0 + Qt5.15.2 + Msvc2015</code></p></li><li><p>åˆ›å»ºå·¥ç¨‹æ—¶é€‰æ‹©<code>Msvc</code>ä½œä¸ºæ„å»ºå¥—ä»¶ï¼Œ<code>QMake</code>ä½œä¸ºæ„å»ºå·¥å…·æ—¶å”¯ä¸€éœ€è¦æ³¨æ„çš„å°±æ˜¯è®¾ç½®å¥½ <code>Qt Configure: Vcvarsall Path</code>è·¯å¾„ï¼Œåœ¨æ‰©å±•é…ç½®ä¸­æœ‰è¯´æ˜ã€‚</p></li><li><p>è‹¥æ˜¯é…ç½®æ²¡æœ‰é—®é¢˜ç›´æ¥ç¼–è¯‘è¿è¡Œåº”è¯¥å°±èƒ½çœ‹åˆ°å¼¹å‡ºçš„<code>Qt</code>çª—å£äº†ã€‚</p><p><img src="a5ac6c3031224926bf78bac2e0c0a103.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li></ul><h3 id="vscodecmakemingw"><a class="markdownIt-Anchor" href="#vscodecmakemingw"></a> VsCode+CMake+MinGw</h3><ul><li><p><code>VsCode1.93.0 + Qt5.15.2 + CMake3.28.0-rc3 + mingw81_64</code></p></li><li><p>åœ¨åˆ›å»ºå·¥ç¨‹æ—¶é€‰æ‹©<code>MinGw</code>ä½œä¸ºæ„å»ºå¥—ä»¶ï¼Œé€‰æ‹©<code>CMake</code>ä½œä¸ºæ„å»ºå·¥å…·ã€‚</p></li><li><p>æ„å»ºç”Ÿæˆè¿è¡Œ</p><p><img src="a0b6029ee678450395100fe1fea369cd.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><ul><li><p>ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶éœ€è¦é€‰æ‹©æ„å»ºå™¨</p></li><li><p>è¿™é‡Œè¯·é€‰æ‹©<code>QtBuild</code></p></li></ul><p><img src="1962bc61b8d24b07b252abb439662fb0.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>åŒæ—¶éœ€è¦ä¿®æ”¹ <code>./.vscode/launch.json</code>æ–‡ä»¶ï¼Œè¿™æ ·ä¹Ÿæ˜¯ä¿®æ”¹<code>dgb</code>çš„è·¯å¾„ï¼Œè¯·è¯»è€…æ ¹æ®è‡ªèº«æƒ…å†µå°±è¡Œä¿®æ”¹ã€‚</p><pre><code>&#123;    &quot;version&quot;: &quot;0.2.0&quot;,    &quot;configurations&quot;: [        &#123;            &quot;name&quot;: &quot;QtBuild&quot;,            &quot;type&quot;: &quot;cppdbg&quot;,            &quot;request&quot;: &quot;launch&quot;,            &quot;program&quot;: &quot;$&#123;command:cmake.launchTargetPath&#125;&quot;,            &quot;args&quot;: [],            &quot;stopAtEntry&quot;: false,            &quot;cwd&quot;: &quot;$&#123;workspaceRoot&#125;&quot;,            &quot;environment&quot;: [                &#123;                    &quot;name&quot;: &quot;PATH&quot;,                    &quot;value&quot;: &quot;D:/Programs/Qt/5.15.2/mingw81_64/bin&quot;                &#125;            ],            &quot;externalConsole&quot;: false,            // &quot;miDebuggerPath&quot;: &quot;D:/Programs/Qt/5.15.2/mingw81_64/bin/gdb.exe&quot;            &quot;miDebuggerPath&quot;: &quot;D:/Programs/Qt/Tools/mingw810_64/bin/gdb.exe&quot;        &#125;    ]&#125;</code></pre></li><li><p>å¯¹äºCMakeå·¥ç¨‹è¿™é‡Œè¿˜æœ‰ä¸€ç§æ„å»ºè¿è¡Œæ–¹å¼ï¼Œä¸”å¥½åƒä¸ç”¨ä¿®æ”¹ <code>launch.json</code>æ–‡ä»¶ã€‚</p><p><img src="3997ed669ca2408a8f73150a1cac4a47.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>é¡¹ç›®è¿è¡Œæ•ˆæœ<br /><img src="d966ed297c3b4b14ae266b870a05fc79.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li></ul><h3 id="vscodecmakemsvc"><a class="markdownIt-Anchor" href="#vscodecmakemsvc"></a> VsCode+CMake+Msvc</h3><ul><li><p><code>VsCode1.93.0 + Qt5.15.2 + CMake3.28.0-rc3 + Msvc2015</code></p></li><li><p>åœ¨åˆ›å»ºå·¥ç¨‹æ—¶é€‰æ‹©<code>Msvc</code>ä½œä¸ºæ„å»ºå¥—ä»¶ï¼Œé€‰æ‹©<code>CMake</code>ä½œä¸ºæ„å»ºå·¥å…·ã€‚</p></li><li><p>åªæœ‰ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶éœ€è¦é€‰æ‹©å¯¹åº”çš„ç¼–è¯‘æ„å»ºå™¨ï¼Œå…¶å®ƒéƒ½ä¸VsCode+CMake+MinGwä¸€æ ·ã€‚</p></li><li><p>æ„å»ºç”Ÿæˆè¿è¡Œ</p><p><img src="91ec56a46d1f4bf5b4f8bd6477c56426.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><ul><li><p>ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶éœ€è¦é€‰æ‹©æ„å»ºå™¨</p></li><li><p>è¿™é‡Œè¯·é€‰æ‹©<code>QtBuild</code><br /><img src="5c080500acde4680b7164f72c121043a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li></ul></li><li><p>è¿è¡Œæ•ˆæœå¦‚ä¸‹</p><p><img src="d48801e846f04c49a15dfedf1629ee6d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li></ul><h3 id="qtcreatorqmakemingw-vscode"><a class="markdownIt-Anchor" href="#qtcreatorqmakemingw-vscode"></a> QtCreator+QMake+MinGw-&gt;VsCode</h3><ul><li><p><code>Qt5.15.2 + QtCreator12.0.1 + VsCode1.93.0 + mingw81_64</code></p></li><li><p>ç‰¹åˆ«è¯´æ˜ï¼šQtCreatorå’ŒVsCodeæ‰©å±•ï¼ˆQt Configureï¼‰è‡ªåŠ¨åˆ›å»ºçš„å·¥ç¨‹æœ‰äº›ä¸åŒï¼Œä½†æ˜¯éƒ½ä¼šä¾èµ–äºproæ–‡ä»¶ï¼ŒQMakeæ˜¯åŸºäºè¿›è¡Œç¼–è¯‘ç”Ÿæˆçš„</p></li><li><p>ä½¿ç”¨QtCreatoråˆ›å»ºä¸€ä¸ªä»¥<code>MinGw</code>ä¸ºæ„å»ºå¥—ä»¶ï¼Œ<code>QMake</code>ä¸ºæ„å»ºå·¥å…·çš„å·¥ç¨‹ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸º<code>VsCode</code>å·¥ç¨‹ï¼Œå¹¶åœ¨<code>VsCode</code>ä¸­è¿›è¡Œç¼–è¾‘ç¼–è¯‘å¹¶è¿è¡Œã€‚ï¼ˆè¿™é‡Œä¸å†èµ˜è¿°<code>QtCreator</code>å·¥ç¨‹çš„åˆ›å»ºï¼‰</p></li><li><p>è¿™é‡Œè¿›è¡Œè¯´æ˜ä¸€ä¸‹ï¼Œ<code>Qt</code>å·¥ç¨‹æ–‡ä»¶æ˜¯<code>.pro</code>æ–‡ä»¶ï¼Œä½†VsCodeå¹¶æ²¡æœ‰æ˜ç¡®çš„å·¥ç¨‹æ–‡ä»¶åªæœ‰å·¥ç¨‹çš„é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡æˆ‘ä»¬å‰é¢çš„VsCode+QMake+MinGwå¯ä»¥çŸ¥é“å…¶å®<code>VsCode</code>åªæ˜¯å°†å·¥ç¨‹ç¼–è¯‘æ•´åˆåˆ°è„šæœ¬å‘½ä»¤ä¸­äº†ï¼Œç¼–è¯‘æ—¶ä¾ç„¶ä¼šä½¿ç”¨<code>.pro</code>å·¥ç¨‹ã€‚</p></li><li><p>æ‰€ä»¥æˆ‘ä»¬ç›´æ¥å°†VsCode+QMake+MinGwåˆ›å»ºçš„<code>.vscode</code>å’Œ<code>scripts</code> æ–‡ä»¶å¤¹æ‹·è´åˆ°<code>QtCreator</code>åˆ›å»ºçš„å·¥ç¨‹ï¼Œå¹¶ç”¨<code>VsCode</code>æ‰“å¼€ã€‚</p><p><img src="8cb997be8a2c46db9f9f02d54a7bb6ae.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>å…ˆä¿®æ”¹<code>./scripts/build_debug.bat</code>è„šæœ¬</p><ul><li><p>è¿™é‡Œæ˜¯VsCode+QMake+MinGwå·¥ç¨‹åˆ›å»ºçš„è„šæœ¬è¿›è¡Œä¿®æ”¹çš„ï¼Œå¯ä»¥å¯¹æ¯”ç€çœ‹ã€‚</p></li><li><p>æœ€å¥½ä¸è¦ä½¿ç”¨ä¸­æ–‡ï¼Œ<code>bat</code>è„šæœ¬æœ‰æ—¶å€™ä¼šå› ä¸ºç¼–ç é—®é¢˜å¯¼è‡´è¿è¡Œä¸æ­£å¸¸ï¼Œå¯å°†å…¶è½¬æ¢ä¸º<code>ASCII</code>ç¼–ç ï¼Œ<code>VsCode</code>é»˜è®¤ä¿å­˜ä¸º<code>UTF-8</code>ã€‚</p><p>@echo off<br />title qmake and nmake build prompt<br />@REM set MINGW_PATH=D:\Programs\Qt\5.15.2\mingw81_64<br />set MINGW_PATH=D:\Programs\Qt\Tools\mingw810_64<br />set QT_DIR=D:\Programs\Qt\5.15.2\mingw81_64<br />@REM set BUILD_DIR=%cd%\build<br />set BUILD_DIR=%cd%..\build-QtCreatorQMakeMinGw-Desktop_Qt_5_15_2_MinGW_64_bit<br />set PRO_DIR=%cd%<br />set PATH=%MINGW_PATH%\bin;%QT_DIR%\bin;%PATH%</p><p>if not exist %BUILD_DIR% (<br />md %BUILD_DIR%<br />)</p><p>cd %BUILD_DIR%<br />qmake.exe %PRO_DIR%\QtCreatorQMakeMinGw.pro -spec win32-g++ â€œCONFIG+=debugâ€ â€œCONFIG+=consoleâ€<br />if exist %BUILD_DIR%\debug\QtCreatorQMakeMinGw.exe del %BUILD_DIR%\debug\QtCreatorQMakeMinGw.exe<br />@REM D:\Programs\Qt\Tools\QtCreator\bin\jom.exe -j4<br />%MINGW_PATH%\bin\mingw32-make -f Makefile.Debug<br />cd debug<br />if not exist %BUILD_DIR%\debug\Qt5Core.dll (<br />windeployqt %BUILD_DIR%\debug\QtCreatorQMakeMinGw.exe<br />)</p></li></ul></li><li><p>å†ä¿®æ”¹ <code>./.vscode/launch.json</code>æ–‡ä»¶ï¼Œè®¾ç½®è¿è¡Œæ–‡ä»¶è·¯å¾„</p><pre><code>&#123;    &quot;version&quot;: &quot;0.2.0&quot;,    &quot;configurations&quot;: [        &#123;            &quot;name&quot;: &quot;debug&quot;,            &quot;type&quot;: &quot;cppdbg&quot;,            &quot;request&quot;: &quot;launch&quot;,            // &quot;program&quot;: &quot;$&#123;workspaceRoot&#125;/build/debug/VsCodeQMakeMinGw.exe&quot;,            &quot;program&quot;: &quot;$&#123;workspaceRoot&#125;/../build-QtCreatorQMakeMinGw-Desktop_Qt_5_15_2_MinGW_64_bit/debug/QtCreatorQMakeMinGw.exe&quot;,            &quot;args&quot;: [],            &quot;stopAtEntry&quot;: false,            &quot;cwd&quot;: &quot;$&#123;workspaceRoot&#125;&quot;,            &quot;environment&quot;: [],            &quot;externalConsole&quot;: false,            &quot;MIMode&quot;: &quot;gdb&quot;,            // ä¿®æ”¹gdbè·¯å¾„            // &quot;miDebuggerPath&quot;: &quot;D:/Programs/Qt/5.15.2/mingw81_64/bin/gdb.exe&quot;,            &quot;miDebuggerPath&quot;: &quot;D:/Programs/Qt/Tools/mingw810_64/bin/gdb.exe&quot;,            &quot;setupCommands&quot;: [                &#123;                    &quot;description&quot;: &quot;Enable pretty-printing for gdb&quot;,                    &quot;text&quot;: &quot;-enable-pretty-printing&quot;,                    &quot;ignoreFailures&quot;: true                &#125;            ],            &quot;preLaunchTask&quot;: &quot;debug&quot;        &#125;    ]&#125;</code></pre></li><li><p>ç‰¹åˆ«è¯´æ˜ï¼š<code>Qt</code>çš„<code>.pro</code>å·¥ç¨‹ä½¿ç”¨çš„æ˜¯å½±å­æ„å»ºï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯<code>build-QtCreatorQMakeMinGw-Desktop_Qt_5_15_2_MinGW_64_bit</code>ï¼Œè‹¥æ˜¯è‡ªå®šä¹‰æ„å»ºè¾“å‡ºè·¯å¾„ï¼Œä»¥åŠä¸­é—´ç”Ÿæˆå‚æ•°è¯·ï¼Œæ ¹æ®å®é™…è·¯å¾„åšä¿®æ”¹ã€‚</p></li><li><p>é¡¹ç›®æ„å»ºç¼–è¯‘è¿è¡Œå‚è€ƒï¼Œè¿è¡Œæ•ˆæœå¦‚ä¸‹</p><p><img src="4cca0813a100421b834e162f78829727.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li></ul><h3 id="qtcreatorqmakemsvc-vscode"><a class="markdownIt-Anchor" href="#qtcreatorqmakemsvc-vscode"></a> QtCreator+QMake+Msvc-&gt;VsCode</h3><ul><li><p><code>Qt5.15.2 + QtCreator12.0.1 + VsCode1.93.0 + msvc2015</code></p></li><li><p>ä½¿ç”¨<code>QtCreator</code>åˆ›å»ºä¸€ä¸ªä»¥<code>Msvc</code>ä¸ºæ„å»ºå¥—ä»¶ï¼Œ<code>QMake</code>ä¸ºæ„å»ºå·¥å…·çš„å·¥ç¨‹ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸º<code>VsCode</code>å·¥ç¨‹ï¼Œå¹¶åœ¨<code>VsCode</code>ä¸­è¿›è¡Œç¼–è¾‘ç¼–è¯‘å¹¶è¿è¡Œã€‚ï¼ˆè¿™é‡Œä¸å†èµ˜è¿°<code>QtCreator</code>å·¥ç¨‹çš„åˆ›å»ºï¼‰</p></li><li><p>åœ¨QtCreator+QMake+MinGw-&gt;VsCodeæˆ‘ä»¬å·²ç»è¯´æ˜<code>QtCreator</code>åˆ°<code>VsCode</code>æ“ä½œçš„åŸºæœ¬åŸç†ï¼Œå°±ä¸åœ¨è¿›è¡Œè¯´æ˜äº†ã€‚</p></li><li><p>åŒæ ·æˆ‘ä»¬æ‹·è´VsCode+QMake+Msvcå·¥ç¨‹åˆ›å»ºçš„<code>.vscode</code>å’Œ<code>scripts</code>æ–‡ä»¶å¤¹åˆ°<code>QtCreator</code>é¡¹ç›®ä¸­ã€‚</p></li><li><p>ä¿®æ”¹<code>./scripts/build_debug.bat</code>è„šæœ¬</p><ul><li><p>è¿™é‡Œæ˜¯VsCode+QMake+Msvcå·¥ç¨‹åˆ›å»ºçš„è„šæœ¬è¿›è¡Œä¿®æ”¹çš„ï¼Œå¯ä»¥å¯¹æ¯”ç€çœ‹ã€‚</p><p>@echo off</p><p>set QT_DIR=D:\Programs\Qt\5.15.2\msvc2015_64<br />set SRC_DIR=%cd%<br />@REM set BUILD_DIR=%cd%\build<br />set BUILD_DIR=%cd%..\build-QtCreatorQMakeMsvc-Desktop_Qt_5_15_2_MSVC2015_64bit</p><p>if not exist %QT_DIR% exit<br />if not exist %SRC_DIR% exit<br />if not exist %BUILD_DIR% md %BUILD_DIR%</p><p>cd %BUILD_DIR%</p><p>call â€œD:\Program Files (x86)\Microsoft Visual Studio 14.0\VC\vcvarsall.batâ€ x64</p><p>%QT_DIR%\bin\qmake.exe %SRC_DIR%\QtCreatorQMakeMsvc.pro -spec win32-msvc  â€œCONFIG+=debugâ€ â€œCONFIG+=consoleâ€<br />if exist %BUILD_DIR%\debug\QtCreatorQMakeMsvc.exe del %BUILD_DIR%\debug\QtCreatorQMakeMsvc.exe<br />nmake Debug<br />if not exist %BUILD_DIR%\debug\Qt5Cored.dll (<br />%QT_DIR%\bin\windeployqt.exe %BUILD_DIR%\debug\QtCreatorQMakeMsvc.exe<br />)</p></li></ul></li><li><p>ä¿®æ”¹ <code>./.vscode/launch.json</code>æ–‡ä»¶ï¼Œè®¾ç½®è¿è¡Œæ–‡ä»¶è·¯å¾„</p><pre><code>&#123;    &quot;version&quot;: &quot;0.2.0&quot;,    &quot;configurations&quot;: [        &#123;            &quot;name&quot;: &quot;Launch&quot;,            &quot;type&quot;: &quot;cppvsdbg&quot;,            &quot;request&quot;: &quot;launch&quot;,            // &quot;program&quot;: &quot;$&#123;workspaceRoot&#125;/build/debug/VsCodeQMakeMsvc.exe&quot;,            &quot;program&quot;: &quot;$&#123;workspaceRoot&#125;/../build-QtCreatorQMakeMsvc-Desktop_Qt_5_15_2_MSVC2015_64bit/debug/QtCreatorQMakeMsvc.exe&quot;,            &quot;args&quot;: [],            &quot;stopAtEntry&quot;: false,            &quot;cwd&quot;: &quot;$&#123;workspaceRoot&#125;&quot;,            &quot;environment&quot;: [],            &quot;console&quot;: &quot;integratedTerminal&quot;,            &quot;preLaunchTask&quot;: &quot;debug&quot;        &#125;    ]&#125;</code></pre></li><li><p>é¡¹ç›®æ„å»ºç¼–è¯‘è¿è¡Œå‚è€ƒï¼Œè¿è¡Œæ•ˆæœ</p><p><img src="69c419da201c415091045b732a14ee61.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li></ul><h3 id="qtcreatorcmakemingw-vscode"><a class="markdownIt-Anchor" href="#qtcreatorcmakemingw-vscode"></a> QtCreator+CMake+MinGw-&gt;VsCode</h3><ul><li><p><code>Qt5.15.2 + QtCreator12.0.1 + VsCode1.93.0 + CMake3.28.0-rc3 + mingw81_64</code></p></li><li><p>ä½¿ç”¨QtCreatoråˆ›å»ºä»¥MinGwä¸ºæ„å»ºå¥—ä»¶ï¼ŒCMakeä¸ºæ„å»ºå·¥å…·çš„é¡¹ç›®ï¼Œå¹¶ä½¿ç”¨VsCodeæ‰“å¼€</p></li><li><p>è¿è¡Œ<br /><img src="cad89c2697ba4df2bacd663bbf68e64d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>é€‰æ‹©å¯¹åº”ç¼–è¯‘å™¨ï¼ˆç¬¬ä¸€æ¬¡æ—¶é€‰æ‹©ï¼‰ï¼Œä¼šè‡ªåŠ¨ç¼–è¯‘ç”Ÿæˆé¡¹ç›®ã€‚</p><p><img src="5ae5d39333134b4981488ce3b6931837.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><ul><li><p>å†æ¬¡ç‚¹å‡»è¿è¡Œï¼Œä¼šé€‰æ‹©å¯åŠ¨ç›®æ ‡ï¼Œä¸€èˆ¬æ˜¯ç¬¬ä¸€ä¸ªã€‚ï¼ˆè¿™é‡Œæ²¡æœ‰æˆªåˆ°å›¾å¯å‚è€ƒQtCreator+CMake+Msvc-&gt;VsCodeï¼‰</p></li><li><p>è¿è¡Œæ•ˆæœ</p><p><img src="19a37541c5df4ff7add29f847f2edbb0.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li></ul></li></ul><h3 id="qtcreatorcmakemsvc-vscode"><a class="markdownIt-Anchor" href="#qtcreatorcmakemsvc-vscode"></a> QtCreator+CMake+Msvc-&gt;VsCode</h3><ul><li><p><code>Qt5.15.2 + QtCreator12.0.1 + VsCode1.93.0 + CMake3.28.0-rc3 + msvc2015</code></p></li><li><p>ä½¿ç”¨QtCreatoråˆ›å»ºä»¥Msvcä¸ºæ„å»ºå¥—ä»¶ï¼ŒCMakeä¸ºæ„å»ºå·¥å…·çš„é¡¹ç›®ï¼Œå¹¶ä½¿ç”¨VsCodeæ‰“å¼€</p><p><img src="40854671748443afa6b9d7dec18adc23.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>ç‚¹å‡»è¿è¡Œï¼Œé€‰æ‹©å¯¹åº”ç¼–è¯‘å™¨ï¼ˆç¬¬ä¸€æ¬¡æ—¶é€‰æ‹©ï¼‰ï¼Œä¼šè‡ªåŠ¨ç¼–è¯‘ç”Ÿæˆé¡¹ç›®ã€‚</p><p><img src="c6ad672af18545e7a5db11a5b1017155.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>å†æ¬¡ç‚¹å‡»è¿è¡Œï¼Œä¼šé€‰æ‹©å¯åŠ¨ç›®æ ‡ï¼Œä¸€èˆ¬æ˜¯ç¬¬ä¸€ä¸ªã€‚</p><p><img src="bc9b54caef894a4c90b396d69d9cc30a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>è¿è¡Œæ•ˆæœ<br /><img src="aaad6c7125f746b4a787eb3f405cfe37.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li></ul><h3 id="è„šæœ¬å’Œé…ç½®çš„é€šç”¨åŒ–"><a class="markdownIt-Anchor" href="#è„šæœ¬å’Œé…ç½®çš„é€šç”¨åŒ–"></a> è„šæœ¬å’Œé…ç½®çš„é€šç”¨åŒ–</h3><h4 id="vscodeqmake"><a class="markdownIt-Anchor" href="#vscodeqmake"></a> VsCode+QMake</h4><ul><li><p>ä¼˜åŒ–è„šæœ¬ï¼Œé€‚é…ä»QtCtratoråˆ›å»ºçš„å·¥ç¨‹ï¼Œé€‚åˆä½¿ç”¨Qtå½±å­æ„å»ºç”Ÿæˆçš„æ„å»ºè·¯å¾„ã€‚</p></li><li><p>åªéœ€è¦è®¾ç½®ç¼–è¯‘å™¨è·¯å¾„ï¼Œç¼–è¯‘debugè¿˜æ˜¯releaseï¼Œå·¥ç¨‹åç§°TARGET_NAMEï¼Œä»¥åŠå½“å‰ç¼–è¯‘å™¨æ˜¯å¦æ˜¯Msvc</p><p>@echo off<br />title qmake and nmake build prompt</p><p>set TARGET_NAME=VsCodeQMake<br />set BUILD_NAME=debug<br />set IS_MSVC=1<br />if %IS_MSVC%==1 ( set QT_DIR=D:\Programs\Qt\5.15.2\msvc2015_64<br />) else ( set QT_DIR=D:\Programs\Qt\5.15.2\mingw81_64<br />)<br />set PRO_DIR=%cd%</p><p>for %%A in (â€œ%QT_DIR%â€) do (set â€œQT_KIT_NAME=%%~nxAâ€)<br />for %%A in (â€œ%QT_DIR%..â€) do (set â€œQT_VERSION=%%~nxAâ€)<br />set â€œQT_VERSION=%QT_VERSION:.=_%â€</p><p>echo %QT_KIT_NAME%| findstr /i â€œmsvcâ€&gt;nul<br />if errorlevel 1 ( set QT_KIT_STR=MinGW<br />set IS_MSVC=0<br />) else ( set QT_KIT_STR=%QT_KIT_NAME:~0,-3%<br />set IS_MSVC=1<br />for %%i in (A B C D E F G H I J K L M N O P Q R S T U V W X Y Z) do call set QT_KIT_STR=%%QT_KIT_STR:%%i=%%i%%<br />)</p><p>echo %QT_KIT_NAME%| findstr /i â€œ64â€ &gt;nul<br />if errorlevel 1 ( set BIT_STR=32bit) else ( set BIT_STR=64bit)<br />set QT_KIT_STR=Desktop_Qt_%QT_VERSION%<em>%QT_KIT_STR%</em>%BIT_STR%<br />set BUILD_DIR=%PRO_DIR%/â€¦/build-%TARGET_NAME%-%QT_KIT_STR%</p><p>set FIRST_CHAR=%BUILD_NAME:~0,1%<br />for %%i in (A B C D E F G H I J K L M N O P Q R S T U V W X Y Z) do call set FIRST_CHAR=%%FIRST_CHAR:%%i=%%i%%<br />set BUILD_NAME_U=%FIRST_CHAR%%BUILD_NAME:~1%</p><p>if not exist â€œ%QT_DIR%â€ exit<br />if not exist â€œ%PRO_DIR%â€ exit<br />if not exist â€œ%BUILD_DIR%â€ (<br />md â€œ%BUILD_DIR%â€<br />)</p><p>if %BUILD_NAME%==â€œdebugâ€( set CONFIG_STR=â€œCONFIG+=%BUILD_NAME%â€ â€œCONFIG+=consoleâ€) else(set CONFIG_STR=â€œCONFIG+=%BUILD_NAME%â€)</p><p>cd â€œ%BUILD_DIR%â€<br />if %IS_MSVC%==1 ( goto build_msvc) else ( goto build_mingw)</p><p>:build_msvc<br />call â€œD:\Program Files (x86)\Microsoft Visual Studio 14.0\VC\vcvarsall.batâ€ x64<br />%QT_DIR%\bin\qmake.exe %PRO_DIR%%TARGET_NAME%.pro -spec win32-msvc %CONFIG_STR%<br />set TARGET_NAME_ALL=%BUILD_DIR%%BUILD_NAME%%TARGET_NAME%.exe<br />if exist â€œ%TARGET_NAME_ALL%â€ del â€œ%TARGET_NAME_ALL%â€<br />nmake %BUILD_NAME_U%<br />goto end</p><p>:build_mingw<br />set MINGW_PATH=%QT_DIR%....\Tools%QT_KIT_NAME:<sub>0,7%0%QT_KIT_NAME:</sub>-3%<br />set PATH=%MINGW_PATH%\bin;%QT_DIR%\bin;%PATH%</p><p>%QT_DIR%\bin\qmake.exe %PRO_DIR%%TARGET_NAME%.pro -spec win32-g++ %CONFIG_STR%<br />set TARGET_NAME_ALL=%BUILD_DIR%%BUILD_NAME%%TARGET_NAME%.exe<br />if exist â€œ%TARGET_NAME_ALL%â€ del â€œ%TARGET_NAME_ALL%â€<br />@REM D:\Programs\Qt\Tools\QtCreator\bin\jom.exe -j4<br />%MINGW_PATH%\bin\mingw32-make -f Makefile.%BUILD_NAME_U%<br />goto end</p><p>:end<br />if not exist %BUILD_DIR%%BUILD_NAME%\Qt5Cored.dll (<br />%QT_DIR%\bin\windeployqt.exe â€œ%TARGET_NAME_ALL%â€<br />)</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonåŒ…ç®¡ç†ç¥å™¨ã€uvã€‘è¯¦è§£</title>
      <link href="/2025/08/13/Python/python%E5%8C%85%E7%AE%A1%E7%90%86%E7%A5%9E%E5%99%A8%E3%80%90uv%E3%80%91%E8%AF%A6%E8%A7%A3/"/>
      <url>/2025/08/13/Python/python%E5%8C%85%E7%AE%A1%E7%90%86%E7%A5%9E%E5%99%A8%E3%80%90uv%E3%80%91%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<h2 id="1-uvç®€ä»‹ä¸å®‰è£…"><a class="markdownIt-Anchor" href="#1-uvç®€ä»‹ä¸å®‰è£…"></a> 1 uvç®€ä»‹ä¸å®‰è£…</h2><h3 id="11-uvä½œç”¨"><a class="markdownIt-Anchor" href="#11-uvä½œç”¨"></a> 1.1 uvä½œç”¨</h3><p>ç”±<code>Rust</code>ç¼–å†™ã€‚ä½œç”¨ï¼šç®¡ç†pythonç‰ˆæœ¬ã€ç®¡ç†é¡¹ç›®ã€ç®¡ç†åŒ…<strong>ç­‰ä½œç”¨</strong>ã€‚</p><blockquote><p>åŸè¯ï¼šğŸš€ A single tool to replace pip, pip-tools, pipx, poetry, pyenv, twine, virtualenv, and more.</p></blockquote><p>ç‰¹ç‚¹ï¼š<strong>å¿«</strong>ã€‚<br />å®˜ç½‘æ–‡æ¡£ï¼š<a href="https://docs.astral.sh/uv/">https://docs.astral.sh/uv/</a></p><p><strong>ï¼ï¼æ³¨ï¼šuvå·¥å…·.zipåŒ…å«: <code>uv.exe</code>, <code>uvx.exe</code>, <code>uvw.exe</code></strong></p><h3 id="12-å®‰è£…"><a class="markdownIt-Anchor" href="#12-å®‰è£…"></a> 1.2 å®‰è£…</h3><h4 id="æ–¹å¼ä¸€githubreleaseé¡µä¸‹è½½"><a class="markdownIt-Anchor" href="#æ–¹å¼ä¸€githubreleaseé¡µä¸‹è½½"></a> æ–¹å¼ä¸€ï¼šgithub/releaseé¡µä¸‹è½½ã€‚</h4><ul><li><a href="https://github.com/astral-sh/uv/releases">https://github.com/astral-sh/uv/releases</a>é€‰æ‹©ç¬¦åˆç³»ç»Ÿçš„ç‰ˆæœ¬ä¸‹è½½å¹¶è§£å‹ã€‚</li><li>æ·»åŠ ä¸‹è½½è·¯å¾„åˆ°ç¯å¢ƒå˜é‡ï¼ˆwin+qåè¾“å…¥<code>ç¯å¢ƒå˜é‡</code>ï¼Œç¯å¢ƒå˜é‡ï¼‰<img src="2962863286404792940bc44f238ca647.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />è¯¥æ–¹å¼åç»­æ›´æ–°ï¼Œä¸‹è½½æ–°ç‰ˆæœ¬ï¼Œè§£å‹è¦†ç›–ã€‚</li></ul><h4 id="æ–¹å¼äºŒå‘½ä»¤è¡Œå®‰è£…win"><a class="markdownIt-Anchor" href="#æ–¹å¼äºŒå‘½ä»¤è¡Œå®‰è£…win"></a> æ–¹å¼äºŒï¼šå‘½ä»¤è¡Œå®‰è£…(win)</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">powershell <span class="literal">-ExecutionPolicy</span> ByPass <span class="literal">-c</span> <span class="string">&quot;irm https://astral.sh/uv/install.ps1 | iex&quot;</span></span><br></pre></td></tr></table></figure><p>è¯¥æ–¹å¼åç»­æ›´æ–°ï¼Œç»ˆç«¯è¿è¡Œï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv self update</span><br></pre></td></tr></table></figure><h4 id="æ–¹å¼ä¸‰pypiå®‰è£…"><a class="markdownIt-Anchor" href="#æ–¹å¼ä¸‰pypiå®‰è£…"></a> æ–¹å¼ä¸‰ï¼špypiå®‰è£…</h4><ul><li><code>pipx install uv</code>æˆ–<code>pip install uv</code>ã€‚å»ºè®®ç”¨pipx</li><li>æ›´æ–°ï¼š<code>pip install --upgrade uv</code></li></ul><h4 id="ç¡®è®¤å®‰è£…æˆåŠŸ"><a class="markdownIt-Anchor" href="#ç¡®è®¤å®‰è£…æˆåŠŸ"></a> ç¡®è®¤å®‰è£…æˆåŠŸ</h4><p>è¾“å…¥<code>uv self version</code>ï¼Œæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯å³å®Œæˆã€‚<img src="a0ed52cb70664bde9bd4f11ca946d8b6.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="13-å¸è½½"><a class="markdownIt-Anchor" href="#13-å¸è½½"></a> 1.3 å¸è½½</h3><ul><li>æ¸…ç¼“å­˜<code>uv cache clean</code></li><li>åˆ é™¤<code>%localappdata%/uv</code>ã€<code>%appdata%/uv</code>ã€<code>%userprofile%/.local</code></li></ul><h3 id="14-ç›¸å…³ç¯å¢ƒå˜é‡"><a class="markdownIt-Anchor" href="#14-ç›¸å…³ç¯å¢ƒå˜é‡"></a> 1.4 ç›¸å…³ç¯å¢ƒå˜é‡</h3><p><code>#1.2å®‰è£…</code>ä¸­ä»…è®¾ç½®äº†uvçš„ç¯å¢ƒå˜é‡ã€‚<br />è€Œé€šè¿‡uvå®‰è£…çš„å·¥å…·/pythonæ—¶ï¼Œå¯èƒ½ä¼šç”Ÿæˆä¸€ä¸ª.exeæ–‡ä»¶ä¾›uvä½¿ç”¨ã€‚ä¸ºäº†è®©uvèƒ½æ‰¾åˆ°ä»–è‡ªå·±ä¸‹è½½å·¥å…·æ—¶ç”Ÿæˆçš„.exeæ–‡ä»¶ï¼Œéœ€è¦å°†<code>%userprofile%/.local/bin</code>åŠ å…¥ç¯å¢ƒå˜é‡ã€‚</p><blockquote><p>ï¼å¯é€‰(æ¨è):</p><ul><li>è®¾ç½®ç¯å¢ƒå˜é‡<code>UV_PYTHON_INSTALL_BIN</code>=<code>false</code>ï¼šç”¨uvå®‰è£…pythonæ—¶ä¸ç”Ÿæˆé¢å¤–çš„python.exeã€‚</li><li>ä¸ä½¿ç”¨uv tool installå®‰è£…å·¥å…·ï¼Œè€Œæ˜¯ç”¨<code>uvx å·¥å…· å·¥å…·å‚æ•°</code>ï¼Œè¿™ä¼šå°†å·¥å…·å®‰è£…åˆ°ç¼“å­˜ä½ç½®ï¼Œé»˜è®¤ä¸º<code>%localappdata%/uv/cache</code>ã€‚å¯é€šè¿‡<code>UV_CACHE_DIR</code>ä¿®æ”¹ä½ç½®ã€‚<ul><li>(<code>uvx</code>ä¸º<code>uv tool run</code>åˆ«å)</li></ul></li><li>éµå¾ªä»¥ä¸Šä¸¤ç‚¹ï¼Œå¯ä»¥ä¸è®¾ç½®<code>%userprofile%/.local/bin</code>ç¯å¢ƒå˜é‡</li></ul></blockquote><h2 id="2-å‘½ä»¤å¸®åŠ©"><a class="markdownIt-Anchor" href="#2-å‘½ä»¤å¸®åŠ©"></a> 2 å‘½ä»¤å¸®åŠ©</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">uv</span><br><span class="line">uv <span class="built_in">help</span></span><br><span class="line">uv å‘½ä»¤ --<span class="built_in">help</span></span><br><span class="line">uv <span class="built_in">help</span> å‘½ä»¤</span><br></pre></td></tr></table></figure><p>å‡å¯ï¼Œé‡åˆ°ä¸ä¼šçš„å‘½ä»¤å¯éšæ—¶ä½¿ç”¨ä»¥ä¸Šæ¥æŸ¥çœ‹æç¤ºä¿¡æ¯ã€‚</p><h2 id="3-uvç®¡ç†pythonç‰ˆæœ¬"><a class="markdownIt-Anchor" href="#3-uvç®¡ç†pythonç‰ˆæœ¬"></a> 3 uvç®¡ç†pythonç‰ˆæœ¬</h2><p>ï¼ï¼æ³¨ï¼š</p><ul><li>é»˜è®¤å®‰è£…&amp;ç®¡ç†è·¯å¾„<code>%appdata%/uv/python</code></li><li>å¯é€šè¿‡ç¯å¢ƒå˜é‡<code>UV_PYTHON_INSTALL_DIR</code>ä¿®æ”¹pythonå®‰è£…çš„ä½ç½®</li><li>å¯é€šè¿‡å‘½ä»¤<code>uv python dir</code>æŸ¥çœ‹pythonå®‰è£…ç›®å½•ã€‚è¾“å‡ºç»“æœç­‰äºä»¥ä¸Šå˜é‡<code>UV_PYTHON_INSTALL_DIR</code></li></ul><h3 id="31-uv-python-liståˆ—å‡ºç‰ˆæœ¬"><a class="markdownIt-Anchor" href="#31-uv-python-liståˆ—å‡ºç‰ˆæœ¬"></a> 3.1 <code>uv python list</code>åˆ—å‡ºç‰ˆæœ¬</h3><p>åˆ—å‡ºå½“å‰çš„pythonç‰ˆæœ¬ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ—å‡ºå½“å‰ã€å·²å®‰è£…ã€‘çš„pythonç‰ˆæœ¬</span></span><br><span class="line">uv python list --only-installed</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ—å‡ºã€å¯å®‰è£…ã€‘çš„pythonç‰ˆæœ¬</span></span><br><span class="line">uv python list --only-downloads</span><br></pre></td></tr></table></figure><h3 id="32-uv-python-installå®‰è£…python"><a class="markdownIt-Anchor" href="#32-uv-python-installå®‰è£…python"></a> 3.2 <code>uv python install</code>å®‰è£…python</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å®‰è£…æœ€æ–°ç‰ˆpythonï¼Œå¦‚æœå·²å®‰è£…æœ‰python(æ— è®ºæ˜¯å¦æœ€æ–°)ï¼Œåˆ™ä¸è¿è¡Œã€‚</span></span><br><span class="line">uv python install</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…3.13ç‰ˆæœ¬python(é»˜è®¤CPython)</span></span><br><span class="line">uv python install 3.13</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…3.10ç‰ˆæœ¬pypy</span></span><br><span class="line">uv python install pypy@3.10</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒæ—¶å®‰è£…å¤šä¸ªç‰ˆæœ¬python, ç”¨ç©ºæ ¼åˆ†éš”</span></span><br><span class="line">uv python install 3.11 pypy@3.10 cpython@3.7</span><br><span class="line"><span class="comment"># ä¼šåŒæ—¶å®‰è£…cpython3.11 pypy3.10 cpython3.7ä¸‰ä¸ªç‰ˆæœ¬ã€‚</span></span><br></pre></td></tr></table></figure><blockquote><p>å¸è½½å°±æ˜¯æŠŠ<code>install</code>æ¢æˆ<code>uninstall</code>ï¼Œç•¥ã€‚</p></blockquote><h3 id="33-å…¨å±€å‚æ•°uv-python-å‚æ•°"><a class="markdownIt-Anchor" href="#33-å…¨å±€å‚æ•°uv-python-å‚æ•°"></a> 3.3 å…¨å±€å‚æ•°:<code>uv python --å‚æ•°</code></h3><p>æ‰€æœ‰<code>uv python [å‘½ä»¤]</code>éƒ½æ¥å—çš„å‚æ•°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä»…æ˜¾ç¤ºuvç®¡ç†çš„pythonç‰ˆæœ¬ï¼Œä¸æ˜¾ç¤ºç³»ç»Ÿå®‰è£…çš„pythonç‰ˆæœ¬ã€‚</span></span><br><span class="line">uv python [å‘½ä»¤] --managed-python</span><br><span class="line"><span class="comment"># å’Œä¸Šä¸€ä¸ªç›¸åã€‚ä»…æ˜¾ç¤ºç³»ç»Ÿå®‰è£…ç‰ˆæœ¬ã€‚</span></span><br><span class="line">uv python [å‘½ä»¤] --no-managed-python</span><br></pre></td></tr></table></figure><h2 id="4-uvè¿è¡Œå•ä¸ªè„šæœ¬"><a class="markdownIt-Anchor" href="#4-uvè¿è¡Œå•ä¸ªè„šæœ¬"></a> 4 uvè¿è¡Œå•ä¸ªè„šæœ¬</h2><h3 id="41-uv-run-pyæ–‡ä»¶"><a class="markdownIt-Anchor" href="#41-uv-run-pyæ–‡ä»¶"></a> 4.1 <code>uv run .pyæ–‡ä»¶</code></h3><p>ä»¥æŒ‡å®šç‰ˆæœ¬pythonè¿è¡Œ.pyæ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä»¥é»˜è®¤pythonè¿è¡Œstart.py</span></span><br><span class="line">uv run start.py</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»¥æŒ‡å®šç‰ˆæœ¬pythonè¿è¡Œ.pyæ–‡ä»¶</span></span><br><span class="line">uv run -p 3.12 start.py</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¦‚æœpyæ–‡ä»¶åŒ…å«è‡ªå¸¦æ ‡å‡†åº“ä»¥å¤–çš„åº“ï¼Œåˆ™éœ€é¢å¤–æ·»åŠ å‚æ•°</span></span><br><span class="line"><span class="comment">#ä»¥requestsï¼ˆç¬¬ä¸‰æ–¹åŒ…ï¼‰ä¸ºä¾‹ï¼š</span></span><br><span class="line">uv run --with requests app.py</span><br></pre></td></tr></table></figure><p>uvä¼šå…ˆä¸‹è½½flaskåº“ï¼Œ<a href="http://xn--app-u33ex64kg72a18k.py">ç„¶åè¿è¡Œapp.py</a>ã€‚åº“ä¼šä¸‹è½½åˆ°<code>uv cache dir</code>ä½ç½®ï¼Œé»˜è®¤ä¸º<code>%localappdata%/uv/cache</code></p><h3 id="42-uv-init-script"><a class="markdownIt-Anchor" href="#42-uv-init-script"></a> 4.2 <code>uv init --script</code></h3><p>åˆ›å»ºexample.pyè„šæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºä»¥py3.12è¿è¡Œçš„è„šæœ¬example.py</span></span><br><span class="line">uv init --script example.py --python 3.12</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœè„šæœ¬ä¸­éœ€è¦å¼•å…¥ç¬¬ä¸‰æ–¹åº“&#x27;requests&#x27; å’Œ &#x27;rich&#x27;ï¼š</span></span><br><span class="line">uv add --script example.py <span class="string">&#x27;requests&lt;3&#x27;</span> <span class="string">&#x27;rich&#x27;</span></span><br></pre></td></tr></table></figure><p>example.pyå¼€å¤´ä¼šè‡ªåŠ¨åŒ…å«ä»¥ä¸‹ï¼š<img src="cd3a545ca92546d28cf6910f245e327d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="43-uv-lock-script"><a class="markdownIt-Anchor" href="#43-uv-lock-script"></a> 4.3 <code>uv lock --script</code></h3><p>é”å®šä¾èµ–</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é”å®šè„šæœ¬example.pyçš„ä¾èµ–</span></span><br><span class="line">uv lock --script example.py</span><br></pre></td></tr></table></figure><p>è¿è¡Œåï¼Œä¼šåˆ›å»ºåŒå.lockæ–‡ä»¶ã€‚é”å®šä¹‹åï¼Œå¦‚æœå†æ¬¡è¿è¡Œ<code>uv add --script``uv remove --script</code>ç­‰å‘½ä»¤ï¼Œ.lockæ–‡ä»¶å¯èƒ½ä¼šåŒæ ·è·Ÿæ–°ã€‚</p><h2 id="5-uvç®¡ç†é¡¹ç›®"><a class="markdownIt-Anchor" href="#5-uvç®¡ç†é¡¹ç›®"></a> 5 uvç®¡ç†é¡¹ç›®</h2><p>é€šè¿‡pycharmå¯ç®€åŒ–<code>5.1</code>, <code>5.2</code>ä¸¤æ­¥<img src="7ae629e0adee4e6b98e70e9817f76df7.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="51-åˆå§‹åŒ–é¡¹ç›®"><a class="markdownIt-Anchor" href="#51-åˆå§‹åŒ–é¡¹ç›®"></a> 5.1 åˆå§‹åŒ–é¡¹ç›®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºåä¸º`auto`çš„æ–‡ä»¶å¤¹å¹¶åˆå§‹åŒ–</span></span><br><span class="line">uv init auto</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–å½“å‰ç›®å½•</span></span><br><span class="line">uv init</span><br></pre></td></tr></table></figure><p><code>uv init audo</code> = åˆ›å»ºautoæ–‡ä»¶å¤¹ + è¿›å…¥autoæ–‡ä»¶å¤¹ + åœ¨autoå†…è¿è¡Œ<code>uv init</code><br />åˆå§‹åŒ–ååŒ…å«æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Â·</span><br><span class="line">â”œâ”€â”€ .python-version</span><br><span class="line">â”œâ”€â”€ README.md</span><br><span class="line">â”œâ”€â”€ main.py</span><br><span class="line">â””â”€â”€ pyproject.toml</span><br></pre></td></tr></table></figure><h3 id="52-æ·»åŠ è™šæ‹Ÿç¯å¢ƒ"><a class="markdownIt-Anchor" href="#52-æ·»åŠ è™šæ‹Ÿç¯å¢ƒ"></a> 5.2 æ·»åŠ è™šæ‹Ÿç¯å¢ƒ</h3><p>åœ¨é¡¹ç›®å†…ï¼Œè¿è¡Œ<code>uv run</code>ã€<code>uv lock</code>ã€<code>uv sync</code>ç­‰å‘½ä»¤æ—¶ï¼Œä¼š<strong>è‡ªåŠ¨</strong>åˆ›å»º<code>uv.lock</code>ã€<code>.venv</code>æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ .venv</span><br><span class="line">â”‚   â”œâ”€â”€ bin</span><br><span class="line">â”‚   â”œâ”€â”€ lib</span><br><span class="line">â”‚   â””â”€â”€ pyvenv.cfg</span><br><span class="line">â”œâ”€â”€ .python-version</span><br><span class="line">â”œâ”€â”€ README.md</span><br><span class="line">â”œâ”€â”€ main.py</span><br><span class="line">â”œâ”€â”€ pyproject.toml</span><br><span class="line">â””â”€â”€ uv.lock</span><br></pre></td></tr></table></figure><p><em>pycharmæ–°å»ºé¡¹ç›®æ—¶é€‰æ‹©<code>uv</code>ï¼Œè‡ªåŠ¨åˆ›å»º<code>.venv</code>å’Œ<code>pyproject.toml</code></em></p><h3 id="53-é¡¹ç›®æ–‡ä»¶"><a class="markdownIt-Anchor" href="#53-é¡¹ç›®æ–‡ä»¶"></a> 5.3 é¡¹ç›®æ–‡ä»¶</h3><h4 id="pyprojecttoml"><a class="markdownIt-Anchor" href="#pyprojecttoml"></a> <code>pyproject.toml</code></h4><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://packaging.python.org/en/latest/guides/writing-pyproject-toml/">https://packaging.python.org/en/latest/guides/writing-pyproject-toml/</a><br />åŒ…å«é¡¹ç›®ç›¸å…³é…ç½®æ•°æ®ã€‚</p><h4 id="python-version"><a class="markdownIt-Anchor" href="#python-version"></a> <code>.python-version</code></h4><p><code>.python-version</code>æ–‡ä»¶åŒ…å«é¡¹ç›®çš„é»˜è®¤Pythonç‰ˆæœ¬ã€‚è¯¥æ–‡ä»¶å‘Šè¯‰uvåœ¨åˆ›å»ºé¡¹ç›®è™šæ‹Ÿç¯å¢ƒæ—¶ä½¿ç”¨å“ªä¸ªPythonç‰ˆæœ¬ã€‚</p><h4 id="venv"><a class="markdownIt-Anchor" href="#venv"></a> <code>.venv</code></h4><p>è™šæ‹Ÿç¯å¢ƒï¼Œé¡¹ç›®å®‰è£…ä¾èµ–æ‰€åœ¨ç›®å½•</p><h4 id="uvlock"><a class="markdownIt-Anchor" href="#uvlock"></a> <code>uv.lock</code></h4><p><code>uv.lock</code>æ˜¯ä¸€ä¸ªè·¨å¹³å°çš„é”å®šæ–‡ä»¶ï¼Œå®ƒåŒ…å«å…³äºæ‚¨é¡¹ç›®ä¾èµ–å…³ç³»çš„ç²¾ç¡®ä¿¡æ¯ã€‚ä¸ç”¨äºæŒ‡å®šé¡¹ç›®å¹¿æ³›éœ€æ±‚çš„<code>pyproject.toml</code>ä¸åŒï¼Œé”å®šæ–‡ä»¶åŒ…å«åœ¨é¡¹ç›®ç¯å¢ƒä¸­å®‰è£…çš„ç¡®åˆ‡è§£æç‰ˆæœ¬ã€‚æ­¤æ–‡ä»¶åº”æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ä¸­ï¼Œä»¥ä¾¿åœ¨ä¸åŒæœºå™¨ä¸Šå®ç°ä¸€è‡´ä¸”å¯é‡ç°çš„å®‰è£…ã€‚ç”±uvç®¡ç†ï¼Œä¸åº”æ‰‹åŠ¨ç¼–è¾‘ã€‚<br />è¯¥æ–‡ä»¶ä»…ç”±uvä½¿ç”¨ï¼Œå…¶ä»–å·¥å…·æ— æ³•ä½¿ç”¨ã€‚</p><blockquote><p><code>pylock.toml</code><br />åœ¨<a href="https://peps.python.org/pep-0751/">PEP 751(ç‚¹å‡»è·³è½¬)</a>ä¸­ï¼ŒPythonæ ‡å‡†åŒ–äº†ä¸€ç§æ–°çš„è§£ææ–‡ä»¶æ ¼å¼ï¼Œå³pylock.tomlã€‚<br />pylock.tomlæ˜¯ä¸€ç§æ—¨åœ¨æ›¿ä»£requirements.txtï¼ˆä¾‹å¦‚ï¼Œåœ¨uv pip compileçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œä»ä¸€ç»„è¾“å…¥è¦æ±‚ç”Ÿæˆä¸€ä¸ªé”å®šçš„requirements.txtæ–‡ä»¶ï¼‰çš„è§£æè¾“å‡ºæ ¼å¼ã€‚pylock.tomlæ˜¯æ ‡å‡†åŒ–çš„ä¸”ä¸å·¥å…·æ— å…³ï¼Œå› æ­¤åœ¨æœªæ¥ï¼Œç”±uvç”Ÿæˆçš„pylock.tomlæ–‡ä»¶å¯ä»¥è¢«å…¶ä»–å·¥å…·å®‰è£…ï¼Œåä¹‹äº¦ç„¶ã€‚<br />uvçš„ä¸€äº›åŠŸèƒ½æ— æ³•ä»¥pylock.tomlæ ¼å¼è¡¨è¾¾ï¼›å› æ­¤ï¼Œuvå°†ç»§ç»­åœ¨é¡¹ç›®æ¥å£å†…ä½¿ç”¨uv.lockæ ¼å¼ã€‚<br />ç„¶è€Œï¼Œuvæ”¯æŒå°†pylock.tomlä½œä¸ºå¯¼å‡ºç›®æ ‡ä»¥åŠåœ¨uv pip CLIä¸­ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼š<br />è¦å°†uv.lockå¯¼å‡ºä¸ºpylock.tomlæ ¼å¼ï¼Œè¿è¡Œï¼š<code>uv export -o pylock.toml</code><br />è¦ä»ä¸€ç»„è¦æ±‚ç”Ÿæˆpylock.tomlæ–‡ä»¶ï¼Œè¿è¡Œï¼š<code>uv pip compile -o pylock.toml -r requirements.in</code><br />è¦ä»pylock.tomlæ–‡ä»¶å®‰è£…ï¼Œè¿è¡Œï¼š<code>uv pip sync pylock.tomlæˆ–uv pip install -r pylock.toml</code></p></blockquote><h3 id="54-å®‰è£…ä¾èµ–"><a class="markdownIt-Anchor" href="#54-å®‰è£…ä¾èµ–"></a> 5.4 å®‰è£…ä¾èµ–</h3><h4 id="uv-add-å®‰è£…åŒ…"><a class="markdownIt-Anchor" href="#uv-add-å®‰è£…åŒ…"></a> <code>uv add</code> å®‰è£…åŒ…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">uv add åº“å</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬çš„åº“</span></span><br><span class="line">uv add <span class="string">&#x27;requests==2.31.0&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»gitä»“åº“å¯¼å…¥åº“</span></span><br><span class="line">uv add git+https://github.com/psf/requests</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šé“¾æ¥å¯¼å…¥ã€‚æ”¯æŒåç¼€ï¼š&#x27;.tar.gz&#x27; ã€ &#x27;.whl&#x27; ã€ &#x27;.zip&#x27;ç­‰</span></span><br><span class="line">uv add <span class="string">&quot;https://files.pythonhosted.org/packages/5c/2d/3da5bdf4408b8b2800061c339f240c1802f2e82d55e50bd39c5a881f47f0/httpx-0.27.0.tar.gz&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ¬åœ°å…¶ä»–è·¯å¾„å¯¼å…¥åº“ã€‚æ”¯æŒåç¼€åŒä¸Šã€‚ç»å¯¹è·¯å¾„å’Œç›¸å¯¹è·¯å¾„å‡å¯ã€‚</span></span><br><span class="line">uv add /myPagePath/good-0.1.0.whl</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»¥requirments.txtæ–‡ä»¶æ‰¹é‡ä¸‹è½½</span></span><br><span class="line">uv add -r requirments.txt</span><br></pre></td></tr></table></figure><p>ä½œç”¨ï¼šä¸‹è½½ä¾èµ–é¡¹ã€åŒæ—¶æ›´æ–°<code>uv.lock</code>ã€<code>pyproject.toml</code>ã€‚<br /><strong>å¼ºçƒˆä¸å»ºè®®ä½¿ç”¨<code>uv pip install</code>ï¼ï¼ï¼<br /><code>uv add</code>=<code>uv pip install</code> + ç¼–è¾‘<code>pyproject.toml</code> + ç¼–è¾‘<code>uv.lock</code></strong></p><h4 id="uv-pip-list"><a class="markdownIt-Anchor" href="#uv-pip-list"></a> <code>uv pip list</code></h4><p>åˆ—ä¸¾å·²å®‰è£…çš„åŒ…<br /><code>uv tree</code> æ ‘çŠ¶å›¾æ˜¾ç¤ºé¡¹ç›®ä¾èµ–å…³ç³»</p><h4 id="uv-remove"><a class="markdownIt-Anchor" href="#uv-remove"></a> <code>uv remove</code></h4><p>ä½œç”¨ï¼šåˆ é™¤ä¾èµ–é¡¹ã€åŒæ—¶æ›´æ–°<code>uv.lock</code>ã€<code>pyproject.toml</code>ã€‚</p><h4 id="uv-lock-upgradeæ›´æ–°åŒ…"><a class="markdownIt-Anchor" href="#uv-lock-upgradeæ›´æ–°åŒ…"></a> <code>uv lock --upgrade</code>æ›´æ–°åŒ…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ›´æ–°æŒ‡å®šåŒ…åˆ°å…¼å®¹çš„æœ€æ–°ç‰ˆæœ¬ï¼ŒåŒæ—¶ä¸å½±å“å…¶ä»–åŒ…</span></span><br><span class="line">uv lock --upgrade-package requests</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°å¤šä¸ªåŒ…</span></span><br><span class="line">uv lock --upgrade-package åŒ…1 --upgrade-package åŒ…2</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°å…¨éƒ¨</span></span><br><span class="line">uv lock --upgrade</span><br></pre></td></tr></table></figure><p>å°è¯•å°†æŒ‡å®šçš„åŒ…æ›´æ–°åˆ°æœ€æ–°å…¼å®¹ç‰ˆæœ¬ï¼ŒåŒæ—¶ä¿ç•™é”å®šæ–‡ä»¶çš„å…¶ä½™éƒ¨åˆ†ä¸å˜ã€‚</p><h4 id="uv-sync"><a class="markdownIt-Anchor" href="#uv-sync"></a> <code>uv sync</code></h4><p>æ ¹æ®å½“å‰é¡¹ç›®çš„ä¾èµ–é…ç½®ï¼ˆå¦‚ <code>pyproject.toml</code> å’Œ <code>uv.lock</code> æ–‡ä»¶ï¼‰åŒæ­¥æ›´æ–°è™šæ‹Ÿç¯å¢ƒ<code>.venv</code></p><h4 id="æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ"><a class="markdownIt-Anchor" href="#æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ"></a> æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</h4><p>è¦åœ¨é¡¹ç›®ä¸­è¿è¡Œè„šæœ¬å’Œå‘½ä»¤è€Œä¸ä½¿ç”¨uv runï¼Œå¿…é¡»æ¿€æ´»è™šæ‹Ÿç¯å¢ƒã€‚è™šæ‹Ÿç¯å¢ƒçš„æ¿€æ´»å› shellå’Œå¹³å°è€Œå¼‚ã€‚</p><ul><li>bash:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> .venv\Scripts\activate</span><br><span class="line">flask --app main run -p 3000</span><br></pre></td></tr></table></figure><ul><li>powershell:</li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./.venv/scripts/activate.ps1</span><br><span class="line">flask <span class="literal">--app</span> main run <span class="literal">-p</span> <span class="number">3000</span></span><br></pre></td></tr></table></figure><ul><li>cmd</li></ul><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.venv\Scripts\activate.bat</span><br><span class="line">flask --app main run -p <span class="number">3000</span></span><br></pre></td></tr></table></figure><h3 id="55-åˆ©ç”¨è™šæ‹Ÿç¯å¢ƒä¸­pythonè¿è¡Œè„šæœ¬"><a class="markdownIt-Anchor" href="#55-åˆ©ç”¨è™šæ‹Ÿç¯å¢ƒä¸­pythonè¿è¡Œè„šæœ¬"></a> 5.5 åˆ©ç”¨è™šæ‹Ÿç¯å¢ƒä¸­pythonè¿è¡Œè„šæœ¬</h3><h4 id="uv-run-python-æŸæŸpy"><a class="markdownIt-Anchor" href="#uv-run-python-æŸæŸpy"></a> <code>uv run python æŸæŸ.py</code></h4><p>å‰æï¼šå­˜åœ¨ç›®å½•<code>.venv</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿è¡ŒæŒ‡å®šå‘½ä»¤</span></span><br><span class="line">uv run python -c <span class="string">&#x27;import sys;print(sys.executable)&#x27;</span></span><br><span class="line"><span class="comment"># è¾“å‡ºï¼šD:\Python\Project\auto\.venv\Scripts\python.exeã€‚</span></span><br><span class="line"><span class="comment"># ï¼å¯è§ç¡®å®ç”¨çš„è™šæ‹Ÿç¯å¢ƒä¸­çš„è§£é‡Šå™¨</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡ŒæŒ‡å®šè„šæœ¬</span></span><br><span class="line">uv run python main.py</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœä¸´æ—¶è¿è¡Œä¸€ä¸ªè„šæœ¬ï¼Œè„šæœ¬ä¸­æœ‰è¿˜åŒ…å«ã€æœªå®‰è£…çš„åŒ…ã€‘</span></span><br><span class="line">uv run --with httpx==0.26.0 python -c <span class="string">&quot;import httpx,sys; print(httpx.__version__);print(sys.executable)&quot;</span></span><br><span class="line"><span class="comment"># è¾“å‡ºï¼š0.26.0</span></span><br><span class="line"><span class="comment"># è¾“å‡ºï¼šC:\Users\myuer\AppData\Local\uv\cache\archive-v0\AvKaefqT2QIDzAksSYIBH\Scripts\python.exe</span></span><br><span class="line"><span class="comment"># ï¼--withå‚æ•°ä¼šä¸´æ—¶åˆ›å»ºä¸€ä¸ªã€é¢å¤–ã€‘çš„éš”ç¦»ç¯å¢ƒã€‚ä¸åœ¨.venvä¸­</span></span><br></pre></td></tr></table></figure><h4 id="uvlock-é”æ–‡ä»¶"><a class="markdownIt-Anchor" href="#uvlock-é”æ–‡ä»¶"></a> <code>uv.lock</code> é”æ–‡ä»¶</h4><p>è¿è¡Œ<code>uv run</code>æ—¶ï¼Œuvä¼šè‡ªåŠ¨æ›´æ–°<code>uv.lock</code>æ–‡ä»¶å¹¶æ›´æ–°ç¯å¢ƒ(å³è‡ªåŠ¨è¿è¡Œ<code>uv lock</code>+<code>uv sync</code>)<br />å¦‚æœ<code>uv.lock</code>æ–‡ä»¶ä¸æ˜¯æœ€æ–°çš„(å³<code>pyproject.toml</code>ä¸­æ‰‹åŠ¨æ·»åŠ äº†ä¸€ä¸ªä¾èµ–ï¼Œä½†<code>uv.lock</code>æœªæ·»åŠ )ï¼Œåˆ™ä¼šè¿”å›é”™è¯¯ï¼Œè€Œä¸æ˜¯è‡ªåŠ¨æ›´æ–°<code>uv.lock</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv lock --check</span><br></pre></td></tr></table></figure><p>æ£€æŸ¥é”æ–‡ä»¶æ˜¯å¦æœ€æ–°(æ˜¯å¦ä¸<code>pyproject.toml</code>åŒæ­¥)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv lock</span><br></pre></td></tr></table></figure><p>æ›´æ–°<code>é”æ–‡ä»¶uv.lock</code>ã€‚</p><h4 id="uv-sync-2"><a class="markdownIt-Anchor" href="#uv-sync-2"></a> <code>uv sync</code></h4><p>è™šæ‹Ÿç¯å¢ƒä¼šè‡ªåŠ¨æ›´æ–°ã€‚ä¹Ÿå¯ä»¥æ‰‹åŠ¨è¿è¡Œå‘½ä»¤<code>uv sync</code>æ¥æ›´æ–°ç¯å¢ƒã€‚<br />é”æ–‡ä»¶æ˜¯éå¸¸ç²¾ç¡®åœ°ï¼šå¦‚æœç¯å¢ƒä¸­å­˜åœ¨<code>uv.lock</code>æ–‡ä»¶ä¸­åˆ—è¡¨ä»¥å¤–çš„åŒ…ï¼Œå°†ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¦ä¿ç•™å¤šä½™çš„è½¯ä»¶åŒ…ï¼Œæ·»åŠ å‚æ•°<code>--inexact</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ›´æ–°ç¯å¢ƒï¼Œä½†ä¿ç•™å·²å­˜åœ¨çš„å¤šä½™çš„åŒ…(ä¸åœ¨uv.lockæè¿°ä¸­çš„åŒ…)</span></span><br><span class="line">uv <span class="built_in">sync</span> --inexact</span><br></pre></td></tr></table></figure><h4 id="å¯¼å‡ºä¾èµ–ä¸ºé€šç”¨æ ¼å¼"><a class="markdownIt-Anchor" href="#å¯¼å‡ºä¾èµ–ä¸ºé€šç”¨æ ¼å¼"></a> å¯¼å‡ºä¾èµ–ä¸ºé€šç”¨æ ¼å¼</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†uv.lockå¯¼å‡ºä¸ºrequirements.txtæ ¼å¼ï¼Œå¹¶ä¿å­˜åˆ°re.txtæ–‡ä»¶</span></span><br><span class="line">uv <span class="built_in">export</span> --format requirements.txt -o re.txt</span><br><span class="line"><span class="comment"># å¦‚æœå­˜åœ¨-oä¿å­˜åˆ°æ–‡ä»¶é€‰é¡¹ï¼Œå¯ç®€å†™</span></span><br><span class="line">uv <span class="built_in">export</span> -o re.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†uv.lockå¯¼å‡ºä¸ºpylock.tomlæ ¼å¼ï¼Œå¹¶ä¿å­˜åˆ°pylock.tomlæ–‡ä»¶</span></span><br><span class="line">uv <span class="built_in">export</span> --format pylock.toml -o pylock.toml</span><br><span class="line"><span class="comment"># å¦‚æœå­˜åœ¨-oä¿å­˜åˆ°æ–‡ä»¶é€‰é¡¹ï¼Œå¯ç®€å†™</span></span><br><span class="line">uv <span class="built_in">export</span> -o pylock.toml</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://docs.astral.sh/uv/concepts/projects/sync/#exporting-the-lockfile">å®˜æ–¹æ–‡æ¡£å¼•ç”¨(ç‚¹å‡»è·³è½¬)</a>ï¼šç”Ÿæˆçš„<code>requirements.txt</code>æ–‡ä»¶å¯ä»¥é€šè¿‡<code>uv pip install</code>å®‰è£…ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–å·¥å…·å¦‚pipæ¥å®‰è£…ã€‚<br />ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ä¸å»ºè®®åŒæ—¶ä½¿ç”¨<code>uv.loc</code>kå’Œ<code>requirements.txt</code>æ–‡ä»¶ã€‚å¦‚æœæ‚¨å‘ç°è‡ªå·±æ­£åœ¨å¯¼å‡º<code>uv.lock</code>æ–‡ä»¶ï¼Œè¯·è€ƒè™‘å¼€ä¸€ä¸ªissueæ¥è®¨è®ºæ‚¨çš„ç”¨ä¾‹ã€‚</p></blockquote><h2 id="6-æ„å»º"><a class="markdownIt-Anchor" href="#6-æ„å»º"></a> 6 æ„å»º</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv build</span><br></pre></td></tr></table></figure><p>uvæ„å»ºå¯ç”¨äºä¸ºæ‚¨çš„é¡¹ç›®æ„å»ºæºåˆ†å‘å’ŒäºŒè¿›åˆ¶åˆ†å‘ï¼ˆwheelï¼‰ã€‚<br />é»˜è®¤æƒ…å†µä¸‹ï¼Œuvæ„å»ºå°†åœ¨å½“å‰ç›®å½•ä¸­æ„å»ºé¡¹ç›®ï¼Œå¹¶å°†æ„å»ºçš„å·¥ä»¶æ”¾ç½®åœ¨dist/å­ç›®å½•ä¸­ã€‚<br />ç•¥ã€‚</p><blockquote><p>åœ¨å‘å¸ƒè½¯ä»¶åŒ…æ—¶ï¼Œæˆ‘ä»¬å»ºè®®è¿è¡Œ uv build --no-sources ä»¥ç¡®ä¿åœ¨ç¦ç”¨ tool.uv.sourcesï¼ˆä¾‹å¦‚ä½¿ç”¨å…¶ä»–æ„å»ºå·¥å…·ï¼Œå¦‚ pypa/buildï¼‰çš„æƒ…å†µä¸‹è½¯ä»¶åŒ…èƒ½å¤Ÿæ­£ç¡®åœ°æ„å»ºã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python ç¯å¢ƒç®¡ç†æ–°æ ‡æ†ï¼šUVæ ¸å¿ƒå‘½ä»¤å®Œå…¨æŒ‡å—</title>
      <link href="/2025/08/13/Python/Python%20%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86%E6%96%B0%E6%A0%87%E6%9D%86%EF%BC%9AUV%E6%A0%B8%E5%BF%83%E5%91%BD%E4%BB%A4%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97/"/>
      <url>/2025/08/13/Python/Python%20%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86%E6%96%B0%E6%A0%87%E6%9D%86%EF%BC%9AUV%E6%A0%B8%E5%BF%83%E5%91%BD%E4%BB%A4%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97/</url>
      
        <content type="html"><![CDATA[<h3 id="uvå·¥å…·å®šä½æé€Ÿpythonç¯å¢ƒç®¡ç†"><a class="markdownIt-Anchor" href="#uvå·¥å…·å®šä½æé€Ÿpythonç¯å¢ƒç®¡ç†"></a> UVå·¥å…·å®šä½ï¼šæé€ŸPythonç¯å¢ƒç®¡ç†</h3><p>UVæ˜¯Astralå›¢é˜Ÿå¼€å‘çš„ä¸‹ä¸€ä»£Pythonç¯å¢ƒç®¡ç†å·¥å…·ï¼Œå…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äºï¼š</p><ul><li>âš¡ <strong>é€Ÿåº¦é©å‘½</strong>ï¼šä¾èµ–è§£ææ¯”pipå¿«10-100å€</li><li>ğŸª¶ <strong>è½»é‡è®¾è®¡</strong>ï¼šç¯å¢ƒåˆ›å»ºä»…éœ€0.05ç§’</li><li>ğŸ”’ <strong>å®‰å…¨å¯é </strong>ï¼šå†…ç½®ä¾èµ–é”å®šæœºåˆ¶</li><li>ğŸ”„ <strong>æ— ç¼è¿ç§»</strong>ï¼šå…¼å®¹ç°æœ‰pipå·¥ä½œæµ</li></ul><blockquote><p>å®‰è£…å‘½ä»¤ï¼š<code>pipx install uv</code>ï¼ˆæ¨èï¼‰æˆ– <code>pip install uv</code></p></blockquote><hr /><h3 id="æ ¸å¿ƒå‘½ä»¤è¯¦è§£æ‰‹å†Œ"><a class="markdownIt-Anchor" href="#æ ¸å¿ƒå‘½ä»¤è¯¦è§£æ‰‹å†Œ"></a> æ ¸å¿ƒå‘½ä»¤è¯¦è§£æ‰‹å†Œ</h3><h4 id="1-uv-venvé—ªç”µç¯å¢ƒåˆ›å»º"><a class="markdownIt-Anchor" href="#1-uv-venvé—ªç”µç¯å¢ƒåˆ›å»º"></a> 1. <code>uv venv</code>ï¼šé—ªç”µç¯å¢ƒåˆ›å»º</h4><p><strong>åŠŸèƒ½</strong>ï¼šåˆ›å»ºè½»é‡çº§è™šæ‹Ÿç¯å¢ƒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŸºç¡€ç”¨æ³•ï¼ˆé»˜è®¤åˆ›å»º.venvï¼‰</span></span><br><span class="line">uv venv</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šPythonç‰ˆæœ¬</span></span><br><span class="line">uv venv --python 3.11</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒ…å«ç³»ç»ŸåŒ…ï¼ˆç±»ä¼¼--system-site-packagesï¼‰</span></span><br><span class="line">uv venv --system</span><br><span class="line"></span><br><span class="line"><span class="comment"># è‡ªå®šä¹‰è·¯å¾„</span></span><br><span class="line">uv venv --path ~/envs/project-env</span><br></pre></td></tr></table></figure><p><strong>ç¯å¢ƒç»“æ„</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.venv/</span><br><span class="line">â”œâ”€â”€ bin           <span class="comment"># Unixå¯æ‰§è¡Œæ–‡ä»¶</span></span><br><span class="line">â”‚   â”œâ”€â”€ python</span><br><span class="line">â”‚   â”œâ”€â”€ pip</span><br><span class="line">â”œâ”€â”€ Scripts       <span class="comment"># Windowså¯æ‰§è¡Œæ–‡ä»¶</span></span><br><span class="line">â”‚   â”œâ”€â”€ python.exe</span><br><span class="line">â”‚   â”œâ”€â”€ pip.exe</span><br><span class="line">â””â”€â”€ pyvenv.cfg    <span class="comment"># ç¯å¢ƒé…ç½®æ–‡ä»¶</span></span><br></pre></td></tr></table></figure><hr /><h4 id="2-uv-pipæé€Ÿä¾èµ–ç®¡ç†"><a class="markdownIt-Anchor" href="#2-uv-pipæé€Ÿä¾èµ–ç®¡ç†"></a> 2. <code>uv pip</code>ï¼šæé€Ÿä¾èµ–ç®¡ç†</h4><p><strong>åŠŸèƒ½</strong>ï¼šé«˜æ€§èƒ½ä¾èµ–å®‰è£…ä¸è§£æ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…å•ä¸ªåŒ…</span></span><br><span class="line">uv pip install numpy</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰¹é‡å®‰è£…</span></span><br><span class="line">uv pip install pandas matplotlib seaborn</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…æŒ‡å®šç‰ˆæœ¬</span></span><br><span class="line">uv pip install <span class="string">&quot;django&gt;=4.0,&lt;5.0&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»requirementså®‰è£…</span></span><br><span class="line">uv pip install -r requirements.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆé”å®šæ–‡ä»¶</span></span><br><span class="line">uv pip compile pyproject.toml -o requirements.lock</span><br><span class="line"></span><br><span class="line"><span class="comment"># å“ˆå¸ŒéªŒè¯å®‰è£…ï¼ˆå®‰å…¨éƒ¨ç½²ï¼‰</span></span><br><span class="line">uv pip install -r requirements.lock --generate-hashes</span><br></pre></td></tr></table></figure><p><strong>æ€§èƒ½å¯¹æ¯”</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä¼ ç»Ÿpip: 23.5ç§’  |  UV pip: 1.8ç§’  (ç›¸åŒä¾èµ–é›†)</span><br></pre></td></tr></table></figure><hr /><h4 id="3-uv-runæ™ºèƒ½è„šæœ¬æ‰§è¡Œ"><a class="markdownIt-Anchor" href="#3-uv-runæ™ºèƒ½è„šæœ¬æ‰§è¡Œ"></a> 3. <code>uv run</code>ï¼šæ™ºèƒ½è„šæœ¬æ‰§è¡Œ</h4><p><strong>åŠŸèƒ½</strong>ï¼šåœ¨UVç¯å¢ƒä¸­æ— ç¼è¿è¡Œå‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿è¡ŒPythonè„šæœ¬</span></span><br><span class="line">uv run app.py</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¼ é€’å‚æ•°</span></span><br><span class="line">uv run train_model.py --epochs 50 --batch-size 32</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰§è¡Œæ¨¡å—</span></span><br><span class="line">uv run -m pytest tests/</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸´æ—¶ç¯å¢ƒè¿è¡Œï¼ˆè‡ªåŠ¨æ¸…ç†ï¼‰</span></span><br><span class="line">uv run --temp <span class="string">&quot;import sys; print(sys.executable)&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šç¯å¢ƒè¿è¡Œ</span></span><br><span class="line">uv run --venv dev-env manage.py migrate</span><br></pre></td></tr></table></figure><hr /><h4 id="4-uv-pythonè§£æå™¨ç®¡ç†"><a class="markdownIt-Anchor" href="#4-uv-pythonè§£æå™¨ç®¡ç†"></a> 4. <code>uv python</code>ï¼šè§£æå™¨ç®¡ç†</h4><p><strong>åŠŸèƒ½</strong>ï¼šPythonè§£é‡Šå™¨ç‰ˆæœ¬ç®¡ç†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ—å‡ºæ‰€æœ‰å¯ç”¨Python</span></span><br><span class="line">uv python list</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span></span><br><span class="line">Available Pythons:</span><br><span class="line">* /usr/bin/python3.12 (default)</span><br><span class="line">  /opt/homebrew/bin/python3.11</span><br><span class="line">  ~/.pyenv/versions/3.10.9/bin/python</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®é»˜è®¤Pythonç‰ˆæœ¬</span></span><br><span class="line">uv use 3.11</span><br><span class="line"></span><br><span class="line"><span class="comment"># éªŒè¯ç‰ˆæœ¬</span></span><br><span class="line">uv python --version</span><br></pre></td></tr></table></figure><hr /><h4 id="5-uv-cacheç¼“å­˜ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#5-uv-cacheç¼“å­˜ä¼˜åŒ–"></a> 5. <code>uv cache</code>ï¼šç¼“å­˜ä¼˜åŒ–</h4><p><strong>åŠŸèƒ½</strong>ï¼šç®¡ç†ä¾èµ–ç¼“å­˜åŠ é€Ÿå®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ç¼“å­˜ä¿¡æ¯</span></span><br><span class="line">uv cache info</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸…ç†æ‰€æœ‰ç¼“å­˜</span></span><br><span class="line">uv cache clean --all</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿ç•™æœ€è¿‘3ä¸ªç‰ˆæœ¬çš„ç¼“å­˜</span></span><br><span class="line">uv cache clean --keep-latest 3</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šç¼“å­˜ç›®å½•</span></span><br><span class="line">uv cache <span class="built_in">dir</span> ~/custom_uv_cache</span><br></pre></td></tr></table></figure><hr /><h4 id="6-uv-useç‰ˆæœ¬åˆ‡æ¢"><a class="markdownIt-Anchor" href="#6-uv-useç‰ˆæœ¬åˆ‡æ¢"></a> 6. <code>uv use</code>ï¼šç‰ˆæœ¬åˆ‡æ¢</h4><p><strong>åŠŸèƒ½</strong>ï¼šåŠ¨æ€åˆ‡æ¢Pythonç‰ˆæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å½“å‰ç‰ˆæœ¬</span></span><br><span class="line">uv use current</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡æ¢åˆ°3.10</span></span><br><span class="line">uv use 3.10</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…¨å±€è®¾ç½®é»˜è®¤ç‰ˆæœ¬</span></span><br><span class="line">uv use --global 3.11</span><br><span class="line"></span><br><span class="line"><span class="comment"># é¡¹ç›®çº§ç‰ˆæœ¬é…ç½®ï¼ˆpyproject.tomlï¼‰</span></span><br><span class="line">[tool.uv]</span><br><span class="line">python = <span class="string">&quot;3.11&quot;</span>  <span class="comment"># å›ºå®šç‰ˆæœ¬</span></span><br></pre></td></tr></table></figure><hr /><h4 id="7-uv-inité¡¹ç›®åˆå§‹åŒ–"><a class="markdownIt-Anchor" href="#7-uv-inité¡¹ç›®åˆå§‹åŒ–"></a> 7. <code>uv init</code>ï¼šé¡¹ç›®åˆå§‹åŒ–</h4><p><strong>åŠŸèƒ½</strong>ï¼šä¸€ç«™å¼é¡¹ç›®åˆå§‹åŒ–</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># äº¤äº’å¼åˆ›å»ºé¡¹ç›®</span></span><br><span class="line">uv init</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šPythonç‰ˆæœ¬</span></span><br><span class="line">uv init --python 3.11</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºå¹¶å®‰è£…ä¾èµ–</span></span><br><span class="line">uv init --install</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®Œæ•´åˆå§‹åŒ–æµç¨‹</span></span><br><span class="line">uv init --python 3.11 --name my-project --install</span><br></pre></td></tr></table></figure><p><strong>è‡ªåŠ¨ç”Ÿæˆ</strong>ï¼š</p><ol><li>è™šæ‹Ÿç¯å¢ƒ <code>.venv</code></li><li>åŸºç¡€ <code>requirements.txt</code></li><li>é¡¹ç›®ç»“æ„æ¨¡æ¿</li></ol><hr /><h3 id="ç»¼åˆåº”ç”¨ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#ç»¼åˆåº”ç”¨ç¤ºä¾‹"></a> ç»¼åˆåº”ç”¨ç¤ºä¾‹</h3><h4 id="åœºæ™¯åˆ›å»ºdjangoé¡¹ç›®"><a class="markdownIt-Anchor" href="#åœºæ™¯åˆ›å»ºdjangoé¡¹ç›®"></a> åœºæ™¯ï¼šåˆ›å»ºDjangoé¡¹ç›®</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. åˆå§‹åŒ–é¡¹ç›®</span></span><br><span class="line">uv init --python 3.11 --name django-project --install</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. å®‰è£…ä¾èµ–</span></span><br><span class="line">uv pip install django gunicorn psycopg2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. åˆ›å»ºDjangoé¡¹ç›®</span></span><br><span class="line">uv run django-admin startproject core .</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨</span></span><br><span class="line">uv run python manage.py runserver</span><br></pre></td></tr></table></figure><blockquote><p>æç¤ºï¼šéœ€è¦é€šè¿‡uv runåˆ›å»º.venvè™šæ‹Ÿç›®å½•ç¯å¢ƒåæ‰èƒ½ä½¿ç”¨uv pip install</p></blockquote><h4 id="åœºæ™¯cicdæµæ°´çº¿"><a class="markdownIt-Anchor" href="#åœºæ™¯cicdæµæ°´çº¿"></a> åœºæ™¯ï¼šCI/CDæµæ°´çº¿</h4><p><code>.gitlab-ci.yml</code>é…ç½®ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">test:</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">pipx</span> <span class="string">install</span> <span class="string">uv</span>  <span class="comment"># å®‰è£…UV</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">uv</span> <span class="string">venv</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">uv</span> <span class="string">pip</span> <span class="string">install</span> <span class="string">-r</span> <span class="string">requirements.txt</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">uv</span> <span class="string">run</span> <span class="string">pytest</span> <span class="string">tests/</span></span><br><span class="line">  <span class="attr">cache:</span></span><br><span class="line">    <span class="attr">paths:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">.venv/</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">~/.cache/uv/</span></span><br></pre></td></tr></table></figure><hr /><h3 id="å‘½ä»¤é€ŸæŸ¥è¡¨"><a class="markdownIt-Anchor" href="#å‘½ä»¤é€ŸæŸ¥è¡¨"></a> å‘½ä»¤é€ŸæŸ¥è¡¨</h3><table><thead><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½</th><th>é«˜é¢‘å‚æ•°</th></tr></thead><tbody><tr><td><code>uv venv</code></td><td>åˆ›å»ºç¯å¢ƒ</td><td><code>--name</code> <code>--python</code> <code>--system</code></td></tr><tr><td><code>uv pip</code></td><td>åŒ…ç®¡ç†</td><td><code>install</code> <code>compile</code> <code>--generate-hashes</code></td></tr><tr><td><code>uv run</code></td><td>æ‰§è¡Œå‘½ä»¤</td><td><code>--temp</code> <code>--venv</code> <code>-m</code></td></tr><tr><td><code>uv python</code></td><td>è§£é‡Šå™¨ç®¡ç†</td><td><code>list</code> <code>--version</code></td></tr><tr><td><code>uv cache</code></td><td>ç¼“å­˜ç®¡ç†</td><td><code>info</code> <code>clean</code> <code>dir</code></td></tr><tr><td><code>uv use</code></td><td>ç‰ˆæœ¬åˆ‡æ¢</td><td><code>current</code> <code>3.11</code> <code>--global</code></td></tr><tr><td><code>uv init</code></td><td>é¡¹ç›®åˆå§‹åŒ–</td><td><code>--python</code> <code>--install</code> <code>--name</code></td></tr></tbody></table><blockquote><p>æç¤ºï¼šæ‰€æœ‰å‘½ä»¤æ”¯æŒ <code>--help</code> æŸ¥çœ‹è¯¦ç»†å¸®åŠ©ï¼Œå¦‚ <code>uv venv --help</code></p></blockquote><h3 id="å‘½é¡¹ç›®å®æˆ˜"><a class="markdownIt-Anchor" href="#å‘½é¡¹ç›®å®æˆ˜"></a> å‘½é¡¹ç›®å®æˆ˜</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é¡¹ç›®åˆå§‹åŒ–</span></span><br><span class="line">uv init</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</span></span><br><span class="line">uv venv</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®š Python ç‰ˆæœ¬</span></span><br><span class="line">uv venv --python 3.12</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¿€æ´»ç¯å¢ƒ</span></span><br><span class="line">.venv\Scripts\activate</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ ä¾èµ–ï¼ˆä¼šæ›´æ–° pyproject.tomlï¼‰</span></span><br><span class="line">uv add flask</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯é€‰ï¼šæ·»åŠ å¼€å‘ä¾èµ–ï¼ˆå¦‚è°ƒè¯•å·¥å…·ï¼‰</span></span><br><span class="line">uv add --dev flask-debugtoolbar  <span class="comment"># å¼€å‘ç¯å¢ƒç”¨çš„è°ƒè¯•å·¥å…·æ </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒæ­¥é¡¹ç›®ä¾èµ–</span></span><br><span class="line">uv <span class="built_in">sync</span></span><br></pre></td></tr></table></figure><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¿®æ”¹ <a href="http://main.py">main.py</a> æ–‡ä»¶ï¼Œå†™å…¥åŸºç¡€ä»£ç </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">hello</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, Flask with uv!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(debug=<span class="literal">True</span>)  <span class="comment"># è°ƒè¯•æ¨¡å¼ï¼Œä»£ç ä¿®æ”¹åè‡ªåŠ¨é‡å¯</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿è¡Œ Flask é¡¹ç›®</p><p>æ–¹æ³• 1ï¼šç›´æ¥é€šè¿‡ Python æ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿è¡Œ Flask åº”ç”¨</span></span><br><span class="line">python main.py</span><br></pre></td></tr></table></figure><p>æ–¹æ³• 2ï¼šä½¿ç”¨ uv run ç›´æ¥è¿è¡Œï¼ˆæ— éœ€æ‰‹åŠ¨æ¿€æ´»ç¯å¢ƒï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv run main.py</span><br></pre></td></tr></table></figure><p>æ–¹æ³• 3ï¼šä½¿ç”¨flaskå‘½ä»¤è¿è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flask --app main run -p 5000</span><br></pre></td></tr></table></figure><h3 id="æœ€ä½³å®è·µæ€»ç»“"><a class="markdownIt-Anchor" href="#æœ€ä½³å®è·µæ€»ç»“"></a> æœ€ä½³å®è·µæ€»ç»“</h3><ol><li><strong>ç¯å¢ƒåˆ›å»º</strong>ï¼šé¡¹ç›®æ ¹ç›®å½•ä½¿ç”¨é»˜è®¤ <code>.venv</code></li><li><strong>ä¾èµ–å®‰è£…</strong>ï¼šä¼˜å…ˆ <code>uv pip compile</code> ç”Ÿæˆé”å®šæ–‡ä»¶</li><li><strong>ç‰ˆæœ¬æ§åˆ¶</strong>ï¼šé¡¹ç›®å†…é…ç½® <code>pyproject.toml</code> å›ºå®šç‰ˆæœ¬</li><li><strong>CI/CDä¼˜åŒ–</strong>ï¼šå¤ç”¨UVç¼“å­˜ç›®å½•åŠ é€Ÿæ„å»º</li><li><strong>å¤šé¡¹ç›®ç®¡ç†</strong>ï¼š<code>--name</code> å‚æ•°åŒºåˆ†ä¸åŒç¯å¢ƒ</li></ol><p>é€šè¿‡æŒæ¡è¿™7å¤§æ ¸å¿ƒå‘½ä»¤ï¼Œæ‚¨å°†å½»åº•æŒæ§Pythonç¯å¢ƒç®¡ç†ï¼Œå®ç°å¼€å‘æ•ˆç‡çš„æŒ‡æ•°çº§æå‡ï¼è®¿é—®å®˜æ–¹æ–‡æ¡£è·å–æœ€æ–°åŠŸèƒ½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QtCreatorä½¿ç”¨Qodeæ’ä»¶æ¥å…¥å¤–éƒ¨AIå¤§æ¨¡å‹</title>
      <link href="/2025/07/30/Qt/QtCreator%E4%BD%BF%E7%94%A8Qode%E6%8F%92%E4%BB%B6%E6%8E%A5%E5%85%A5%E5%A4%96%E9%83%A8AI%E5%A4%A7%E6%A8%A1%E5%9E%8B/"/>
      <url>/2025/07/30/Qt/QtCreator%E4%BD%BF%E7%94%A8Qode%E6%8F%92%E4%BB%B6%E6%8E%A5%E5%85%A5%E5%A4%96%E9%83%A8AI%E5%A4%A7%E6%A8%A1%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<p>QodeAssistï¼šAIæ™ºèƒ½ç¼–ç åŠ©æ‰‹ï¼Œæå‡Qt Creatorå¼€å‘æ•ˆç‡QodeAssist æ˜¯ä¸€æ¬¾é’ˆå¯¹ Qt Creator çš„ AI æ™ºèƒ½ç¼–ç åŠ©æ‰‹æ’ä»¶ï¼Œå®ƒé€šè¿‡é›†æˆå¤§å‹è¯­è¨€æ¨¡å‹ï¼Œå¦‚ Ollamaï¼Œæä¾›æ™ºèƒ½ä»£ç è¡¥å…¨å’Œæç¤ºåŠŸèƒ½ï¼Œå¸®åŠ©å¼€å‘è€…æå‡ç¼–ç æ•ˆç‡ã€‚ä»¥ä¸‹æ˜¯å…³äº QodeAssist é¡¹ç›®çš„è¯¦ç»†ä»‹ç»ã€‚é¡¹ç›®ä»‹ç»QodeAssist æ˜¯ä¸€æ¬¾ä¸º Qt Creator å¼€å‘ç¯å¢ƒè®¾è®¡çš„ AI ç¼–ç åŠ©æ‰‹æ’â€¦_qtcreator aiä»£ç åŠ©æ‰‹</p><h2 id="qodeassistä»‹ç»aiæ™ºèƒ½ç¼–ç åŠ©æ‰‹æå‡qt-creatorå¼€å‘æ•ˆç‡"><a class="markdownIt-Anchor" href="#qodeassistä»‹ç»aiæ™ºèƒ½ç¼–ç åŠ©æ‰‹æå‡qt-creatorå¼€å‘æ•ˆç‡"></a> QodeAssistä»‹ç»ï¼šAIæ™ºèƒ½ç¼–ç åŠ©æ‰‹ï¼Œæå‡Qt Creatorå¼€å‘æ•ˆç‡</h2><p>QodeAssist æ˜¯ä¸€æ¬¾é’ˆå¯¹ Qt Creator çš„ AI æ™ºèƒ½ç¼–ç åŠ©æ‰‹æ’ä»¶ï¼Œå®ƒé€šè¿‡é›†æˆå¤§å‹è¯­è¨€æ¨¡å‹ï¼Œå¦‚ Ollamaï¼Œæä¾›æ™ºèƒ½ä»£ç è¡¥å…¨å’Œæç¤ºåŠŸèƒ½ï¼Œå¸®åŠ©å¼€å‘è€…æå‡ç¼–ç æ•ˆç‡ã€‚ä»¥ä¸‹æ˜¯å…³äº QodeAssist é¡¹ç›®çš„è¯¦ç»†ä»‹ç»ã€‚</p><h3 id="æ’ä»¶ä»‹ç»"><a class="markdownIt-Anchor" href="#æ’ä»¶ä»‹ç»"></a> æ’ä»¶ä»‹ç»</h3><p>QodeAssist æ˜¯ä¸€æ¬¾ä¸º Qt Creator å¼€å‘ç¯å¢ƒè®¾è®¡çš„ AI ç¼–ç åŠ©æ‰‹æ’ä»¶ã€‚å®ƒé€šè¿‡åˆ©ç”¨æœ¬åœ°æä¾›çš„å¤§å‹è¯­è¨€æ¨¡å‹ï¼Œå¦‚ Ollamaï¼Œä¸º C++ å’Œ QML æä¾›æ™ºèƒ½ä»£ç è¡¥å…¨å’Œå»ºè®®ã€‚è¿™æ¬¾æ’ä»¶èƒ½å¤Ÿç›´æ¥åœ¨ Qt å¼€å‘ç¯å¢ƒä¸­æä¾›ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„ AI è¾…åŠ©ï¼Œä»è€Œæå¤§åœ°æå‡å¼€å‘è€…çš„ç¼–ç æ•ˆç‡ã€‚</p><h3 id="æ’ä»¶æŠ€æœ¯åˆ†æ"><a class="markdownIt-Anchor" href="#æ’ä»¶æŠ€æœ¯åˆ†æ"></a> æ’ä»¶æŠ€æœ¯åˆ†æ</h3><p>QodeAssist æ’ä»¶çš„æ ¸å¿ƒæŠ€æœ¯åŒ…æ‹¬ï¼š</p><ul><li><strong>æ™ºèƒ½ä»£ç è¡¥å…¨</strong>ï¼šåˆ©ç”¨å¤§å‹è¯­è¨€æ¨¡å‹ï¼Œå¦‚ Ollamaï¼Œæä¾›æ™ºèƒ½çš„ä»£ç è¡¥å…¨å’Œä»£ç å»ºè®®ã€‚</li><li><strong>èŠå¤©åŠŸèƒ½</strong>ï¼šæ”¯æŒåœ¨ä¾§è¾¹æ å’Œåº•éƒ¨é¢æ¿ä¸­ä¸è¯­è¨€æ¨¡å‹è¿›è¡Œå¯¹è¯ï¼Œå®ç°ä»£ç åˆ†æå’Œé—®é¢˜è§£å†³ã€‚</li><li><strong>å¤šæ¨¡å‹æ”¯æŒ</strong>ï¼šæ’ä»¶æ”¯æŒå¤šç§è¯­è¨€æ¨¡å‹æä¾›å•†ï¼ŒåŒ…æ‹¬ Ollamaã€llama.cppã€OpenAIã€Anthropic Claudeã€LM Studioã€Mistral AIã€Google AI ä»¥åŠå…¶ä»– OpenAI å…¼å®¹æœåŠ¡ã€‚</li></ul><h3 id="æ’ä»¶åŠæŠ€æœ¯åº”ç”¨åœºæ™¯"><a class="markdownIt-Anchor" href="#æ’ä»¶åŠæŠ€æœ¯åº”ç”¨åœºæ™¯"></a> æ’ä»¶åŠæŠ€æœ¯åº”ç”¨åœºæ™¯</h3><p>QodeAssist é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p><ol><li><strong>Qt Creator å¼€å‘ç¯å¢ƒ</strong>ï¼šæ’ä»¶ä¸“ä¸º Qt Creator è®¾è®¡ï¼Œèƒ½å¤Ÿæ— ç¼é›†æˆåˆ°å¼€å‘ç¯å¢ƒä¸­ï¼Œä¸ºå¼€å‘è€…æä¾›å®æ—¶çš„ä»£ç è¾…åŠ©ã€‚</li><li><strong>ä»£ç æ•ˆç‡æå‡</strong>ï¼šé€šè¿‡æ™ºèƒ½ä»£ç è¡¥å…¨å’Œå»ºè®®ï¼Œå¼€å‘è€…å¯ä»¥å‡å°‘ç¼–ç æ—¶é—´ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</li><li><strong>ä»£ç è´¨é‡ä¼˜åŒ–</strong>ï¼šæ’ä»¶æä¾›çš„ä»£ç å»ºè®®å¯ä»¥å¸®åŠ©å¼€å‘è€…å†™å‡ºæ›´é«˜è´¨é‡ã€æ›´æ˜“äºç»´æŠ¤çš„ä»£ç ã€‚</li></ol><h3 id="æ’ä»¶ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#æ’ä»¶ç‰¹ç‚¹"></a> æ’ä»¶ç‰¹ç‚¹</h3><p>QodeAssist é¡¹ç›®çš„ç‰¹ç‚¹åŒ…æ‹¬ï¼š</p><ul><li><strong>æ™ºèƒ½ä»£ç è¡¥å…¨</strong>ï¼šæä¾›å®æ—¶çš„ä»£ç è¡¥å…¨å’Œä»£ç å»ºè®®ï¼Œå‡å°‘ç¼–ç é”™è¯¯ã€‚</li><li><strong>å¤šæ¨¡å‹æ”¯æŒ</strong>ï¼šæ”¯æŒå¤šç§è¯­è¨€æ¨¡å‹æä¾›å•†ï¼Œä¸ºå¼€å‘è€…æä¾›çµæ´»çš„é€‰æ‹©ã€‚</li><li><strong>æ˜“äºé…ç½®</strong>ï¼šæ’ä»¶æä¾›äº†ç®€å•çš„é…ç½®ç•Œé¢ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚é€‰æ‹©æ¨¡å‹å’Œè®¾ç½®å‚æ•°ã€‚</li><li><strong>é«˜åº¦é›†æˆ</strong>ï¼šä¸ Qt Creator ç¯å¢ƒæ— ç¼é›†æˆï¼Œæ— éœ€é¢å¤–è®¾ç½®ã€‚</li><li><strong>ä¸°å¯Œçš„åŠŸèƒ½</strong>ï¼šåŒ…æ‹¬èŠå¤©åŠŸèƒ½ã€ä»£ç åˆ†æã€è‡ªåŠ¨åŒæ­¥ç¼–è¾‘å™¨æ–‡ä»¶ç­‰ä¸°å¯ŒåŠŸèƒ½ã€‚</li></ul><p>ä»¥ä¸‹æ˜¯å…³äº QodeAssist é¡¹ç›®çš„è¯¦ç»†è¯´æ˜ï¼š</p><h3 id="æ™ºèƒ½ä»£ç è¡¥å…¨"><a class="markdownIt-Anchor" href="#æ™ºèƒ½ä»£ç è¡¥å…¨"></a> æ™ºèƒ½ä»£ç è¡¥å…¨</h3><p>QodeAssist é€šè¿‡é›†æˆå¤§å‹è¯­è¨€æ¨¡å‹ï¼Œæä¾›æ™ºèƒ½çš„ä»£ç è¡¥å…¨å’Œä»£ç å»ºè®®ï¼Œå¸®åŠ©å¼€å‘è€…å‡å°‘ç¼–ç é”™è¯¯ï¼Œæå‡ç¼–ç é€Ÿåº¦ã€‚æ’ä»¶æ”¯æŒå¤šè¡Œä»£ç è¡¥å…¨ï¼Œä½¿å¼€å‘è€…èƒ½å¤Ÿæ›´åŠ é«˜æ•ˆåœ°ç¼–å†™ä»£ç ã€‚</p><h3 id="èŠå¤©åŠŸèƒ½"><a class="markdownIt-Anchor" href="#èŠå¤©åŠŸèƒ½"></a> èŠå¤©åŠŸèƒ½</h3><p>æ’ä»¶æ”¯æŒåœ¨ Qt Creator çš„ä¾§è¾¹æ å’Œåº•éƒ¨é¢æ¿ä¸­ä¸è¯­è¨€æ¨¡å‹è¿›è¡ŒèŠå¤©ï¼Œå®ç°ä»£ç åˆ†æå’Œé—®é¢˜è§£å†³ã€‚å¼€å‘è€…å¯ä»¥é€šè¿‡èŠå¤©ç•Œé¢è·å–ä»£ç å»ºè®®ã€è§£å†³é—®é¢˜ï¼Œå¹¶æ”¯æŒèŠå¤©å†å²çš„è‡ªåŠ¨ä¿å­˜å’Œæ¢å¤ã€‚</p><h3 id="å¤šæ¨¡å‹æ”¯æŒ"><a class="markdownIt-Anchor" href="#å¤šæ¨¡å‹æ”¯æŒ"></a> å¤šæ¨¡å‹æ”¯æŒ</h3><p>QodeAssist æ”¯æŒå¤šç§è¯­è¨€æ¨¡å‹æä¾›å•†ï¼ŒåŒ…æ‹¬ Ollamaã€llama.cppã€OpenAIã€Anthropic Claudeã€LM Studioã€Mistral AIã€Google AI ä»¥åŠå…¶ä»– OpenAI å…¼å®¹æœåŠ¡ã€‚å¼€å‘è€…å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚å’Œåå¥½é€‰æ‹©åˆé€‚çš„æ¨¡å‹ã€‚</p><h3 id="æ˜“äºé…ç½®"><a class="markdownIt-Anchor" href="#æ˜“äºé…ç½®"></a> æ˜“äºé…ç½®</h3><p>æ’ä»¶æä¾›äº†ç®€å•çš„é…ç½®ç•Œé¢ï¼Œå¼€å‘è€…å¯ä»¥åœ¨ Qt Creator çš„è®¾ç½®ä¸­è½»æ¾é…ç½®æ¨¡å‹æä¾›å•†å’Œå‚æ•°ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹æ˜¯é…ç½® Ollama çš„æ­¥éª¤ï¼š</p><ol><li>å®‰è£… Ollama å¹¶è¿è¡ŒæŒ‡å®šçš„è¯­è¨€æ¨¡å‹ã€‚</li><li>åœ¨ Qt Creator çš„ QodeAssist è®¾ç½®ä¸­ï¼Œé€‰æ‹© Ollama ä½œä¸º LLM æä¾›å•†ï¼Œå¹¶è®¾ç½®å¯¹åº”çš„ URL å’Œæ¨¡å‹ã€‚</li></ol><h3 id="é«˜åº¦é›†æˆ"><a class="markdownIt-Anchor" href="#é«˜åº¦é›†æˆ"></a> é«˜åº¦é›†æˆ</h3><p>QodeAssist ä¸ Qt Creator ç¯å¢ƒæ— ç¼é›†æˆï¼Œå¼€å‘è€…æ— éœ€è¿›è¡Œå¤æ‚çš„è®¾ç½®å³å¯ä½¿ç”¨æ’ä»¶ã€‚</p><h3 id="ä¸°å¯Œçš„åŠŸèƒ½"><a class="markdownIt-Anchor" href="#ä¸°å¯Œçš„åŠŸèƒ½"></a> ä¸°å¯Œçš„åŠŸèƒ½</h3><p>é™¤äº†æ™ºèƒ½ä»£ç è¡¥å…¨å’ŒèŠå¤©åŠŸèƒ½ï¼ŒQodeAssist è¿˜æä¾›äº†è‡ªåŠ¨åŒæ­¥ç¼–è¾‘å™¨æ–‡ä»¶ã€ä»£ç ä¸Šä¸‹æ–‡åˆ†æç­‰ä¸°å¯ŒåŠŸèƒ½ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–å¼€å‘è€…çš„ç¼–ç ä½“éªŒã€‚</p><p>æ€»ç»“è€Œè¨€ï¼ŒQodeAssist æ˜¯ä¸€æ¬¾å¼ºå¤§çš„ AI ç¼–ç åŠ©æ‰‹æ’ä»¶ï¼Œèƒ½å¤Ÿæ˜¾è‘—æå‡ Qt Creator å¼€å‘è€…çš„ç¼–ç æ•ˆç‡ã€‚é€šè¿‡é›†æˆå¤šç§è¯­è¨€æ¨¡å‹å’Œæä¾›ä¸°å¯Œçš„åŠŸèƒ½ï¼ŒQodeAssist æˆä¸º Qt å¼€å‘è€…çš„å¿…å¤‡å·¥å…·ã€‚</p><hr /><h2 id="ä¸€-æ¦‚è¦"><a class="markdownIt-Anchor" href="#ä¸€-æ¦‚è¦"></a> ä¸€ã€æ¦‚è¦</h2><p>æœ¬ç¯‡æ–‡ç« ä¸»è¦é€šè¿‡è®©QtCreatoræ¥å…¥å¤–éƒ¨AIæ’ä»¶ï¼Œå®ç°åœ¨QtCretoré‡Œè°ƒç”¨AIæ¨¡å‹å®Œæˆä»£ç è‡ªåŠ¨è¡¥å…¨ï¼ˆCode Completionï¼‰å’ŒèŠå¤©åŠ©æ‰‹ï¼ˆChat Assistantï¼‰çš„ç›®çš„ã€‚ä¸‹é¢æ˜¯éœ€è¦æ“ä½œçš„å·¥å…·åˆ—è¡¨ã€‚<br />Qtç‰ˆæœ¬ï¼š<code>Qt5.14.2</code>ï¼ˆè‡ªå¸¦<code>QtCreator4.11.1</code>ï¼Œä½†æ˜¯è¿™é‡Œä¸ç”¨å®ƒï¼‰<br />QtCreatorç‰ˆæœ¬ï¼š<code>QtCreator17.0.0</code>ï¼ˆç‹¬ç«‹å®‰è£…ç¨‹åº<br />AIæ’ä»¶ï¼š<a href="https://github.com/Palm1r/QodeAssist">QodeAssisté¡¹ç›®</a></p><h2 id="äºŒ-å®‰è£…qt5142é…ç½®é«˜ç‰ˆæœ¬qtcreator"><a class="markdownIt-Anchor" href="#äºŒ-å®‰è£…qt5142é…ç½®é«˜ç‰ˆæœ¬qtcreator"></a> äºŒã€å®‰è£…Qt5.14.2ï¼Œé…ç½®é«˜ç‰ˆæœ¬QtCreator</h2><p>è®¿é—®ï¼š <a href="/2025/07/30/Qt/Qt5.14.2%E4%BD%BF%E7%94%A8%E9%AB%98%E7%89%88%E6%9C%ACQtCreator/">Qt5.14.2ä½¿ç”¨é«˜ç‰ˆæœ¬QtCreator</a></p><h2 id="ä¸‰-ä¸‹è½½aiæ’ä»¶"><a class="markdownIt-Anchor" href="#ä¸‰-ä¸‹è½½aiæ’ä»¶"></a> ä¸‰ã€ä¸‹è½½AIæ’ä»¶</h2><p>è®¿é—®ï¼š<a href="https://github.com/Palm1r/QodeAssist/releases">QodeAssist Releases</a> å¯ä»¥ç›´æ¥ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„æ’ä»¶ï¼Œè®°çš„é€‰æ‹©å’Œè‡ªå·±å®‰è£…çš„QtCreatorä¸€è‡´çš„ç‰ˆæœ¬ï¼Œè¿™é‡Œé€‰æ‹©<code>QodeAssist-v0.6.0-QtC17.0.0-Windows-x64.7z</code>ã€‚<br /><img src="e99161fe05f041f086b0ae4fb2186a8e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ä¸‹è½½è§£å‹åï¼Œé‡Œé¢ä¼šæœ‰æŒ‰ç…§QtCreatoræ’ä»¶è·¯å¾„åˆ›å»ºçš„libæ–‡ä»¶å¤¹ï¼ŒæŠŠå®ƒæ”¾åˆ°å®‰è£…QtCreator17æ—¶æ‰€é€‰æ‹©çš„æ–‡ä»¶å¤¹ä¸‹ï¼Œä¸€èˆ¬æ˜¯<code>C:\Qt\qtcreator-17.0.0</code>ã€‚</p><h2 id="å››-é…ç½®æ’ä»¶"><a class="markdownIt-Anchor" href="#å››-é…ç½®æ’ä»¶"></a> å››ã€é…ç½®æ’ä»¶</h2><h3 id="41-aiå¤§æ¨¡å‹è®¾ç½®"><a class="markdownIt-Anchor" href="#41-aiå¤§æ¨¡å‹è®¾ç½®"></a> 4.1ã€AIå¤§æ¨¡å‹è®¾ç½®</h3><p>å‰é¢å‡ æ­¥æ“ä½œå®Œæˆåï¼Œæ‰“å¼€<code>QtCreator17.0.0</code>=&gt;<code>ç¼–è¾‘</code>=&gt;<code>Preferences</code>ï¼Œæ‰¾åˆ°QodeAssistï¼Œå¦‚ä¸‹å›¾é…ç½®ã€‚é…ç½®ååœ¨<code>Provider Settings</code>ä¸€æ ä¸­å¡«ä¸Šå¯¹åº”æ¨¡å‹çš„API Keyå³å¯ï¼Œéå¸¸ç®€å•ã€‚å¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚å’Œæ¨¡å‹è‡ªå®šä¹‰ã€‚<br /><img src="6cc63a6d9eea481e814864af3b047137.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="42-è‡ªåŠ¨è¡¥å…¨é…ç½®"><a class="markdownIt-Anchor" href="#42-è‡ªåŠ¨è¡¥å…¨é…ç½®"></a> 4.2ã€è‡ªåŠ¨è¡¥å…¨é…ç½®</h3><p>æ‰“å¼€<code>Code Completion</code>é€‰é¡¹ï¼Œå¦‚ä¸‹å›¾ï¼š<br /><img src="43dd56f8f5ca4ef5a886459c6e4afca3.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="a9d0bfc1b9c244f3bfd2a392df9afca2.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>QodeAssistçš„è‡ªåŠ¨è¡¥å…¨é…ç½®åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªä¸»è¦ç±»åˆ«ï¼ˆæŒ‰ç•Œé¢å¸ƒå±€æ’å¸ƒï¼‰ï¼Œé™„ä¸Šä¸ªäººå»ºè®®ä¾›å‚è€ƒï¼š</p><h5 id="è‡ªåŠ¨è¡¥å…¨åŸºç¡€è®¾ç½®"><a class="markdownIt-Anchor" href="#è‡ªåŠ¨è¡¥å…¨åŸºç¡€è®¾ç½®"></a> è‡ªåŠ¨è¡¥å…¨åŸºç¡€è®¾ç½®</h5><ul><li><strong>Enable Auto Complete</strong> (<code>autoCompletion</code>): å¯ç”¨æˆ–ç¦ç”¨è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½çš„ä¸»å¼€å…³</li><li><strong>Enable Multiline Completion</strong> (<code>multiLineCompletion</code>): å…è®¸ç”Ÿæˆè·¨å¤šè¡Œçš„ä»£ç è¡¥å…¨å»ºè®®ã€å»ºè®®ã€‘</li><li><strong>Enable stream option</strong> (<code>stream</code>): å¯ç”¨æµå¼å“åº”ï¼Œè®©è¡¥å…¨ç»“æœé€æ­¥æ˜¾ç¤ºã€å»ºè®®ã€‘</li><li><strong>Enable smart process text from instruct model</strong> (<code>smartProcessInstuctText</code>): æ™ºèƒ½å¤„ç†æŒ‡ä»¤æ¨¡å‹çš„æ–‡æœ¬è¾“å‡ºï¼Œå¦‚æœä¸è®¾ç½®è¿”å›ç»“æœå¤§æ¦‚ç‡ä¼šä»¥æ³¨é‡Šå¼€å¤´ã€‚ã€å»ºè®®ã€‘</li><li><strong>AI suggestion triggers after typing</strong> (<code>autoCompletionCharThreshold</code>): è®¾ç½®è§¦å‘AIå»ºè®®æ‰€éœ€çš„å­—ç¬¦æ•°é‡ï¼ˆ0-10ä¸ªå­—ç¬¦ï¼‰</li><li><strong>character(s) within(ms)</strong> (<code>autoCompletionTypingInterval</code>): è®¾ç½®å­—ç¬¦é˜ˆå€¼å¿…é¡»åœ¨å¤šé•¿æ—¶é—´çª—å£å†…æ»¡è¶³ï¼ˆ500-5000æ¯«ç§’ï¼‰</li><li><strong>with delay(ms)</strong> (<code>startSuggestionTimer</code>): è®¾ç½®å»ºè®®æ˜¾ç¤ºçš„å»¶è¿Ÿæ—¶é—´ï¼ˆ10-10000æ¯«ç§’ï¼‰</li><li><strong>Show progress indicator during code completion</strong>: åœ¨ä»£ç è¡¥å…¨è¿‡ç¨‹ä¸­æ˜¾ç¤ºè¿›åº¦æŒ‡ç¤ºå™¨</li><li><strong>Include context from open files</strong>: åœ¨è¡¥å…¨æ—¶åŒ…å«æ‰“å¼€æ–‡ä»¶çš„ä¸Šä¸‹æ–‡ã€ä¸å»ºè®®ã€‘</li></ul><h5 id="æ¨¡å‹å‚æ•°è®¾ç½®"><a class="markdownIt-Anchor" href="#æ¨¡å‹å‚æ•°è®¾ç½®"></a> æ¨¡å‹å‚æ•°è®¾ç½®</h5><p><strong>åŸºç¡€å‚æ•°ï¼š</strong></p><ul><li><strong>Temperature</strong>: æ§åˆ¶ç”Ÿæˆæ–‡æœ¬çš„éšæœºæ€§ï¼ˆ0.0-2.0ï¼Œé»˜è®¤0.2ï¼‰</li><li><strong>Max Tokens</strong>: è®¾ç½®ç”Ÿæˆçš„æœ€å¤§tokenæ•°é‡ï¼ˆ-1åˆ°900000ï¼Œé»˜è®¤100ï¼‰</li></ul><p><strong>é«˜çº§å‚æ•°ï¼š</strong></p><ul><li><strong>Top P</strong>: æ ¸é‡‡æ ·å‚æ•°ï¼Œæ§åˆ¶å€™é€‰è¯æ±‡çš„ç´¯ç§¯æ¦‚ç‡ï¼ˆ0.0-1.0ï¼‰</li><li><strong>Top K</strong>: é™åˆ¶å€™é€‰è¯æ±‡æ•°é‡ï¼ˆ1-1000ï¼‰</li><li><strong>Presence Penalty</strong>: å­˜åœ¨æƒ©ç½šï¼Œå‡å°‘é‡å¤å†…å®¹ï¼ˆ-2.0åˆ°2.0ï¼‰</li><li><strong>Frequency Penalty</strong>: é¢‘ç‡æƒ©ç½šï¼Œè¿›ä¸€æ­¥æ§åˆ¶é‡å¤ï¼ˆ-2.0åˆ°2.0ï¼‰</li></ul><h5 id="ä¸Šä¸‹æ–‡è®¾ç½®"><a class="markdownIt-Anchor" href="#ä¸Šä¸‹æ–‡è®¾ç½®"></a> ä¸Šä¸‹æ–‡è®¾ç½®</h5><ul><li><strong>Read Full File</strong>: è¯»å–å®Œæ•´æ–‡ä»¶å†…å®¹ä½œä¸ºä¸Šä¸‹æ–‡ã€ä¸å»ºè®®ã€‘</li><li><strong>Read Strings Before Cursor</strong>: è®¾ç½®å…‰æ ‡å‰è¯»å–çš„è¡Œæ•°ï¼ˆ0-10000è¡Œï¼Œé»˜è®¤50è¡Œï¼‰</li><li><strong>Read Strings After Cursor</strong>: è®¾ç½®å…‰æ ‡åè¯»å–çš„è¡Œæ•°ï¼ˆ0-10000è¡Œï¼Œé»˜è®¤30è¡Œï¼‰</li></ul><h5 id="æç¤ºè¯è®¾ç½®"><a class="markdownIt-Anchor" href="#æç¤ºè¯è®¾ç½®"></a> æç¤ºè¯è®¾ç½®</h5><p>è¿™é¡¹è®¾ç½®å–å†³ä½ ä½¿ç”¨çš„æ¨¡å‹æ˜¯å¦ä¸ºFIMæ¨¡å‹ã€‚</p><ul><li><strong>Use System Prompt</strong>: å¯ç”¨ç³»ç»Ÿæç¤ºè¯</li><li><strong>System Prompt</strong>: ä¸ºFIMæ¨¡å‹é…ç½®çš„ç³»ç»Ÿæç¤ºè¯</li><li><strong>Use special system prompt and user message for non FIM models</strong>: ä¸ºéFIMæ¨¡å‹ä½¿ç”¨ç‰¹æ®Šçš„æç¤ºè¯æ¨¡æ¿</li><li><strong>Max Changes Cache Size</strong>: é¡¹ç›®å˜æ›´ç¼“å­˜çš„æœ€å¤§å¤§å°ï¼ˆ2-1000ï¼Œé»˜è®¤10ï¼‰ã€ä¸å»ºè®®ã€‘</li><li><strong>Additional Programming Languages</strong>: æ·»åŠ è‡ªå®šä¹‰ç¼–ç¨‹è¯­è¨€æ”¯æŒ</li></ul><h5 id="quick-refactor-settingså¿«é€Ÿé‡æ„è®¾ç½®"><a class="markdownIt-Anchor" href="#quick-refactor-settingså¿«é€Ÿé‡æ„è®¾ç½®"></a> Quick Refactor Settingsï¼ˆå¿«é€Ÿé‡æ„è®¾ç½®ï¼‰</h5><p>Quick Refactor Settingsæ˜¯ä¸“é—¨ä¸ºå¿«é€Ÿé‡æ„åŠŸèƒ½é…ç½®çš„è®¾ç½®ç»„ï¼ŒåŒ…å«ä»¥ä¸‹é€‰é¡¹ï¼š</p><ul><li><strong>Include context from open files in quick refactor</strong> (<code>useOpenFilesInQuickRefactor</code>): åœ¨å¿«é€Ÿé‡æ„æ—¶åŒ…å«æ‰“å¼€æ–‡ä»¶çš„ä¸Šä¸‹æ–‡ä¿¡æ¯</li><li><strong>Quick Refactor System Prompt</strong> (<code>quickRefactorSystemPrompt</code>): ä¸“é—¨ä¸ºå¿«é€Ÿé‡æ„åŠŸèƒ½é…ç½®çš„ç³»ç»Ÿæç¤ºè¯ï¼Œé»˜è®¤å†…å®¹ä¸ºä¸“ä¸šçš„C++ã€Qtå’ŒQMLä»£ç è¡¥å…¨åŠ©æ‰‹æç¤º</li></ul><h5 id="ollama-settingsollamaè®¾ç½®"><a class="markdownIt-Anchor" href="#ollama-settingsollamaè®¾ç½®"></a> Ollama Settingsï¼ˆOllamaè®¾ç½®ï¼‰</h5><p>Ollama Settingsæ˜¯ä¸“é—¨ä¸ºOllamaæä¾›å•†é…ç½®çš„è®¾ç½®ç»„ï¼ŒåŒ…å«ä»¥ä¸‹é€‰é¡¹ï¼š</p><ul><li><strong>Livetime</strong> (<code>ollamaLivetime</code>): æ§åˆ¶Ollamaåœ¨å®Œæˆè¯·æ±‚åä¿æŒæ´»è·ƒçš„æ—¶é—´ï¼ˆä»¥åˆ†é’Ÿä¸ºå•ä½ï¼‰ï¼Œè®¾ç½®ä¸º-1å¯ç¦ç”¨æ­¤åŠŸèƒ½ï¼Œé»˜è®¤å€¼ä¸º&quot;5m&quot;</li><li><strong>Context Window</strong> (<code>contextWindow</code>): è®¾ç½®Ollamaçš„ä¸Šä¸‹æ–‡çª—å£å¤§å°ï¼ŒèŒƒå›´ä¸º-1åˆ°10000ï¼Œé»˜è®¤å€¼ä¸º2048</li></ul><h3 id="43-èŠå¤©åŠ©æ‰‹é…ç½®"><a class="markdownIt-Anchor" href="#43-èŠå¤©åŠ©æ‰‹é…ç½®"></a> 4.3ã€èŠå¤©åŠ©æ‰‹é…ç½®</h3><p>æ‰“å¼€<code>Chat Assistant</code>è®¾ç½®é¡µé¢ï¼Œå¦‚ä¸‹å›¾ï¼š<br /><img src="d6f42fe0096d452fa425069168b44c3d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>QodeAssistçš„èŠå¤©åŠ©æ‰‹é…ç½®åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªä¸»è¦ç±»åˆ«ï¼ˆæŒ‰ç•Œé¢å¸ƒå±€æ’å¸ƒï¼‰ï¼š</p><h5 id="chat-settingsèŠå¤©è®¾ç½®"><a class="markdownIt-Anchor" href="#chat-settingsèŠå¤©è®¾ç½®"></a> Chat Settingsï¼ˆèŠå¤©è®¾ç½®ï¼‰</h5><ul><li><strong>Chat history token limit</strong> (<code>chatTokensThreshold</code>): èŠå¤©å†å²è®°å½•çš„tokené™åˆ¶ï¼Œå½“è¶…è¿‡æ­¤é™åˆ¶æ—¶ä¼šç§»é™¤æœ€æ—§çš„æ¶ˆæ¯ï¼ŒèŒƒå›´1-99999999ï¼Œé»˜è®¤å€¼20000</li><li><strong>Sync open files with assistant by default</strong> (<code>linkOpenFiles</code>): é»˜è®¤æƒ…å†µä¸‹ä¸åŠ©æ‰‹åŒæ­¥æ‰€æœ‰æ‰“å¼€çš„æ–‡ä»¶ï¼Œé»˜è®¤å€¼falseã€ä¸å»ºè®®ã€‘</li><li><strong>Enable stream option</strong> (<code>stream</code>): å¯ç”¨æµå¼å“åº”é€‰é¡¹ï¼Œè®©å›å¤é€æ­¥æ˜¾ç¤ºï¼Œé»˜è®¤å€¼true</li><li><strong>Enable autosave when message received</strong> (<code>autosave</code>): æ”¶åˆ°æ¶ˆæ¯æ—¶å¯ç”¨è‡ªåŠ¨ä¿å­˜åŠŸèƒ½ï¼Œé»˜è®¤å€¼true</li></ul><h5 id="general-parametersåŸºç¡€å‚æ•°"><a class="markdownIt-Anchor" href="#general-parametersåŸºç¡€å‚æ•°"></a> General Parametersï¼ˆåŸºç¡€å‚æ•°ï¼‰</h5><ul><li><strong>Temperature</strong>: æ§åˆ¶ç”Ÿæˆæ–‡æœ¬çš„éšæœºæ€§å’Œåˆ›é€ æ€§ï¼ŒèŒƒå›´0.0-2.0ï¼Œé»˜è®¤å€¼0.5</li><li><strong>Max Tokens</strong>: è®¾ç½®ç”Ÿæˆå“åº”çš„æœ€å¤§tokenæ•°é‡ï¼ŒèŒƒå›´-1åˆ°10000ï¼Œé»˜è®¤å€¼2000</li></ul><h5 id="advanced-parametersé«˜çº§å‚æ•°"><a class="markdownIt-Anchor" href="#advanced-parametersé«˜çº§å‚æ•°"></a> Advanced Parametersï¼ˆé«˜çº§å‚æ•°ï¼‰</h5><ul><li><strong>Top P</strong>: æ ¸é‡‡æ ·å‚æ•°ï¼Œæ§åˆ¶å€™é€‰è¯æ±‡çš„ç´¯ç§¯æ¦‚ç‡ï¼ŒèŒƒå›´0.0-1.0ï¼Œé»˜è®¤å€¼0.9ï¼Œéœ€è¦å…ˆå¯ç”¨æ‰èƒ½ä½¿ç”¨</li><li><strong>Top K</strong>: é™åˆ¶å€™é€‰è¯æ±‡æ•°é‡ï¼ŒèŒƒå›´1-1000ï¼Œé»˜è®¤å€¼50ï¼Œéœ€è¦å…ˆå¯ç”¨æ‰èƒ½ä½¿ç”¨</li><li><strong>Presence Penalty</strong>: å­˜åœ¨æƒ©ç½šå‚æ•°ï¼Œå‡å°‘é‡å¤å†…å®¹çš„ç”Ÿæˆï¼ŒèŒƒå›´-2.0åˆ°2.0ï¼Œé»˜è®¤å€¼0.0</li><li><strong>Frequency Penalty</strong>: é¢‘ç‡æƒ©ç½šå‚æ•°ï¼Œè¿›ä¸€æ­¥æ§åˆ¶é‡å¤å†…å®¹ï¼ŒèŒƒå›´-2.0åˆ°2.0ï¼Œé»˜è®¤å€¼0.0</li></ul><h4 id="context-settingsä¸Šä¸‹æ–‡è®¾ç½®"><a class="markdownIt-Anchor" href="#context-settingsä¸Šä¸‹æ–‡è®¾ç½®"></a> Context Settingsï¼ˆä¸Šä¸‹æ–‡è®¾ç½®ï¼‰</h4><ul><li><strong>Use System Prompt</strong>: å¯ç”¨ç³»ç»Ÿæç¤ºè¯åŠŸèƒ½ï¼Œé»˜è®¤å€¼true</li><li><strong>System Prompt</strong>: é…ç½®èŠå¤©åŠ©æ‰‹çš„ç³»ç»Ÿæç¤ºè¯ï¼Œé»˜è®¤ä¸ºä¸“ä¸šçš„C++ã€Qtå’ŒQMLå¼€å‘AIåŠ©æ‰‹æç¤º</li></ul><h4 id="ollama-settingsollamaè®¾ç½®-2"><a class="markdownIt-Anchor" href="#ollama-settingsollamaè®¾ç½®-2"></a> Ollama Settingsï¼ˆOllamaè®¾ç½®ï¼‰</h4><ul><li><strong>Livetime</strong>: æ§åˆ¶Ollamaåœ¨å®Œæˆè¯·æ±‚åä¿æŒæ´»è·ƒçš„æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰ï¼Œè®¾ç½®ä¸º-1å¯ç¦ç”¨ï¼Œé»˜è®¤å€¼&quot;5m&quot;</li><li><strong>Context Window</strong>: è®¾ç½®Ollamaçš„ä¸Šä¸‹æ–‡çª—å£å¤§å°ï¼ŒèŒƒå›´-1åˆ°10000ï¼Œé»˜è®¤å€¼2048</li></ul><h5 id="chat-settingsèŠå¤©è®¾ç½®-2"><a class="markdownIt-Anchor" href="#chat-settingsèŠå¤©è®¾ç½®-2"></a> Chat Settingsï¼ˆèŠå¤©è®¾ç½®ï¼‰</h5><ul><li><strong>Text Font</strong>: è®¾ç½®èŠå¤©ç•Œé¢æ–‡æœ¬çš„å­—ä½“å®¶æ—ï¼Œä»ç³»ç»Ÿå¯ç”¨å­—ä½“ä¸­é€‰æ‹©ï¼Œé»˜è®¤ä¸ºç³»ç»Ÿå­—ä½“</li><li><strong>Text Font Size</strong>: è®¾ç½®æ–‡æœ¬å­—ä½“å¤§å°ï¼Œé»˜è®¤ä¸ºç³»ç»Ÿå­—ä½“å¤§å°</li><li><strong>Code Font</strong>: è®¾ç½®ä»£ç å—çš„å­—ä½“å®¶æ—ï¼Œé»˜è®¤ä¸ºç­‰å®½å­—ä½“</li><li><strong>Code Font Size</strong>: è®¾ç½®ä»£ç å­—ä½“å¤§å°ï¼Œé»˜è®¤ä¸ºç³»ç»Ÿå­—ä½“å¤§å°</li><li><strong>Text Format</strong>: è®¾ç½®æ–‡æœ¬æ ¼å¼æ˜¾ç¤ºæ–¹å¼ï¼Œå¯é€‰æ‹©Markdownã€HTMLæˆ–çº¯æ–‡æœ¬ï¼Œé»˜è®¤ä¸ºMarkdown</li></ul><h3 id="ç»“å°¾"><a class="markdownIt-Anchor" href="#ç»“å°¾"></a> ç»“å°¾</h3><p>æ ¹æ®ä¸Šè¿°æç¤ºè®¾ç½®åå³å¯ä½¿ç”¨ï¼Œå¦‚æœæœ‰å¼€å¯æ—¥å¿—é€‰é¡¹ï¼Œå¯ä»¥åœ¨QtCreatoråº•éƒ¨<code>æ¦‚è¦ä¿¡æ¯</code>å†…æŸ¥çœ‹ï¼›å¦‚æœæƒ³ä½¿ç”¨è‡ªåŠ¨è¡¥å…¨ï¼Œåˆæ²¡æœ‰å¼€å¯è‡ªåŠ¨è¡¥å…¨è®¾ç½®ï¼Œå¯ä»¥é€šè¿‡å¿«æ·é”®<code>Ctrl Alt Q</code>æˆ–è€…å³é”®èœå•å¼€å¯ï¼›å¦‚æœæƒ³ä½¿ç”¨èŠå¤©åŠ©æ‰‹ï¼Œåœ¨åº•éƒ¨<code>QodeAssist Chat</code>æŸ¥çœ‹ï¼Œå¦‚ä¸‹å›¾ã€‚<br /><img src="69dd3da86adb4c9f8660f843c4659c9b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ç»“æŸã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt5.14.2ä½¿ç”¨é«˜ç‰ˆæœ¬QtCreator</title>
      <link href="/2025/07/30/Qt/Qt5.14.2%E4%BD%BF%E7%94%A8%E9%AB%98%E7%89%88%E6%9C%ACQtCreator/"/>
      <url>/2025/07/30/Qt/Qt5.14.2%E4%BD%BF%E7%94%A8%E9%AB%98%E7%89%88%E6%9C%ACQtCreator/</url>
      
        <content type="html"><![CDATA[<h2 id="1-å®‰è£…qt5142"><a class="markdownIt-Anchor" href="#1-å®‰è£…qt5142"></a> 1ã€å®‰è£…Qt5.14.2</h2><p>5.14.2æ˜¯æä¾›ç¦»çº¿å®‰è£…åŒ…çš„æœ€åä¸€ä¸ªç‰ˆæœ¬ï¼Œå®ƒå®‰è£…æ—¶æ˜¯é»˜è®¤é…ä¸ŠQt Creator 4.11.1ç‰ˆæœ¬çš„ã€‚è¿™ä¸ªç‰ˆæœ¬çš„QtCreatoræ— æ³•å–æ¶ˆï¼Œä¸è¿‡å ç”¨ç©ºé—´ä¸å¤§ï¼Œåç»­ä¹Ÿä¸ä¼šç”¨åˆ°å®ƒã€‚æŒ‰ä¸‹é¢é€‰é¡¹å®‰è£…<br /><img src="be20bf684b3640d9807c40e4668aa7c1.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h2 id="2-å®‰è£…qtcreator"><a class="markdownIt-Anchor" href="#2-å®‰è£…qtcreator"></a> 2ã€å®‰è£…QtCreator</h2><h3 id="1-è·å–æœ€æ–°ç‰ˆqtcreator"><a class="markdownIt-Anchor" href="#1-è·å–æœ€æ–°ç‰ˆqtcreator"></a> 1ã€è·å–æœ€æ–°ç‰ˆQtCreator</h3><p>è®¿é—®Qt<a href="https://www.qt.io/download-qt-installer-oss">å®˜æ–¹ç½‘ç«™</a>ï¼Œ ä¸‹è½½å¯¹åº”ç¯å¢ƒç‰ˆæœ¬ï¼Œæœ¬äººç”¨çš„æ˜¯Windows10 x64ç¯å¢ƒã€‚å¦å¤–ï¼Œåœ¨çº¿å®‰è£…éœ€è¦ç™»å½•ä¸ªäººè´¦å·ï¼Œè¿™ä¸ªè¦åœ¨Qtå®˜ç½‘ä¸Šæå‰æ³¨å†Œã€‚å®‰è£…å™¨ä¸‹è½½æˆåŠŸåï¼Œå¯åŠ¨å¹¶ç™»å½•ä¸ªäººè´¦å·ï¼Œå¿«é€Ÿè¿›å…¥å®‰è£…é€‰é¡¹ã€‚å®‰è£…è¿‡ç¨‹ä¸­ï¼Œé™¤äº†è‡ªå®šä¹‰é‚£ä¸€æ­¥ï¼Œå…¶ä»–æ—¶å€™èƒ½å‹¾ä¸Šçš„é€‰é¡¹å°½é‡éƒ½å‹¾ä¸Šã€‚</p><h3 id="2-å®‰è£…é€‰é¡¹"><a class="markdownIt-Anchor" href="#2-å®‰è£…é€‰é¡¹"></a> 2ã€å®‰è£…é€‰é¡¹</h3><p>å®‰è£…é€‰é¡¹é‡Œï¼ŒQtä¼šæä¾›é»˜è®¤çš„å®‰è£…é…ç½®ï¼Œé€‰æ‹©ä½ æƒ³è¦çš„æ¨¡å¼è¿›è¡Œå®‰è£…ï¼Œç„¶åä¸€ç›´ä¸‹ä¸€æ­¥å³å¯ã€‚æœ¬äººåªéœ€è¦å®‰è£…QtCreatorï¼Œæ‰€ä»¥æ²¡æœ‰é€‰æ‹©å®‰è£…å™¨æ¨èçš„å¼€å‘å·¥å…·é€‰é¡¹ï¼Œè€Œæ˜¯è‡ªå®šä¹‰ã€‚å…ˆé€‰æ‹©é¡¶éƒ¨çš„<strong>æ— </strong>æŠŠæ‰€æœ‰é€‰ä¸­å–æ¶ˆï¼Œç„¶åå•ç‹¬é€‰æ‹©Qt Creatorä¸­çš„Qt Creator 16.0.2å®‰è£…ã€‚</p><p><img src="528adbf860884c9fbb28e5568deccf4a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><blockquote><p>å¦‚æœåœ¨å‡ºç°äº†ç±»ä¼¼ ä¸»æœºXXæ²¡æœ‰æ‰¾åˆ° çš„æŠ¥é”™ï¼Œå…ˆæ˜¯åœ¨å®‰è£…å™¨çš„è®¾ç½®å¤„é€‰æ‹©æ¸…é™¤ç¼“å­˜ã€‚<br />æ¸…é™¤ç¼“å­˜åé‡è¯•ä»ç„¶æŠ¥é”™ï¼šâ€œ<a href="https://mirrors.sau.edu.cn/qt/online/qtsdkrepository/all_os/unified_patching/2023-11-21-1039_meta.7z%E2%80%9D%E6%97%B6%E5%87%BA%E7%8E%B0%E7%BD%91%E7%BB%9C%E9%94%99%E8%AF%AF%EF%BC%9A%E4%B8%BB%E6%9C%BA">https://mirrors.sau.edu.cn/qt/online/qtsdkrepository/all_os/unified_patching/2023-11-21-1039_meta.7zâ€æ—¶å‡ºç°ç½‘ç»œé”™è¯¯ï¼šä¸»æœº</a> <a href="http://mirrors.sau.edu.cn">mirrors.sau.edu.cn</a> æ²¡æœ‰æ‰¾åˆ°ã€‚<br />æ­¤æ—¶éœ€è¦ç¬¬äºŒç§æ–¹æ¡ˆï¼Œæ¢æºé‡æ–°å®‰è£…ï¼Œæ¨èä½¿ç”¨æ¸…åå¤§å­¦çš„æºï¼š<a href="https://mirrors.tuna.tsinghua.edu.cn/qt/%EF%BC%8C%E5%85%B7%E4%BD%93%E6%93%8D%E4%BD%9C%E6%96%B9%E6%A1%88%EF%BC%9A">https://mirrors.tuna.tsinghua.edu.cn/qt/ï¼Œå…·ä½“æ“ä½œæ–¹æ¡ˆï¼š</a><br />1ã€æ‰“å¼€å®‰è£…ç¨‹åºæ‰€åœ¨æ–‡ä»¶å¤¹ï¼Œshift+é¼ æ ‡å³é”®å¯ä»¥æ‰“å¼€windowsç»ˆç«¯<br />2ã€åœ¨windowsç»ˆç«¯ä¸­è¾“å…¥å‘½ä»¤<br />.\qt-online-installer-windows-x64-4.9.0.exe --mirror <a href="https://mirrors.tuna.tsinghua.edu.cn/qt/">https://mirrors.tuna.tsinghua.edu.cn/qt/</a><br />å¦‚æœæ¸…åçš„æºè®¿é—®å¤±è´¥ï¼Œä¹Ÿå¯ä»¥æ¢ä¸ªæº<br />.\qt-online-installer-windows-x64-4.9.0.exe --mirror <a href="https://mirrors.ustc.edu.cn/qtproject">https://mirrors.ustc.edu.cn/qtproject</a><br />å‰é¢çš„exeæ¢æˆä½ è‡ªå·±çš„å®‰è£…å™¨ç‰ˆæœ¬ï¼Œå›è½¦æ­£å¸¸å®‰è£…å³å¯</p></blockquote><h3 id="3-ä½¿ç”¨ç‹¬ç«‹qtcreatorç¦»çº¿å®‰è£…åŒ…202571æ›´æ–°"><a class="markdownIt-Anchor" href="#3-ä½¿ç”¨ç‹¬ç«‹qtcreatorç¦»çº¿å®‰è£…åŒ…202571æ›´æ–°"></a> 3ã€ä½¿ç”¨ç‹¬ç«‹QtCreatorç¦»çº¿å®‰è£…åŒ…ï¼ˆ2025.7.1æ›´æ–°ï¼‰</h3><p>è®¿é—®ï¼š<a href="https://www.qt.io/offline-installers">å®˜æ–¹QtCreatorç‹¬ç«‹å®‰è£…åŒ…</a><br />æ ¹æ®ä¸ªäººç¯å¢ƒé€‰æ‹©ç‹¬ç«‹å®‰è£…åŒ…è¿›è¡Œä¸‹è½½ï¼Œå¦‚ä¸‹å›¾ã€‚ä¸‹è½½å®Œæˆåä¸€è·¯å‚»ç“œå¼å®‰è£…å³å¯ã€‚<br /><img src="11d9930550414189b1bc51435acd5de4.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="fb565c70ca1b46c79472cfd9ae5d69d3.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ä¸Šé¢è‡ªå®šä¹‰å®‰è£…é€‰é¡¹ä¸­ï¼Œæœ€åä¸€é¡¹å‹¾ä¸Šå¯ä»¥æ·»åŠ è‡ªå®šä¹‰æ’ä»¶ï¼Œå¯¹äºä½¿ç”¨AIæ’ä»¶å¾ˆæ–¹ä¾¿ã€‚</p><h2 id="3-ç»™æœ€æ–°qtcreatoré…ç½®qt5142"><a class="markdownIt-Anchor" href="#3-ç»™æœ€æ–°qtcreatoré…ç½®qt5142"></a> 3ã€ç»™æœ€æ–°QtCreatoré…ç½®Qt5.14.2</h2><h3 id="1-æ‰“å¼€æ„å»ºå¥—ä»¶kit"><a class="markdownIt-Anchor" href="#1-æ‰“å¼€æ„å»ºå¥—ä»¶kit"></a> 1ã€æ‰“å¼€æ„å»ºå¥—ä»¶Kit</h3><p>è€ç‰ˆæœ¬çš„è®¾ç½®åœ¨é¡¶éƒ¨èœå•çš„<strong>å·¥å…·</strong>ä¸€æ çš„æœ€ä¸‹æ–¹ï¼Œæ–°ç‰ˆæœ¬è¦ä»é¡¶å±‚èœå•çš„<strong>ç¼–è¾‘</strong>ä¸€æ æœ€ä¸‹æ–¹è¿›å…¥ã€‚è¿›å…¥è®¾ç½®åæ‰¾åˆ°æ„å»ºå¥—ä»¶ï¼ˆKitï¼‰ã€‚</p><h3 id="2-æ‰‹åŠ¨æ·»åŠ qtç‰ˆæœ¬-ç¼–è¯‘å™¨-è°ƒè¯•å™¨"><a class="markdownIt-Anchor" href="#2-æ‰‹åŠ¨æ·»åŠ qtç‰ˆæœ¬-ç¼–è¯‘å™¨-è°ƒè¯•å™¨"></a> 2ã€æ‰‹åŠ¨æ·»åŠ Qtç‰ˆæœ¬ã€ç¼–è¯‘å™¨ã€è°ƒè¯•å™¨</h3><p>åœ¨æ·»åŠ å¥—ä»¶ä¹‹å‰ï¼Œè¦çŸ¥é“ä¸€ä¸ªå¥—ä»¶æ˜¯åŒ…æ‹¬Qtç‰ˆæœ¬ï¼ˆæ‰¾åˆ°å¯¹åº”Qtç‰ˆæœ¬çš„qmake.exeï¼‰ã€ç¼–è¯‘å™¨å’Œè°ƒè¯•å™¨çš„ã€‚æˆ‘ä»¬ä¸€æ­¥æ­¥æ·»åŠ ï¼Œå…ˆåœ¨Qtç‰ˆæœ¬ä¸€æ æ‰‹åŠ¨æ·»åŠ Qt5.14.2çš„mingw64å¯¹åº”çš„qmake.exeï¼Œéœ€è¦æ³¨æ„çš„åœ°æ–¹å·²ç»åœ¨å›¾ä¸Šæ ‡å‡ºäº†ã€‚</p><p><img src="a2af3d47cb784a8380c8c4f618193af8.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />åŒç†ï¼Œæ‰‹åŠ¨æ·»åŠ ç¼–è¯‘å™¨ï¼Œæ€»å…±éœ€è¦ç»™ä¸ªåç§°ï¼Œç„¶åæ‰¾åˆ°å¯¹åº”ç‰ˆæœ¬çš„gcc.exeä½œä¸ºC compiler pathï¼Œä¸€èˆ¬åŒè·¯å¾„ä¸‹ä¼šæœ‰ä¸ªg++.exeï¼Œä¼šåœ¨é€‰ä¸­gcc.exeåè‡ªåŠ¨é…ç½®ä¸ºC++ compiler pathã€‚<strong>æ³¨æ„ï¼Œæœ¬äººçš„ç¼–è¯‘å™¨å·²ç»åœ¨è‡ªåŠ¨æ£€æµ‹ä¸€æ è¯†åˆ«åˆ°äº†ï¼Œæ‰€ä»¥è¿™é‡Œæ“ä½œä¼šæŠ¥é‡å¤æ·»åŠ ï¼Œä»…ä½œæ¼”ç¤ºã€‚</strong><br /><img src="5a7149ad72a54cd19ab7e1a592da152b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ç„¶åæ˜¯è°ƒè¯•å™¨ï¼Œä¸€èˆ¬éƒ½èƒ½è‡ªåŠ¨æ£€æµ‹å‡ºæ¥ï¼Œå¦‚æœæ£€æµ‹ä¸å‡ºæ¥å°±è¦è‡ªè¡Œæ’æŸ¥ã€‚å¦‚æœæ˜¯MinGWï¼Œçœ‹å‰é¢å®‰è£…Qtæ—¶æ˜¯å¦æœ‰é€‰æ‹©åŒæ—¶å®‰è£…è°ƒè¯•å·¥å…·ï¼›å¦‚æœæ˜¯MSVCï¼Œè¦å•ç‹¬ä¸‹è½½å¯¹åº”çš„è°ƒè¯•å·¥å…·ï¼Œå†é‡æ–°æ£€æµ‹ã€‚</p><h3 id="3-æ‰‹åŠ¨æ·»åŠ æ„å»ºå¥—ä»¶"><a class="markdownIt-Anchor" href="#3-æ‰‹åŠ¨æ·»åŠ æ„å»ºå¥—ä»¶"></a> 3ã€æ‰‹åŠ¨æ·»åŠ æ„å»ºå¥—ä»¶</h3><p>å®Œæˆç¬¬äºŒæ­¥åï¼Œåªéœ€è¦åœ¨æ„å»ºå¥—ä»¶ï¼ˆKitï¼‰ä¸€æ æŠŠå®ƒä»¬é›†æˆåˆ°ä¸€èµ·å³å¯ã€‚<br /><img src="f45c5bc503d849b58f414890b4af16fe.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />æ‰€æœ‰æ“ä½œå®Œæˆåï¼Œåº”ç”¨å³å¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç†è§£æ¨¡å‹å¾®è°ƒï¼ˆFine-tuningï¼‰ å’Œ æ¨¡å‹è’¸é¦ï¼ˆDistillationï¼‰</title>
      <link href="/2025/07/29/LLM/%E7%90%86%E8%A7%A3%E6%A8%A1%E5%9E%8B%E5%BE%AE%E8%B0%83%EF%BC%88Fine-tuning%EF%BC%89%20%E5%92%8C%20%E6%A8%A1%E5%9E%8B%E8%92%B8%E9%A6%8F%EF%BC%88Distillation%EF%BC%89/"/>
      <url>/2025/07/29/LLM/%E7%90%86%E8%A7%A3%E6%A8%A1%E5%9E%8B%E5%BE%AE%E8%B0%83%EF%BC%88Fine-tuning%EF%BC%89%20%E5%92%8C%20%E6%A8%A1%E5%9E%8B%E8%92%B8%E9%A6%8F%EF%BC%88Distillation%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p>å¤§æ¨¡å‹è’¸é¦ä¸å¤§æ¨¡å‹å¾®è°ƒæ˜¯å½“å‰äººå·¥æ™ºèƒ½é¢†åŸŸä¸­ä¸¤ç§é‡è¦çš„æŠ€æœ¯æ‰‹æ®µï¼Œå®ƒä»¬åœ¨æ¨¡å‹ä¼˜åŒ–ã€æ€§èƒ½æå‡å’Œèµ„æºåˆ©ç”¨æ–¹é¢å„æœ‰ç‰¹ç‚¹ã€‚ä»¥ä¸‹å°†ä»å®šä¹‰ã€æŠ€æœ¯åŸç†ã€åº”ç”¨åœºæ™¯åŠä¼˜ç¼ºç‚¹ç­‰æ–¹é¢å¯¹è¿™ä¸¤ç§æŠ€æœ¯è¿›è¡Œæ·±å…¥å¯¹æ¯”ã€‚</p><h3 id="ä¸€-å®šä¹‰ä¸åŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#ä¸€-å®šä¹‰ä¸åŸºæœ¬æ¦‚å¿µ"></a> ä¸€ã€å®šä¹‰ä¸åŸºæœ¬æ¦‚å¿µ</h3><ol><li><p><strong>å¤§æ¨¡å‹è’¸é¦ï¼ˆKnowledge Distillationï¼‰</strong><br />è’¸é¦æ˜¯ä¸€ç§å°†å¤§å‹å¤æ‚æ¨¡å‹ï¼ˆæ•™å¸ˆæ¨¡å‹ï¼‰çš„çŸ¥è¯†è¿ç§»åˆ°å°å‹æ¨¡å‹ï¼ˆå­¦ç”Ÿæ¨¡å‹ï¼‰çš„æŠ€æœ¯ã€‚é€šè¿‡è®­ç»ƒå­¦ç”Ÿæ¨¡å‹æ¨¡ä»¿æ•™å¸ˆæ¨¡å‹çš„è¡Œä¸ºï¼Œå®ç°æ¨¡å‹å‹ç¼©å’Œæ€§èƒ½ä¿ç•™çš„ç›®æ ‡ã€‚è’¸é¦è¿‡ç¨‹é€šå¸¸åŒ…æ‹¬ä¸¤ä¸ªé˜¶æ®µï¼šé¢„è®­ç»ƒé˜¶æ®µï¼ˆæ•™å¸ˆæ¨¡å‹è®­ç»ƒï¼‰å’ŒçŸ¥è¯†ä¼ é€’é˜¶æ®µï¼ˆå­¦ç”Ÿæ¨¡å‹è®­ç»ƒï¼‰ã€‚</p></li><li><p><strong>å¤§æ¨¡å‹å¾®è°ƒï¼ˆFine-tuningï¼‰</strong><br />å¾®è°ƒæ˜¯æŒ‡åœ¨é¢„è®­ç»ƒçš„å¤§æ¨¡å‹åŸºç¡€ä¸Šï¼Œé€šè¿‡å°‘é‡æ ‡æ³¨æ•°æ®çš„å†è®­ç»ƒï¼Œä½¿æ¨¡å‹é€‚åº”ç‰¹å®šä»»åŠ¡çš„éœ€æ±‚ã€‚å¾®è°ƒå¯ä»¥åˆ†ä¸ºå…¨é‡å¾®è°ƒå’Œå‚æ•°é«˜æ•ˆå¾®è°ƒï¼ˆå¦‚PEFTï¼‰ã€‚å…¨é‡å¾®è°ƒé€‚ç”¨äºéœ€è¦é«˜ç²¾åº¦è¾“å‡ºçš„ä»»åŠ¡ï¼Œè€Œå‚æ•°é«˜æ•ˆå¾®è°ƒåˆ™é€šè¿‡ä¼˜åŒ–è¶…å‚æ•°å’Œè°ƒæ•´ç­–ç•¥ï¼Œå‡å°‘è®¡ç®—èµ„æºæ¶ˆè€—ã€‚</p></li></ol><h3 id="äºŒ-æŠ€æœ¯åŸç†ä¸å®ç°æ–¹å¼"><a class="markdownIt-Anchor" href="#äºŒ-æŠ€æœ¯åŸç†ä¸å®ç°æ–¹å¼"></a> äºŒã€æŠ€æœ¯åŸç†ä¸å®ç°æ–¹å¼</h3><ol><li><p><strong>å¤§æ¨¡å‹è’¸é¦çš„æŠ€æœ¯åŸç†</strong></p><ul><li><strong>çŸ¥è¯†ä¼ é€’</strong>ï¼šé€šè¿‡æ•™å¸ˆæ¨¡å‹ç”Ÿæˆé«˜è´¨é‡çš„è½¯æ ‡ç­¾ï¼ˆæ¦‚ç‡åˆ†å¸ƒï¼‰ï¼Œå­¦ç”Ÿæ¨¡å‹é€šè¿‡å­¦ä¹ è¿™äº›æ ‡ç­¾æ¥æ¨¡ä»¿æ•™å¸ˆçš„è¡Œä¸ºã€‚</li><li><strong>é€æ­¥è’¸é¦æ³•</strong>ï¼šé€æ­¥è’¸é¦æ˜¯ä¸€ç§åˆ†æ­¥æ–¹æ³•ï¼Œé€šè¿‡é€æ­¥å¢åŠ è’¸é¦è¿‡ç¨‹ä¸­çš„å¤æ‚æ€§ï¼Œæå‡å­¦ç”Ÿæ¨¡å‹çš„æ€§èƒ½ã€‚</li><li><strong>å‰ªæä¸é‡åŒ–</strong>ï¼šè’¸é¦è¿‡ç¨‹ä¸­å¸¸ç»“åˆæ¨¡å‹å‰ªæå’Œé‡åŒ–æŠ€æœ¯ï¼Œè¿›ä¸€æ­¥å‹ç¼©æ¨¡å‹å¤§å°å¹¶é™ä½è®¡ç®—æˆæœ¬ã€‚</li></ul></li><li><p><strong>å¤§æ¨¡å‹å¾®è°ƒçš„æŠ€æœ¯åŸç†</strong></p><ul><li><strong>å¢é‡å­¦ä¹ </strong>ï¼šåœ¨é¢„è®­ç»ƒæ¨¡å‹çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡å°‘é‡æ ‡æ³¨æ•°æ®è¿›è¡Œå†è®­ç»ƒï¼Œä½¿æ¨¡å‹æ›´å¥½åœ°é€‚åº”ç‰¹å®šä»»åŠ¡ã€‚</li><li><strong>å‚æ•°é«˜æ•ˆå¾®è°ƒï¼ˆPEFTï¼‰</strong> ï¼šåŒ…æ‹¬Prefix Tuningã€Prompt Tuningç­‰æ–¹æ³•ï¼Œé€šè¿‡å°‘é‡å‚æ•°è°ƒæ•´å®ç°é«˜æ•ˆçš„å¾®è°ƒæ•ˆæœã€‚</li><li><strong>è‡ªé€‚åº”å¾®è°ƒ</strong>ï¼šæ ¹æ®ä»»åŠ¡éœ€æ±‚åŠ¨æ€è°ƒæ•´å­¦ä¹ ç‡ã€æ­£åˆ™åŒ–ç­–ç•¥ç­‰è¶…å‚æ•°ï¼Œä»¥æé«˜æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚</li></ul></li></ol><h3 id="ä¸‰-æ¨¡å‹å¾®è°ƒåƒä¸“ä¸šè¿›ä¿®"><a class="markdownIt-Anchor" href="#ä¸‰-æ¨¡å‹å¾®è°ƒåƒä¸“ä¸šè¿›ä¿®"></a> ä¸‰ã€æ¨¡å‹å¾®è°ƒï¼šåƒâ€œä¸“ä¸šè¿›ä¿®â€</h3><p><strong>å®ƒæ˜¯ä»€ä¹ˆï¼Ÿ</strong></p><ul><li>ä½ æœ‰ä¸€ä¸ª **â€œä»€ä¹ˆéƒ½æ‡‚ä¸€ç‚¹â€ çš„é€šæ‰**ï¼ˆé¢„è®­ç»ƒå¤§æ¨¡å‹ï¼Œæ¯”å¦‚ ChatGPTï¼‰ï¼Œä½†ä¸æ‡‚æŸä¸ªä¸“ä¸šé¢†åŸŸï¼ˆæ¯”å¦‚æ³•å¾‹ã€åŒ»ç–—ï¼‰ã€‚</li><li><strong>å¾®è°ƒå°±æ˜¯é€å®ƒå»â€œä¸“ä¸šåŸ¹è®­ç­â€</strong>ï¼šç”¨ **å°‘é‡ä¸“ä¸šèµ„æ–™**ï¼ˆæ³•å¾‹æ–‡ä¹¦/åŒ»å­¦ç—…ä¾‹ï¼‰æ•™å®ƒï¼Œè®©å®ƒå˜æˆè¯¥é¢†åŸŸçš„ä¸“å®¶ã€‚</li></ul><p>âš™ï¸ <strong>æ€ä¹ˆåšï¼Ÿ</strong></p><ol><li><strong>ä¸ä»å¤´å­¦</strong>ï¼šä¿ç•™å®ƒåŸæœ¬çš„é€šç”¨çŸ¥è¯†ï¼ˆæ¯”å¦‚è¯­è¨€èƒ½åŠ›ï¼‰ã€‚</li><li><strong>å°èŒƒå›´è°ƒæ•´</strong>ï¼šåªä¿®æ”¹æ¨¡å‹ **ä¸€å°éƒ¨åˆ†å‚æ•°**ï¼ˆå°±åƒåŒ»ç”Ÿè¿›ä¿®åªæ›´æ–°â€œè¯Šæ–­çŸ¥è¯†â€ï¼Œä¸é‡å­¦è§£å‰–å­¦ï¼‰ã€‚</li><li><strong>æˆæœ</strong>ï¼šå®ƒæˆäº† <strong>â€œæ³•å¾‹ç‰ˆChatGPTâ€</strong> æˆ– **â€œåŒ»ç–—åŠ©æ‰‹â€**ï¼Œä¸“ä¸šé—®é¢˜ç­”å¾—æ›´å‡†ã€‚</li></ol><p>âœ… **æ¯”å–»**ï¼š<br /><strong>é€šæ‰åŒ»ç”Ÿ â†’ é€å»å¿ƒå†…ç§‘è¿›ä¿® â†’ å˜æˆå¿ƒè„ç—…ä¸“å®¶</strong><br />ï¼ˆè¿˜æ˜¯åŒä¸€ä¸ªäººï¼Œä½†æŸäº›èƒ½åŠ›æ›´å¼ºäº†ï¼‰</p><h3 id="å››-æ¨¡å‹è’¸é¦åƒå¸ˆå¾’ä¼ æ‰¿"><a class="markdownIt-Anchor" href="#å››-æ¨¡å‹è’¸é¦åƒå¸ˆå¾’ä¼ æ‰¿"></a> å››ã€æ¨¡å‹è’¸é¦ï¼šåƒâ€œå¸ˆå¾’ä¼ æ‰¿â€</h3><p><strong>å®ƒæ˜¯ä»€ä¹ˆï¼Ÿ</strong></p><ul><li>ä½ æœ‰ä¸ª **è¶…çº§åšå­¦çš„è€æ•™æˆ**ï¼ˆå¤§æ¨¡å‹ï¼‰ï¼Œä½†taå¤ªè´µ/å¤ªæ…¢ï¼ˆéœ€è¦é¡¶çº§ç®—åŠ›ï¼‰ã€‚</li><li><strong>è’¸é¦å°±æ˜¯è®©è€æ•™æˆæ•™å‡ºä¸€ä¸ªâ€œå°‘å¹´å¤©æ‰â€</strong>ï¼ˆå°æ¨¡å‹ï¼‰ï¼šæŠŠè€æ•™æˆçš„çŸ¥è¯† <strong>å‹ç¼©ä¼ æˆ</strong> ç»™å­¦ç”Ÿï¼Œè®©å­¦ç”Ÿç”¨æ›´å°‘èµ„æºè¾¾åˆ°æ¥è¿‘è€å¸ˆçš„æ°´å¹³ã€‚</li></ul><p>âš™ï¸ <strong>æ€ä¹ˆåšï¼Ÿ</strong></p><ol><li><strong>è€å¸ˆç¤ºèŒƒ</strong>ï¼šè®©å¤§æ¨¡å‹å¯¹åŒä¸€é—®é¢˜ç”Ÿæˆ **è¯¦ç»†ç­”æ¡ˆ+è§£é¢˜æ€è·¯**ï¼ˆä¸ä»…ç»™ç­”æ¡ˆï¼Œè¿˜æ•™â€œä¸ºä»€ä¹ˆé€‰Aä¸é€‰Bâ€ï¼‰ã€‚</li><li><strong>å­¦ç”Ÿæ¨¡ä»¿</strong>ï¼šå°æ¨¡å‹å­¦ä¹ è€å¸ˆçš„ **æ€è€ƒé€»è¾‘**ï¼ˆè€Œä¸åªæ˜¯æ­»è®°ç¡¬èƒŒç­”æ¡ˆï¼‰ã€‚</li><li><strong>æˆæœ</strong>ï¼šå°æ¨¡å‹å˜å¾— **åˆå¿«åˆå°åˆèªæ˜**ï¼Œèƒ½åœ¨æ‰‹æœºã€æ‰‹è¡¨ä¸Šè¿è¡Œã€‚</li></ol><p>âœ… **æ¯”å–»**ï¼š<br /><strong>è€æ•™æˆï¼ˆGPT-4ï¼‰â†’ æŠŠæ¯•ç”Ÿå¿ƒå¾—æ•™ç»™å¤©æ‰å°‘å¹´ï¼ˆTinyLLMï¼‰â†’ å°‘å¹´èƒ½ç‹¬ç«‹çœ‹ç—…å¼€è¯ï¼Œä½†åªå¸¦ä¸ªå°è¯ç®±</strong></p><h3 id="äº”-å¯¹æ¯”æ€»ç»“æ ¸å¿ƒåŒºåˆ«ä¸€çœ¼æ‡‚"><a class="markdownIt-Anchor" href="#äº”-å¯¹æ¯”æ€»ç»“æ ¸å¿ƒåŒºåˆ«ä¸€çœ¼æ‡‚"></a> äº”ã€å¯¹æ¯”æ€»ç»“ï¼šæ ¸å¿ƒåŒºåˆ«ä¸€çœ¼æ‡‚</h3><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><td>ç‰¹ç‚¹</td><td>æ¨¡å‹å¾®è°ƒ</td><td>æ¨¡å‹è’¸é¦</td></tr><tr><td>ç›®æ ‡</td><td>è®©å¤§æ¨¡å‹ æ›´ä¸“ä¸š</td><td>è®©å¤§æ¨¡å‹ å˜å°å˜å¿«</td></tr><tr><td>æ“ä½œå¯¹è±¡</td><td>åŸæ¨¡å‹è‡ªå·±è¿›ä¿®</td><td>å¤§æ¨¡å‹æ•™å°æ¨¡å‹ï¼ˆä¸¤ä¸ªæ¨¡å‹ï¼ï¼‰</td></tr><tr><td>èµ„æºéœ€æ±‚</td><td>ä¸­ç­‰ï¼ˆéœ€ä¸“ä¸šæ•°æ®ï¼‰</td><td>è¾ƒé«˜ï¼ˆéœ€è€å¸ˆç”Ÿæˆæ•™å­¦ææ–™ï¼‰</td></tr><tr><td>å…¸å‹ç»“æœ</td><td>é¢†åŸŸä¸“å®¶æ¨¡å‹ï¼ˆå¦‚åŒ»ç–—GPTï¼‰</td><td>è½»é‡å°æ¨¡å‹ï¼ˆæ‰‹æœºå¯è¿è¡Œï¼‰</td></tr><tr><td>ç±»æ¯”</td><td>åŒ»ç”Ÿè¿›ä¿®ä¸“ç§‘</td><td>æ•™æˆåŸ¹å…»å¤©æ‰å­¦ç”Ÿ</td></tr></tbody></table><h3 id="å…­-ä»€ä¹ˆåœºæ™¯ç”¨å“ªä¸ª"><a class="markdownIt-Anchor" href="#å…­-ä»€ä¹ˆåœºæ™¯ç”¨å“ªä¸ª"></a> å…­ã€ä»€ä¹ˆåœºæ™¯ç”¨å“ªä¸ªï¼Ÿ</h3><p><strong>é€‰å¾®è°ƒå½“ä½ çš„æ¨¡å‹éœ€è¦ï¼š</strong></p><ul><li>å›ç­” **ä¸“ä¸šé¢†åŸŸé—®é¢˜**ï¼ˆæ³•å¾‹ã€é‡‘èã€åŒ»ç–—ï¼‰</li><li>ç†è§£ **ä¼ä¸šç§æœ‰æœ¯è¯­**ï¼ˆæ¯”å¦‚å…¬å¸å†…éƒ¨é»‘è¯ï¼‰</li><li>é€‚é… **ç‰¹æ®Šä»»åŠ¡æ ¼å¼**ï¼ˆè‡ªåŠ¨ç”ŸæˆSQLè¯­å¥ï¼‰</li></ul><p><strong>é€‰è’¸é¦å½“ä½ çš„æ¨¡å‹éœ€è¦ï¼š</strong></p><ul><li><p>å¡è¿› **æ‰‹æœº/æ™ºèƒ½ç¡¬ä»¶**ï¼ˆç¦»çº¿è¿è¡Œï¼‰</p></li><li><p>å“åº”é€Ÿåº¦ **æå¿«**ï¼ˆ&lt;100msï¼‰</p></li><li><p>æˆæœ¬ **æä½**ï¼ˆ1%çš„ç®—åŠ›æ¶ˆè€—ï¼‰</p><p><strong>ç»ˆææŠ€å·§ï¼šå¼ºå¼ºè”åˆ</strong><br />å®é™…å¼€å‘ä¸­å¸¸ <strong>ç»„åˆä½¿ç”¨</strong> å¾®è°ƒå’Œè’¸é¦ï¼š</p></li></ul><ol><li><strong>å…ˆå¾®è°ƒ</strong>ï¼šè®©å¤§æ¨¡å‹å˜æˆâ€œå¿ƒè„ç§‘ä¸“å®¶â€</li><li><strong>å†è’¸é¦</strong>ï¼šæŠŠä¸“å®¶çŸ¥è¯†æ•™ç»™å°æ¨¡å‹ï¼Œåšæˆâ€œä¾¿æºå¿ƒç”µå›¾ä»ªâ€</li></ol><p>ä¾‹å¦‚ï¼š<br />åŒ»é™¢ç”¨ **å¾®è°ƒåçš„GPT-4**ï¼ˆä¼šè¯Šä¸“å®¶ï¼‰â†’ è’¸é¦å‡º **æ‰‹æœºAppç‰ˆå°æ¨¡å‹**ï¼ˆæ‚£è€…å±…å®¶è‡ªæµ‹ï¼‰<br />æ—¢ä¸“ä¸šï¼Œåˆæ™®æƒ ï¼</p><p>ä¸‹æ¬¡å¬åˆ°è¿™ä¸¤ä¸ªè¯ï¼Œè®°ä½ï¼š</p><ul><li><strong>å¾®è°ƒ = ä¸“å®¶è¿›ä¿®ç­</strong></li><li><strong>è’¸é¦ = å¸ˆå¾’é€Ÿæˆç­</strong></li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LLM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>kafkaå•æœºå’Œé›†ç¾¤éƒ¨ç½²</title>
      <link href="/2025/07/29/kafka/kafka%E5%8D%95%E6%9C%BA%E5%92%8C%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2/"/>
      <url>/2025/07/29/kafka/kafka%E5%8D%95%E6%9C%BA%E5%92%8C%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-kafkaç®€ä»‹"><a class="markdownIt-Anchor" href="#ä¸€-kafkaç®€ä»‹"></a> ä¸€ã€kafkaç®€ä»‹</h2><h3 id="11-æ¦‚è¿°"><a class="markdownIt-Anchor" href="#11-æ¦‚è¿°"></a> 1.1ã€æ¦‚è¿°</h3><p>kafka æ˜¯ç”± linkedin å…¬å¸å¼€å‘ï¼Œæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ã€åˆ†åŒºã€å¤šå‰¯æœ¬ã€å¤šç”Ÿäº§è€…ã€å¤šæ¶ˆè´¹è€…ï¼ŒåŸºäº zookeeper çš„åˆ†å¸ƒå¼ æ—¥å¿—ç³»ç»Ÿï¼ˆä¹Ÿå¯ä»¥ä½œä¸ºMQ ç³»ç»Ÿï¼‰ï¼Œå¸¸è§å¯ä»¥ç”¨äº web/nginx æ—¥å¿—ã€è®¿é—®æ—¥å¿—ã€æ¶ˆæ¯æœåŠ¡ç­‰ï¼Œ Linkedin2010 å¹´å°†é¡¹ç›®è´¡çŒ®ç»™äº†Apache åŸºé‡‘ä¼šå¹¶æˆä¸ºé¡¶çº§å¼€æºé¡¹ç›®ã€‚</p><p>ä¸»è¦åº”ç”¨åœºæ™¯æ˜¯ï¼šæ—¥å¿—æ”¶é›†ç³»ç»Ÿå’Œæ¶ˆæ¯è¯¦ç»†ã€‚</p><p>è®¾è®¡ç›®æ ‡å¦‚ä¸‹ï¼š</p><p>1. ä¸€æ—¶é—´å¤æ‚åº¦ä¸º O(1) çš„æ–¹å¼æä¾›æ¶ˆæ¯æŒä¹…èƒ½åŠ›ï¼Œå³ä½¿å¯¹ TB çº§ä»¥ä¸Šçš„æ•°æ®ä¹Ÿèƒ½ä¿è¯å¸¸æ•°æ—¶é—´çš„è®¿é—®æ€§èƒ½ã€‚</p><p>2. é«˜ååç‡ï¼šå³ä½¿åœ¨éå¸¸å»‰ä»·çš„å•†ç”¨æœºå™¨ä¸Šä¹Ÿèƒ½åšåˆ°å•æœºæ”¯æŒæ¯ç§’ 100k æ¡æ¶ˆæ¯çš„ä¼ è¾“ã€‚</p><p>3. æ”¯æŒ Kafka Server é—´çš„æ¶ˆæ¯åˆ†å¸ƒï¼Œä»¥åŠåˆ†å¸ƒå¼æ¶ˆè´¹ï¼ŒåŒæ—¶ä¿è¯æ¯ä¸ª partition å†…çš„æ¶ˆæ¯é¡ºåºä¼ è¾“ã€‚</p><p>4. åŒæ—¶æ”¯æŒç¦»çº¿æ•°æ®å’Œå®æ—¶æ•°æ®å¤„ç†ã€‚</p><p>5. Scale out ï¼šæ”¯æŒåœ¨çº¿æ°´å¹³æ‰©å±•ã€‚</p><h3 id="12-æ¶ˆæ¯ç³»ç»Ÿä»‹ç»"><a class="markdownIt-Anchor" href="#12-æ¶ˆæ¯ç³»ç»Ÿä»‹ç»"></a> 1.2ã€æ¶ˆæ¯ç³»ç»Ÿä»‹ç»</h3><p>ä¸€ä¸ªæ¶ˆæ¯ç³»ç»Ÿè´Ÿè´£å°†æ•°æ®ä»ä¸€ä¸ªåº”ç”¨ä¼ é€’åˆ°å¦å¤–ä¸€ä¸ªåº”ç”¨ï¼Œåº”ç”¨åªéœ€è¦å…³æ³¨æ•°æ®ï¼Œæ— éœ€è¦å…³ç³»æ•°æ®å†ä¸¤ä¸ªæˆ–è€… å¤šä¸ªåº”ç”¨é—´æ˜¯å¦‚ä½•ä¼ é€’çš„ã€‚åˆ†å¸ƒå¼æ¶ˆæ¯ä¼ é€’åŸºäºå¯é çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œåœ¨å®¢æˆ·ç«¯åº”ç”¨å’Œæ¶ˆæ¯ç³»ç»Ÿä¹‹é—´å¼‚æ­¥ä¼ é€’æ¶ˆ æ¯ï¼Œæœ‰ä¸¤ç§ä¸»è¦çš„æ¶ˆæ¯ä¼ é€’æ¨¡å¼ï¼šç‚¹å¯¹ç‚¹ä¼ é€’æ¨¡å¼ã€å‘å¸ƒ-è®¢é˜…æ¨¡å¼ã€‚å¤§éƒ¨åˆ†çš„æ¶ˆæ¯ç³»ç»Ÿé€‰ç”¨å‘å¸ƒ - è®¢é˜…æ¨¡å¼ã€‚</p><p>kafka æ— ç–‘ä¹Ÿæ˜¯ä¸€ç§æ¶ˆæ¯è®¢é˜…æ¨¡å¼çš„ç³»ç»Ÿã€‚</p><h3 id="13-ç‚¹å¯¹ç‚¹æ¶ˆæ¯ä¼ é€’æ¨¡å¼"><a class="markdownIt-Anchor" href="#13-ç‚¹å¯¹ç‚¹æ¶ˆæ¯ä¼ é€’æ¨¡å¼"></a> 1.3ã€ç‚¹å¯¹ç‚¹æ¶ˆæ¯ä¼ é€’æ¨¡å¼</h3><p>åœ¨ç‚¹å¯¹ç‚¹æ¶ˆæ¯ç³»ç»Ÿä¸­ï¼Œæ¶ˆæ¯æŒä¹…åŒ–åˆ°ä¸€ä¸ªé˜Ÿåˆ—ä¸­ã€‚æ­¤æ—¶ï¼Œå°†æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæ¶ˆè´¹é˜Ÿåˆ—ä¸­çš„æ•°æ®ã€‚ä½†æ˜¯ä¸€æ¡æ¶ˆæ¯åª èƒ½è¢«æ¶ˆè´¹ä¸€æ¬¡ï¼Œå½“ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹äº†é˜Ÿåˆ—ä¸­çš„æŸæ¡æ•°æ®ä¹‹åï¼Œè¯¥æ¡æ•°æ®åˆ™ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­åˆ é™¤ã€‚è¯¥æ¨¡å¼åŠæ—¶æœ‰å¤š ä¸ªæ¶ˆè´¹è€…åŒæ—¶æ¶ˆè´¹æ•°æ®ï¼Œä¹Ÿèƒ½ä¿è¯æ•°æ®å¤„ç†çš„é¡ºåºï¼Œæ¶æ„ç¤ºæ„å›¾å¦‚ä¸‹</p><p><img src="bc0251f81f814d2fb6fb334411538d4f.png" alt="" /></p><h3 id="14-å‘å¸ƒ-è®¢é˜…æ¶ˆæ¯ä¼ é€’æ¨¡å¼"><a class="markdownIt-Anchor" href="#14-å‘å¸ƒ-è®¢é˜…æ¶ˆæ¯ä¼ é€’æ¨¡å¼"></a> 1.4ã€å‘å¸ƒ-è®¢é˜…æ¶ˆæ¯ä¼ é€’æ¨¡å¼</h3><p>åœ¨è¯¥æ¨¡å¼ä¸­ï¼Œæ¶ˆæ¯å‘—æŒä¹…åŒ–åˆ°ä¸€ä¸ª topic ä¸­ã€‚ä¸ç‚¹å¯¹ç‚¹æ¶ˆæ¯ç³»ç»Ÿä¸åŒçš„æ˜¯ï¼Œæ¶ˆè´¹è€…å¯ä»¥è®¢é˜…ä¸€ä¸ªæˆ–è€…å¤šä¸ª topicï¼Œæ¶ˆè´¹è€…å¯ä»¥æ¶ˆè´¹ topic ä¸­æ‰€æœ‰çš„æ•°æ®ï¼ŒåŒä¸€æ¡æ•°æ®å¯ä»¥è¢«å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œæ•°æ®è¢«æ¶ˆè´¹åä¸ä¼šç«‹é©¬åˆ é™¤ã€‚åœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œæ¶ˆæ¯çš„ç”Ÿäº§è€…ç§°ä¸ºå‘å¸ƒè€…ï¼Œæ¶ˆè´¹è€…ç§°ä¸ºè®¢é˜…è¿™ï¼Œæ¶æ„ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p><p><img src="3b1a0a05651d4cdfa63b7412cef70d72.png" alt="" /></p><h2 id="äºŒ-kafkaæœ¯è¯­è§£é‡Š"><a class="markdownIt-Anchor" href="#äºŒ-kafkaæœ¯è¯­è§£é‡Š"></a> äºŒã€kafkaæœ¯è¯­è§£é‡Š</h2><h3 id="21-ç»“æ„æ¦‚è¿°"><a class="markdownIt-Anchor" href="#21-ç»“æ„æ¦‚è¿°"></a> 2.1ã€ç»“æ„æ¦‚è¿°</h3><p><img src="5335e2aca880419b9aab561ab26ef9ed.png" alt="" /></p><p>ä¸Šå›¾ä¸­ä¸€ä¸ª topic é…ç½®äº† 3 ä¸ª partition ã€‚ Partition1 æœ‰ä¸¤ä¸ª oï¬€set ï¼š 0 å’Œ 1 ã€‚ Partition2 æœ‰ 4 ä¸ª oï¬€set ã€‚ Partition3 æœ‰ 1ä¸ªoï¬€set ã€‚å‰¯æœ¬çš„ id å’Œå‰¯æœ¬æ‰€åœ¨çš„æœºå™¨çš„ id æ°å¥½ç›¸åŒã€‚</p><p>å¦‚æœä¸€ä¸ª topic çš„å‰¯æœ¬æ•°ä¸º 3 ï¼Œé‚£ä¹ˆ Kafka å°†åœ¨é›†ç¾¤ä¸­ä¸ºæ¯ä¸ª partition åˆ›å»º 3 ä¸ªç›¸åŒçš„å‰¯æœ¬ã€‚é›†ç¾¤ä¸­çš„æ¯ä¸ª brokerå­˜å‚¨ä¸€ä¸ªæˆ–å¤šä¸ªpartition ã€‚å¤šä¸ª producer å’Œ consumer å¯åŒæ—¶ç”Ÿäº§å’Œæ¶ˆè´¹æ•°æ®ã€‚</p><h3 id="22-broker"><a class="markdownIt-Anchor" href="#22-broker"></a> 2.2ã€broker</h3><p>ä¸€å° Kafka æœåŠ¡å™¨å°±æ˜¯ä¸€ä¸ª Broker ï¼Œä¸€ä¸ªé›†ç¾¤ç”±å¤šä¸ª Broker ç»„æˆï¼Œä¸€ä¸ª Broker å¯ä»¥å®¹çº³å¤šä¸ª Topic ï¼Œ Broker å’ŒBrokerä¹‹é—´æ²¡æœ‰ Master å’Œ Standy çš„æ¦‚å¿µï¼Œä»–ä»¬ä¹‹é—´çš„åœ°ä½åŸºæœ¬æ˜¯å¹³ç­‰çš„ã€‚</p><p>Kafka é›†ç¾¤åŒ…å«ä¸€ä¸ªæˆ–è€…å¤šä¸ªæœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨èŠ‚ç‚¹æˆä¸º broker ã€‚</p><p>broker å­˜å‚¨ topic çš„æ•°æ®ï¼Œå¦‚æœæŸ topic æœ‰ N ä¸ª partion, é›†ç¾¤æœ‰ N ä¸ª broker ã€‚</p><p>broker å­˜å‚¨ topic çš„æ•°æ®ã€‚å¦‚æœæŸ topic æœ‰ N ä¸ª partition ï¼Œé›†ç¾¤æœ‰ N ä¸ª broker ï¼Œé‚£ä¹ˆæ¯ä¸ª broker å­˜å‚¨è¯¥ topic çš„ä¸€ä¸ªpartition ã€‚</p><p>å¦‚æœæŸ topic æœ‰ N ä¸ª partition ï¼Œé›†ç¾¤æœ‰ (N+M) ä¸ª broker ï¼Œé‚£ä¹ˆå…¶ä¸­æœ‰ N ä¸ª broker å­˜å‚¨è¯¥ topic çš„ä¸€ä¸ª partition ï¼Œå‰©ä¸‹çš„M ä¸ª broker ä¸å­˜å‚¨è¯¥ topic çš„ partition æ•°æ®ã€‚</p><p>å¦‚æœæŸ topic æœ‰ N ä¸ª partition ï¼Œé›†ç¾¤ä¸­ broker æ•°ç›®å°‘äº N ä¸ªï¼Œé‚£ä¹ˆä¸€ä¸ª broker å­˜å‚¨è¯¥ topic çš„ä¸€ä¸ªæˆ–å¤šä¸ª partitionã€‚åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå°½é‡é¿å…è¿™ç§æƒ…å†µçš„å‘ç”Ÿï¼Œè¿™ç§æƒ…å†µå®¹æ˜“å¯¼è‡´ Kafka é›†ç¾¤æ•°æ®ä¸å‡è¡¡ã€‚</p><h3 id="23-topic"><a class="markdownIt-Anchor" href="#23-topic"></a> 2.3ã€topic</h3><p>æ¯æ¡å‘å¸ƒåˆ° Kafka é›†ç¾¤çš„æ¶ˆæ¯éƒ½æœ‰ä¸€ä¸ªç±»åˆ«ï¼Œè¿™ä¸ªç±»åˆ«è¢«ç§°ä¸º Topic ã€‚ï¼ˆç‰©ç†ä¸Šä¸åŒ Topic çš„æ¶ˆæ¯åˆ†å¼€å­˜å‚¨ï¼Œé€»è¾‘ä¸Šä¸€ä¸ªTopic çš„æ¶ˆæ¯è™½ç„¶ä¿å­˜äºä¸€ä¸ªæˆ–å¤šä¸ª broker ä¸Šä½†ç”¨æˆ·åªéœ€æŒ‡å®šæ¶ˆæ¯çš„ Topic å³å¯ç”Ÿäº§æˆ–æ¶ˆè´¹æ•°æ®è€Œä¸å¿…å…³å¿ƒæ•°æ®å­˜äºä½•å¤„ï¼‰</p><p>ç±»ä¼¼äºæ•°æ®åº“çš„è¡¨åã€‚</p><h3 id="24-producer"><a class="markdownIt-Anchor" href="#24-producer"></a> 2.4ã€producer</h3><p>topic ä¸­çš„æ•°æ®åˆ†å‰²ä¸ºä¸€ä¸ªæˆ–å¤šä¸ª partition ã€‚æ¯ä¸ª topic è‡³å°‘æœ‰ä¸€ä¸ª partition ã€‚æ¯ä¸ª partition ä¸­çš„æ•°æ®ä½¿ç”¨å¤šä¸ª segmentæ–‡ä»¶å­˜å‚¨ã€‚ partition ä¸­çš„æ•°æ®æ˜¯æœ‰åºçš„ï¼Œä¸åŒ partition é—´çš„æ•°æ®ä¸¢å¤±äº†æ•°æ®çš„é¡ºåºã€‚å¦‚æœ topic æœ‰å¤šä¸ªpartitionï¼Œæ¶ˆè´¹æ•°æ®æ—¶å°±ä¸èƒ½ä¿è¯æ•°æ®çš„é¡ºåºã€‚åœ¨éœ€è¦ä¸¥æ ¼ä¿è¯æ¶ˆæ¯çš„æ¶ˆè´¹é¡ºåºçš„åœºæ™¯ä¸‹ï¼Œéœ€è¦å°† partition æ•°ç›®è®¾ä¸º1 ã€‚</p><h3 id="25-consumer"><a class="markdownIt-Anchor" href="#25-consumer"></a> 2.5ã€consumer</h3><p>æ¶ˆè´¹è€…å¯ä»¥ä» broker ä¸­è¯»å–æ•°æ®ã€‚æ¶ˆè´¹è€…å¯ä»¥æ¶ˆè´¹å¤šä¸ª topic ä¸­çš„æ•°æ®ã€‚</p><h3 id="26-consumer-group"><a class="markdownIt-Anchor" href="#26-consumer-group"></a> 2.6ã€consumer group</h3><p>æ¯ä¸ª Consumer å±äºä¸€ä¸ªç‰¹å®šçš„ Consumer Group ï¼ˆå¯ä¸ºæ¯ä¸ª Consumer æŒ‡å®š group name ï¼Œè‹¥ä¸æŒ‡å®š groupnameåˆ™å±äºé»˜è®¤çš„ group ï¼‰ã€‚</p><h3 id="27-leader"><a class="markdownIt-Anchor" href="#27-leader"></a> 2.7ã€leader</h3><p>æ¯ä¸ª partition æœ‰å¤šä¸ªå‰¯æœ¬ï¼Œå…¶ä¸­æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªä½œä¸º Leader ï¼Œ Leader æ˜¯å½“å‰è´Ÿè´£æ•°æ®çš„è¯»å†™çš„ partition ã€‚</p><h3 id="28-follower"><a class="markdownIt-Anchor" href="#28-follower"></a> 2.8ã€follower</h3><p>Follower è·Ÿéš Leader ï¼Œæ‰€æœ‰å†™è¯·æ±‚éƒ½é€šè¿‡ Leader è·¯ç”±ï¼Œæ•°æ®å˜æ›´ä¼šå¹¿æ’­ç»™æ‰€æœ‰ Follower ï¼Œ Follower ä¸ Leader ä¿æŒæ•°æ®åŒæ­¥ã€‚å¦‚æœLeader å¤±æ•ˆï¼Œåˆ™ä» Follower ä¸­é€‰ä¸¾å‡ºä¸€ä¸ªæ–°çš„ Leader ã€‚å½“ Follower ä¸ Leader æŒ‚æ‰ã€å¡ä½æˆ–è€…åŒæ­¥å¤ªæ…¢ï¼Œleader ä¼šæŠŠè¿™ä¸ª follower ä» â€œin sync replicasâ€ ï¼ˆ ISR ï¼‰åˆ—è¡¨ä¸­åˆ é™¤ï¼Œé‡æ–°åˆ›å»ºä¸€ä¸ª Follower ã€‚</p><h3 id="29-partition"><a class="markdownIt-Anchor" href="#29-partition"></a> 2.9ã€partition</h3><p>ä¸ºäº†å®ç°å¯æ‰©å±•æ€§ï¼Œä¸€ä¸ªéå¸¸å¤§çš„ Topic å¯ä»¥è¢«åˆ†ä¸ºå¤šä¸ª Partion, ä»è€Œåˆ†å¸ƒåˆ°å¤šå° Broker ä¸Šã€‚ Partion ä¸­çš„æ¯æ¡æ¶ˆæ¯éƒ½ä¼šè¢«åˆ†é…ä¸€ä¸ªè‡ªå¢Id(Oï¬€set) ã€‚ Kafka åªä¿è¯æŒ‰ä¸€ä¸ª Partion ä¸­çš„é¡ºåºå°†æ¶ˆæ¯å‘é€ç»™æ¶ˆè´¹è€…ï¼Œä½†æ˜¯ä¸ä¿è¯å•ä¸ªTopic ä¸­çš„å¤šä¸ª Partion ä¹‹é—´çš„é¡ºåºã€‚</p><h3 id="210-offset"><a class="markdownIt-Anchor" href="#210-offset"></a> 2.10ã€offset</h3><p>æ¶ˆæ¯åœ¨ Topic çš„ Partion ä¸­çš„ä½ç½®ï¼ŒåŒä¸€ä¸ª Partion ä¸­çš„æ¶ˆæ¯éšç€æ¶ˆæ¯çš„å†™å…¥ï¼Œå…¶å¯¹åº”çš„ Oï¬€set ä¹Ÿè‡ªå¢ï¼Œç»“æ„å›¾å¦‚ä¸‹ï¼š</p><p><img src="a85e03bc2ba148e08d99efb4ab1c3950.png" alt="" /></p><h3 id="211-replica"><a class="markdownIt-Anchor" href="#211-replica"></a> 2.11ã€replica</h3><p>å‰¯æœ¬ã€‚ Topic çš„ Partion å«æœ‰ N ä¸ª replica,N ä¸ºå‰¯æœ¬å› å­ã€‚å…¶ä¸­ä¸€ä¸ª Replica ä¸º Leader, å…¶ä»–éƒ½ä¸º Follower,Leader å¤„ç†Partition çš„æ‰€æœ‰è¯»å†™è¯·æ±‚ï¼Œä¸æ­¤åŒæ—¶ï¼Œ Follower ä¼šå®šæœŸå»åŒæ­¥ Leader ä¸Šçš„æ•°æ®ã€‚</p><h3 id="212-message"><a class="markdownIt-Anchor" href="#212-message"></a> 2.12ã€message</h3><p>é€šè®¯çš„åŸºæœ¬å•ä½ï¼Œæ¶ˆæ¯</p><h3 id="213-zookeeper"><a class="markdownIt-Anchor" href="#213-zookeeper"></a> 2.13ã€zookeeper</h3><p>å­˜æ”¾ Kafka é›†ç¾¤ç›¸å…³å…ƒæ•°æ®çš„ç»„ä»¶ã€‚åœ¨ ZK é›†ç¾¤ä¸­ä¼šä¿å­˜ Topic çš„çŠ¶æ€æ¶ˆæ¯ï¼Œä¾‹å¦‚åˆ†åŒºçš„ä¸ªæ•°ï¼Œåˆ†åŒºçš„ç»„æˆï¼Œåˆ†åŒºçš„åˆ†å¸ƒæƒ…å†µç­‰ï¼›ä¿å­˜Broker çš„çŠ¶æ€æ¶ˆæ¯ï¼›æŠ¥é”™æ¶ˆè´¹è€…çš„æ¶ˆæ¯ç­‰ã€‚é€šè¿‡è¿™äº›æ¶ˆæ¯ï¼Œ Kafka å¾ˆå¥½çš„å°†æ¶ˆæ¯ç”Ÿäº§ï¼Œæ¶ˆæ¯å­˜å‚¨ï¼Œæ¶ˆæ¯æ¶ˆè´¹çš„è¿‡ç¨‹ç»“åˆèµ·æ¥ã€‚</p><h2 id="ä¸‰-kafkaæ¶æ„"><a class="markdownIt-Anchor" href="#ä¸‰-kafkaæ¶æ„"></a> ä¸‰ã€kafkaæ¶æ„</h2><p>åœ¨ Kafka é›†ç¾¤ä¸­ç”Ÿäº§è€…å°†æ¶ˆæ¯å‘é€ç»™ä»¥ Topic å‘½åçš„æ¶ˆæ¯é˜Ÿåˆ— Queue ä¸­ï¼Œæ¶ˆè´¹è€…è®¢é˜…å‘å¾€ä»¥æŸä¸ª Topic å‘½åçš„æ¶ˆæ¯é˜Ÿåˆ—Queue ä¸­çš„æ¶ˆæ¯ã€‚å…¶ä¸­ Kafka é›†ç¾¤ç”±è‹¥å¹²ä¸ª Broker ç»„æˆï¼Œ Topic ç”±è‹¥å¹²ä¸ª Partition ç»„æˆï¼Œæ¯ä¸ª Partition é‡Œé¢çš„æ¶ˆæ¯é€šè¿‡Oï¬€set æ¥è·å–ã€‚</p><p><img src="73ae904b833f4497bb8bcd0a612aef53.png" alt="" /></p><p>ä¸€ä¸ªå…¸å‹çš„ Kafka é›†ç¾¤ä¸­åŒ…å«è‹¥å¹²ä¸ª Producer( å¯ä»¥æ˜¯æŸä¸ªæ¨¡å—ä¸‹å‘çš„ Command, æˆ–è€…æ˜¯ Web å‰ç«¯äº§ç”Ÿçš„ PageViewï¼Œæˆ–è€…æ˜¯æœåŠ¡å™¨æ—¥å¿—ï¼Œç³»ç»Ÿ CPU,Memor ç­‰ ) ï¼Œè‹¥å¹²ä¸ª Broker ï¼ˆ Kafka é›†ç¾¤æ”¯æŒæ°´å¹³æ‰©å±•ï¼Œä¸€èˆ¬ Brokeræ•°é‡è¶Šå¤šï¼Œæ•´ä¸ªKafka é›†ç¾¤çš„ååç‡ä¹Ÿå°±è¶Šé«˜ï¼‰ï¼Œè‹¥å¹²ä¸ª ConsumerGroup, ä»¥åŠä¸€ä¸ª Zookeeper é›†ç¾¤ã€‚ Kafka é€šè¿‡zookeeper ç®¡ç†é›†ç¾¤é…ç½®ã€‚ Producer ä½¿ç”¨ Push æ¨¡å¼å°†æ¶ˆæ¯å‘ä¸åˆ° Broker ä¸Šï¼Œ consumer ä½¿ç”¨ Pull æ¨¡å¼ä»Brokerä¸Šè®¢é˜…å¹¶æ¶ˆè´¹æ¶ˆæ¯ã€‚</p><p><img src="afc0319471f24477bd20758646bed79a.png" alt="" /></p><h2 id="å››-kafkaçš„éƒ¨ç½²"><a class="markdownIt-Anchor" href="#å››-kafkaçš„éƒ¨ç½²"></a> å››ã€kafkaçš„éƒ¨ç½²</h2><h3 id="41-è½¯ä»¶ä¸‹è½½"><a class="markdownIt-Anchor" href="#41-è½¯ä»¶ä¸‹è½½"></a> 4.1ã€è½¯ä»¶ä¸‹è½½</h3><p>æ— è®ºå•æœºéƒ¨ç½²è¿˜æ˜¯é›†ç¾¤ï¼Œè¿™ä¸€æ­¥éƒ½ä¸èƒ½çœ</p><h4 id="411-jdkçš„å®‰è£…"><a class="markdownIt-Anchor" href="#411-jdkçš„å®‰è£…"></a> 4.1.1ã€jdkçš„å®‰è£…</h4><p>ç”±äºå¸¦GUIç•Œé¢çš„å®‰è£…ï¼Œæ˜¯è‡ªå¸¦jdkç‰ˆæœ¬çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä½¿ç”¨é»˜è®¤jdk</p><p>è‡ªå¸¦JDKï¼Œè¿™ç§JDKå¯ä»¥ä½¿ç”¨java -versionæ£€æŸ¥ï¼Œå¦‚æœä½¿ç”¨javacå°±ä¸è¡Œäº†ï¼Œæ‰€ä»¥è¿›è¡Œå®‰è£…:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install java-1.8.0-openjdk-devel -y</span><br></pre></td></tr></table></figure><h4 id="412-zookeeperå®‰è£…"><a class="markdownIt-Anchor" href="#412-zookeeperå®‰è£…"></a> 4.1.2ã€zookeeperå®‰è£…</h4><p><a href="https://zookeeper.apache.org/releases.html#download" title="Apache ZooKeeper">Apache ZooKeeper</a></p><p><img src="d3cde0f1ac034fedb3590f044136b31e.png" alt="" /></p><p>é€‰æ‹©3.5.7ç‰ˆæœ¬</p><p><img src="01fbdf318ace4d9bba9312d5629e04e2.png" alt="" /></p><p><img src="adc63997e2ee4227819f931c2882402b.png" alt="" /></p><p>ä¸Šä¼ æœåŠ¡å™¨ï¼Œå®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">è§£å‹</span><br><span class="line">tar -zxvf apache-zookeeper-3.5.7-bin.tar.gz</span><br><span class="line"><span class="built_in">mv</span> apache-zookeeper-3.5.7-bin zookeeper3.5.7</span><br><span class="line"><span class="built_in">mv</span> zookeeper3.5.7/ /opt</span><br><span class="line"> </span><br><span class="line">åˆ›å»ºè½¯é“¾æ¥</span><br><span class="line"><span class="built_in">ln</span> -s /opt/zookeeper3.5.7/ /opt/zookeeper</span><br><span class="line"> </span><br><span class="line">é…ç½®ç¯å¢ƒå˜é‡</span><br><span class="line">vim /etc/profile</span><br><span class="line"> </span><br><span class="line">æ·»åŠ </span><br><span class="line"><span class="built_in">export</span> ZK_HOME=/opt/zookeeper</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$ZK_HOME</span>/bin</span><br><span class="line"> </span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br><span class="line"> </span><br><span class="line">å°†Zookeeperæä¾›çš„é…ç½®æ–‡ä»¶å¤åˆ¶ä¸€ä»½ï¼Œå¤åˆ¶æˆZookeeperé»˜è®¤å¯»æ‰¾çš„æ–‡ä»¶</span><br><span class="line"><span class="built_in">cd</span> /opt/zookeeper/conf</span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line"><span class="built_in">cp</span> zoo_sample.cfg zoo.cfg</span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line"> </span><br><span class="line">åˆ›å»ºæ•°æ®å­˜æ”¾ç›®å½•</span><br><span class="line"><span class="built_in">mkdir</span> data</span><br><span class="line"><span class="built_in">chmod</span> 755 /opt/zookeeper/data</span><br><span class="line"> </span><br><span class="line">ä¿®æ”¹æ•°æ®å­˜æ”¾ä½ç½®</span><br><span class="line"><span class="built_in">cd</span> conf/</span><br><span class="line">vim zoo.cfg</span><br><span class="line"> </span><br><span class="line"><span class="comment">##ä¿®æ”¹ä»¥ä¸‹é…ç½®</span></span><br><span class="line">dataDir=/opt/zookeeper/data</span><br><span class="line"> </span><br><span class="line">å¯åŠ¨ Zookeeperï¼ŒZookeeperçš„binç›®å½•ä¸‹</span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line">./bin/zkServer.sh start zoo.cfg</span><br></pre></td></tr></table></figure><p>æ£€æµ‹zookeeperæ˜¯å¦æ­£å¸¸</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">jps <span class="comment"># çœ‹åˆ°æ§åˆ¶å°æˆåŠŸè¾“å‡º QuorumPeerMainï¼Œè¡¨ç¤ºå¯åŠ¨æˆåŠŸ</span></span><br><span class="line"> </span><br><span class="line">./bin/zkServer.sh status zoo.cfg <span class="comment">## Mode: standaloneè¡¨ç¤ºok</span></span><br></pre></td></tr></table></figure><h4 id="413-kafkaçš„å®‰è£…"><a class="markdownIt-Anchor" href="#413-kafkaçš„å®‰è£…"></a> 4.1.3ã€kafkaçš„å®‰è£…</h4><p><a href="https://kafka.apache.org/downloads" title="https://kafka.apache.org/downloads">https://kafka.apache.org/downloads</a></p><p>é€‰æ‹©Â <code>kafka_2.12-3.8.0.tgz</code>Â è¿›è¡Œä¸‹è½½ï¼ŒScala 2.12 å’Œ Scala 2.13 ä¸»è¦æ˜¯ä½¿ç”¨Scalaç¼–è¯‘çš„ç‰ˆæœ¬ä¸åŒï¼Œä¸¤è€…çš†å¯</p><p><img src="a41ced3968df4fe2b80da9870a199768.png" alt="" /></p><p>ä¸Šä¼ æœåŠ¡å™¨ï¼Œå®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">è§£å‹</span><br><span class="line">tar -zxvf kafka_2.12-2.7.0.tgz</span><br><span class="line"><span class="built_in">mv</span> kafka_2.12-2.7.0 /opt</span><br><span class="line"><span class="built_in">cd</span> /opt</span><br><span class="line"> </span><br><span class="line">åˆ›å»ºè½¯é“¾æ¥</span><br><span class="line"><span class="built_in">ln</span> -s /opt/kafka_2.12-2.7.0/ /opt/kafka</span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line"> </span><br><span class="line">é…ç½®ç¯å¢ƒå˜é‡</span><br><span class="line">vim /etc/profile</span><br><span class="line"> </span><br><span class="line">æ·»åŠ </span><br><span class="line"><span class="built_in">export</span> KAFKA_HOME=/opt/kafka</span><br><span class="line"><span class="built_in">export</span> PATH=:<span class="variable">$PATH</span>:<span class="variable">$&#123;KAFKA_HOME&#125;</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure><h3 id="42-å•æœºæ¨¡å¼"><a class="markdownIt-Anchor" href="#42-å•æœºæ¨¡å¼"></a> 4.2ã€å•æœºæ¨¡å¼</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">åœ¨Kafkaçš„configç›®å½•ä¸‹å­˜åœ¨ç›¸å…³çš„é…ç½®ä¿¡æ¯â€”â€”æœ¬æ¬¡æˆ‘ä»¬åªæƒ³è®©Kafkaå¿«é€Ÿå¯åŠ¨èµ·æ¥åªå…³æ³¨server.propertiesæ–‡ä»¶å³å¯</span><br><span class="line"> </span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$&#123;KAFKA_HOME&#125;</span>/config</span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line"><span class="comment">#connect-console-sink.properties    connect-file-source.properties   consumer.properties  server.properties</span></span><br><span class="line"><span class="comment">#connect-console-source.properties  connect-log4j.properties         kraft                tools-log4j.properties</span></span><br><span class="line"><span class="comment">#connect-distributed.properties     connect-mirror-maker.properties  log4j.properties     trogdor.conf</span></span><br><span class="line"><span class="comment">#connect-file-sink.properties       connect-standalone.properties    producer.properties  zookeeper.properties</span></span><br><span class="line"> </span><br><span class="line">æ‰“å¼€é…ç½®æ–‡ä»¶ï¼Œå¹¶ä¸»è¦æ³¨æ„ä»¥ä¸‹å‡ ä¸ªé…ç½®</span><br><span class="line">vim server.properties</span><br><span class="line"> </span><br><span class="line">broker.id=0 <span class="comment">#kafkaæœåŠ¡èŠ‚ç‚¹çš„å”¯ä¸€æ ‡è¯†ï¼Œè¿™é‡Œæ˜¯å•æœºä¸ç”¨ä¿®æ”¹</span></span><br><span class="line"><span class="comment">#     listeners = PLAINTEXT://host1:9092  åˆ«å¿˜äº†è®¾ç½®æˆè‡ªå·±çš„ä¸»æœºå</span></span><br><span class="line">listeners=PLAINTEXT://host1:9092 <span class="comment">#kafkaåº•å±‚ç›‘å¬çš„æœåŠ¡åœ°å€ï¼Œæ³¨æ„æ˜¯ä½¿ç”¨ä¸»æœºåï¼Œä¸æ˜¯ipã€‚</span></span><br><span class="line"><span class="comment"># log.dirs æŒ‡å®šçš„ç›®å½• kafkaå¯åŠ¨æ—¶å¯ä»¥è‡ªåŠ¨åˆ›å»ºï¼Œå› æ­¤ä¸è¦å¿˜äº†è®©kafkaå¯ä»¥æœ‰è¯»å†™è¿™ä¸ªç›®å½•çš„æƒé™ã€‚</span></span><br><span class="line">log.dirs=/opt/kafka/data <span class="comment">##kafkaçš„åˆ†åŒºä»¥æ—¥å¿—çš„å½¢å¼å­˜å‚¨åœ¨é›†ç¾¤ä¸­ï¼ˆå…¶å®å°±æ˜¯brokeræ•°æ®å­˜å‚¨çš„ç›®å½•ï¼‰</span></span><br><span class="line"> </span><br><span class="line">log.retention.hours=168 <span class="comment">#æ—¥å¿—çš„ç•™å­˜ç­–ç•¥ï¼Œé»˜è®¤168å°æ—¶ä¹Ÿå°±æ˜¯ä¸€å‘¨</span></span><br><span class="line"><span class="comment"># zookeeper çš„è¿æ¥åœ°å€ ï¼Œåˆ«å¿˜äº†è®¾ç½®æˆè‡ªå·±çš„ä¸»æœºåï¼Œå•æœºæƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨ localhost</span></span><br><span class="line">zookeeper.connect=host1:2181</span><br></pre></td></tr></table></figure><p>å¯åŠ¨kafka</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">./bin/kafka-server-start.sh -daemon config/server.properties <span class="comment">#åå°å¯åŠ¨kafka</span></span><br><span class="line"> </span><br><span class="line">ä½¿ç”¨ jps æŸ¥çœ‹æ˜¯å¦æˆåŠŸå¯åŠ¨kafka</span><br><span class="line">jps</span><br><span class="line">34843 QuorumPeerMain</span><br><span class="line">21756 Jps</span><br><span class="line">116076 Kafka</span><br></pre></td></tr></table></figure><h3 id="43-é›†ç¾¤éƒ¨ç½²"><a class="markdownIt-Anchor" href="#43-é›†ç¾¤éƒ¨ç½²"></a> 4.3ã€é›†ç¾¤éƒ¨ç½²</h3><h4 id="431-é’ˆå¯¹æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„hostsæ–‡ä»¶æ·»åŠ èŠ‚ç‚¹çš„ipæ˜ å°„ä¿¡æ¯"><a class="markdownIt-Anchor" href="#431-é’ˆå¯¹æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„hostsæ–‡ä»¶æ·»åŠ èŠ‚ç‚¹çš„ipæ˜ å°„ä¿¡æ¯"></a> 4.3.1ã€é’ˆå¯¹æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„hostsæ–‡ä»¶æ·»åŠ èŠ‚ç‚¹çš„ipæ˜ å°„ä¿¡æ¯</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim  /etc/hosts</span><br><span class="line">192.168.157.80 host1</span><br><span class="line">192.168.157.81 host2</span><br><span class="line">192.168.157.82 host3</span><br></pre></td></tr></table></figure><h4 id="432-æ—¶é—´åŒæ­¥"><a class="markdownIt-Anchor" href="#432-æ—¶é—´åŒæ­¥"></a> 4.3.2ã€æ—¶é—´åŒæ­¥</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install ntp -y</span><br><span class="line">ntpdate cn.pool.ntp.org | ntp[1-7].aliyun.com <span class="comment">#ä¸¤ä¸ªæ—¶é’ŸåŒæ­¥åœ°å€é€‰æ‹©ä¸€ä¸ªå°±è¡Œ</span></span><br></pre></td></tr></table></figure><h4 id="433-zookeeperé…ç½®"><a class="markdownIt-Anchor" href="#433-zookeeperé…ç½®"></a> 4.3.3ã€zookeeperé…ç½®</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim /opt/zookeeper/conf/zoo.cfg</span><br><span class="line"><span class="comment">##é¢å¤–æ·»åŠ ä»¥ä¸‹é…ç½®</span></span><br><span class="line">server.1=host1:2888:3888 <span class="comment">#æ•°æ®åŒæ­¥ç«¯å£:é¢†å¯¼é€‰ä¸¾æ—¶æœåŠ¡å™¨ç›‘å¬çš„ç«¯å£</span></span><br><span class="line">server.2=host2:2888:3888</span><br><span class="line">server.3=host3:2888:3888</span><br></pre></td></tr></table></figure><h4 id="434-åˆ›å»ºå¯¹åº”çš„æœåŠ¡id"><a class="markdownIt-Anchor" href="#434-åˆ›å»ºå¯¹åº”çš„æœåŠ¡id"></a> 4.3.4ã€åˆ›å»ºå¯¹åº”çš„æœåŠ¡id</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># host1</span></span><br><span class="line"><span class="built_in">echo</span> 1 &gt; /opt/zookeeper/data/myid <span class="comment">#åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­å†™å…¥è‡ªå·±æœåŠ¡çš„idå·</span></span><br><span class="line"><span class="comment"># host2</span></span><br><span class="line"><span class="built_in">echo</span> 2 &gt; /opt/zookeeper/data/myid</span><br><span class="line"><span class="comment"># host3</span></span><br><span class="line"><span class="built_in">echo</span> 3 &gt; /opt/zookeeper/data/myid</span><br></pre></td></tr></table></figure><h4 id="435-zoocfgå‚æ•°è§£æ"><a class="markdownIt-Anchor" href="#435-zoocfgå‚æ•°è§£æ"></a> 4.3.5ã€zoo.cfgå‚æ•°è§£æ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">tickTime=2000: é€šä¿¡å¿ƒè·³æ•°ï¼Œç”¨äºè®¾ç½®ZookeeperæœåŠ¡å™¨ä¸å®¢æˆ·ç«¯ä¹‹é—´çš„å¿ƒè·³æ—¶é—´é—´éš”ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚è¿™ä¸ªæ—¶é—´é—´éš”æ˜¯Zookeeperä½¿ç”¨çš„åŸºæœ¬æ—¶é—´å•ä½ï¼Œç”¨äºæœåŠ¡å™¨ä¹‹é—´æˆ–å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´ç»´æŒå¿ƒè·³çš„æ—¶é—´é—´éš”ã€‚</span><br><span class="line"> </span><br><span class="line">initLimit=10: LFåˆå§‹é€šä¿¡æ—¶é™ï¼Œç”¨äºè®¾ç½®é›†ç¾¤ä¸­çš„Followerè·Ÿéšè€…æœåŠ¡å™¨ä¸Leaderé¢†å¯¼è€…æœåŠ¡å™¨ä¹‹é—´å¯åŠ¨æ—¶èƒ½å®¹å¿çš„æœ€å¤šå¿ƒè·³æ•°ã€‚å¦‚æœåœ¨è¿™ä¸ªæ—¶é™å†…ï¼ˆ10ä¸ªå¿ƒè·³æ—¶é—´ï¼‰é¢†å¯¼å’Œæ ¹éšè€…æ²¡æœ‰å‘å‡ºå¿ƒè·³é€šä¿¡ï¼Œå°±è§†ä¸ºå¤±æ•ˆçš„è¿æ¥ï¼Œé¢†å¯¼å’Œæ ¹éšè€…å½»åº•æ–­å¼€ã€‚</span><br><span class="line"> </span><br><span class="line">syncLimit=5: LFåŒæ­¥é€šä¿¡æ—¶é™ï¼Œç”¨äºè®¾ç½®é›†ç¾¤å¯åŠ¨åï¼ŒLeaderä¸Followerä¹‹é—´çš„æœ€å¤§å“åº”æ—¶é—´å•ä½ã€‚å‡å¦‚å“åº”è¶…è¿‡è¿™ä¸ªæ—¶é—´ï¼ˆsyncLimit * tick Time -&gt; 10ç§’ï¼‰ï¼ŒLeaderå°±è®¤ä¸ºFollowerå·²ç»æ­»æ‰ï¼Œä¼šå°†Followerä»æœåŠ¡å™¨åˆ—è¡¨ä¸­åˆ é™¤ã€‚</span><br><span class="line"> </span><br><span class="line">dataDir: æ•°æ®æ–‡ä»¶ç›®å½•+æ•°æ®æŒä¹…åŒ–è·¯å¾„ï¼Œä¸»è¦ç”¨äºä¿å­˜Zookeeperä¸­çš„æ•°æ®ã€‚</span><br><span class="line"> </span><br><span class="line">dataLogDir: æ—¥å¿—æ–‡ä»¶ç›®å½•ï¼Œç”¨äºå­˜å‚¨Zookeeperçš„æ—¥å¿—æ–‡ä»¶ã€‚</span><br><span class="line"> </span><br><span class="line">clientPort=2181: å®¢æˆ·ç«¯è¿æ¥ç«¯å£ï¼Œç”¨äºç›‘å¬å®¢æˆ·ç«¯è¿æ¥çš„ç«¯å£</span><br></pre></td></tr></table></figure><h4 id="436-é›†ç¾¤kafkaé…ç½®"><a class="markdownIt-Anchor" href="#436-é›†ç¾¤kafkaé…ç½®"></a> 4.3.6ã€é›†ç¾¤kafkaé…ç½®</h4><p><code>server.properties</code>é…ç½®æ–‡ä»¶</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">cd $&#123;KAFKA_HOME&#125;/config</span><br><span class="line">vim server.properties</span><br><span class="line"> </span><br><span class="line">broker.id=0 #kafkaæœåŠ¡èŠ‚ç‚¹çš„å”¯ä¸€æ ‡è¯†</span><br><span class="line">#     listeners = PLAINTEXT://your.host.name:9092  åˆ«å¿˜äº†è®¾ç½®æˆè‡ªå·±çš„ä¸»æœºå</span><br><span class="line">listeners=PLAINTEXT://host1:9092 #é›†ç¾¤ä¸­éœ€è¦è®¾ç½®æˆæ¯ä¸ªèŠ‚ç‚¹è‡ªå·±çš„</span><br><span class="line"># log.dirs æŒ‡å®šçš„ç›®å½• kafkaå¯åŠ¨æ—¶å¯ä»¥è‡ªåŠ¨åˆ›å»ºï¼Œå› æ­¤ä¸è¦å¿˜äº†è®©kafkaå¯ä»¥æœ‰è¯»å†™è¿™ä¸ªç›®å½•çš„æƒé™ã€‚</span><br><span class="line">log.dirs=/opt/kafka/data ##kafkaçš„åˆ†åŒºä»¥æ—¥å¿—çš„å½¢å¼å­˜å‚¨åœ¨é›†ç¾¤ä¸­ï¼ˆå…¶å®å°±æ˜¯brokeræ•°æ®å­˜å‚¨çš„ç›®å½•ï¼‰</span><br><span class="line"># The minimum age of a log file to be eligible for deletion due to age</span><br><span class="line">log.retention.hours=168 #æ—¥å¿—çš„ç•™å­˜ç­–ç•¥ï¼Œé»˜è®¤168å°æ—¶ä¹Ÿå°±æ˜¯ä¸€å‘¨</span><br><span class="line"># zookeeper é›†ç¾¤çš„è¿æ¥åœ°å€ </span><br><span class="line">zookeeper.connect=host1:2181,host2:2181ï¼Œhost3:2181</span><br></pre></td></tr></table></figure><p>å…¶ä½™é…ç½®ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">##ä¿®æ”¹å·®å¼‚é…ç½®</span><br><span class="line">cd $&#123;KAFKA_HOME&#125;/config</span><br><span class="line">vim server.properties</span><br><span class="line"> </span><br><span class="line"># host2èŠ‚ç‚¹</span><br><span class="line">broker.id=1</span><br><span class="line">listeners=PLAINTEXT://host2:9092</span><br><span class="line"># host3èŠ‚ç‚¹</span><br><span class="line">broker.id=2</span><br><span class="line">listeners=PLAINTEXT://host3:9092</span><br></pre></td></tr></table></figure><p><img src="7d44b9e403214819954ad08f1101cd77.png" alt="" /></p><p>kafkaé›†ç¾¤å³å¯æ­£å¸¸å¯åŠ¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">kafkaå…¶ä½™å‘½ä»¤</span><br><span class="line"> </span><br><span class="line">./bin/kafka-server-stop.sh <span class="comment">#å…³é—­kafka</span></span><br><span class="line">kafka-console-consumer.sh <span class="comment">#æ¶ˆè´¹å‘½ä»¤</span></span><br><span class="line">kafka-console-producer.sh <span class="comment">#ç”Ÿäº§å‘½ä»¤</span></span><br><span class="line">kafka-consumer-groups.sh <span class="comment">#æŸ¥çœ‹æ¶ˆè´¹è€…ç»„ï¼Œé‡ç½®æ¶ˆè´¹ä½ç‚¹ç­‰</span></span><br><span class="line">kafka-topics.sh <span class="comment">#æŸ¥è¯¢topicçŠ¶æ€ï¼Œæ–°å»ºï¼Œåˆ é™¤ï¼Œæ‰©å®¹</span></span><br><span class="line">kafka-acls.sh <span class="comment">#é…ç½®ï¼ŒæŸ¥çœ‹kafkaé›†ç¾¤é‰´æƒä¿¡æ¯</span></span><br><span class="line">kafka-configs.sh <span class="comment">#æŸ¥çœ‹ï¼Œä¿®æ”¹kafkaé…ç½®</span></span><br><span class="line">kafka-mirror-maker.sh <span class="comment">#kafkaé›†ç¾¤é—´åŒæ­¥å‘½ä»¤</span></span><br><span class="line">kafka-preferred-replica-election.sh <span class="comment">#é‡æ–°é€‰ä¸¾topicåˆ†åŒºleader</span></span><br><span class="line">kafka-producer-perf-test.sh <span class="comment">#kafkaè‡ªå¸¦ç”Ÿäº§æ€§èƒ½æµ‹è¯•å‘½ä»¤</span></span><br><span class="line">kafka-reassign-partitions.sh <span class="comment">#kafkaæ•°æ®é‡å¹³è¡¡å‘½ä»¤</span></span><br><span class="line">kafka-run-class.sh <span class="comment">#kafkaæ‰§è¡Œè„šæœ¬</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kafka </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰‹æŠŠæ‰‹æ•™ä½ ç©è½¬ kafka-pythonï¼šä»å®‰è£…åˆ°æ¶ˆè´¹è€…å®æˆ˜å…¨æ”»ç•¥</title>
      <link href="/2025/07/29/kafka/%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E7%8E%A9%E8%BD%AC%20kafka-python%EF%BC%9A%E4%BB%8E%E5%AE%89%E8%A3%85%E5%88%B0%E6%B6%88%E8%B4%B9%E8%80%85%E5%AE%9E%E6%88%98%E5%85%A8%E6%94%BB%E7%95%A5/"/>
      <url>/2025/07/29/kafka/%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E7%8E%A9%E8%BD%AC%20kafka-python%EF%BC%9A%E4%BB%8E%E5%AE%89%E8%A3%85%E5%88%B0%E6%B6%88%E8%B4%B9%E8%80%85%E5%AE%9E%E6%88%98%E5%85%A8%E6%94%BB%E7%95%A5/</url>
      
        <content type="html"><![CDATA[<p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°æ¶ˆæ¯é˜Ÿåˆ—çš„éœ€æ±‚ï¼Œè€Œ Kafka ä½œä¸ºé«˜æ€§èƒ½çš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œè‡ªç„¶æˆä¸ºé¦–é€‰ã€‚ä½†å¦‚ä½•åœ¨ Python ä¸­é«˜æ•ˆä½¿ç”¨ Kafka å‘¢ï¼Ÿä»Šå¤©æˆ‘ä»¬å°±æ¥æ·±å…¥æ¢è®¨ kafka-python çš„å®‰è£…ä¸æ¶ˆè´¹è€…å®æˆ˜ï¼Œå¸¦ä½ ä»é›¶å¼€å§‹æŒæ¡è¿™ä¸ªå¼ºå¤§çš„å·¥å…·ã€‚</p><h3 id="ä¸€-kafka-python-å®‰è£…æŒ‡å—"><a class="markdownIt-Anchor" href="#ä¸€-kafka-python-å®‰è£…æŒ‡å—"></a> ä¸€ã€kafka-python å®‰è£…æŒ‡å—</h3><h4 id="1-æœ€æ–°ç¨³å®šç‰ˆå®‰è£…"><a class="markdownIt-Anchor" href="#1-æœ€æ–°ç¨³å®šç‰ˆå®‰è£…"></a> 1. æœ€æ–°ç¨³å®šç‰ˆå®‰è£…</h4><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æœ€å¸¸ç”¨çš„ Pip åŒ…ç®¡ç†å™¨æ¥å®‰è£… kafka-python çš„æœ€æ–°ç¨³å®šç‰ˆæœ¬ï¼Œåªéœ€ä¸€è¡Œå‘½ä»¤å³å¯å®ŒæˆåŸºç¡€å®‰è£…ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install kafka-python</span><br></pre></td></tr></table></figure><h4 id="2-å¼€å‘ç‰ˆå®‰è£…è·å–æœ€æ–°ç‰¹æ€§"><a class="markdownIt-Anchor" href="#2-å¼€å‘ç‰ˆå®‰è£…è·å–æœ€æ–°ç‰¹æ€§"></a> 2. å¼€å‘ç‰ˆå®‰è£…ï¼ˆè·å–æœ€æ–°ç‰¹æ€§ï¼‰</h4><p>å¦‚æœæˆ‘ä»¬æƒ³ä½“éªŒæœ€æ–°çš„åŠŸèƒ½ç‰¹æ€§ï¼Œå¯ä»¥é€šè¿‡ Git å…‹éš†ä»“åº“å¹¶æ‰‹åŠ¨å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/dpkp/kafka-python</span><br><span class="line"><span class="built_in">cd</span> kafka-python</span><br><span class="line">pip install .</span><br></pre></td></tr></table></figure><h4 id="3-æ€§èƒ½ä¼˜åŒ–ç›¸å…³çš„å¯é€‰å®‰è£…"><a class="markdownIt-Anchor" href="#3-æ€§èƒ½ä¼˜åŒ–ç›¸å…³çš„å¯é€‰å®‰è£…"></a> 3. æ€§èƒ½ä¼˜åŒ–ç›¸å…³çš„å¯é€‰å®‰è£…</h4><h5 id="1crc32c-å®‰è£…kafka-11-å¼ºçƒˆæ¨è"><a class="markdownIt-Anchor" href="#1crc32c-å®‰è£…kafka-11-å¼ºçƒˆæ¨è"></a> ï¼ˆ1ï¼‰crc32c å®‰è£…ï¼ˆKafka 11 + å¼ºçƒˆæ¨èï¼‰</h5><p>å½“æˆ‘ä»¬ä½¿ç”¨ Kafka 11 + ç‰ˆæœ¬çš„ broker æ—¶ï¼Œæ–°çš„æ¶ˆæ¯åè®®éœ€è¦è®¡ç®— crc32cï¼Œè€Œé»˜è®¤çš„çº¯ Python å®ç°æ€§èƒ½è¾ƒå·®ã€‚å®‰è£… crc32c åŒ…å¯ä»¥æ˜¾è‘—æå‡æ€§èƒ½ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install <span class="string">&#x27;kafka-python[crc32c]&#x27;</span></span><br></pre></td></tr></table></figure><h5 id="2zstd-å‹ç¼©æ”¯æŒ"><a class="markdownIt-Anchor" href="#2zstd-å‹ç¼©æ”¯æŒ"></a> ï¼ˆ2ï¼‰ZSTD å‹ç¼©æ”¯æŒ</h5><p>å¦‚æœæˆ‘ä»¬éœ€è¦ä½¿ç”¨ ZSTD å‹ç¼©æ ¼å¼ï¼Œéœ€è¦å®‰è£…å¯¹åº”çš„ä¾èµ–ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install <span class="string">&#x27;kafka-python[zstd]&#x27;</span></span><br></pre></td></tr></table></figure><h5 id="3lz4-å‹ç¼©æ”¯æŒ"><a class="markdownIt-Anchor" href="#3lz4-å‹ç¼©æ”¯æŒ"></a> ï¼ˆ3ï¼‰LZ4 å‹ç¼©æ”¯æŒ</h5><p>åŒç†ï¼Œå¯ç”¨ LZ4 å‹ç¼©åŠŸèƒ½éœ€è¦å®‰è£…ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install <span class="string">&#x27;kafka-python[lz4]&#x27;</span></span><br></pre></td></tr></table></figure><h5 id="4snappy-å‹ç¼©æ”¯æŒ"><a class="markdownIt-Anchor" href="#4snappy-å‹ç¼©æ”¯æŒ"></a> ï¼ˆ4ï¼‰Snappy å‹ç¼©æ”¯æŒ</h5><p>Snappy çš„å®‰è£…ç¨æ˜¾å¤æ‚ï¼Œéœ€è¦å…ˆå®‰è£…å¼€å‘åº“ï¼š</p><ul><li><strong>Ubuntu ç³»ç»Ÿ</strong>ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install libsnappy-dev</span><br></pre></td></tr></table></figure><ul><li><strong>OSX ç³»ç»Ÿ</strong>ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install snappy</span><br></pre></td></tr></table></figure><ul><li><strong>ä»æºä»£ç å®‰è£…</strong>ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/google/snappy/releases/download/1.1.3/snappy-1.1.3.tar.gz</span><br><span class="line">tar xzvf snappy-1.1.3.tar.gz</span><br><span class="line"><span class="built_in">cd</span> snappy-1.1.3</span><br><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œå¼€å‘åº“åï¼Œå†å®‰è£… Python æ¨¡å—ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install <span class="string">&#x27;kafka-python[snappy]&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="äºŒ-kafkaconsumer-æ ¸å¿ƒåŠŸèƒ½è§£æ"><a class="markdownIt-Anchor" href="#äºŒ-kafkaconsumer-æ ¸å¿ƒåŠŸèƒ½è§£æ"></a> äºŒã€KafkaConsumer æ ¸å¿ƒåŠŸèƒ½è§£æ</h3><h4 id="1-åˆå§‹åŒ–-kafkaconsumer"><a class="markdownIt-Anchor" href="#1-åˆå§‹åŒ–-kafkaconsumer"></a> 1. åˆå§‹åŒ– KafkaConsumer</h4><p>KafkaConsumer ç±»æ˜¯æˆ‘ä»¬ä¸ Kafka é›†ç¾¤äº¤äº’çš„æ ¸å¿ƒç»„ä»¶ï¼Œå®ƒå¯ä»¥é€æ˜å¤„ç†é›†ç¾¤æœåŠ¡å™¨æ•…éšœï¼Œå¹¶é€‚åº”ä¸»é¢˜åˆ†åŒºçš„åˆ›å»ºæˆ–è¿ç§»ã€‚ä¸‹é¢æ˜¯åˆå§‹åŒ– Consumer çš„å…³é”®å‚æ•°è¯´æ˜ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> kafka <span class="keyword">import</span> KafkaConsumer</span><br><span class="line"> </span><br><span class="line">consumer = KafkaConsumer(</span><br><span class="line">    <span class="comment"># è®¢é˜…çš„ä¸»é¢˜åˆ—è¡¨ï¼Œå¯é€‰ï¼Œæœªè®¾ç½®æ—¶éœ€è°ƒç”¨subscribeæˆ–assign</span></span><br><span class="line">    *topics,</span><br><span class="line">    <span class="comment"># å¼•å¯¼æœåŠ¡å™¨åˆ—è¡¨ï¼Œè‡³å°‘ä¸€ä¸ªå¯ç”¨broker</span></span><br><span class="line">    bootstrap_servers=<span class="string">&#x27;localhost:9092&#x27;</span>,</span><br><span class="line">    <span class="comment"># å®¢æˆ·ç«¯æ ‡è¯†ï¼Œç”¨äºæœåŠ¡å™¨æ—¥å¿—æ ‡è¯†</span></span><br><span class="line">    client_id=<span class="string">&#x27;my-consumer&#x27;</span>,</span><br><span class="line">    <span class="comment"># æ¶ˆè´¹è€…ç»„IDï¼ŒNoneæ—¶ç¦ç”¨è‡ªåŠ¨åˆ†åŒºåˆ†é…å’Œåç§»é‡æäº¤</span></span><br><span class="line">    group_id=<span class="string">&#x27;my-group&#x27;</span>,</span><br><span class="line">    <span class="comment"># é”®çš„ååºåˆ—åŒ–å‡½æ•°</span></span><br><span class="line">    key_deserializer=<span class="keyword">lambda</span> m: m.decode(<span class="string">&#x27;utf-8&#x27;</span>),</span><br><span class="line">    <span class="comment"># å€¼çš„ååºåˆ—åŒ–å‡½æ•°</span></span><br><span class="line">    value_deserializer=<span class="keyword">lambda</span> m: m.decode(<span class="string">&#x27;utf-8&#x27;</span>),</span><br><span class="line">    <span class="comment"># å¯ç”¨å¢é‡fetchä¼šè¯ï¼Œæå‡æ€§èƒ½</span></span><br><span class="line">    enable_incremental_fetch_sessions=<span class="literal">True</span>,</span><br><span class="line">    <span class="comment"># æ¯æ¬¡fetchæœ€å°æ•°æ®é‡(å­—èŠ‚)</span></span><br><span class="line">    fetch_min_bytes=<span class="number">1</span>,</span><br><span class="line">    <span class="comment"># fetchæœ€å¤§ç­‰å¾…æ—¶é—´(æ¯«ç§’)</span></span><br><span class="line">    fetch_max_wait_ms=<span class="number">500</span>,</span><br><span class="line">    <span class="comment"># æ¯æ¬¡fetchæœ€å¤§æ•°æ®é‡(å­—èŠ‚)</span></span><br><span class="line">    fetch_max_bytes=<span class="number">52428800</span>,  <span class="comment"># 50MB</span></span><br><span class="line">    <span class="comment"># æ¯ä¸ªåˆ†åŒºæœ€å¤§fetchæ•°æ®é‡(å­—èŠ‚)</span></span><br><span class="line">    max_partition_fetch_bytes=<span class="number">1048576</span>,</span><br><span class="line">    <span class="comment"># è¯·æ±‚è¶…æ—¶æ—¶é—´(æ¯«ç§’)</span></span><br><span class="line">    request_timeout_ms=<span class="number">305000</span>,</span><br><span class="line">    <span class="comment"># é”™è¯¯é‡è¯•é—´éš”(æ¯«ç§’)</span></span><br><span class="line">    retry_backoff_ms=<span class="number">100</span>,</span><br><span class="line">    <span class="comment"># é‡è¿é—´éš”(æ¯«ç§’)</span></span><br><span class="line">    reconnect_backoff_ms=<span class="number">50</span>,</span><br><span class="line">    <span class="comment"># æœ€å¤§é‡è¿é—´éš”(æ¯«ç§’)ï¼ŒæŒ‡æ•°é€€é¿ä¸Šé™</span></span><br><span class="line">    reconnect_backoff_max_ms=<span class="number">30000</span>,</span><br><span class="line">    <span class="comment"># æ¯ä¸ªè¿æ¥æœ€å¤§æœªå®Œæˆè¯·æ±‚æ•°</span></span><br><span class="line">    max_in_flight_requests_per_connection=<span class="number">5</span>,</span><br><span class="line">    <span class="comment"># åç§»é‡è¶Šç•Œæ—¶çš„é‡ç½®ç­–ç•¥</span></span><br><span class="line">    auto_offset_reset=<span class="string">&#x27;latest&#x27;</span>,</span><br><span class="line">    <span class="comment"># æ˜¯å¦è‡ªåŠ¨æäº¤åç§»é‡</span></span><br><span class="line">    enable_auto_commit=<span class="literal">True</span>,</span><br><span class="line">    <span class="comment"># è‡ªåŠ¨æäº¤é—´éš”(æ¯«ç§’)</span></span><br><span class="line">    auto_commit_interval_ms=<span class="number">5000</span>,</span><br><span class="line">    <span class="comment"># åç§»é‡æäº¤å›è°ƒå‡½æ•°</span></span><br><span class="line">    default_offset_commit_callback=<span class="literal">None</span>,</span><br><span class="line">    <span class="comment"># æ˜¯å¦è‡ªåŠ¨æ£€æŸ¥CRC32</span></span><br><span class="line">    check_crcs=<span class="literal">True</span>,</span><br><span class="line">    <span class="comment"># éš”ç¦»çº§åˆ«ï¼Œå¤„ç†äº‹åŠ¡æ€§æ¶ˆæ¯</span></span><br><span class="line">    isolation_level=<span class="string">&#x27;read_uncommitted&#x27;</span>,</span><br><span class="line">    <span class="comment"># æ˜¯å¦å…è®¸è‡ªåŠ¨åˆ›å»ºä¸»é¢˜</span></span><br><span class="line">    allow_auto_create_topics=<span class="literal">True</span>,</span><br><span class="line">    <span class="comment"># å…ƒæ•°æ®åˆ·æ–°é—´éš”(æ¯«ç§’)</span></span><br><span class="line">    metadata_max_age_ms=<span class="number">300000</span>,</span><br><span class="line">    <span class="comment"># åˆ†åŒºåˆ†é…ç­–ç•¥</span></span><br><span class="line">    partition_assignment_strategy=<span class="literal">None</span>,</span><br><span class="line">    <span class="comment"># æ¯æ¬¡pollæœ€å¤§è®°å½•æ•°</span></span><br><span class="line">    max_poll_records=<span class="number">500</span>,</span><br><span class="line">    <span class="comment"># ä¸¤æ¬¡pollæœ€å¤§é—´éš”(æ¯«ç§’)ï¼Œè¶…æ—¶ä¼šè§¦å‘é‡å¹³è¡¡</span></span><br><span class="line">    max_poll_interval_ms=<span class="number">300000</span>,</span><br><span class="line">    <span class="comment"># ä¼šè¯è¶…æ—¶æ—¶é—´(æ¯«ç§’)ï¼Œç”¨äºæ£€æµ‹æ¶ˆè´¹è€…æ•…éšœ</span></span><br><span class="line">    session_timeout_ms=<span class="number">10000</span>,</span><br><span class="line">    <span class="comment"># å¿ƒè·³é—´éš”(æ¯«ç§’)ï¼Œç»´æŒä¼šè¯æ´»æ€§</span></span><br><span class="line">    heartbeat_interval_ms=<span class="number">3000</span>,</span><br><span class="line">    <span class="comment"># TCPæ¥æ”¶ç¼“å†²åŒºå¤§å°</span></span><br><span class="line">    receive_buffer_bytes=<span class="literal">None</span>,</span><br><span class="line">    <span class="comment"># TCPå‘é€ç¼“å†²åŒºå¤§å°</span></span><br><span class="line">    send_buffer_bytes=<span class="literal">None</span>,</span><br><span class="line">    <span class="comment"># å¥—æ¥å­—é€‰é¡¹</span></span><br><span class="line">    socket_options=[(socket.IPPROTO_TCP, socket.TCP_NODELAY, <span class="number">1</span>)],</span><br><span class="line">    <span class="comment"># æ¶ˆè´¹è€…è¿­ä»£è¶…æ—¶æ—¶é—´(æ¯«ç§’)</span></span><br><span class="line">    consumer_timeout_ms=<span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>),</span><br><span class="line">    <span class="comment"># å®‰å…¨åè®®</span></span><br><span class="line">    security_protocol=<span class="string">&#x27;PLAINTEXT&#x27;</span>,</span><br><span class="line">    <span class="comment"># SSLä¸Šä¸‹æ–‡</span></span><br><span class="line">    ssl_context=<span class="literal">None</span>,</span><br><span class="line">    <span class="comment"># æ˜¯å¦éªŒè¯ä¸»æœºå</span></span><br><span class="line">    ssl_check_hostname=<span class="literal">True</span>,</span><br><span class="line">    <span class="comment"># CAè¯ä¹¦æ–‡ä»¶</span></span><br><span class="line">    ssl_cafile=<span class="literal">None</span>,</span><br><span class="line">    <span class="comment"># å®¢æˆ·ç«¯è¯ä¹¦æ–‡ä»¶</span></span><br><span class="line">    ssl_certfile=<span class="literal">None</span>,</span><br><span class="line">    <span class="comment"># å®¢æˆ·ç«¯ç§é’¥æ–‡ä»¶</span></span><br><span class="line">    ssl_keyfile=<span class="literal">None</span>,</span><br><span class="line">    <span class="comment"># è¯ä¹¦å¯†ç </span></span><br><span class="line">    ssl_password=<span class="literal">None</span>,</span><br><span class="line">    <span class="comment"># CRLæ–‡ä»¶</span></span><br><span class="line">    ssl_crlfile=<span class="literal">None</span>,</span><br><span class="line">    <span class="comment"># SSLå¯†ç å¥—ä»¶</span></span><br><span class="line">    ssl_ciphers=<span class="literal">None</span>,</span><br><span class="line">    <span class="comment"># æŒ‡å®šKafka APIç‰ˆæœ¬</span></span><br><span class="line">    api_version=<span class="literal">None</span>,</span><br><span class="line">    <span class="comment"># APIç‰ˆæœ¬è‡ªåŠ¨æ£€æµ‹è¶…æ—¶æ—¶é—´(æ¯«ç§’)</span></span><br><span class="line">    api_version_auto_timeout_ms=<span class="number">2000</span>,</span><br><span class="line">    <span class="comment"># è¿æ¥æœ€å¤§ç©ºé—²æ—¶é—´(æ¯«ç§’)</span></span><br><span class="line">    connections_max_idle_ms=<span class="number">540000</span>,</span><br><span class="line">    <span class="comment"># æŒ‡æ ‡æŠ¥å‘Šå™¨</span></span><br><span class="line">    metric_reporters=<span class="literal">None</span>,</span><br><span class="line">    <span class="comment"># æ˜¯å¦å¯ç”¨æŒ‡æ ‡æ”¶é›†</span></span><br><span class="line">    metrics_enabled=<span class="literal">True</span>,</span><br><span class="line">    <span class="comment"># æŒ‡æ ‡é‡‡æ ·æ•°</span></span><br><span class="line">    metrics_num_samples=<span class="number">2</span>,</span><br><span class="line">    <span class="comment"># æŒ‡æ ‡é‡‡æ ·çª—å£(æ¯«ç§’)</span></span><br><span class="line">    metrics_sample_window_ms=<span class="number">30000</span>,</span><br><span class="line">    <span class="comment"># I/Oé€‰æ‹©å™¨</span></span><br><span class="line">    selector=<span class="literal">None</span>,</span><br><span class="line">    <span class="comment"># æ˜¯å¦æ’é™¤å†…éƒ¨ä¸»é¢˜</span></span><br><span class="line">    exclude_internal_topics=<span class="literal">True</span>,</span><br><span class="line">    <span class="comment"># SASLè®¤è¯æœºåˆ¶</span></span><br><span class="line">    sasl_mechanism=<span class="literal">None</span>,</span><br><span class="line">    <span class="comment"># SASLç”¨æˆ·å</span></span><br><span class="line">    sasl_plain_username=<span class="literal">None</span>,</span><br><span class="line">    <span class="comment"># SASLå¯†ç </span></span><br><span class="line">    sasl_plain_password=<span class="literal">None</span>,</span><br><span class="line">    <span class="comment"># Kerberosåç§°</span></span><br><span class="line">    sasl_kerberos_name=<span class="literal">None</span>,</span><br><span class="line">    <span class="comment"># KerberosæœåŠ¡åç§°</span></span><br><span class="line">    sasl_kerberos_service_name=<span class="string">&#x27;kafka&#x27;</span>,</span><br><span class="line">    <span class="comment"># KerberosåŸŸå</span></span><br><span class="line">    sasl_kerberos_domain_name=<span class="literal">None</span>,</span><br><span class="line">    <span class="comment"># OAuthä»¤ç‰Œæä¾›å™¨</span></span><br><span class="line">    sasl_oauth_token_provider=<span class="literal">None</span>,</span><br><span class="line">    <span class="comment"># Socks5ä»£ç†</span></span><br><span class="line">    socks5_proxy=<span class="literal">None</span>,</span><br><span class="line">    <span class="comment"># è‡ªå®šä¹‰KafkaClientåˆ›å»ºå‡½æ•°</span></span><br><span class="line">    kafka_client=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><h4 id="2-æ ¸å¿ƒæ–¹æ³•è¯¦è§£"><a class="markdownIt-Anchor" href="#2-æ ¸å¿ƒæ–¹æ³•è¯¦è§£"></a> 2. æ ¸å¿ƒæ–¹æ³•è¯¦è§£</h4><h5 id="1åˆ†åŒºåˆ†é…ä¸è®¢é˜…"><a class="markdownIt-Anchor" href="#1åˆ†åŒºåˆ†é…ä¸è®¢é˜…"></a> ï¼ˆ1ï¼‰åˆ†åŒºåˆ†é…ä¸è®¢é˜…</h5><ul><li><strong>æ‰‹åŠ¨åˆ†é…åˆ†åŒºï¼ˆassignï¼‰</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> kafka <span class="keyword">import</span> TopicPartition</span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ‰‹åŠ¨åˆ†é…ç‰¹å®šåˆ†åŒº</span></span><br><span class="line">consumer.assign([TopicPartition(<span class="string">&#x27;my_topic&#x27;</span>, <span class="number">0</span>), TopicPartition(<span class="string">&#x27;my_topic&#x27;</span>, <span class="number">1</span>)])</span><br><span class="line"> </span><br><span class="line"><span class="comment"># è·å–å½“å‰åˆ†é…çš„åˆ†åŒº</span></span><br><span class="line">assigned_partitions = consumer.assignment()</span><br></pre></td></tr></table></figure><ul><li><strong>è‡ªåŠ¨è®¢é˜…ä¸»é¢˜ï¼ˆsubscribeï¼‰</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¢é˜…å•ä¸ªæˆ–å¤šä¸ªä¸»é¢˜</span></span><br><span class="line">consumer.subscribe([<span class="string">&#x27;topic1&#x27;</span>, <span class="string">&#x27;topic2&#x27;</span>])</span><br><span class="line"> </span><br><span class="line"><span class="comment"># é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼è®¢é˜…åŒ¹é…çš„ä¸»é¢˜</span></span><br><span class="line">consumer.subscribe(pattern=<span class="string">&#x27;^topic-&#x27;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># è·å–å½“å‰è®¢é˜…çš„ä¸»é¢˜</span></span><br><span class="line">subscribed_topics = consumer.subscription()</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å–æ¶ˆæ‰€æœ‰è®¢é˜…</span></span><br><span class="line">consumer.unsubscribe()</span><br></pre></td></tr></table></figure><h5 id="2åç§»é‡æ“ä½œ"><a class="markdownIt-Anchor" href="#2åç§»é‡æ“ä½œ"></a> ï¼ˆ2ï¼‰åç§»é‡æ“ä½œ</h5><ul><li><strong>æäº¤åç§»é‡</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŒæ­¥æäº¤åç§»é‡</span></span><br><span class="line">consumer.commit()</span><br><span class="line"> </span><br><span class="line"><span class="comment"># æäº¤æŒ‡å®šåç§»é‡</span></span><br><span class="line">consumer.commit(&#123;</span><br><span class="line">    TopicPartition(<span class="string">&#x27;topic1&#x27;</span>, <span class="number">0</span>): offset_and_metadata,</span><br><span class="line">    TopicPartition(<span class="string">&#x27;topic2&#x27;</span>, <span class="number">1</span>): offset_and_metadata</span><br><span class="line">&#125;)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å¼‚æ­¥æäº¤åç§»é‡</span></span><br><span class="line">consumer.commit_async()</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å¼‚æ­¥æäº¤å¸¦å›è°ƒ</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">on_commit</span>(<span class="params">errors, offsets</span>):</span><br><span class="line">    <span class="keyword">if</span> errors:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Commit failed: <span class="subst">&#123;errors&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Commit successful: <span class="subst">&#123;offsets&#125;</span>&quot;</span>)</span><br><span class="line"> </span><br><span class="line">consumer.commit_async(callback=on_commit)</span><br></pre></td></tr></table></figure><ul><li><strong>è·å–å·²æäº¤åç§»é‡</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è·å–æŒ‡å®šåˆ†åŒºçš„å·²æäº¤åç§»é‡</span></span><br><span class="line">committed_offset = consumer.committed(TopicPartition(<span class="string">&#x27;topic1&#x27;</span>, <span class="number">0</span>))</span><br><span class="line"> </span><br><span class="line"><span class="comment"># è·å–å¤šä¸ªåˆ†åŒºçš„å·²æäº¤åç§»é‡</span></span><br><span class="line">partitions = [TopicPartition(<span class="string">&#x27;topic1&#x27;</span>, <span class="number">0</span>), TopicPartition(<span class="string">&#x27;topic1&#x27;</span>, <span class="number">1</span>)]</span><br><span class="line">offsets = consumer.committed(partitions, metadata=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><h5 id="3æ¶ˆæ¯è·å–ä¸å®šä½"><a class="markdownIt-Anchor" href="#3æ¶ˆæ¯è·å–ä¸å®šä½"></a> ï¼ˆ3ï¼‰æ¶ˆæ¯è·å–ä¸å®šä½</h5><ul><li><strong>è½®è¯¢è·å–æ¶ˆæ¯</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è½®è¯¢è·å–æ¶ˆæ¯ï¼Œè¶…æ—¶æ—¶é—´100æ¯«ç§’</span></span><br><span class="line">messages = consumer.poll(timeout_ms=<span class="number">100</span>, max_records=<span class="number">100</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å¤„ç†è·å–çš„æ¶ˆæ¯</span></span><br><span class="line"><span class="keyword">for</span> topic_partition, records <span class="keyword">in</span> messages.items():</span><br><span class="line">    <span class="keyword">for</span> record <span class="keyword">in</span> records:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Received message: <span class="subst">&#123;record.value&#125;</span> at offset <span class="subst">&#123;record.offset&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><ul><li><strong>æ‰‹åŠ¨å®šä½åç§»é‡</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®šä½åˆ°æŒ‡å®šåç§»é‡</span></span><br><span class="line">consumer.seek(TopicPartition(<span class="string">&#x27;topic1&#x27;</span>, <span class="number">0</span>), <span class="number">100</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å®šä½åˆ°åˆ†åŒºèµ·å§‹ä½ç½®</span></span><br><span class="line">consumer.seek_to_beginning(TopicPartition(<span class="string">&#x27;topic1&#x27;</span>, <span class="number">0</span>))</span><br><span class="line"> </span><br><span class="line"><span class="comment"># å®šä½åˆ°åˆ†åŒºæœ«å°¾ä½ç½®</span></span><br><span class="line">consumer.seek_to_end(TopicPartition(<span class="string">&#x27;topic1&#x27;</span>, <span class="number">0</span>))</span><br></pre></td></tr></table></figure><h5 id="4åç§»é‡ä¸å…ƒæ•°æ®æŸ¥è¯¢"><a class="markdownIt-Anchor" href="#4åç§»é‡ä¸å…ƒæ•°æ®æŸ¥è¯¢"></a> ï¼ˆ4ï¼‰åç§»é‡ä¸å…ƒæ•°æ®æŸ¥è¯¢</h5><ul><li><strong>æŸ¥è¯¢åˆ†åŒºåç§»é‡èŒƒå›´</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è·å–åˆ†åŒºæœ€æ—©åç§»é‡</span></span><br><span class="line">begin_offsets = consumer.beginning_offsets([TopicPartition(<span class="string">&#x27;topic1&#x27;</span>, <span class="number">0</span>)])</span><br><span class="line"> </span><br><span class="line"><span class="comment"># è·å–åˆ†åŒºæœ«å°¾åç§»é‡ï¼ˆä¸‹ä¸€æ¡æ¶ˆæ¯çš„åç§»é‡ï¼‰</span></span><br><span class="line">end_offsets = consumer.end_offsets([TopicPartition(<span class="string">&#x27;topic1&#x27;</span>, <span class="number">0</span>)])</span><br><span class="line"> </span><br><span class="line"><span class="comment"># é€šè¿‡æ—¶é—´æˆ³æŸ¥è¯¢åç§»é‡</span></span><br><span class="line">timestamps = &#123;TopicPartition(<span class="string">&#x27;topic1&#x27;</span>, <span class="number">0</span>): <span class="number">1678901234000</span>&#125;</span><br><span class="line">offsets = consumer.offsets_for_times(timestamps)</span><br></pre></td></tr></table></figure><ul><li><strong>æŸ¥è¯¢åˆ†åŒºå…ƒæ•°æ®</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è·å–ä¸»é¢˜çš„æ‰€æœ‰åˆ†åŒº</span></span><br><span class="line">partitions = consumer.partitions_for_topic(<span class="string">&#x27;my_topic&#x27;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># è·å–åˆ†åŒºçš„é«˜æ°´ä½åç§»é‡</span></span><br><span class="line">highwater = consumer.highwater(TopicPartition(<span class="string">&#x27;topic1&#x27;</span>, <span class="number">0</span>))</span><br></pre></td></tr></table></figure><h5 id="5åˆ†åŒºæ§åˆ¶"><a class="markdownIt-Anchor" href="#5åˆ†åŒºæ§åˆ¶"></a> ï¼ˆ5ï¼‰åˆ†åŒºæ§åˆ¶</h5><ul><li><strong>æš‚åœä¸æ¢å¤åˆ†åŒº</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æš‚åœåˆ†åŒº fetch</span></span><br><span class="line">consumer.pause(TopicPartition(<span class="string">&#x27;topic1&#x27;</span>, <span class="number">0</span>))</span><br><span class="line"> </span><br><span class="line"><span class="comment"># è·å–æš‚åœçš„åˆ†åŒº</span></span><br><span class="line">paused_partitions = consumer.paused()</span><br><span class="line"> </span><br><span class="line"><span class="comment"># æ¢å¤åˆ†åŒº fetch</span></span><br><span class="line">consumer.resume(TopicPartition(<span class="string">&#x27;topic1&#x27;</span>, <span class="number">0</span>))</span><br></pre></td></tr></table></figure><h3 id="ä¸‰-å®æˆ˜æ¡ˆä¾‹æ„å»ºä¸€ä¸ªå¯é çš„-kafka-æ¶ˆè´¹è€…"><a class="markdownIt-Anchor" href="#ä¸‰-å®æˆ˜æ¡ˆä¾‹æ„å»ºä¸€ä¸ªå¯é çš„-kafka-æ¶ˆè´¹è€…"></a> ä¸‰ã€å®æˆ˜æ¡ˆä¾‹ï¼šæ„å»ºä¸€ä¸ªå¯é çš„ Kafka æ¶ˆè´¹è€…</h3><p>ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„æ¡ˆä¾‹æ¥å±•ç¤ºå¦‚ä½•ä½¿ç”¨ KafkaConsumer æ„å»ºä¸€ä¸ªå¯é çš„æ¶ˆæ¯æ¶ˆè´¹è€…ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> kafka <span class="keyword">import</span> KafkaConsumer</span><br><span class="line"><span class="keyword">from</span> kafka.errors <span class="keyword">import</span> KafkaError</span><br><span class="line"> </span><br><span class="line"><span class="comment"># é…ç½®æ¶ˆè´¹è€…</span></span><br><span class="line">consumer = KafkaConsumer(</span><br><span class="line">    <span class="string">&#x27;my-topic&#x27;</span>,</span><br><span class="line">    bootstrap_servers=[<span class="string">&#x27;localhost:9092&#x27;</span>],</span><br><span class="line">    group_id=<span class="string">&#x27;my-consumer-group&#x27;</span>,</span><br><span class="line">    auto_offset_reset=<span class="string">&#x27;latest&#x27;</span>,</span><br><span class="line">    enable_auto_commit=<span class="literal">False</span>,</span><br><span class="line">    key_deserializer=<span class="keyword">lambda</span> k: k.decode(<span class="string">&#x27;utf-8&#x27;</span>),</span><br><span class="line">    value_deserializer=<span class="keyword">lambda</span> v: json.loads(v.decode(<span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line">)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Consumer started, waiting for messages...&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># å¾ªç¯è·å–æ¶ˆæ¯</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="comment"># è½®è¯¢è·å–æ¶ˆæ¯ï¼Œè¶…æ—¶æ—¶é—´100ms</span></span><br><span class="line">        messages = consumer.poll(timeout_ms=<span class="number">100</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> messages:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">            </span><br><span class="line">        <span class="comment"># å¤„ç†æ¶ˆæ¯</span></span><br><span class="line">        <span class="keyword">for</span> topic_partition, records <span class="keyword">in</span> messages.items():</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;Received <span class="subst">&#123;<span class="built_in">len</span>(records)&#125;</span> messages from <span class="subst">&#123;topic_partition&#125;</span>&quot;</span>)</span><br><span class="line">            </span><br><span class="line">            <span class="comment"># æ‰¹é‡å¤„ç†æ¶ˆæ¯</span></span><br><span class="line">            <span class="keyword">for</span> record <span class="keyword">in</span> records:</span><br><span class="line">                <span class="keyword">try</span>:</span><br><span class="line">                    <span class="comment"># å¤„ç†æ¶ˆæ¯å†…å®¹</span></span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">f&quot;Processing message: <span class="subst">&#123;record.value&#125;</span> at offset <span class="subst">&#123;record.offset&#125;</span>&quot;</span>)</span><br><span class="line">                    </span><br><span class="line">                    <span class="comment"># æ¨¡æ‹Ÿä¸šåŠ¡å¤„ç†</span></span><br><span class="line">                    time.sleep(<span class="number">0.1</span>)</span><br><span class="line">                    </span><br><span class="line">                <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">f&quot;Error processing message: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">            </span><br><span class="line">            <span class="comment"># æ‰‹åŠ¨æäº¤åç§»é‡</span></span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                consumer.commit()</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;Offsets committed successfully for <span class="subst">&#123;topic_partition&#125;</span>&quot;</span>)</span><br><span class="line">            <span class="keyword">except</span> KafkaError <span class="keyword">as</span> e:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;Offset commit failed: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">except</span> KeyboardInterrupt:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Consumer stopped by user&quot;</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    <span class="comment"># å…³é—­æ¶ˆè´¹è€…</span></span><br><span class="line">    consumer.close()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Consumer closed&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ¡ˆä¾‹å±•ç¤ºäº†ä¸€ä¸ªåŸºæœ¬çš„æ¶ˆè´¹è€…æµç¨‹ï¼ŒåŒ…æ‹¬ï¼š</p><ol><li>é…ç½®æ¶ˆè´¹è€…å‚æ•°ï¼ˆæ‰‹åŠ¨æäº¤åç§»é‡ã€JSON ååºåˆ—åŒ–ï¼‰</li><li>å¾ªç¯è½®è¯¢è·å–æ¶ˆæ¯</li><li>æ‰¹é‡å¤„ç†æ¶ˆæ¯</li><li>æ‰‹åŠ¨æäº¤åç§»é‡ç¡®ä¿æ¶ˆæ¯ä¸ä¸¢å¤±</li><li>å¼‚å¸¸å¤„ç†å’Œèµ„æºæ¸…ç†</li></ol><h3 id=""><a class="markdownIt-Anchor" href="#"></a> </h3><h3 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h3><p>é€šè¿‡æœ¬æ–‡ï¼Œæˆ‘ä»¬è¯¦ç»†ä»‹ç»äº† kafka-python çš„å®‰è£…æ–¹æ³•å’Œ KafkaConsumer çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œä»åŸºç¡€å®‰è£…åˆ°é«˜çº§ç‰¹æ€§ï¼Œå†åˆ°å®æˆ˜æ¡ˆä¾‹ï¼Œå¸Œæœ›èƒ½å¸®åŠ©ä½ åœ¨é¡¹ç›®ä¸­ç†Ÿç»ƒè¿ç”¨ Kafkaã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kafka </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kafkaç®€ä»‹å’ŒUbuntu20.04å®‰è£…kafka</title>
      <link href="/2025/07/29/kafka/Kafka%E7%AE%80%E4%BB%8B%E5%92%8CUbuntu20.04%E5%AE%89%E8%A3%85kafka/"/>
      <url>/2025/07/29/kafka/Kafka%E7%AE%80%E4%BB%8B%E5%92%8CUbuntu20.04%E5%AE%89%E8%A3%85kafka/</url>
      
        <content type="html"><![CDATA[<h2 id="ç®€ä»‹"><a class="markdownIt-Anchor" href="#ç®€ä»‹"></a> ç®€ä»‹</h2><p>Kafkaæ˜¯ä¸€ä¸ªå®æ—¶æ•°æ®å¤„ç†ç³»ç»Ÿï¼Œå¯ä»¥æ¨ªå‘æ‰©å±•ã€é«˜å¯é ï¼Œè€Œä¸”è¿˜å˜æ€å¿«ï¼Œå·²ç»è¢«å¾ˆå¤šå…¬å¸ä½¿ç”¨ã€‚<br />é‚£ä¹ˆä»€ä¹ˆæ˜¯å®æ—¶æ•°æ®å¤„ç†ç³»ç»Ÿå‘¢ï¼Ÿé¡¾åæ€ä¹‰ï¼Œå®æ—¶æ•°æ®å¤„ç†ç³»ç»Ÿå°±æ˜¯æ•°æ®ä¸€æ—¦äº§ç”Ÿï¼Œå°±è¦èƒ½å¿«é€Ÿè¿›è¡Œå¤„ç†çš„ç³»ç»Ÿã€‚</p><p>å¯¹äºå®æ—¶æ•°æ®å¤„ç†ï¼Œæˆ‘ä»¬æœ€å¸¸è§çš„ï¼Œå°±æ˜¯æ¶ˆæ¯ä¸­é—´ä»¶äº†ï¼Œä¹Ÿå«MQï¼ˆMessage Queueï¼Œæ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼Œä¹Ÿæœ‰å«Message Brokerçš„ã€‚</p><h3 id="ä¸ºä»€ä¹ˆéœ€è¦æ¶ˆæ¯ä¸­é—´ä»¶"><a class="markdownIt-Anchor" href="#ä¸ºä»€ä¹ˆéœ€è¦æ¶ˆæ¯ä¸­é—´ä»¶"></a> ä¸ºä»€ä¹ˆéœ€è¦æ¶ˆæ¯ä¸­é—´ä»¶</h3><p>æ¶ˆæ¯ä¸­é—´ä»¶çš„ä½œç”¨ä¸»è¦æœ‰ä¸¤ç‚¹ï¼š<br /><strong>1. è§£è€¦æ¶ˆæ¯çš„ç”Ÿäº§å’Œæ¶ˆè´¹ã€‚</strong><br /><strong>2. ç¼“å†²ã€‚</strong><br />æƒ³è±¡ä¸€ä¸ªåœºæ™¯ï¼Œä½ çš„ä¸€ä¸ªåˆ›å»ºè®¢å•çš„æ“ä½œï¼Œåœ¨è®¢å•åˆ›å»ºå®Œæˆä¹‹åï¼Œéœ€è¦è§¦å‘ä¸€ç³»åˆ—å…¶ä»–çš„æ“ä½œï¼Œæ¯”å¦‚è¿›è¡Œç”¨æˆ·è®¢å•æ•°æ®çš„ç»Ÿè®¡ã€ç»™ç”¨æˆ·å‘é€çŸ­ä¿¡ã€ç»™ç”¨æˆ·å‘é€é‚®ä»¶ç­‰ç­‰ï¼Œå°±åƒè¿™æ ·ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">createOrder</span>(...)&#123;</span><br><span class="line"> ...</span><br><span class="line"> <span class="built_in">statOrderData</span>(...);</span><br><span class="line"> <span class="built_in">sendSMS</span>();</span><br><span class="line"> <span class="built_in">sendEmail</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç è¿™æ ·å†™ä¼¼ä¹æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œå¯æ˜¯è¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œä½ ç»™ç³»ç»Ÿå¼•è¿›äº†ä¸€ä¸ªç”¨æˆ·è¡Œä¸ºåˆ†ææœåŠ¡ï¼Œå®ƒä¹Ÿéœ€è¦åœ¨è®¢å•åˆ›å»ºå®Œæˆä¹‹åï¼Œè¿›è¡Œä¸€ä¸ªåˆ†æç”¨æˆ·è¡Œä¸ºçš„æ“ä½œï¼Œè€Œä¸”éšç€ç³»ç»Ÿçš„é€æ¸å£®å¤§ï¼Œåˆ›å»ºè®¢å•ä¹‹åè¦è§¦å‘çš„æ“ä½œä¹Ÿå°±è¶Šæ¥è¶Šå¤šï¼Œä»£ç ä¹Ÿæ¸æ¸è†¨èƒ€æˆè¿™æ ·ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">createOrder</span>(...)&#123;</span><br><span class="line"> ...</span><br><span class="line"> <span class="built_in">statOrderData</span>(...);</span><br><span class="line"> <span class="built_in">sendSMS</span>();</span><br><span class="line"> <span class="built_in">sendEmail</span>();</span><br><span class="line"> <span class="comment">// new operation</span></span><br><span class="line"> <span class="built_in">statUserBehavior</span>(...);</span><br><span class="line"> <span class="built_in">doXXX</span>(...);</span><br><span class="line"> <span class="built_in">doYYY</span>(...);</span><br><span class="line"> <span class="comment">// more and more operations</span></span><br><span class="line"> ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¼è‡´ä»£ç è¶Šæ¥è¶Šè†¨èƒ€çš„ç—‡ç»“åœ¨äºï¼Œæ¶ˆæ¯çš„ç”Ÿäº§å’Œæ¶ˆè´¹è€¦åˆåœ¨ä¸€èµ·äº†ã€‚createOrderæ–¹æ³•ä¸ä»…ä»…è¦è´Ÿè´£ç”Ÿäº§â€œè®¢å•å·²åˆ›å»ºâ€è¿™æ¡æ¶ˆæ¯ï¼Œè¿˜è¦è´Ÿè´£å¤„ç†è¿™æ¡æ¶ˆæ¯ã€‚</p><p>è¿™å°±å¥½æ¯”BBCçš„è®°è€…ï¼Œåœ¨çŸ¥é“çš‡é©¬æ‹¿åˆ°æ¬§å† å† å†›ä¹‹åï¼Œæ‹¿èµ·æ‰‹æœºï¼Œç¿»å¼€çš‡é©¬çƒè¿·é€šè®¯å½•ï¼Œç»™çƒè¿·ä¸€ä¸ªä¸€ä¸ªæ‰“ç”µè¯ï¼Œå‘Šè¯‰ä»–ä»¬ï¼Œçš‡é©¬å¤ºå† äº†ã€‚</p><p>äº‹å®ä¸Šï¼ŒBBCçš„è®°è€…åªéœ€è¦åœ¨ä»–ä»¬å®˜ç½‘å‘å¸ƒè¿™æ¡æ¶ˆæ¯ï¼Œç„¶åçƒè¿·è‡ªè¡Œè®¿é—®BBCï¼Œå»ä¸Šé¢è·å–è¿™æ¡æ–°é—»ï¼›åˆæˆ–è€…çƒè¿·è®¢é˜…äº†BBCï¼Œé‚£ä¹ˆè®¢é˜…ç³»ç»Ÿä¼šä¸»åŠ¨æŠŠå‘å¸ƒåœ¨å®˜ç½‘çš„æ¶ˆæ¯æ¨é€ç»™çƒè¿·ã€‚</p><p>åŒæ ·ï¼ŒcreateOrderä¹Ÿéœ€è¦ä¸€ä¸ªåƒBBCå®˜ç½‘é‚£æ ·çš„è½½ä½“ï¼Œä¹Ÿå°±æ˜¯æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œåœ¨è®¢å•åˆ›å»ºå®Œæˆä¹‹åï¼ŒæŠŠä¸€æ¡ä¸»é¢˜ä¸ºâ€œorderCreatedâ€çš„æ¶ˆæ¯ï¼Œæ”¾åˆ°æ¶ˆæ¯ä¸­é—´ä»¶å»å°±okäº†ï¼Œä¸å¿…å…³å¿ƒéœ€è¦æŠŠè¿™æ¡æ¶ˆæ¯å‘ç»™è°ã€‚è¿™å°±å®Œæˆäº†æ¶ˆæ¯çš„ç”Ÿäº§ã€‚</p><p>è‡³äºéœ€è¦åœ¨è®¢å•åˆ›å»ºå®Œæˆä¹‹åè§¦å‘æ“ä½œçš„æœåŠ¡ï¼Œåˆ™åªéœ€è¦è®¢é˜…ä¸»é¢˜ä¸ºâ€œorderCreatedâ€çš„æ¶ˆæ¯ï¼Œåœ¨æ¶ˆæ¯ä¸­é—´ä»¶å‡ºç°æ–°çš„â€œorderCreatedâ€æ¶ˆæ¯æ—¶ï¼Œå°±ä¼šæ”¶åˆ°è¿™æ¡æ¶ˆæ¯ï¼Œç„¶åè¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚</p><p>å› æ­¤ï¼Œé€šè¿‡ä½¿ç”¨æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œä¸Šé¢çš„ä»£ç ä¹Ÿå°±ç®€åŒ–æˆäº†ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">createOrder</span>(...)&#123;</span><br><span class="line"> ...</span><br><span class="line"> <span class="built_in">sendOrderCreatedMessage</span>(...);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥åå¦‚æœåœ¨è®¢å•åˆ›å»ºä¹‹åæœ‰æ–°çš„æ“ä½œéœ€è¦æ‰§è¡Œï¼Œè¿™ä¸²ä»£ç ä¹Ÿä¸éœ€è¦ä¿®æ”¹ï¼Œåªéœ€è¦ç»™å¯¹æ¶ˆæ¯è¿›è¡Œè®¢é˜…å³å¯ã€‚</p><p>å¦å¤–ï¼Œé€šè¿‡è¿™æ ·çš„è§£è€¦ï¼Œæ¶ˆè´¹è€…åœ¨æ¶ˆè´¹æ•°æ®æ—¶æ›´åŠ çš„çµæ´»ï¼Œä¸å¿…æ¯æ¬¡æ¶ˆæ¯ä¸€äº§ç”Ÿå°±è¦é©¬ä¸Šå»å¤„ç†ï¼ˆè™½ç„¶é€šå¸¸æ¶ˆè´¹è€…ä¾§ä¹Ÿä¼šæœ‰çº¿ç¨‹æ± ç­‰ç¼“å†²æœºåˆ¶ï¼‰ï¼Œå¯ä»¥ç­‰è‡ªå·±æœ‰ç©ºäº†çš„æ—¶å€™ï¼Œå†è¿‡æ¥æ¶ˆæ¯ä¸­é—´ä»¶è¿™é‡Œå–æ•°æ®è¿›è¡Œå¤„ç†ã€‚è¿™å°±æ˜¯æ¶ˆæ¯ä¸­é—´ä»¶å¸¦æ¥çš„ç¼“å†²ä½œç”¨ã€‚</p><h3 id="kafkaä¸€ä»£-æ¶ˆæ¯é˜Ÿåˆ—"><a class="markdownIt-Anchor" href="#kafkaä¸€ä»£-æ¶ˆæ¯é˜Ÿåˆ—"></a> Kafkaä¸€ä»£ - æ¶ˆæ¯é˜Ÿåˆ—</h3><p>ä»ä¸Šé¢çš„æè¿°ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œæ¶ˆæ¯ä¸­é—´ä»¶ä¹‹æ‰€ä»¥å¯ä»¥è§£è€¦æ¶ˆæ¯çš„ç”Ÿäº§å’Œæ¶ˆè´¹ï¼Œä¸»è¦æ˜¯å®ƒæä¾›äº†ä¸€ä¸ªå­˜æ”¾æ¶ˆæ¯çš„åœ°æ–¹â€”â€”ç”Ÿäº§è€…æŠŠæ¶ˆæ¯æ”¾è¿›æ¥ï¼Œæ¶ˆè´¹è€…åœ¨ä»ä¸­å–å‡ºæ¶ˆæ¯è¿›è¡Œå¤„ç†ã€‚</p><p>é‚£ä¹ˆè¿™ä¸ªå­˜æ”¾æ¶ˆæ¯çš„åœ°æ–¹ï¼Œåº”è¯¥é‡‡ç”¨ä»€ä¹ˆ<strong>æ•°æ®ç»“æ„</strong>å‘¢ï¼Ÿ</p><p>åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½å¸Œæœ›å…ˆå‘é€è¿›æ¥çš„æ¶ˆæ¯ï¼Œå¯ä»¥å…ˆè¢«å¤„ç†ï¼ˆFIFOï¼‰ï¼Œè¿™ç¬¦åˆå¤§å¤šæ•°çš„ä¸šåŠ¡é€»è¾‘ï¼Œå°‘æ•°æƒ…å†µä¸‹æˆ‘ä»¬ä¼šç»™æ¶ˆæ¯è®¾ç½®ä¼˜å…ˆçº§ã€‚ä¸ç®¡æ€æ ·ï¼Œå¯¹äºæ¶ˆæ¯ä¸­é—´ä»¶æ¥è¯´ï¼Œä¸€ä¸ªå…ˆè¿›å…ˆå‡ºçš„é˜Ÿåˆ—ï¼Œæ˜¯éå¸¸åˆé€‚çš„æ•°æ®ç»“æ„ï¼š<br /><img src="57bd315695d55136ee958cc6bd3a3ece.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>é‚£ä¹ˆè¦æ€æ ·ä¿è¯æ¶ˆæ¯å¯ä»¥è¢«<strong>é¡ºåºæ¶ˆè´¹</strong>å‘¢ï¼Ÿ</p><p>æ¶ˆè´¹è€…è¿‡æ¥è·å–æ¶ˆæ¯æ—¶ï¼Œæ¯æ¬¡éƒ½æŠŠindex=0çš„æ•°æ®è¿”å›è¿‡å»ï¼Œç„¶åå†åˆ é™¤index=0çš„é‚£æ¡æ•°æ®ï¼Ÿ</p><p>å¾ˆæ˜æ˜¾ä¸è¡Œï¼Œå› ä¸ºè®¢é˜…äº†è¿™æ¡æ¶ˆæ¯çš„æ¶ˆè´¹è€…æ•°é‡ï¼Œå¯èƒ½æ˜¯0ï¼Œä¹Ÿå¯èƒ½æ˜¯1ï¼Œè¿˜å¯èƒ½å¤§äº1ã€‚å¦‚æœæ¯æ¬¡æ¶ˆè´¹å®Œå°±åˆ é™¤äº†ï¼Œé‚£ä¹ˆå…¶ä»–è®¢é˜…äº†è¿™æ¡æ¶ˆæ¯çš„æ¶ˆè´¹è€…å°±è·å–ä¸åˆ°è¿™æ¡æ¶ˆæ¯äº†ã€‚</p><p>äº‹å®ä¸Šï¼ŒKafkaä¼šå¯¹æ•°æ®è¿›è¡Œ<strong>æŒä¹…åŒ–å­˜å‚¨</strong>ï¼ˆè‡³äºå­˜æ”¾å¤šé•¿æ—¶é—´ï¼Œè¿™æ˜¯å¯ä»¥é…ç½®çš„ï¼‰ï¼Œæ¶ˆè´¹è€…ç«¯ä¼šè®°å½•ä¸€ä¸ª<strong>offset</strong>ï¼Œè¡¨æ˜è¯¥æ¶ˆè´¹è€…å½“å‰æ¶ˆè´¹åˆ°å“ªæ¡æ•°æ®ï¼Œæ‰€ä»¥ä¸‹æ¬¡æ¶ˆè´¹è€…æƒ³ç»§ç»­æ¶ˆè´¹ï¼Œåªéœ€ä»offset+1çš„ä½ç½®ç»§ç»­æ¶ˆè´¹å°±å¥½äº†ã€‚</p><p>æ¶ˆè´¹è€…ç”šè‡³å¯ä»¥é€šè¿‡è°ƒæ•´offsetçš„å€¼ï¼Œé‡æ–°æ¶ˆè´¹ä»¥å‰çš„æ•°æ®ã€‚</p><p>é‚£ä¹ˆè¿™å°±æ˜¯Kafkaäº†å—ï¼Ÿä¸ï¼Œè¿™åªæ˜¯ä¸€æ¡éå¸¸æ™®é€šçš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæˆ‘ä»¬å§‘ä¸”å«å®ƒä¸ºKafkaä¸€ä»£å§ã€‚</p><p>è¿™ä¸ªKafkaä¸€ä»£ç”¨ä¸€æ¡æ¶ˆæ¯é˜Ÿåˆ—å®ç°äº†æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œè¿™æ ·çš„ç®€å•å®ç°å­˜åœ¨ä¸å°‘é—®é¢˜ï¼š</p><p>Â· <strong>Topicé±¼é¾™æ··æ‚</strong>ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œä¸€ä¸ªåªè®¢é˜…äº†topicä¸ºâ€œAâ€çš„æ¶ˆè´¹è€…ï¼Œå´è¦åœ¨ä¸€æ¡æœ‰ABCDEFGâ€¦ç­‰å„ç§å„æ ·topicçš„é˜Ÿåˆ—é‡Œå¤´å»å¯»æ‰¾topicä¸ºAçš„æ¶ˆæ¯ï¼Œè¿™æ ·æ€§èƒ½å²‚ä¸æ˜¯å¾ˆæ…¢ï¼Ÿ<br />Â· <strong>ååé‡ä½</strong>ã€‚æˆ‘ä»¬æŠŠå…¨éƒ¨æ¶ˆæ¯éƒ½æ”¾åœ¨ä¸€æ¡é˜Ÿåˆ—äº†ï¼Œè¯·æ±‚ä¸€å¤šï¼Œå®ƒè‚¯å®šåº”ä»˜ä¸è¿‡æ¥ã€‚</p><p>ç”±æ­¤å°±å¼•ç”³å‡ºäº†KafkaäºŒä»£ã€‚</p><h3 id="kafkaäºŒä»£-partition"><a class="markdownIt-Anchor" href="#kafkaäºŒä»£-partition"></a> KafkaäºŒä»£ - Partition</h3><p>è¦è§£å†³Kafkaä¸€ä»£çš„é‚£ä¸¤ä¸ªé—®é¢˜ï¼Œå¾ˆç®€å•â€”â€”åˆ†å¸ƒå­˜å‚¨ã€‚</p><p>äºŒä»£Kafkaå¼•å…¥äº†Partitionçš„æ¦‚å¿µï¼Œä¹Ÿå°±æ˜¯é‡‡ç”¨å¤šæ¡é˜Ÿåˆ—ï¼Œ æ¯æ¡é˜Ÿåˆ—é‡Œé¢çš„æ¶ˆæ¯éƒ½æ˜¯ç›¸åŒçš„topicï¼š<br /><img src="8ba4a70108f79b03f407c96e9ee91616.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />Partitionçš„è®¾è®¡è§£å†³äº†ä¸Šé¢æåˆ°çš„ä¸¤ä¸ªé—®é¢˜ï¼š</p><p><strong>çº¯Topicé˜Ÿåˆ—</strong>ã€‚ä¸€ä¸ªé˜Ÿåˆ—åªæœ‰ä¸€ç§topicï¼Œæ¶ˆè´¹è€…å†ä¹Ÿä¸ç”¨æ‹…å¿ƒä¼šç¢°åˆ°ä¸æ˜¯è‡ªå·±æƒ³è¦çš„topicçš„æ¶ˆæ¯äº†ã€‚<br /><strong>æé«˜ååé‡</strong>ã€‚ä¸åŒtopicçš„æ¶ˆæ¯äº¤ç»™ä¸åŒé˜Ÿåˆ—å»å­˜å‚¨ï¼Œå†ä¹Ÿä¸ç”¨ä»¥ä¸€æ•Œåäº†ã€‚</p><p>ä¸€ä¸ªé˜Ÿåˆ—åªæœ‰ä¸€ç§topicï¼Œä½†æ˜¯ä¸€ç§topicçš„æ¶ˆæ¯å´å¯ä»¥æ ¹æ®è‡ªå®šä¹‰çš„keyå€¼ï¼Œåˆ†æ•£åˆ°å¤šæ¡é˜Ÿåˆ—ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸Šå›¾çš„p1å’Œp2ï¼Œå¯ä»¥éƒ½æ˜¯åŒä¸€ç§topicçš„é˜Ÿåˆ—ã€‚ä¸è¿‡è¿™æ˜¯å±äºæ¯”è¾ƒé«˜çº§çš„åº”ç”¨äº†ï¼Œä»¥åæœ‰æœºä¼šå†å’Œå¤§å®¶è®¨è®ºã€‚</p><p>KafkaäºŒä»£è¶³å¤Ÿå®Œç¾äº†å—ï¼Ÿå½“ç„¶ä¸æ˜¯ï¼Œæˆ‘ä»¬è™½ç„¶é€šè¿‡Partitionæå‡äº†æ€§èƒ½ï¼Œä½†æ˜¯æˆ‘ä»¬å¿½ç•¥äº†ä¸€ä¸ªå¾ˆé‡è¦çš„é—®é¢˜â€”â€”<strong>é«˜å¯ç”¨</strong>ã€‚</p><p>ä¸‡ä¸€æœºå™¨æŒ‚æ‰äº†æ€ä¹ˆåŠï¼Ÿå•ç‚¹ç³»ç»Ÿæ€»æ˜¯ä¸å¯é çš„ã€‚<strong>æˆ‘ä»¬å¿…é¡»è€ƒè™‘å¤‡ç”¨èŠ‚ç‚¹å’Œæ•°æ®å¤‡ä»½çš„é—®é¢˜</strong>ã€‚</p><h3 id="kafkaä¸‰ä»£-brokeré›†ç¾¤"><a class="markdownIt-Anchor" href="#kafkaä¸‰ä»£-brokeré›†ç¾¤"></a> Kafkaä¸‰ä»£ - Brokeré›†ç¾¤</h3><p>å¾ˆæ˜æ˜¾ï¼Œä¸ºäº†è§£å†³é«˜å¯ç”¨é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦<strong>é›†ç¾¤</strong>ã€‚</p><p>Kafkaå¯¹é›†ç¾¤çš„æ”¯æŒä¹Ÿæ˜¯éå¸¸å‹å¥½çš„ã€‚åœ¨Kafkaä¸­ï¼Œé›†ç¾¤é‡Œçš„æ¯ä¸ªå®ä¾‹å«åš<strong>Broker</strong>ï¼Œå°±åƒè¿™æ ·ï¼š<br /><img src="54146f5b9888717f3466afeca58c73e5.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />æ¯ä¸ªpartitionä¸å†åªæœ‰ä¸€ä¸ªï¼Œè€Œæ˜¯æœ‰ä¸€ä¸ªleader(çº¢è‰²)å’Œå¤šä¸ªreplica(è“è‰²)ï¼Œç”Ÿäº§è€…æ ¹æ®æ¶ˆæ¯çš„topicå’Œkeyå€¼ï¼Œç¡®å®šäº†æ¶ˆæ¯è¦å‘å¾€å“ªä¸ªpartitionä¹‹åï¼ˆå‡è®¾æ˜¯p1ï¼‰ï¼Œä¼šæ‰¾åˆ°partitionå¯¹åº”çš„leader(ä¹Ÿå°±æ˜¯broker2é‡Œçš„p1)ï¼Œç„¶åå°†æ¶ˆæ¯å‘ç»™leaderï¼Œleaderè´Ÿè´£æ¶ˆæ¯çš„å†™å…¥ï¼Œå¹¶ä¸å…¶ä½™çš„replicaè¿›è¡ŒåŒæ­¥ã€‚</p><p>ä¸€æ—¦æŸä¸€ä¸ªpartitionçš„leaderæŒ‚æ‰äº†ï¼Œé‚£ä¹ˆåªéœ€ææ‹”ä¸€ä¸ªreplicaå‡ºæ¥ï¼Œè®©å®ƒæˆä¸ºleaderå°±okäº†ï¼Œç³»ç»Ÿä¾æ—§å¯ä»¥æ­£å¸¸è¿è¡Œã€‚</p><p>é€šè¿‡Brokeré›†ç¾¤çš„è®¾è®¡ï¼Œæˆ‘ä»¬ä¸ä»…è§£å†³äº†ç³»ç»Ÿé«˜å¯ç”¨çš„é—®é¢˜ï¼Œè¿˜è¿›ä¸€æ­¥æå‡äº†ç³»ç»Ÿçš„ååé‡ï¼Œå› ä¸ºreplicaåŒæ ·å¯ä»¥ä¸ºæ¶ˆè´¹è€…æä¾›æ•°æ®æŸ¥æ‰¾çš„åŠŸèƒ½ã€‚</p><h3 id="kafkaæ²¡é‚£ä¹ˆç®€å•"><a class="markdownIt-Anchor" href="#kafkaæ²¡é‚£ä¹ˆç®€å•"></a> Kafkaæ²¡é‚£ä¹ˆç®€å•</h3><p><strong>1. kafkaçš„æ¶ˆæ¯ç»“æ„</strong><br />æˆ‘ä»¬åªçŸ¥é“Kafkaå†…éƒ¨æ˜¯ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Œä½†æ˜¯é˜Ÿåˆ—é‡Œçš„å…ƒç´ é•¿ä»€ä¹ˆæ ·ï¼ŒåŒ…å«äº†å“ªäº›æ¶ˆæ¯å‘¢ï¼Ÿ</p><p>å‚è€ƒï¼š<a href="http://kafka.apache.org/documentation/#messageformat">Kafka - messageformat</a></p><p><strong>2. zookeeperå’Œkafkaçš„å…³ç³»</strong><br />å¦‚æœç©è¿‡Kafkaçš„Quick Startæ•™ç¨‹ï¼Œå°±ä¼šå‘ç°ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨Kafkaæ—¶ï¼Œéœ€è¦å…ˆå¯åŠ¨ä¸€ä¸ªZKï¼Œé‚£ä¹ˆè¿™ä¸ªZKçš„ä½œç”¨åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å‚è€ƒï¼š<a href="https://link.zhihu.com/?target=https://www.quora.com/What-is-the-actual-role-of-Zookeeper-in-Kafka-What-benefits-will-I-miss-out-on-if-I-don%25E2%2580%2599t-use-Zookeeper-and-Kafka-together">What-is-the-actual-role-of-Zookeeper-in-Kafka</a></p><p><strong>3. æ•°æ®å¯é æ€§å’Œé‡å¤æ¶ˆè´¹</strong><br />ç”Ÿäº§è€…æŠŠæ¶ˆæ¯å‘ç»™Kafkaï¼Œå‘é€è¿‡ç¨‹ä¸­æŒ‚æ‰ã€æˆ–è€…Kafkaä¿å­˜æ¶ˆæ¯æ—¶å‘é€å¼‚å¸¸æ€ä¹ˆåŠï¼Ÿ</p><p>åŒç†ï¼Œæ¶ˆè´¹è€…è·å–æ¶ˆè´¹æ—¶å‘ç”Ÿå¼‚å¸¸æ€ä¹ˆåŠï¼Ÿ</p><p>ç”šè‡³ï¼Œå¦‚æœæ¶ˆè´¹è€…å·²ç»æ¶ˆè´¹äº†æ•°æ®ï¼Œä½†æ˜¯ä¿®æ”¹offsetæ—¶å¤±è´¥äº†ï¼Œå¯¼è‡´é‡å¤æ¶ˆè´¹æ€ä¹ˆåŠï¼Ÿ</p><p>ç­‰ç­‰è¿™äº›å¼‚å¸¸åœºæ™¯ï¼Œéƒ½æ˜¯Kafkaéœ€è¦è€ƒè™‘çš„ã€‚</p><p>å‚è€ƒï¼š<a href="https://link.zhihu.com/?target=http://kafka.apache.org/documentation/#semantics">Kafka - Message Delivery Semantics</a></p><p><strong>4. pull or push</strong><br />æ¶ˆè´¹è€…ä¾§åœ¨è·å–æ¶ˆæ¯æ—¶ï¼Œæ˜¯é€šè¿‡ä¸»åŠ¨å»pullæ¶ˆæ¯å‘¢ï¼Ÿè¿˜æ˜¯ç”±Kafkaç»™æ¶ˆè´¹è€…pushæ¶ˆæ¯ï¼Ÿ</p><p>è¿™ä¸¤ç§æ–¹å¼å„è‡ªæœ‰ä»€ä¹ˆä¼˜åŠ£ï¼Ÿ</p><p>å‚è€ƒï¼š<a href="https://link.zhihu.com/?target=http://kafka.apache.org/documentation/#design_pull">Kafka - push vs pull</a></p><p><strong>5. å¦‚ä½•æé«˜æ¶ˆè´¹è€…å¤„ç†æ€§èƒ½</strong><br />è¿˜æ˜¯ä¹‹å‰çš„è®¢å•åˆ›å»ºçš„ä¾‹å­ï¼Œè®¢å•åˆ›å»ºåï¼Œä½ è¦ç»™ç”¨æˆ·å‘é€çŸ­ä¿¡ï¼Œç°åœ¨ä½ å‘ç°ç”±äºä½ åªæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…åœ¨å‘é€çŸ­ä¿¡ï¼Œå¿™ä¸è¿‡æ¥ï¼Œæ€ä¹ˆåŠï¼Ÿè¿™å°±æœ‰äº†Kafkaé‡Œå¤´çš„æ¶ˆè´¹è€…ç»„ï¼ˆConsumer Groupï¼‰çš„è®¾è®¡ã€‚</p><p>å‚è€ƒï¼š<a href="https://link.zhihu.com/?target=https://dzone.com/articles/understanding-kafka-consumer-groups-and-consumer-l">Understanding-kafka-consumer-groups-and-consumer</a></p><p><strong>6.ç»ˆæé—®é¢˜ï¼šä¸€æ¡æ¶ˆæ¯ä»ç”Ÿäº§ï¼Œåˆ°è¢«æ¶ˆè´¹ï¼Œå®Œæ•´æµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ</strong><br />å¦‚æœèƒ½è¯¦å°½é€å½»åœ°å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œé‚£ä½ å¯¹Kafkaçš„ç†è§£ä¹Ÿå°±éå¸¸æ·±å…¥äº†ã€‚</p><p><strong>7. å‚è€ƒæ–‡çŒ®&amp;å­¦ä¹ èµ„æº</strong><br />å®˜ç½‘ï¼š</p><p><a href="https://link.zhihu.com/?target=http://kafka.apache.org/">Apache Kafka</a><br /><a href="https://link.zhihu.com/?target=http://kafka.apache.org/intro">Kafkaç®€ä»‹</a><br /><a href="https://link.zhihu.com/?target=http://kafka.apache.org/documentation">Kafkaå®˜ç½‘æ–‡æ¡£</a><br />ä¸€äº›ä¸é”™çš„åšå®¢ï¼š</p><p><a href="https://link.zhihu.com/?target=https://sookocheff.com/post/kafka/kafka-in-a-nutshell/">Kafka-in-a-nutshellï¼ˆå…¥é—¨ç»ä½³è¯»ç‰©ï¼‰</a></p><p><a href="https://link.zhihu.com/?target=https://engineering.linkedin.com/distributed-systems/log-what-every-software-engineer-should-know-about-real-time-datas-unifying">What every software engineer should know about real-time dataâ€™s unifying abstractionï¼ˆä»è¿™ç¯‡æ–‡ç« å¯ä»¥çŸ¥é“LinkedInä¸ºä½•è¦å¼€å‘Kafkaï¼‰</a></p><p><a href="https://link.zhihu.com/?target=https://www.confluent.io/blog/how-to-choose-the-number-of-topicspartitions-in-a-kafka-cluster/">How to choose the number of topics/partitions in a Kafka cluster?ï¼ˆå¯¹Kafka Partitionçš„æ·±å…¥è®²è§£å’Œæ€§èƒ½ä¼˜åŒ–æŒ‡å¯¼ï¼‰</a><br />ä¹¦ç±ï¼ˆæ²¡çœ‹è¿‡ï¼Œä½†æ˜¯æ„Ÿè§‰ä¸é”™çš„ä¹¦ï¼‰ï¼š</p><p><a href="https://link.zhihu.com/?target=https://book.douban.com/subject/27665114/">Kafkaæƒå¨æŒ‡å—</a><br /><a href="https://link.zhihu.com/?target=https://book.douban.com/subject/27038473/">Apache Kafkaæºç å‰–æï¼ˆå¯ä»¥è‡ªå·±å…ˆçœ‹çœ‹æºç ï¼Œå†çœ‹çœ‹è¿™æœ¬ä¹¦ï¼‰</a></p><h2 id="å®‰è£…javajdk"><a class="markdownIt-Anchor" href="#å®‰è£…javajdk"></a> å®‰è£…JAVAï¼ˆjdkï¼‰</h2><h3 id="ä¸‹è½½å®‰è£…åŒ…"><a class="markdownIt-Anchor" href="#ä¸‹è½½å®‰è£…åŒ…"></a> ä¸‹è½½å®‰è£…åŒ…</h3><p>ï¼ˆ<a href="https://archive.apache.org/dist/zookeeper/">å®˜ç½‘</a>ï¼‰é“¾æ¥ï¼š<br /><img src="3637292307ee1e8df884b9cf2db5b175.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />è¿˜å¯ä»¥ç›´æ¥é€šè¿‡wgetå‘½ä»¤ç›´æ¥æŠŠJDKå®‰è£…åŒ…ä¸‹è½½ä¸‹æ¥ï¼Œå…·ä½“æ‰§è¡Œå‘½ä»¤è¯·åº¦å¨˜ã€‚</p><h3 id="è§£å‹å®‰è£…åŒ…"><a class="markdownIt-Anchor" href="#è§£å‹å®‰è£…åŒ…"></a> è§£å‹å®‰è£…åŒ…</h3><p>å¯è‡ªå®šä¹‰ä¸€ä¸ªç›®å½•å­˜ï¼ˆ/home/tempï¼‰æ”¾å¹¶è¿›è¡Œè§£å‹,æ‰§è¡Œå‘½ä»¤è¡Œå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mkdir /home/temp</span></span><br><span class="line"><span class="comment"># cd  /home/temp</span></span><br><span class="line"><span class="comment"># tar  -zxvf  jdk-8u181-linux-x64.tar.gz</span></span><br></pre></td></tr></table></figure><p>å°†è§£å‹åçš„ã€jdk1.8.0_181ã€‘é‡Œé¢çš„æ‰€æœ‰æ•°æ®ç§»åŠ¨åˆ°æŒ‡å®šçš„æ–‡ä»¶å¤¹ä¸‹ï¼ˆå¦‚/usr/local/javaï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mkdir /usr/local/java</span></span><br></pre></td></tr></table></figure><p>å°†ã€jdk1.8.0_181ã€‘é‡Œçš„æ•°æ®æ‹·è´è‡³javaç›®å½•ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mv /home/temp/jdk1.8.0_181 /usr/local/java</span></span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹ç¯å¢ƒå˜é‡"><a class="markdownIt-Anchor" href="#ä¿®æ”¹ç¯å¢ƒå˜é‡"></a> ä¿®æ”¹ç¯å¢ƒå˜é‡</h3><p>ä¿®æ”¹ç¯å¢ƒå˜é‡ï¼Œé€šè¿‡å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim /etc/profile</span></span><br></pre></td></tr></table></figure><p>åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä¸€ä¸‹å†…å®¹ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/local/java</span><br><span class="line">export JRE_HOME=$&#123;JAVA_HOME&#125;/jre</span><br><span class="line">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/lib:$CLASSPATH</span><br><span class="line">export JAVA_PATH=$&#123;JAVA_HOME&#125;/bin:$&#123;JRE_HOME&#125;/bin</span><br><span class="line">export PATH=$PATH:$&#123;JAVA_PATH&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œä¿å­˜å¹¶é€€å‡º(æŒ‰ï¼šwq!)</p><p>ä¿å­˜å®Œä¹‹åï¼Œé€šè¿‡å‘½ä»¤source /etc/profileè®©profileæ–‡ä»¶ç«‹å³ç”Ÿæ•ˆ</p><p>ç¬¬å››æ­¥ã€æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ</p><p>â‘ ã€ä½¿ç”¨javacå‘½ä»¤ï¼Œä¸ä¼šå‡ºç°command not foundé”™è¯¯</p><p>â‘¡ã€ä½¿ç”¨java -versionï¼Œå‡ºç°ç‰ˆæœ¬ä¸ºjava version â€œ1.8.0_181â€</p><p>â‘¢ã€echo $PATHï¼Œçœ‹çœ‹è‡ªå·±åˆšåˆšè®¾ç½®çš„çš„ç¯å¢ƒå˜é‡é…ç½®æ˜¯å¦éƒ½æ­£ç¡®</p><p>æµ‹è¯•æ²¡é—®é¢˜å³å®‰è£…æˆåŠŸ</p><h2 id="å®‰è£…zookeeper"><a class="markdownIt-Anchor" href="#å®‰è£…zookeeper"></a> å®‰è£…Zookeeper</h2><h3 id="ä¸‹è½½"><a class="markdownIt-Anchor" href="#ä¸‹è½½"></a> ä¸‹è½½</h3><p>åˆ°å®˜ç½‘å»ä¸‹è½½ä½ æƒ³è¦çš„ç‰ˆæœ¬ <a href="http://mirror.bit.edu.cn/apache/zookeeper/">å®˜ç½‘ä¸‹è½½åœ°å€</a><br /><img src="b3780e7ea863cc7cb701354b4363f8d7.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="è§£å‹"><a class="markdownIt-Anchor" href="#è§£å‹"></a> è§£å‹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#tar -zxvf zookeeper-3.4.10.tar.gz</span></span><br></pre></td></tr></table></figure><p>å°†è§£å‹åçš„æ–‡ä»¶å¤åˆ¶åˆ°/usr/localç›®å½•ä¸‹ï¼Œå¹¶é‡å‘½åä¸ºzookeeperï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost tmp]<span class="comment"># cp zookeeper-3.4.10 /usr/local/zookeeper -r  //å¤åˆ¶æ‰€æœ‰æ–‡ä»¶åˆ°zookeeper æ–‡ä»¶å¤¹ä¸‹</span></span><br><span class="line">[root@localhost tmp]<span class="comment"># cd /usr/local/zookeeper   //åˆ‡æ¢åˆ°/usr/local/zookeeperç›®å½•ä¸‹</span></span><br></pre></td></tr></table></figure><p><img src="2edd9044f97029040e88cc08b3ab2ddc.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="é…ç½®"><a class="markdownIt-Anchor" href="#é…ç½®"></a> é…ç½®</h3><p>but è¿™é‡Œéœ€è¦æ›´æ”¹ä¸€ä¸‹ .cfg æ–‡ä»¶å zookeeper å¯åŠ¨è„šæœ¬é»˜è®¤æ˜¯å¯»æ‰¾ zoo.cfg æ–‡ä»¶ã€‚ã€‚ã€‚ã€‚ä¹‹æ‰€ä»¥ å¾—ä¿®æ”¹æ–‡ä»¶å<br />åˆ‡æ¢åˆ°zookeeperç›®å½•ä¸‹çš„confç›®å½•ä¸‹ï¼Œé‡æ–°å¤åˆ¶ä¸€ä»½zoo_sample.cfgæ–‡ä»¶å¹¶å‘½åä¸ºzoo.cfgï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost zookeeper]<span class="comment"># cd conf  //åˆ‡æ¢åˆ°ç›®å½•ä¸‹</span></span><br><span class="line">[root@localhost conf]<span class="comment"># ll//æ˜¾ç¤ºç›®å½•ä¸‹çš„ä¿¡æ¯</span></span><br><span class="line">æ€»ç”¨é‡ 12</span><br><span class="line">-rw-r--r--. 1 root root  535 5æœˆ   8 18:17 configuration.xsl</span><br><span class="line">-rw-r--r--. 1 root root 2161 5æœˆ   8 18:17 log4j.properties</span><br><span class="line">-rw-r--r--. 1 root root  922 5æœˆ   8 18:17 zoo_sample.cfg</span><br><span class="line">[root@localhost conf]<span class="comment"># cp zoo_sample.cfg zoo.cfg//copyä¸€ä»½åˆ°å½“å‰ç›®å½•ä¸‹ï¼Œå¹¶å‘½åä¸ºzoo.cfg</span></span><br><span class="line">[root@localhost conf]<span class="comment"># ll</span></span><br><span class="line">æ€»ç”¨é‡ 16</span><br><span class="line">-rw-r--r--. 1 root root  535 5æœˆ   8 18:17 configuration.xsl</span><br><span class="line">-rw-r--r--. 1 root root 2161 5æœˆ   8 18:17 log4j.properties</span><br><span class="line">-rw-r--r--. 1 root root  922 5æœˆ   8 18:29 zoo.cfg</span><br><span class="line">-rw-r--r--. 1 root root  922 5æœˆ   8 18:17 zoo_sample.cfg</span><br><span class="line">[root@localhost conf]<span class="comment"># </span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹zoo.cfgæ–‡ä»¶å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost conf]<span class="comment"># vi zoo.cfg</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># The number of milliseconds of each tick</span></span><br><span class="line">tickTime=2000</span><br><span class="line"><span class="comment"># The number of ticks that the initial </span></span><br><span class="line"><span class="comment"># synchronization phase can take</span></span><br><span class="line">initLimit=10</span><br><span class="line"><span class="comment"># The number of ticks that can pass between </span></span><br><span class="line"><span class="comment"># sending a request and getting an acknowledgement</span></span><br><span class="line">syncLimit=5</span><br><span class="line"><span class="comment"># the directory where the snapshot is stored.</span></span><br><span class="line"><span class="comment"># do not use /tmp for storage, /tmp here is just </span></span><br><span class="line"><span class="comment"># example sakes.</span></span><br><span class="line">dataDir=D:\\zookeeper-3.5.4-beta\\data</span><br><span class="line">dataLogDir=D:\\zookeeper-3.5.4-beta\\<span class="built_in">log</span></span><br><span class="line"><span class="comment"># the port at which the clients will connect</span></span><br><span class="line">admin.serverPort=8082</span><br><span class="line">clientPort=2181</span><br><span class="line"><span class="comment"># the maximum number of client connections.</span></span><br><span class="line"><span class="comment"># increase this if you need to handle more clients</span></span><br><span class="line"><span class="comment">#maxClientCnxns=60</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Be sure to read the maintenance section of the </span></span><br><span class="line"><span class="comment"># administrator guide before turning on autopurge.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># http://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_maintenance</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The number of snapshots to retain in dataDir</span></span><br><span class="line"><span class="comment">#autopurge.snapRetainCount=3</span></span><br><span class="line"><span class="comment"># Purge task interval in hours</span></span><br><span class="line"><span class="comment"># Set to &quot;0&quot; to disable auto purge feature</span></span><br><span class="line"><span class="comment">#autopurge.purgeInterval=1</span></span><br><span class="line">server.0=192.168.2.3:9092:113</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å†…å®¹ï¼š</p><p>å¢åŠ äº†ï¼šadmin.serverPort=8082  #ä¸ç„¶ä¼šå‡ºç°ç«¯å£è¢«å ç”¨çš„æƒ…å†µï¼Œå› ä¸ºé»˜è®¤æ˜¯å’ŒApache.Tomcatä½¿ç”¨çš„8080ç«¯å£<br />ä¿®æ”¹äº†ï¼šdataDir=D:\zookeeper-3.5.4-beta\data  #ä¿å­˜æ•°æ®çš„ç›®å½•<br />dataLogDir=D:\zookeeper-3.5.4-beta\log #ä¿å­˜æ—¥å¿—çš„ç›®å½•</p><blockquote><p>tickTimeï¼šè¿™ä¸ªæ—¶é—´æ˜¯ä½œä¸º Zookeeper æœåŠ¡å™¨ä¹‹é—´æˆ–å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´ç»´æŒå¿ƒè·³çš„æ—¶é—´é—´éš”ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ª tickTime æ—¶é—´å°±ä¼šå‘é€ä¸€ä¸ªå¿ƒè·³ã€‚<br />dataDirï¼šé¡¾åæ€ä¹‰å°±æ˜¯ Zookeeper ä¿å­˜æ•°æ®çš„ç›®å½•ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒZookeeper å°†å†™æ•°æ®çš„æ—¥å¿—æ–‡ä»¶ä¹Ÿä¿å­˜åœ¨è¿™ä¸ªç›®å½•é‡Œã€‚<br />dataLogDirï¼šé¡¾åæ€ä¹‰å°±æ˜¯ Zookeeper ä¿å­˜æ—¥å¿—æ–‡ä»¶çš„ç›®å½•<br />clientPortï¼šè¿™ä¸ªç«¯å£å°±æ˜¯å®¢æˆ·ç«¯è¿æ¥ Zookeeper æœåŠ¡å™¨çš„ç«¯å£ï¼ŒZookeeper ä¼šç›‘å¬è¿™ä¸ªç«¯å£ï¼Œæ¥å—å®¢æˆ·ç«¯çš„è®¿é—®è¯·æ±‚ã€‚<br />server.A = B:C:D<br />Aè¡¨ç¤ºè¿™ä¸ªæ˜¯ç¬¬å‡ å·æœåŠ¡å™¨<br />B æ˜¯è¿™ä¸ªæœåŠ¡å™¨çš„ ip åœ°å€<br />C è¡¨ç¤ºçš„æ˜¯è¿™ä¸ªæœåŠ¡å™¨ä¸é›†ç¾¤ä¸­çš„ Leader æœåŠ¡å™¨äº¤æ¢ä¿¡æ¯çš„ç«¯å£<br />D è¡¨ç¤ºçš„æ˜¯ä¸‡ä¸€é›†ç¾¤ä¸­çš„ Leader æœåŠ¡å™¨æŒ‚äº†ï¼Œéœ€è¦ä¸€ä¸ªç«¯å£æ¥é‡æ–°è¿›è¡Œé€‰ä¸¾ï¼Œé€‰å‡ºä¸€ä¸ªæ–°çš„ Leader</p></blockquote><h3 id="æœ€åä¸€æ­¥é…ç½®ç¯å¢ƒå˜é‡"><a class="markdownIt-Anchor" href="#æœ€åä¸€æ­¥é…ç½®ç¯å¢ƒå˜é‡"></a> æœ€åä¸€æ­¥é…ç½®ç¯å¢ƒå˜é‡ï¼š</h3><p>æ‰“å¼€/etc/profile</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost zookeeper]<span class="comment"># vi /etc/profile//ç¼–è¾‘æ–‡ä»¶</span></span><br></pre></td></tr></table></figure><p>æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export ZOOKEEPER=/usr/local/zookeeper</span><br><span class="line">export PATH=$PATH:$ZOOKEEPER/bin</span><br></pre></td></tr></table></figure><p>é‡å¯é…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost zookeeper]<span class="comment"># source /etc/profile    //ä½¿ç”Ÿæ•ˆ</span></span><br></pre></td></tr></table></figure><h3 id="å¯åŠ¨zookeeper"><a class="markdownIt-Anchor" href="#å¯åŠ¨zookeeper"></a> å¯åŠ¨Zookeeper</h3><p>å› ä¸ºé…ç½®äº†ç¯å¢ƒå˜é‡ï¼Œæ‰€ä»¥åœ¨ä»»æ„ç›®å½•ä¸‹éƒ½å¯ä»¥è¿è¡Œä»¥ä¸‹å¯åŠ¨å‘½ä»¤å¯åŠ¨Zookeeperã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># zkServer.sh start //å¯åŠ¨</span></span><br><span class="line">[root@localhost ~]<span class="comment"># zkServer.sh status  //æŸ¥çœ‹è¿è¡ŒçŠ¶æ€</span></span><br></pre></td></tr></table></figure><p><img src="2a424f785b5c118c207f90c37f0e7f63.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="å¯åŠ¨å®¢æˆ·ç«¯"><a class="markdownIt-Anchor" href="#å¯åŠ¨å®¢æˆ·ç«¯"></a> å¯åŠ¨å®¢æˆ·ç«¯ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># zkCli.sh   //å¯åŠ¨å®¢æˆ·ç«¯</span></span><br></pre></td></tr></table></figure><p><img src="fc44e7fbb198ae0240ded31e1c964f7e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="é…ç½®å¼€æœºå¯åŠ¨zookeeper"><a class="markdownIt-Anchor" href="#é…ç½®å¼€æœºå¯åŠ¨zookeeper"></a> é…ç½®å¼€æœºå¯åŠ¨zookeeper</h3><ol><li><p>åœ¨/etc/init.dç›®å½•ä¸‹æ–°å»ºzookeeperæ–‡ä»¶</p><p>vi /etc/init.d/zookeeper//vi ç¼–è¾‘zookeeperæ–‡ä»¶ï¼Œä¸å­˜åœ¨æ—¶å°±åˆ›å»ºè¯¥æ–‡ä»¶</p></li></ol><p>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">ZK_PATH=/usr/local/zookeeper</span><br><span class="line">export JAVA_HOME=/usr/local/java/jdk1.8.0_171</span><br><span class="line">case $1 in</span><br><span class="line">         start) sh  $ZK_PATH/bin/zkServer.sh start;;</span><br><span class="line">         stop)  sh  $ZK_PATH/bin/zkServer.sh stop;;</span><br><span class="line">         status) sh  $ZK_PATH/bin/zkServer.sh status;;</span><br><span class="line">         restart) sh $ZK_PATH/bin/zkServer.sh restart;;</span><br><span class="line">         *)  echo &quot;require start|stop|status|restart&quot;  ;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure><ol start="2"><li>ä¿å­˜å¹¶é€€å‡ºåï¼Œæ‰§è¡Œä»¥ä¸‹chkconfig --add æŒ‡ä»¤æŠŠè„šæœ¬æ³¨å†Œä¸ºServiceï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chkconfig --add zookeeper</span><br></pre></td></tr></table></figure><p>ä½ å¯ä»¥ä½¿ç”¨chkconfig --listæŸ¥çœ‹ä½ çš„æ³¨å†Œæ“ä½œæ—¶å¦æˆåŠŸ<br /><img src="18375127587776207abdd9b7a439a3a9.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><strong>æ³¨æ„ï¼š</strong><br /><strong>1. Ubuntu 16.04 ä¸‹å®‰è£… Nginx æœåŠ¡å™¨ï¼Œåœ¨æ·»åŠ  nginx æœåŠ¡æ—¶å‡ºç°å¦‚ä¸‹ä¿¡æ¯</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># chkconfig --add nginx</span></span><br><span class="line">chkconfig: <span class="built_in">command</span> not found</span><br></pre></td></tr></table></figure><p><strong>é—®é¢˜åŸå› </strong><br />Ubuntu ä¸­ chkconfig å·²ç»è¢« sysv-rc-conf æ‰€æ›¿ä»£ï¼Œchkconfig å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># chkconfig --add nginx  </span></span><br><span class="line"><span class="comment"># chkconfig nginx on</span></span><br></pre></td></tr></table></figure><p><strong>é—®é¢˜è§£å†³</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># apt-get update</span></span><br><span class="line"><span class="comment"># apt-get install sysv-rc-conf</span></span><br><span class="line"><span class="comment"># sysv-rc-conf nginx on</span></span><br></pre></td></tr></table></figure><p><strong>2.Ubuntuä¸‹å®‰è£…sysv-rc-confæŠ¥é”™ï¼šubuntuE: Unable to locate package sysv-rc-conf</strong></p><p>å½“æˆ‘å®‰è£…sysv-rc-confæ—¶ï¼ŒæŠ¥äº†å¦‚ä¸‹çš„é”™ï¼š<br />E: Unable to locate package sysv-rc-confï¼ˆæ— æ³•å®šä½sysv-rc-confåŒ…ï¼‰<br /><img src="998a7a17233c1302a65abdaa822e9c83.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />æä¾›ä¸€ä¸ªè§£å†³åŠæ³•ï¼Œå¦‚ä¸‹ï¼š<br />åœ¨è½¯ä»¶æºåˆ—è¡¨sources.listï¼ˆè¯¥æ–‡æœ¬çš„ä½ç½®åœ¨/etc/apt/sources.listï¼‰æ–‡ä»¶ä¸­çš„æœ«å°¾æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š<br />deb <a href="http://archive.ubuntu.com/ubuntu/">http://archive.ubuntu.com/ubuntu/</a> trusty main universe restricted multiverse</p><p><strong>ç¬¬ä¸€æ­¥</strong>ï¼šç»ˆç«¯è¾“å…¥ï¼šsudo gedit /etc/apt/sources.listï¼ˆè¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯geditï¼Œä½ å¯ä»¥ä½¿ç”¨è‡ªå·±å–œæ¬¢çš„å·¥å…·ï¼Œå¦‚viã€vimç­‰ï¼‰ï¼Œæ‰“å¼€è¯¥æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /etc/apt/sources.list</span><br></pre></td></tr></table></figure><p><strong>ç¬¬äºŒæ­¥</strong>ï¼šåœ¨è½¯ä»¶æºsources.listæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä¸€åˆ—æ–‡æœ¬ï¼š<br />deb <a href="http://archive.ubuntu.com/ubuntu/">http://archive.ubuntu.com/ubuntu/</a> trusty main universe restricted multiverse<br /><img src="e39089d3da23801e468a619d6da35044.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><strong>ç¬¬ä¸‰æ­¥</strong>ï¼šæ›´æ–°apt-getï¼Œåœ¨ç»ˆç«¯è¾“å…¥sudo apt-get update</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œæ­¤å¤„æ›´æ–°å¯èƒ½ä¼šå‡ºé”™ï¼Œé‡å¤æ‰§è¡Œæ›´æ–°å°±å¥½äº†</p><p><strong>ç¬¬å››æ­¥</strong>ï¼šå®Œæˆæ›´æ–°åï¼Œé‡æ–°å®‰è£…sysv-rc-confï¼Œåœ¨ç»ˆç«¯è¾“å…¥sudo apt-get install sysv-rc-confï¼Œå³å¯æˆåŠŸå®‰è£…ã€‚<br /><img src="edd6a8629dee4c0f934eb23ac8dd75f9.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h2 id="å®‰è£…-kafka"><a class="markdownIt-Anchor" href="#å®‰è£…-kafka"></a> å®‰è£… kafka</h2><h3 id="ä¸‹è½½ä»£ç "><a class="markdownIt-Anchor" href="#ä¸‹è½½ä»£ç "></a> ä¸‹è½½ä»£ç </h3><p>ä¸‹è½½åœ°å€ï¼š<a href="https://kafka.apache.org/downloads%EF%BC%8Cubuntu%E4%B8%8B%E5%8F%AF%E4%BB%A5%E7%94%A8wget%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD%EF%BC%8C%E6%88%91%E6%98%AF%E4%B8%8B%E8%BD%BD%E5%88%B0%E4%BA%86/home/kafka%E7%9B%AE%E5%BD%95">https://kafka.apache.org/downloadsï¼Œubuntuä¸‹å¯ä»¥ç”¨wgetç›´æ¥ä¸‹è½½ï¼Œæˆ‘æ˜¯ä¸‹è½½åˆ°äº†/home/kafkaç›®å½•</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://mirrors.shuosc.org/apache/kafka/1.0.0/kafka_2.11-1.0.0.tgz</span><br></pre></td></tr></table></figure><p>è§£å‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf kafka_2.11-1.0.0.tgz</span><br></pre></td></tr></table></figure><p>åœ¨kafkaè§£å‹ç›®å½•ä¸‹åˆ›å»ºæ—¥å¿—å­˜å‚¨ç›®å½•<br /><img src="0a1f1bc1545008ba1294406d52bc8b67.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ä¿®æ”¹kafka-server çš„é…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim config/server.properties</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­21ã€31ã€36å’Œ60è¡Œ</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">**broker.id=1** //--ä½¿ç”¨å•æœºæ¨¡å¼å¯ä»¥ä¸ä¿®æ”¹</span><br><span class="line">**listeners=PLAINTEXT://:9092**  //--ä½¿ç”¨å•æœºæ¨¡å¼å¯ä»¥ä¸ä¿®æ”¹</span><br><span class="line">**advertised.listeners=PLAINTEXT://host_ip:9092** //--ä½¿ç”¨å•æœºæ¨¡å¼å¯ä»¥ä¸ä¿®æ”¹</span><br><span class="line">**log.dirs=/home/yzy/kafka/kafka_2.12-2.6.0/kafka_logs**</span><br></pre></td></tr></table></figure><h3 id="å¯åŠ¨æœåŠ¡å™¨"><a class="markdownIt-Anchor" href="#å¯åŠ¨æœåŠ¡å™¨"></a> å¯åŠ¨æœåŠ¡å™¨</h3><p>Kafka ä½¿ç”¨ ZooKeeper å¦‚æœä½ è¿˜æ²¡æœ‰ZooKeeperæœåŠ¡å™¨ï¼Œä½ éœ€è¦å…ˆå¯åŠ¨ä¸€ä¸ªZooKeeperæœåŠ¡å™¨ã€‚ æ‚¨å¯ä»¥é€šè¿‡ä¸kafkaæ‰“åŒ…åœ¨ä¸€èµ·çš„ä¾¿æ·è„šæœ¬æ¥å¿«é€Ÿç®€å•åœ°åˆ›å»ºä¸€ä¸ªå•èŠ‚ç‚¹ZooKeeperå®ä¾‹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/zookeeper-server-start.sh config/zookeeper.properties //--è¯¥å¯åŠ¨è„šæœ¬åœ¨kafkaæ–‡ä»¶å¤¹binä¸‹é¢ï¼Œä¸æ˜¯åœ¨zookeeperé‡Œé¢</span><br></pre></td></tr></table></figure><p>ç°åœ¨å¯åŠ¨KafkaæœåŠ¡å™¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/kafka-server-start.sh config/server.properties</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºä¸€ä¸ªtopic"><a class="markdownIt-Anchor" href="#åˆ›å»ºä¸€ä¸ªtopic"></a> åˆ›å»ºä¸€ä¸ªtopic</h3><p>è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸ºâ€œtestâ€çš„topicï¼Œå®ƒæœ‰ä¸€ä¸ªåˆ†åŒºå’Œä¸€ä¸ªå‰¯æœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic <span class="built_in">test</span></span><br></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥è¿è¡Œlistï¼ˆåˆ—è¡¨ï¼‰å‘½ä»¤æ¥æŸ¥çœ‹è¿™ä¸ªtopicï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bin/kafka-topics.sh --list --zookeeper localhost:2181</span><br><span class="line"><span class="built_in">test</span></span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼Œæ‚¨ä¹Ÿå¯å°†ä»£ç†é…ç½®ä¸ºï¼šåœ¨å‘å¸ƒçš„topicä¸å­˜åœ¨æ—¶ï¼Œè‡ªåŠ¨åˆ›å»ºtopicï¼Œè€Œä¸æ˜¯æ‰‹åŠ¨åˆ›å»ºã€‚</p><h3 id="å‘é€æ¶ˆæ¯"><a class="markdownIt-Anchor" href="#å‘é€æ¶ˆæ¯"></a> å‘é€æ¶ˆæ¯</h3><p>Kafkaè‡ªå¸¦ä¸€ä¸ªå‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼Œå®ƒä»æ–‡ä»¶æˆ–æ ‡å‡†è¾“å…¥ä¸­è·å–è¾“å…¥ï¼Œå¹¶å°†å…¶ä½œä¸ºmessageï¼ˆæ¶ˆæ¯ï¼‰å‘é€åˆ°Kafkaé›†ç¾¤ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯è¡Œå°†ä½œä¸ºå•ç‹¬çš„messageå‘é€ã€‚</p><p>è¿è¡Œ producerï¼Œç„¶ååœ¨æ§åˆ¶å°è¾“å…¥ä¸€äº›æ¶ˆæ¯ä»¥å‘é€åˆ°æœåŠ¡å™¨ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bin/kafka-console-producer.sh --broker-list localhost:9092 --topic <span class="built_in">test</span></span><br><span class="line">&gt;This is a message</span><br><span class="line">&gt;This is another message</span><br></pre></td></tr></table></figure><h3 id="å¯åŠ¨ä¸€ä¸ªconsumer"><a class="markdownIt-Anchor" href="#å¯åŠ¨ä¸€ä¸ªconsumer"></a> å¯åŠ¨ä¸€ä¸ªconsumer</h3><p>Kafka è¿˜æœ‰ä¸€ä¸ªå‘½ä»¤è¡Œconsumerï¼ˆæ¶ˆè´¹è€…ï¼‰ï¼Œå°†æ¶ˆæ¯è½¬å‚¨åˆ°æ ‡å‡†è¾“å‡ºã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic <span class="built_in">test</span> --from-beginning</span><br><span class="line">This is a message</span><br><span class="line">This is another message</span><br></pre></td></tr></table></figure><p>å¦‚æœæ‚¨å°†ä¸Šè¿°å‘½ä»¤åœ¨ä¸åŒçš„ç»ˆç«¯ä¸­è¿è¡Œï¼Œé‚£ä¹ˆç°åœ¨å°±å¯ä»¥å°†æ¶ˆæ¯è¾“å…¥åˆ°ç”Ÿäº§è€…ç»ˆç«¯ä¸­ï¼Œå¹¶å°†å®ƒä»¬åœ¨æ¶ˆè´¹ç»ˆç«¯ä¸­æ˜¾ç¤ºå‡ºæ¥ã€‚</p><p>æ‰€æœ‰çš„å‘½ä»¤è¡Œå·¥å…·éƒ½æœ‰å…¶ä»–é€‰é¡¹ï¼›è¿è¡Œä¸å¸¦ä»»ä½•å‚æ•°çš„å‘½ä»¤å°†æ˜¾ç¤ºæ›´åŠ è¯¦ç»†çš„ä½¿ç”¨ä¿¡æ¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kafka </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>kafkaå…¥é—¨å®‰è£…æ•™ç¨‹_ubuntuå®‰è£…kafka</title>
      <link href="/2025/07/29/kafka/kafka%E5%85%A5%E9%97%A8%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B_ubuntu%E5%AE%89%E8%A3%85kafka/"/>
      <url>/2025/07/29/kafka/kafka%E5%85%A5%E9%97%A8%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B_ubuntu%E5%AE%89%E8%A3%85kafka/</url>
      
        <content type="html"><![CDATA[<h4 id="ä¸€-å®‰è£…å‰å‡†å¤‡"><a class="markdownIt-Anchor" href="#ä¸€-å®‰è£…å‰å‡†å¤‡"></a> <strong>ä¸€ã€å®‰è£…å‰å‡†å¤‡</strong></h4><ol><li><strong>å®‰è£…Javaç¯å¢ƒ</strong><br />Kafkaä¾èµ–Javaè¿è¡Œï¼Œæ¨èå®‰è£…OpenJDK 8æˆ–11ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install openjdk-11-jdk  <span class="comment"># æˆ– openjdk-8-jdk</span></span><br></pre></td></tr></table></figure><p>éªŒè¯å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure><p>é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¦‚æœªè‡ªåŠ¨é…ç½®ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64&#x27;</span> &gt;&gt; ~/.bashrc  <span class="comment"># æ ¹æ®å®é™…è·¯å¾„è°ƒæ•´</span></span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure><ol start="2"><li><strong>åˆ›å»ºä¸“ç”¨ç”¨æˆ·ï¼ˆå¯é€‰ï¼‰</strong><br />ä¸ºå®‰å…¨èµ·è§ï¼Œå»ºè®®åˆ›å»ºç‹¬ç«‹ç”¨æˆ·è¿è¡ŒKafkaï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo useradd -m kafka</span><br><span class="line">sudo passwd kafka</span><br><span class="line">sudo adduser kafka sudo</span><br><span class="line">su - kafka  <span class="comment"># åˆ‡æ¢åˆ°kafkaç”¨æˆ·</span></span><br></pre></td></tr></table></figure><hr /><h4 id="äºŒ-ä¸‹è½½ä¸å®‰è£…kafka"><a class="markdownIt-Anchor" href="#äºŒ-ä¸‹è½½ä¸å®‰è£…kafka"></a> <strong>äºŒã€ä¸‹è½½ä¸å®‰è£…Kafka</strong></h4><ol><li><strong>ä¸‹è½½KafkaäºŒè¿›åˆ¶åŒ…</strong><br />è®¿é—®<a href="https://kafka.apache.org/downloads">Apache Kafkaå®˜ç½‘</a>é€‰æ‹©ç‰ˆæœ¬ï¼ˆæ¨è3.5.1æˆ–ç¨³å®šç‰ˆï¼‰ï¼Œä¸‹è½½å¹¶è§£å‹ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://downloads.apache.org/kafka/3.5.1/kafka_2.13-3.5.1.tgz</span><br><span class="line">tar -xzf kafka_2.13-3.5.1.tgz</span><br><span class="line"><span class="built_in">mv</span> kafka_2.13-3.5.1 ~/kafka</span><br></pre></td></tr></table></figure><ol start="2"><li><strong>é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰</strong><br />å°†Kafkaè·¯å¾„åŠ å…¥ç³»ç»Ÿç¯å¢ƒï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export KAFKA_HOME=~/kafka&#x27;</span> &gt;&gt; ~/.bashrc</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export PATH=$PATH:$KAFKA_HOME/bin&#x27;</span> &gt;&gt; ~/.bashrc</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure><hr /><h4 id="ä¸‰-é…ç½®ä¸å¯åŠ¨zookeeper"><a class="markdownIt-Anchor" href="#ä¸‰-é…ç½®ä¸å¯åŠ¨zookeeper"></a> <strong>ä¸‰ã€é…ç½®ä¸å¯åŠ¨ZooKeeper</strong></h4><ol><li><strong>ä½¿ç”¨Kafkaå†…ç½®ZooKeeper</strong><br />Kafkaè‡ªå¸¦ZooKeeperï¼Œé€‚åˆå•æœºæµ‹è¯•ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/kafka</span><br><span class="line">bin/zookeeper-server-start.sh -daemon config/zookeeper.properties  <span class="comment"># åå°å¯åŠ¨</span></span><br></pre></td></tr></table></figure><pre><code>éªŒè¯ZooKeeperæ˜¯å¦è¿è¡Œï¼š</code></pre><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jps  <span class="comment"># åº”æ˜¾ç¤ºQuorumPeerMainè¿›ç¨‹</span></span><br></pre></td></tr></table></figure><ol start="2"><li><p><strong>ç‹¬ç«‹å®‰è£…ZooKeeperï¼ˆå¯é€‰ï¼‰</strong><br />è‹¥éœ€ç‹¬ç«‹éƒ¨ç½²ï¼Œå‚è€ƒä»¥ä¸‹æ­¥éª¤ï¼š</p><ul><li>ä¸‹è½½å¹¶è§£å‹ZooKeeper</li><li>é…ç½®<code>zoo.cfg</code>æ–‡ä»¶ï¼ˆå¦‚æ•°æ®ç›®å½•å’Œç«¯å£ï¼‰</li><li>å¯åŠ¨æœåŠ¡ï¼š<code>bin/zkServer.sh start</code></li></ul></li></ol><hr /><h4 id="å››-é…ç½®ä¸å¯åŠ¨kafka"><a class="markdownIt-Anchor" href="#å››-é…ç½®ä¸å¯åŠ¨kafka"></a> <strong>å››ã€é…ç½®ä¸å¯åŠ¨Kafka</strong></h4><ol><li><strong>ä¿®æ”¹Kafkaé…ç½®æ–‡ä»¶</strong><br />ç¼–è¾‘<code>~/kafka/config/server.properties</code>ï¼š</li></ol><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">broker.id=0  # é›†ç¾¤ä¸­å”¯ä¸€ID</span><br><span class="line">listeners=PLAINTEXT://0.0.0.0:9092  # å…è®¸å¤–éƒ¨è®¿é—®</span><br><span class="line">log.dirs=/tmp/kafka-logs  # æ—¥å¿—ç›®å½•ï¼Œå»ºè®®ä¿®æ”¹ä¸ºæŒä¹…åŒ–è·¯å¾„</span><br><span class="line">zookeeper.connect=localhost:2181  # ZooKeeperåœ°å€</span><br><span class="line">delete.topic.enable=true  # å…è®¸åˆ é™¤ä¸»é¢˜</span><br></pre></td></tr></table></figure><ol start="2"><li><strong>å¯åŠ¨KafkaæœåŠ¡</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/kafka-server-start.sh -daemon config/server.properties  <span class="comment"># åå°å¯åŠ¨</span></span><br></pre></td></tr></table></figure><p>éªŒè¯ç«¯å£æ˜¯å¦ç›‘å¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -tunlp | grep 9092</span><br></pre></td></tr></table></figure><hr /><h4 id="äº”-æµ‹è¯•kafkaåŠŸèƒ½"><a class="markdownIt-Anchor" href="#äº”-æµ‹è¯•kafkaåŠŸèƒ½"></a> <strong>äº”ã€æµ‹è¯•KafkaåŠŸèƒ½</strong></h4><ol><li><strong>åˆ›å»ºæµ‹è¯•ä¸»é¢˜</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/kafka-topics.sh --create --bootstrap-server localhost:9092 --topic test-topic --partitions 1 --replication-factor 1</span><br></pre></td></tr></table></figure><ol start="2"><li><strong>å¯åŠ¨ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…</strong></li></ol><ul><li><strong>ç”Ÿäº§è€…</strong>ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/kafka-console-producer.sh --bootstrap-server localhost:9092 --topic test-topic</span><br></pre></td></tr></table></figure><ul><li><strong>æ¶ˆè´¹è€…</strong>ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic test-topic --from-beginning</span><br></pre></td></tr></table></figure><p>è¾“å…¥æ¶ˆæ¯åï¼Œæ¶ˆè´¹è€…åº”èƒ½å®æ—¶æ¥æ”¶ã€‚</p><hr /><h4 id="å…­-æœåŠ¡ç®¡ç†systemdé›†æˆ"><a class="markdownIt-Anchor" href="#å…­-æœåŠ¡ç®¡ç†systemdé›†æˆ"></a> <strong>å…­ã€æœåŠ¡ç®¡ç†ï¼ˆSystemdé›†æˆï¼‰</strong></h4><ol><li><strong>åˆ›å»ºSystemdæœåŠ¡æ–‡ä»¶</strong><br />ä¸ºZooKeeperå’ŒKafkaåˆ†åˆ«åˆ›å»ºæœåŠ¡ï¼š</li></ol><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"># ZooKeeperæœåŠ¡ï¼ˆ/etc/systemd/system/zookeeper.serviceï¼‰</span><br><span class="line">[Unit]</span><br><span class="line">Requires=network.target</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">User=kafka</span><br><span class="line">ExecStart=~/kafka/bin/zookeeper-server-start.sh ~/kafka/config/zookeeper.properties</span><br><span class="line">ExecStop=~/kafka/bin/zookeeper-server-stop.sh</span><br><span class="line">Restart=on-failure</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line"></span><br><span class="line"># KafkaæœåŠ¡ï¼ˆ/etc/systemd/system/kafka.serviceï¼‰</span><br><span class="line">[Unit]</span><br><span class="line">Requires=zookeeper.service</span><br><span class="line">After=zookeeper.service</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">User=kafka</span><br><span class="line">ExecStart=~/kafka/bin/kafka-server-start.sh ~/kafka/config/server.properties</span><br><span class="line">ExecStop=~/kafka/bin/kafka-server-stop.sh</span><br><span class="line">Restart=on-failure</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><p>å¯ç”¨æœåŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl start kafka</span><br><span class="line">sudo systemctl <span class="built_in">enable</span> kafka</span><br></pre></td></tr></table></figure><hr /><h4 id="ä¸ƒ-å¸¸è§é—®é¢˜ä¸ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#ä¸ƒ-å¸¸è§é—®é¢˜ä¸ä¼˜åŒ–"></a> <strong>ä¸ƒã€å¸¸è§é—®é¢˜ä¸ä¼˜åŒ–</strong></h4><ol><li><strong>å†…å­˜ä¸è¶³é”™è¯¯</strong><br />ä¿®æ”¹<code>bin/kafka-server-start.sh</code>ä¸­çš„å †å†…å­˜å‚æ•°ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> KAFKA_HEAP_OPTS=<span class="string">&quot;-Xmx256M -Xms128M&quot;</span>  <span class="comment"># æ ¹æ®æœºå™¨é…ç½®è°ƒæ•´</span></span><br></pre></td></tr></table></figure><ol start="2"><li><strong>é˜²ç«å¢™é…ç½®</strong><br />å¼€æ”¾ZooKeeperï¼ˆ2181ï¼‰å’ŒKafkaï¼ˆ9092ï¼‰ç«¯å£ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow 2181/tcp</span><br><span class="line">sudo ufw allow 9092/tcp</span><br></pre></td></tr></table></figure><ol start="3"><li><strong>é›†ç¾¤éƒ¨ç½²ï¼ˆå¯é€‰ï¼‰</strong><br />ä¿®æ”¹<code>server.properties</code>ä¸­çš„<code>broker.id</code>ã€<code>listeners</code>å’Œ<code>advertised.listeners</code>ï¼Œç¡®ä¿å„èŠ‚ç‚¹ZooKeeperè¿æ¥ä¸€è‡´ã€‚</li></ol><hr /><h4 id="å…«-æ‰©å±•å·¥å…·å¯é€‰"><a class="markdownIt-Anchor" href="#å…«-æ‰©å±•å·¥å…·å¯é€‰"></a> <strong>å…«ã€æ‰©å±•å·¥å…·ï¼ˆå¯é€‰ï¼‰</strong></h4><ul><li><strong>KafkaT</strong>ï¼šé€šè¿‡Ruby Gemå®‰è£…ï¼Œç”¨äºé›†ç¾¤ç®¡ç†ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install ruby ruby-dev</span><br><span class="line">sudo gem install kafkat</span><br></pre></td></tr></table></figure><hr /><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæ‚¨å¯ä»¥åœ¨Ubuntuç³»ç»Ÿä¸Šå®ŒæˆKafkaçš„å®‰è£…ä¸åŸºç¡€é…ç½®ã€‚å¦‚éœ€æ›´è¯¦ç»†é…ç½®ï¼ˆå¦‚SSLåŠ å¯†ã€ç›‘æ§å·¥å…·ï¼‰ï¼Œè¯·å‚è€ƒ<a href="https://kafka.apache.org/documentation/">Kafkaå®˜æ–¹æ–‡æ¡£</a>æˆ–ç›¸å…³æ¥æºã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kafka </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows ä¸‹ Kafka å®‰è£…æ•™ç¨‹</title>
      <link href="/2025/07/29/kafka/Windows%E4%B8%8BKafka%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/"/>
      <url>/2025/07/29/kafka/Windows%E4%B8%8BKafka%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€-å‡†å¤‡å·¥ä½œ"><a class="markdownIt-Anchor" href="#ä¸€-å‡†å¤‡å·¥ä½œ"></a> ä¸€ã€å‡†å¤‡å·¥ä½œ</h3><h4 id="1-å®‰è£…-java-jdkkafka-ä¾èµ–-java-è¿è¡Œç¯å¢ƒ"><a class="markdownIt-Anchor" href="#1-å®‰è£…-java-jdkkafka-ä¾èµ–-java-è¿è¡Œç¯å¢ƒ"></a> âœ… 1. å®‰è£… Java JDKï¼ˆKafka ä¾èµ– Java è¿è¡Œç¯å¢ƒï¼‰</h4><p>Kafka æ˜¯åŸºäº Java çš„ï¼Œå¿…é¡»å…ˆå®‰è£… JDKã€‚ä¸€èˆ¬å­¦åˆ°kafkaçš„åŒå­¦è‚¯å®šå·²ç»å®‰è£…å¥½äº†JDKäº†ï¼Œè¿™ä¸€æ­¥æˆ‘å°±ä¸å†™äº†ï¼Œå…·ä½“å¯ä»¥å‚è€ƒå…¶ä»–æ–‡ç« ã€‚</p><p>âš ï¸ æ³¨æ„ï¼šKafka 3.9.0 è¦æ±‚æœ¬åœ°å¿…é¡»å®‰è£… JDK 17 æˆ–ä»¥ä¸Šç‰ˆæœ¬ã€‚JDK 8 å’Œ 11 å·²ä¸å†è¢«å®˜æ–¹æ”¯æŒã€‚</p><h5 id="æ­¥éª¤"><a class="markdownIt-Anchor" href="#æ­¥éª¤"></a> æ­¥éª¤ï¼š</h5><ol><li><p>è®¿é—®å®˜ç½‘ä¸‹è½½ <a href="https://adoptium.net/" title="OpenJDK">OpenJDK</a> æˆ– Oracle JDKã€‚</p></li><li><p>æ¨èç‰ˆæœ¬ï¼šJDK 8 ~ JDK 17ï¼ˆKafka 3.x æ”¯æŒåˆ° JDK 17ï¼‰</p><p><img src="a4fc229519524deba1995b24f6c6eb53.png" alt="" /></p><p>Kafkaéœ€è¦çš„JDKç‰ˆæœ¬ï¼</p></li><li><p>å®‰è£…å®Œæˆåè®¾ç½®ç¯å¢ƒå˜é‡ï¼š</p><ul><li><p><code>JAVA_HOME</code>ï¼šæŒ‡å‘ JDK å®‰è£…ç›®å½•ï¼Œä¾‹å¦‚ <code>C:\Program Files\Java\jdk-17.0.1</code></p></li><li><p><code>Path</code> ä¸­æ·»åŠ  <code>%JAVA_HOME%\bin</code></p></li></ul></li></ol><h5 id="éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ"><a class="markdownIt-Anchor" href="#éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ"></a> éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸï¼š</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br><span class="line">javac -version</span><br></pre></td></tr></table></figure><p><img src="b1da93c4349f40c7af7c8cdca7204828.png" alt="" /></p><hr /><h3 id="äºŒ-ä¸‹è½½-kafka"><a class="markdownIt-Anchor" href="#äºŒ-ä¸‹è½½-kafka"></a> äºŒã€ä¸‹è½½ Kafka</h3><p>è®¿é—® Apache Kafka å®˜ç½‘ä¸‹è½½é¡µé¢ï¼š</p><p>ğŸ”— <a href="https://kafka.apache.org/downloads" title="https://kafka.apache.org/downloads">https://kafka.apache.org/downloads</a></p><p>é€‰æ‹©æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬ï¼Œä¾‹å¦‚ï¼š</p><p><img src="c36284b3c6f04772949c492a94223dfa.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Latest release: kafka_2.13-3.9.0.tgz</span><br></pre></td></tr></table></figure><p><strong>Windows ç”¨æˆ·é€‰æ‹© <code>kafka_2.13-3.9.0.tgz</code> å³å¯ï¼ŒScala ç‰ˆæœ¬ä¸å½±å“ä½ åœ¨ Windows ä¸Šè¿è¡Œ Kafkaã€‚é™¤éä½ è‡ªå·±ç”¨ Scala ç¼–å†™å®¢æˆ·ç«¯ç¨‹åºï¼Œå¦åˆ™ä»»æ„ç‰ˆæœ¬éƒ½å¯ä»¥ã€‚ç¤¾åŒºæ¨èä½¿ç”¨ 2.13ï¼Œå› æ­¤å»ºè®®ä½ å°±é€‰è¿™ä¸ªç‰ˆæœ¬ã€‚</strong></p><blockquote><p>âœ… æ³¨æ„ï¼šWindows ä¸Šä½¿ç”¨çš„æ˜¯ Kafka è‡ªå¸¦çš„ <code>windows</code> è„šæœ¬ï¼Œä¸éœ€è¦ Linux å·¥å…·æ”¯æŒã€‚</p></blockquote><hr /><h3 id="ä¸‰-è§£å‹-kafka"><a class="markdownIt-Anchor" href="#ä¸‰-è§£å‹-kafka"></a> ä¸‰ã€è§£å‹ Kafka</h3><p>è™½ç„¶ Kafka æ˜¯ä¸º Linux è®¾è®¡çš„ï¼Œä½†å®˜æ–¹æä¾›äº†éƒ¨åˆ† Windows å…¼å®¹è„šæœ¬ï¼ˆä½äº <code>bin/windows/</code> ç›®å½•ä¸‹ï¼‰ï¼Œæ‰€ä»¥ä½ å¯ä»¥æ”¾å¿ƒåœ°ï¼š</p><ul><li>ä½¿ç”¨Â <code>zookeeper-server-start.bat</code></li><li>ä½¿ç”¨Â <code>kafka-server-start.bat</code></li><li>åˆ›å»º Topicã€å‘é€å’Œæ¶ˆè´¹æ¶ˆæ¯ç­‰æ“ä½œéƒ½æ­£å¸¸è¿è¡Œ</li></ul><p>åªæ˜¯è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p><table><thead><tr><th>æ³¨æ„äº‹é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>è·¯å¾„<strong>ä¸è¦æœ‰ç©ºæ ¼æˆ–ä¸­æ–‡</strong></td><td>æ¨èå®‰è£…è·¯å¾„å¦‚Â <code>F:\kafka_2.13-3.9.0</code></td></tr><tr><td>æ—¥å¿—æ–‡ä»¶ä½ç½®</td><td>é»˜è®¤åœ¨Â <code>logs/</code>Â ç›®å½•ä¸‹</td></tr><tr><td>æ€§èƒ½ç•¥å·®äº Linux</td><td>æœ¬åœ°å¼€å‘æ²¡é—®é¢˜ï¼Œç”Ÿäº§å»ºè®®ç”¨ Linux</td></tr><tr><td>ä¸æ”¯æŒæŸäº›é«˜çº§åŠŸèƒ½</td><td>å¦‚Â <code>log.dirs</code>Â ä¸­ä½¿ç”¨å¤šä¸ªç£ç›˜è·¯å¾„ï¼ˆWindows ä¸‹å¯èƒ½å‡ºé”™ï¼‰</td></tr></tbody></table><h4 id="kafkaé…ç½®kafka-logsçš„æ–°å»ºå¿…è¦"><a class="markdownIt-Anchor" href="#kafkaé…ç½®kafka-logsçš„æ–°å»ºå¿…è¦"></a> Kafkaé…ç½®ï¼ˆkafka-logsçš„æ–°å»ºå¿…è¦ï¼ï¼ï¼‰</h4><p>è¿™ä¸ªæ–‡ä»¶ä¸»è¦æ˜¯å­˜æ”¾åˆ†åŒºçš„offersetï¼Œå…ƒæ–‡ä»¶ï¼Œè®°å½•æ¶ˆè´¹åˆ°å“ªé‡Œç­‰ç­‰ã€‚</p><table><thead><tr><th>ç±»å‹</th><th>å­˜æ”¾å†…å®¹</th></tr></thead><tbody><tr><td>Topic æ•°æ®</td><td>æ¯ä¸ª Topic çš„åˆ†åŒºæ•°æ®éƒ½å­˜åœ¨è¿™é‡Œ</td></tr><tr><td>Offset ä¿¡æ¯</td><td>è®°å½•æ¶ˆè´¹è€…ç»„æ¶ˆè´¹åˆ°çš„ä½ç½®</td></tr><tr><td>å…ƒæ•°æ®</td><td>åˆ†åŒºçŠ¶æ€ã€ISRï¼ˆIn-Sync Replicasï¼‰ç­‰</td></tr><tr><td>æ—¥å¿—æ–‡ä»¶</td><td>controller.logã€kafka-request.log ç­‰</td></tr></tbody></table><p>ç¬¬ä¸€æ­¥ï¼šä¸€å®šè¦éœ€è¦å»ºç«‹ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹kafka-logsåœ¨binã€configåŒçº§ï¼ï¼</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">F:\kafka_2.13-3.9.0\</span><br><span class="line">â”œâ”€â”€ bin/</span><br><span class="line">â”œâ”€â”€ config/</span><br><span class="line">â”œâ”€â”€ logs/</span><br><span class="line">â””â”€â”€ kafka-logs/    â† æ–°å»ºè¿™ä¸ªæ–‡ä»¶å¤¹</span><br></pre></td></tr></table></figure><p><img src="cc0a4784348f4d82ad1c560822d3f9e3.png" alt="" /></p><p>ç¬¬äºŒæ­¥ï¼šç¼–è¾‘\kafka_2.13-3.9.0\configä¸‹çš„server.propertiesæ–‡ä»¶</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">log.dirs=/kafka-logs</span><br></pre></td></tr></table></figure><p>é™¤äº† <code>log.dirs</code>ï¼Œè¿˜æœ‰å‡ ä¸ªå¸¸ç”¨é…ç½®é¡¹ä¹Ÿå»ºè®®äº†è§£ä¸€ä¸‹ï¼Œå…¶ä»–æ”¹ä¸æ”¹ä¸å½±å“åŸºæœ¬ä½¿ç”¨ï¼š</p><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>broker.id</code></td><td>0</td><td>Kafka å®ä¾‹çš„å”¯ä¸€ IDï¼Œå•æœºç‰ˆä¿æŒé»˜è®¤å³å¯</td></tr><tr><td><code>listeners</code></td><td>PLAINTEXT://:9092</td><td>Kafka ç›‘å¬åœ°å€ï¼Œé»˜è®¤æœ¬åœ°è®¿é—®</td></tr><tr><td><code>num.partitions</code></td><td>1</td><td>é»˜è®¤æ¯ä¸ª topic åˆ›å»ºçš„åˆ†åŒºæ•°</td></tr><tr><td><code>log.retention.hours</code></td><td>168 (7å¤©)</td><td>æ¶ˆæ¯ä¿ç•™æ—¶é—´</td></tr><tr><td><code>log.segment.bytes</code></td><td>1GB</td><td>å•ä¸ªæ—¥å¿—æ–‡ä»¶å¤§å°ä¸Šé™</td></tr><tr><td><code>message.max.bytes</code></td><td>1MB</td><td>æœ€å¤§æ¶ˆæ¯ä½“å¤§å°ï¼ˆç”Ÿäº§ç¯å¢ƒå¯è°ƒå¤§ï¼‰</td></tr></tbody></table><h4 id="å®Œæ•´é…ç½®æ ·ä¾‹é€‚åˆ-windows-å•èŠ‚ç‚¹å¼€å‘ä¸å¿…è¦é»˜è®¤ä¹Ÿå¯"><a class="markdownIt-Anchor" href="#å®Œæ•´é…ç½®æ ·ä¾‹é€‚åˆ-windows-å•èŠ‚ç‚¹å¼€å‘ä¸å¿…è¦é»˜è®¤ä¹Ÿå¯"></a> å®Œæ•´é…ç½®æ ·ä¾‹ï¼ˆé€‚åˆ Windows å•èŠ‚ç‚¹å¼€å‘ï¼Œä¸å¿…è¦ï¼Œé»˜è®¤ä¹Ÿå¯ï¼‰</h4> <figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">broker.id=0</span><br><span class="line">listeners=PLAINTEXT://:9092</span><br><span class="line">advertised.listeners=PLAINTEXT://localhost:9092</span><br><span class="line">log.dirs=F:/kafka_2.13-3.9.0/kafka-logs</span><br><span class="line">num.partitions=1</span><br><span class="line">log.retention.hours=168</span><br><span class="line">log.segment.bytes=1073741824</span><br><span class="line">message.max.bytes=10485880</span><br><span class="line">replica.lag.time.ms=10000</span><br><span class="line">offsets.topic.replication.factor=1</span><br><span class="line">transaction.state.log.replication.factor=1</span><br><span class="line">transaction.state.log.min.isr=1</span><br></pre></td></tr></table></figure><h3 id="å››-å¯åŠ¨-kafkaä¸å…³é—­kafkaæ¯”è¾ƒéº»çƒ¦éœ€è¦æ‰“å¼€å¤šçª—å£æ‰§è¡Œ"><a class="markdownIt-Anchor" href="#å››-å¯åŠ¨-kafkaä¸å…³é—­kafkaæ¯”è¾ƒéº»çƒ¦éœ€è¦æ‰“å¼€å¤šçª—å£æ‰§è¡Œ"></a> å››ã€å¯åŠ¨ Kafkaä¸å…³é—­Kafkaï¼ˆæ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦æ‰“å¼€å¤šçª—å£æ‰§è¡Œï¼‰</h3><h4 id="1-å¯åŠ¨-zookeeper"><a class="markdownIt-Anchor" href="#1-å¯åŠ¨-zookeeper"></a> âœ… 1. å¯åŠ¨ ZooKeeper</h4><p>Kafka ä¾èµ– ZooKeeper å­˜å‚¨å…ƒæ•°æ®ä¿¡æ¯ã€‚</p><p>æ‰“å¼€ CMDï¼Œè¿›å…¥ Kafka ç›®å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> F:\kafka_2.13-3.9.0</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ ZooKeeperï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\bin\windows\zookeeper-server-start.bat .\config\zookeeper.properties</span><br></pre></td></tr></table></figure><p>âœ… æˆåŠŸæ ‡å¿—ï¼šçœ‹åˆ°ç±»ä¼¼ <code>INFO ... Starting zookeeper version...</code> çš„æ—¥å¿—è¾“å‡ºã€‚</p><h4 id="é—®é¢˜æè¿°"><a class="markdownIt-Anchor" href="#é—®é¢˜æè¿°"></a> é—®é¢˜æè¿°</h4><p>æœ‰æ—¶zooKeeperæŠ¥é”™:ZooKeeper audit is disabled.</p><blockquote><p>[2023-02-18 12:17:27,368] INFO ZooKeeper audit is disabled. (org.apache.zookeeper.audit.ZKAuditProvider)</p></blockquote><h4 id="åŸå› åˆ†æ"><a class="markdownIt-Anchor" href="#åŸå› åˆ†æ"></a> åŸå› åˆ†æï¼š</h4><blockquote><p>zookeeperè®¾ç½®å‚æ•°é—®é¢˜</p></blockquote><h4 id="è§£å†³æ–¹æ¡ˆ"><a class="markdownIt-Anchor" href="#è§£å†³æ–¹æ¡ˆ"></a> è§£å†³æ–¹æ¡ˆï¼š</h4><blockquote><p>ä¿®æ”¹kafkaå®‰è£…ç›®å½•ä¸‹configæ–‡ä»¶ä¸­çš„zookeeper.propertiesæ–‡ä»¶</p></blockquote><p>åœ¨æ–‡ä»¶ä¸­å°†falseæ”¹ä¸ºtrueï¼Œæ²¡æœ‰çš„è¯å°±æ·»åŠ ä¸‹é¢è¯­å¥</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">audit.enable=true</span><br></pre></td></tr></table></figure><blockquote><p>[2023-02-18 12:17:27,368] INFO ZooKeeper audit is enabled.(org.apache.zookeeper.audit.ZKAuditProvider)</p></blockquote><hr /><h4 id="2-å¯åŠ¨-kafka"><a class="markdownIt-Anchor" href="#2-å¯åŠ¨-kafka"></a> âœ… 2. å¯åŠ¨ Kafka</h4><p>ä¿æŒä¸Šä¸€ä¸ªçª—å£ä¸è¦å…³é—­ï¼Œ<strong>å†æ‰“å¼€ä¸€ä¸ªæ–°çš„ CMD çª—å£</strong>ï¼ŒåŒæ ·è¿›å…¥ Kafka ç›®å½•ï¼š</p><p>æ‰§è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\bin\windows\kafka-server-start.bat .\config\server.properties</span><br></pre></td></tr></table></figure><p>âœ… æˆåŠŸæ ‡å¿—ï¼šçœ‹åˆ° <code>INFO [KafkaServer id=0] started (kafka.server.KafkaServer)</code></p><p><img src="b7365692676f4492b5890423ef5ad042.png" alt="" /></p><p>æˆåŠŸå¯åŠ¨kafkaå›¾</p><hr /><h4 id="æ­¥éª¤-3å…³é—­-kafka"><a class="markdownIt-Anchor" href="#æ­¥éª¤-3å…³é—­-kafka"></a> âœ… æ­¥éª¤ 3ï¼šå…³é—­ Kafka</h4><p>è¿›å…¥ Kafka ç›®å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\bin\windows\kafka-server-stop.bat</span><br></pre></td></tr></table></figure><p>ä½ ä¼šçœ‹åˆ° Kafka å¼€å§‹å®‰å…¨é€€å‡ºï¼Œç­‰å¾…å‡ ç§’åè‡ªåŠ¨ç»“æŸã€‚</p><hr /><h4 id="æ­¥éª¤-4å…³é—­-zookeeper"><a class="markdownIt-Anchor" href="#æ­¥éª¤-4å…³é—­-zookeeper"></a> âœ… æ­¥éª¤ 4ï¼šå…³é—­ ZooKeeper</h4><p>ç»§ç»­åœ¨å½“å‰ CMD çª—å£ä¸­æ‰§è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\bin\windows\zookeeper-server-stop.bat</span><br></pre></td></tr></table></figure><p>ZooKeeper ä¹Ÿä¼šä¼˜é›…é€€å‡ºã€‚</p><h3 id="äº”-åˆ›å»º-topic"><a class="markdownIt-Anchor" href="#äº”-åˆ›å»º-topic"></a> äº”ã€åˆ›å»º Topic</h3><p>æ–°æ‰“å¼€ä¸€ä¸ª CMD çª—å£ï¼Œåˆ›å»ºä¸€ä¸ªæµ‹è¯•ç”¨çš„ Topicï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\bin\windows\kafka-topics.bat --create --topic test-topic --bootstrap-server localhost:9092 --partitions 1 --replication-factor 1</span><br></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><p><code>--topic</code>ï¼šTopic åç§°</p></li><li><p><code>--partitions</code>ï¼šåˆ†åŒºæ•°</p></li><li><p><code>--replication-factor</code>ï¼šå‰¯æœ¬æ•°ï¼ˆæœ¬åœ°å¼€å‘è®¾ä¸º 1 å³å¯ï¼‰</p></li></ul><p>æŸ¥çœ‹å·²åˆ›å»ºçš„ Topicï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\bin\windows\kafka-topics.bat --list --bootstrap-server localhost:9092</span><br></pre></td></tr></table></figure><hr /><h3 id="å…­-å‘é€æ¶ˆæ¯producer"><a class="markdownIt-Anchor" href="#å…­-å‘é€æ¶ˆæ¯producer"></a> å…­ã€å‘é€æ¶ˆæ¯ï¼ˆProducerï¼‰</h3><p>æ‰“å¼€ä¸€ä¸ªæ–° CMD çª—å£ï¼Œè¿è¡Œç”Ÿäº§è€…æ§åˆ¶å°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\bin\windows\kafka-console-producer.bat --topic test-topic --bootstrap-server localhost:9092</span><br></pre></td></tr></table></figure><p>è¾“å…¥ä»»æ„æ–‡å­—åæŒ‰å›è½¦å³å¯å‘é€æ¶ˆæ¯ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;Hello Kafka!</span><br><span class="line">&gt;This is a <span class="built_in">test</span> message.</span><br></pre></td></tr></table></figure><hr /><h3 id="ä¸ƒ-æ¶ˆè´¹æ¶ˆæ¯consumer"><a class="markdownIt-Anchor" href="#ä¸ƒ-æ¶ˆè´¹æ¶ˆæ¯consumer"></a> ä¸ƒã€æ¶ˆè´¹æ¶ˆæ¯ï¼ˆConsumerï¼‰</h3><p>å†æ–°å¼€ä¸€ä¸ª CMD çª—å£ï¼Œè¿è¡Œæ¶ˆè´¹è€…æ§åˆ¶å°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\bin\windows\kafka-console-consumer.bat --topic test-topic --from-beginning --bootstrap-server localhost:9092</span><br></pre></td></tr></table></figure><p>ä½ ä¼šçœ‹åˆ°åˆšåˆšå‘é€çš„æ¶ˆæ¯è¢«æ‰“å°å‡ºæ¥ï¼</p><hr /><h3 id="å…«-windows-ä¸‹å¦‚ä½•æ­£ç¡®å¯åŠ¨å’Œå…³é—­-kafka"><a class="markdownIt-Anchor" href="#å…«-windows-ä¸‹å¦‚ä½•æ­£ç¡®å¯åŠ¨å’Œå…³é—­-kafka"></a> å…«ã€<strong>Windows ä¸‹å¦‚ä½•æ­£ç¡®å¯åŠ¨å’Œå…³é—­ Kafkaï¼Ÿ</strong></h3><p><strong>âš ï¸ ä¸è¦ç›´æ¥å…³é—­ CMD çª—å£ä¹Ÿä¸è¦ctrl + cï¼Œéƒ½æ˜¯å¼ºåˆ¶å…³æœºï¼å†æ¬¡å¯åŠ¨å¯èƒ½ä¼šæœ‰å¾ˆå¤šbugï¼</strong></p><p><strong>ä¸€å®šè¦ä½¿ç”¨å®˜æ–¹çš„å¯åŠ¨å’Œå…³é—­è„šæœ¬ï¼ï¼ï¼bugè¡€æ³ªï¼</strong></p><p>å› ä¸ºï¼š</p><ul><li><p><code>Ctrl + C</code>Â æ˜¯å‘é€Â <code>SIGINT</code>Â ä¿¡å·ï¼ŒKafka å’Œ ZooKeeper ä¼šå°è¯•ä¼˜é›…å…³é—­ï¼Œä½†<strong>ä¸ä¸€å®šèƒ½å®Œæˆå…¨éƒ¨æ¸…ç†å·¥ä½œ</strong></p></li><li><p>å¦‚æœç”¨æˆ·è¯¯æ“ä½œã€çª—å£è¢«æ„å¤–å…³é—­ã€æˆ–è„šæœ¬ä¸­æ–­ï¼Œä¼šå¯¼è‡´ï¼š</p><ul><li><p><code>.lock</code>Â æ–‡ä»¶æ®‹ç•™</p></li><li><p><code>controller.log</code>Â é‡å‘½åå¤±è´¥</p></li><li><p>ZooKeeper èŠ‚ç‚¹æœªæ¸…é™¤</p></li><li><p>Kafka Broker çŠ¶æ€æœªæ›´æ–°</p></li></ul></li></ul><hr /><h3 id="ä¹-æ¨èè„šæœ¬è‡ªåŠ¨åŒ–å¯åœ"><a class="markdownIt-Anchor" href="#ä¹-æ¨èè„šæœ¬è‡ªåŠ¨åŒ–å¯åœ"></a> ä¹ã€æ¨èè„šæœ¬ï¼ˆè‡ªåŠ¨åŒ–å¯åœï¼‰</h3><p>ä¸ºäº†æ–¹ä¾¿ä½ ä»¥åå¿«é€Ÿæ“ä½œï¼Œæˆ‘ä¸ºä½ å†™å¥½äº†ä¸¤ä¸ªæ‰¹å¤„ç†è„šæœ¬ï¼š</p><p><strong>æ”¾åœ¨åŒçº§ç›®å½•ä¸‹å³å¯ï¼</strong></p><p><img src="c49b688d70cd4defb3b76b8a17e2036e.png" alt="" /></p><hr /><h4 id="å¯åŠ¨è„šæœ¬start-kafkabat"><a class="markdownIt-Anchor" href="#å¯åŠ¨è„šæœ¬start-kafkabat"></a> âœ… å¯åŠ¨è„šæœ¬ï¼š<code>start-kafka.bat</code></h4><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">chcp</span> <span class="number">65001</span> &gt; <span class="built_in">nul</span></span><br><span class="line"><span class="built_in">TITLE</span> Kafka å¯åŠ¨å™¨ - kafka_2.<span class="number">13</span>-<span class="number">3</span>.<span class="number">9</span>.<span class="number">0</span></span><br><span class="line">â€‹</span><br><span class="line"><span class="built_in">SETLOCAL</span></span><br><span class="line">â€‹</span><br><span class="line"><span class="built_in">set</span> KAFKA_HOME=F:\kafka_2.<span class="number">13</span>-<span class="number">3</span>.<span class="number">9</span>.<span class="number">0</span></span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exist</span> &quot;<span class="variable">%KAFKA_HOME%</span>&quot; (</span><br><span class="line">    <span class="built_in">echo</span> âŒ é”™è¯¯ï¼šKAFKA_HOME è·¯å¾„ä¸å­˜åœ¨: <span class="variable">%KAFKA_HOME%</span></span><br><span class="line">    <span class="built_in">pause</span></span><br><span class="line">    <span class="keyword">exit</span> /b <span class="number">1</span></span><br><span class="line">)</span><br><span class="line">â€‹</span><br><span class="line"><span class="built_in">cd</span> /d <span class="variable">%KAFKA_HOME%</span></span><br><span class="line">â€‹</span><br><span class="line">:: æ¸…ç†é”æ–‡ä»¶ï¼ˆé˜²æ­¢ä¸Šæ¬¡å¼‚å¸¸é€€å‡ºå¯¼è‡´å†²çªï¼‰</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">exist</span> &quot;logs\*.lock&quot; <span class="built_in">del</span> /Q &quot;logs\*.lock&quot;</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">exist</span> &quot;logs\*.pid&quot; <span class="built_in">del</span> /Q &quot;logs\*.pid&quot;</span><br><span class="line">â€‹</span><br><span class="line">:: å¯åŠ¨ ZooKeeper</span><br><span class="line"><span class="built_in">echo</span> â–¶ï¸ æ­£åœ¨å¯åŠ¨ ZooKeeper...</span><br><span class="line"><span class="built_in">start</span> &quot;ZooKeeper&quot; /D &quot;<span class="variable">%KAFKA_HOME%</span>&quot; <span class="keyword">call</span> bin\windows\zookeeper-server-<span class="built_in">start</span>.bat config\zookeeper.properties</span><br><span class="line">â€‹</span><br><span class="line">:: ç­‰å¾…åˆå§‹åŒ–å®Œæˆ</span><br><span class="line">timeout /t <span class="number">7</span> &gt; <span class="built_in">NUL</span></span><br><span class="line">â€‹</span><br><span class="line">:: å¯åŠ¨ Kafka</span><br><span class="line"><span class="built_in">echo</span> â–¶ï¸ æ­£åœ¨å¯åŠ¨ Kafka Server...</span><br><span class="line"><span class="keyword">call</span> bin\windows\kafka-server-<span class="built_in">start</span>.bat config\server.properties</span><br><span class="line">â€‹</span><br><span class="line"><span class="built_in">echo</span> âœ… Kafka å·²æˆåŠŸå¯åŠ¨ï¼</span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure><hr /><h4 id="å…³é—­è„šæœ¬stop-kafkabat"><a class="markdownIt-Anchor" href="#å…³é—­è„šæœ¬stop-kafkabat"></a> âœ… å…³é—­è„šæœ¬ï¼š<code>stop-kafka.bat</code></h4><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">chcp</span> <span class="number">65001</span> &gt; <span class="built_in">nul</span></span><br><span class="line"><span class="built_in">TITLE</span> Kafka å…³é—­å™¨ - kafka_2.<span class="number">13</span>-<span class="number">3</span>.<span class="number">9</span>.<span class="number">0</span></span><br><span class="line">â€‹</span><br><span class="line"><span class="built_in">SETLOCAL</span></span><br><span class="line">â€‹</span><br><span class="line"><span class="built_in">set</span> KAFKA_HOME=F:\kafka_2.<span class="number">13</span>-<span class="number">3</span>.<span class="number">9</span>.<span class="number">0</span></span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exist</span> &quot;<span class="variable">%KAFKA_HOME%</span>&quot; (</span><br><span class="line">    <span class="built_in">echo</span> âŒ é”™è¯¯ï¼šKAFKA_HOME è·¯å¾„ä¸å­˜åœ¨: <span class="variable">%KAFKA_HOME%</span></span><br><span class="line">    <span class="built_in">pause</span></span><br><span class="line">    <span class="keyword">exit</span> /b <span class="number">1</span></span><br><span class="line">)</span><br><span class="line">â€‹</span><br><span class="line"><span class="built_in">cd</span> /d <span class="variable">%KAFKA_HOME%</span></span><br><span class="line">â€‹</span><br><span class="line">:: åœæ­¢ Kafka</span><br><span class="line"><span class="built_in">echo</span> â¹ï¸ æ­£åœ¨å°è¯•ä¼˜é›…åœ°åœæ­¢ Kafka...</span><br><span class="line"><span class="keyword">call</span> &quot;<span class="variable">%KAFKA_HOME%</span>\bin\windows\kafka-server-stop.bat&quot;</span><br><span class="line">â€‹</span><br><span class="line">:: ç­‰å¾… Kafka è¿›ç¨‹ç»“æŸ</span><br><span class="line"><span class="keyword">call</span> :wait_for_process_exit &quot;kafka&quot; <span class="number">30</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">errorlevel</span> <span class="number">1</span> (</span><br><span class="line">    <span class="built_in">echo</span> âš ï¸ Kafka è¿›ç¨‹æœªèƒ½åœ¨æŒ‡å®šæ—¶é—´å†…é€€å‡ºï¼Œè¯·æ£€æŸ¥æ—¥å¿—æˆ–æ‰‹åŠ¨ç»ˆæ­¢ã€‚</span><br><span class="line">)</span><br><span class="line">â€‹</span><br><span class="line">:: åœæ­¢ ZooKeeper</span><br><span class="line"><span class="built_in">echo</span> â¹ï¸ æ­£åœ¨å°è¯•ä¼˜é›…åœ°åœæ­¢ ZooKeeper...</span><br><span class="line"><span class="keyword">call</span> &quot;<span class="variable">%KAFKA_HOME%</span>\bin\windows\zookeeper-server-stop.bat&quot;</span><br><span class="line">â€‹</span><br><span class="line">:: ç­‰å¾… ZooKeeper è¿›ç¨‹ç»“æŸ</span><br><span class="line"><span class="keyword">call</span> :wait_for_process_exit &quot;zookeeper&quot; <span class="number">30</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">errorlevel</span> <span class="number">1</span> (</span><br><span class="line">    <span class="built_in">echo</span> âš ï¸ ZooKeeper è¿›ç¨‹æœªèƒ½åœ¨æŒ‡å®šæ—¶é—´å†…é€€å‡ºï¼Œè¯·æ£€æŸ¥æ—¥å¿—æˆ–æ‰‹åŠ¨ç»ˆæ­¢ã€‚</span><br><span class="line">)</span><br><span class="line">â€‹</span><br><span class="line"><span class="built_in">echo</span> âœ… Kafka å’Œ ZooKeeper å·²å°è¯•ä¼˜é›…å…³é—­ã€‚</span><br><span class="line"><span class="built_in">pause</span></span><br><span class="line"><span class="keyword">exit</span> /b <span class="number">0</span></span><br><span class="line">â€‹</span><br><span class="line">â€‹</span><br><span class="line">:: ============ å‡½æ•°åŒº ============</span><br><span class="line">â€‹</span><br><span class="line">:: ç­‰å¾…æŒ‡å®šå…³é”®å­—çš„ Java è¿›ç¨‹é€€å‡º</span><br><span class="line">:wait_for_process_exit</span><br><span class="line"><span class="built_in">setlocal</span></span><br><span class="line"><span class="built_in">set</span> keyword=%~<span class="number">1</span></span><br><span class="line"><span class="built_in">set</span> timeout=%~<span class="number">2</span></span><br><span class="line"><span class="built_in">set</span> count=<span class="number">0</span></span><br><span class="line">â€‹</span><br><span class="line"><span class="built_in">echo</span> ğŸ” æ­£åœ¨ç­‰å¾… [<span class="variable">%keyword%</span>] è¿›ç¨‹é€€å‡ºï¼Œæœ€å¤šç­‰å¾… <span class="variable">%timeout%</span> ç§’...</span><br><span class="line">â€‹</span><br><span class="line">:loop</span><br><span class="line">tasklist | <span class="built_in">findstr</span> /i java &gt;<span class="built_in">nul</span> &amp;&amp; (</span><br><span class="line">    tasklist | <span class="built_in">findstr</span> /i <span class="variable">%keyword%</span> &gt;<span class="built_in">nul</span> &amp;&amp; (</span><br><span class="line">        <span class="keyword">if</span> <span class="variable">%count%</span> <span class="keyword">lss</span> <span class="variable">%timeout%</span> (</span><br><span class="line">            timeout /t <span class="number">1</span> &gt;<span class="built_in">nul</span></span><br><span class="line">            <span class="built_in">set</span> /a count+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">goto</span> loop</span><br><span class="line">        ) <span class="keyword">else</span> (</span><br><span class="line">            <span class="built_in">endlocal</span></span><br><span class="line">            <span class="keyword">exit</span> /b <span class="number">1</span></span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line">â€‹</span><br><span class="line"><span class="built_in">endlocal</span></span><br><span class="line"><span class="keyword">exit</span> /b <span class="number">0</span></span><br></pre></td></tr></table></figure><p><img src="e82ade6a847d4f24ac98841c85b92b04.png" alt="" /></p><p>ä¼˜é›…åœ°å…³é—­Kafka</p><h3 id="å-å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ"><a class="markdownIt-Anchor" href="#å-å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ"></a> åã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3><table><thead><tr><th>é—®é¢˜</th><th>å¯èƒ½åŸå› </th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><strong><code>Address already in use</code></strong></td><td>ä¸Šæ¬¡æœªæ­£å¸¸å…³é—­ Kafka æˆ– ZooKeeper</td><td>ä½¿ç”¨ <code>stop-kafka.bat</code> å…³é—­æœåŠ¡ï¼Œæˆ–é‡å¯ç”µè„‘</td></tr><tr><td><strong><code>Node does not exist</code></strong></td><td>ZooKeeper æ²¡æœ‰æ­£ç¡®å¯åŠ¨</td><td>ç¡®ä¿ ZooKeeper å¯åŠ¨åå†å¯åŠ¨ Kafka</td></tr><tr><td><strong><code>Class 'kafka.Kafka' could not be found</code></strong></td><td>è·¯å¾„é”™è¯¯æˆ– JDK ç‰ˆæœ¬ä¸å¯¹</td><td>æ£€æŸ¥ <code>JAVA_HOME</code> æ˜¯å¦è®¾ç½®æ­£ç¡®</td></tr><tr><td><strong><code>æ‰¾ä¸åˆ°æˆ–æ— æ³•åŠ è½½ä¸»ç±»</code></strong></td><td>Kafka è·¯å¾„åŒ…å«ä¸­æ–‡æˆ–ç©ºæ ¼</td><td>å°† Kafka å®‰è£…åˆ°è‹±æ–‡è·¯å¾„ä¸‹</td></tr></tbody></table><hr />]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kafka </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨Pythonæ“ä½œNeo4j</title>
      <link href="/2025/07/28/Neo4j/%E4%BD%BF%E7%94%A8Python%E6%93%8D%E4%BD%9CNeo4j/"/>
      <url>/2025/07/28/Neo4j/%E4%BD%BF%E7%94%A8Python%E6%93%8D%E4%BD%9CNeo4j/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€-åŸºç¡€ç¯å¢ƒå‡†å¤‡"><a class="markdownIt-Anchor" href="#ä¸€-åŸºç¡€ç¯å¢ƒå‡†å¤‡"></a> ä¸€ã€åŸºç¡€ç¯å¢ƒå‡†å¤‡</h3><h4 id="11-åˆ›å»º-conda-è™šæ‹Ÿç¯å¢ƒ"><a class="markdownIt-Anchor" href="#11-åˆ›å»º-conda-è™šæ‹Ÿç¯å¢ƒ"></a> 1.1 åˆ›å»º Conda è™šæ‹Ÿç¯å¢ƒ</h4><ul><li>æ‰“å¼€ç»ˆç«¯/å‘½ä»¤è¡Œï¼Œè¾“å…¥ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create -n neo4j_env python=3.11 -y</span><br></pre></td></tr></table></figure><p>-n neo4j_envï¼šç¯å¢ƒåç§°ï¼ˆå¯è‡ªå®šä¹‰ï¼Œå¦‚ my_neo4j_envï¼‰ã€‚</p><p>python=3.11.0ï¼šæŒ‡å®š Python ç‰ˆæœ¬ï¼ˆæœ¬æ¬¡é‡‡ç”¨3.11.0ï¼‰ã€‚</p><p>-yï¼šè‡ªåŠ¨ç¡®è®¤å®‰è£…ä¾èµ–ã€‚</p><ul><li>æ¿€æ´»ç¯å¢ƒ</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda activate neo4j_env  <span class="comment"># Windows/macOS/Linux é€šç”¨å‘½ä»¤</span></span><br></pre></td></tr></table></figure><h4 id="12-å®‰è£…-py2neo-åº“"><a class="markdownIt-Anchor" href="#12-å®‰è£…-py2neo-åº“"></a> 1.2Â å®‰è£… Py2neo åº“</h4><p>å®‰è£…æœ€æ–°py2neoç‰ˆæœ¬çš„å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æˆ–å®‰è£…æœ€æ–°ç‰ˆï¼ˆé€‚åˆ Neo4j 5.xï¼‰</span></span><br><span class="line">pip install py2neo</span><br></pre></td></tr></table></figure><p><img src="43d5c8d02d119777f3452127bb80c5f8a2707e.webp" alt="å›¾ç‰‡" title="å›¾ç‰‡" /></p><h4 id="13-éªŒè¯å®‰è£…"><a class="markdownIt-Anchor" href="#13-éªŒè¯å®‰è£…"></a> 1.3Â éªŒè¯å®‰è£…</h4><p>åœ¨ Python äº¤äº’ç¯å¢ƒä¸­æµ‹è¯•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">from py2neo import __version__</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Py2neo ç‰ˆæœ¬:&quot;</span>, __version__)  <span class="comment"># åº”æ˜¾ç¤ºå®‰è£…ç‰ˆæœ¬å·</span></span><br><span class="line"><span class="comment"># è¿æ¥ Neo4j æµ‹è¯•ï¼ˆç¡®ä¿æœ¬åœ° Neo4j æœåŠ¡å·²å¯åŠ¨ï¼‰</span></span><br><span class="line">from py2neo import Graph</span><br><span class="line">graph = Graph(<span class="string">&quot;bolt://localhost:7687&quot;</span>, auth=(<span class="string">&quot;neo4j&quot;</span>, <span class="string">&quot;ä½ çš„å¯†ç &quot;</span>))</span><br><span class="line"><span class="built_in">print</span>(graph.run(<span class="string">&quot;RETURN &#x27;è¿æ¥æˆåŠŸ&#x27;&quot;</span>).data())</span><br></pre></td></tr></table></figure><p><img src="e8e73c6747e80e64e18542438cc01de7c754cb.webp" alt="å›¾ç‰‡" title="å›¾ç‰‡" /></p><p>å¯ä»¥çœ‹åˆ°ï¼Œå·²ç»æˆåŠŸè¿æ¥neo4jæ•°æ®åº“ã€‚</p><h3 id="äºŒ-neo4jçš„åŸºç¡€è¯­æ³•"><a class="markdownIt-Anchor" href="#äºŒ-neo4jçš„åŸºç¡€è¯­æ³•"></a> äºŒã€neo4jçš„åŸºç¡€è¯­æ³•</h3><h4 id="21-åˆ›å»ºèŠ‚ç‚¹ä¸å…³ç³»"><a class="markdownIt-Anchor" href="#21-åˆ›å»ºèŠ‚ç‚¹ä¸å…³ç³»"></a> 2.1Â Â åˆ›å»ºèŠ‚ç‚¹ä¸å…³ç³»</h4><p><strong>2.1.1 åˆ›å»ºèŠ‚ç‚¹</strong></p><p>åˆ›å»ºä¸€ä¸ªPersonçš„èŠ‚ç‚¹ï¼Œåå­—æ˜¯Aliceã€‚ç›¸å½“äºAliceè¢«åˆ’åˆ†ä¸ºPersonè¿™ä¸ªç±»åˆ«ã€‚</p><p>å¯¹äºPersonèŠ‚ç‚¹ï¼Œæœ‰nameå’Œageä¸¤ä¸ªå±æ€§ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> py2neo <span class="keyword">import</span> Graph, Node</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿æ¥ Docker å†…çš„ Neo4j</span></span><br><span class="line">graph = Graph(<span class="string">&quot;bolt://localhost:7687&quot;</span>, auth=(<span class="string">&quot;neo4j&quot;</span>, <span class="string">&quot;neo4j1234&quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºèŠ‚ç‚¹</span></span><br><span class="line">node = Node(<span class="string">&quot;Person&quot;</span>, name=<span class="string">&quot;Alice&quot;</span>, age=<span class="number">30</span>)</span><br><span class="line">graph.create(node)</span><br></pre></td></tr></table></figure><p>åœ¨neo4jå†…ï¼Œæ¯ä¸€ä¸ªç‚¹ç§°ä½œä¸€ä¸ªå®ä½“(èŠ‚ç‚¹)ï¼ŒAliceå°±æ˜¯ä¸€ä¸ªå®ä½“ï¼Œæ‹¥æœ‰ageå’Œnameä¸¤ä¸ªå±æ€§ã€‚</p><p><img src="f4b895d01106c8ebebb685cb177f04e011a88a.webp" alt="å›¾ç‰‡" title="å›¾ç‰‡" /></p><p><strong>2.1.2 åˆ›å»ºå…³ç³»</strong></p><p>åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¸…ç©ºneo4jå†…çš„æ‰€æœ‰æ•°æ®ï¼Œä½¿ç”¨ä»¥ä¸‹CQLè¯­å¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MATCH (n)</span><br><span class="line">DETACH DELETE n</span><br></pre></td></tr></table></figure><p><img src="48c0f5353fae5572d59739d2baf0a276e8f16a.webp" alt="å›¾ç‰‡" title="å›¾ç‰‡" /></p><p>æ¸…é™¤ä¹‹åï¼Œæ•°æ®åº“å†…å†æ— ä»»ä½•å®ä½“ã€‚</p><p>ç„¶åï¼Œæˆ‘ä»¬å¼€å§‹åˆ›å»ºAliceä¸Bobçš„å…³ç³»ï¼Œè®¾å®šä»–ä»¬æ˜¯æœ‹å‹å…³ç³»ï¼ŒæŒ‡å‘å…³ç³»ä¸ºï¼šalice-&gt;bobï¼›sinceè¡¨ç¤ºæœ‹å‹å…³ç³»çš„å¼€å§‹æ—¶é—´ã€‚</p><p>åˆ›å»ºä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> py2neo <span class="keyword">import</span> Graph, Node, NodeMatcher,Relationship</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿æ¥ Docker å†…çš„ Neo4j</span></span><br><span class="line">graph = Graph(<span class="string">&quot;bolt://localhost:7687&quot;</span>, auth=(<span class="string">&quot;neo4j&quot;</span>, <span class="string">&quot;neo4j1234&quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºèŠ‚ç‚¹é—´å…³ç³»</span></span><br><span class="line">alice = Node(<span class="string">&quot;Person&quot;</span>, name=<span class="string">&quot;Alice&quot;</span>)</span><br><span class="line">bob = Node(<span class="string">&quot;Person&quot;</span>, name=<span class="string">&quot;Bob&quot;</span>)</span><br><span class="line">relation = Relationship(alice, <span class="string">&quot;FRIEND&quot;</span>, bob, since=<span class="number">2025</span>)</span><br><span class="line">graph.create(relation)  <span class="comment"># æäº¤å…³ç³»</span></span><br></pre></td></tr></table></figure><p><img src="5709d38611df0bef0b6512156d8f42af493487.webp" alt="å›¾ç‰‡" title="å›¾ç‰‡" /></p><p><strong>2.1.3 æ³¨æ„äº‹é¡¹</strong></p><p>é‡å¤æ‰§è¡Œåˆ›å»ºå…³ç³»ï¼Œå¹¶ä¸ä¼šè¦†ç›–ï¼Œè€Œæ˜¯ä¼šæ–°å»ºèŠ‚ç‚¹ä¸å…³ç³»ã€‚</p><p>æˆ‘ä»¬å†æ¬¡æ‰§è¡Œ2.1.2çš„ä»£ç ï¼Œå¯ä»¥çœ‹åˆ°Aliceå’ŒBobå†æ¬¡å½¢æˆæ–°çš„å®ä½“ï¼Œä¸”idæ˜¯ä¸ä¸€æ ·çš„ã€‚</p><p><img src="f9a85f995e38a555c785008c69806190fbbc40.webp" alt="å›¾ç‰‡" title="å›¾ç‰‡" /></p><h4 id="22-mergeçš„ä½¿ç”¨"><a class="markdownIt-Anchor" href="#22-mergeçš„ä½¿ç”¨"></a> 2.2Â Â mergeçš„ä½¿ç”¨</h4><p><strong>2.2.1 æ³¨æ„äº‹é¡¹graph.create()çš„ç¼ºç‚¹</strong></p><p>åœ¨é€šè¿‡graph.create()è¿›è¡ŒèŠ‚ç‚¹ã€å…³ç³»åˆ›å»ºæ—¶ï¼Œå¤šæ¬¡æ‰§è¡Œåï¼Œæˆ‘ä»¬ä¼šé‡å¤åˆ›å»ºç›¸åŒçš„èŠ‚ç‚¹ä¸å…³ç³»ã€‚</p><p>å®é™…ä¸Šï¼Œå¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼Œæˆ‘ä»¬æƒ³è¦çš„æ˜¯å³ä½¿å¤šæ¬¡æ‰§è¡Œï¼Œä»ç„¶åªåˆ›å»ºä¸€ç»„å®ä½“ã€‚</p><p>å¯¹äºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨mergeå‡½æ•°æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p><strong>2.2.2Â mergeçš„æ•ˆæœ</strong></p><ul><li>å­˜åœ¨åˆ™åŒ¹é…ï¼šè‹¥æŒ‡å®šæ¨¡å¼å·²å­˜åœ¨ï¼Œåˆ™ç›´æ¥åŒ¹é…å¹¶è¿”å›ç»“æœã€‚</li><li>ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼šè‹¥æ¨¡å¼ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè¯¥æ¨¡å¼çš„æ‰€æœ‰å…ƒç´ ï¼ˆèŠ‚ç‚¹ã€å…³ç³»åŠå±æ€§ï¼‰ã€‚</li></ul><p>åœ¨py2neoä¸­ï¼Œmerge ä¼šæ£€æŸ¥å®ä½“çš„ is_bound çŠ¶æ€ï¼ˆæ˜¯å¦å·²ç»‘å®šåˆ°æ•°æ®åº“ï¼‰ã€‚è‹¥å®ä½“æœªç»‘å®šï¼ˆå³æœªé¢„å…ˆæäº¤ï¼‰ï¼Œåˆ™ä¼šè‡ªåŠ¨åˆ›å»ºå¹¶ç»‘å®šå®ä½“ï¼Œå†åˆ›å»ºå…³ç³»ã€‚</p><p>ç®€å•æ¥è¯´ï¼Œè‹¥å®ä½“å­˜åœ¨ï¼Œå°±ä¸å†æ¬¡åˆ›å»ºå®ä½“ï¼Œç›´æ¥åˆ›å»ºå…³ç³»ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œå°±å…ˆåˆ›å»ºå®ä½“å†åˆ›å»ºå…³ç³»ã€‚</p><p><strong>2.2.3Â mergeçš„pythonä»£ç </strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> py2neo <span class="keyword">import</span> Graph, Node, NodeMatcher,Relationship</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿æ¥ Docker å†…çš„ Neo4j</span></span><br><span class="line">graph = Graph(<span class="string">&quot;bolt://localhost:7687&quot;</span>, auth=(<span class="string">&quot;neo4j&quot;</span>, <span class="string">&quot;neo4j1234&quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºèŠ‚ç‚¹é—´å…³ç³»</span></span><br><span class="line">alice = Node(<span class="string">&quot;Person&quot;</span>, name=<span class="string">&quot;Alice&quot;</span>)</span><br><span class="line">bob = Node(<span class="string">&quot;Person&quot;</span>, name=<span class="string">&quot;Bob&quot;</span>)</span><br><span class="line">relation = Relationship(alice, <span class="string">&quot;FRIEND&quot;</span>, bob, since=<span class="number">2026</span>)</span><br><span class="line">graph.merge(alice,<span class="string">&quot;Person&quot;</span>,<span class="string">&quot;name&quot;</span>)  <span class="comment"># æäº¤èŠ‚ç‚¹</span></span><br><span class="line">graph.merge(bob,<span class="string">&quot;Person&quot;</span>,<span class="string">&quot;name&quot;</span>)  <span class="comment"># æäº¤èŠ‚ç‚¹</span></span><br><span class="line">graph.merge(relation,<span class="string">&quot;Person&quot;</span>,<span class="string">&quot;name&quot;</span>)  <span class="comment"># æäº¤å…³ç³»</span></span><br></pre></td></tr></table></figure><p>å³ä½¿æˆ‘ä»¬å¤šæ¬¡æ‰§è¡Œæ­¤ä»£ç ï¼Œä¹Ÿä»…å½¢æˆä¸€ä¸ªå®ä½“å…³ç³»å¯¹ã€‚</p><p><img src="e53c6672151b797ffc0183ad2ddd427c2c123a.webp" alt="å›¾ç‰‡" title="å›¾ç‰‡" /></p><h4 id="23-å®ä½“çš„æŸ¥è¯¢"><a class="markdownIt-Anchor" href="#23-å®ä½“çš„æŸ¥è¯¢"></a> 2.3Â Â å®ä½“çš„æŸ¥è¯¢</h4><p><strong>2.3.1 æŸ¥è¯¢èŠ‚ç‚¹</strong></p><p>é€šè¿‡NodeMatcherå»åŒ¹é…èŠ‚ç‚¹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> py2neo <span class="keyword">import</span> Graph, Node, NodeMatcher,Relationship,RelationshipMatcher</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿æ¥ Docker å†…çš„ Neo4j</span></span><br><span class="line">graph = Graph(<span class="string">&quot;bolt://localhost:7687&quot;</span>, auth=(<span class="string">&quot;neo4j&quot;</span>, <span class="string">&quot;neo4j1234&quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨NodeMatcher</span></span><br><span class="line">matcher = NodeMatcher(graph)</span><br><span class="line"><span class="comment"># åŒ¹é…name=Aliceçš„èŠ‚ç‚¹</span></span><br><span class="line">result = matcher.<span class="keyword">match</span>(<span class="string">&quot;Person&quot;</span>).where(<span class="string">&quot;_.name = &#x27;Alice&#x27;&quot;</span>).<span class="built_in">all</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure><p><img src="e63233f44d8b7c70251406bcea6c4228422f92.webp" alt="å›¾ç‰‡" title="å›¾ç‰‡" /></p><p><strong>2.3.2 æŸ¥è¯¢å…³ç³»</strong></p><p>é€šè¿‡RelationshipMatcherå»åŒ¹é…å…³ç³»ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> py2neo <span class="keyword">import</span> Graph, Node, NodeMatcher,Relationship,RelationshipMatcher</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿æ¥ Docker å†…çš„ Neo4j</span></span><br><span class="line">graph = Graph(<span class="string">&quot;bolt://localhost:7687&quot;</span>, auth=(<span class="string">&quot;neo4j&quot;</span>, <span class="string">&quot;neo4j1234&quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨RelationshipMatcher</span></span><br><span class="line">rel_matcher = RelationshipMatcher(graph)</span><br><span class="line">relations = rel_matcher.<span class="keyword">match</span>(r_type=<span class="string">&quot;FRIEND&quot;</span>).<span class="built_in">all</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(relations)</span><br></pre></td></tr></table></figure><p><img src="78173a355b736b27882223bfc55cb703cc5832.webp" alt="å›¾ç‰‡" title="å›¾ç‰‡" /></p><h4 id="24-åˆ é™¤å®ä½“ä¸å…³ç³»"><a class="markdownIt-Anchor" href="#24-åˆ é™¤å®ä½“ä¸å…³ç³»"></a> 2.4Â Â åˆ é™¤å®ä½“ä¸å…³ç³»</h4><p><strong>2.4.1Â åˆ é™¤å®ä½“</strong></p><p>é€šè¿‡graph.delete()åˆ é™¤æŒ‡å®šå®ä½“ï¼Œå½“å®ä½“è¢«åˆ é™¤åï¼Œå…¶å…³ç³»å°†è‡ªåŠ¨è¢«åˆ é™¤ã€‚</p><p>æœ¬è´¨ï¼šåŒ¹é…åˆ°æŒ‡å®šèŠ‚ç‚¹ï¼Œç„¶åç”¨deleteåˆ é™¤ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> py2neo <span class="keyword">import</span> Graph, Node, NodeMatcher,Relationship</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿æ¥ Docker å†…çš„ Neo4j</span></span><br><span class="line">graph = Graph(<span class="string">&quot;bolt://localhost:7687&quot;</span>, auth=(<span class="string">&quot;neo4j&quot;</span>, <span class="string">&quot;neo4j1234&quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‰æ¡ä»¶åˆ é™¤èŠ‚ç‚¹</span></span><br><span class="line">matcher = NodeMatcher(graph)</span><br><span class="line"><span class="comment"># åŒ¹é…ç¬¬ä¸€ä¸ªAliceçš„PersonèŠ‚ç‚¹</span></span><br><span class="line">node = matcher.<span class="keyword">match</span>(<span class="string">&quot;Person&quot;</span>, name=<span class="string">&quot;Alice&quot;</span>).first()</span><br><span class="line"><span class="keyword">if</span> node:</span><br><span class="line">graph.delete(node)  <span class="comment"># è‡ªåŠ¨åˆ é™¤å…³è”å…³ç³»</span></span><br></pre></td></tr></table></figure><p>åœ¨åˆ é™¤Aliceå®ä½“åï¼ŒAliceå®ä½“çš„å…³ç³»ä¹Ÿè¢«åˆ é™¤ï¼Œä»…ä¿ç•™Bobå®ä½“ã€‚</p><p><img src="21ec2ec45a931a12c0c10186b257f27356498c.webp" alt="å›¾ç‰‡" title="å›¾ç‰‡" /></p><p><strong>2.4.2Â åˆ é™¤å…³ç³»</strong></p><p>é€šè¿‡graph.delete()åˆ é™¤æŒ‡å®šå…³ç³»ï¼Œå®ä½“ä¼šè¢«ä¿ç•™ã€‚</p><p>æœ¬è´¨ï¼šåŒ¹é…åˆ°æŒ‡å®šå…³ç³»ï¼Œç„¶åç”¨deleteåˆ é™¤ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> py2neo <span class="keyword">import</span> Graph, Node, NodeMatcher,Relationship,RelationshipMatcher</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿æ¥ Docker å†…çš„ Neo4j</span></span><br><span class="line">graph = Graph(<span class="string">&quot;bolt://localhost:7687&quot;</span>, auth=(<span class="string">&quot;neo4j&quot;</span>, <span class="string">&quot;neo4j1234&quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤ç‰¹å®šå…³ç³»</span></span><br><span class="line">rel_matcher = RelationshipMatcher(graph)</span><br><span class="line"><span class="comment"># åŒ¹é…FRIENDçš„å…³ç³»</span></span><br><span class="line">relation = rel_matcher.<span class="keyword">match</span>(r_type=<span class="string">&quot;FRIEND&quot;</span>).first()</span><br><span class="line"><span class="keyword">if</span> relation:</span><br><span class="line">    graph.separate(relation)  <span class="comment"># ä»…åˆ é™¤å…³ç³»ï¼Œä¿ç•™èŠ‚ç‚¹</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œå®ä½“é—´å…³ç³»è¢«åˆ é™¤ï¼Œä½†æ˜¯å®ä½“å¾—ä»¥ä¿ç•™ã€‚</p><p><img src="c83013217574fbd0481488f608ba0d499e4de7.webp" alt="å›¾ç‰‡" title="å›¾ç‰‡" /></p><p><strong>2.4.3Â åˆ é™¤æ‰€æœ‰æ•°æ®</strong></p><p>graph.delete_all()å¯ä»¥åˆ é™¤æ•°æ®åº“å†…æ‰€æœ‰æ•°æ®ï¼Œä¸€å®šè¦æ…ç”¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Neo4j </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Neo4j å…¥é—¨çº§ä½¿ç”¨_neo4jä½¿ç”¨æ•™ç¨‹</title>
      <link href="/2025/07/28/Neo4j/Neo4j%20%E5%85%A5%E9%97%A8%E7%BA%A7%E4%BD%BF%E7%94%A8_neo4j%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/"/>
      <url>/2025/07/28/Neo4j/Neo4j%20%E5%85%A5%E9%97%A8%E7%BA%A7%E4%BD%BF%E7%94%A8_neo4j%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€-é›†æˆæ­¥éª¤"><a class="markdownIt-Anchor" href="#ä¸€-é›†æˆæ­¥éª¤"></a> ä¸€ã€é›†æˆæ­¥éª¤</h3><h4 id="ä¸€åˆ›å»º-spring-boot-é¡¹ç›®"><a class="markdownIt-Anchor" href="#ä¸€åˆ›å»º-spring-boot-é¡¹ç›®"></a> ï¼ˆä¸€ï¼‰åˆ›å»º Spring Boot é¡¹ç›®</h4><ul><li>ä½¿ç”¨ Spring Initializr åˆ›å»ºé¡¹ç›®æ—¶ï¼Œé€‰æ‹© Maven æˆ– Gradle ä½œä¸ºé¡¹ç›®æ„å»ºå·¥å…·ï¼Œé€‰æ‹©åˆé€‚çš„ Spring Boot ç‰ˆæœ¬ï¼Œå¹¶æ·»åŠ  â€œSpring Data Neo4jâ€ ä¾èµ–ã€‚</li></ul><h4 id="äºŒæ·»åŠ ä¾èµ–"><a class="markdownIt-Anchor" href="#äºŒæ·»åŠ ä¾èµ–"></a> ï¼ˆäºŒï¼‰æ·»åŠ ä¾èµ–</h4><ul><li>è‹¥ä½¿ç”¨ Mavenï¼Œåœ¨ <code>pom.xml</code> æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-neo4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ä¸‰é…ç½®-neo4j-è¿æ¥ä¿¡æ¯"><a class="markdownIt-Anchor" href="#ä¸‰é…ç½®-neo4j-è¿æ¥ä¿¡æ¯"></a> ï¼ˆä¸‰ï¼‰é…ç½® Neo4j è¿æ¥ä¿¡æ¯</h4><ul><li>åœ¨ <code>application.properties</code> æˆ– <code>application.yml</code> æ–‡ä»¶ä¸­é…ç½® Neo4j æ•°æ®åº“çš„è¿æ¥ä¿¡æ¯ã€‚å¦‚ä½¿ç”¨ <code>application.properties</code> æ–‡ä»¶ï¼Œå¯æŒ‰ä»¥ä¸‹æ ¼å¼é…ç½®ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">spring.data.neo4j.uri=bolt://localhost:7687</span><br><span class="line">spring.data.neo4j.username=neo4j</span><br><span class="line">spring.data.neo4j.password=123456</span><br></pre></td></tr></table></figure><h3 id="äºŒ-å®ä½“ç±»å®šä¹‰"><a class="markdownIt-Anchor" href="#äºŒ-å®ä½“ç±»å®šä¹‰"></a> äºŒã€å®ä½“ç±»å®šä¹‰</h3><h4 id="ä¸€èŠ‚ç‚¹å®ä½“ç±»"><a class="markdownIt-Anchor" href="#ä¸€èŠ‚ç‚¹å®ä½“ç±»"></a> ï¼ˆä¸€ï¼‰èŠ‚ç‚¹å®ä½“ç±»</h4><ul><li>ä½¿ç”¨ <code>@Node</code> æ³¨è§£å®šä¹‰èŠ‚ç‚¹å®ä½“ç±»ã€‚ä¾‹å¦‚ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.data.neo4j.core.schema.GeneratedValue;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.neo4j.core.schema.Id;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.neo4j.core.schema.Node;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@Node</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="meta">@Id</span> <span class="meta">@GeneratedValue</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// ç©ºæ„é€ æ–¹æ³•ã€å¸¦å‚æ•°æ„é€ æ–¹æ³•ã€getter å’Œ setter æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// getter å’Œ setter æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> Long <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="äºŒå…³ç³»å®ä½“ç±»"><a class="markdownIt-Anchor" href="#äºŒå…³ç³»å®ä½“ç±»"></a> ï¼ˆäºŒï¼‰å…³ç³»å®ä½“ç±»</h4><ul><li>ä½¿ç”¨ <code>@Relationship</code> æ³¨è§£å®šä¹‰å…³ç³»å®ä½“ç±»ã€‚ä¾‹å¦‚ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.data.neo4j.core.schema.GeneratedValue;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.neo4j.core.schema.Id;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.neo4j.core.schema.Node;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.neo4j.core.schema.Relationship;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@Node</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Movie</span> &#123;</span><br><span class="line">    <span class="meta">@Id</span> <span class="meta">@GeneratedValue</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String title;</span><br><span class="line">    <span class="keyword">private</span> String genre;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// ç©ºæ„é€ æ–¹æ³•ã€å¸¦å‚æ•°æ„é€ æ–¹æ³•ã€getter å’Œ setter æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Movie</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Movie</span><span class="params">(String title, String genre)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.title = title;</span><br><span class="line">        <span class="built_in">this</span>.genre = genre;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// getter å’Œ setter æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> Long <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getTitle</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> title;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTitle</span><span class="params">(String title)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.title = title;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getGenre</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> genre;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setGenre</span><span class="params">(String genre)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.genre = genre;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// å®šä¹‰ä» Movie åˆ° Person çš„å…³ç³»ï¼ˆæ¼”å‘˜å‚æ¼”ï¼‰</span></span><br><span class="line">    <span class="meta">@Relationship(type = &quot;ACTED_IN&quot;, direction = Relationship.Direction.INCOMING)</span></span><br><span class="line">    <span class="keyword">private</span> Person actor;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> Person <span class="title function_">getActor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> actor;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setActor</span><span class="params">(Person actor)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.actor = actor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸‰-ä»“åº“æ¥å£"><a class="markdownIt-Anchor" href="#ä¸‰-ä»“åº“æ¥å£"></a> ä¸‰ã€ä»“åº“æ¥å£</h3><ul><li>åˆ›å»ºä¸€ä¸ªä»“åº“æ¥å£æ¥æ“ä½œèŠ‚ç‚¹å®ä½“ç±»ã€‚ä¾‹å¦‚ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.data.neo4j.repository.Neo4jRepository;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">PersonRepository</span> <span class="keyword">extends</span> <span class="title class_">Neo4jRepository</span>&lt;Person, Long&gt; &#123;</span><br><span class="line">    <span class="comment">// è‡ªå®šä¹‰æŸ¥è¯¢æ–¹æ³•ç¤ºä¾‹ï¼šæ ¹æ®å§“åæŸ¥è¯¢</span></span><br><span class="line">    Person <span class="title function_">findByName</span><span class="params">(String name)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å››-æœåŠ¡å±‚"><a class="markdownIt-Anchor" href="#å››-æœåŠ¡å±‚"></a> å››ã€æœåŠ¡å±‚</h3><ul><li>åˆ›å»ºä¸€ä¸ªæœåŠ¡ç±»æ¥è°ƒç”¨ä»“åº“æ¥å£çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PersonService</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> PersonRepository personRepository;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// ä¿å­˜ Person</span></span><br><span class="line">    <span class="keyword">public</span> Person <span class="title function_">savePerson</span><span class="params">(Person person)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> personRepository.save(person);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// æ ¹æ®å§“åæŸ¥è¯¢ Person</span></span><br><span class="line">    <span class="keyword">public</span> Person <span class="title function_">findPersonByName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> personRepository.findByName(name);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// åˆ é™¤æ‰€æœ‰ Person</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteAllPersons</span><span class="params">()</span> &#123;</span><br><span class="line">        personRepository.deleteAll();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="äº”-æ§åˆ¶å™¨"><a class="markdownIt-Anchor" href="#äº”-æ§åˆ¶å™¨"></a> äº”ã€æ§åˆ¶å™¨</h3><ul><li>åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨ç±»æ¥å¤„ç† HTTP è¯·æ±‚ï¼Œå¹¶è°ƒç”¨æœåŠ¡å±‚çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/persons&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PersonController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> PersonService personService;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// æ·»åŠ  Person</span></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> Person <span class="title function_">addPerson</span><span class="params">(<span class="meta">@RequestBody</span> Person person)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> personService.savePerson(person);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// æ ¹æ®å§“åæŸ¥è¯¢ Person</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&#123;name&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Person <span class="title function_">getPersonByName</span><span class="params">(<span class="meta">@PathVariable</span> String name)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> personService.findPersonByName(name);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// åˆ é™¤æ‰€æœ‰ Person</span></span><br><span class="line">    <span class="meta">@DeleteMapping</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteAllPersons</span><span class="params">()</span> &#123;</span><br><span class="line">        personService.deleteAllPersons();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å…­-è¿è¡Œé¡¹ç›®"><a class="markdownIt-Anchor" href="#å…­-è¿è¡Œé¡¹ç›®"></a> å…­ã€è¿è¡Œé¡¹ç›®</h3><ul><li>å¯åŠ¨ Spring Boot åº”ç”¨ç¨‹åºåï¼Œå¯ä»¥é€šè¿‡ RESTful API æ¥æ“ä½œ Neo4j æ•°æ®åº“ã€‚</li></ul><h3 id="ä¸ƒ-neo4j-çš„è¯¦ç»†ä½¿ç”¨"><a class="markdownIt-Anchor" href="#ä¸ƒ-neo4j-çš„è¯¦ç»†ä½¿ç”¨"></a> ä¸ƒã€Neo4j çš„è¯¦ç»†ä½¿ç”¨</h3><h4 id="ä¸€åŸºæœ¬æ“ä½œ"><a class="markdownIt-Anchor" href="#ä¸€åŸºæœ¬æ“ä½œ"></a> ï¼ˆä¸€ï¼‰åŸºæœ¬æ“ä½œ</h4><h5 id="1-åˆ›å»ºèŠ‚ç‚¹"><a class="markdownIt-Anchor" href="#1-åˆ›å»ºèŠ‚ç‚¹"></a> 1. åˆ›å»ºèŠ‚ç‚¹</h5><ul><li>åœ¨ Neo4j Browser ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ Cypher æŸ¥è¯¢è¯­è¨€åˆ›å»ºèŠ‚ç‚¹ã€‚ä¾‹å¦‚ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CREATE (p:Person &#123;name: <span class="string">&quot;John Doe&quot;</span>, age: 30&#125;)</span><br><span class="line">CREATE (m:Movie &#123;title: <span class="string">&quot;The Matrix&quot;</span>, genre: <span class="string">&quot;Science Fiction&quot;</span>&#125;)</span><br></pre></td></tr></table></figure><h5 id="2-æŸ¥è¯¢èŠ‚ç‚¹"><a class="markdownIt-Anchor" href="#2-æŸ¥è¯¢èŠ‚ç‚¹"></a> 2. æŸ¥è¯¢èŠ‚ç‚¹</h5><ul><li>æŸ¥è¯¢æ‰€æœ‰ Person èŠ‚ç‚¹ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MATCH (p:Person) RETURN p</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç‰¹å®šæ¡ä»¶çš„èŠ‚ç‚¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MATCH (p:Person &#123;name: <span class="string">&quot;John Doe&quot;</span>&#125;) RETURN p</span><br></pre></td></tr></table></figure><h5 id="3-æ›´æ–°èŠ‚ç‚¹"><a class="markdownIt-Anchor" href="#3-æ›´æ–°èŠ‚ç‚¹"></a> 3. æ›´æ–°èŠ‚ç‚¹</h5><ul><li>æ›´æ–°èŠ‚ç‚¹çš„å±æ€§ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MATCH (p:Person &#123;name: <span class="string">&quot;John Doe&quot;</span>&#125;)</span><br><span class="line">SET p.age = 31</span><br><span class="line">RETURN p</span><br></pre></td></tr></table></figure><h5 id="4-åˆ é™¤èŠ‚ç‚¹"><a class="markdownIt-Anchor" href="#4-åˆ é™¤èŠ‚ç‚¹"></a> 4. åˆ é™¤èŠ‚ç‚¹</h5><ul><li>åˆ é™¤èŠ‚ç‚¹ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MATCH (p:Person &#123;name: <span class="string">&quot;John Doe&quot;</span>&#125;)</span><br><span class="line">DETACH DELETE p</span><br></pre></td></tr></table></figure><h4 id="äºŒå…³ç³»æ“ä½œ"><a class="markdownIt-Anchor" href="#äºŒå…³ç³»æ“ä½œ"></a> ï¼ˆäºŒï¼‰å…³ç³»æ“ä½œ</h4><h5 id="1-åˆ›å»ºå…³ç³»"><a class="markdownIt-Anchor" href="#1-åˆ›å»ºå…³ç³»"></a> 1. åˆ›å»ºå…³ç³»</h5><ul><li>åˆ›å»ºä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MATCH (p:Person &#123;name: <span class="string">&quot;John Doe&quot;</span>&#125;), (m:Movie &#123;title: <span class="string">&quot;The Matrix&quot;</span>&#125;)</span><br><span class="line">CREATE (p)-[r:ACTED_IN]-&gt;(m)</span><br><span class="line">RETURN r</span><br></pre></td></tr></table></figure><h5 id="2-æŸ¥è¯¢å…³ç³»"><a class="markdownIt-Anchor" href="#2-æŸ¥è¯¢å…³ç³»"></a> 2. æŸ¥è¯¢å…³ç³»</h5><ul><li>æŸ¥è¯¢ç‰¹å®šçš„å…³ç³»ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MATCH (p:Person)-[r:ACTED_IN]-&gt;(m:Movie)</span><br><span class="line">WHERE p.name = <span class="string">&quot;John Doe&quot;</span> AND m.title = <span class="string">&quot;The Matrix&quot;</span></span><br><span class="line">RETURN r</span><br></pre></td></tr></table></figure><h5 id="3-æ›´æ–°å…³ç³»"><a class="markdownIt-Anchor" href="#3-æ›´æ–°å…³ç³»"></a> 3. æ›´æ–°å…³ç³»</h5><ul><li>æ›´æ–°å…³ç³»çš„å±æ€§ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MATCH (p:Person &#123;name: <span class="string">&quot;John Doe&quot;</span>&#125;)-[r:ACTED_IN]-&gt;(m:Movie &#123;title: <span class="string">&quot;The Matrix&quot;</span>&#125;)</span><br><span class="line">SET r.role = <span class="string">&quot;Lead Actor&quot;</span></span><br><span class="line">RETURN r</span><br></pre></td></tr></table></figure><h5 id="4-åˆ é™¤å…³ç³»"><a class="markdownIt-Anchor" href="#4-åˆ é™¤å…³ç³»"></a> 4. åˆ é™¤å…³ç³»</h5><ul><li>åˆ é™¤å…³ç³»ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MATCH (p:Person &#123;name: <span class="string">&quot;John Doe&quot;</span>&#125;)-[r:ACTED_IN]-&gt;(m:Movie &#123;title: <span class="string">&quot;The Matrix&quot;</span>&#125;)</span><br><span class="line">DELETE r</span><br></pre></td></tr></table></figure><h4 id="ä¸‰å…¶ä»–æ“ä½œ"><a class="markdownIt-Anchor" href="#ä¸‰å…¶ä»–æ“ä½œ"></a> ï¼ˆä¸‰ï¼‰å…¶ä»–æ“ä½œ</h4><h5 id="1-å›¾æŸ¥è¯¢"><a class="markdownIt-Anchor" href="#1-å›¾æŸ¥è¯¢"></a> 1. å›¾æŸ¥è¯¢</h5><ul><li>æŸ¥è¯¢è·¯å¾„ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MATCH path = (p:Person)-[*]-(m:Movie)</span><br><span class="line">RETURN path</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢æœ€çŸ­è·¯å¾„ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MATCH (start:Person &#123;name: <span class="string">&quot;John Doe&quot;</span>&#125;), (end:Movie &#123;title: <span class="string">&quot;The Matrix&quot;</span>&#125;)</span><br><span class="line">CALL algo.shortestPath.stream(start, end, <span class="string">&quot;ACTED_IN&quot;</span>)</span><br><span class="line">YIELD nodeIds</span><br><span class="line">RETURN nodeIds</span><br></pre></td></tr></table></figure><h5 id="2-å›¾åˆ†æ"><a class="markdownIt-Anchor" href="#2-å›¾åˆ†æ"></a> 2. å›¾åˆ†æ</h5><ul><li>è®¡ç®—èŠ‚ç‚¹çš„åº¦æ•°ä¸­å¿ƒæ€§ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MATCH (p:Person)-[r:ACTED_IN]-&gt;(m:Movie)</span><br><span class="line">WITH p, COUNT(r) AS degree</span><br><span class="line">RETURN p, degree</span><br><span class="line">ORDER BY degree DESC</span><br></pre></td></tr></table></figure><p>è®¡ç®—èŠ‚ç‚¹çš„ PageRankï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CALL gds.pageRank.stream(<span class="string">&#x27;person-movie-graph&#x27;</span>)</span><br><span class="line">YIELD nodeId, score</span><br><span class="line">RETURN gds.util.asNode(nodeId).name AS name, score</span><br><span class="line">ORDER BY score DESC</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ˜¯ Spring Boot é›†æˆ Neo4j ä»¥åŠ Neo4j çš„è¯¦ç»†ä½¿ç”¨æ–¹æ³•ï¼Œé€šè¿‡è¿™äº›æ­¥éª¤å’Œæ“ä½œï¼Œä½ å¯ä»¥æ–¹ä¾¿åœ°åœ¨ Spring Boot é¡¹ç›®ä¸­ä½¿ç”¨ Neo4j æ•°æ®åº“æ¥å­˜å‚¨å’ŒæŸ¥è¯¢å›¾æ•°æ®ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Neo4j </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å›¾æ•°æ®åº“Neo4jå’ŒJDKå®‰è£…ä¸é…ç½®æ•™ç¨‹ï¼ˆè¶…è¯¦ç»†ï¼‰</title>
      <link href="/2025/07/28/Neo4j/%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%BA%93Neo4j%E5%92%8CJDK%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B%EF%BC%88%E8%B6%85%E8%AF%A6%E7%BB%86%EF%BC%89/"/>
      <url>/2025/07/28/Neo4j/%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%BA%93Neo4j%E5%92%8CJDK%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B%EF%BC%88%E8%B6%85%E8%AF%A6%E7%BB%86%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h3 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h3><p>Neo4jä½œä¸ºç›®å‰æ¯”è¾ƒæµè¡Œçš„å›¾æ•°æ®åº“ï¼Œåœ¨çŸ¥è¯†å›¾è°±ç­‰é¢†åŸŸæœ‰è¾ƒå¤šåº”ç”¨ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»Windowsç³»ç»Ÿä¸‹Neo4jå›¾æ•°æ®åº“çš„å®‰è£…ä¸é…ç½®ã€‚</p><p>Neo4j æ˜¯åŸºäºJavaçš„å›¾æ•°æ®åº“ï¼Œå…¶è¿è¡Œæ—¶éœ€è¦ Java è¿è¡Œæ—¶ç¯å¢ƒï¼ˆJREï¼‰æ¥å¯åŠ¨ JVM è¿›ç¨‹ï¼Œè€Œ JDK åŒ…å«äº† JRE ä»¥åŠå¼€å‘å·¥å…·ï¼Œå› æ­¤å®‰è£… JDK æ˜¯å¿…è¦çš„ã€‚</p><h3 id="ä¸€-javaç¯å¢ƒé…ç½®"><a class="markdownIt-Anchor" href="#ä¸€-javaç¯å¢ƒé…ç½®"></a> ä¸€ã€Javaç¯å¢ƒé…ç½®</h3><h4 id="ä¸€jdkçš„ä¸‹è½½ä¸å®‰è£…"><a class="markdownIt-Anchor" href="#ä¸€jdkçš„ä¸‹è½½ä¸å®‰è£…"></a> ï¼ˆä¸€ï¼‰JDKçš„ä¸‹è½½ä¸å®‰è£…</h4><p>é¦–å…ˆï¼Œè®¿é—®Oracleå®˜æ–¹JDKä¸‹è½½é¡µé¢ï¼Œæ ¹æ®è¦å®‰è£…çš„Neo4jç‰ˆæœ¬é€‰æ‹©åŒ¹é…çš„JDKç‰ˆæœ¬ã€‚</p><table><caption><p>Windowsç¯å¢ƒä¸‹Neo4jä¸JDKç‰ˆæœ¬çš„å¯¹åº”å…³ç³»</p></caption><tbody><tr><td>Neo4jç‰ˆæœ¬</td><td>JDKç‰ˆæœ¬</td></tr><tr><td>3.5</td><td>8</td></tr><tr><td>4.0</td><td>11</td></tr><tr><td><p>4.1</p></td><td>11</td></tr><tr><td>4.2</td><td>11</td></tr><tr><td>4.3</td><td>11</td></tr><tr><td>4.4</td><td>11</td></tr><tr><td>5</td><td>17</td></tr></tbody></table><p>ä¸‹è½½åœ°å€ï¼š<a href="https://www.oracle.com/java/technologies/downloads/#java17-windows" title="Java Downloads | Oracle">Java Downloads | Oracle</a>ï¼Œå› ä¸ºæˆ‘æ¥ä¸‹æ¥è¦ä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯neo4j-community-5.18.1ï¼Œæ‰€ä»¥é€‰æ‹©ä¸‹è½½JDK17ã€‚</p><p><img src="85a02cff517a43d79adcbae9a19c0e66.png" alt="" />ä¸‹è½½å®Œæˆåï¼ŒåŒå‡»è¿è¡Œå®‰è£…ç¨‹åºÂ ã€‚</p><p>1.ç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚</p><p><img src="d3d2e41b1a8e49649a540da6fd1210cb.png" alt="" /></p><p>2.æ›´æ”¹è‡ªå·±çš„å®‰è£…ä½ç½®ï¼ˆæ³¨æ„ï¼šä¸è¦æŠŠå®‰è£…åŒ…å’Œå®‰è£…ç¨‹åºæ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œé¢ï¼‰ç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚</p><p><img src="9ad3a85c9a3746fbaf1deba1b4fbe7cd.png" alt="" /></p><p>3.å®‰è£…å®Œæˆã€‚</p><p><img src="90448a2a85ee49e58761f521e48c6560.png" alt="" /></p><h4 id="äºŒjdkç¯å¢ƒé…ç½®"><a class="markdownIt-Anchor" href="#äºŒjdkç¯å¢ƒé…ç½®"></a> ï¼ˆäºŒï¼‰JDKç¯å¢ƒé…ç½®</h4><p>å³å‡»æ­¤ç”µè„‘-&gt;å±æ€§-&gt;é«˜çº§ç³»ç»Ÿè®¾ç½®-&gt;ç¯å¢ƒå˜é‡ã€‚</p><p>æ–°å»ºç¯å¢ƒå˜é‡</p><p>å˜é‡å ï¼šJAVA_HOME</p><p>å˜é‡å€¼ï¼šä½ åˆšæ‰å®‰è£…JDKçš„åœ°å€</p><p><img src="6285a3fafa7d4565bcef9ce2d0ecea94.png" alt="" /></p><p>åŒå‡»Pathï¼Œè¿›å…¥Pathå†…éƒ¨æ·»åŠ ç¯å¢ƒå˜é‡</p><p><img src="4bece4a18f8c4d26b3d8f6bdead75fe9.png" alt="" /><img src="399ac6122ecd480198ad3476b16431d9.png" alt="" /></p><p>ç”±äºJDK17åœ¨æˆ‘ä»¬å®‰è£…çš„æ—¶å€™å¯èƒ½ä¼šè‡ªåŠ¨è¿›è¡Œç¯å¢ƒå˜é‡é…ç½®ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç¯å¢ƒå˜é‡é…ç½®PATHä¸­åˆ é™¤å¦‚ä¸‹ä¿¡æ¯ï¼š<img src="bd19f99db8a04f09aed60964f50bca35.png" alt="" /></p><h4 id="ä¸‰æ£€æµ‹jdk17æ˜¯å¦é…ç½®æˆåŠŸ"><a class="markdownIt-Anchor" href="#ä¸‰æ£€æµ‹jdk17æ˜¯å¦é…ç½®æˆåŠŸ"></a> ï¼ˆä¸‰ï¼‰æ£€æµ‹JDK17æ˜¯å¦é…ç½®æˆåŠŸ</h4><p>å¿«æ·é”®win+Rï¼Œç„¶åè¾“å…¥cmdï¼Œç‚¹å‡»ç¡®å®šã€‚</p><p>è¾“å…¥java -version çœ‹çœ‹æ˜¯ä¸æ˜¯å‡ºç°ä»¥ä¸‹ä¿¡æ¯ï¼Œå¦‚æœå‡ºç°ä»¥ä¸‹ä¿¡æ¯å³è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚</p><p><img src="5203223ac2a74d0490e1691dd1ba1790.png" alt="" /></p><h3 id="äºŒ-neo4jçš„å®‰è£…ä¸é…ç½®"><a class="markdownIt-Anchor" href="#äºŒ-neo4jçš„å®‰è£…ä¸é…ç½®"></a> äºŒã€Neo4jçš„å®‰è£…ä¸é…ç½®</h3><h4 id="ä¸€neo4jçš„ä¸‹è½½ä¸å®‰è£…"><a class="markdownIt-Anchor" href="#ä¸€neo4jçš„ä¸‹è½½ä¸å®‰è£…"></a> ï¼ˆä¸€ï¼‰Neo4jçš„ä¸‹è½½ä¸å®‰è£…</h4><p>ä¸‹è½½åœ°å€ï¼š<a href="https://we-yun.com/doc/neo4j/" title="Index of /doc/neo4j/">Index of /doc/neo4j/</a></p><p>ä¸‹è½½æ‰€éœ€ç‰ˆæœ¬çš„neo4jçš„zipæ–‡ä»¶ä¹‹åï¼Œå°†è¯¥æ–‡ä»¶ç§»åŠ¨åˆ°æƒ³è¦å®‰è£…çš„ä½ç½®åç›´æ¥è§£å‹å³å¯ã€‚</p><h4 id="äºŒneo4jç¯å¢ƒå˜é‡é…ç½®"><a class="markdownIt-Anchor" href="#äºŒneo4jç¯å¢ƒå˜é‡é…ç½®"></a> ï¼ˆäºŒï¼‰Neo4jç¯å¢ƒå˜é‡é…ç½®</h4><p>åŒæ ·å³å‡»æ­¤ç”µè„‘-&gt;å±æ€§-&gt;é«˜çº§ç³»ç»Ÿè®¾ç½®-&gt;ç¯å¢ƒå˜é‡ã€‚</p><p>å’ŒJDKç¯å¢ƒé…ç½®ä¸€æ ·ï¼ŒåŒå‡»Pathã€‚</p><p>å°†neo4jçš„binç›®å½•å¤åˆ¶è¿›æ¥ã€‚</p><p><img src="6cdcf2e891304e51a611c532af939817.png" alt="" /></p><p><img src="816873531899435f879ebc54cb9f9f57.png" alt="" /></p><h4 id="ä¸‰æ£€æŸ¥neo4jæ˜¯å¦é…ç½®å®Œæˆ"><a class="markdownIt-Anchor" href="#ä¸‰æ£€æŸ¥neo4jæ˜¯å¦é…ç½®å®Œæˆ"></a> ï¼ˆä¸‰ï¼‰æ£€æŸ¥Neo4jæ˜¯å¦é…ç½®å®Œæˆ</h4><p>å¿«æ·é”®win+Rï¼Œç„¶åè¾“å…¥cmdï¼Œç‚¹å‡»ç¡®å®šã€‚</p><p>è¾“å…¥ï¼šneo4jÂ consoleï¼Œå½“æœ«è¡Œå‡ºç°Startedï¼Œå³è¯´æ˜é…ç½®æˆåŠŸã€‚</p><p><img src="00d00c5874bb49a299a2784a874147e3.png" alt="" /></p><p>åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š<a href="http://localhost:7474/" title="http://localhost:7474/">http://localhost:7474/</a>ï¼Œ ä¼šå‡ºç°ç™»å½•é¡µï¼Œé»˜è®¤çš„è´¦å·å’Œå¯†ç éƒ½æ˜¯Â neo4jï¼Œç™»é™†åéœ€è¦ä¿®æ”¹å¯†ç ã€‚</p><p><img src="f23ca185af354fd2a00a51be97924e70.png" alt="" /></p><p><img src="1970ddb381c24940bced680e98da636b.png" alt="" /></p><h3 id="neo4jçš„ä½¿ç”¨"><a class="markdownIt-Anchor" href="#neo4jçš„ä½¿ç”¨"></a> Neo4jçš„ä½¿ç”¨</h3><h4 id="ä¸€-åœ¨å‰å°è¿è¡Œ"><a class="markdownIt-Anchor" href="#ä¸€-åœ¨å‰å°è¿è¡Œ"></a> ä¸€ã€åœ¨å‰å°è¿è¡Œ</h4><p>åœ¨ç»ˆç«¯ä¸­è¾“å…¥ï¼šneo4j consoleï¼Œæ¥ç€è®¿é—®ï¼š <a href="http://localhost:7474/" title="http://localhost:7474/">http://localhost:7474/</a> å³å¯ã€‚</p><p>æ‰€è°“ã€å‰å°è¿è¡Œã€‘æ˜¯æŒ‡ï¼šå½“ç»ˆç«¯å…³é—­åï¼Œneo4jæœåŠ¡ä¹Ÿä¼šéšä¹‹åœæ­¢ã€‚</p><h4 id="äºŒ-åœ¨åå°è¿è¡Œ"><a class="markdownIt-Anchor" href="#äºŒ-åœ¨åå°è¿è¡Œ"></a> äºŒã€åœ¨åå°è¿è¡Œ</h4><p>æƒ³è¦è®©neo4jåœ¨å…³é—­ç»ˆç«¯åä»ç„¶ä¿æŒè¿è¡Œï¼Œéœ€è¦å…ˆå°†neo4jæ³¨å†Œä¸ºä¸€ä¸ªWindowsæœåŠ¡ï¼Œç„¶åä½¿ç”¨neo4j start å¯åŠ¨æœåŠ¡ã€‚æƒ³è¦å…³é—­neo4jæœåŠ¡ï¼Œåªéœ€åœ¨ç»ˆç«¯ä¸­è¾“å…¥ neo4j stop å‘½ä»¤å³å¯ã€‚</p><p><strong>ä»¥ä¸‹æ˜¯å¸¸ç”¨å‘½ä»¤ï¼Œå‡åœ¨cmdç»ˆç«¯ä¸­è¾“å…¥ã€‚</strong></p><p>é¦–å…ˆè¿›å…¥neo4jçš„binç›®å½•ã€‚</p><blockquote><p>cdÂ E:\APP\neo4j\neo4j-community-5.18.1\bin</p></blockquote><p><img src="f06c4313280f485a854cc6f2aab958e2.png" alt="" /></p><p>è¾“å…¥neo4j windows-service installï¼Œä¼šå‡ºç°ä¸€ä¸ªå¼¹çª—ï¼Œç‚¹å‡»æ˜¯å°±å¯ä»¥äº†ã€‚</p><p><img src="bdcc3c36df564bc4935b973d09ba70c6.png" alt="" /></p><p>è¾“å…¥neo4j startï¼Œä¼šå‡ºç°å¼¹çª—ç‚¹å‡»æ˜¯å³å¯ï¼Œç„¶åè®¿é—®<a href="http://localhost:7474/" title="http://localhost:7474">http://localhost:7474</a>ã€‚</p><p><img src="5e0b7bef5c4c49a49c43eb3bcf36a7ad.png" alt="" /></p><p>ç°åœ¨æ— éœ€åœ¨ç»ˆç«¯è¾“å…¥neo4j consoleå³å¯è®¿é—®Â  <a href="http://localhost:7474/" title="http://localhost:7474/">http://localhost:7474/</a>äº†ã€‚</p><p>è¦æƒ³å…³é—­æœåŠ¡ï¼Œè¾“å…¥neo4j stopå³å¯ã€‚</p><p><img src="462b8a4a53e347768167cf860aaa6d45.png" alt="" /></p><p>æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼šè¾“å…¥neo4j statusã€‚</p><p><img src="4ee3131cdd254b0d9703717e969e8161.png" alt="" /></p><p>å¤§åŠŸå‘Šæˆï¼åŠ æ²¹ ~</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Neo4j </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”¨Pythonçˆ¬å–ç™¾åº¦å›¾ç‰‡ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ å†™ä¸€ä¸ªå›¾ç‰‡çˆ¬è™«</title>
      <link href="/2025/07/28/Python/%E7%94%A8Python%E7%88%AC%E5%8F%96%E7%99%BE%E5%BA%A6%E5%9B%BE%E7%89%87%EF%BC%9A%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E5%86%99%E4%B8%80%E4%B8%AA%E5%9B%BE%E7%89%87%E7%88%AC%E8%99%AB/"/>
      <url>/2025/07/28/Python/%E7%94%A8Python%E7%88%AC%E5%8F%96%E7%99%BE%E5%BA%A6%E5%9B%BE%E7%89%87%EF%BC%9A%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E5%86%99%E4%B8%80%E4%B8%AA%E5%9B%BE%E7%89%87%E7%88%AC%E8%99%AB/</url>
      
        <content type="html"><![CDATA[<h3 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h3><p>æœ€è¿‘æƒ³æ”¶é›†ä¸€äº›ç‰¹å®šä¸»é¢˜çš„å›¾ç‰‡ç´ æï¼Œæ‰‹åŠ¨ä¸€å¼ å¼ ä¸‹è½½å®åœ¨å¤ªè´¹æ—¶é—´äº†ã€‚ä½œä¸ºä¸€ä¸ªæ‡’äººç¨‹åºå‘˜ï¼Œæˆ‘å†³å®šå†™ä¸ªçˆ¬è™«æ¥è‡ªåŠ¨å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚ä»Šå¤©å°±è·Ÿå¤§å®¶åˆ†äº«è¿™ä¸ªå®ç”¨çš„ç™¾åº¦å›¾ç‰‡çˆ¬è™«ï¼Œå®ƒèƒ½è‡ªåŠ¨æœç´¢å¹¶ä¸‹è½½ä½ æƒ³è¦çš„ä»»ä½•å›¾ç‰‡ã€‚</p><p><img src="3efa22a8879a4644a4403238a2d6f0dc.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="54af222e929b4f339f98726bc78e7dd6.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>è¿™ä¸ªçˆ¬è™«è™½ç„¶åªæœ‰100å¤šè¡Œä»£ç ï¼Œä½†åŒ…å«äº†è¯·æ±‚å¤„ç†ã€JSONè§£æã€æ–‡ä»¶æ“ä½œç­‰å®ç”¨æŠ€å·§ã€‚æˆ‘ä¼šè¯¦ç»†è§£é‡Šæ¯ä¸ªéƒ¨åˆ†çš„å®ç°æ€è·¯ï¼Œè®©ä½ ä¸ä»…èƒ½ä½¿ç”¨è¿™ä¸ªçˆ¬è™«ï¼Œè¿˜èƒ½çœŸæ­£ç†è§£å®ƒçš„å·¥ä½œåŸç†ã€‚</p><h3 id="çˆ¬è™«æ•´ä½“è®¾è®¡"><a class="markdownIt-Anchor" href="#çˆ¬è™«æ•´ä½“è®¾è®¡"></a> çˆ¬è™«æ•´ä½“è®¾è®¡</h3><p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹è¿™ä¸ªçˆ¬è™«çš„æ€»ä½“ç»“æ„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BaiduImageSpider</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># åˆå§‹åŒ–ä»£ç </span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create_directory</span>(<span class="params">self, name</span>):</span><br><span class="line">        <span class="comment"># åˆ›å»ºä¿å­˜å›¾ç‰‡çš„æ–‡ä»¶å¤¹</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_image_link</span>(<span class="params">self, url</span>):</span><br><span class="line">        <span class="comment"># è·å–å›¾ç‰‡é“¾æ¥</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">save_image</span>(<span class="params">self, img_link, filename</span>):</span><br><span class="line">        <span class="comment"># ä¸‹è½½å¹¶ä¿å­˜å›¾ç‰‡</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># ä¸»è¿è¡Œé€»è¾‘</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç±»åŒ…å«äº†çˆ¬è™«çš„æ‰€æœ‰åŠŸèƒ½ï¼Œç»“æ„æ¸…æ™°ï¼Œæ¯ä¸ªæ–¹æ³•è´Ÿè´£ä¸€ä¸ªå…·ä½“çš„ä»»åŠ¡ã€‚æ¥ä¸‹æ¥æˆ‘ä¼šè¯¦ç»†è®²è§£æ¯ä¸ªéƒ¨åˆ†çš„å®ç°ã€‚</p><h3 id="åˆå§‹åŒ–è®¾ç½®"><a class="markdownIt-Anchor" href="#åˆå§‹åŒ–è®¾ç½®"></a> åˆå§‹åŒ–è®¾ç½®</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    self.json_count = <span class="number">0</span></span><br><span class="line">    self.url = <span class="string">&#x27;https://image.baidu.com/search/acjson?tn=resultjson_com&amp;ipn=rj&amp;queryWord=&#123;&#125;&amp;word=&#123;&#125;&amp;pn=&#123;&#125;&amp;rn=30&#x27;</span></span><br><span class="line">    self.directory = <span class="string">r&quot;C:\ä»·å€¼ä¸€ä¸ªäº¿\python-mini-projects\projects\baidutupian\&#123;&#125;&quot;</span></span><br><span class="line">    self.header = &#123;</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Accept-Language&#x27;</span>: <span class="string">&#x27;en-US,en;q=0.5&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Referer&#x27;</span>: <span class="string">&#x27;https://image.baidu.com&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    self.image_counter = <span class="number">0</span>  <span class="comment"># æ–°å¢å…¨å±€å›¾ç‰‡è®¡æ•°å™¨</span></span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ–æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬è®¾ç½®äº†å‡ ä¸ªé‡è¦çš„å˜é‡ï¼š</p><ol><li><code>json_count</code>ï¼šæ§åˆ¶è¦ä¸‹è½½å¤šå°‘ç»„å›¾ç‰‡ï¼ˆæ¯ç»„30å¼ ï¼‰</li><li><code>url</code>ï¼šç™¾åº¦å›¾ç‰‡çš„APIæ¥å£åœ°å€ï¼Œä½¿ç”¨æ ¼å¼åŒ–å­—ç¬¦ä¸²æ–¹ä¾¿åç»­æ›¿æ¢å…³é”®è¯</li><li><code>directory</code>ï¼šå›¾ç‰‡ä¿å­˜è·¯å¾„ï¼Œä½¿ç”¨<code>&#123;&#125;</code>ä½œä¸ºå ä½ç¬¦æ–¹ä¾¿åç»­æ›¿æ¢</li><li><code>header</code>ï¼šè¯·æ±‚å¤´ï¼Œæ¨¡æ‹Ÿæµè§ˆå™¨è®¿é—®ï¼Œé¿å…è¢«åçˆ¬</li><li><code>image_counter</code>ï¼šå›¾ç‰‡è®¡æ•°å™¨ï¼Œç”¨äºç”Ÿæˆå”¯ä¸€çš„æ–‡ä»¶å</li></ol><h3 id="åˆ›å»ºä¿å­˜ç›®å½•"><a class="markdownIt-Anchor" href="#åˆ›å»ºä¿å­˜ç›®å½•"></a> åˆ›å»ºä¿å­˜ç›®å½•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">create_directory</span>(<span class="params">self, name</span>):</span><br><span class="line">    self.directory = self.directory.<span class="built_in">format</span>(name)</span><br><span class="line">    os.makedirs(self.directory, exist_ok=<span class="literal">True</span>)</span><br><span class="line">    self.directory += <span class="string">r&#x27;\&#123;&#125;&#x27;</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ–¹æ³•è´Ÿè´£åˆ›å»ºä¿å­˜å›¾ç‰‡çš„æ–‡ä»¶å¤¹ï¼š</p><ol><li>ä½¿ç”¨<code>format</code>æ–¹æ³•å°†æœç´¢å…³é”®è¯æ’å…¥åˆ°è·¯å¾„ä¸­</li><li><code>os.makedirs</code>åˆ›å»ºç›®å½•ï¼Œ<code>exist_ok=True</code>è¡¨ç¤ºå¦‚æœç›®å½•å·²å­˜åœ¨ä¹Ÿä¸æŠ¥é”™</li><li>æœ€ååœ¨è·¯å¾„åæ·»åŠ <code>\&#123;&#125;</code>ï¼Œæ–¹ä¾¿åç»­æ ¼å¼åŒ–æ–‡ä»¶å</li></ol><h3 id="è·å–å›¾ç‰‡é“¾æ¥"><a class="markdownIt-Anchor" href="#è·å–å›¾ç‰‡é“¾æ¥"></a> è·å–å›¾ç‰‡é“¾æ¥</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_image_link</span>(<span class="params">self, url</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        response = requests.get(</span><br><span class="line">            url,</span><br><span class="line">            headers=self.header,</span><br><span class="line">            proxies=&#123;<span class="string">&quot;http&quot;</span>: <span class="literal">None</span>, <span class="string">&quot;https&quot;</span>: <span class="literal">None</span>&#125;,</span><br><span class="line">            timeout=<span class="number">10</span></span><br><span class="line">        )</span><br><span class="line">        response.raise_for_status()</span><br><span class="line">        <span class="keyword">return</span> [item[<span class="string">&#x27;thumbURL&#x27;</span>] <span class="keyword">for</span> item <span class="keyword">in</span> response.json().get(<span class="string">&#x27;data&#x27;</span>, []) <span class="keyword">if</span> <span class="string">&#x27;thumbURL&#x27;</span> <span class="keyword">in</span> item]</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;è·å–å›¾ç‰‡é“¾æ¥å¤±è´¥: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> []</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯çˆ¬è™«çš„æ ¸å¿ƒæ–¹æ³•ä¹‹ä¸€ï¼Œè´Ÿè´£ä»ç™¾åº¦APIè·å–å›¾ç‰‡é“¾æ¥ï¼š</p><ol><li>ä½¿ç”¨<code>requests.get</code>å‘é€HTTPè¯·æ±‚</li><li>è®¾ç½®äº†è¯·æ±‚å¤´å’Œä»£ç†ï¼ˆè¿™é‡Œç¦ç”¨äº†ä»£ç†ï¼‰</li><li>æ·»åŠ äº†10ç§’è¶…æ—¶è®¾ç½®</li><li><code>raise_for_status()</code>ä¼šåœ¨è¯·æ±‚å¤±è´¥æ—¶æŠ›å‡ºå¼‚å¸¸</li><li>ä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼ä»è¿”å›çš„JSONä¸­æå–æ‰€æœ‰<code>thumbURL</code>å­—æ®µ</li><li>æ·»åŠ äº†å¼‚å¸¸å¤„ç†ï¼Œå¤±è´¥æ—¶æ‰“å°é”™è¯¯ä¿¡æ¯å¹¶è¿”å›ç©ºåˆ—è¡¨</li></ol><h3 id="ä¸‹è½½å¹¶ä¿å­˜å›¾ç‰‡"><a class="markdownIt-Anchor" href="#ä¸‹è½½å¹¶ä¿å­˜å›¾ç‰‡"></a> ä¸‹è½½å¹¶ä¿å­˜å›¾ç‰‡</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">save_image</span>(<span class="params">self, img_link, filename</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        res = requests.get(</span><br><span class="line">            img_link,</span><br><span class="line">            headers=self.header,</span><br><span class="line">            proxies=&#123;<span class="string">&quot;http&quot;</span>: <span class="literal">None</span>, <span class="string">&quot;https&quot;</span>: <span class="literal">None</span>&#125;,</span><br><span class="line">            timeout=<span class="number">10</span></span><br><span class="line">        )</span><br><span class="line">        res.raise_for_status()</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(filename, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            f.write(res.content)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;æˆåŠŸä¿å­˜: <span class="subst">&#123;filename&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;ä¸‹è½½å›¾ç‰‡å¤±è´¥: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ–¹æ³•è´Ÿè´£ä¸‹è½½å¹¶ä¿å­˜å›¾ç‰‡ï¼š</p><ol><li>åŒæ ·ä½¿ç”¨<code>requests.get</code>è·å–å›¾ç‰‡å†…å®¹</li><li>ä»¥äºŒè¿›åˆ¶å†™å…¥æ¨¡å¼(<code>wb</code>)æ‰“å¼€æ–‡ä»¶</li><li>ç›´æ¥å°†å“åº”å†…å®¹å†™å…¥æ–‡ä»¶</li><li>æ·»åŠ äº†å¼‚å¸¸å¤„ç†ï¼Œä¸‹è½½å¤±è´¥æ—¶æ‰“å°é”™è¯¯ä¿¡æ¯</li></ol><h3 id="ä¸»è¿è¡Œé€»è¾‘"><a class="markdownIt-Anchor" href="#ä¸»è¿è¡Œé€»è¾‘"></a> ä¸»è¿è¡Œé€»è¾‘</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">    searchName = <span class="built_in">input</span>(<span class="string">&quot;æŸ¥è¯¢å†…å®¹ï¼š&quot;</span>)</span><br><span class="line">    searchName_parse = parse.quote(searchName)</span><br><span class="line">    self.create_directory(searchName)</span><br><span class="line">    self.image_counter = <span class="number">0</span>  <span class="comment"># é‡ç½®è®¡æ•°å™¨</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> index <span class="keyword">in</span> <span class="built_in">range</span>(self.json_count):</span><br><span class="line">        pn = index * <span class="number">30</span></span><br><span class="line">        request_url = self.url.<span class="built_in">format</span>(searchName_parse, searchName_parse, <span class="built_in">str</span>(pn))</span><br><span class="line">        links = self.get_image_link(request_url)</span><br><span class="line">        <span class="keyword">for</span> link <span class="keyword">in</span> links:</span><br><span class="line">            filename = os.path.join(self.directory.<span class="built_in">format</span>(<span class="string">f&quot;<span class="subst">&#123;self.image_counter&#125;</span>.jpg&quot;</span>))  <span class="comment"># ä½¿ç”¨å…¨å±€è®¡æ•°å™¨</span></span><br><span class="line">            self.save_image(link, filename)</span><br><span class="line">            self.image_counter += <span class="number">1</span>  <span class="comment"># è®¡æ•°å™¨é€’å¢</span></span><br><span class="line">            time.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;searchName&#125;</span>----å›¾åƒä¸‹è½½å®Œæˆ---------&gt;&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯çˆ¬è™«çš„ä¸»æ§åˆ¶æµç¨‹ï¼š</p><ol><li>è·å–ç”¨æˆ·è¾“å…¥çš„æœç´¢å…³é”®è¯</li><li>å¯¹å…³é”®è¯è¿›è¡ŒURLç¼–ç </li><li>åˆ›å»ºä¿å­˜ç›®å½•</li><li>é‡ç½®å›¾ç‰‡è®¡æ•°å™¨</li><li>å¾ªç¯è·å–å¤šç»„å›¾ç‰‡ï¼ˆæ¯ç»„30å¼ ï¼‰</li><li>æ„å»ºè¯·æ±‚URLï¼Œ<code>pn</code>å‚æ•°æ§åˆ¶åˆ†é¡µ</li><li>è·å–å›¾ç‰‡é“¾æ¥åˆ—è¡¨</li><li>é€ä¸ªä¸‹è½½å›¾ç‰‡ï¼Œæ–‡ä»¶åä½¿ç”¨é€’å¢çš„æ•°å­—</li><li>æ¯æ¬¡ä¸‹è½½åæš‚åœ1ç§’ï¼Œé¿å…è¯·æ±‚è¿‡äºé¢‘ç¹</li><li>å®Œæˆåæ‰“å°æç¤ºä¿¡æ¯</li></ol><h3 id="æ‰©å±•æ€è·¯"><a class="markdownIt-Anchor" href="#æ‰©å±•æ€è·¯"></a> æ‰©å±•æ€è·¯</h3><p>è¿™ä¸ªåŸºç¡€çˆ¬è™«è¿˜å¯ä»¥è¿›ä¸€æ­¥æ‰©å±•ï¼š</p><ol><li><p><strong>æ”¯æŒæ›´å¤šæœç´¢å¼•æ“</strong>ï¼šé™¤äº†ç™¾åº¦ï¼Œè¿˜å¯ä»¥æ·»åŠ è°·æ­Œã€å¿…åº”ç­‰å›¾ç‰‡æœç´¢çš„æ”¯æŒ</p></li><li><p><strong>å›¾ç‰‡ç­›é€‰</strong>ï¼šæ ¹æ®å¤§å°ã€æ ¼å¼ã€é¢œè‰²ç­‰æ¡ä»¶ç­›é€‰å›¾ç‰‡</p></li><li><p><strong>å»é‡åŠŸèƒ½</strong>ï¼šä½¿ç”¨å“ˆå¸Œå€¼æ£€æŸ¥é¿å…ä¸‹è½½é‡å¤å›¾ç‰‡</p></li><li><p><strong>æ–­ç‚¹ç»­ä¼ </strong>ï¼šè®°å½•å·²ä¸‹è½½çš„å›¾ç‰‡ï¼Œç¨‹åºä¸­æ–­åå¯ä»¥ä»ä¸­æ–­å¤„ç»§ç»­</p></li><li><p><strong>GUIç•Œé¢</strong>ï¼šä½¿ç”¨PyQtæˆ–Tkinteræ·»åŠ å›¾å½¢ç•Œé¢ï¼Œæ›´æ–¹ä¾¿éæŠ€æœ¯äººå‘˜ä½¿ç”¨</p></li></ol><h3 id="å®Œæ•´ä»£ç "><a class="markdownIt-Anchor" href="#å®Œæ•´ä»£ç "></a> å®Œæ•´ä»£ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> parse</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BaiduImageSpider</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.json_count = <span class="number">0</span></span><br><span class="line">        self.url = <span class="string">&#x27;https://image.baidu.com/search/acjson?tn=resultjson_com&amp;ipn=rj&amp;queryWord=&#123;&#125;&amp;word=&#123;&#125;&amp;pn=&#123;&#125;&amp;rn=30&#x27;</span></span><br><span class="line">        self.directory = <span class="string">r&quot;C:\ä»·å€¼ä¸€ä¸ªäº¿\python-mini-projects\projects\baidutupian\&#123;&#125;&quot;</span></span><br><span class="line">        self.header = &#123;</span><br><span class="line">            <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Accept-Language&#x27;</span>: <span class="string">&#x27;en-US,en;q=0.5&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Referer&#x27;</span>: <span class="string">&#x27;https://image.baidu.com&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">        self.image_counter = <span class="number">0</span>  <span class="comment"># æ–°å¢å…¨å±€å›¾ç‰‡è®¡æ•°å™¨</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create_directory</span>(<span class="params">self, name</span>):</span><br><span class="line">        self.directory = self.directory.<span class="built_in">format</span>(name)</span><br><span class="line">        os.makedirs(self.directory, exist_ok=<span class="literal">True</span>)</span><br><span class="line">        self.directory += <span class="string">r&#x27;\&#123;&#125;&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_image_link</span>(<span class="params">self, url</span>):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            response = requests.get(</span><br><span class="line">                url,</span><br><span class="line">                headers=self.header,</span><br><span class="line">                proxies=&#123;<span class="string">&quot;http&quot;</span>: <span class="literal">None</span>, <span class="string">&quot;https&quot;</span>: <span class="literal">None</span>&#125;,</span><br><span class="line">                timeout=<span class="number">10</span></span><br><span class="line">            )</span><br><span class="line">            response.raise_for_status()</span><br><span class="line">            <span class="keyword">return</span> [item[<span class="string">&#x27;thumbURL&#x27;</span>] <span class="keyword">for</span> item <span class="keyword">in</span> response.json().get(<span class="string">&#x27;data&#x27;</span>, []) <span class="keyword">if</span> <span class="string">&#x27;thumbURL&#x27;</span> <span class="keyword">in</span> item]</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;è·å–å›¾ç‰‡é“¾æ¥å¤±è´¥: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">save_image</span>(<span class="params">self, img_link, filename</span>):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            res = requests.get(</span><br><span class="line">                img_link,</span><br><span class="line">                headers=self.header,</span><br><span class="line">                proxies=&#123;<span class="string">&quot;http&quot;</span>: <span class="literal">None</span>, <span class="string">&quot;https&quot;</span>: <span class="literal">None</span>&#125;,</span><br><span class="line">                timeout=<span class="number">10</span></span><br><span class="line">            )</span><br><span class="line">            res.raise_for_status()</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(filename, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">                f.write(res.content)</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;æˆåŠŸä¿å­˜: <span class="subst">&#123;filename&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;ä¸‹è½½å›¾ç‰‡å¤±è´¥: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        searchName = <span class="built_in">input</span>(<span class="string">&quot;æŸ¥è¯¢å†…å®¹ï¼š&quot;</span>)</span><br><span class="line">        searchName_parse = parse.quote(searchName)</span><br><span class="line">        self.create_directory(searchName)</span><br><span class="line">        self.image_counter = <span class="number">0</span>  <span class="comment"># é‡ç½®è®¡æ•°å™¨</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> index <span class="keyword">in</span> <span class="built_in">range</span>(self.json_count):</span><br><span class="line">            pn = index * <span class="number">30</span></span><br><span class="line">            request_url = self.url.<span class="built_in">format</span>(searchName_parse, searchName_parse, <span class="built_in">str</span>(pn))</span><br><span class="line">            links = self.get_image_link(request_url)</span><br><span class="line">            <span class="keyword">for</span> link <span class="keyword">in</span> links:</span><br><span class="line">                filename = os.path.join(self.directory.<span class="built_in">format</span>(<span class="string">f&quot;<span class="subst">&#123;self.image_counter&#125;</span>.jpg&quot;</span>))  <span class="comment"># ä½¿ç”¨å…¨å±€è®¡æ•°å™¨</span></span><br><span class="line">                self.save_image(link, filename)</span><br><span class="line">                self.image_counter += <span class="number">1</span>  <span class="comment"># è®¡æ•°å™¨é€’å¢</span></span><br><span class="line">                time.sleep(<span class="number">1</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;searchName&#125;</span>----å›¾åƒä¸‹è½½å®Œæˆ---------&gt;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    spider = BaiduImageSpider()</span><br><span class="line">    spider.json_count = <span class="number">10</span>  <span class="comment"># ä¸‹è½½10ç»„å›¾ç‰‡</span></span><br><span class="line">    spider.run()</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨è¯´æ˜"><a class="markdownIt-Anchor" href="#ä½¿ç”¨è¯´æ˜"></a> ä½¿ç”¨è¯´æ˜</h3><ol><li>å®‰è£…ä¾èµ–ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install requests</span><br></pre></td></tr></table></figure><ol start="2"><li><p>è¿è¡Œæ–¹å¼ï¼š</p><ul><li>ç›´æ¥è¿è¡Œï¼š<code>tupian.py</code></li><li>æˆ–è€…å¯¼å…¥ä½¿ç”¨ï¼š</li></ul><p>if <strong>name</strong> == â€˜<strong>main</strong>â€™:<br />spider = BaiduImageSpider()<br />spider.json_count = 10  # ä¸‹è½½10ç»„å›¾ç‰‡<br />spider.run()</p></li><li><p>åˆ›å»ºçˆ¬è™«å®ä¾‹</p></li><li><p>è®¾ç½®<code>json_count</code>å†³å®šä¸‹è½½å¤šå°‘ç»„å›¾ç‰‡ï¼ˆæ¯ç»„30å¼ ï¼‰</p></li><li><p>è°ƒç”¨<code>run()</code>æ–¹æ³•å¼€å§‹çˆ¬å–</p></li></ol><p>è¿è¡Œåä¼šæç¤ºè¾“å…¥æœç´¢å…³é”®è¯ï¼Œç„¶åå°±ä¼šè‡ªåŠ¨ä¸‹è½½å›¾ç‰‡åˆ°æŒ‡å®šç›®å½•ã€‚</p><p><img src="6970021bb16b49e5bc0f649be2965921.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="é«˜çº§æŠ€å·§"><a class="markdownIt-Anchor" href="#é«˜çº§æŠ€å·§"></a> é«˜çº§æŠ€å·§</h3><ol><li><strong>ä»£ç†è®¾ç½®</strong>ï¼šå¦‚æœéœ€è¦ä½¿ç”¨ä»£ç†ï¼Œå¯ä»¥ä¿®æ”¹è¯·æ±‚æ–¹æ³•ï¼š</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">proxies = &#123;</span><br><span class="line">    <span class="string">&#x27;http&#x27;</span>: <span class="string">&#x27;http://your.proxy:port&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;https&#x27;</span>: <span class="string">&#x27;http://your.proxy:port&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">response = requests.get(url, headers=self.header, proxies=proxies)</span><br></pre></td></tr></table></figure><ol start="2"><li><strong>å¤šçº¿ç¨‹ä¸‹è½½</strong>ï¼šå¯ä»¥ä½¿ç”¨<code>concurrent.futures</code>å®ç°ï¼š</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> concurrent.futures <span class="keyword">import</span> ThreadPoolExecutor</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> ThreadPoolExecutor(max_workers=<span class="number">5</span>) <span class="keyword">as</span> executor:</span><br><span class="line">    executor.<span class="built_in">map</span>(self.save_image, links)</span><br></pre></td></tr></table></figure><ol start="3"><li><strong>æ–­ç‚¹ç»­ä¼ </strong>ï¼šè®°å½•å·²ä¸‹è½½çš„URLï¼Œç¨‹åºé‡å¯åè·³è¿‡å·²ä¸‹è½½çš„å›¾ç‰‡ã€‚</li></ol><h3 id="æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#æ³¨æ„äº‹é¡¹"></a> æ³¨æ„äº‹é¡¹</h3><ol><li>è¯·éµå®ˆç™¾åº¦çš„robots.txtåè®®ï¼Œåˆç†æ§åˆ¶è¯·æ±‚é¢‘ç‡</li><li>ä¸è¦ç”¨äºå•†ä¸šç”¨é€”ï¼Œå°Šé‡å›¾ç‰‡ç‰ˆæƒ</li><li>å»ºè®®è®¾ç½®åˆç†çš„<code>json_count</code>å€¼ï¼Œé¿å…è¯·æ±‚è¿‡å¤šè¢«å°IP</li><li>ä¸‹è½½å¤±è´¥æ—¶ï¼Œç¨‹åºä¼šè‡ªåŠ¨é‡è¯•ï¼Œä½†å¤§é‡å¤±è´¥å¯èƒ½æ˜¯è§¦å‘äº†åçˆ¬æœºåˆ¶</li></ol><p>è¿™ä¸ªæ”¹è¿›ç‰ˆçš„ç™¾åº¦å›¾ç‰‡çˆ¬è™«å…·æœ‰æ›´å¥½çš„ç¨³å®šæ€§ã€æ›´è¯¦ç»†çš„æ—¥å¿—è¾“å‡ºå’Œæ›´å‹å¥½çš„ä½¿ç”¨ä½“éªŒã€‚ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿›ä¸€æ­¥æ‰©å±•åŠŸèƒ½ï¼Œæ¯”å¦‚æ·»åŠ å›¾ç‰‡å»é‡ã€è‡ªåŠ¨åˆ†ç±»ç­‰åŠŸèƒ½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL8.0.43ä¿å§†çº§å®‰è£…æ•™ç¨‹</title>
      <link href="/2025/07/28/MySQL/MySQL8.0.43%E4%BF%9D%E5%A7%86%E7%BA%A7%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/"/>
      <url>/2025/07/28/MySQL/MySQL8.0.43%E4%BF%9D%E5%A7%86%E7%BA%A7%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-ä¸‹è½½-mysql-installer"><a class="markdownIt-Anchor" href="#ä¸€-ä¸‹è½½-mysql-installer"></a> ä¸€ã€ä¸‹è½½ MySQL Installer</h2><p>é¦–å…ˆè®¿é—® MySQL å®˜æ–¹ä¸‹è½½é¡µé¢ï¼š<a href="https://dev.mysql.com/downloads/installer/">ç‚¹å‡»é“¾æ¥</a><br />åœ¨é¡µé¢ä¸­æ‰¾åˆ° MySQL Installer 8.0.43 éƒ¨åˆ†ã€‚<br /><img src="7826f134bf0748a092517e154614173b.png" alt="" /></p><h2 id="äºŒ-å®‰è£…åŒ…ç‰ˆæœ¬é€‰æ‹©"><a class="markdownIt-Anchor" href="#äºŒ-å®‰è£…åŒ…ç‰ˆæœ¬é€‰æ‹©"></a> äºŒã€å®‰è£…åŒ…ç‰ˆæœ¬é€‰æ‹©</h2><p>é¡µé¢ä¸­æä¾›äº†ä¸¤ä¸ªå®‰è£…åŒ…é€‰é¡¹ï¼š<br /><img src="d6f5d9a92e8f486d899ea6037e91a9a1.png" alt="" /></p><table><thead><tr><th>ç‰ˆæœ¬</th><th>å¤§å°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>mysql-installer-web-community-8.0.43.0.msi</strong></td><td>2.1M</td><td>ğŸŒ <strong>åœ¨çº¿å®‰è£…åŒ…</strong></td></tr><tr><td>â€¢ éœ€è¦ç½‘ç»œè¿æ¥</td><td></td><td></td></tr><tr><td>â€¢ å®‰è£…æ—¶å®æ—¶ä¸‹è½½ç»„ä»¶</td><td></td><td></td></tr><tr><td>â€¢ æ–‡ä»¶å°ï¼Œä¸‹è½½å¿«</td><td></td><td></td></tr><tr><td><strong>mysql-installer-community-8.0.43.0.msi</strong></td><td>354.3M</td><td>ğŸ’¿ <strong>ç¦»çº¿å®‰è£…åŒ…</strong></td></tr><tr><td>â€¢ æ— éœ€ç½‘ç»œè¿æ¥</td><td></td><td></td></tr><tr><td>â€¢ åŒ…å«æ‰€æœ‰å¿…è¦ç»„ä»¶</td><td></td><td></td></tr><tr><td>â€¢ æ–‡ä»¶å¤§ï¼Œä½†å®‰è£…ç¨³å®š</td><td></td><td></td></tr></tbody></table><p><strong>æˆ‘ä»¬é€‰æ‹©ä¸‹è½½ 354.3M çš„ç¦»çº¿ç‰ˆæœ¬</strong>ï¼ŒåŸå› ï¼šå®‰è£…è¿‡ç¨‹æ›´ç¨³å®š,ä¸ä¾èµ–ç½‘ç»œçŠ¶å†µ,åŒ…å«å®Œæ•´ç»„ä»¶,é€‚åˆå­¦ä¹ å’Œå¼€å‘ç¯å¢ƒ</p><p>ç‚¹å‡»354.3Mç‰ˆæœ¬å¯¹åº”çš„DownloadæŒ‰é’®<br /><img src="8ea55fe6c6f042fbb1bb9bcfe5544be1.png" alt="" /><br />è·³è½¬åˆ°ç™»å½•é¡µé¢å,ç‚¹å‡»<strong>No thanks,just start my download.</strong> å¼€å§‹ä¸‹è½½<code>mysql-installer-community-8.0.43.0.msi</code>æ–‡ä»¶<br /><img src="6e4590519e804a899c2555a227b2159c.png" alt="" /></p><h2 id="ä¸‰-å¼€å§‹å®‰è£…"><a class="markdownIt-Anchor" href="#ä¸‰-å¼€å§‹å®‰è£…"></a> ä¸‰ã€å¼€å§‹å®‰è£…</h2><h3 id="31-è¿è¡Œå®‰è£…ç¨‹åº"><a class="markdownIt-Anchor" href="#31-è¿è¡Œå®‰è£…ç¨‹åº"></a> 3.1 è¿è¡Œå®‰è£…ç¨‹åº</h3><p>æ‰¾åˆ°ä¸‹è½½çš„ <code>mysql-installer-community-8.0.43.0.msi</code> æ–‡ä»¶,<strong>åŒå‡»è¿è¡Œ</strong>,ä¹‹åç­‰å¾…å®‰è£…ç¨‹åºå¯åŠ¨<br /><img src="79efcaa6764448eeba6d4c449b305de6.png" alt="" /></p><h3 id="32-é€‰æ‹©å®‰è£…ç±»å‹"><a class="markdownIt-Anchor" href="#32-é€‰æ‹©å®‰è£…ç±»å‹"></a> 3.2 é€‰æ‹©å®‰è£…ç±»å‹</h3><p>åœ¨å®‰è£…å‘å¯¼ä¸­ï¼šé€‰æ‹© <strong>â€œCustomâ€ï¼ˆè‡ªå®šä¹‰ï¼‰</strong> å®‰è£…ç±»å‹,ç‚¹å‡» <strong>ã€Nextã€‘</strong> æŒ‰é’®ï¼ˆğŸ’¡ä¸ºä»€ä¹ˆé€‰æ‹©è‡ªå®šä¹‰å®‰è£…ï¼Ÿå¯ä»¥é€‰æ‹©å…·ä½“å®‰è£…çš„ç»„ä»¶ï¼Œå¯ä»¥è‡ªå®šä¹‰å®‰è£…è·¯å¾„ï¼Œé¿å…å®‰è£…ä¸éœ€è¦çš„ç»„ä»¶ï¼‰<br /><img src="e374d52de12d44c48264d24a7a998f35.png" alt="" /></p><h3 id="33-é€‰æ‹©-mysql-ç»„ä»¶"><a class="markdownIt-Anchor" href="#33-é€‰æ‹©-mysql-ç»„ä»¶"></a> 3.3 é€‰æ‹© MySQL ç»„ä»¶</h3><p>åœ¨å·¦ä¾§ç»„ä»¶åˆ—è¡¨ä¸­ï¼Œå±•å¼€ â€œ<strong>MySQL Servers</strong>â€ï¼Œæ‰¾åˆ° â€œ<strong>MySQL Server 8.0.43 - X64</strong>â€ï¼Œç‚¹å‡»å³ç®­å¤´ â€œ&gt;â€ å°†å…¶æ·»åŠ åˆ°å³ä¾§å®‰è£…åˆ—è¡¨<br /><img src="f3f8774c55ff45b4b89e964684e63ba1.png" alt="" /></p><h3 id="34-é…ç½®å®‰è£…è·¯å¾„"><a class="markdownIt-Anchor" href="#34-é…ç½®å®‰è£…è·¯å¾„"></a> 3.4 é…ç½®å®‰è£…è·¯å¾„</h3><p>åœ¨å³ä¾§åˆ—è¡¨ä¸­é€‰ä¸­ <strong>MySQL Server 8.0.43 - X64</strong><br /><img src="fbd0cf71f1924c80b0701869da35e44d.png" alt="" /><br />ç‚¹å‡» <strong>Advanced Options</strong>æŒ‰é’®ï¼Œä¿®æ”¹å®‰è£…è·¯å¾„ï¼š<br /><img src="56e6322a8fdf4fbf9788c491d5a2f0bb.png" alt="" /></p><p>ç‚¹å‡» <strong>ã€OKã€‘</strong> ç¡®è®¤<br /><img src="236ef3a611514c399644a62345c833a8.png" alt="" /></p><p>ç‚¹å‡» <strong>ã€Nextã€‘</strong> ç»§ç»­<br /><img src="766fafbba14349dcae388d6ff5dbe47f.png" alt="" /></p><h3 id="35-å¤„ç†ä¾èµ–é¡¹"><a class="markdownIt-Anchor" href="#35-å¤„ç†ä¾èµ–é¡¹"></a> 3.5 å¤„ç†ä¾èµ–é¡¹</h3><p>å¦‚æœç³»ç»Ÿç¼ºå°‘ Microsoft Visual C++ Redistributableï¼šåœ¨ â€œCheck Requirementsâ€ é¡µé¢ä¼šæ˜¾ç¤ºç¼ºå°‘çš„ç»„ä»¶ï¼Œé€‰ä¸­ç¼ºå°‘çš„ Visual C++ Redistributable é¡¹ç›®ï¼Œç‚¹å‡» ã€Executeã€‘ å¼€å§‹å®‰è£…<br /><img src="9f53cb3dfb894096ab429202d92babff.png" alt="" /></p><p>å¼¹å‡ºå®‰è£…å¯¹è¯æ¡†åï¼Œå‹¾é€‰ <strong>æˆ‘åŒæ„è®¸å¯æ¡æ¬¾å’Œæ¡ä»¶</strong>ï¼Œç‚¹å‡» <strong>ã€å®‰è£…ã€‘</strong> æŒ‰é’®ï¼Œç­‰å¾…å®‰è£…å®Œæˆï¼Œç‚¹å‡» <strong>ã€å…³é—­ã€‘</strong> æŒ‰é’®<br /><img src="a257f719129c4589bea27943272dccd5.png" alt="" /></p><blockquote><p><strong>æ³¨æ„ï¼šå¦‚æœç³»ç»Ÿå·²å®‰è£… Visual C++ ç»„ä»¶ï¼Œåˆ™ä¸ä¼šå‡ºç°æ­¤æ­¥éª¤</strong></p></blockquote><p>è¿”å› MySQL å®‰è£…å‘å¯¼ï¼Œç‚¹å‡» <strong>ã€Nextã€‘</strong> ç»§ç»­</p><p><img src="6944cd1fb20d468f905e1608c0042f78.png" alt="" /></p><h3 id="36-mysql-æœåŠ¡é…ç½®"><a class="markdownIt-Anchor" href="#36-mysql-æœåŠ¡é…ç½®"></a> 3.6 MySQL æœåŠ¡é…ç½®</h3><p>åœ¨ <strong>Installation</strong> é¡µé¢ï¼Œç‚¹å‡» <strong>ã€Executeã€‘</strong> å¼€å§‹å®‰è£… MySQLï¼Œç­‰å¾…å®‰è£…è¿›åº¦å®Œæˆ<br /><img src="18b8d53e6cec44ffa1e690da6289fbad.png" alt="" /><br />ç‚¹å‡» <strong>ã€Nextã€‘</strong> ç»§ç»­<br /><img src="4bf23a091d5747eb81e7c6c6276ea86e.png" alt="" /><br />åœ¨ <strong>Product Configuration</strong> é¡µé¢ï¼Œç›´æ¥ç‚¹å‡» <strong>ã€Nextã€‘</strong> ç»§ç»­<br /><img src="86f0948c574f473680b581f82fd3c7c8.png" alt="" /><br />åœ¨ <strong>Type and Networking</strong> é¡µé¢ï¼Œä¿æŒé»˜è®¤è®¾ç½®ï¼š</p><ul><li><strong>Config Type:</strong> Development Computer</li><li><strong>Port:</strong> 3306</li><li><strong>X Protocol Port:</strong> 33060</li></ul><p>ç‚¹å‡» <strong>ã€Nextã€‘</strong> ç»§ç»­<br /><img src="c132715a09bf4e5f8ef141797ab2e8d7.png" alt="" /></p><h3 id="37-è®¾ç½®-root-å¯†ç "><a class="markdownIt-Anchor" href="#37-è®¾ç½®-root-å¯†ç "></a> 3.7 è®¾ç½® Root å¯†ç </h3><p>åœ¨ <strong>Authentication Method</strong> é¡µé¢ï¼Œé€‰æ‹© <strong>Use Strong Password Encryption for Authenticationï¼ˆRECOMMENDEDï¼‰</strong>ï¼Œç‚¹å‡» <strong>ã€Nextã€‘</strong> ç»§ç»­<br /><img src="dfc4d7ea20574f11a2854536d997f07b.png" alt="" /><br />åœ¨ <strong>Accounts and Roles</strong> é¡µé¢ï¼Œè®¾ç½® <strong>MySQL Root Password</strong>ï¼ˆæ ¹å¯†ç ï¼‰</p><blockquote><p>å»ºè®®å¯†ç ï¼šrootï¼ˆä»…ç”¨äºå­¦ä¹ ç¯å¢ƒï¼‰<br />ç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨å¤æ‚å¯†ç </p></blockquote><p>ç‚¹å‡» <strong>ã€Nextã€‘</strong> ç»§ç»­<br /><img src="2f048002fd524e0881b6e40239d2e3bb.png" alt="" /></p><p>åœ¨ <strong>Windows Service</strong> é¡µé¢ï¼Œä¿æŒå…¶ä»–é»˜è®¤è®¾ç½®ï¼š</p><ul><li>âœ… <strong>Start the MySQL Server at System Startup</strong></li><li>âœ… <strong>Run Windows Service as Standard System Account</strong></li></ul><p>ç‚¹å‡» <strong>ã€Nextã€‘</strong> ç»§ç»­<br /><img src="653f98ffa64f42fc96534b1ede31c1e0.png" alt="" /><br />åœ¨ <strong>Server File Permissions</strong> é¡µé¢ï¼Œç‚¹å‡» <strong>ã€Nextã€‘</strong> ç»§ç»­<br /><img src="ef92859fb90b4ebd9f915abcdcbe2277.png" alt="" /><br />åœ¨ <strong>Apply Configuration</strong> é¡µé¢ï¼Œç‚¹å‡» <strong>ã€Executeã€‘</strong> åº”ç”¨æ‰€æœ‰é…ç½®ï¼Œç­‰å¾…é…ç½®å®Œæˆ<br /><img src="4c8b9666264245dda5646534cd6aee4e.png" alt="" /><br />ç‚¹å‡» <strong>ã€Finishã€‘</strong> å®Œæˆå®‰è£…<br /><img src="9ed2672c603b46b49c482d3114276d79.png" alt="" /></p><h2 id="å››-ç¯å¢ƒå˜é‡é…ç½®"><a class="markdownIt-Anchor" href="#å››-ç¯å¢ƒå˜é‡é…ç½®"></a> å››ã€ç¯å¢ƒå˜é‡é…ç½®</h2><p>æ‰“å¼€è®¾ç½®ï¼Œæœç´¢ç¯å¢ƒå˜é‡ï¼Œç‚¹å‡»ç¼–è¾‘ç³»ç»Ÿç¯å¢ƒå˜é‡<br /><img src="9ff9edb73bd846c5ab7d5379bc88ce01.png" alt="" /><br />ç‚¹å‡»<strong>ç¯å¢ƒå˜é‡</strong>æŒ‰é’®<br /><img src="11927fd39e1842229fa2e9c65ac1c1dd.png" alt="" /><br />åœ¨<strong>ç³»ç»Ÿå˜é‡</strong> ä¸­æ‰¾åˆ° <strong>Path</strong><br /><img src="1ecec098d96346a9af7d7f74e0b460d4.png" alt="" /><br />ç‚¹å‡» <strong>ç¼–è¾‘</strong></p><p><img src="d1a3bb598a01481a8ecd42b995d696f3.png" alt="" /><br />æ·»åŠ  MySQL è·¯å¾„ï¼Œç‚¹å‡» <strong>æ–°å»º</strong>ï¼Œæ·»åŠ è·¯å¾„ï¼š<code>C:\Program Files\MySQL\MySQL Server 8.0\bin</code>ï¼ˆæ ¹æ®ä½ çš„å®é™…å®‰è£…è·¯å¾„ï¼‰ï¼Œç‚¹å‡» ã€ç¡®å®šã€‘ ä¿å­˜<br /><img src="912055cad82b4cf0941480f346b1b102.png" alt="" /><br />å…³é—­æ‰€æœ‰çª—å£ï¼Œä¾æ¬¡ç‚¹å‡» <strong>ã€ç¡®å®šã€‘</strong> å…³é—­æ‰€æœ‰å¯¹è¯æ¡†</p><h2 id="äº”-å®‰è£…éªŒè¯"><a class="markdownIt-Anchor" href="#äº”-å®‰è£…éªŒè¯"></a> äº”ã€å®‰è£…éªŒè¯</h2><p>æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼šæŒ‰ <code>Win + R</code> é”®ï¼Œè¾“å…¥ <code>cmd</code> å¹¶æŒ‰å›è½¦<br />æµ‹è¯• MySQL å‘½ä»¤ï¼š</p><blockquote><p>mysql --version<br />å¦‚æœæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ï¼Œè¯´æ˜ç¯å¢ƒå˜é‡é…ç½®æˆåŠŸã€‚</p></blockquote><p><img src="e5cdfeea4c654e3b98d61cc040ec5144.png" alt="" /><br />è¿æ¥ MySQL æœåŠ¡å™¨ï¼š</p><blockquote><p>mysql -u root -p</p></blockquote><p>è¾“å…¥ä¹‹å‰è®¾ç½®çš„å¯†ç ï¼ˆå¦‚ï¼šrootï¼‰<br /><img src="30fefd9cd27044fea15a4f0ee6805cad.png" alt="" /><br />æµ‹è¯•æ•°æ®åº“æ“ä½œï¼š</p><blockquote><p>SHOW DATABASES;<br />EXIT;</p></blockquote><p><img src="50524b37e0384e01873bc21a1f047395.png" alt="" /></p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>c++å’Œpythonçš„äº’ç›¸è°ƒç”¨</title>
      <link href="/2025/07/22/Python/c++%E5%92%8Cpython%E7%9A%84%E4%BA%92%E7%9B%B8%E8%B0%83%E7%94%A8/"/>
      <url>/2025/07/22/Python/c++%E5%92%8Cpython%E7%9A%84%E4%BA%92%E7%9B%B8%E8%B0%83%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰æ"><a class="markdownIt-Anchor" href="#å‰æ"></a> å‰æ</h2><p>å› é¡¹ç›®éœ€æ±‚ï¼Œéœ€è¦åœ¨C++ä¸­è°ƒç”¨pythonï¼Œå¯¹è¿™æ–¹é¢çš„ä¸€äº›å·¥å…·åšä¸ªç®€å•çš„ä»‹ç»ã€‚</p><h2 id="ctypes"><a class="markdownIt-Anchor" href="#ctypes"></a> ctypes</h2><p>ctypes æ˜¯ Python çš„å¤–éƒ¨å‡½æ•°åº“ã€‚å®ƒæä¾›äº†ä¸ C å…¼å®¹çš„æ•°æ®ç±»å‹ï¼Œå¹¶å…è®¸è°ƒç”¨ DLL æˆ–å…±äº«åº“ä¸­çš„å‡½æ•°ã€‚å¯ä½¿ç”¨è¯¥æ¨¡å—ä»¥çº¯ Python å½¢å¼å¯¹è¿™äº›åº“è¿›è¡Œå°è£…ã€‚<br />ä¸Šé¢æ˜¯ctypes<a href="https://docs.python.org/zh-cn/3/library/ctypes.html">å®˜æ–¹æ–‡æ¡£</a>ç»™å‡ºçš„ä»‹ç»ï¼Œé€šä¿—ç†è§£æ¥è¯´ï¼š<strong>ctypeså¯ä»¥åŠ è½½åŠ¨æ€é“¾æ¥åº“ï¼Œç„¶åä»¥æ­¤è°ƒç”¨åŠ¨æ€é“¾æ¥åº“ä¸­çš„å‡½æ•°</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ª<code>.c</code>æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒç¼–è¯‘æˆåº“ï¼Œç„¶ååœ¨pythonä»£ç é‡Œé¢ä½¿ç”¨ctypesåŠ è½½è°ƒç”¨å®ƒã€‚<br />ç›¸å…³ä»£ç å¦‚ä¸‹ï¼š</p><ol><li>åˆ›å»ºä¸€ä¸ª<code>main.c</code>æ–‡ä»¶ï¼ŒåŒ…æ‹¬ä¸‰ä¸ªå‡½æ•°ï¼Œç­‰ä¼šæˆ‘ä»¬è¦é€šè¿‡è°ƒç”¨åŠ¨æ€é“¾æ¥åº“çš„æ–¹å¼åœ¨pythonä¸­è°ƒç”¨è¿™ä¸‰ä¸ªå‡½æ•°ã€‚</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.c</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> *a, <span class="type">int</span> num)</span>&#123;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;num; i++)&#123;</span><br><span class="line">        sum += a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>å°†<code>main.c</code>ç¼–è¯‘ä¸ºåŠ¨æ€é“¾æ¥åº“<code>mainlib.dll</code></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -shared -o mainlib.dll main.c</span><br></pre></td></tr></table></figure><ol start="3"><li>ç°åœ¨æˆ‘ä»¬çš„æ–‡ä»¶å¤¹ä¸‹ä¾¿ä¼šå¤šå‡ºä¸€ä¸ª<code>mainlib.dll</code>åº“æ–‡ä»¶ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åœ¨pythonä¸­è°ƒç”¨å¹¶ä¸”ä½¿ç”¨å®ƒã€‚</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># demo.py</span></span><br><span class="line"><span class="keyword">import</span> ctypes</span><br><span class="line"><span class="keyword">from</span> ctypes <span class="keyword">import</span> *</span><br><span class="line">mainlib = ctypes.CDLL(<span class="string">&#x27;test/mainlib.dll&#x27;</span>)</span><br><span class="line"></span><br><span class="line">a = ctypes.c_int(<span class="number">1</span>)</span><br><span class="line">b = ctypes.c_int(<span class="number">2</span>) </span><br><span class="line"><span class="built_in">print</span>(mainlib.add(a,b))</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¦æƒ³ä¼ å…¥intç±»å‹çš„æ•°ç»„ï¼Œå°±å¿…é¡»æŒ‰ç…§ä¸‹é¢çš„æ–¹å¼å…ˆè¿›è¡Œå®šä¹‰</span></span><br><span class="line">int_array = (c_int * <span class="number">3</span>)(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">num = ctypes.c_int(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(mainlib.<span class="built_in">sum</span>(int_array, <span class="number">3</span>))</span><br></pre></td></tr></table></figure><p><strong>æ€»ç»“: ctypeså¯ä»¥åº”ç”¨åˆ°åœ¨pythonä¸­è°ƒç”¨cå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯pythonè°ƒç”¨Cï¼Œä¹Ÿå°±æ˜¯æ‰©å±•pythonã€‚</strong></p><h2 id="pybind11"><a class="markdownIt-Anchor" href="#pybind11"></a> <a href="https://pybind11.readthedocs.io/en/stable/index.html">pybind11</a></h2><p>pybind11ä¹‹å‰æˆ‘ä½¿ç”¨è¿‡ï¼Œå½“æ—¶çš„åœºæ™¯æ˜¯ï¼šæœ‰ä¸€ä¸ªæ·±åº¦å­¦ä¹ ç®—å­æ˜¯ç”¨c<ins>å’Œcudaå†™çš„ï¼Œè¦æŠŠå®ƒæ¥å…¥åˆ°pytorchä¸­ï¼Œ**ç›¸å½“äºæ˜¯pythonä¸­è°ƒç”¨c</ins>**ã€‚å½“æ—¶çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼šä½¿ç”¨pybind11è¿™ä¸ªå·¥å…·å°†è¿™ä¸ªç®—å­å°è£…æˆåŠ¨æ€åº“æ–‡ä»¶ï¼Œç„¶ååœ¨pythonç«¯è¿›è¡ŒåŠ è½½è¿è¡Œã€‚</p><p>åœ¨è¿™é‡Œï¼Œæˆ‘å¯ä»¥å¾ˆæ˜ç¡®çš„å‘Šè¯‰å¤§å®¶ï¼š<strong>pybind11å¯ä»¥ä½¿æˆ‘ä»¬åœ¨pythonä¸­è°ƒç”¨C++(è¿™æ˜¯pybind11çš„ä¸»è¦ç›®çš„å’Œåº”ç”¨)ï¼Œä¹Ÿå¯ä»¥ä½¿æˆ‘ä»¬åœ¨C++ä¸­è°ƒç”¨python</strong>ã€‚ ä¸‹é¢ç»™å‡ºä¸¤ä¸ªç¤ºä¾‹ã€‚</p><h3 id="åœ¨pythonä¸­è°ƒç”¨c"><a class="markdownIt-Anchor" href="#åœ¨pythonä¸­è°ƒç”¨c"></a> åœ¨pythonä¸­è°ƒç”¨C++</h3><ol><li>å®‰è£…pybind11<br />è¿™é‡Œæˆ‘å»ºè®®ä½¿ç”¨<code>conda install</code> çš„æ–¹å¼å®‰è£…pybind11ï¼Œå¦åœ¨åé¢åœ¨C++ä¸­ä¼šæ‰¾ä¸åˆ°pybindçš„å¤´æ–‡ä»¶ç­‰ã€‚</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install pybind11</span><br></pre></td></tr></table></figure><ol start="2"><li>åˆ›å»ºmain.cpp</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;pybind11/pybind11.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> py = pybind11;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">add</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> i+j;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">PYBIND11_MODULE</span>(example, m) &#123;</span><br><span class="line">    m.<span class="built_in">doc</span>() = <span class="string">&quot;pybind11 example plugin&quot;</span>; <span class="comment">// optional module docstring</span></span><br><span class="line"></span><br><span class="line">    m.<span class="built_in">def</span>(<span class="string">&quot;add&quot;</span>, &amp;add, <span class="string">&quot;A function that adds two numbers&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨<code>main.c</code>ä¸­å®šä¹‰äº†ä¸€ä¸ªaddå‡½æ•°ã€‚åé¢å‡ è¡Œæ·»åŠ äº†pybindæ¥å£çš„ä»£ç ã€‚</p><ol start="3"><li>ç”ŸæˆåŠ¨æ€é“¾æ¥åº“<br />ç”ŸæˆåŠ¨æ€é“¾æ¥åº“è¿™ä¸€éƒ¨åˆ†ï¼Œå¾ˆå¤šæ•™ç¨‹ä¸­ä½¿ç”¨çš„éƒ½æ˜¯ä¸€ä¸ª<code>setup.py</code>ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨ä»å®˜ç½‘å¾—åˆ°çš„å‘½ä»¤è¡Œç”Ÿæˆ<code>.so</code>æ–‡ä»¶ã€‚</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c++ -O3 -Wall -shared -std=c++11 -fPIC $(python3 -m pybind11 --includes) main.cpp -o example$(python3-config --extension-suffix)</span><br></pre></td></tr></table></figure><p>è¿è¡Œå®Œè¿™æ¡æŒ‡ä»¤åï¼Œå¯ä»¥çœ‹åˆ°æ–‡ä»¶å¤¹ä¸­å¤šäº†ä¸€ä¸ªä»¥exampleå¼€å¤´çš„<code>.so</code>æ–‡ä»¶ã€‚</p><ol start="4"><li>åœ¨pythonä¸­è°ƒç”¨è¯¥åŠ¨æ€é“¾æ¥åº“</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> example</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå°±æ˜¯ä½¿ç”¨pybind11åœ¨pythonä¸­è°ƒç”¨c++çš„å…¨æµç¨‹ã€‚</p><h3 id="åœ¨cä¸­è°ƒç”¨python"><a class="markdownIt-Anchor" href="#åœ¨cä¸­è°ƒç”¨python"></a> åœ¨C++ä¸­è°ƒç”¨python</h3><p>è¿™ä¸€éƒ¨åˆ†äº’è”ç½‘ä¸Šèµ„æºå¾ˆå°‘ï¼Œæˆ‘æ²¡æœ‰æ‰¾åˆ°ä¸€ä¸ªå®Œæ•´çš„demoï¼Œæœ€åä»pybind11çš„<a href="https://pybind11.readthedocs.io/en/stable/advanced/embedding.html">å®˜ç½‘</a> æ‰¾åˆ°äº†ä¸€äº›demoï¼Œè¿™é‡Œè¿›è¡Œå±•ç¤ºã€‚</p><ol><li>å‡†å¤‡c++ç¯å¢ƒ<br />å› ä¸ºæˆ‘æ˜¯ä½¿ç”¨cmakeç¼–è¯‘ä»£ç ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥è¦æ‰¾åˆ°pybind11çš„å¤´æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯ç¡®ä¿CmakeLists.txtæ–‡ä»¶æ­£ç¡®ã€‚ä¸‹é¢æ˜¯æˆ‘çš„cmakeæ–‡ä»¶ã€‚</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cmake_minimum_required(VERSION 3.16)</span><br><span class="line">project(main)</span><br><span class="line"></span><br><span class="line">find_package(pybind11 REQUIRED)  <span class="comment"># å¯»æ‰¾pybind11</span></span><br><span class="line"></span><br><span class="line">add_executable(main main.cpp)</span><br><span class="line">target_link_libraries(main pybind11::embed)</span><br></pre></td></tr></table></figure><ol start="2"><li>demo</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;pybind11/embed.h&gt;</span> <span class="comment">// æ³¨æ„ï¼Œè¿™é‡Œçš„å¤´æ–‡ä»¶å’Œä¸Šä¸€ä¸ªä¸ä¸€æ ·</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">namespace</span> py = pybind11;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    py::scoped_interpreter guard&#123;&#125;;  <span class="comment">// æ¿€æ´»pythonè§£é‡Šå™¨</span></span><br><span class="line"></span><br><span class="line">    py::<span class="built_in">print</span>(<span class="string">&quot;hello, world!&quot;</span>);  <span class="comment">// ä½¿ç”¨python api</span></span><br><span class="line"></span><br><span class="line">     py::<span class="built_in">exec</span>(<span class="string">R&quot;(</span></span><br><span class="line"><span class="string">        kwargs = dict(name=&quot;World&quot;, number=42)</span></span><br><span class="line"><span class="string">        message = &quot;Hello, &#123;name&#125;! The answer is &#123;number&#125;&quot;.format(**kwargs)</span></span><br><span class="line"><span class="string">        print(message)</span></span><br><span class="line"><span class="string">    )&quot;</span>);  <span class="comment">// ä½¿ç”¨execåœ¨c++ä¸­è¿è¡Œpythonä»£ç </span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨c++ä¸­å¯¼å…¥pythonçš„æ¨¡å—</span></span><br><span class="line">    py::module_ sys = py::module_::<span class="built_in">import</span>(<span class="string">&quot;sys&quot;</span>);</span><br><span class="line">    py::<span class="built_in">print</span>(sys.<span class="built_in">attr</span>(<span class="string">&quot;path&quot;</span>));  <span class="comment">// ä¸ºäº†ç®€å•èµ·è§ï¼Œç°åœ¨çš„å·¥ä½œç›®å½•å·²ç»è¢«æ·»åŠ åˆ°äº†`sys.path`é‡Œé¢ã€‚</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* 1. åˆ›å»ºcalc.py</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *&quot;&quot;&quot;calc.py located in the working directory&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment">    *   def add(i, j):</span></span><br><span class="line"><span class="comment">    *       return i + j</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2. import calc module</span></span><br><span class="line">    py::module_ calc = py::module_::<span class="built_in">import</span>(<span class="string">&quot;calc&quot;</span>);</span><br><span class="line">    <span class="comment">// 3. call calc module&#x27;s method</span></span><br><span class="line">    py::object result = calc.<span class="built_in">attr</span>(<span class="string">&quot;add&quot;</span>)(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">    <span class="type">int</span> n = result.<span class="built_in">cast</span>&lt;<span class="type">int</span>&gt;();</span><br><span class="line">    std::cout&lt;&lt;<span class="string">&quot;n = &quot;</span>&lt;&lt;n&lt;&lt;std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="cython"><a class="markdownIt-Anchor" href="#cython"></a> Cython</h2><p>è¿™é‡Œå…ˆå¼ºè°ƒä¸€ç‚¹ï¼š<a href="https://www.52txr.cn/2023/CPytonCython.html">Cythonå’ŒCPythonæ˜¯å®Œå…¨ä¸åŒçš„ä¸¤ä¸ªä¸œè¥¿</a>ä»¥åŠè¿™ç¯‡<a href="https://www.cnblogs.com/traditional/p/13196509.html">æ–‡ç« </a>ã€‚<br />Cythonæ˜¯ä¸€é—¨ç»“åˆäº†Cå’ŒPythonçš„ç¼–ç¨‹è¯­è¨€(Cythonæ˜¯pythonçš„è¶…é›†)ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç»™å‡ºCythonå‡ ç§ä¸åŒçš„ä½œç”¨ï¼Œä½†æ˜¯æ— è®ºå¦‚ä½•ï¼Œåœ¨linuxä¸‹Cythonæœ€åéƒ½ä¼šç”Ÿæˆä¸€ä¸ª<code>.so</code>æ–‡ä»¶ã€‚</p><h3 id="åŠ å¿«pythoné€Ÿåº¦"><a class="markdownIt-Anchor" href="#åŠ å¿«pythoné€Ÿåº¦"></a> åŠ å¿«pythoné€Ÿåº¦</h3><p>æˆ‘ä»¬æœ‰ä¸€ä¸ªpythonå†™çš„æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œä½†æ˜¯è¿è¡Œé€Ÿåº¦å¤ªæ…¢ï¼Œå› ä¸ºCythonä¸­æœ‰Cè¯­è¨€çš„ç‰¹æ€§ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Cythonè¯­è¨€é‡å†™æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œç„¶åç¼–è¯‘ä¸ºåŠ¨æ€é“¾æ¥åº“ï¼Œç„¶ååœ¨pythonä»£ç ä¸­ä½¿ç”¨ã€‚<br />ä»£ç å¦‚ä¸‹ï¼š<br />1.æ–æ³¢é‚£å¥‘æ•°åˆ—åŸå§‹çš„pythonä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## fib.py</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fib</span>(<span class="params">n</span>):</span><br><span class="line">    a, b = <span class="number">0.0</span>, <span class="number">1.0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        a, b = a + b, a</span><br><span class="line">    <span class="keyword">return</span> a</span><br></pre></td></tr></table></figure><p>ç”¨Cythoné‡å†™çš„æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œæ–‡ä»¶åç¼€åä¸º<code>.pyx</code>:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## fib.pyx</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fib</span>(<span class="params"><span class="built_in">int</span> n</span>):</span><br><span class="line">    cdef <span class="built_in">int</span> i</span><br><span class="line">    cdef double a = <span class="number">0.0</span>, b = <span class="number">1.0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        a, b = a + b, a</span><br><span class="line">    <span class="keyword">return</span> a</span><br></pre></td></tr></table></figure><ol start="2"><li>ç¼–è¯‘<code>fib.pyx</code>æ–‡ä»¶ä¸ºåŠ¨æ€é“¾æ¥åº“<code>.so</code><br />è¿™é‡Œæœ‰ä¸¤ç§ç¼–è¯‘æ–¹å¼ï¼Œä¸€ç§æ˜¯ä½¿ç”¨<code>setup.py</code>è‡ªåŠ¨è¿›è¡Œç¼–è¯‘ï¼Œä¸€ç§æ˜¯æ‰‹åŠ¨è¿›è¡Œç¼–è¯‘ã€‚<ul><li>setup.pyæ–‡ä»¶</li></ul></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> distutils.core <span class="keyword">import</span> setup</span><br><span class="line"><span class="keyword">from</span> Cython.Build <span class="keyword">import</span> cythonize</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">setup(ext_modules = cythonize(<span class="string">&quot;fib.pyx&quot;</span>))</span><br></pre></td></tr></table></figure><pre><code>    ç„¶ååœ¨å‘½ä»¤è¡Œè¿è¡Œ`python setup.py build_ext --inplace` ä¾¿ä¼šåœ¨åŒçº§ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªä»¥`fib`å¼€å¤´çš„åŠ¨æ€é“¾æ¥åº“ä»¥åŠä¸€ä¸ª`fib.c`æ–‡ä»¶ï¼Œè¿™ä¸ª`fib.c`æ–‡ä»¶å°±æ˜¯`fib.pyx`å®Œå…¨è½¬ä¸º`c`ä»£ç åç»“æœã€‚    -   æ‰‹åŠ¨ç¼–è¯‘        -   ç¬¬ä¸€æ­¥ï¼šåœ¨å‘½ä»¤è¡Œè¿è¡Œ`cython fib.pyx`ï¼Œä¼šç”Ÿæˆ`fib.c`    -   ä½¿ç”¨gccå¯¹`fib.c`ç¼–è¯‘ç”ŸæˆåŠ¨æ€é“¾æ¥åº“ï¼š `gcc -fPIC -shared -I ~/miniconda3/include/python3.11/ fib.c -o fib.so`ã€‚æ³¨æ„è¿™é‡Œpython includeçš„è·¯å¾„éœ€è¦ä½ è‡ªå·±æ›´æ¢ä¸ºè‡ªå·±ç¯å¢ƒçš„è·¯å¾„ã€‚</code></pre><p>è¿™æ ·åœ¨ç¬¬2æ­¥ï¼Œæˆ‘ä»¬å°±ç”Ÿæˆäº†åŠ¨æ€é“¾æ¥åº“<code>.so</code>æ–‡ä»¶ã€‚</p><ol start="3"><li>åœ¨pythonä»£ç ä¸­ä½¿ç”¨è¿™ä¸ªåŠ¨æ€é“¾æ¥åº“</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> fib</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(fib.fib(<span class="number">100</span>))</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå°±æ˜¯Cythonå·¥ä½œçš„å¤§ä½“æµç¨‹ã€‚è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼šæˆ‘çš„ä»‹ç»åªæ˜¯ä¸€ç‚¹ç‚¹å…¥é—¨çŸ¥è¯†ï¼ŒCythonè¿˜æ˜¯å¾ˆåšå¤§ç²¾æ·±çš„ã€‚</p><h3 id="åœ¨cä¸­è°ƒç”¨pythonä»£ç "><a class="markdownIt-Anchor" href="#åœ¨cä¸­è°ƒç”¨pythonä»£ç "></a> åœ¨Cä¸­è°ƒç”¨pythonä»£ç </h3><p>ä¸Šé¢æˆ‘ä»¬å·²ç»è¯´è¿‡ï¼ŒCythonæ˜¯pythonçš„è¶…é›†ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªpythonè„šæœ¬æˆ–è€…æ¨¡å—ï¼Œæƒ³è¦åœ¨Cè¯­è¨€ç¯å¢ƒä¸­è°ƒç”¨å®ƒï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨cythonå¯¹è¿™ä¸ª<code>py</code>æ–‡ä»¶è¿›è¡Œç¼–è¯‘ç”ŸæˆåŠ¨æ€é“¾æ¥åº“ï¼Œç„¶ååœ¨Cè¯­è¨€ä¸­è°ƒç”¨å®ƒå³å¯ã€‚</p><blockquote><p>æ³¨ï¼šè¿™ä¸€ç§æ–¹å¼åšä¸»æ²¡æœ‰äº²è‡ªæµ‹è¯•è¿‡</p></blockquote><h2 id="è°ƒç”¨pythonçš„åŸç”Ÿc-api"><a class="markdownIt-Anchor" href="#è°ƒç”¨pythonçš„åŸç”Ÿc-api"></a> è°ƒç”¨Pythonçš„åŸç”ŸC API</h2><p>è¿™æ˜¯æœ€æš´åŠ›çš„ä¸€ç§æ–¹æ³•ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œpythonè¿™ä¸ªè¯­è¨€ä¹Ÿæœ‰Cçš„APIï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨Cè¯­è¨€ä»£ç ä¸­ä½¿ç”¨è¿™äº›APIæ¥è°ƒç”¨pythonæ¨¡å—ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ã€‚</p><ol><li>æˆ‘ä»¬æ‹¥æœ‰çš„<code>my_modules.py</code>æ–‡ä»¶</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># # my_modules.py</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="built_in">print</span>(a + b)</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">helloworld</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello &quot;</span> + s)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, a, b</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        self.first = a</span><br><span class="line">        self.second = b</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(self.first+self.second)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello world&quot;</span></span><br></pre></td></tr></table></figure><pre><code>å¯ä»¥çœ‹åˆ°ï¼Œæœ‰ä¸¤ä¸ªå‡½æ•°(ä¸€ä¸ªåšæ±‚å’Œï¼Œä¸€ä¸ªè¾“å‡º&quot;hello world&quot;)å’Œä¸€ä¸ªç±»ã€‚</code></pre><ol start="2"><li>æ„å»ºC++çš„ç¯å¢ƒ<br />æˆ‘æ˜¯ä½¿ç”¨cmakeè¿›è¡Œç¼–è¯‘ç¨‹åºçš„ï¼Œæ‰€ä»¥è¦é…ç½®å¥½CMakeLists.txtï¼Œé…ç½®å¦‚ä¸‹ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">cmake_minimum_required(VERSION 3.16)</span><br><span class="line">project(CallPython)</span><br><span class="line"></span><br><span class="line">find_package (Python COMPONENTS Interpreter Development)  <span class="comment"># æ‰¾åˆ°pythonè§£é‡Šå™¨</span></span><br><span class="line">message(STATUS <span class="string">&quot;Python_VERSION: <span class="variable">$&#123;Python_INCLUDE_DIRS&#125;</span>&quot;</span>)</span><br><span class="line">message(STATUS <span class="string">&quot;python_LIBRARIES: <span class="variable">$&#123;Python_LIBRARIES&#125;</span>&quot;</span>)</span><br><span class="line"><span class="comment"># message(STATUS &quot;python_Interpreter: $&#123;ython_LIBRARIES&#125;&quot;)</span></span><br><span class="line"><span class="comment"># message(STATUS &quot;python_LIBRARIES: $&#123;ython_LIBRARIES&#125;&quot;)</span></span><br><span class="line">include_directories(</span><br><span class="line">    <span class="variable">$&#123;Python_INCLUDE_DIRS&#125;</span> </span><br><span class="line">    )</span><br><span class="line"><span class="comment"># ç”Ÿæˆç›®æ ‡æ–‡ä»¶</span></span><br><span class="line">add_executable(call_python call_python.cpp)</span><br><span class="line"><span class="comment"># é“¾æ¥åº“</span></span><br><span class="line">target_link_libraries(call_python <span class="variable">$&#123;Python_LIBRARIES&#125;</span>)</span><br></pre></td></tr></table></figure><ol start="3"><li>åˆ›å»º<code>call_python.cpp</code>æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Python.h&gt;</span>  <span class="comment">// å¿…é¡»è¦æœ‰è¿™ä¸ªå¤´æ–‡ä»¶ï¼Œåœ¨cmakeä¸­è¿›è¡Œé…ç½®ä¹Ÿæ˜¯ä¸ºäº†æ‰¾åˆ°è¿™ä¸ªå¤´æ–‡ä»¶</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span>** argv)</span></span>&#123;</span><br><span class="line">    <span class="comment">// è¿è¡ŒPythonè§£é‡Šå™¨</span></span><br><span class="line">    <span class="built_in">Py_Initialize</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ·»åŠ .pyçš„è·¯å¾„</span></span><br><span class="line">    <span class="built_in">PyRun_SimpleString</span>(<span class="string">&quot;import sys&quot;</span>);</span><br><span class="line">    <span class="built_in">PyRun_SimpleString</span>(<span class="string">&quot;sys.path.append(&#x27;/home/wjq/workspace/test1&#x27;)&quot;</span>); <span class="comment">// pyæ–‡ä»¶çš„çˆ¶ç›®å½•</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**************************</span></span><br><span class="line"><span class="comment">    ********* addå‡½æ•° **********</span></span><br><span class="line"><span class="comment">    **************************/</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¯¼å…¥æ¨¡å—</span></span><br><span class="line">    PyObject* pModule = <span class="built_in">PyImport_ImportModule</span>(<span class="string">&quot;my_modules&quot;</span>); </span><br><span class="line">    <span class="comment">// å¯¼å…¥è¦è¿è¡Œçš„å‡½æ•°</span></span><br><span class="line">    PyObject* pFunc = <span class="built_in">PyObject_GetAttrString</span>(pModule, <span class="string">&quot;add&quot;</span>);</span><br><span class="line">    <span class="comment">// æ„é€ ä¼ å…¥å‚æ•°    </span></span><br><span class="line">    PyObject* args = <span class="built_in">PyTuple_New</span>(<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">PyTuple_SetItem</span>(args, <span class="number">0</span>, <span class="built_in">Py_BuildValue</span>(<span class="string">&quot;i&quot;</span>, <span class="number">1</span>));</span><br><span class="line">    <span class="built_in">PyTuple_SetItem</span>(args, <span class="number">1</span>, <span class="built_in">Py_BuildValue</span>(<span class="string">&quot;i&quot;</span>, <span class="number">10</span>));</span><br><span class="line">    <span class="comment">// è¿è¡Œå‡½æ•°ï¼Œå¹¶è·å–è¿”å›å€¼</span></span><br><span class="line">    PyObject* pRet = <span class="built_in">PyObject_CallObject</span>(pFunc, args); </span><br><span class="line">    <span class="keyword">if</span> (pRet)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">long</span> result = <span class="built_in">PyLong_AsLong</span>(pRet); <span class="comment">// å°†è¿”å›å€¼è½¬æ¢æˆlongå‹  </span></span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;result:&quot;</span> &lt;&lt; result &lt;&lt; std::endl ;</span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="comment">/**************************</span></span><br><span class="line"><span class="comment">    ****** helloworldå‡½æ•° *****</span></span><br><span class="line"><span class="comment">    **************************/</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// å¯¼å…¥å‡½æ•°</span></span><br><span class="line">    pFunc = <span class="built_in">PyObject_GetAttrString</span>(pModule, <span class="string">&quot;helloworld&quot;</span>);</span><br><span class="line">    <span class="comment">// æ„é€ ä¼ å…¥å‚æ•°</span></span><br><span class="line">    PyObject* str = <span class="built_in">Py_BuildValue</span>(<span class="string">&quot;(s)&quot;</span>, <span class="string">&quot;python&quot;</span>);</span><br><span class="line">    <span class="comment">// æ‰§è¡Œå‡½æ•°</span></span><br><span class="line">    <span class="built_in">PyObject_CallObject</span>(pFunc, str);    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**************************</span></span><br><span class="line"><span class="comment">     * ******class Aæµ‹è¯•*****</span></span><br><span class="line"><span class="comment">    **************************/</span></span><br><span class="line">   PyObject* pDict = <span class="built_in">PyModule_GetDict</span>(pModule);</span><br><span class="line">    <span class="comment">// ç±»</span></span><br><span class="line">    PyObject* pClassA = <span class="built_in">PyDict_GetItemString</span>(pDict, <span class="string">&quot;A&quot;</span>);</span><br><span class="line">    <span class="comment">// ç±»çš„æ„é€ å¯¹è±¡</span></span><br><span class="line">    PyObject* pConstruct = <span class="built_in">PyInstanceMethod_New</span>(pClassA);</span><br><span class="line">    <span class="comment">// ç±»çš„å¯¹è±¡</span></span><br><span class="line">    PyObject * pInsA = <span class="built_in">PyObject_CallObject</span>(pConstruct, args);</span><br><span class="line">    <span class="comment">// è°ƒç”¨ç±»çš„æ–¹æ³•</span></span><br><span class="line">    PyObject* result = <span class="built_in">PyObject_CallMethod</span>(pInsA, <span class="string">&quot;add&quot;</span>, <span class="literal">nullptr</span>);</span><br><span class="line">    <span class="comment">// å¯¹ç»“æœè¿›è¡Œè§£è¯»</span></span><br><span class="line">    <span class="keyword">if</span>(result != <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        <span class="type">char</span> * str_result;</span><br><span class="line">        <span class="built_in">PyArg_Parse</span>(result, <span class="string">&quot;s&quot;</span>, &amp;str_result);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Result: %s\n&quot;</span>, str_result);  </span><br><span class="line">        <span class="built_in">Py_DECREF</span>(result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»ˆæ­¢Pythonè§£é‡Šå™¨</span></span><br><span class="line">    <span class="built_in">Py_Finalize</span>();  </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">11</span><br><span class="line">result:11</span><br><span class="line">hello python</span><br><span class="line">11</span><br><span class="line">Result: hello world</span><br></pre></td></tr></table></figure><p>Pythonçš„C APIæœ‰å¾ˆå¤šï¼Œè¿™é‡Œæˆ‘ä»¬åªæ˜¯ç”¨äº†å‡ ä¸ªï¼Œå…³äºæ›´å¤šçš„APIï¼Œè¯·å‚è€ƒ<a href="https://docs.python.org/zh-cn/3/c-api/index.html">å®˜ç½‘</a>ã€‚</p><h2 id="å‚è€ƒé“¾æ¥"><a class="markdownIt-Anchor" href="#å‚è€ƒé“¾æ¥"></a> å‚è€ƒé“¾æ¥</h2><ol><li><a href="https://www.52txr.cn/2023/CPytonCython.html">https://www.52txr.cn/2023/CPytonCython.html</a></li><li><a href="https://www.cnblogs.com/traditional/p/13196509.html">https://www.cnblogs.com/traditional/p/13196509.html</a></li><li><a href="https://chend0316.github.io/backend/cython/#%E7%AC%AC1%E7%AB%A0-cython%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8">https://chend0316.github.io/backend/cython/#ç¬¬1ç« -cythonçš„å®‰è£…å’Œä½¿ç”¨</a></li><li><a href="https://blog.csdn.net/u011722929/article/details/114871365">https://blog.csdn.net/u011722929/article/details/114871365</a></li><li><a href="https://www.hbblog.cn/python%26C%2B%2B/python%E5%92%8CC%E7%9A%84%E4%BA%A4%E4%BA%92/#31-pythonapi">https://www.hbblog.cn/python%26C%2B%2B/pythonå’ŒCçš„äº¤äº’/#31-pythonapi</a></li><li><a href="https://zhuanlan.zhihu.com/p/79896193">https://zhuanlan.zhihu.com/p/79896193</a></li><li><a href="https://blog.csdn.net/qq%5C_42688495/article/details/120563844">https://blog.csdn.net/qq\_42688495/article/details/120563844</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AIå›¾åƒå’Œè§†é¢‘æ¢è„¸å¤§å¸ˆFacefusionè¯¦è§£æ•™ç¨‹</title>
      <link href="/2025/07/22/Other/AI%E5%9B%BE%E5%83%8F%E5%92%8C%E8%A7%86%E9%A2%91%E6%8D%A2%E8%84%B8%E5%A4%A7%E5%B8%88Facefusion%E8%AF%A6%E8%A7%A3%E6%95%99%E7%A8%8B/"/>
      <url>/2025/07/22/Other/AI%E5%9B%BE%E5%83%8F%E5%92%8C%E8%A7%86%E9%A2%91%E6%8D%A2%E8%84%B8%E5%A4%A7%E5%B8%88Facefusion%E8%AF%A6%E8%A7%A3%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p><strong>Facefusionæ˜¯ä¸€æ¬¾é¦–å±ˆä¸€æŒ‡çš„AIæ¢è„¸å·¥å…·ï¼Œå¯ä»¥å¯¹å›¾åƒæ¢è„¸ï¼Œä¹Ÿå¯ä»¥å¯¹è§†é¢‘æ¢è„¸ã€‚æœ¬æ•™ç¨‹å°†è¯¦ç»†è®²è§£Facefusionä¸­å„ä¸ªå‚æ•°çš„ç”¨æ³•ã€‚</strong></p><p>æˆªæ­¢ç›®å‰ï¼ˆ2025å¹´6æœˆ7æ—¥ï¼‰ï¼Œå®˜æ–¹æ¨å‡ºçš„Facefusionæœ€æ–°ç‰ˆæœ¬å·æ˜¯3.3.0ï¼Œç½‘ä¸Šæœ‰ç½‘å‹è‡ªè¡Œæ”¹å˜ç‰ˆæœ¬å·å‘å¸ƒï¼Œå‡ºç°äº†4.0ç”šè‡³å…¶ä»–çš„ç‰ˆæœ¬ï¼Œéƒ½ä¸æ˜¯å®˜æ–¹ç‰ˆæœ¬å·ï¼Œä¸‹é¢æˆ‘ç”¨çš„æ˜¯å®˜æ–¹æ ‡å‡†ç‰ˆ3.2çš„ä¸€é”®æ•´åˆåŒ…ï¼ŒæŒ‰é’®é¢œè‰²æ˜¾ç¤ºä¸ºçº¢è‰²ã€‚å¦‚æœä½ ä½¿ç”¨çš„Facefusionçš„æŒ‰é’®æ˜¯ç´«è‰²æˆ–ç»¿è‰²ç­‰ï¼Œéƒ½æ˜¯è¢«ç½‘å‹æ”¹è¿‡åçš„ç‰ˆæœ¬ï¼Œè¿™äº›æ”¹è¿›åçš„ç‰ˆæœ¬é‡Œé¢é€šå¸¸æ·»åŠ äº†ä¸€äº›é¢å¤–çš„ä¿¡æ¯å’Œå·ç ï¼Œå¤§å®¶åœ¨ä½¿ç”¨æ—¶è¦æ³¨æ„åˆ†è¾¨ã€‚</p><h2 id="ä¸€-ä¸€é”®æ•´åˆåŒ…çš„ä½¿ç”¨æ–¹æ³•"><a class="markdownIt-Anchor" href="#ä¸€-ä¸€é”®æ•´åˆåŒ…çš„ä½¿ç”¨æ–¹æ³•"></a> <strong>ä¸€ã€ä¸€é”®æ•´åˆåŒ…çš„ä½¿ç”¨æ–¹æ³•</strong></h2><p>ä¸‹è½½ä¸‹æ¥çš„Facefusionæ•´åˆåŒ…è¦è§£å‹åˆ°æ²¡æœ‰ä»»ä½•ä¸­æ–‡çš„ç›®å½•ä¸‹è¿è¡Œï¼Œå»ºè®®Nå¡æ˜¾å­˜6Gä»¥ä¸Šï¼Œæ˜¾å­˜è¶Šå¤§è¶Šå¥½ï¼Œå¦‚æœæ˜¾å­˜ä½ï¼Œåˆ™å¯ä»¥ä½¿ç”¨CPUè¿è¡Œï¼Œåªæ˜¯å‡ºå›¾å¾ˆæ…¢ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒFacefusionå¯ä»¥åœ¨ç»å¤§å¤šæ•°ç”µè„‘ä¸Šè¿è¡Œï¼Œæ— è®ºæ˜¾å¡ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šå¯¼å…¥åˆ°Facefusionçš„å›¾åƒã€éŸ³é¢‘ã€è§†é¢‘æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ä½ç½®ä»¥åŠæ–‡ä»¶åç§°æœ€å¥½ä¹Ÿå…¨éƒ½æ˜¯å­—æ¯æ„æˆï¼Œä½¿ç”¨ä¸­æ–‡å¯èƒ½å¸¦æ¥ä¸ç¨³å®šã€‚</p><h2 id="äºŒ-å¯åŠ¨ç•Œé¢"><a class="markdownIt-Anchor" href="#äºŒ-å¯åŠ¨ç•Œé¢"></a> <strong>äºŒã€å¯åŠ¨ç•Œé¢</strong></h2><p>å¯åŠ¨åçš„Facefusionç•Œé¢å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="8b7351a0a81f6087b8bd18ddc905ca551182660461.jpg@1192w.webp" alt="" /></p><h2 id="ä¸‰-æ‰§è¡Œæ¨¡å¼å‚æ•°"><a class="markdownIt-Anchor" href="#ä¸‰-æ‰§è¡Œæ¨¡å¼å‚æ•°"></a> <strong>ä¸‰ã€æ‰§è¡Œæ¨¡å¼å‚æ•°</strong></h2><p>æ‰§è¡Œæ¨¡å¼å‚æ•°å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="73222e31ce1469aa8aa19f280e98b6601182660461.png@634w_654h.webp" alt="" /></p><h2 id="è¿™äº›æ‰§è¡Œæ¨¡å¼å…±åŒ…å«10ä¸ªæˆ‘é¦–å…ˆæŠŠæ¯ä¸ªæ‰§è¡Œæ¨¡å¼çš„ä½œç”¨å¤§ä½“æ¦‚è¿°ä¸€ä¸‹ç„¶åå†è¯¦ç»†è¯´æ˜"><a class="markdownIt-Anchor" href="#è¿™äº›æ‰§è¡Œæ¨¡å¼å…±åŒ…å«10ä¸ªæˆ‘é¦–å…ˆæŠŠæ¯ä¸ªæ‰§è¡Œæ¨¡å¼çš„ä½œç”¨å¤§ä½“æ¦‚è¿°ä¸€ä¸‹ç„¶åå†è¯¦ç»†è¯´æ˜"></a> <strong>è¿™äº›æ‰§è¡Œæ¨¡å¼å…±åŒ…å«10ä¸ªï¼Œæˆ‘é¦–å…ˆæŠŠæ¯ä¸ªæ‰§è¡Œæ¨¡å¼çš„ä½œç”¨å¤§ä½“æ¦‚è¿°ä¸€ä¸‹ï¼Œç„¶åå†è¯¦ç»†è¯´æ˜ã€‚</strong></h2><p>ï¼ˆ1ï¼‰face_swapperï¼ˆæ¢è„¸å™¨ï¼‰ï¼šæ ¸å¿ƒæ¢è„¸åŠŸèƒ½ï¼Œèƒ½æŠŠä¸€ä¸ªäººçš„è„¸éƒ¨ç‰¹å¾æ›¿æ¢åˆ°å¦ä¸€ä¸ªäººé¢éƒ¨ ã€‚æ¯”å¦‚åˆ¶ä½œåˆ›æ„è§†é¢‘ï¼Œå°†æ¼”å‘˜ A çš„è„¸æ›¿æ¢åˆ°æ¼”å‘˜ B è¡¨æ¼”ç”»é¢é‡Œï¼Œå®ç° â€œæ¢è„¸æ¼”å‡ºâ€ ã€‚</p><p>ï¼ˆ2ï¼‰face_enhancerï¼ˆè„¸éƒ¨å¢å¼ºå™¨ ï¼‰ï¼šæå‡è½¬æ¢åè§†é¢‘ä¸­äººç‰©é¢éƒ¨æ¸…æ™°åº¦ï¼Œè®©é¢éƒ¨ç»†èŠ‚æ›´çªå‡ºã€‚å¤„ç†ä½ç”»è´¨ç´ ææ¢è„¸æ—¶ï¼Œå¼€å¯å®ƒå¯è®©æ¢è„¸åçš„è„¸æ›´æ¸…æ™°ã€çœŸå® ã€‚</p><p>ï¼ˆ3ï¼‰deep_swapperï¼ˆæ·±åº¦æ¢è„¸å™¨ ï¼‰ï¼šå¯èƒ½æ˜¯æ›´æ·±åº¦ã€ç²¾ç»†çš„æ¢è„¸æ¨¡å¼ï¼Œåœ¨å¤æ‚åœºæ™¯ï¼ˆå¦‚å¤šäººæ¢è„¸ã€é«˜åˆ†è¾¨ç‡ç”»é¢ï¼‰ä¸‹ï¼Œæå‡æ¢è„¸ç²¾å‡†åº¦ä¸è‡ªç„¶åº¦ï¼Œè®©æ¢è„¸æ•ˆæœæ›´é€¼çœŸ ã€‚</p><p>ï¼ˆ4ï¼‰age_modifierï¼ˆå¹´é¾„ä¿®æ”¹å™¨ ï¼‰ï¼šç”¨äºè°ƒæ•´é¢éƒ¨å‘ˆç°çš„å¹´é¾„ï¼Œå¯è®©è„¸å˜å¹´è½»æˆ–å˜è€ã€‚æ¯”å¦‚æŠŠå¹´è½»äººçš„è„¸æ¨¡æ‹Ÿå‡ºè€å¹´çŠ¶æ€ï¼Œç”¨äºå½±è§†è§’è‰²å¹´é¾„è·¨åº¦è¡¨ç° ã€‚</p><p>ï¼ˆ5ï¼‰face_debuggerï¼ˆäººè„¸è°ƒè¯•å™¨ï¼‰ï¼šå¼€å¯é®ç½©å¤„ç†æ—¶çš„è°ƒè¯•æ¨¡å¼ï¼Œæ–¹ä¾¿æŸ¥çœ‹é¢„è§ˆåŒºåŸŸçº¢çº¿ã€ç‚¹ç­‰ï¼Œè¾…åŠ©ç²¾å‡†è°ƒæ•´æ¢è„¸åŒºåŸŸã€‚åƒå¤„ç†æœ‰é®æŒ¡ï¼ˆå¦‚å¤´å‘é®è„¸ï¼‰çš„æ¢è„¸åœºæ™¯ï¼Œå¯å€Ÿå®ƒè°ƒè¯•é®ç½©èŒƒå›´ï¼Œç¡®ä¿æ¢è„¸è´´åˆ ã€‚</p><p>ï¼ˆ6ï¼‰expression_restorerï¼ˆè¡¨æƒ…æ¢å¤å™¨ ï¼‰ï¼šå¯æ¢å¤ã€è°ƒæ•´é¢éƒ¨è¡¨æƒ…ï¼Œè®©æ¢è„¸åçš„è¡¨æƒ…æ›´è‡ªç„¶ã€‚æ¯”å¦‚åŸè§†é¢‘äººç‰©è¡¨æƒ…åƒµç¡¬ï¼Œç”¨å®ƒä¼˜åŒ–ï¼Œä½¿æ¢è„¸åè¡¨æƒ…ç”ŸåŠ¨ï¼Œåƒè®©é¢æ— è¡¨æƒ…çš„è„¸å‘ˆç°å¾®ç¬‘è¡¨æƒ… ã€‚</p><p>ï¼ˆ7ï¼‰face_editorï¼ˆäººè„¸ç¼–è¾‘å™¨ ï¼‰ï¼šå¯¹è„¸éƒ¨äº”å®˜è¿›è¡Œç»†è‡´è°ƒæ•´ï¼Œæ¯”å¦‚æ”¾å¤§çœ¼ç›ã€è°ƒæ•´çœ‰æ¯›å½¢çŠ¶ç­‰ã€‚ä¾‹å¦‚æƒ³åˆ¶ä½œå¡é€šé£æ ¼æ¢è„¸ï¼Œç”¨å®ƒæŠŠäººè„¸äº”å®˜æ”¹æˆå¡é€šåŒ–æ¯”ä¾‹ ã€‚</p><p>ï¼ˆ8ï¼‰frame_colorizerï¼ˆå¸§ç€è‰²å™¨ ï¼‰ï¼šèƒ½ä¸ºç…§ç‰‡ã€è§†é¢‘ä¸Šè‰²ï¼Œç»™é»‘ç™½ç´ ææˆ–æƒ³æ”¹å˜è‰²è°ƒçš„å†…å®¹é‡æ–°ç€è‰²ã€‚æ¯”å¦‚ç»™è€ç”µå½±é»‘ç™½ç‰‡æ®µæ¢è„¸åï¼Œç”¨å®ƒä¸Šè‰²æˆå½©è‰²ï¼Œè¿˜åŸå¤å¤è‰²å½©é£æ ¼ ã€‚</p><p>ï¼ˆ9ï¼‰frame_enhancerï¼ˆå¸§å¢å¼ºå™¨ ï¼‰ï¼šæå‡è½¬æ¢åè§†é¢‘æ•´ä½“æ¸…æ™°åº¦ï¼Œä¼˜åŒ–ç”»é¢è´¨é‡ã€‚æ¢è„¸åçš„è§†é¢‘ç”»é¢æ¨¡ç³Šï¼Œå¼€å¯å®ƒå¯è®©æ•´ä¸ªè§†é¢‘ç”»é¢æ›´æ¸…æ™°é”åˆ© ã€‚</p><p>ï¼ˆ10ï¼‰lip_syncerï¼ˆå˜´å”‡åŒæ­¥å™¨ ï¼‰ï¼šç”¨éŸ³é¢‘é©±åŠ¨è§†é¢‘ä¸­äººç‰©å˜´å‹ï¼Œè®©å˜´å‹ä¸éŸ³é¢‘åŒ¹é…ã€‚æ¯”å¦‚ç»™æ¢è„¸åçš„äººç‰©é…éŸ³ï¼Œå¼€å¯å®ƒå¯è®©äººç‰©å˜´å‹éšé…éŸ³è‡ªç„¶å˜åŠ¨ï¼Œåƒåˆ¶ä½œè™šæ‹Ÿä¸»æ’­è¯´è¯è§†é¢‘ ã€‚</p><p><img src="4adb9255ada5b97061e610b682b8636764fe50ed.png" alt="cut-off" /></p><h2 id="1face_swapper"><a class="markdownIt-Anchor" href="#1face_swapper"></a> <strong>ï¼ˆ1ï¼‰Face_swapper</strong></h2><p>æ¢è„¸å™¨ï¼Œè¿™æ˜¯æ¢è„¸å¿…é¡»è¦é€‰æ‹©çš„é€‰é¡¹ï¼Œå³ä¾§æºæ–‡ä»¶æ·»åŠ æ¢è„¸å›¾åƒï¼Œä¸‹é¢ç›®æ ‡æ–‡ä»¶æ·»åŠ è¢«æ¢è„¸çš„å›¾åƒï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæºæ–‡ä»¶çš„è„¸æ¢åˆ°ç›®æ ‡æ–‡ä»¶çš„è„¸ä¸Šï¼Œå½“æ·»åŠ æºæ–‡ä»¶å›¾åƒå’Œç›®æ ‡æ–‡ä»¶å›¾åƒåï¼Œç¨‹åºä¼šè‡ªåŠ¨å®Œæˆæ¢è„¸ï¼Œä½†æ˜¯ï¼Œæ­¤æ—¶ä½ ä¼šå‘ç°ï¼Œæ¢è„¸åï¼Œè„¸éƒ¨ä¸æ¸…æ¥šã€‚å¦‚ä½•è®©æ¢è„¸åçš„å›¾åƒæ›´æ¸…æ¥šï¼Œä½ æ¥ç€å¾€ä¸‹çœ‹å°±è¡Œã€‚</p><p><img src="9dfb9b6a5939f67b0c2067accc8d298c1182660461.jpg@1192w.webp" alt="" /></p><p>é€‰æ‹©æ¢è„¸é€‰é¡¹åï¼Œä¸‹é¢è¿˜æœ‰ä¸¤ä¸ªæ¢è„¸å‚æ•°ï¼Œä¸€ä¸ªæ˜¯æ¢è„¸æ¨¡å‹ï¼Œä¸€ä¸ªæ˜¯æ¢è„¸åƒç´ åˆ†è¾¨ç‡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="8bd16f6f02ba18a7a6df783ab1b7bc681182660461.jpg@702w_1000h.webp" alt="" /></p><p>æ¢è„¸æ¨¡å‹åŒ…å«10ä¸ªï¼Œé»˜è®¤ä½¿ç”¨inswapper_128_fp16ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ</p><p><img src="46fc3bbbd74f318c2b7f1da948f4dd551182660461.jpg@620w_852h.webp" alt="" /></p><p>ä»¥ä¸‹æ˜¯FaceFusionä¸­è¿™åä¸ªæ¢è„¸æ¨¡å‹çš„ç”¨é€”ç®€è¦è¯´æ˜ï¼š</p><p>a. blendswap_256ï¼šé‡‡ç”¨èåˆäº¤æ¢ç®—æ³•ï¼Œä»¥256Ã—256åˆ†è¾¨ç‡å¤„ç†ï¼Œåœ¨èåˆé¢éƒ¨ç‰¹å¾æ—¶æ³¨é‡è‡ªç„¶è¿‡æ¸¡ï¼Œé€‚åˆè¿½æ±‚æŸ”å’Œæ¢è„¸æ•ˆæœçš„åœºæ™¯ï¼Œåƒæ—¥å¸¸åˆ›æ„çŸ­è§†é¢‘æ¢è„¸ï¼Œè®©æ¢è„¸åçš„é¢éƒ¨ä¸åŸç”»é¢èåˆæ›´å’Œè° ã€‚</p><p>b. ghost_1_256ã€ghost_2_256ã€ghost_3_256ï¼šå±äºGHOSTç³»åˆ—æ¨¡å‹ï¼Œ256Ã—256åˆ†è¾¨ç‡ï¼Œåœ¨è‚¤è‰²åŒ¹é…ã€å…‰å½±å¤„ç†ä¸Šè¡¨ç°å¥½ï¼Œèƒ½è®©æ¢è„¸æ•ˆæœæ›´é€¼çœŸï¼Œåœ¨å½±è§†åˆ¶ä½œã€åˆ›æ„è®¾è®¡ç­‰ä¸“ä¸šé¢†åŸŸï¼Œç”¨äºå¤æ‚åœºæ™¯æ¢è„¸ï¼Œæå‡è§†è§‰çœŸå®æ€§ ã€‚</p><p>c. hififace_unofficial_256ï¼š256Ã—256åˆ†è¾¨ç‡ï¼Œå¼ºè°ƒæ¢è„¸çš„é«˜æ¸…è´¨æ„Ÿï¼Œåœ¨å¤„ç†ä¸€äº›å¯¹è„¸éƒ¨ç»†èŠ‚è¦æ±‚é«˜çš„å†…å®¹ï¼Œæ¯”å¦‚ç²¾è‡´è‚–åƒæ¢è„¸æ—¶ï¼Œèƒ½è¾ƒå¥½ä¿ç•™é¢éƒ¨çº¹ç†ã€æ¯›å­”ç­‰ç»†èŠ‚ï¼Œè®©æ¢è„¸æ›´ç»†è…» ã€‚</p><p>d. inswapper_128ï¼šä»¥128Ã—128åˆ†è¾¨ç‡è¿è¡Œï¼Œè®¡ç®—é‡ç›¸å¯¹å°ã€å¤„ç†é€Ÿåº¦å¿«ï¼Œé€‚åˆå¯¹ç”»è´¨è¦æ±‚ä¸æè‡´ï¼Œè¿½æ±‚é«˜æ•ˆå¤„ç†çš„åœºæ™¯ï¼Œåƒç®€å•çš„ç¤¾äº¤å¨±ä¹æ¢è„¸ï¼Œå¿«é€Ÿå‡ºæ•ˆæœ ã€‚</p><p>e. inswapper_128_fp16ï¼šåŸºäºinswapper_128ï¼Œç”¨16ä½æµ®ç‚¹æ•°è®¡ç®—ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–é€Ÿåº¦ï¼Œå‡å°‘èµ„æºå ç”¨ï¼Œåœ¨å®æ—¶æ€§è¦æ±‚é«˜çš„åœºæ™¯ï¼Œå¦‚ç›´æ’­æ¢è„¸é¢„è§ˆï¼Œèƒ½è®©æ¢è„¸è¿‡ç¨‹æ›´æµç•…ï¼Œæ˜¯å¸¸ç”¨çš„é«˜æ•ˆæ¨¡å‹ ã€‚</p><p>f. simswap_256ï¼š256Ã—256åˆ†è¾¨ç‡ï¼Œè¿ç”¨ç›¸ä¼¼æ€§äº¤æ¢ç®—æ³•ï¼Œåœ¨ä¿æŒåŸé¢éƒ¨åŠ¨ä½œã€è¡¨æƒ…ç›¸ä¼¼æ€§ä¸Šæœ‰ä¼˜åŠ¿ï¼Œé€‚åˆå¤„ç†åŠ¨æ€è§†é¢‘æ¢è„¸ï¼Œè®©æ¢è„¸åçš„äººç‰©è¡¨æƒ…ã€åŠ¨ä½œä¸åŸè§†é¢‘é€‚é…åº¦æ›´é«˜ ã€‚</p><p>g. simswap_unofficial_512ï¼š512Ã—512é«˜åˆ†è¾¨ç‡ï¼Œåœ¨simswapåŸºç¡€ä¸Šæå‡ç”»è´¨ï¼Œèƒ½å¤„ç†å¯¹æ¸…æ™°åº¦è¦æ±‚é«˜çš„å†…å®¹ï¼Œæ¯”å¦‚ä¸“ä¸šå½±è§†ç‰‡æ®µæ¢è„¸ï¼Œè®©é¢éƒ¨ç»†èŠ‚æ›´ä¸°å¯Œï¼Œæ¢è„¸æ•ˆæœæ›´é€¼çœŸ ã€‚</p><p>h. uniface_256ï¼š256Ã—256åˆ†è¾¨ç‡ï¼Œæ³¨é‡é¢éƒ¨ç»Ÿä¸€èåˆæ•ˆæœï¼Œåœ¨å¤šäººè„¸æ¢è„¸æˆ–é¢éƒ¨ç‰¹å¾å·®å¼‚å¤§çš„æ¢è„¸åœºæ™¯ä¸­ï¼Œèƒ½æ›´å¥½åè°ƒé¢éƒ¨ä¸æ•´ä½“ç”»é¢çš„èåˆï¼Œè®©æ¢è„¸åçš„ç”»é¢æ›´è‡ªç„¶ç»Ÿä¸€ ã€‚</p><p>ä»¥ä¸Šæ¨¡å‹å¦‚æ— ç‰¹æ®Šæƒ…å†µï¼Œä½¿ç”¨æ¨¡å‹æ¨¡å‹å³å¯ã€‚</p><p><img src="71bf2cd56882a2e97f8b3477c9256f8b09f361d3.png" alt="cut-off" /></p><p>æ¢è„¸åƒç´ åˆ†è¾¨ç‡ï¼šåŒ…å«å…­ç§åˆ†è¾¨ç‡ï¼Œåˆ†è¾¨ç‡è¶Šé«˜ï¼Œè„¸éƒ¨ä¿ç•™çš„ç»†èŠ‚è¶Šå¤šï¼Œä½†æ¢è„¸æ—¶é—´ä¹Ÿå°±è¶Šé•¿ã€‚</p><p><img src="cdf7f58beed05be83dc2d4b2e5700fb21182660461.jpg@684w_520h.webp" alt="" /></p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºæ˜¯é‡‡ç”¨128Ã—128åˆ†è¾¨ç‡æ¢è„¸æ•ˆæœã€‚</p><p><img src="364eac6645efadc3578c2778f36591891182660461.jpg@1192w.webp" alt="" /></p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºæ˜¯é‡‡ç”¨512Ã—512åˆ†è¾¨ç‡æ¢è„¸æ•ˆæœã€‚</p><p><img src="7c390990a1ad976a93f757d8749e6dab1182660461.jpg@1192w.webp" alt="" /></p><h2 id="2face_enhancer"><a class="markdownIt-Anchor" href="#2face_enhancer"></a> <strong>ï¼ˆ2ï¼‰Face_enhancer</strong></h2><p>è„¸éƒ¨å¢å¼ºå™¨ï¼Œå‰é¢è¯´è¿‡ï¼Œé»˜è®¤çŠ¶æ€ä¸‹ï¼Œæ¢è„¸åçš„å›¾åƒä¸€èˆ¬å¾ˆä¸æ¸…æ¥šï¼Œè§£å†³æ–¹æ³•æ¥äº†ï¼Œé€‰æ‹©è¯¥é€‰é¡¹å°±å¯ä»¥è®©æ¢è„¸åçš„å›¾åƒæ›´æ¸…æ¥šäº†ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="a416ebeb8b7a32612072464a6b0db1a81182660461.jpg@1192w.webp" alt="" /></p><p>é€‰æ‹©äººè„¸å¢å¼ºåï¼Œä¼šæ˜¾ç¤ºä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯äººè„¸å¢å¼ºæ¨¡å‹ï¼Œä¸€ä¸ªæ˜¯äººè„¸å¢å¼ºæ··åˆï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="373323f8bce24a6af4a4ca32813d4e781182660461.jpg@922w_896h.webp" alt="" /></p><p>äººè„¸å¢å¼ºæ¨¡å‹ï¼šè¿™é‡Œæä¾›äº†9ä¸ªå¢å¼ºæ¨¡å‹ï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯gfpgan_1.4ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="e58b79e0a37524b04d1a3562e3b16f1b1182660461.jpg@604w_716h.webp" alt="" /></p><p>a. codeformerï¼šä¸“æ³¨ä¿®å¤äººè„¸å›¾åƒè´¨é‡é—®é¢˜ï¼Œåƒæ¨¡ç³Šã€å™ªç‚¹ã€å‹ç¼©ä¼ªå½±ç­‰æƒ…å†µï¼Œèƒ½æ¢å¤ä¸¢å¤±é¢éƒ¨ç‰¹å¾ï¼Œæå‡äººè„¸æ¸…æ™°åº¦ä¸å®Œæ•´æ€§ ã€‚</p><p>b. gfpgan_1.2ã€gfpgan_1.3ã€gfpgan_1.4ï¼šå±äº GFP-GAN ä¸åŒè¿­ä»£ç‰ˆæœ¬ï¼Œé€šè¿‡é¢„è®­ç»ƒ GAN æ¨¡å‹ï¼Œä¿®å¤è€ç…§ç‰‡äººè„¸æˆ–ä¼˜åŒ– AI ç”Ÿæˆå›¾åƒçš„é¢éƒ¨ï¼Œæ˜¯æ¢è„¸åœºåˆå¸¸ç”¨æ ‡é…æ¨¡å‹ï¼Œç‰ˆæœ¬è¶Šé«˜é€šå¸¸ç®—æ³•ä¼˜åŒ–è¶Šå¥½ã€æ•ˆæœå¯èƒ½æ›´ä¼˜ ã€‚</p><p>c. gpen_bfr_256ã€gpen_bfr_512ã€gpen_bfr_1024ã€gpen_bfr_2048ï¼šGPEN é¢éƒ¨å¢å¼ºç½‘ç»œçš„ä¸åŒç‰ˆæœ¬ï¼Œæ•°å­—ä»£è¡¨æ”¯æŒçš„å›¾åƒåˆ†è¾¨ç‡ï¼ˆå¦‚ 256Ã—256 åƒç´ ç­‰ ï¼‰ï¼Œç”¨äºæå‡äººè„¸åˆ†è¾¨ç‡å’Œå›¾åƒæ¸…æ™°åº¦ï¼Œåˆ†è¾¨ç‡è¶Šé«˜å¯¹ç¡¬ä»¶è¦æ±‚ä¹Ÿè¶Šé«˜ï¼Œå¯æŒ‰éœ€é€‰å¯¹åº”åˆ†è¾¨ç‡æ¥å¢å¼ºäººè„¸ç»†èŠ‚ ã€‚</p><p>d.Â restoreformer_plus_plusï¼šè‡´åŠ›äºç”¨æ·±åº¦å­¦ä¹ å’Œå¤åŸè½¬æ¢æŠ€æœ¯ï¼Œä¿®å¤å¢å¼ºäººåƒå›¾åƒï¼Œå°¤å…¶é’ˆå¯¹å› å‹ç¼©ç­‰å¯¼è‡´å¤±çœŸçš„äººè„¸å›¾åƒæ•ˆæœè¾ƒå¥½ ã€‚</p><p>æ¨¡å‹å¤šï¼Œå¾ˆå®¹æ˜“è®©äººçœ¼èŠ±ç¼­ä¹±ï¼Œæ‘¸ä¸ç€å¤´è„‘ï¼Œå®é™…ä¸Šï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨é»˜è®¤çš„æ¨¡å‹å³å¯ã€‚</p><p><img src="71bf2cd56882a2e97f8b3477c9256f8b09f361d3.png" alt="cut-off" /></p><p>äººè„¸å¢å¼ºæ··åˆï¼šä¸»è¦ç”¨äºæ§åˆ¶äººè„¸å¢å¼ºæ•ˆæœçš„èåˆç¨‹åº¦ã€å¼ºåº¦ç­‰ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¿æŒé»˜è®¤å€¼80å³å¯ã€‚</p><p>ç®€å•è¯´ï¼Œäººè„¸å¢å¼ºæ¨¡å‹æ˜¯ â€œå·¥å…·â€ï¼Œæä¾›å…·ä½“å¢å¼ºèƒ½åŠ›ï¼›äººè„¸å¢å¼ºæ··åˆå‚æ•°æ˜¯ â€œè°ƒèŠ‚å™¨â€ï¼Œå†³å®šè¿™äº›å·¥å…·æ€ä¹ˆé…åˆã€ç”¨å¤šå¤§åŠ›åº¦ï¼Œå…±åŒè®©æ¢è„¸åçš„é¢éƒ¨æ›´å¥½çœ‹ã€æ›´è‡ªç„¶ã€‚</p><h2 id="3deep_swapper"><a class="markdownIt-Anchor" href="#3deep_swapper"></a> <strong>ï¼ˆ3ï¼‰deep_swapper</strong></h2><p>æ·±åº¦æ¢è„¸ï¼Œä¸»è¦é’ˆå¯¹ç›´æ’­å®æ—¶æ¢è„¸ï¼ŒåŸºäºç¥ç»ç½‘ç»œï¼Œæ¢è„¸ç»†èŠ‚æ›´å¤šæ›´è‡ªç„¶ï¼Œä½†æˆ‘æ„Ÿè§‰æ•ˆæœä¸æ€ä¹ˆå¥½ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå°±æ˜¯ä½¿ç”¨äº†æ·±åº¦æ¢è„¸ä¹‹åçš„æ•ˆæœï¼Œç»†èŠ‚çœ‹èµ·æ¥å¤šäº†ï¼Œä½†æ˜¯é¢éƒ¨å…ˆå¾—è„å…®å…®çš„ï¼Œè€Œä¸”æ¢è„¸åï¼Œé•¿ç›¸å‘ç”Ÿå¾ˆå¤§çš„å˜åŒ–ã€‚</p><p><img src="2280235d86d2122ef8925831cb48e1681182660461.jpg@1192w.webp" alt="" /></p><h2 id="4age_modifier"><a class="markdownIt-Anchor" href="#4age_modifier"></a> <strong>ï¼ˆ4ï¼‰age_modifier</strong></h2><p>å¹´é¾„ä¿®æ”¹å™¨ï¼šå¯ä»¥ç¼–è¾‘äººåƒå¹´é¾„å¤§å°ã€‚æ­¤é€‰é¡¹å¯ä»¥å•ç‹¬å¯¹ç›®æ ‡å›¾åƒè¿›è¡Œä¿®æ”¹ï¼Œä¹Ÿå¯ä»¥å¯¹æ¢è„¸åçš„å›¾åƒè¿›è¡Œä¿®æ”¹ã€‚è¿™é‡Œæˆ‘åªå¯¹ç›®æ ‡å›¾åƒè¿›è¡Œå¹´é¾„ä¿®æ”¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºä¸ºå‡å°å¹´é¾„åçš„æ ·å­ã€‚</p><p><img src="3aac8116ca02641c59015bc28eb15c971182660461.jpg@1192w.webp" alt="" /></p><p>ä¸‹å›¾åˆ™æ˜¯å¢å¤§å¹´é¾„åçš„æ ·å­ã€‚</p><p><img src="a3a5accbe71230dfd849356244875d7e1182660461.jpg@1192w.webp" alt="" /></p><h2 id="5face_debugger"><a class="markdownIt-Anchor" href="#5face_debugger"></a> <strong>ï¼ˆ5ï¼‰face_debugger</strong></h2><p>è„¸éƒ¨è°ƒè¯•å™¨ï¼šface_debugger æ˜¯ Facefusion çš„è°ƒè¯•æ¨¡å¼ï¼Œä½œç”¨å’Œä½¿ç”¨åœºæ™¯å¦‚ä¸‹ï¼š</p><p>æ ¸å¿ƒä½œç”¨ï¼šå¼€å¯é®ç½©è°ƒè¯•ï¼Œå¸®ä½ åœ¨æ¢è„¸æ—¶ï¼Œæ ¹æ®ç›®æ ‡å›¾åƒ / è§†é¢‘æ•ˆæœï¼Œè°ƒæ•´å‚æ•°è®©èåˆæ›´å¥½ ã€‚</p><p>ä¸¾ä¾‹è¯´æ˜ï¼š</p><p>é®æŒ¡åœºæ™¯ï¼šå¤„ç† â€œé¢éƒ¨è¢«çœ¼é•œã€æ‰‹ã€å¸½å­é®æŒ¡â€ çš„ç´ æï¼ˆå¦‚äººç‰©æˆ´å¢¨é•œçš„è§†é¢‘ ï¼‰ï¼Œå¼€å¯ face_debuggerï¼Œæ­é… face - mask é‡Œçš„ occlusion é®ç½©ç±»å‹ï¼Œèƒ½ç²¾å‡†è¯†åˆ«é®æŒ¡åŒºåŸŸï¼Œè®©æ¢è„¸æ—¶é¿å¼€é®æŒ¡ã€èåˆæ›´è‡ªç„¶ï¼Œè°ƒè¯•æ—¶çœ‹é¢„è§ˆæ•ˆæœï¼Œè°ƒæ•´é®ç½©å‚æ•° ã€‚</p><p>æ•ˆæœä¼˜åŒ–ï¼šåšé«˜ç²¾åº¦æ¢è„¸ï¼ˆå¦‚ç”µå½±çº§è§’è‰²æ›¿æ¢ ï¼‰ï¼Œå¼€å¯åå¯é€šè¿‡ face_debugger_items é‡Œçš„ bounding - boxï¼ˆçœ‹äººè„¸è¾¹ç•Œå‡†ä¸å‡† ï¼‰ã€landmark - 68ï¼ˆæ£€æŸ¥äº”å®˜å…³é”®ç‚¹å®šä½ç»†ä¸ç»† ï¼‰ï¼Œå‘ç°é—®é¢˜å°±è°ƒæ¨¡å‹ / å‚æ•°ï¼Œè®©æ¢è„¸æ›´é€¼çœŸ ã€‚</p><p><em>ã€æ³¨æ„ã€‘æ­£å¼æ‰§è¡Œæ¢è„¸å‰ï¼Œè¦å…³é—­ face_debuggerï¼Œå¦åˆ™å¯èƒ½è®©äººè„¸å‡ºç°æ›²çº¿é®æŒ¡ç­‰å¼‚å¸¸ï¼Œå½±å“æœ€ç»ˆæ•ˆæœ ã€‚ ç®€å•è¯´ï¼Œå°±æ˜¯æ¢è„¸é‡åˆ°å¤æ‚æƒ…å†µï¼ˆé®æŒ¡ã€è¿½æ±‚é«˜ç²¾åº¦ ï¼‰æ—¶ï¼Œç”¨å®ƒè°ƒè¯•ä¼˜åŒ–ï¼Œè°ƒå¥½å°±å…³ï½</em></p><p>å½“é€‰æ‹©é¢éƒ¨è°ƒè¯•é€‰é¡¹åï¼Œä¸‹é¢ä¼šåˆ—å‡ºé¢éƒ¨è°ƒè¯•çš„é€‰é¡¹ï¼Œé»˜è®¤çŠ¶æ€ä¸‹ï¼Œé€‰æ‹©çš„æ˜¯ï¼Œface_landmark-5/68å’Œface-maské€‰é¡¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="a766bf65fda36e5722bc71ed3a4d30951182660461.jpg@666w_1382h.webp" alt="" /></p><p>æ­¤æ—¶å³ä¾§çš„æ¢è„¸ç»“æœæ˜¾ç¤ºå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="cc8596a498a4bae73b2ef754991e0e641182660461.jpg@1192w.webp" alt="" /></p><p>å¤–ä¾§çš„ç»¿è‰²çº¿æ¡†æ˜¯æ˜¯face-maskï¼ˆé¢éƒ¨é®ç½©ï¼‰ï¼Œå†…éƒ¨çš„äº”ä¸ªç»¿ç‚¹å°±æ˜¯face-landmark-5/58æ ‡æ³¨çš„å…³é”®ç‚¹ã€‚åœ¨ä½¿ç”¨é¢éƒ¨è°ƒè¯•æ—¶ï¼Œå…ˆä»äººè„¸è°ƒè¯•é¡¹ç›®é€‰æ‹©ç›¸åº”çš„é€‰é¡¹ï¼Œç„¶ååœ¨å³ä¾§ä¿®æ”¹å‚æ•°ï¼Œä¾‹å¦‚ï¼Œé€‰æ‹©äººè„¸è’™ç‰ˆç±»å‹ä¸ºocclusionï¼ˆé˜»æŒ¡ï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="a7e36c33788c524a0e080f4bec8c97dc1182660461.jpg@1192w.webp" alt="" /></p><p>æ­¤æ—¶ï¼Œæ¢è„¸ç»“æœå¤„æ˜¾ç¤ºçš„ç»¿è‰²çŸ©å½¢æ¡†ä¼šå˜æˆå¦‚ä¸‹å›¾æ‰€ç¤ºçš„å½¢çŠ¶ã€‚</p><p><img src="d070a4cd2f3ade4cf7e31ac27d18d4981182660461.jpg@1192w.webp" alt="" /></p><p>åœ¨è„¸éƒ¨è°ƒè¯•æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä¸‹é¢çš„å‚æ•°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="005505971cb139a919369a45910462161182660461.jpg@820w_868h.webp" alt="" /></p><p>å‚æ•°ä¿®æ”¹åï¼Œæ¢è„¸ç»“æœå¤„ç›¸åº”çš„æ ‡å¿—å’Œæ ‡è®°ä¹Ÿä¼šéšä¹‹å˜åŒ–ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="45caac60a7a187e6d76c1ff9c0ef90c71182660461.jpg@752w.webp" alt="" /></p><p>è¿™å°±æ˜¯è„¸éƒ¨è°ƒè¯•é€‰é¡¹çš„ä½œç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåœ¨æ¢è„¸æ—¶ï¼Œé‡åˆ°æ¢è„¸å‡ºç°é—®é¢˜ï¼Œå¯ä»¥æ¿€æ´»è„¸éƒ¨è°ƒè¯•å¯¹æ¢è„¸è¿›è¡Œè°ƒè¯•ï¼Œè°ƒè¯•ç»“æŸåï¼Œå…³é—­è„¸éƒ¨è°ƒè¯•é€‰é¡¹ã€‚æ‰€ä»¥ï¼Œè¿™ä¸ªè„¸éƒ¨è°ƒè¯•å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªè¾…åŠ©æ¢è„¸å·¥å…·ã€‚</p><p>å¯¹äºè¿™äº›äººè„¸è°ƒè¯•é¡¹ç›®çš„ä½œç”¨åŠåœºæ™¯æˆ‘æ¦‚è¿°å¦‚ä¸‹ï¼š</p><p><strong>bounding-boxï¼ˆäººè„¸è¾¹ç•Œæ¡†ï¼‰ï¼š</strong></p><p>ä½œç”¨ï¼šå®šä½äººè„¸åœ¨ç”»é¢é‡Œçš„çŸ©å½¢èŒƒå›´ï¼Œæ ‡è®°äººè„¸æ‰€å¤„ä½ç½®å’Œå¤§å° ã€‚</p><p>åœºæ™¯ï¼šæ¯”å¦‚è§†é¢‘æ¢è„¸æ—¶ï¼Œå…ˆå¿«é€Ÿæ¡†å‡ºäººè„¸åŒºåŸŸï¼Œæ–¹ä¾¿åç»­å¤„ç†ï¼›æˆ–è€…æ£€æµ‹ç”»é¢ä¸­æœ‰æ— äººè„¸ï¼Œåƒå®‰é˜²ç›‘æ§é‡Œåˆæ­¥ç­›é€‰å«æœ‰äººè„¸çš„ç”»é¢ç‰‡æ®µ ã€‚</p><p>é€‰æ‹©è¯¥é€‰é¡¹åï¼Œæ¢è„¸ç»“æœæ˜¾ç¤ºå¤„ä¼šæ˜¾ç¤ºä¸€ä¸ªçº¢è‰²çŸ©å½¢æ¡†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="e1381d3c1c01d30de2d1fd107f5136ff1182660461.jpg@1192w.webp" alt="" /></p><p><strong>face-landmark-5ï¼ˆ5 ä¸ªäººè„¸å…³é”®ç‚¹ï¼‰ï¼š</strong></p><p>ä½œç”¨ï¼šè¯†åˆ«äººè„¸ 5 ä¸ªå…³é”®ç‚¹ä½ï¼Œä¸€èˆ¬æ˜¯åŒçœ¼ä¸­å¿ƒã€é¼»å°–ã€å·¦å³å˜´è§’ ï¼ŒåšåŸºç¡€äººè„¸ç‰¹å¾å®šä½ã€‚</p><p>åœºæ™¯ï¼šç®€å•äººè„¸å¯¹é½åœºæ™¯ï¼Œå¦‚ç®€æ˜“ç¾é¢œ APP é‡Œï¼Œå¿«é€Ÿæ ¹æ® 5 ä¸ªç‚¹è°ƒæ•´äººè„¸åŸºç¡€ä½ç½®ï¼Œé€‚é…æ»¤é•œæ¨¡æ¿ï¼›æˆ–è€…äººè„¸å¿«é€Ÿæ£€æµ‹åœºæ™¯ï¼Œè¾…åŠ©åˆ¤æ–­äººè„¸æœå‘ç­‰åŸºç¡€ä¿¡æ¯ ã€‚</p><p>é€‰æ‹©è¯¥é€‰é¡¹ä¼šç”¨5ä¸ªçº¢ç‚¹åŸºç¡€å…³é”®ç‚¹æ ‡è®°å·¦å³çœ¼ç›ã€é¼»å°–ä»¥åŠå·¦å³å˜´è§’ä½ç½®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="417789ccc82bdfe454894def3ce6656e1182660461.jpg@1192w.webp" alt="" /></p><p><strong>face-landmark-5/68ï¼ˆ5 å’Œ 68 ä¸ªäººè„¸å…³é”®ç‚¹ï¼‰ï¼š</strong></p><p>ä½œç”¨ï¼šåŒæ—¶è¯†åˆ« 5 ä¸ªåŸºç¡€å…³é”®ç‚¹å’Œ 68 ä¸ªæ›´ç»†è‡´å…³é”®ç‚¹ï¼Œå…¼é¡¾å¿«é€Ÿå®šä½ä¸ç²¾ç»†ç‰¹å¾æ•æ‰ ã€‚</p><p>åœºæ™¯ï¼šæ¢è„¸ç²¾åº¦è¦æ±‚é€‚ä¸­çš„åœºæ™¯ï¼Œæ—¢æƒ³å¿«é€Ÿå®Œæˆåˆæ­¥å¯¹é½ï¼Œåˆéœ€è¦ä¸€å®šç»†èŠ‚ï¼ˆå¦‚é¢éƒ¨è½®å»“å¤§è‡´ç²¾ç»†åº¦ ï¼‰æ¥ä¼˜åŒ–æ•ˆæœï¼ŒåƒçŸ­è§†é¢‘å¹³å°çš„æ¢è„¸ç‰¹æ•ˆï¼Œå¹³è¡¡å¤„ç†é€Ÿåº¦å’Œæ•ˆæœ ã€‚</p><p><strong>face-landmark-68ï¼ˆ68 ä¸ªäººè„¸å…³é”®ç‚¹ï¼‰ï¼š</strong></p><p>ä½œç”¨ï¼šè¯†åˆ« 68 ä¸ªç»†è‡´äººè„¸å…³é”®ç‚¹ï¼Œæ¶µç›–é¢éƒ¨è½®å»“ã€äº”å®˜ç²¾ç»†ä½ç½®ï¼ˆå¦‚çœ¼ç«æ¯›ã€çœ¼è§’ã€å˜´å”‡è½®å»“ç­‰ ï¼‰ï¼Œç²¾å‡†åˆ»ç”»äººè„¸ç‰¹å¾ ã€‚</p><p>åœºæ™¯ï¼šå¯¹æ¢è„¸ç»†èŠ‚è¦æ±‚é«˜çš„åœºæ™¯ï¼Œæ¯”å¦‚ç”µå½±çº§æ¢è„¸ã€é«˜ç²¾åº¦äººè„¸ç¾é¢œï¼ˆè¦ç²¾ç»†è°ƒæ•´äº”å®˜å½¢çŠ¶ã€ä½ç½® ï¼‰ï¼›è‰ºæœ¯åˆ›ä½œä¸­ç²¾å‡†æ“æ§äººè„¸è¡¨æƒ…ã€å½¢æ€ï¼Œåƒæ•°å­—äººåˆ¶ä½œæ—¶ï¼Œä¾æ® 68 ä¸ªç‚¹å¡‘é€ é€¼çœŸé¢éƒ¨ç¥æ€ ã€‚</p><p>é€‰æ‹©è¯¥é€‰é¡¹ä¼šåœ¨é¢éƒ¨æ˜¾ç¤º68ä¸ªç»¿è‰²ç‚¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="1df09e058ab24ef4766e49f8625e9e771182660461.jpg@1192w.webp" alt="" /></p><p><strong>face-landmark-68/5ï¼ˆ68 å’Œ 5 ä¸ªäººè„¸å…³é”®ç‚¹ï¼‰ï¼š</strong></p><p>ä½œç”¨ï¼šåŒæ—¶è¯†åˆ« 68 ä¸ªç²¾ç»†ç‚¹å’Œ 5 ä¸ªåŸºç¡€ç‚¹ï¼Œé€‚é…ä¸åŒç²¾åº¦éœ€æ±‚ï¼Œå¯çµæ´»åˆ‡æ¢æˆ–ç»“åˆä½¿ç”¨ ã€‚</p><p>åœºæ™¯ï¼šå¤„ç†å¤æ‚äººè„¸ç´ æåº“ï¼Œæ—¢æœ‰éœ€è¦å¿«é€Ÿç­›é€‰çš„ä½ç²¾åº¦åœºæ™¯ï¼ˆç”¨ 5 ä¸ªç‚¹ ï¼‰ï¼Œåˆæœ‰æ·±åº¦åŠ å·¥çš„é«˜ç²¾åº¦åœºæ™¯ï¼ˆç”¨ 68 ä¸ªç‚¹ ï¼‰ï¼›æˆ–è€…è°ƒè¯•æ¢è„¸ç®—æ³•æ—¶ï¼Œå¯¹æ¯”ä¸åŒå…³é”®ç‚¹æ•°é‡å¯¹æ•ˆæœçš„å½±å“ ã€‚</p><p>é€‰æ‹©è¯¥é€‰é¡¹åï¼Œä¼šåœ¨é¢éƒ¨æ˜¾ç¤º68ä¸ªé’è‰²çš„ç‚¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="ff2ba3b5f9f148691d854a71af9769e71182660461.jpg@1192w.webp" alt="" /></p><p><strong>face-maskï¼ˆäººè„¸é®ç½©ï¼‰ï¼š</strong></p><p>ä½œç”¨ï¼šæ£€æµ‹ã€ç”Ÿæˆäººè„¸é®ç½©ï¼Œå¯æ ‡è®°äººè„¸åŒºåŸŸï¼Œä¹Ÿèƒ½ç”¨äºå¤„ç†äººè„¸ä¸èƒŒæ™¯èåˆã€æ·»åŠ ç‰¹æ•ˆé™åˆ¶èŒƒå›´ ã€‚</p><p>åœºæ™¯ï¼šæ¢è„¸æ—¶è®©æ–°è„¸ä¸åŸèƒŒæ™¯è‡ªç„¶èåˆï¼Œé®ç½©ç•Œå®šäººè„¸èŒƒå›´ï¼Œé¿å…ç‰¹æ•ˆå½±å“èƒŒæ™¯ï¼›åˆ¶ä½œäººè„¸ç‰¹æ•ˆï¼ˆå¦‚è™šæ‹Ÿé¢å…· ï¼‰ï¼Œé™å®šç‰¹æ•ˆä»…ä½œç”¨åœ¨äººè„¸åŒºåŸŸï¼›è¿˜èƒ½å¤„ç†æˆ´å£ç½©åœºæ™¯ï¼Œç²¾å‡†è¯†åˆ«å£ç½©è¦†ç›–éƒ¨åˆ†ä¸äººè„¸çš„å…³ç³» ã€‚</p><p>é»˜è®¤çŠ¶æ€ä¸‹ï¼Œäººè„¸é®ç½©ä½¿ç”¨çš„æ˜¯boxç›’å­ï¼ˆçŸ©å½¢ï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="4e915325a3df0ce809f8078a2b20f5551182660461.jpg@1192w.webp" alt="" /></p><p>æ¢è„¸ç»“æœæ˜¾ç¤ºå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="0a0cd8f2f23d132409c7711cfc7d33c91182660461.jpg@1192w.webp" alt="" /></p><p>å¦‚æœé€‰æ‹©occlusioné˜»æŒ¡é€‰é¡¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="5e3e5db24835f28ea6b90da8750b74a51182660461.jpg@1192w.webp" alt="" /></p><p>åˆ™æ¢è„¸ç»“æœå¤„æ˜¾ç¤ºçš„é®ç½©å½¢çŠ¶å°±ä¸æ˜¯è§„åˆ™çš„ä¸¾è¡Œï¼Œè€Œæ˜¯å›´ç»•è„¸éƒ¨å˜åŒ–çš„æ›²çº¿äº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="a0324f12eb4d5b136144fa3f3edf80301182660461.jpg@1192w.webp" alt="" /></p><p><strong>face-detector-scoreï¼ˆäººè„¸æ£€æµ‹ç½®ä¿¡åº¦ï¼‰ï¼š</strong></p><p>ä½œç”¨ï¼šè¯„ä¼°äººè„¸æ£€æµ‹ç»“æœçš„å¯ä¿¡åº¦ã€ç²¾å‡†åº¦ï¼Œæ•°å€¼è¶Šé«˜ï¼Œæ£€æµ‹å‡ºçš„äººè„¸è¶Šå¯é  ã€‚</p><p>åœºæ™¯ï¼šå¤§è§„æ¨¡äººè„¸æ•°æ®ç­›é€‰ï¼Œè¿‡æ»¤æ£€æµ‹ç½®ä¿¡åº¦ä½çš„æ— æ•ˆäººè„¸ï¼ˆå¦‚æ¨¡ç³Šã€è¯¯è¯†åˆ«çš„ ï¼‰ï¼Œåƒäººè„¸æ•°æ®åº“æ„å»ºæ—¶ï¼Œä¿è¯å…¥åº“æ•°æ®è´¨é‡ï¼›è‡ªåŠ¨æ¢è„¸æµç¨‹é‡Œï¼Œä¼˜å…ˆå¤„ç†é«˜ç½®ä¿¡åº¦äººè„¸ï¼Œæå‡æ•´ä½“æ•ˆæœç¨³å®šæ€§ ã€‚</p><p>é€‰æ‹©è¯¥é€‰é¡¹ä¼šåœ¨æ¢è„¸é¢éƒ¨æ˜¾ç¤ºç½®ä¿¡åº¦å‚æ•°ï¼Œå¦‚ä¸‹å›¾æ˜¾ç¤ºçš„æ˜¯0.8ï¼Œè¿™è¡¨ç¤ºæ£€æµ‹å¤„çš„äººè„¸å¯é æ€§è¾ƒé«˜ã€‚</p><p><img src="2c32158d7d673bcce2d6e7d9c603b4371182660461.jpg@1192w.webp" alt="" /></p><p><strong>face-landmarker-scoreï¼ˆäººè„¸å…³é”®ç‚¹è¯†åˆ«ç½®ä¿¡åº¦ï¼‰ï¼š</strong></p><p>ä½œç”¨ï¼šè¯„ä¼°äººè„¸å…³é”®ç‚¹è¯†åˆ«ç»“æœçš„å¯é æ€§ï¼Œåˆ¤æ–­å…³é”®ç‚¹å®šä½å‡†ä¸å‡† ã€‚</p><p>åœºæ™¯ï¼šé«˜ç²¾åº¦æ¢è„¸ã€äººè„¸é‡å»ºç­‰å¯¹å…³é”®ç‚¹ç²¾åº¦è¦æ±‚é«˜çš„åœºæ™¯ï¼Œæ¯”å¦‚åŒ»å­¦æ¨¡æ‹Ÿäººè„¸æ‰‹æœ¯æ•ˆæœï¼Œéœ€é«˜ç½®ä¿¡åº¦å…³é”®ç‚¹ç¡®ä¿æ¨¡æ‹Ÿå‡†ç¡®ï¼›è‰ºæœ¯åˆ›ä½œä¸­ç²¾ç»†è°ƒæ•´äººè„¸ï¼Œä¾æ®åˆ†æ•°åˆ¤æ–­å…³é”®ç‚¹æ•°æ®èƒ½ä¸èƒ½ç”¨ ã€‚</p><p>é€‰æ‹©è¯¥é€‰é¡¹åï¼Œæ¢è„¸ç»“æœæ˜¾ç¤ºç»¿è‰²çš„æ•°å­—è¡¨ç¤ºç½®ä¿¡åº¦å‚æ•°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="52b8a4d75ecfcee07d3499171c788f201182660461.jpg@744w_752h.webp" alt="" /></p><p><strong>ageï¼ˆå¹´é¾„é¢„æµ‹ï¼‰ï¼š</strong></p><p>ä½œç”¨ï¼šåŸºäºäººè„¸ç‰¹å¾é¢„æµ‹å¹´é¾„ä¿¡æ¯ ã€‚</p><p>åœºæ™¯ï¼šå½±è§†åˆ›ä½œä¸­ï¼Œæ ¹æ®è§’è‰²å¹´é¾„éœ€æ±‚ï¼Œç­›é€‰é€‚é…äººè„¸ç´ æï¼ˆå¦‚æ‰¾ â€œçœ‹èµ·æ¥ 20 - 30 å²â€ çš„äººè„¸æ¢è„¸ ï¼‰ï¼›ç”¨æˆ·ç”»åƒåˆ†æï¼Œç»“åˆäººè„¸å¹´é¾„æ•°æ®åšç»Ÿè®¡ï¼ˆå¦‚ APP åˆ†æç”¨æˆ·å¹´é¾„åˆ†å¸ƒ ï¼‰ï¼›ç‰¹æ•ˆåˆ¶ä½œï¼Œç»™äººè„¸æ·»åŠ ç¬¦åˆå¹´é¾„å˜åŒ–çš„ç‰¹æ•ˆï¼ˆå¦‚æ¨¡æ‹Ÿå˜è€ã€å˜å¹´è½» ï¼‰ ã€‚</p><p>é€‰æ‹©è¯¥é€‰é¡¹åï¼Œæ¢è„¸ç»“æœå¤„æ˜¾ç¤ºçº¢è‰²æ•°å­—è¡¨ç¤ºå¹´é¾„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="87c4e808fab6c6fd1ccf3a047dc3ec771182660461.jpg@750w_572h.webp" alt="" /></p><p><strong>genderï¼ˆæ€§åˆ«è¯†åˆ«ï¼‰ï¼š</strong></p><p>ä½œç”¨ï¼šè¯†åˆ«äººè„¸å¯¹åº”çš„æ€§åˆ«ç±»åˆ«ï¼ˆç”·ã€å¥³ç­‰ ï¼‰ ã€‚</p><p>åœºæ™¯ï¼šæ€§åˆ«ç‰¹å®šçš„æ¢è„¸ã€ç¾é¢œéœ€æ±‚ï¼Œæ¯”å¦‚ç»™ç”·æ€§ã€å¥³æ€§åˆ†åˆ«è®¾è®¡ä¸åŒé£æ ¼ç‰¹æ•ˆï¼ˆç”·æ€§ç¡¬æœ—é£æ ¼ã€å¥³æ€§æŸ”ç¾é£æ ¼ ï¼‰ï¼›æ•°æ®åˆ†ç±»ç»Ÿè®¡ï¼Œåƒç»Ÿè®¡å¹³å°ç”¨æˆ·æ€§åˆ«å æ¯”ï¼Œè¾…åŠ©å†…å®¹æ¨èï¼›å½±è§†è§’è‰²æ›¿æ¢ï¼Œå¿«é€Ÿç­›é€‰åŒæ€§åˆ«äººè„¸ç´ ææ¢è„¸ ã€‚</p><p>é€‰æ‹©è¯¥é€‰é¡¹åï¼Œæ¢è„¸ç»“æœæ˜¾ç¤ºå¤„ä¼šæ˜¾ç¤ºæ€§åˆ«æç¤ºï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="564d52c26e6b362fb4556915581eccc71182660461.jpg@1192w.webp" alt="" /></p><p><strong>raceï¼ˆç§æ—è¯†åˆ«ï¼‰ï¼š</strong></p><p>ä½œç”¨ï¼šè¯†åˆ«äººè„¸æ‰€å±ç§æ—ï¼ˆå¦‚äºšæ´²ã€æ¬§æ´²ã€éæ´²ç­‰ ï¼‰ ã€‚</p><p>åœºæ™¯ï¼šè·¨ç§æ—äººè„¸ç ”ç©¶ã€åˆ›ä½œï¼Œæ¯”å¦‚æ¨¡æ‹Ÿä¸åŒç§æ—äººè„¸ç‰¹å¾èåˆï¼›æ–‡åŒ–ç›¸å…³è‰ºæœ¯åˆ›ä½œï¼Œç²¾å‡†å‘ˆç°ç‰¹å®šç§æ—é¢éƒ¨é£æ ¼ï¼›è¿˜æœ‰ä¸€äº›æ¶‰åŠç§æ—ç‰¹å¾åˆ†æçš„å­¦æœ¯ã€åº”ç”¨åœºæ™¯ï¼Œè¾…åŠ©åšæ•°æ®åˆ†ç±»å¤„ç† ã€‚</p><p>é€‰æ‹©è¯¥é€‰é¡¹åï¼Œæ¢è„¸ç»“æœæ˜¾ç¤ºå¤„ä¼šä»¥çº¢è‰²æ–‡å­—æ˜¾ç¤ºç§æ—æç¤ºï¼Œä¾‹å¦‚ï¼Œç™½äººæ˜¾ç¤ºä¸ºâ€œwhiteâ€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="6ed7301994d8849be562db0177f7b6791182660461.jpg@1192w.webp" alt="" /></p><h2 id="6expression_restorer"><a class="markdownIt-Anchor" href="#6expression_restorer"></a> <strong>(6)expression_restorer</strong></h2><p>è¡¨æƒ…æ¢å¤å™¨ï¼šä¸»è¦é’ˆå¯¹è§†é¢‘æ¢è„¸ï¼Œä¸»è¦ä½œç”¨æ˜¯ ä¿®å¤ã€è¿˜åŸæˆ–ä¼˜åŒ–æ¢è„¸åäººç‰©çš„é¢éƒ¨è¡¨æƒ…ï¼Œè®©æ¢è„¸ç»“æœåœ¨è¡¨æƒ…å‘ˆç°ä¸Šæ›´è‡ªç„¶ã€æ›´è´´åˆåŸå§‹ç´ æçš„æƒ…ç»ªæ°›å›´ï¼Œé¿å…å› æ¢è„¸æµç¨‹å¯¼è‡´è¡¨æƒ…åƒµç¡¬ã€å¤±çœŸã€ä¸åè°ƒç­‰é—®é¢˜ã€‚ç®€å•è¯´ï¼Œå®ƒæ˜¯ç»™æ¢è„¸åçš„è¡¨æƒ… â€œåšå¾®è°ƒåŒ»ç¾â€ï¼Œè®©è¡¨æƒ…ä» â€œå‡‘åˆèƒ½çœ‹â€ å˜ â€œè‡ªç„¶ä¸æ»‘â€ï¼Œå°¤å…¶å¯¹è¿½æ±‚æè‡´æ¢è„¸æ•ˆæœçš„åœºæ™¯ï¼ˆæ¯”å¦‚å½±è§†çº§æ¢è„¸ã€é€¼çœŸçŸ­è§†é¢‘åˆ›ä½œ ï¼‰ï¼Œæ˜¯ä¸ªå¾ˆå®ç”¨çš„ç»†èŠ‚ä¼˜åŒ–å¼€å…³ ã€‚</p><p>é€‰æ‹©è¯¥é€‰é¡¹åï¼Œä¸‹é¢ä¼šæ˜¾ç¤ºè¡¨æƒ…æ¢å¤çš„å‚æ•°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="3dd3e8b6f8e116f72c3edfb9d80509781182660461.jpg@674w_982h.webp" alt="" /></p><p>ä¸¾ä¸ªå…·ä½“åœºæ™¯ç†è§£ï¼šå‡è®¾ä½ ç”¨ä¸€æ®µ â€œäººç‰©å¼€å¿ƒå¤§ç¬‘â€ çš„è§†é¢‘åšæ¢è„¸ï¼ŒæŠŠ A çš„è„¸æ¢åˆ°è§†é¢‘é‡Œäººç‰© B è„¸ä¸Šï¼š</p><p>è‹¥æ²¡å¼€ expression_restorer ï¼Œæ¢è„¸åå¯èƒ½å‡ºç° è¡¨æƒ…æ–­å±‚ï¼šæ¯”å¦‚äººç‰©æœ¬è¯¥å¤§ç¬‘æ—¶ï¼Œè„¸éƒ¨è‚Œè‚‰ç‰µæ‹‰ã€å˜´è§’ä¸Šæ‰¬å¹…åº¦ï¼Œå’ŒåŸå§‹ B çš„è¡¨æƒ…åŠ¨æ€ä¸åŒ¹é…ï¼Œçœ‹èµ·æ¥ â€œç¬‘å®¹å¾ˆå‡â€â€œè„¸éƒ¨åƒµä½â€ï¼Œç”šè‡³åƒ â€œçš®ç¬‘è‚‰ä¸ç¬‘â€ ã€‚</p><p>å¼€å¯ expression_restorer åï¼Œå®ƒä¼š åˆ†æåŸå§‹ç´ æé‡Œçš„è¡¨æƒ…è¿åŠ¨è§„å¾‹ï¼ˆæ¯”å¦‚é¢éƒ¨è‚Œè‚‰èµ°å‘ã€å˜´è§’ / çœ¼éƒ¨çš„åŠ¨æ€å˜åŒ–ï¼‰ï¼Œç„¶å è°ƒæ•´æ¢è„¸åçš„é¢éƒ¨è¡¨æƒ…ç»†èŠ‚ï¼Œè®© A çš„è„¸èƒ½è‡ªç„¶å¤åˆ» â€œå¤§ç¬‘â€ çš„ç¥æ€ï¼Œè®©æ¢è„¸ç»“æœä»è¡¨æƒ…ä¸Šæ›´éš¾çœ‹å‡ºç ´ç»½ï¼Œå’ŒåŸç´ ææƒ…ç»ªã€åŠ¨æ€æ›´è´´åˆã€‚</p><h2 id="7face_editor"><a class="markdownIt-Anchor" href="#7face_editor"></a> <strong>ï¼ˆ7ï¼‰face_editor</strong></h2><p>äººè„¸ç¼–è¾‘å™¨ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸æ£’çš„åŠŸèƒ½ï¼Œå¯ä»¥å¯¹ç›®æ ‡äººåƒå•ç‹¬è°ƒæ•´ï¼Œä¹Ÿå¯ä»¥å¯¹æ¢è„¸åçš„å›¾åƒè°ƒæ•´ï¼Œæœ‰äº†è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ç…§ç‰‡æˆ–è§†é¢‘ä¸­çš„äººè„¸åŠæ— å…³è¿›è¡Œè°ƒæ•´ï¼Œä¾‹å¦‚æŠ¬å¤´å’Œä½å¤´ã€çŸ«æ­£æ­ªå¤´ã€è½¬å¤´ç­‰ï¼Œéå¸¸æœ‰è¶£ï¼Œä¹Ÿéå¸¸æœ‰ç”¨ã€‚</p><p>é€‰æ‹©è¯¥é€‰é¡¹åï¼Œä¸‹é¢åˆ—å‡ºäº†é¢éƒ¨ç¼–è¾‘å™¨çš„ä¼—å¤šå‚æ•°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="bd168e751f2fda94d9c79bd8c97bab421182660461.jpg@914w_2298h.webp" alt="" /></p><p>è¿™äº›å‚æ•°å¾ˆå®¹æ˜“ç†è§£ï¼Œåªè¦è°ƒæ•´æŸä¸ªå‚æ•°ï¼Œå³ä¾§ä¸Šæ–¹å°±ä¼šæ˜¾ç¤ºè°ƒæ•´çš„ç»“æœï¼Œå¦‚ä¸‹å›¾æ˜¯åŸå›¾ï¼ˆç›®æ ‡å›¾åƒï¼‰ã€‚</p><p><img src="b0be1210add9d9c140e9e7897691949d1182660461.jpg@874w.webp" alt="" /></p><p>ä¸‹å›¾æ˜¯æŠ¬å¤´å’Œä½å¤´æ•ˆæœã€‚</p><p><img src="953564605998325b7d9f740d5842843e1182660461.jpg@1192w.webp" alt="" /></p><p>ä¸‹å›¾æ˜¯å·¦å³æ­ªå¤´æ•ˆæœã€‚</p><p><img src="a0727d4894f2ff6d91b1feb0691efe501182660461.jpg@1192w.webp" alt="" /></p><p>ä¸‹å›¾æ˜¯å·¦å³è½¬å¤´æ•ˆæœã€‚</p><p><img src="53c0215353b65b52b7fb86411c516ac71182660461.jpg@1192w.webp" alt="" /></p><p>å…¶ä»–çš„é¢éƒ¨ç¼–è¾‘å‚æ•°è¯·ä½ è‡ªè¡Œå°è¯•ï¼Œéå¸¸æœ‰è¶£ï¼Œä¹Ÿéå¸¸æœ‰ç”¨çš„ã€‚</p><h2 id="8frame_colorizer"><a class="markdownIt-Anchor" href="#8frame_colorizer"></a> <strong>ï¼ˆ8ï¼‰frame_colorizer</strong></h2><p>å¸§ç€è‰²å™¨ ï¼šè¿™ä¸ªæ˜¯é’ˆå¯¹æ•´ä¸ªç”»é¢ï¼Œè€Œä¸æ˜¯å•ç‹¬é’ˆå¯¹äººè„¸çš„ä¸Šè‰²ï¼Œå®ƒèƒ½ä¸ºç…§ç‰‡ã€è§†é¢‘ä¸Šè‰²ï¼Œç»™é»‘ç™½ç´ ææˆ–æƒ³æ”¹å˜è‰²è°ƒçš„å†…å®¹é‡æ–°ç€è‰²ã€‚æ¯”å¦‚ç»™è€ç”µå½±é»‘ç™½ç‰‡æ®µæ¢è„¸åï¼Œç”¨å®ƒä¸Šè‰²æˆå½©è‰²ï¼Œè¿˜åŸå¤å¤è‰²å½©é£æ ¼ ã€‚</p><p>é€‰æ‹©è¯¥é€‰é¡¹åï¼Œä¸‹æ–¹æ˜¾ç¤ºå®ƒçš„å‚æ•°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="3ba8b6d47d3f9018da46eef4bc736d5d1182660461.jpg@678w_1136h.webp" alt="" /></p><p>ä¸‹å›¾æ˜¯ä½¿ç”¨è¯¥åŠŸèƒ½å¯¹é»‘ç™½äººåƒç…§ç‰‡ä¸Šè‰²çš„æ•ˆæœã€‚</p><p><img src="21b389ef3f056a29bb5f8c4506fb36ae1182660461.jpg@1192w.webp" alt="" /></p><p>ä¸‹å›¾åˆ™æ˜¯å¯¹é»‘ç™½é£æ™¯ç…§ç‰‡ä¸Šè‰²çš„æ•ˆæœã€‚</p><p><img src="ca34338c2004334eac0b8f5e73327ab01182660461.jpg@1192w.webp" alt="" /></p><p>å¸§ä¸Šè‰²æ¨¡å‹åŒ…å«DDColorå’ŒDeOldifyä¸¤å¤§ç±»ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="e86ca5871130f3b30d2ceb87b5f975c81182660461.jpg@608w_430h.webp" alt="" /></p><p>å®ƒä»¬å„è‡ªçš„ä¼˜ç¼ºç‚¹å‚è€ƒä¸‹é¢ï¼š</p><p><strong>DDColor</strong></p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><p>è‰²å½©å‡†ç¡®æ€§é«˜ï¼šé‡‡ç”¨åŒè§£ç å™¨æŠ€æœ¯ï¼Œèƒ½åŒæ—¶è€ƒè™‘è‰²å½©åˆ†å¸ƒå’Œåƒç´ çº§è¯¦ç»†ä¿¡æ¯ï¼Œå¯å‡†ç¡®è¯†åˆ«å›¾åƒä¸­çš„ç‰©ä½“å’Œåœºæ™¯ï¼Œä¸ºå…¶æ·»åŠ é€¼çœŸé¢œè‰²ï¼Œå‡å°‘é¢œè‰²é”™è¯¯æ¶‚æŠ¹é—®é¢˜ï¼Œå®ç°é«˜åº¦çœŸå®çš„å›¾åƒä¸Šè‰²æ•ˆæœã€‚æ— è®ºæ˜¯ç»™å†å²é»‘ç™½ç…§ç‰‡ä¸Šè‰²ï¼Œè¿˜æ˜¯ä¸ºåŠ¨æ¼«æˆ–æ¸¸æˆä¸­çš„é£æ™¯è¿›è¡ŒçœŸå®é£æ ¼çš„ä¸Šè‰²ï¼Œéƒ½æœ‰å‡ºè‰²è¡¨ç°ã€‚</p><p>ç»†èŠ‚å¤„ç†å¥½ï¼šåˆ©ç”¨å¤šå°ºåº¦å›¾åƒç‰¹å¾å­¦ä¹ é¢œè‰²æŸ¥è¯¢ï¼Œèƒ½å‡è½»é¢œè‰²æº¢å‡ºï¼Œå¹¶æ˜¾è‘—æ”¹å–„å°ç‰©ä½“çš„ç€è‰²ï¼Œä½¿å›¾åƒç»†èŠ‚å¤„çš„è‰²å½©è¿‡æ¸¡è‡ªç„¶ï¼Œä¸ä¼šå‡ºç°è‰²å½©æ–­å±‚æˆ–ä¸è‡ªç„¶çš„è¾¹ç•Œã€‚</p><p>è‰²å½©ä¸°å¯Œåº¦é«˜ï¼šå¼•å…¥äº†è‰²å½©æŸå¤±å‡½æ•°ï¼Œè¿›ä¸€æ­¥æé«˜ç”Ÿæˆç»“æœçš„è‰²å½©ä¸°å¯Œåº¦ï¼Œè®©ä¸Šè‰²åçš„å›¾åƒè‰²å½©æ›´åŠ é²œè‰³ã€ç”ŸåŠ¨ï¼Œæ¥è¿‘çœŸå®ä¸–ç•Œçš„è‰²å½©è¡¨ç°ã€‚</p><p><strong>ç¼ºç‚¹ï¼š</strong></p><p>ç›¸å¯¹æ¥è¯´ï¼Œå¯èƒ½å¯¹å¤æ‚åœºæ™¯ä¸­ä¸€äº›ç‰¹æ®Šå…‰å½±æ•ˆæœæˆ–è‰ºæœ¯åŒ–çš„è‰²å½©éœ€æ±‚å¤„ç†ä¸å¤Ÿçµæ´»ï¼Œæ›´ä¾§é‡äºå†™å®é£æ ¼çš„è‰²å½©è¿˜åŸï¼Œå¦‚æœæƒ³è¦å®ç°ä¸€äº›ç‹¬ç‰¹çš„è‰ºæœ¯åŒ–è‰²å½©é£æ ¼ï¼Œå¯èƒ½ä¸å¦‚ä¸“é—¨çš„è‰ºæœ¯åŒ–æ¨¡å‹è¡¨ç°å‡ºè‰²ã€‚</p><p><strong>DeOldify</strong></p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><p>ä¿®å¤åŠŸèƒ½å¼ºå¤§ï¼šä¸ä»…èƒ½ä¸ºé»‘ç™½æˆ–è¤ªè‰²çš„å›¾åƒä¸Šè‰²ï¼Œè¿˜èƒ½åœ¨ä¸€å®šç¨‹åº¦ä¸Šä¿®å¤å›¾åƒçš„æŸåéƒ¨åˆ†ï¼Œå¯¹äºæœ‰ç ´æŸã€åˆ’ç—•ç­‰é—®é¢˜çš„è€ç…§ç‰‡æˆ–è§†é¢‘ç‰‡æ®µï¼Œèƒ½åœ¨æ¢å¤è‰²å½©çš„åŒæ—¶è¿›è¡Œä¿®å¤ï¼Œæå‡å›¾åƒè´¨é‡ã€‚</p><p>è‰ºæœ¯åŒ–æ•ˆæœå¥½ï¼šæä¾›å¤šç§æ¨¡å‹ï¼Œå¦‚è‰ºæœ¯æ¨¡å‹å¯æ»¡è¶³è¿½æ±‚é«˜å›¾åƒè´¨é‡ã€ä¸°å¯Œè‰²å½©å’Œç»†èŠ‚çš„ç”¨æˆ·éœ€æ±‚ï¼Œèƒ½ç”Ÿæˆå…·æœ‰ç‹¬ç‰¹è‰ºæœ¯é£æ ¼çš„è‰²å½©æ•ˆæœï¼Œé€‚åˆå¯¹å›¾åƒæœ‰è‰ºæœ¯åŒ–å¤„ç†éœ€æ±‚çš„åœºæ™¯ï¼›ç¨³å®šæ¨¡å‹åœ¨é£æ™¯å’Œè‚–åƒå¤„ç†ä¸Šè¡¨ç°ä½³ï¼Œè¾“å‡ºç¨³å®šï¼›è§†é¢‘æ¨¡å‹ä¸“ä¸ºè§†é¢‘å¤„ç†è®¾è®¡ï¼Œèƒ½æä¾›æµç•…ä¸”æ— é—ªçƒçš„è§†é¢‘ä¸Šè‰²ä½“éªŒã€‚</p><p>çš®è‚¤æ¸²æŸ“è‡ªç„¶ï¼šåœ¨çš®è‚¤æ¸²æŸ“æ–¹é¢æœ‰æ˜¾è‘—è¿›æ­¥ï¼Œå‡å°‘äº†åƒµå°¸èˆ¬çš„æ•ˆæœï¼Œä½¿äººç‰©è‚¤è‰²çœ‹èµ·æ¥æ›´åŠ è‡ªç„¶ï¼Œå¯¹äºäººåƒç…§ç‰‡æˆ–è§†é¢‘çš„ä¸Šè‰²å¤„ç†æœ‰ä¼˜åŠ¿ã€‚</p><p><strong>ç¼ºç‚¹</strong></p><p>è™½ç„¶ DeOldify åœ¨ä¸æ–­ä¼˜åŒ–ï¼Œä½†åœ¨æŸäº›å¤æ‚åœºæ™¯ä¸‹ï¼Œå¯èƒ½ä¸Šè‰²çš„å‡†ç¡®æ€§ä¸å¦‚ DDColorï¼Œä¾‹å¦‚å¯¹äºä¸€äº›å…·æœ‰ç‰¹æ®Šå…‰å½±æ¡ä»¶æˆ–ç½•è§è‰²å½©ç»„åˆçš„åœºæ™¯ï¼Œå¯èƒ½æ— æ³•å‡†ç¡®è¿˜åŸå‡ºç¬¦åˆç°å®é€»è¾‘çš„é¢œè‰²ã€‚è€Œä¸”ä¸åŒæ¨¡å‹é€‚ç”¨äºä¸åŒåœºæ™¯ï¼Œéœ€è¦ç”¨æˆ·æ ¹æ®å…·ä½“éœ€æ±‚è¿›è¡Œé€‰æ‹©ï¼Œè¿™å¯¹ç”¨æˆ·çš„æ“ä½œç»éªŒå’Œå¯¹æ¨¡å‹çš„äº†è§£ç¨‹åº¦æœ‰ä¸€å®šè¦æ±‚ã€‚</p><p>ç€è‰²æ¨¡å‹å¸¦artisticï¼ˆè‰ºæœ¯ï¼‰ä¸»è¦ä¾§é‡å¯¹éå†™å®ç±»å›¾åƒç€è‰²ã€‚Â ddcolor_artisticï¼šåœ¨ ddcolor åŸºç¡€ä¸Šï¼Œèå…¥è‰ºæœ¯åŒ–è‰²å½©å€¾å‘ï¼Œä¸ºç”»é¢å¢æ·»æ²¹ç”»ã€å¤å¤ç­‰è‰ºæœ¯é£æ ¼è‰²å½© ï¼›deoldify_artisticï¼šä¾§é‡ä»¥è‰ºæœ¯åŒ–æ–¹å¼ç»™è€æ—§å†…å®¹ä¸Šè‰²ï¼Œå¼ºåŒ–å¤å¤ã€åˆ›æ„è‰²å½©è¡¨ç°ï¼Œè®©é»‘ç™½ç”»é¢å‘ˆç°ç‹¬ç‰¹è‰ºæœ¯æ°›å›´ ã€‚</p><p><strong>å¸§ä¸Šè‰²å¤§å°</strong>åŒ…å«å››ä¸ªå°ºå¯¸ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="d7f972ebf99e9358e4b4566a63a7378d1182660461.jpg@602w_354h.webp" alt="" /></p><p>å°å°ºå¯¸ï¼ˆå¦‚ 256Ã—256 ï¼‰ï¼šå¤„ç†é€Ÿåº¦å¿«ã€å ç”¨ç”µè„‘èµ„æºï¼ˆæ˜¾å­˜ / å†…å­˜ ï¼‰å°‘ï¼Œé€‚åˆé…ç½®ä¸€èˆ¬è®¾å¤‡æˆ–å¯¹ç»†èŠ‚è¦æ±‚ä¸é«˜ã€è¿½æ±‚å¿«é€Ÿå‡ºç»“æœçš„åœºæ™¯ï¼Œä½†å¯èƒ½æŸå¤±ç”»é¢ç»†èŠ‚ï¼Œè®©ä¸Šè‰²æ•ˆæœç²—ç³™ ã€‚</p><p>å¤§å°ºå¯¸ï¼ˆå¦‚ 512Ã—512 ï¼‰ï¼šèƒ½æ•æ‰æ›´å¤šç”»é¢ç»†èŠ‚ï¼Œä¸Šè‰²åè‰²å½©è¿‡æ¸¡ã€çº¹ç†è¿˜åŸæ›´ç»†è…»ï¼Œé€‚åˆé«˜æ€§èƒ½è®¾å¤‡å¤„ç†å¯¹ç»†èŠ‚è¦æ±‚é«˜çš„å†…å®¹ï¼ˆå¦‚è€ç”µå½±ä¿®å¤ ï¼‰ï¼Œä½†ä¼šå¢åŠ èµ„æºæ¶ˆè€—ã€å»¶é•¿å¤„ç†æ—¶é—´ ã€‚</p><p><strong>å¸§ä¸Šè‰²æ··åˆ</strong>ï¼šæ§åˆ¶ä¸Šè‰²ç¨‹åº¦å¤§å°ï¼Œæ•°å€¼é«˜ï¼Œæ–°ä¸Šè‰²æ•ˆæœçªå‡ºï¼ŒåŸå§‹ä¿¡æ¯æ®‹ç•™å°‘ï¼Œé€‚åˆæƒ³å½»åº•è¦†ç›–æ—§è‰²å½©çš„åœºæ™¯ï¼›æ•°å€¼ä½ï¼Œä¿ç•™æ›´å¤šåŸå§‹è´¨æ„Ÿï¼ˆå¦‚ç°åº¦ ï¼‰ï¼Œè®©ä¸Šè‰²è¿‡æ¸¡è‡ªç„¶ï¼Œé€‚åˆè¿½æ±‚æŸ”å’Œèåˆæ•ˆæœçš„åœºæ™¯ ï¼Œç”¨äºè°ƒèŠ‚æ–°æ—§è‰²å½©åœ¨æœ€ç»ˆç”»é¢é‡Œçš„å‘ˆç°æ¯”ä¾‹ã€‚</p><h2 id="9-frame_enhancer"><a class="markdownIt-Anchor" href="#9-frame_enhancer"></a> <strong>ï¼ˆ9ï¼‰ frame_enhancer</strong></h2><p>å¸§å¢å¼ºå™¨ ï¼šä¸»è¦é’ˆå¯¹æ•´ä¸ªç”»é¢ï¼Œè€Œä¸æ˜¯å•ç‹¬é’ˆå¯¹äººè„¸çš„å¢å¼ºï¼Œæå‡è½¬æ¢åè§†é¢‘æ•´ä½“æ¸…æ™°åº¦ï¼Œä¼˜åŒ–ç”»é¢è´¨é‡ã€‚æ¢è„¸åçš„è§†é¢‘ç”»é¢æ¨¡ç³Šï¼Œå¼€å¯å®ƒå¯è®©æ•´ä¸ªè§†é¢‘ç”»é¢æ›´æ¸…æ™°é”åˆ© ã€‚</p><p>é€‰æ‹©è¯¥é€‰é¡¹åï¼Œä¸‹é¢æ˜¾ç¤ºå¸§å¢å¼ºæ¨¡å‹å’Œå¸§å¢å¼ºæ··åˆå‚æ•°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="97ec07ff2c256c50cca2a6e61e1d66911182660461.jpg@666w_354h.webp" alt="" /></p><p>å¸§å¢å¼ºæ¨¡å‹åŒ…å«17ä¸ªï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="f3bf62fa869ec8ad61af9bdd79ff6b1d1182660461.jpg@670w_1360h.webp" alt="" /></p><p>å¯¹äºè¿™äº›æ¨¡å‹çš„ç‰¹ç‚¹å’Œä½œç”¨ï¼Œæˆ‘å¤§ä½“å™è¿°å¦‚ä¸‹ï¼š</p><p><strong>ï¼ˆä¸€ï¼‰RealESRGANç³»åˆ—ï¼ˆä»¥RealESRGANä¸ºåŸºç¡€çš„è¡ç”Ÿæ¨¡å‹ ï¼‰</strong></p><p><strong>real_esrgan_x2 / real_esrgan_x2_fp16</strong></p><p>ç‰¹ç‚¹ï¼šä¸»æ‰“ 2å€è¶…åˆ†è¾¨ç‡ ï¼Œç”¨è¾ƒå°è®¡ç®—æˆæœ¬å®ç°åŸºç¡€ç”»è´¨æå‡ã€‚`fp16` ç‰ˆæœ¬æ˜¯åŠç²¾åº¦è®¡ç®—ä¼˜åŒ–ï¼Œèƒ½åœ¨ä¿æŒæ•ˆæœçš„åŒæ—¶ï¼ŒåŠ å¿«å¤„ç†é€Ÿåº¦ã€é™ä½æ˜¾å­˜å ç”¨ï¼Œé€‚åˆå¯¹åˆ†è¾¨ç‡è¦æ±‚æ²¡é‚£ä¹ˆæè‡´ï¼Œä½†æƒ³å¿«é€Ÿæå‡æ¸…æ™°åº¦çš„åœºæ™¯ï¼ˆæ¯”å¦‚çŸ­è§†é¢‘ç‰‡æ®µã€ä½æ¸…ç´ æåˆæ­¥ä¿®å¤ ï¼‰ã€‚</p><p><strong>real_esrgan_x4 / real_esrgan_x4_fp16</strong></p><p>ç‰¹ç‚¹ï¼š4å€è¶…åˆ†è¾¨ç‡æ˜¯æ ¸å¿ƒï¼Œåœ¨ç”»è´¨æå‡å¹…åº¦å’Œè®¡ç®—æ•ˆç‡é—´æ‰¾å¹³è¡¡ã€‚å¯¹ä½åˆ†è¾¨ç‡è§†é¢‘å¸§ï¼ˆå¦‚è€æ—§ç›‘æ§ã€ä½æ¸…åŠ¨ç”» ï¼‰ï¼Œèƒ½æœ‰æ•ˆå¢å¼ºç»†èŠ‚ã€é”åŒ–è¾¹ç¼˜ï¼Œè®©ç”»é¢æ›´æ¸…æ™°ã€‚`fp16` ç‰ˆæœ¬åŒæ ·æ˜¯åŠ é€Ÿä¼˜åŒ–ï¼Œé€‚åˆä¸­ç«¯é…ç½®è®¾å¤‡å¤„ç†å¸¸è§„è§†é¢‘å¢å¼ºéœ€æ±‚ã€‚</p><p><strong>real_esrgan_x8 / real_esrgan_x8_fp16</strong></p><p>ç‰¹ç‚¹ï¼š8å€è¶…åˆ†è¾¨ç‡ ï¼Œè¿½æ±‚æè‡´ç»†èŠ‚è¿˜åŸï¼Œä½†å¯¹ç¡¬ä»¶è¦æ±‚é«˜ï¼ˆéœ€è¦æ›´å¼ºç®—åŠ›ã€æ˜¾å­˜ ï¼‰ã€‚é€‚åˆå¤„ç†æä½æˆæœ¬ç´ æï¼ˆå¦‚æ—©æœŸæ‰‹æœºæ‹æ‘„çš„æ¨¡ç³Šä½æ¸…è§†é¢‘ ï¼‰ï¼Œèƒ½æœ€å¤§ç¨‹åº¦æŒ–æ˜ç”»é¢ç»†èŠ‚ï¼Œä½†å¤„ç†é€Ÿåº¦æ…¢ã€èµ„æºæ¶ˆè€—å¤§ï¼Œæ›´é€‚åˆè¿½æ±‚ç”»è´¨æé™çš„åœºæ™¯ï¼ˆå¦‚è€ç”µå½±ä¿®å¤ã€çè´µå½±åƒæŠ¢æ•‘ ï¼‰ã€‚</p><p><strong>ï¼ˆäºŒï¼‰å…¶ä»–ç‰¹è‰²å¢å¼ºæ¨¡å‹</strong></p><p><strong>clear_reality_x4</strong></p><p>ç‰¹ç‚¹ï¼šä¾§é‡ â€œçœŸå®æ„Ÿè¿˜åŸâ€ ï¼Œåœ¨è¶…åˆ†è¾¨ç‡åŒæ—¶ï¼Œä¼šä¼˜åŒ–è‰²å½©è‡ªç„¶åº¦ã€æŠ‘åˆ¶è¿‡åº¦é”åŒ–ã€‚é€‚åˆå¤„ç†é£æ™¯ã€å†™å®ç±»è§†é¢‘å¸§ï¼Œè®©å¢å¼ºåçš„ç”»é¢æ—¢æ¸…æ™°åˆè´´è¿‘çœŸå®è§†è§‰ï¼ˆæ¯”å¦‚æ—…è¡Œvlogä¿®å¤ï¼Œé¿å…ç”»é¢è¿‡é”æ˜¾å¾—å‡ ï¼‰ã€‚</p><p><strong>lsdir_x4</strong></p><p>ç‰¹ç‚¹ï¼šå¯èƒ½åå‘ â€œè½»é‡å¿«é€Ÿâ€ ï¼Œé’ˆå¯¹å°å°ºå¯¸ã€ä½å¤æ‚åº¦ç”»é¢ä¼˜åŒ–ã€‚é€‚åˆæ‰¹é‡å¤„ç†ç®€å•ç´ æï¼ˆå¦‚è¡¨æƒ…åŒ…ã€å°å°ºå¯¸çŸ­è§†é¢‘ ï¼‰ï¼Œç”¨è¾ƒä½èµ„æºæ¶ˆè€—å¿«é€Ÿæå‡æ¸…æ™°åº¦ï¼Œä¸»æ‰“ä¸€ä¸ªâ€œé«˜æ•ˆç®€æ´â€ã€‚</p><p><strong>nomos8k_sc_x4</strong></p><p>ç‰¹ç‚¹ï¼šå¯¹ 8KåŠè¶…é«˜æ¸…é€‚é…æ€§å¼º ï¼Œå¤„ç†é«˜åˆ†è¾¨ç‡åŸå§‹ç´ ææ—¶ï¼Œèƒ½ç²¾å‡†å¢å¼ºç»†èŠ‚ã€ä¿æŒç”»é¢ä¸€è‡´æ€§ã€‚é€‚åˆä¸“ä¸šå½±è§†åæœŸã€é«˜ç«¯è§†é¢‘åˆ›ä½œï¼Œç»™8Kæ‹æ‘„çš„ç´ æåšç²¾ç»†ç”»è´¨ä¼˜åŒ–ï¼Œé¿å…æ”¾å¤§åç»†èŠ‚å´©åã€‚</p><p><strong>real_hatgan_x4</strong></p><p>ç‰¹ç‚¹ï¼šç»“åˆ GANï¼ˆç”Ÿæˆå¯¹æŠ—ç½‘ç»œ ï¼‰ æŠ€æœ¯ï¼Œåœ¨å¢å¼ºåˆ†è¾¨ç‡åŒæ—¶ï¼Œå¼ºåŒ–ç”»é¢â€œçœŸå®çº¹ç†ç”Ÿæˆâ€ã€‚å¯¹äººè„¸ã€ç‰©ä½“çº¹ç†ä¿®å¤æ•ˆæœçªå‡ºï¼ˆæ¯”å¦‚è€ç…§ç‰‡äººè„¸ä¿®å¤ ï¼‰ï¼Œè®©å¢å¼ºåçš„ç»†èŠ‚æ›´è‡ªç„¶ã€æœ‰çœŸå®è´¨æ„Ÿï¼Œä¸åƒä¼ ç»Ÿç®—æ³•å®¹æ˜“â€œå‡ç³Šâ€ã€‚</p><p><strong>real_web_photo_x4</strong></p><p>ç‰¹ç‚¹ï¼šé’ˆå¯¹ ç½‘ç»œç…§ç‰‡/ç½‘é¡µè§†é¢‘ ä¼˜åŒ–ï¼Œè¿™ç±»ç´ æå¸¸å› å‹ç¼©ã€ä¼ è¾“æŸå¤±ç”»è´¨ã€‚æ¨¡å‹ä¼šé‡ç‚¹ä¿®å¤è‰²å—ã€æ¨¡ç³Šã€å‹ç¼©å™ªå£°ï¼Œè®©ä»ç½‘é¡µ/ç¤¾äº¤å¹³å°ä¸‹è½½çš„ä½è´¨ç´ æï¼ˆå¦‚æˆªå›¾ã€è½¬å‘å¤šæ¬¡çš„è§†é¢‘ ï¼‰æ¢å¤æ¸…æ™°åº¦ï¼Œé€‚é…äºŒæ¬¡åˆ›ä½œåœºæ™¯ã€‚</p><p><strong>realistic_rescaler_x4</strong></p><p>ç‰¹ç‚¹ï¼šå¼ºè°ƒ â€œå†™å®é£æ ¼ç¼©æ”¾â€ ï¼Œè¶…åˆ†è¾¨ç‡æ—¶ä¸¥æ ¼éµå¾ªçœŸå®ç‰©ç†è§„å¾‹ï¼ˆå…‰å½±ã€çº¹ç†æ¯”ä¾‹ ï¼‰ã€‚é€‚åˆå»ºç­‘ã€å·¥ä¸šç±»è§†é¢‘å¸§å¤„ç†ï¼ˆå¦‚å·¥ç¨‹ç›‘æ§ã€å»ºç­‘è®¾è®¡è§†é¢‘ ï¼‰ï¼Œä¿è¯å¢å¼ºåç”»é¢æ¯”ä¾‹ã€ç»†èŠ‚ç¬¦åˆç°å®é€»è¾‘ï¼Œä¸å‡ºç¾è‰ºæœ¯åŒ–å¤±çœŸã€‚</p><p><strong>remacri_x4</strong></p><p>ç‰¹ç‚¹ï¼šå¯èƒ½åå‘ â€œè‰ºæœ¯åŒ–å¢å¼ºâ€ ï¼Œåœ¨æå‡æ¸…æ™°åº¦åŒæ—¶ï¼Œç»™ç”»é¢åŠ è½»å¾®è‰ºæœ¯æ»¤é•œï¼ˆå¦‚èƒ¶ç‰‡æ„Ÿã€å¤å¤è‰²è°ƒ ï¼‰ã€‚é€‚åˆæƒ³è®©è§†é¢‘å¸§æœ‰ç‹¬ç‰¹é£æ ¼çš„åˆ›ä½œï¼ˆå¦‚å¤å¤é£çŸ­è§†é¢‘ã€è‰ºæœ¯çŸ­ç‰‡ ï¼‰ï¼Œå¢å¼ºç”»è´¨+é£æ ¼åŒ–ä¸€æ­¥åˆ°ä½ã€‚</p><p><strong>siaux_x4</strong></p><p>ç‰¹ç‚¹ï¼šä¸»æ‰“ â€œæ™ºèƒ½ç»†èŠ‚è¡¥å…¨â€ ï¼Œå¯¹ç”»é¢ç¼ºå¤±ç»†èŠ‚ï¼ˆå¦‚è€ç…§ç‰‡åˆ’ç—•ã€ä½æ¸…ç”»é¢æ¨¡ç³Šè½®å»“ ï¼‰ï¼Œèƒ½é€šè¿‡ç®—æ³•â€œè„‘è¡¥â€åˆç†å†…å®¹ã€‚é€‚åˆç ´æŸç´ æä¿®å¤ï¼ˆå¦‚å¸¦åˆ’ç—•çš„è€å½±åƒ ï¼‰ï¼Œåœ¨æå‡æ¸…æ™°åº¦åŒæ—¶ä¿®å¤ç”»é¢ç‘•ç–µã€‚</p><p><strong>span_kendata_x4</strong></p><p>ç‰¹ç‚¹ï¼šå¯¹ äººç‰©/è‚–åƒä¼˜åŒ– æœ‰ä¾§é‡ï¼Œè¶…åˆ†è¾¨ç‡æ—¶å¼ºåŒ–çš®è‚¤çº¹ç†ã€äº”å®˜ç»†èŠ‚ï¼Œè®©äººè„¸æ›´æ¸…æ™°è‡ªç„¶ã€‚é€‚åˆçŸ­è§†é¢‘æ¢è„¸ã€äººç‰©vlogå¤„ç†ï¼Œè®©å¢å¼ºåçš„äººç‰©é¢éƒ¨ç»†èŠ‚æ›´çœŸå®ï¼ˆæ¯”å¦‚ç¾å¦†ã€é¢œå€¼ç±»è§†é¢‘ä¿®å¤ ï¼‰ã€‚</p><p><strong>swin2_sr_x4</strong></p><p>ç‰¹ç‚¹ï¼šåŸºäº Swin Transformeræ¶æ„ ï¼Œæ“…é•¿æ•æ‰é•¿è·ç¦»ç”»é¢ä¾èµ–å…³ç³»ï¼ˆæ¯”å¦‚å¤æ‚åœºæ™¯ä¸­ä¸åŒç‰©ä½“å…³è” ï¼‰ã€‚å¯¹å¤§åœºæ™¯ã€å¤šå…ƒç´ è§†é¢‘å¸§ï¼ˆå¦‚ç”µå½±åœºæ™¯ã€åŸå¸‚å…¨æ™¯ ï¼‰ï¼Œèƒ½æ›´ç²¾å‡†å¢å¼ºç»†èŠ‚ã€è¿˜åŸæ•´ä½“æ°›å›´ï¼Œé€‚åˆä¸“ä¸šå½±è§†çº§ç”»è´¨æå‡ã€‚</p><p><strong>ultra_sharp_x4</strong></p><p>ç‰¹ç‚¹ï¼šæç«¯è¿½æ±‚ â€œé”åˆ©æ¸…æ™°â€ ï¼Œè¶…åˆ†è¾¨ç‡æ—¶æœ€å¤§åŒ–é”åŒ–è¾¹ç¼˜ã€å¼ºåŒ–ç»†èŠ‚ã€‚é€‚åˆéœ€è¦å¼ºè§†è§‰å†²å‡»åŠ›çš„åœºæ™¯ï¼ˆå¦‚æ¸¸æˆCGã€å¹¿å‘Šç‰‡ ï¼‰ï¼Œè®©ç”»é¢çº¿æ¡ç¡¬æœ—ã€ç»†èŠ‚çªå‡ºï¼Œä½†è¦æ³¨æ„è¿‡åº¦é”åŒ–å¯èƒ½å¯¼è‡´ç”»é¢â€œå‡â€â€œç”Ÿç¡¬â€ï¼Œéœ€é…åˆå…¶ä»–å‚æ•°è°ƒæ•´ã€‚</p><p>è¿½æ±‚â€œæ•ˆç‡ä¼˜å…ˆâ€ â†’ é€‰å¸¦ `fp16` åç¼€ï¼ˆåŠ é€Ÿ ï¼‰ã€`x2`/`x4` å°å€æ•°æ¨¡å‹ï¼ˆå¦‚ `real_esrgan_x2_fp16`Â ï¼‰ï¼›Â è¿½æ±‚â€œæè‡´ç”»è´¨â€ â†’ é€‰ `x8` å¤§å€æ•°ã€`swin2_sr_x4` è¿™ç±»æ¶æ„å¤æ‚çš„æ¨¡å‹ï¼›é’ˆå¯¹â€œç‰¹å®šåœºæ™¯â€ï¼ˆäººè„¸ã€é£æ™¯ã€8K ï¼‰â†’ å¯¹åº”ä¸“é¡¹ä¼˜åŒ–æ¨¡å‹ï¼ˆ`span_kendata_x4` ã€`nomos8k_sc_x4`Â ï¼‰ã€‚</p><p>ç®€å•è¯´ï¼Œæ¯ä¸ªæ¨¡å‹éƒ½æ˜¯åœ¨ â€œåˆ†è¾¨ç‡æå‡å¹…åº¦â€â€œè®¡ç®—æ•ˆç‡â€â€œåœºæ™¯é€‚é…æ€§â€ ä¸‰è€…é—´åšå–èˆï¼Œæ ¹æ®ç´ æè´¨é‡ã€è®¾å¤‡æ€§èƒ½ã€åˆ›ä½œéœ€æ±‚é€‰å°±è¡Œ~</p><h2 id="10lip_syncer"><a class="markdownIt-Anchor" href="#10lip_syncer"></a> <strong>ï¼ˆ10ï¼‰lip_syncer</strong></h2><p>å˜´å”‡åŒæ­¥å™¨ ï¼šä¹Ÿå°±æ˜¯å¯¹å£å‹åŠŸèƒ½ï¼Œç”¨éŸ³é¢‘é©±åŠ¨è§†é¢‘ä¸­äººç‰©å˜´å‹ï¼Œè®©å˜´å‹ä¸éŸ³é¢‘åŒ¹é…ã€‚æ¯”å¦‚ç»™æ¢è„¸åçš„äººç‰©é…éŸ³ï¼Œå¼€å¯å®ƒå¯è®©äººç‰©å˜´å‹éšé…éŸ³è‡ªç„¶å˜åŠ¨ï¼Œåƒåˆ¶ä½œè™šæ‹Ÿä¸»æ’­è¯´è¯è§†é¢‘Â ã€‚</p><p><img src="e636bfb7989242441f004d78693296021182660461.jpg@1192w.webp" alt="" /></p><p>é€‰æ‹©lip_syncerï¼ˆå˜´å”‡åŒæ­¥å™¨ ï¼‰åï¼Œä¸‹æ–¹æ˜¾ç¤ºå®ƒçš„å‚æ•°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="5839d17b2015dca5835cbc36a7b0f34e1182660461.jpg@668w_900h.webp" alt="" /></p><p>å”‡å½¢åŒæ­¥æ¨¡å‹åŒ…å«ä¸¤ä¸ªï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="2e376b8b96e90373db6aec90ba71ca921182660461.jpg@604w_206h.webp" alt="" /></p><p><strong>wav2lip_96</strong>ï¼šåŸºç¡€å”‡å½¢åŒæ­¥æ¨¡å‹ï¼Œé€šè¿‡æå–å˜´å½¢ã€éŸ³é¢‘ç‰¹å¾å¹¶è®¡ç®—ç›¸ä¼¼åº¦ï¼Œå®ç°å”‡å½¢ä¸éŸ³é¢‘åŒ¹é…ï¼Œé‡ç‚¹ä¿éšœå”‡å½¢åŒæ­¥ç²¾åº¦ ï¼Œä¸“æ³¨è®©å”‡éƒ¨åŠ¨ä½œä¸¥æ ¼è´´åˆå£°éŸ³èŠ‚å¥ã€‚</p><p><strong>wav2lip_gan_96</strong>ï¼šå¼•å…¥ ç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼ˆGANï¼‰ ï¼Œåœ¨åŒæ­¥å”‡å½¢åŸºç¡€ä¸Šï¼Œå¢åŠ å¯¹ â€œè§†è§‰è´¨é‡â€ çš„ä¼˜åŒ–ï¼Œé€šè¿‡ç”Ÿæˆå™¨å’Œåˆ¤åˆ«å™¨å¯¹æŠ—ï¼Œè®©ç»“æœæ›´è‡ªç„¶ã€ç»†èŠ‚æ›´ä¸°å¯Œ ã€‚</p><p><strong>å”‡å½¢åŒæ­¥è¦æ±‚ä¸€æ®µéŸ³é¢‘å’Œä¸éŸ³é¢‘æ—¶é•¿å¯¹åº”çš„äººåƒè§†é¢‘ã€‚</strong></p><p>è§†é¢‘æ¢è„¸å’Œå”‡å½¢åŒæ­¥è®¾ç½®å®Œå‚æ•°ä¹‹åï¼Œéƒ½è¦ç‚¹å‡»ä¸€ä¸‹ä¸‹æ–¹çš„â€œå¼€å§‹â€æŒ‰é’®ã€‚</p><p><strong>æ³¨æ„ï¼šUIå·¥ä½œæµç¨‹ä¸‹æ‹‰åˆ—è¡¨ä¸­è¦é€‰æ‹©instant_runnerï¼Œæ­¤æ—¶ä¸‹æ–¹çš„â€œåº”ç”¨â€æŒ‰é’®å˜æˆâ€œå¼€å§‹/åœæ­¢â€æŒ‰é’®ï¼Œå¹¶å¤šäº†ä¸€ä¸ªâ€œæ¸…é™¤â€æŒ‰é’®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</strong></p><p><img src="9c478de6fb1dcd70b6779058f72d3ac41182660461.jpg@670w_444h.webp" alt="" /></p><h2 id="å››-è¿è¡Œæ¨¡å¼"><a class="markdownIt-Anchor" href="#å››-è¿è¡Œæ¨¡å¼"></a> <strong>å››ã€è¿è¡Œæ¨¡å¼</strong></h2><p>è¿è¡Œæ¨¡å¼åŒ…æ‹¬ä¸‰ç§ï¼Œå¦‚æœä½ çš„ç”µè„‘ä¸æ˜¯è‹±ä¼Ÿè¾¾æ˜¾å¡ï¼Œåˆ™åªèƒ½é€‰æ‹©CPUæ¨¡å¼ï¼Œå¦‚æœæ˜¯è‹±ä¼Ÿè¾¾æ˜¾å¡ä¸”å®‰è£…äº†cudaæˆ–tensorrtï¼Œåˆ™å¯ä»¥é€‰æ‹©ä¹‹ï¼Œå¯ä»¥åŠ é€Ÿæ¸²æŸ“é€Ÿåº¦ã€‚</p><p><img src="82da61f35f96f23b1427cc229058c3951182660461.jpg@638w_476h.webp" alt="" /></p><p>å…·ä½“è€Œè¨€ï¼Œ<strong>cudaçš„ç‰¹ç‚¹å¦‚ä¸‹</strong>ï¼š</p><p>ä¾èµ–ä¸ä¼˜åŠ¿ï¼šä¾æ‰˜ NVIDIA æ˜¾å¡çš„ CUDA æŠ€æœ¯ï¼Œèƒ½è°ƒç”¨ GPU ç®—åŠ›åŠ é€Ÿã€‚é€‚åˆæœ‰ N å¡ï¼ˆNVIDIA æ˜¾å¡ ï¼‰çš„è®¾å¤‡ï¼Œå¤§å¹…æå‡äººè„¸å¤„ç†é€Ÿåº¦ï¼Œåƒè§†é¢‘æ¢è„¸æ—¶ï¼Œåˆ©ç”¨ GPU å¹¶è¡Œè®¡ç®—ï¼Œå¿«é€Ÿå¤„ç†æ¯ä¸€å¸§ç”»é¢ ã€‚</p><p>é€‚ç”¨åœºæ™¯ï¼šå¯¹ç¡¬ä»¶æœ‰ä¸€å®šè¦æ±‚ï¼Œéœ€ N å¡ä¸”è£…å¥½å¯¹åº” CUDA å·¥å…·åŒ…ï¼Œé€‚åˆè¿½æ±‚é«˜æ•ˆå¤„ç†ã€ç”µè„‘é…ç½®ï¼ˆæœ‰é€‚é… N å¡ï¼‰è¾ƒå¥½ï¼Œå¤„ç†å¤§è§„æ¨¡äººè„¸æ•°æ®ï¼ˆå¦‚é•¿è§†é¢‘æ¢è„¸ã€æ‰¹é‡æ¢è„¸ä»»åŠ¡ ï¼‰çš„åœºæ™¯ã€‚</p><p><strong>tensorrtçš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š</strong></p><p>ä¾èµ–ä¸ä¼˜åŠ¿ï¼šæ˜¯ NVIDIA çš„é«˜æ€§èƒ½æ¨ç†ä¼˜åŒ–å™¨ï¼Œéœ€é€‚é…çš„ GPU ç¡¬ä»¶ï¼ˆé€šå¸¸ N å¡ ï¼‰ã€‚èƒ½è¿›ä¸€æ­¥ä¼˜åŒ–æ¨¡å‹æ¨ç†ï¼Œåœ¨ cuda åŸºç¡€ä¸Šï¼Œé€šè¿‡æ¨¡å‹ä¼˜åŒ–ã€ç²¾åº¦è°ƒæ•´ç­‰ï¼Œé™ä½å»¶è¿Ÿã€æé«˜ååé‡ï¼Œè®©äººè„¸å¤„ç†æ›´é«˜æ•ˆï¼Œæ¯”å¦‚å¤æ‚äººè„¸èåˆä»»åŠ¡ï¼Œèƒ½æ›´å¿«å‡ºç»“æœ ã€‚</p><p>é€‚ç”¨åœºæ™¯ï¼šè¦æ±‚ç¡¬ä»¶æ”¯æŒï¼ˆé€‚é… TensorRT çš„ N å¡ç­‰ ï¼‰ã€è½¯ä»¶ç¯å¢ƒé…ç½®å¯¹åº”åº“ï¼Œé€‚åˆå¯¹å¤„ç†é€Ÿåº¦æè‡´è¿½æ±‚ï¼Œä¸”æœ‰ä¸“ä¸šç¡¬ä»¶åŸºç¡€ï¼ˆå¦‚ AI å¼€å‘ã€é«˜æ€§èƒ½è®¡ç®—åœºæ™¯ ï¼‰ï¼Œå¤„ç†é«˜å¤æ‚åº¦äººè„¸æ“ä½œï¼ˆå¦‚è¶…é«˜æ¸…è§†é¢‘æ¢è„¸ã€å¤šæ¨¡å‹èåˆæ¢è„¸ ï¼‰çš„æƒ…å†µã€‚</p><p><strong>cpuçš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š</strong></p><p>ä¾èµ–ä¸ä¼˜åŠ¿ï¼šä¾é è®¡ç®—æœº CPU è¿ç®—ï¼Œæ— éœ€ç‰¹æ®Šæ˜¾å¡ï¼Œå…¼å®¹æ€§å¼ºï¼Œä»»ä½•ç”µè„‘åŸºæœ¬éƒ½èƒ½ç”¨ã€‚ä¸è¿‡å—é™äº CPU æœ¬èº«è¿ç®—èƒ½åŠ›ï¼Œå¤„ç†é€Ÿåº¦ç›¸å¯¹æ…¢ï¼Œå°¤å…¶å¤§æ•°æ®é‡æ—¶æ›´æ˜æ˜¾ï¼Œä½†èƒœåœ¨æ™®é€‚æ€§ï¼Œä½é…ç½® â€œæ¸£æœºâ€ ä¹Ÿèƒ½è¿è¡ŒåŸºç¡€äººè„¸å¤„ç†ä»»åŠ¡ ã€‚</p><p>é€‚ç”¨åœºæ™¯ï¼šæ— ç‰¹æ®Šç¡¬ä»¶è¦æ±‚ï¼Œé€‚åˆç”µè„‘æ— ç‹¬ç«‹æ˜¾å¡ï¼ˆæˆ–æ˜¾å¡ä¸æ»¡è¶³ cuda/tensorrt æ¡ä»¶ ï¼‰ã€å¤„ç†ç®€å•äººè„¸ä»»åŠ¡ï¼ˆå¦‚å•å¼ å›¾ç‰‡æ¢è„¸ã€ä½åˆ†è¾¨ç‡çŸ­è§†é¢‘æ¢è„¸ ï¼‰ï¼Œæˆ–ä¸´æ—¶åº”æ€¥ä½¿ç”¨ï¼Œä¸è¿½æ±‚æè‡´é€Ÿåº¦çš„åœºæ™¯ã€‚</p><p><strong>æ‰§è¡Œçº¿ç¨‹æ•°</strong>ï¼šÂ å¯ç®€å•ç†è§£ä¸ºç¨‹åºåŒæ—¶ â€œåŠ¨æ‰‹å¹²æ´»â€ çš„ â€œå·¥äººæ•°é‡â€ ã€‚æ¯”å¦‚è®¾ä¸º 4ï¼Œå°±æ˜¯åŒæ—¶æœ‰ 4 ä¸ªçº¿ç¨‹ï¼ˆå¯çœ‹ä½œ 4 ä¸ª â€œå·¥äººâ€ ï¼‰å¹¶è¡Œå¤„ç†ä»»åŠ¡ï¼Œåƒå¯¹äººè„¸å›¾åƒçš„ä¸åŒåŒºåŸŸã€ä¸åŒè§†é¢‘å¸§ï¼Œåˆ†é…ç»™ä¸åŒçº¿ç¨‹è¿ç®—ï¼Œåˆ©ç”¨å¤šçº¿ç¨‹å¹¶è¡Œæå‡å¤„ç†é€Ÿåº¦ã€‚</p><p>ä½†çº¿ç¨‹æ•°ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œå— CPU æ ¸å¿ƒæ•°ã€ä»»åŠ¡ç±»å‹ï¼ˆCPU å¯†é›†å‹ / IO å¯†é›†å‹ ï¼‰é™åˆ¶ï¼Œå¤ªå¤šçº¿ç¨‹ä¼šå› åˆ‡æ¢é¢‘ç¹ã€èµ„æºç«äº‰ï¼Œåè€Œæ‹–æ…¢æ•´ä½“é€Ÿåº¦ã€‚</p><p>**CPU å¯†é›†å‹ä»»åŠ¡ï¼ˆå¦‚äººè„¸æ¨¡å‹æ¨ç†è®¡ç®— ï¼‰**è‹¥ç”µè„‘æ˜¯å¤šæ ¸ CPUï¼Œçº¿ç¨‹æ•°å»ºè®®æ¥è¿‘æˆ–ä¸è¶…è¿‡ CPU æ ¸å¿ƒæ•°ï¼ˆæ¯”å¦‚ 4 æ ¸ CPUï¼Œè®¾ 3 - 4 ï¼‰ã€‚å› è¿™ç±»ä»»åŠ¡ä¸»è¦é  CPU è¿ç®—ï¼Œçº¿ç¨‹å¤šäº†åˆ‡æ¢æˆæœ¬é«˜ï¼Œä¼šé™ä½æ•ˆç‡ã€‚åƒ FaceFusion å¯¹é«˜æ¸…äººè„¸å›¾åƒæ·±åº¦å¤„ç†æ—¶ï¼Œçº¿ç¨‹æ•°åŒ¹é… CPU æ ¸å¿ƒï¼Œèƒ½è®©è¿ç®—èµ„æºå……åˆ†åˆ©ç”¨åˆä¸æµªè´¹ã€‚</p><p><strong>IO å¯†é›†å‹ä»»åŠ¡ï¼ˆå¦‚åŠ è½½äººè„¸ç´ æã€è¯»å†™ä¸´æ—¶æ–‡ä»¶ ï¼‰</strong> çº¿ç¨‹æ•°å¯é€‚å½“è°ƒé«˜ï¼ˆæ¯”å¦‚ 8 - 12 ï¼Œç”šè‡³æ›´å¤šï¼Œä¾å®é™…æµ‹è¯• ï¼‰ã€‚å› ä¸ºä»»åŠ¡å¤šæ•°æ—¶é—´åœ¨ç­‰ IOï¼ˆåƒç­‰æ–‡ä»¶è¯»å– ï¼‰ï¼ŒCPU ç©ºé—²ï¼Œå¤šå¼€çº¿ç¨‹èƒ½åœ¨ç­‰å¾…æ—¶è®© CPU å¤„ç†å…¶ä»–ä»»åŠ¡ï¼Œæå‡æ•´ä½“ååé‡ã€‚æ¯”å¦‚æ‰¹é‡æ¢è„¸æ—¶åŠ è½½å¤§é‡äººè„¸å›¾ç‰‡ç´ æï¼Œå¤šçº¿ç¨‹å¹¶è¡ŒåŠ è½½å¯å‡å°‘ç­‰å¾…æ—¶é—´ã€‚</p><p><strong>æ‰§è¡Œé˜Ÿåˆ—æ•°</strong>ï¼šæ˜¯ç­‰å¾…æ‰§è¡Œä»»åŠ¡çš„ â€œæ’é˜ŸåŒºå®¹é‡â€ ã€‚å½“ä»»åŠ¡äº§ç”Ÿé€Ÿåº¦å¿«äºçº¿ç¨‹å¤„ç†é€Ÿåº¦ï¼Œæ²¡è¢«ç«‹å³å¤„ç†çš„ä»»åŠ¡ä¼šè¿›å…¥é˜Ÿåˆ—æ’é˜Ÿï¼Œè®¾ä¸º 1 å°±æ˜¯é˜Ÿåˆ—æœ€å¤šç¼“å­˜ 1 ä¸ªå¾…å¤„ç†ä»»åŠ¡ï¼ˆè¶…è¿‡å¯èƒ½è§¦å‘æ‹’ç»ç­–ç•¥æˆ–å½±å“ç¨‹åºç¨³å®šæ€§ ï¼‰ã€‚å®ƒç”¨äºåè°ƒä»»åŠ¡ç”Ÿäº§å’Œæ¶ˆè´¹èŠ‚å¥ï¼Œé¿å…ä»»åŠ¡ â€œæ‹¥å µâ€ å¯¼è‡´å†…å­˜æº¢å‡ºç­‰é—®é¢˜ã€‚</p><p><strong>ä»»åŠ¡é‡ç¨³å®šã€å°‘æ³¢åŠ¨åœºæ™¯</strong>ï¼šé˜Ÿåˆ—æ•°è®¾å°äº›ï¼ˆå¦‚ 1 - 3 ï¼‰ã€‚è‹¥ä»»åŠ¡ç”Ÿäº§å’Œå¤„ç†é€Ÿåº¦åŒ¹é…å¥½ï¼Œé˜Ÿåˆ—åªæ˜¯ä¸´æ—¶ â€œç¼“å†²â€ï¼Œå°é˜Ÿåˆ—å¯é¿å…å†…å­˜å­˜å¤ªå¤šå¾…å¤„ç†ä»»åŠ¡ï¼Œå‡è½»å†…å­˜å‹åŠ›ã€‚æ¯”å¦‚æ—¥å¸¸å•è§†é¢‘æ¢è„¸ï¼Œä»»åŠ¡æ•°å°‘ä¸”ç¨³å®šï¼Œé˜Ÿåˆ—æ•° 1 æˆ– 2 å°±å¤Ÿã€‚</p><p><strong>ä»»åŠ¡çªå‘ã€ç”Ÿäº§å¿«åœºæ™¯</strong>ï¼šé€‚å½“å¢å¤§é˜Ÿåˆ—æ•°ï¼ˆå¦‚ 5 - 10 ï¼Œéœ€ç»“åˆå†…å­˜æƒ…å†µ ï¼‰ã€‚å½“çŸ­æ—¶é—´æœ‰å¤§é‡æ¢è„¸ä»»åŠ¡ï¼ˆåƒæ‰¹é‡å¤„ç†å‡ åæ¡çŸ­è§†é¢‘ ï¼‰ï¼Œé˜Ÿåˆ—èƒ½æš‚å­˜ä»»åŠ¡ï¼Œç­‰çº¿ç¨‹æœ‰ç©ºå†å¤„ç†ï¼Œé¿å…ä»»åŠ¡ç›´æ¥è¢«æ‹’ç»ã€‚ä½†è¦æ³¨æ„ç›‘æ§å†…å­˜ï¼Œé˜Ÿåˆ—å¤ªæ»¡å­˜å¤§é‡ä»»åŠ¡ï¼Œå¯èƒ½å¼•å‘å†…å­˜æº¢å‡ºï¼Œå¯¼è‡´ç¨‹åºå´©æºƒã€‚</p><p>ç®€å•è¯´ï¼Œä½¿ç”¨æ—¶è¦ç»“åˆè‡ªèº«ç¡¬ä»¶ï¼ˆCPU æ ¸å¿ƒæ•°ã€å†…å­˜å¤§å° ï¼‰å’Œå®é™…ä»»åŠ¡ç±»å‹ï¼ˆäººè„¸å¤„ç†æ˜¯ç®—å¾—å¤šè¿˜æ˜¯ç­‰å¾—å¤š ï¼‰ï¼Œå…ˆå°èŒƒå›´è°ƒæ•´çº¿ç¨‹æ•°å’Œé˜Ÿåˆ—æ•°ï¼Œæµ‹è¯•ç¨‹åºå¤„ç†é€Ÿåº¦ã€èµ„æºå ç”¨ï¼ˆä»»åŠ¡ç®¡ç†å™¨çœ‹ CPUã€å†…å­˜ ï¼‰ï¼Œæ‰¾åˆ°æ—¢é«˜æ•ˆåˆç¨³å®šçš„ç»„åˆï¼Œè®© FaceFusion æ¢è„¸åˆå¿«åˆç¨³ ã€‚</p><h2 id="äº”-æ¨¡å‹ä¸‹è½½æ–¹å¼"><a class="markdownIt-Anchor" href="#äº”-æ¨¡å‹ä¸‹è½½æ–¹å¼"></a> <strong>äº”ã€æ¨¡å‹ä¸‹è½½æ–¹å¼</strong></h2><p>åœ¨ FaceFusionï¼ˆä»¥åŠå¾ˆå¤šæ¶‰åŠæ¨¡å‹åŠ è½½ã€ä½¿ç”¨çš„ AI åº”ç”¨åœºæ™¯é‡Œ ï¼‰ä¸­ï¼Œâ€œgithubâ€ å’Œ â€œhuggingfaceâ€ è¿™ä¸¤ç§æ¨¡å‹ä¸‹è½½æ–¹å¼ï¼Œä½œç”¨æ˜¯ä¸ºç¨‹åºæä¾›è·å–äººè„¸ç›¸å…³æ¨¡å‹æ–‡ä»¶ï¼ˆæ¯”å¦‚ç”¨äºæ¢è„¸çš„ç®—æ³•æ¨¡å‹ã€æƒé‡å‚æ•°ç­‰ ï¼‰çš„ä¸åŒæ¥æºæ¸ é“ã€‚</p><p><img src="7c8edb54aa8a9d19e7d4d452d403f76d1182660461.jpg@646w_184h.webp" alt="" /></p><p>è‹¥ä½ æƒ³æ·±åº¦å®šåˆ¶æ¨¡å‹ï¼ˆæ¯”å¦‚æ”¹ FaceFusion é‡Œæ¨¡å‹çš„æ¨ç†é€»è¾‘ ï¼‰ã€è¿½è¸ªæ¨¡å‹ç‰ˆæœ¬æ›´æ–°ï¼ˆå¼€å‘è€…é¢‘ç¹æäº¤ä»£ç å˜åŠ¨æ—¶ï¼Œèƒ½é€šè¿‡ Git æ‹‰å–æœ€æ–°ç‰ˆ ï¼‰ï¼Œé€‰ GitHub ä¸‹è½½æ›´æ–¹ä¾¿ï¼Œèƒ½è·å–å®Œæ•´é¡¹ç›®ä¸Šä¸‹æ–‡ï¼Œè¾…åŠ©è°ƒè¯•ã€ä¼˜åŒ–ã€‚</p><p>å¦‚æœä½ æ˜¯å¿«é€Ÿæƒ³ç”¨æ¨¡å‹è·‘é€š FaceFusion æµç¨‹ï¼Œä¸æƒ³æŠ˜è…¾ä»£ç ä»“åº“ç»†èŠ‚ï¼Œé€‰ Hugging Face æ›´çœå¿ƒï¼Œç›´æ¥è°ƒåº“ä¸‹è½½å³ç”¨ï¼›è€Œä¸”æƒ³å¯¹æ¯”ä¸åŒæ¨¡å‹æ•ˆæœï¼ˆå¹³å°ä¸Šæ¨¡å‹å¤šã€è¯„ä»·å…¨ ï¼‰ï¼Œæˆ–ç”¨ç¤¾åŒºçƒ­é—¨çš„ â€œå¼€ç®±å³ç”¨â€ æ¨¡å‹ï¼Œå®ƒæ˜¯é«˜æ•ˆæ¸ é“ã€‚</p><p>ç®€å•è¯´ï¼Œä¸¤ç§æ–¹å¼ç»™ä½ é€‰ â€œä»å“ªæ‹¿æ¨¡å‹â€ çš„è‡ªç”±ï¼šæƒ³æŠ˜è…¾ä»£ç ã€æ·±åº¦å¼€å‘ï¼Œç”¨ GitHubï¼›æƒ³å¿«é€Ÿç”¨ã€ä¾èµ–ç¤¾åŒºæˆç†Ÿæ¨¡å‹ï¼Œé€‰ Hugging Face ã€‚FaceFusion é‡ŒåŒæ—¶å‹¾é€‰ï¼Œç¨‹åºä¼šæŒ‰é€»è¾‘ï¼ˆå¯èƒ½ä¼˜å…ˆ / åŒæ—¶ä»ä¸¤ä¸ªæ¸ é“æ‰¾ ï¼‰å»æ‹‰å–æ¨¡å‹ï¼Œä¿è¯èƒ½æ‹¿åˆ°æ–‡ä»¶ï¼Œä¹Ÿè®©ä½ çµæ´»åº”å¯¹ä¸åŒç½‘ç»œç¯å¢ƒï¼ˆæ¯”å¦‚æœ‰æ—¶ GitHub è®¿é—®æ…¢ï¼ŒHugging Face èƒ½å…œåº• ï¼‰ ã€‚</p><h2 id="å…­-è§†é¢‘å†…å­˜ç­–ç•¥å’Œé™åˆ¶"><a class="markdownIt-Anchor" href="#å…­-è§†é¢‘å†…å­˜ç­–ç•¥å’Œé™åˆ¶"></a> <strong>å…­ã€è§†é¢‘å†…å­˜ç­–ç•¥å’Œé™åˆ¶</strong></h2><p>åœ¨ FaceFusion è¿™ç±»è§†é¢‘å¤„ç†ï¼ˆå°¤å…¶æ˜¯æ¶‰åŠäººè„¸èåˆç­‰ AI æ“ä½œ ï¼‰çš„å·¥å…·é‡Œï¼Œè§†é¢‘å†…å­˜ç­–ç•¥ç”¨äºæ§åˆ¶ç¨‹åºå¤„ç†è§†é¢‘æ—¶å¦‚ä½•åˆ†é…ã€ä½¿ç”¨è®¡ç®—æœºå†…å­˜ï¼Œå½±å“è§†é¢‘å¤„ç†çš„æµç•…åº¦ã€ç¨³å®šæ€§ï¼Œä»¥åŠå¯¹ç¡¬ä»¶èµ„æºçš„å ç”¨æ•ˆç‡ã€‚</p><p><img src="5d98527685d002ae8cead58beed1a33d1182660461.jpg@632w_374h.webp" alt="" /></p><p>ç®€å•è¯´ï¼Œå°±æ˜¯å¹³è¡¡ â€œè§†é¢‘å¤„ç†è´¨é‡ / é€Ÿåº¦â€ å’Œ â€œå†…å­˜å ç”¨â€ ã€‚è§†é¢‘å¤„ç†ï¼ˆæ¯”å¦‚äººè„¸æ›¿æ¢ã€å¸§æ¸²æŸ“ ï¼‰å¾ˆåƒå†…å­˜ï¼Œå°¤å…¶é«˜æ¸…ã€é•¿è§†é¢‘ï¼Œå†…å­˜ä¸å¤Ÿæ˜“å¡é¡¿ã€å´©æºƒã€‚å†…å­˜ç­–ç•¥å†³å®šç¨‹åºåœ¨ â€œç”¨å°½é‡å°‘çš„å†…å­˜ä¿è¯å¤„ç†æ•ˆæœâ€ å’Œ â€œå¤šå ç”¨å†…å­˜æå‡é€Ÿåº¦ / è´¨é‡â€ ä¹‹é—´æ€ä¹ˆé€‰ï¼Œè®©å·¥å…·é€‚é…ä¸åŒç¡¬ä»¶ï¼ˆä½é…ç”µè„‘å°‘å¡ã€é«˜é…ç”µè„‘é«˜æ•ˆåˆ©ç”¨ ï¼‰ã€‚</p><p><strong>strictï¼ˆä¸¥æ ¼ç­–ç•¥ ï¼‰</strong></p><p>ç‰¹ç‚¹ï¼šå¯¹å†…å­˜ä½¿ç”¨é™åˆ¶æœ€ä¸¥æ ¼ï¼Œå°½å¯èƒ½å°‘å å†…å­˜ã€‚ç¨‹åºä¼šç²¾ç»†ç®¡æ§å†…å­˜åˆ†é…ï¼Œæ¯”å¦‚ä¸¥æ ¼é™åˆ¶ç¼“å­˜çš„è§†é¢‘å¸§æ•°é‡ã€å‹ç¼©ä¸´æ—¶æ•°æ®ï¼Œç”šè‡³ç‰ºç‰²ä¸€ç‚¹å¤„ç†é€Ÿåº¦ï¼Œä¼˜å…ˆä¿è¯å†…å­˜ä¸è¶…é˜ˆå€¼ï¼Œé¿å…å› å†…å­˜ä¸è¶³å¯¼è‡´ç¨‹åºå´©æºƒã€‚</p><p>ç”¨é€”ï¼šé€‚åˆä½é…ç”µè„‘ï¼ˆå†…å­˜å°ï¼Œæ¯”å¦‚ 8G/16G ï¼‰ ï¼Œæˆ–å¤„ç†çŸ­ã€ä½åˆ†è¾¨ç‡è§†é¢‘æ—¶ç”¨ã€‚æ¯”å¦‚æ—§ç¬”è®°æœ¬å†…å­˜åªæœ‰ 8Gï¼Œå¤„ç†çŸ­è§†é¢‘æ¢è„¸ï¼Œé€‰ strict èƒ½é™ä½å†…å­˜çˆ†æ‰çš„é£é™©ï¼Œä»£ä»·å¯èƒ½æ˜¯å¤„ç†æ—¶é—´ç¨é•¿ï¼ˆå› ä¸ºè¦é¢‘ç¹ â€œçœå†…å­˜â€ ï¼‰ã€‚</p><p><strong>moderateï¼ˆé€‚ä¸­ç­–ç•¥ ï¼‰</strong></p><p>ç‰¹ç‚¹ï¼šå†…å­˜æ§åˆ¶å’Œå¤„ç†æ•ˆç‡æ‰¾å¹³è¡¡ã€‚æ—¢ä¸ä¼šåƒ strict é‚£æ ·æç«¯å‹ç¼©å†…å­˜ï¼Œä¹Ÿä¸ä¼šæ— èŠ‚åˆ¶å ç”¨ã€‚ä¼šåˆç†ç¼“å­˜å¿…è¦çš„è§†é¢‘æ•°æ®ã€ä¸­é—´ç»“æœï¼Œä¿è¯å¤„ç†é€Ÿåº¦çš„åŒæ—¶ï¼Œè®©å†…å­˜å ç”¨ç»´æŒåœ¨å¤šæ•°ç”µè„‘ï¼ˆæ¯”å¦‚ 16G/32G å†…å­˜ ï¼‰èƒ½æ‰¿å—çš„èŒƒå›´ã€‚</p><p>ç”¨é€”ï¼šæ—¥å¸¸é€šç”¨åœºæ™¯é¦–é€‰ï¼Œå¤§éƒ¨åˆ†ç”µè„‘ï¼ˆå†…å­˜ä¸ç®—ç‰¹åˆ«å° / ç‰¹åˆ«å¤§ ï¼‰ã€å¤„ç†æ™®é€šé•¿åº¦ / åˆ†è¾¨ç‡è§†é¢‘ï¼ˆå¦‚ 1080P çŸ­è§†é¢‘ ï¼‰æ—¶ï¼Œé€‰ moderate æ—¢èƒ½ä¿è¯å¤„ç†æµç•…ï¼ˆé€Ÿåº¦è¿˜ä¸é”™ ï¼‰ï¼Œåˆä¸å®¹æ˜“å› å†…å­˜å ç”¨å¤ªé«˜è§¦å‘ç³»ç»Ÿé¢„è­¦ã€å¡é¡¿ã€‚</p><p><strong>tolerantï¼ˆå®½æ¾ç­–ç•¥ ï¼‰</strong></p><p>ç‰¹ç‚¹ï¼šä¼˜å…ˆä¿è¯å¤„ç†é€Ÿåº¦ã€è´¨é‡ï¼Œå¯¹å†…å­˜å ç”¨é™åˆ¶å®½æ¾ã€‚ç¨‹åºä¼šå¤§èƒ†ç¼“å­˜è§†é¢‘å¸§ã€ä¸­é—´æ¨¡å‹ç»“æœï¼Œç”šè‡³å°½å¯èƒ½å¤šå¼€å¹¶è¡Œä»»åŠ¡ï¼Œå……åˆ†åˆ©ç”¨å¤§å†…å­˜ä¼˜åŠ¿åŠ é€Ÿå¤„ç†ã€‚ä½†å†…å­˜å ç”¨ä¼šæ›´é«˜ï¼Œå¯¹ç¡¬ä»¶è¦æ±‚ä¹Ÿé«˜ã€‚</p><p>ç”¨é€”ï¼šé€‚åˆé«˜é…ç”µè„‘ï¼ˆå†…å­˜å¤§ï¼Œæ¯”å¦‚ 32G åŠä»¥ä¸Š ï¼‰ ï¼Œå¤„ç†é•¿è§†é¢‘ã€é«˜åˆ†è¾¨ç‡ï¼ˆ4K ç­‰ ï¼‰è§†é¢‘ã€‚æ¯”å¦‚ç”¨ 64G å†…å­˜çš„å·¥ä½œç«™åšç”µå½±çº§äººè„¸æ›¿æ¢ï¼Œé€‰ tolerant èƒ½è®© GPU/CPU å°‘ç­‰ â€œå†…å­˜æ¬è¿æ•°æ®â€ï¼Œæ›´å¿«å®Œæˆå¤æ‚è®¡ç®—ï¼Œä»£ä»·æ˜¯å†…å­˜ä¼šè¢«å¤§é‡å ç”¨ï¼ˆä½†é«˜é…ç”µè„‘æ‰›å¾—ä½ ï¼‰ã€‚</p><p><strong>ç»¼ä¸Šæ‰€è¿°ï¼Œåˆ°åº•æ€ä¹ˆç”¨è¿™ä¸‰ä¸ªé€‰é¡¹å¯ä»¥å‚è€ƒä¸‹é¢çš„æ€»ç»“ï¼š</strong></p><p>çœ‹ç¡¬ä»¶ï¼šå†…å­˜å°ï¼ˆâ‰¤16G ï¼‰é€‰ strictï¼›å†…å­˜ä¸­ç­‰ï¼ˆ16G - 32G ï¼‰é€‰ moderateï¼›å†…å­˜å¤§ï¼ˆâ‰¥32G ï¼‰ã€è¿½æ±‚é€Ÿåº¦é€‰ tolerantã€‚</p><p>çœ‹ä»»åŠ¡ï¼šå¤„ç†çŸ­ã€å°è§†é¢‘ï¼Œstrict/moderate è¶³å¤Ÿï¼›å¤„ç†é•¿ã€é«˜æ¸…ã€å¤æ‚è§†é¢‘ï¼ˆè¦å¿« ï¼‰ï¼Œç”¨ tolerant æ›´çˆ½ã€‚</p><p>å®é™…æµ‹è¯•ï¼šåŒä¸€è§†é¢‘ã€åŒä¸€æ¨¡å‹ï¼Œæ¢ä¸åŒç­–ç•¥è·‘ä¸€éï¼Œçœ‹ç”µè„‘å†…å­˜å ç”¨ï¼ˆä»»åŠ¡ç®¡ç†å™¨çœ‹ ï¼‰ã€å¤„ç†æ—¶é—´ã€æ˜¯å¦å¡é¡¿å´©æºƒï¼Œæ‰¾åˆ°è‡ªå·±ç¡¬ä»¶ + ä»»åŠ¡ä¸‹æœ€ç¨³çš„ç»„åˆï½</p><p>ç®€å•è¯´ï¼Œè¿™ä¸‰ç­–ç•¥å°±æ˜¯ç»™ä½  â€œç”¨å†…å­˜æ¢é€Ÿåº¦ / è´¨é‡â€ çš„é€‰æ‹©ï¼Œæ ¹æ®ç”µè„‘é…ç½®å’Œå¤„ç†éœ€æ±‚æŒ‘ï¼Œè®© FaceFusion ä¸å´©ã€è·‘å¾—é¡ºï½</p><p>å†çœ‹ç³»ç»Ÿå†…å­˜é™åˆ¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="de5fe52b11f01ea723929cb658ad86801182660461.jpg@664w_358h.webp" alt="" /></p><p><strong>ç³»ç»Ÿå†…å­˜é™åˆ¶</strong>ï¼šå°±æ˜¯é˜²æ­¢ç¨‹åº â€œåƒå†…å­˜åƒåˆ°æ’‘çˆ†ç³»ç»Ÿâ€ ã€‚è§†é¢‘å¤„ç†ï¼ˆå°¤å…¶æ˜¯é«˜æ¸…ã€é•¿è§†é¢‘ï¼Œå åŠ äººè„¸æ¨¡å‹è¿ç®— ï¼‰éå¸¸æ¶ˆè€—å†…å­˜ï¼Œä¸€æ—¦ç¨‹åºæ— èŠ‚åˆ¶å ç”¨å†…å­˜ï¼Œå¯èƒ½å¯¼è‡´ï¼šÂ Â ç”µè„‘æ•´ä½“å¡é¡¿ï¼ˆå…¶ä»–ç¨‹åºè¢«æŒ¤æ²¡å†…å­˜è·‘ ï¼‰ï¼›Â Â è§¦å‘ç³»ç»Ÿ â€œå†…å­˜ä¸è¶³â€ è­¦å‘Šï¼Œç”šè‡³ç›´æ¥å´©æºƒï¼›Â Â æç«¯æƒ…å†µæŸåç¡¬ä»¶ï¼ˆè™½æ¦‚ç‡ä½ï¼Œä½†æŒç»­é«˜å†…å­˜å‹åŠ›å¯¹è®¾å¤‡æœ‰å½±å“ ï¼‰ã€‚é€šè¿‡è®¾ç½® â€œç³»ç»Ÿå†…å­˜é™åˆ¶â€ï¼Œä½ èƒ½ä¸»åŠ¨ç»™ FaceFusion åˆ’ä¸€é“ â€œå†…å­˜çº¢çº¿â€ï¼Œè®©å®ƒåœ¨å¤„ç†è§†é¢‘ï¼ˆäººè„¸èåˆ ï¼‰æ—¶ï¼Œä¸ç®¡ä»»åŠ¡å¤šå¤æ‚ï¼Œæœ€å¤šåªç”¨è¿™ä¹ˆå¤šå†…å­˜ï¼Œä¿éšœç”µè„‘æ•´ä½“ç¨³å®šã€‚</p><p>æ¯”å¦‚ä½ ç”µè„‘æ€»å†…å­˜æ˜¯ 16Gï¼Œæ—¥å¸¸è¿˜è¦å¼€æµè§ˆå™¨ã€åŠå…¬è½¯ä»¶ã€‚å¦‚æœç»™ FaceFusion è®¾ â€œç³»ç»Ÿå†…å­˜é™åˆ¶ = 8Gâ€ï¼Œé‚£ä¹ˆä¸ç®¡å¤„ç†å¤šå¤¸å¼ çš„è§†é¢‘ï¼Œå®ƒæœ€å¤šç”¨ 8G å†…å­˜ï¼Œå‰©ä¸‹çš„ 8G ç•™ç»™ç³»ç»Ÿå’Œå…¶ä»–ç¨‹åºï¼Œé¿å…ç”µè„‘å› å†…å­˜è¢«å æ»¡è€Œæ­»æœºã€å¼ºåˆ¶é‡å¯ã€‚</p><p>æˆ‘å†è¯´å…·ä½“ç‚¹ï¼ŒÂ <strong>ä½é…ç”µè„‘</strong>ï¼ˆæ€»å†…å­˜å°ï¼Œå¦‚ 8G ï¼‰å¯ä»¥æŠŠé™åˆ¶è°ƒä½ï¼ˆæ¯”å¦‚è®¾ 2G - 4G ï¼‰ï¼Œä¿è¯ FaceFusion èƒ½è·‘èµ·æ¥ï¼ŒåŒæ—¶ç»™ç³»ç»Ÿç•™å–˜æ°”ç©ºé—´ï¼ˆä¸ç„¶å¼€ä¸ªè½¯ä»¶ç›´æ¥å†…å­˜çˆ†ç‚¸ ï¼‰ã€‚ä»£ä»·æ˜¯å¤„ç†é€Ÿåº¦å¯èƒ½å˜æ…¢ï¼ˆå†…å­˜ä¸å¤Ÿï¼Œç¨‹åºå¾—é¢‘ç¹ â€œæŒ¤å†…å­˜ã€æ¢æ•°æ®â€ ï¼‰ï¼Œä½†è‡³å°‘èƒ½å®Œæˆä»»åŠ¡ã€‚Â <strong>é«˜é…ç”µè„‘</strong>ï¼ˆæ€»å†…å­˜å¤§ï¼Œå¦‚ 32G/64G ï¼‰ï¼šå¯ä»¥é€‚å½“è°ƒé«˜é™åˆ¶ï¼ˆæ¯”å¦‚è®¾ 16G - 24G ï¼‰ï¼Œè®© FaceFusion å……åˆ†åˆ©ç”¨å¤§å†…å­˜åŠ é€Ÿå¤„ç†ï¼ˆç¼“å­˜æ›´å¤šè§†é¢‘å¸§ã€æ¨¡å‹æ•°æ®ï¼Œå‡å°‘ç­‰å¾…æ—¶é—´ ï¼‰ï¼Œå…¼é¡¾é€Ÿåº¦å’Œç¨³å®šæ€§ã€‚</p><p><strong>æ³¨æ„</strong>ï¼š â€œè§†é¢‘å†…å­˜ç­–ç•¥â€ï¼ˆstrict/moderate/tolerant ï¼‰ï¼Œå®ƒå’Œ â€œç³»ç»Ÿå†…å­˜é™åˆ¶â€ æ˜¯é…åˆå·¥ä½œçš„ï¼šÂ Â â€œè§†é¢‘å†…å­˜ç­–ç•¥â€ æ˜¯ç¨‹åºå†…éƒ¨çš„å†…å­˜åˆ†é…é€»è¾‘ï¼ˆæ¯”å¦‚ strict æ›´æŠ å†…å­˜ï¼Œtolerant æ›´æ”¾å¼€ ï¼‰ï¼›Â â€œç³»ç»Ÿå†…å­˜é™åˆ¶â€ æ˜¯ç»™ç¨‹åºå¥—çš„ â€œå¤–éƒ¨æ·é”â€ ï¼Œä¸ç®¡å†…éƒ¨ç­–ç•¥å¤šæ¿€è¿›ï¼Œæ€»å†…å­˜ usage ä¸èƒ½è¶…è¿‡ä½ è®¾çš„é™åˆ¶ã€‚ä¸¾ä¸ªæ —å­ï¼š</p><p>ä½ é€‰äº† â€œtolerantï¼ˆå®½æ¾ ï¼‰â€ è§†é¢‘ç­–ç•¥ï¼ˆç¨‹åºæƒ³å¤šå å†…å­˜åŠ é€Ÿ ï¼‰ï¼Œä½†è®¾äº† â€œç³»ç»Ÿå†…å­˜é™åˆ¶ = 4Gâ€ï¼Œé‚£ FaceFusion å†æ€ä¹ˆ â€œæ”¾é£è‡ªæˆ‘â€ï¼Œæœ€å¤šä¹Ÿåªèƒ½ç”¨ 4G å†…å­˜ï¼Œé¿å…æŠŠç³»ç»Ÿæå´©ï½</p><p><strong>é‚£ä¹ˆå®é™…ä¸­æ€ä¹ˆè°ƒå‘¢ï¼Ÿ</strong></p><p><strong>å…ˆçœ‹æ€»å†…å­˜</strong>ï¼šæ¯”å¦‚æ€»å†…å­˜ 16Gï¼Œæƒ³ç•™ 4G ç»™ç³»ç»Ÿï¼Œå°±è®¾ â€œâ‰¤12Gâ€ï¼›æ€»å†…å­˜ 8Gï¼Œè®¾ â€œâ‰¤4Gâ€ æ›´ç¨³ã€‚</p><p><strong>æµ‹è¯•ä»»åŠ¡</strong>ï¼šå¤„ç†åŒä¸€ä¸ªè§†é¢‘ï¼Œä»ä½åˆ°é«˜è°ƒé™åˆ¶ï¼Œçœ‹ï¼šå†…å­˜å ç”¨æ˜¯å¦è§¦å‘è­¦å‘Š / å´©æºƒï¼› å¤„ç†é€Ÿåº¦æ˜¯å¦èƒ½æ¥å—ï¼ˆå†…å­˜ç»™å¤ªå°‘ï¼Œé€Ÿåº¦ä¼šå·¨æ…¢ ï¼‰ã€‚</p><p><strong>æ—¥å¸¸ä½¿ç”¨</strong>ï¼šæ‰¾åˆ° â€œèƒ½ç¨³å®šè·‘å®Œä»»åŠ¡ï¼Œåˆä¸å½±å“ç”µè„‘å…¶ä»–æ“ä½œâ€ çš„é˜ˆå€¼ï¼Œå›ºå®šä¸‹æ¥å°±å¥½ï½</p><h2 id="ä¸ƒ-æºæ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶"><a class="markdownIt-Anchor" href="#ä¸ƒ-æºæ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶"></a> <strong>ä¸ƒã€æºæ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶</strong></h2><p>å½“ç›®æ ‡æ–‡ä»¶ä¸ºè§†é¢‘æ–‡ä»¶æ—¶ï¼Œç•Œé¢å·¦ä¾§ä¼šå¢åŠ ä¸è§†é¢‘ç›¸å…³çš„é€‰é¡¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="b57a7c100cb18fe299941d2e2624b3a11182660461.jpg@1008w_1680h.webp" alt="" /></p><p><strong>ä¸´æ—¶å¸§æ ¼å¼</strong>ï¼šè®¾ç½®å¤„ç†è¿‡ç¨‹ä¸­ï¼Œè§†é¢‘ä¸´æ—¶å­˜å‚¨çš„å›¾åƒæ ¼å¼ï¼Œé»˜è®¤æ˜¯PNGæ ¼å¼ï¼Œè¿˜å¯ä»¥è®¾ç½®å…¶ä»–çš„æ ¼å¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="0da75d6a07e78459f342b603307e58ec1182660461.jpg@672w_486h.webp" alt="" /></p><p>bmpï¼šæ— å‹ç¼©ï¼Œç”»è´¨çœŸï¼Œæ–‡ä»¶å¤§ï¼Œä¿ç•™å®Œæ•´åƒç´ ä¿¡æ¯ï¼Œå¸¸è§äº Windows ã€‚</p><p>jpegï¼šæœ‰æŸå‹ç¼©ï¼Œé«˜å‹ç¼©æ¯”ï¼Œæ–‡ä»¶å°ï¼Œé€‚åˆç…§ç‰‡åˆ†äº«ï¼Œä¼šæŸå¤±éƒ¨åˆ†ç»†èŠ‚ ã€‚</p><p>pngï¼šæ— æŸå‹ç¼©ï¼Œæ”¯æŒé€æ˜ï¼Œç”»è´¨å¥½ï¼Œç½‘é¡µç­‰åœºæ™¯å¸¸ç”¨ï¼Œæ–‡ä»¶æ¯” bmp å° ã€‚</p><p>tiffï¼šæ— æŸ / æœ‰æŸå¯é€‰ï¼Œç”»è´¨ä¼˜ï¼Œæ–‡ä»¶å¤§ï¼Œå¤šç”¨äºä¸“ä¸šå›¾åƒå­˜å‚¨ã€å°åˆ· ã€‚</p><p><strong>è¾“å‡ºéŸ³é¢‘ç¼–ç å™¨</strong>ï¼šå†³å®šè¾“å‡ºéŸ³é¢‘é‡‡ç”¨çš„ç¼–ç ç®—æ³•ï¼Œå½±å“éŸ³é¢‘å‹ç¼©ã€è´¨é‡å’Œå…¼å®¹æ€§ï¼Œé»˜è®¤æ˜¯flacç¼–ç ï¼Œè¿˜å¯ä»¥è®¾ç½®å…¶ä»–çš„ç¼–ç ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="2d716cef45a0c00154bba895eae2d8321182660461.jpg@628w_622h.webp" alt="" /></p><p>flacï¼šæ— æŸå‹ç¼©ï¼ŒéŸ³è´¨æ— æŸï¼Œæ–‡ä»¶ç›¸å¯¹å¤§ï¼Œä¿ç•™å®Œæ•´éŸ³é¢‘ä¿¡æ¯ã€‚</p><p>aacï¼šæœ‰æŸå‹ç¼©ï¼Œé«˜æ•ˆç¼–ç ï¼ŒéŸ³è´¨è¾ƒå¥½ï¼Œå¸¸ç”¨äºæµåª’ä½“ ã€‚</p><p>libmp3lameï¼šå³ MP3 ç¼–ç ï¼Œæœ‰æŸï¼Œå‹ç¼©æ¯”é«˜ï¼Œå…¼å®¹æ€§æå¼ºï¼Œæ™®åŠåº¦é«˜ ã€‚</p><p>libopusï¼šæœ‰æŸï¼Œä½å»¶æ—¶ï¼Œé€‚åˆå®æ—¶é€šè®¯ï¼ŒéŸ³è´¨ä¸æ•ˆç‡å…¼é¡¾ ã€‚</p><p>libvorbisï¼šæœ‰æŸï¼Œå¼€æºï¼Œé«˜éŸ³è´¨ï¼Œåœ¨å‹ç¼©æ•ˆç‡ä¸Šæœ‰ä¼˜åŠ¿ ã€‚</p><p>pcm_s16leï¼šæ— å‹ç¼©ï¼ŒéŸ³è´¨åŸå§‹ç²¾å‡†ï¼Œæ–‡ä»¶å¤§ï¼Œå¸¸ç”¨äºä¸“ä¸šéŸ³é¢‘ç¼–è¾‘ ã€‚</p><p>pcm_s32leï¼šæ— å‹ç¼©ï¼Œé«˜ç²¾åº¦é‡‡æ ·ï¼ŒéŸ³è´¨æ›´ä¼˜ï¼Œæ–‡ä»¶ä½“ç§¯æ›´å¤§ ã€‚</p><p><strong>è¾“å‡ºè§†é¢‘ç¼–ç å™¨</strong>ï¼šé€‰æ‹©å°†è§†é¢‘åŸå§‹æ•°æ®ç¼–ç ä¸ºæœ€ç»ˆè§†é¢‘æ–‡ä»¶çš„ç¼–ç å·¥å…·ï¼Œè¾“å‡ºè§†é¢‘ç¼–ç å™¨åŒ…å«å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="5859f4dcc43e427d24d76bc1059dc1501182660461.jpg@906w.webp" alt="" /></p><p>libx264ï¼šH.264 ç¼–ç ï¼Œå…¼å®¹æ€§å¼ºã€ç”»è´¨å¥½ï¼Œç¼–ç é€Ÿåº¦ä¸è´¨é‡å¹³è¡¡ï¼Œåº”ç”¨å¹¿æ³›ã€‚</p><p>libx265ï¼šH.265 ç¼–ç ï¼Œé«˜æ•ˆå‹ç¼©ï¼ŒåŒç­‰ç”»è´¨ä½“ç§¯æ›´å°ï¼Œéœ€è®¾å¤‡è§£ç æ”¯æŒ ã€‚</p><p>libvpx - vp9ï¼šVP9 ç¼–ç ï¼Œå¼€æºé«˜æ•ˆï¼Œé€‚åˆç½‘ç»œè§†é¢‘ï¼Œå‹ç¼©ä¼˜äº H.264ï¼Œç¼–ç ç¨æ…¢ã€‚</p><p>h264_amfï¼šAMD æ˜¾å¡åŠ é€Ÿçš„ H.264 ç¼–ç ï¼Œåˆ©ç”¨ AMD ç¡¬ä»¶ï¼ŒåŠ å¿«ç¼–ç ï¼Œé€‚åˆ AMD ç”¨æˆ·ã€‚</p><p>h264_nvencï¼šNVIDIA æ˜¾å¡åŠ é€Ÿçš„ H.264 ç¼–ç ï¼Œå€Ÿ NVIDIA GPUï¼Œç¼–ç å¿«ï¼Œé€‚é… N å¡ã€‚</p><p>hevc_nvencï¼šNVIDIA åŠ é€Ÿçš„ H.265 ç¼–ç ï¼Œä¾æ‰˜ N å¡ç¡¬ä»¶ï¼Œé«˜æ•ˆç¼–ç  H.265 æ ¼å¼ã€‚</p><p>h264_qsvï¼šIntel Quick Sync Video åŠ é€Ÿçš„ H.264 ç¼–ç ï¼Œç”¨ Intel æ ¸æ˜¾ï¼Œç¼–ç é«˜æ•ˆã€‚</p><p>hevc_amfï¼šAMD åŠ é€Ÿçš„ H.265 ç¼–ç ï¼Œå€ŸåŠ© AMD ç¡¬ä»¶ï¼Œå®ç° H.265 å¿«é€Ÿç¼–ç ã€‚</p><p>hevc_qsvï¼šIntel åŠ é€Ÿçš„ H.265 ç¼–ç ï¼Œä¾æ‰˜ Intel æ ¸æ˜¾ï¼ŒåŠ é€Ÿ H.265 ç¼–ç æµç¨‹ã€‚</p><p>rawvideoï¼šæ— å‹ç¼©ï¼Œä¿ç•™åŸå§‹è§†é¢‘æ•°æ®ï¼Œç”»è´¨æ— æŸä½†æ–‡ä»¶æå¤§ï¼Œå°‘ç”¨äºæœ€ç»ˆè¾“å‡º ã€‚</p><p><strong>è¾“å‡ºè§†é¢‘é¢„è®¾</strong>ï¼šæ˜¯ç¼–ç å™¨å†…ç½®çš„ä¸€ç»„å‚æ•°ç»„åˆï¼Œå½±å“ç¼–ç é€Ÿåº¦å’Œè¾“å‡ºè§†é¢‘è´¨é‡ã€ä½“ç§¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="aa410ba80df909f4319a792d7f688d8e1182660461.jpg@930w_870h.webp" alt="" /></p><p>ultrafastï¼šæé€Ÿç¼–ç ï¼Œç”»è´¨æŸå¤±å¤§ï¼Œèµ¶æ—¶é—´å‡ºç‰‡é€‰å®ƒ ã€‚</p><p>superfastï¼šç¼–ç å¿«ï¼Œç”»è´¨ä¸€èˆ¬ï¼Œè¿½æ±‚é€Ÿåº¦å¯å°è¯• ã€‚</p><p>veryfastï¼šé€Ÿåº¦è¾ƒå¿«ï¼Œç”»è´¨å°šå¯ï¼Œæ—¥å¸¸å¸¸ç”¨çš„å¹³è¡¡é€‰é¡¹ ã€‚</p><p>fasterï¼šç¼–ç é€Ÿåº¦ä¸é”™ï¼Œç”»è´¨æ¯” veryfast å¥½ç‚¹ï¼ŒæŠ˜ä¸­é€‰æ‹© ã€‚</p><p>fastï¼šé€Ÿåº¦ä¸ç”»è´¨æ›´å¹³è¡¡ï¼Œç¼–ç ç¨æ…¢ï¼Œæ•ˆæœæœ‰æå‡ ã€‚</p><p>mediumï¼šä¸­é€Ÿç¼–ç ï¼Œç”»è´¨è¾ƒå¥½ï¼Œæ—¶é—´å’Œè´¨é‡çš„ä¸­é—´æ€ ã€‚</p><p>slowï¼šç¼–ç æ…¢ï¼Œç”»è´¨ä¼˜ï¼Œç»†èŠ‚ä¿ç•™å¤šï¼Œé€‚åˆç²¾å“éœ€æ±‚ ã€‚</p><p>slowerï¼šæ›´æ…¢ç¼–ç ï¼Œç”»è´¨æ›´ç»†è…»ï¼Œå¯¹ç¡¬ä»¶å’Œæ—¶é—´è¦æ±‚é«˜ ã€‚</p><p>veryslowï¼šææ…¢ç¼–ç ï¼Œæè‡´ç”»è´¨ï¼Œè¿½æ±‚å®Œç¾ä¸”ä¸è®¡è€—æ—¶ç”¨ ã€‚</p><p><strong>è¾“å‡ºè§†é¢‘è´¨é‡</strong>ï¼šæ§åˆ¶è§†é¢‘è¾“å‡ºçš„ç”»è´¨æ°´å¹³ï¼Œæ•°å€¼è¶Šé«˜ç†è®ºç”»è´¨è¶Šå¥½ ã€‚é»˜è®¤æ•°å€¼80ï¼Œå±äºä¸­é«˜ç”»è´¨ã€‚</p><p><strong>è¾“å‡ºè§†é¢‘åˆ†è¾¨ç‡</strong>ï¼šè®¾å®šè¾“å‡ºè§†é¢‘çš„ç”»é¢å°ºå¯¸ï¼Œé•¿å’Œå®½çš„åƒç´ æ•°é‡ï¼Œåˆ†è¾¨ç‡é«˜ç”»é¢ç»†èŠ‚æ‰¿è½½å¤šã€æ¸…æ™°ï¼Œä½†æ–‡ä»¶ä½“ç§¯å¤§ã€ç¼–ç å¤„ç†é‡å¤§ï¼›1080x1920 é€‚åˆç«–å±å±•ç¤ºåœºæ™¯ï¼ˆå¦‚æ‰‹æœºç«¯çŸ­è§†é¢‘ç­‰ ï¼‰ï¼Œé€‚é…å¯¹åº”æ’­æ”¾ç»ˆç«¯çš„æ˜¾ç¤ºéœ€æ±‚ã€‚</p><p><img src="e7946a75d232607606bfbfb817e877e71182660461.jpg@934w_862h.webp" alt="" /></p><p><strong>è¾“å‡ºè§†é¢‘å¸§ç‡</strong>ï¼šå†³å®šè§†é¢‘æ¯ç§’å‘ˆç°çš„å¸§æ•°ï¼Œå½±å“ç”»é¢æµç•…åº¦ ã€‚30å¸§/ç§’æ˜¯å¸¸è§å¸§ç‡ï¼Œèƒ½ä¿è¯åŸºæœ¬æµç•…åº¦ï¼Œç›¸æ¯” 24 å¸§æ›´æµç•…ï¼Œæ¯” 60 å¸§åœ¨ç¼–ç å‹åŠ›ã€æ–‡ä»¶ä½“ç§¯ä¸Šå°ï¼Œå¹³è¡¡äº†æµç•…åº¦å’Œèµ„æºå ç”¨ï¼Œé€‚åˆä¸€èˆ¬è§†é¢‘åˆ›ä½œè¾“å‡º ï¼Œè®©åŠ¨ä½œã€ç”»é¢åˆ‡æ¢ç­‰å‘ˆç°è‡ªç„¶ä¸å¡é¡¿ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šå½“ç›®æ ‡æ–‡ä»¶ä¸ºè§†é¢‘æ—¶ï¼Œç•Œé¢å³ä¾§ä¹Ÿä¼šæ˜¾ç¤ºä¸€äº›ä¸è§†é¢‘ç›¸å…³çš„é€‰é¡¹ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="52ba202d6e3d689f33c46537bbca47bc1182660461.jpg@1192w.webp" alt="" /></p><p><strong>é¢„è§ˆå¸§</strong>ï¼šæ§åˆ¶ä¸Šé¢æ˜¾ç¤ºçš„å¸§ç”»é¢ï¼Œä¹Ÿå°±æ˜¯è®©æˆ‘ä»¬çœ‹åˆ°çš„ç”»é¢ã€‚é»˜è®¤çœ‹åˆ°çš„æ˜¯ç¬¬ä¸€å¸§ã€‚</p><p><strong>ä¿®å‰ªå¸§</strong>ï¼šæ§åˆ¶è¾“å‡ºè§†é¢‘å¸§çš„èŒƒå›´ï¼Œé»˜è®¤æ˜¯å…¨éƒ¨è¾“å‡ºã€‚</p><p><strong>æ³¨æ„ï¼šè§†é¢‘ä¸­çš„ç¬¬ä¸€å¸§ä¸€èˆ¬ç”¨0å¸§è¡¨ç¤ºã€‚</strong></p><h2 id="å…«-æºæ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶"><a class="markdownIt-Anchor" href="#å…«-æºæ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶"></a> <strong>å…«ã€æºæ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶</strong></h2><p>æºæ–‡ä»¶å¯ä»¥æ˜¯å›¾åƒå’ŒéŸ³é¢‘ï¼Œç›®æ ‡æ–‡ä»¶å¯ä»¥æ˜¯å›¾åƒå’Œè§†é¢‘ã€‚å½“å›¾åƒæ¢è„¸æ—¶ï¼ŒäºŒè€…éƒ½å¯¼å…¥å›¾åƒï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="0769836fedb97607e8f88ec0e2e991de1182660461.jpg@982w_2920h.webp" alt="" /></p><p>å½“è§†é¢‘æ¢è„¸æ—¶ï¼Œæºæ–‡ä»¶æ˜¯äººåƒå›¾åƒï¼Œç›®æ ‡æ–‡ä»¶æ˜¯è§†é¢‘ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="7501ebb169d4e6bbdd97957ba7791c181182660461.jpg@982w_3118h.webp" alt="" /></p><p>å½“ä½¿ç”¨å”‡å½¢åŒæ­¥æ—¶ï¼Œåˆ™æºæ–‡ä»¶æ˜¯éŸ³é¢‘ï¼Œç›®æ ‡æ–‡ä»¶æ˜¯è§†é¢‘ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="bd9dd4b983303060f153ae8d417e8c891182660461.jpg@1000w_1768h.webp" alt="" /></p><h2 id="ä¹-è¾“å‡ºè·¯å¾„å’Œè¾“å‡º"><a class="markdownIt-Anchor" href="#ä¹-è¾“å‡ºè·¯å¾„å’Œè¾“å‡º"></a> <strong>ä¹ã€è¾“å‡ºè·¯å¾„å’Œè¾“å‡º</strong></h2><p><strong>è¾“å‡ºè·¯å¾„</strong>ï¼šæŒ‡å®šè¾“å‡ºçš„æ¢è„¸å›¾åƒæˆ–è§†é¢‘é»˜è®¤å­˜æ”¾çš„ä½ç½®ï¼Œæ˜¯ä½äºfacefusionç›®å½•ä¸‹çš„outputæ–‡ä»¶å¤¹ã€‚</p><p><img src="b99730990248133dbd509974664ce8d81182660461.jpg@652w_184h.webp" alt="" /></p><p>æˆ‘ä»¬å¯ä»¥åœ¨facefusionç›®å½•ä¸‹æ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="daa97b7ce279dcea0aef8d8e1dfc065c1182660461.jpg@1192w.webp" alt="" /></p><p><strong>è¾“å‡º</strong>ï¼šè¯¥åŒºåŸŸä¸»è¦æ˜¾ç¤ºæ¢è„¸è§†é¢‘æˆ–å”‡å½¢åŒæ­¥è§†é¢‘ï¼Œç”Ÿæˆè§†é¢‘åï¼Œå¯ä»¥ç‚¹å‡»ä¸‹æ–¹çš„æ’­æ”¾æŒ‰é’®é¢„è§ˆè§†é¢‘æ•ˆæœã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="2cdf6e738543b8799952e4a7c59988cd1182660461.jpg@992w_1326h.webp" alt="" /></p><h2 id="å-æ—¥å¿—çº§åˆ«å’Œç»ˆç«¯"><a class="markdownIt-Anchor" href="#å-æ—¥å¿—çº§åˆ«å’Œç»ˆç«¯"></a> <strong>åã€æ—¥å¿—çº§åˆ«å’Œç»ˆç«¯</strong></h2><p><strong>æ—¥å¿—çº§åˆ«</strong>ï¼š æ§åˆ¶ç”¨äºè°ƒæ•´ç»ˆç«¯æ˜¾ç¤ºæ¶ˆæ¯çš„ä¸¥é‡æ€§ï¼Œæ§åˆ¶è¾“å‡ºæ—¥å¿—è¯¦ç»†ç¨‹åº¦ï¼ŒåŒ…å«å››ä¸ªæ—¥å¿—çº§åˆ«ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="fcfad40156430a126eb2b0748549b2911182660461.jpg@640w_444h.webp" alt="" /></p><p>errorï¼šä»…æ˜¾ç¤ºä¸¥é‡é”™è¯¯ï¼ŒåŠ©å¿«é€Ÿå®šä½å…³é”®æ•…éšœã€‚</p><p>warnï¼šæç¤ºæ½œåœ¨é£é™©ï¼Œä¸å½±å“è¿è¡Œä½†éœ€ç•™æ„ ã€‚</p><p>infoï¼šè¾“å‡ºå¸¸è§„æµç¨‹ä¿¡æ¯ï¼Œå±•ç°æ­£å¸¸è¿è¡ŒçŠ¶æ€ ã€‚</p><p>debugï¼šè®°å½•è¯¦ç»†è°ƒè¯•å†…å®¹ï¼Œç”¨äºæ·±åº¦æ’æŸ¥é—®é¢˜ ã€‚</p><p><strong>ç»ˆç«¯</strong>ï¼šæ˜¯å±•ç¤ºè¿è¡Œè¿‡ç¨‹ä¿¡æ¯çš„äº¤äº’çª—å£ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="2c62a882146217f10b188d8bd6a5f0201182660461.jpg@652w_448h.webp" alt="" /></p><p><strong>æ ¹æ®æ—¥å¿—çº§åˆ«è®¾ç½®çš„ä¸åŒï¼Œç»ˆç«¯å¯ä»¥Â ï¼š</strong></p><p>è¾“å‡ºæ—¥å¿—ï¼Œåƒæ¢è„¸è¿›åº¦ã€å‚æ•°åŠ è½½ã€é”™è¯¯æç¤ºï¼Œå¸®ä½ äº†è§£å·¥å…·è¿è¡ŒçŠ¶æ€ï¼›</p><p>æ˜¾ç¤ºæŠ¥é”™ï¼Œé‡åˆ°æ¢è„¸å¤±è´¥ã€ä¾èµ–ç¼ºå¤±ç­‰é—®é¢˜ï¼Œèƒ½é€šè¿‡ç»ˆç«¯ä¿¡æ¯æ’æŸ¥è§£å†³ï¼›</p><p>è°ƒè¯•æ—¶ï¼Œé«˜çº§ç”¨æˆ·å¯å€ŸåŠ©ç»ˆç«¯è¾“å…¥å‘½ä»¤ã€æŸ¥çœ‹åº•å±‚æ‰§è¡Œç»†èŠ‚ï¼Œä¼˜åŒ–æ¢è„¸æ•ˆæœ ã€‚</p><h2 id="åä¸€-uiå·¥ä½œæµç¨‹"><a class="markdownIt-Anchor" href="#åä¸€-uiå·¥ä½œæµç¨‹"></a> <strong>åä¸€ã€UIå·¥ä½œæµç¨‹</strong></h2><p>UIå·¥ä½œæµç¨‹ï¼šåŒ…å«ä¸‰ä¸ªé€‰é¡¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="dcd2759db2523124a13334e4c412056b1182660461.jpg@948w_404h.webp" alt="" /></p><p><strong>instant_runner</strong>ï¼šå¿«é€Ÿæ‰§è¡Œæ¨¡å¼ï¼Œç®€åŒ–æµç¨‹ï¼Œè¿½æ±‚ â€œå³ç‚¹å³å‡ºâ€ çš„é«˜æ•ˆæ¢è„¸ï¼Œé€‚åˆç®€å•åœºæ™¯ã€‚è§†é¢‘æ¢è„¸å¸¸ç”¨è¯¥é€‰é¡¹ï¼Œé€‰æ‹©è¯¥é€‰é¡¹åï¼Œç•Œé¢å˜æˆå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="add5c0a1bf28f2328fba9e3ee833d42a1182660461.jpg@994w_354h.webp" alt="" /></p><p><strong>job_runner</strong>ï¼šæŒ‰æ ‡å‡†ä»»åŠ¡æµç¨‹è¿è¡Œï¼Œä¸€æ­¥æ­¥å¤„ç†æ¢è„¸ä½œä¸šï¼Œæ³¨é‡è¿‡ç¨‹å®Œæ•´æ€§ã€‚é€‰æ‹©è¯¥é€‰é¡¹åï¼Œç•Œé¢å˜æˆå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="145668080a966511501e15dd8cdf93e61182660461.jpg@974w_758h.webp" alt="" /></p><p><strong>ä»»åŠ¡æ“ä½œ</strong>ï¼šæä¾›ä¸åŒæŒ‡ä»¤ï¼Œç”¨äºæŒ‰éœ€æ‰§è¡Œã€é‡è¯•å•ä¸ªæˆ–å…¨éƒ¨æ¢è„¸ä»»åŠ¡ï¼Œç®¡æ§ä»»åŠ¡å¤„ç†æµç¨‹ ã€‚åŒ…å«å››ä¸ªä»»åŠ¡æ“ä½œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ</p><p><img src="f2a347320a86c3e3416aaf8d38752e2b1182660461.jpg@920w.webp" alt="" /></p><p>job-runï¼šæ‰§è¡Œå•ä¸ªæŒ‡å®šæ¢è„¸ä»»åŠ¡ï¼Œå¯åŠ¨å•æ¬¡ä½œä¸šæµç¨‹ã€‚</p><p>job-run-allï¼šæ‰¹é‡è¿è¡Œæ‰€æœ‰å¾…å¤„ç†æ¢è„¸ä»»åŠ¡ï¼Œä¸€æ¬¡æ€§æ‰§è¡Œé˜Ÿåˆ—ã€‚</p><p>job-retryï¼šé‡è¯•å•ä¸ªå¤±è´¥ / ä¸­æ–­çš„æ¢è„¸ä»»åŠ¡ï¼Œé‡æ–°å°è¯•æ‰§è¡Œã€‚</p><p>job-retry-allï¼šæ‰¹é‡é‡è¯•æ‰€æœ‰å¤±è´¥ / ä¸­æ–­ä»»åŠ¡ï¼Œç»Ÿä¸€é‡æ–°æ‰§è¡Œ ã€‚</p><p><strong>ä»»åŠ¡ID</strong>ï¼šç”¨äºç²¾å‡†æ ‡è¯†ã€åŒºåˆ†ä¸åŒæ¢è„¸ä»»åŠ¡çš„å”¯ä¸€æ ‡è¯†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="94a5b694091bc7daee0e18d798624d541182660461.jpg@1000w_814h.webp" alt="" /></p><p><strong>ä»»åŠ¡IDçš„ä½œç”¨æ˜¯ï¼š</strong></p><p>æ‰§è¡Œä»»åŠ¡æ—¶ï¼ŒæŒ‡å®šå…·ä½“è¦å¤„ç†çš„ä»»åŠ¡ï¼Œè®©æ“ä½œç²¾å‡†å¯¹åº”åˆ°å•ä¸ª / ç‰¹å®šä»»åŠ¡ï¼›</p><p>ä»»åŠ¡è¿è¡Œä¸­ï¼Œé€šè¿‡ ID è¿½è¸ªè¿›åº¦ã€çŠ¶æ€ï¼ˆå¦‚æ˜¯å¦å®Œæˆã€å¤±è´¥åŸå›  ï¼‰ï¼›</p><p>ä»»åŠ¡ç»“æŸåï¼Œä¾æ® ID æŸ¥è¯¢ç»“æœã€å¤ç›˜æµç¨‹ï¼Œæ–¹ä¾¿ç®¡ç†å¤šä»»åŠ¡åœºæ™¯ä¸‹çš„å¤æ‚ä½œä¸š ã€‚</p><p><strong>job_manager</strong>ï¼šå¸¦ä»»åŠ¡ç®¡ç†èƒ½åŠ›ï¼Œå¯æ’é˜Ÿã€ç›‘æ§å¤šä¸ªæ¢è„¸ä»»åŠ¡ï¼Œé€‚åˆæ‰¹é‡æˆ–å¤æ‚åœºæ™¯ ã€‚è¿™ä¹Ÿæ˜¯é»˜è®¤çš„æ¢è„¸å·¥ä½œæµç¨‹ï¼Œé€‰æ‹©è¯¥é€‰é¡¹åï¼Œç•Œé¢å˜æˆå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="f0dff1cdd9ad335430442fc8159c09f61182660461.jpg@978w_766h.webp" alt="" /></p><p>ä»»åŠ¡æ“ä½œåŒ…å«å¦‚ä¸‹å›¾æ‰€ç¤ºçš„å†…å®¹ã€‚</p><p><img src="d39f69bb923670f40caf68124ea0f9851182660461.jpg@980w_998h.webp" alt="" /></p><p>job-createï¼šåˆ›å»ºæ–°æ¢è„¸ä»»åŠ¡ï¼Œåˆå§‹åŒ–ä»»åŠ¡æµç¨‹ä¸åŸºç¡€é…ç½®ã€‚</p><p>job-submitï¼šæäº¤å·²åˆ›å»ºä»»åŠ¡ï¼Œæ­£å¼å¯åŠ¨æ¢è„¸å¤„ç†æµç¨‹ã€‚</p><p>job-deleteï¼šåˆ é™¤æŒ‡å®šä»»åŠ¡ï¼Œæ¸…ç†æ— éœ€ä¿ç•™çš„ä»»åŠ¡æ•°æ®ã€‚</p><p>job-add-stepï¼šç»™ä»»åŠ¡æ·»åŠ æ–°å¤„ç†æ­¥éª¤ï¼Œæ‰©å±•æµç¨‹å†…å®¹ã€‚</p><p>job-remix-stepï¼šé‡æ–°ç¼–æ’ä»»åŠ¡æ­¥éª¤é¡ºåºï¼Œè°ƒæ•´æµç¨‹é€»è¾‘ã€‚</p><p>job-insert-stepï¼šåœ¨ä»»åŠ¡æŒ‡å®šä½ç½®æ’å…¥æ­¥éª¤ï¼Œçµæ´»è¡¥å…¨æµç¨‹ã€‚</p><p>job-remove-stepï¼šç§»é™¤ä»»åŠ¡ä¸­æŸæ­¥éª¤ï¼Œç®€åŒ–æˆ–ä¿®æ­£æµç¨‹ ã€‚</p><h2 id="åäºŒ-é¢„è§ˆ"><a class="markdownIt-Anchor" href="#åäºŒ-é¢„è§ˆ"></a> <strong>åäºŒã€é¢„è§ˆ</strong></h2><p>ç”¨äºé¢„è§ˆæ¢è„¸æˆ–å”‡å½¢åŒæ­¥ï¼Œå¦‚æœæ˜¯è§†é¢‘æ¢è„¸ï¼Œåˆ™æ˜¾ç¤ºé¢„è§ˆå¸§å’Œä¿®å‰ªå¸§ï¼Œè¿™ä¸¤ä¸ªå‚æ•°å‰é¢å·²è®²è¿‡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="f13c529af1ed966ecb611efcca48cef81182660461.jpg@728w.webp" alt="" /></p><p>å¦‚æœæ˜¯å›¾åƒæ¢è„¸ï¼Œåˆ™ä¸ä¼šæ˜¾ç¤ºè¿™ä¸¤ä¸ªå‚æ•°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="147657d7af89bd5bd8e78ad9891f1a211182660461.jpg@750w_1070h.webp" alt="" /></p><h2 id="åä¸‰-äººè„¸é€‰æ‹©å™¨æ¨¡å¼"><a class="markdownIt-Anchor" href="#åä¸‰-äººè„¸é€‰æ‹©å™¨æ¨¡å¼"></a> <strong>åä¸‰ã€äººè„¸é€‰æ‹©å™¨æ¨¡å¼</strong></h2><p>äººè„¸é€‰æ‹©å™¨æ¨¡å¼æ§åˆ¶äººè„¸é€‰æ‹©çš„ä¸é€šè¿‡ç­–ç•¥ï¼ŒåŒ…å«ä¸‰ä¸ªé€‰é¡¹ï¼Œé»˜è®¤é‡‡ç”¨referenceå‚è€ƒé€‰é¡¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="68c3928261f37f3d7d0ec0e71868d96b1182660461.jpg@1164w_402h.webp" alt="" /></p><p>manyï¼šè¯†åˆ«å¹¶é€‰å–ç”»é¢ä¸­å¤šå¼ äººè„¸ï¼Œç”¨äºå¤šè„¸æ¢è„¸åœºæ™¯ã€‚æœ‰å¤šå°‘è„¸ï¼Œå°±æ¢ã€Œå¤šå°‘å¼ ã€</p><p><img src="f28e3985823b07900fdfba7a604aadce1182660461.jpg@1192w.webp" alt="" /></p><p>oneï¼šåªé€‰å•ä¸ªäººè„¸ï¼Œèšç„¦å•ä¸€ç›®æ ‡ï¼Œç®€åŒ–æ¢è„¸å¯¹è±¡ã€‚ä¸ç®¡å¤šå°‘è„¸ï¼Œåªæ¢ã€Œæœ€æ˜æ˜¾çš„ 1 å¼ ã€</p><p><img src="956db448f31a8295c68410b1d47dbd601182660461.jpg@1192w.webp" alt="" /></p><p>referenceï¼šä¾æ®å‚è€ƒå›¾åŒ¹é…é€‰å–äººè„¸ï¼Œç²¾å‡†å®šä½ç‰¹å®šé¢å®¹ ã€‚åªæ¢ã€Œå’Œå‚è€ƒå›¾æœ€åƒçš„ 1 å¼ ï¼ˆæˆ–æŒ‡å®šå¼ ï¼‰ã€ï¼Œå†è¯´æ˜ç™½ä¸€ç‚¹ï¼Œå°±æ˜¯æˆ‘ä»¬å¯ä»¥ç”¨é¼ æ ‡ç‚¹å‡»å‚è€ƒåˆ—è¡¨ä¸­è¦æ¢çš„å“ªå¼ è„¸ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘åœ¨å‚è€ƒåˆ—è¡¨ä¸­ç‚¹å‡»äº†ç¾å¥³çš„è„¸ï¼Œåˆ™ç¾å¥³çš„è„¸å°±è¢«æ¢æ‰äº†ã€‚</p><p><img src="84225a64f5758f77cb8f903c5691ae091182660461.jpg@1192w.webp" alt="" /></p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ç‚¹å‡»äº†å¸…å“¥çš„è„¸ï¼Œåˆ™å¸…å“¥çš„è„¸å°±è¢«æ¢æ‰äº†ã€‚</p><p><img src="2fa4b93c31765c98f1a2659806b429611182660461.jpg@1192w.webp" alt="" /></p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ç‚¹å‡»äº†å‚è€ƒåˆ—è¡¨ä¸­é—´ç¾å¥³çš„è„¸ï¼Œåˆ™ä¸‰ä¸ªç¾å¥³çš„è„¸åŒæ—¶è¢«æ¢æ‰äº†ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºä¸¤è¾¹çš„ç¾å¥³å’Œä¸­é—´çš„ç¾å¥³é•¿ç›¸å‡ ä¹ä¸€æ ·ï¼Œfacefusionè®¤ä¸ºä¸‰ä¸ªäººæ˜¯ä¸€ä¸ªäººäº†ï¼Œ<sup>_</sup></p><p><img src="152b09ecb8e8248a554c5f6883ffefa91182660461.jpg@1192w.webp" alt="" /></p><h2 id="åå››-äººè„¸é€‰æ‹©å™¨åŠå…¶ä»–"><a class="markdownIt-Anchor" href="#åå››-äººè„¸é€‰æ‹©å™¨åŠå…¶ä»–"></a> <strong>åå››ã€äººè„¸é€‰æ‹©å™¨åŠå…¶ä»–</strong></h2><p>è¿™äº›å‚æ•°åŒ…æ‹¬å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="52daed9a231418e4d753a2809e679de91182660461.jpg@994w_3718h.webp" alt="" /></p><p>è¿™ä¸€éƒ¨åˆ†å†…å®¹æ¯”è¾ƒå¤šï¼Œæˆ‘ä»¬åˆ†å¼€æ¥å­¦ä¹ ã€‚</p><p>äººè„¸é€‰æ‹©å™¨é¡ºåºæ˜¯ Facefusion ä¸­äººè„¸é€‰æ‹©åï¼Œå¯¹äººè„¸åº”ç”¨æˆ–å¤„ç†çš„é¡ºåºè§„åˆ™ï¼ŒåŒ…å«å…«ä¸ªé€‰é¡¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="9ca954d24642f1afaaa0643918366eef1182660461.jpg@438w_696h.webp" alt="" /></p><p>æ¯ä¸ªé€‰é¡¹çš„ä½œç”¨æ˜¯ï¼š</p><p>left-rightï¼šæŒ‰æ£€æµ‹åˆ°çš„äººè„¸ï¼Œä»å·¦åˆ°å³ä¾æ¬¡å¤„ç†ã€‚</p><p>right-leftï¼šæŒ‰æ£€æµ‹åˆ°çš„äººè„¸ï¼Œä»å³åˆ°å·¦ä¾æ¬¡å¤„ç† ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé‡‡ç”¨å³-å·¦æ–¹å¼åï¼Œåˆ™æœ€å³ä¾§çš„äººåƒè¢«æ¢è„¸ã€‚</p><p><img src="ffbdc43d7a4a2d9321df0e6ebb6633931182660461.jpg@1192w.webp" alt="" /></p><p>top-bottomï¼šæŒ‰æ£€æµ‹åˆ°çš„äººè„¸ï¼Œä»ä¸Šåˆ°ä¸‹ä¾æ¬¡å¤„ç† ã€‚</p><p>bottom-topï¼šæŒ‰æ£€æµ‹åˆ°çš„äººè„¸ï¼Œä»ä¸‹åˆ°ä¸Šä¾æ¬¡å¤„ç† ã€‚</p><p>small-largeï¼šæŒ‰äººè„¸æ£€æµ‹å°ºå¯¸ï¼Œä»å°åˆ°å¤§æ’åºå¤„ç† ã€‚</p><p>large-smallï¼šæŒ‰äººè„¸æ£€æµ‹å°ºå¯¸ï¼Œä»å¤§åˆ°å°æ’åºå¤„ç† ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé‡‡ç”¨å¤§-å°æ–¹å¼åï¼Œå›¾åƒä¸­æœ€å¤§çš„å¤´éƒ¨æ˜¯æœ€å·¦ä¾§çš„ç”·äººï¼Œæ‰€ä»¥ä»–çš„å¤´åƒè¢«æ¢æ‰äº†ã€‚</p><p><img src="a48f792b1d1513426c83ab40b249e6041182660461.jpg@1192w.webp" alt="" /></p><p>best-worstï¼šæŒ‰äººè„¸è´¨é‡ï¼ˆæ¸…æ™°ã€å®Œæ•´åº¦ï¼‰ï¼Œä»ä¼˜åˆ°å·®å¤„ç† ã€‚</p><p>worst-bestï¼šæŒ‰äººè„¸è´¨é‡ï¼ˆæ¸…æ™°ã€å®Œæ•´åº¦ï¼‰ï¼Œä»å·®åˆ°ä¼˜å¤„ç† ã€‚</p><h2 id="2-äººè„¸é€‰æ‹©å™¨æ€§åˆ«"><a class="markdownIt-Anchor" href="#2-äººè„¸é€‰æ‹©å™¨æ€§åˆ«"></a> <strong>2ã€äººè„¸é€‰æ‹©å™¨æ€§åˆ«</strong></h2><p>å¯ä»¥æ ¹æ®ç”·å¥³æ€§åˆ«æœ‰é’ˆå¯¹æ€§æ¢è„¸ã€‚é»˜è®¤çŠ¶æ€æ˜¯noneï¼Œä¹Ÿå°±æ˜¯ä¸åˆ†æ€§åˆ«ã€‚</p><p><img src="e044dc4589be0e01d3e31722bb3f034a1182660461.jpg@350w_408h.webp" alt="" /></p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé€‰æ‹©maleç”·æ€§åï¼Œåˆ™å›¾åƒä¸­çš„å¥³æ€§å°±ä¸ä¼šè¢«æ¢è„¸ï¼Œåªæœ‰å³ä¾§çš„ç”·æ€§çš„è„¸è¢«æ¢æ‰äº†ã€‚</p><p><img src="2c53ab01ca5ca3fc0698636e0589ff441182660461.jpg@1192w.webp" alt="" /></p><h2 id="3-äººè„¸é€‰æ‹©å™¨ç§æ—"><a class="markdownIt-Anchor" href="#3-äººè„¸é€‰æ‹©å™¨ç§æ—"></a> <strong>3ã€äººè„¸é€‰æ‹©å™¨ç§æ—</strong></h2><p>æŒ‰é€‰æ‹©çš„ç§æ—è¿›è¡Œæ¢è„¸ï¼Œä¾‹å¦‚ï¼Œå¯ä»¥åªæ›¿æ¢å›¾åƒä¸­çš„äºšæ´²äººè„¸ï¼Œä¹Ÿå°±æ˜¯é»„ç§äººï¼Œç§æ—åŒ…å«å…­ç§ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="e7769da8700efcb03030c970cb655f801182660461.jpg@708w_708h.webp" alt="" /></p><p>noneï¼šæ— ï¼›æ— ç‰¹å®šç§æ—</p><p>whiteï¼šç™½è‰²äººç§ï¼›é«˜åŠ ç´¢äººç§</p><p>blackï¼šé»‘è‰²äººç§ï¼›éæ´²äººç§</p><p>latinoï¼šæ‹‰ä¸è£”ï¼ˆç¾æ´²è£”æ‹‰ä¸äººï¼Œæ¶µç›–å¤šç§æ—æ··åˆèƒŒæ™¯ ï¼‰</p><p>asianï¼šäºšæ´²äººç§ï¼›äºšè£”</p><p>indianï¼šå°åº¦äººç§ï¼ˆä¹Ÿç”¨äºæŒ‡ä»£ç¾æ´²å°ç¬¬å®‰äººï¼Œéœ€ç»“åˆåœºæ™¯ï¼Œè¿™é‡Œä¾§é‡å—äºšå°åº¦ ï¼‰</p><p>arabicï¼šé˜¿æ‹‰ä¼¯äººç§ï¼›é˜¿æ‹‰ä¼¯è£”</p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé€‰æ‹©äº†é»‘ç§äººæ¢è„¸ï¼Œåˆ™å›¾åƒä¸­åªæœ‰é»‘ç§äººè„¸è¢«æ¢æ‰ã€‚</p><p><img src="6bd19745ef83b69c44192bbe0479bcfb1182660461.jpg@1192w.webp" alt="" /></p><p><strong>è¯´æ˜</strong>ï¼šä¸Šå›¾ä¸­ï¼Œç”±äºæ²¡æœ‰é™åˆ¶æ€§åˆ«ï¼Œæ‰€ä»¥ï¼Œå›¾åƒä¸­ä¸åˆ†ç”·å¥³ï¼Œåªè¦æ˜¯é»‘ç§äººéƒ½ä¼šè¢«æ¢è„¸ã€‚</p><h2 id="4-äººè„¸é€‰æ‹©å™¨å¹´é¾„"><a class="markdownIt-Anchor" href="#4-äººè„¸é€‰æ‹©å™¨å¹´é¾„"></a> <strong>4ã€äººè„¸é€‰æ‹©å™¨å¹´é¾„</strong></h2><p>å¯ä»¥é™å®šå¹´é¾„èŒƒå›´ï¼Œä»è€Œåªæ›¿æ¢è¿™ä¸ªå¹´é¾„æ®µçš„äººè„¸ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å¹´é¾„é™å®šåœ¨0-14å²ï¼Œåˆ™åªæœ‰æœ€å‰é¢å­©å­çš„è„¸è¢«æ›¿æ¢äº†ã€‚</p><p><img src="8c43e2c74d6dec01900812a841d4f8fb1182660461.jpg@1192w.webp" alt="" /></p><p><strong>æ³¨æ„ï¼š</strong></p><p>ï¼ˆ1ï¼‰ä¸Šé¢è®²çš„å››ä¸ªäººè„¸é€‰æ‹©å™¨æ˜¯äº¤é›†çš„å…³ç³»ï¼Œè€Œä¸æ˜¯å¹¶é›†å…³ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ¢è„¸çš„äººåƒè¦åŒæ—¶æ»¡è¶³è¿™å››ä¸ªæ¡ä»¶ï¼Œå¦‚æœæœ‰çš„äººè„¸é€‰æ‹©å™¨è®¾ç½®ä¸ºnoneï¼Œåˆ™ä¼šå¿½ç•¥è¯¥æ¡ä»¶ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚è®¾å®šçš„æ¡ä»¶æ˜¯ç›®æ ‡å›¾åƒä¸­æŒ‰ä»å·¦å¾€å³çš„é¡ºåºåªå¯¹å¹´é¾„åœ¨18-40å²çš„äºšæ´²å¥³æ€§è¿›è¡Œæ¢è„¸ã€‚</p><p><img src="6578b0f6a11e9ae7673b0a4e11a8c6831182660461.jpg@792w_592h.webp" alt="" /></p><p>ï¼ˆ2ï¼‰è¿™äº›é™å®šæ¡ä»¶æœ‰æ—¶ä¼šåˆ¤æ–­å¤±è¯¯ï¼Œä¾‹å¦‚ï¼Œæœ‰æ—¶ä¼šæŠŠå¥³æ€§åˆ¤å®šä¸ºç”·æ€§ï¼ŒæŠŠç”·æ€§åˆ¤å®šä¸ºå¥³æ€§ï¼Œä¹Ÿæœ‰æ—¶å€™ä¼šè¯¯åˆ¤å¹´é¾„å¤§å°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘æŠŠå¹´é¾„é™å®šåœ¨50-100å²ï¼Œåˆ™æ£€æµ‹ç»“æœæ˜¯ç›®æ ‡å›¾åƒä¸­æ²¡æœ‰äººè¶…è¿‡50å²ï¼Œè¿™æ˜¯ä¸å¯¹çš„ã€‚æ ¹æ®å‰é¢å­©å­çš„å¹´é¾„ï¼Œæˆ‘ä»¬å¯ä»¥å¤§ä½“æ¨æ–­å³ä¾§çš„ä¸¤ä½è€äººçš„å¹´é¾„åº”è¯¥è¶…è¿‡50å²äº†ã€‚</p><p><img src="9d69a5931428a5024013dfe455f141031182660461.jpg@1192w.webp" alt="" /></p><p>å¦‚æœæŠŠå¹´é¾„é™åˆ¶åœ¨30-40ï¼Œåˆ™æ£€æµ‹å‡ºå¥¶å¥¶çš„å¹´é¾„åœ¨è¿™ä¸ªèŒƒå›´ï¼Œæ‰€ä»¥ï¼Œè¿™é‡Œçš„å¹´é¾„é™åˆ¶åªä½œä¸ºä¸€ä¸ªå‚æ•°ä½¿ç”¨å°±è¡Œï¼Œæ²¡å¿…è¦ä¸€å®šç­‰åŒäºå¤šå°‘å²ã€‚</p><p><img src="ca4c072633988d437a9a8da99d1d38c71182660461.jpg@1192w.webp" alt="" /></p><h2 id="5-äººè„¸é®æŒ¡æ¨¡å‹"><a class="markdownIt-Anchor" href="#5-äººè„¸é®æŒ¡æ¨¡å‹"></a> <strong>5ã€äººè„¸é®æŒ¡æ¨¡å‹</strong></h2><p>åœ¨æ›¿æ¢äººè„¸æ—¶ï¼Œç»å¸¸ä¼šé‡åˆ°äººè„¸è¢«é®æŒ¡çš„æƒ…å†µï¼Œä¾‹å¦‚ï¼Œè¯ç­’é®æŒ¡äº†äººè„¸ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="351dd6c0af69fee81ffd0784d84d497c1182660461.jpg@1192w.webp" alt="" /></p><p>æ‰‹æŒ‡é®æŒ¡äº†äººè„¸ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="df1ed4dcab6d2a9252955c67d06ffc181182660461.jpg@1192w.webp" alt="" /></p><p>ç”šè‡³æˆ´çš„å£ç½©æ›´ä¸¥é‡åœ°é®æŒ¡äº†äººè„¸ã€‚</p><p><img src="9a6b2c00874045a18d6e05165a0d84a21182660461.jpg@1192w.webp" alt="" /></p><p>è¿™äº›é®æŒ¡äººè„¸çš„æƒ…å†µéƒ½ä¼šä¸¥é‡å½±å“æ›¿æ¢äººè„¸æ•ˆæœï¼Œä¸ºäº†æ›´å¥½åœ°è§£å†³äººè„¸é®æŒ¡çš„é—®é¢˜ï¼Œäºæ˜¯äººè„¸é®æŒ¡æ¨¡å‹å°±å‡ºç°äº†ã€‚</p><p>è¿™äº›æ˜¯ Facefusion ä¸­ç”¨äºäººè„¸é®æŒ¡å¤„ç†çš„æ¨¡å‹ï¼Œä½œç”¨æ˜¯è¾…åŠ©è¯†åˆ«ã€åˆ†å‰²äººè„¸åŒºåŸŸä¸é®æŒ¡éƒ¨åˆ†ï¼ŒåŒ…å«ä¸‰ä¸ªæ¨¡å‹ã€‚</p><p><img src="b3644078ff786582194b799155e73ed31182660461.jpg@342w_406h.webp" alt="" /></p><p>xseg_1ï¼šåŸºç¡€ç‰ˆäººè„¸é®æŒ¡åˆ†å‰²æ¨¡å‹ï¼Œè¯†åˆ«å¹¶å¤„ç†äººè„¸é®æŒ¡ï¼Œåˆæ­¥åŒºåˆ†äººè„¸ä¸é®æŒ¡ç‰© ã€‚</p><p>xseg_2ï¼šè¿›é˜¶ç‰ˆï¼Œåœ¨é®æŒ¡åˆ†å‰²ç²¾åº¦ã€å¤æ‚åœºæ™¯é€‚é…ï¼ˆå¦‚å¤šé®æŒ¡ï¼‰ä¸Šä¼˜åŒ–ï¼Œæ•ˆæœæ›´ç»† ã€‚</p><p>xseg_3ï¼šé«˜é˜¶ç‰ˆï¼Œå¯¹ç»†å¾®é®æŒ¡ã€å¤æ‚ç¯å¢ƒï¼ˆå¦‚åŠé€æ˜é®æŒ¡ï¼‰å¤„ç†æ›´ç²¾å‡†ï¼Œæå‡æ¢è„¸èåˆåº¦ ã€‚</p><p><img src="71bf2cd56882a2e97f8b3477c9256f8b09f361d3.1.png" alt="cut-off" /></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœ€æ–°æ¢è„¸è½¯ä»¶facefusionæ±‰åŒ–ç‰ˆæ•´åˆåŒ…åˆ†äº«åŠä½¿ç”¨æ•™ç¨‹</title>
      <link href="/2025/07/22/Other/%E6%9C%80%E6%96%B0%E6%8D%A2%E8%84%B8%E8%BD%AF%E4%BB%B6facefusion%E6%B1%89%E5%8C%96%E7%89%88%E6%95%B4%E5%90%88%E5%8C%85%E5%88%86%E4%BA%AB%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/"/>
      <url>/2025/07/22/Other/%E6%9C%80%E6%96%B0%E6%8D%A2%E8%84%B8%E8%BD%AF%E4%BB%B6facefusion%E6%B1%89%E5%8C%96%E7%89%88%E6%95%B4%E5%90%88%E5%8C%85%E5%88%86%E4%BA%AB%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ€æ–°æ¢è„¸è½¯ä»¶facefusionæ±‰åŒ–ç‰ˆæ•´åˆåŒ…åˆ†äº«åŠä½¿ç”¨æ•™ç¨‹</p></blockquote><p><img src="ee1979aaa85c4f397f5a3569c5acb8d536f9354c.png@1192w.webp" alt="" /></p><p>Facefusionæ˜¯ä¸€æ¬¾æœ€æ–°çš„å¼€æºAIè§†é¢‘/å›¾ç‰‡æ¢è„¸é¡¹ç›®ã€‚é¡¹ç›®å®˜æ–¹ä»‹ç»åªæœ‰ä¸€å¥è¯ï¼Œä¸‹ä¸€ä»£æ¢è„¸å™¨å’Œå¢å¼ºå™¨ã€‚é‡‡ç”¨äº†å…¨æ–°çš„ç•Œé¢è®¾è®¡ï¼Œå¯ä»¥åƒStable Diffuisonä¸€æ ·ï¼Œåœ¨ç½‘é¡µæ‰“å¼€æ“ä½œé¡µé¢ï¼Œæ›´åŠ æ–¹ä¾¿ã€‚</p><p><img src="0031bf2dc47321ecee35d95bdad6e6b053796bf4.png@1192w.webp" alt="" /></p><h2 id="ä¸‹è½½å®‰è£…"><a class="markdownIt-Anchor" href="#ä¸‹è½½å®‰è£…"></a> <strong>ä¸‹è½½å®‰è£…</strong></h2><p>å­¦æœ¯Funå°†ä¸Šè¿°å·¥å…·åˆ¶ä½œæˆä¸€é”®å¯åŠ¨åŒ…ï¼Œç‚¹å‡»å³å¯ä½¿ç”¨ï¼Œé¿å…å¤§å®¶é…ç½®Pythonç¯å¢ƒå‡ºç°å„ç§é—®é¢˜ï¼Œä¸‹è½½åœ°å€ï¼š <a href="https://xueshu.fun/2947/">https://xueshu.fun/2947/</a></p><p>è·å–è½¯ä»¶å¹¶è§£å‹ï¼Œè¯·æ³¨æ„è¦è§£å‹åˆ°ä¸€ä¸ªè‹±æ–‡è·¯å¾„ä¸‹ï¼Œæœ€å¥½æ˜¯æ”¾éCç›˜çš„æ ¹ç›®å½•ï¼Œæ¯”å¦‚Dç›˜ä¸‹é¢ã€‚</p><p>è§£å‹ä¹‹ååªéœ€è¦ç‚¹å‡»å¯åŠ¨.exe</p><p><img src="9f8bed1e57c5e27e5830091e6d6f94401e16ece2.png@1192w.webp" alt="" /></p><p>å¯åŠ¨ä¼šéå¸¸å¿«ï¼Œå¯åŠ¨ä¹‹åä¼šå‡ºç°ä¸€ä¸ªç½‘å€<a href="http://127.0.0.1:7860">http://127.0.0.1:7860</a></p><p>å¤åˆ¶åˆ°æµè§ˆå™¨ï¼Œæ‰“å¼€å°±å¯ä»¥çœ‹åˆ°ç•Œé¢äº†ã€‚</p><p><img src="455cf1dc09f66612ce46eec71b09ee34bb2568af.png@1192w.webp" alt="" /></p><p>å®Œæ•´çš„ç•Œé¢å¦‚ä¸‹ï¼š</p><p><img src="360f845e6ecf42d93e90bc969704701d3dd39a5e.png@1192w.webp" alt="" /></p><h2 id="ä½¿ç”¨æ•™ç¨‹"><a class="markdownIt-Anchor" href="#ä½¿ç”¨æ•™ç¨‹"></a> <strong>ä½¿ç”¨æ•™ç¨‹</strong></h2><p>è¿™æ¬¡çš„è½¯ä»¶ä½¿ç”¨gradioæ„å»ºäº†WebUIï¼Œç•Œé¢ä¸Šæœ‰å¾ˆå¤šé€‰é¡¹ã€‚</p><p>å¯ä»¥è®¾ç½®å¾ˆå¤šå‚æ•°ï¼Œæ¯”å¦‚ï¼š</p><ul><li>è®¾ç½®äººè„¸æ›¿æ¢</li><li>è®¾ç½®äººè„¸å¢å¼º</li><li>è®¾ç½®ç”»é¢å¢å¼º</li><li>è®¾ç½®GPUå’ŒCPU</li><li>è®¾ç½®çº¿ç¨‹æ•°é‡</li><li>è®¾ç½®ç¼“å­˜æ–‡ä»¶æ ¼å¼</li><li>è®¾ç½®ç¼“å­˜å¸§çš„è´¨é‡</li><li>è®¾ç½®ä¿æŒå¸§ç‡ä¸å˜</li><li>è®¾ç½®ä¿æŒç¼“å­˜æ–‡ä»¶</li><li>è®¾ç½®éŸ³é¢‘è¿˜åŸ</li><li>è®¾ç½®è§†é¢‘ç¼–ç å’Œè§†é¢‘è´¨é‡</li><li>è®¾ç½®å‚è€ƒäººè„¸æ›¿æ¢å’Œå…¨éƒ¨æ›¿æ¢</li><li>é€šè¿‡ç›¸ä¼¼åº¦é€‰æ‹©äººè„¸</li><li>é€šè¿‡æ–¹ä½é€‰æ‹©äººè„¸</li><li>é€šè¿‡å¹´é¾„é€‰æ‹©äººè„¸</li><li>é€šè¿‡æ€§åˆ«é€‰æ‹©äººè„¸</li><li>æ”¯æŒæ¢è„¸å’Œé¢„è§ˆ</li><li>æ”¯æŒå›¾ç‰‡å’Œè§†é¢‘æ¢è„¸ã€‚</li></ul><p>æ ¸å¿ƒæ“ä½œå…¶å®éå¸¸ç®€å•ï¼Œæ ¹æ®ä¸‹å›¾æ¥å°±å¥½äº†ã€‚</p><p><img src="62b9d34e11b0489dd2df3d519381553453eb9e82.jpg@1192w.webp" alt="" /></p><p><strong>â‘  è®¾ç½®äººè„¸ï¼ˆSourceï¼‰</strong></p><p>åªè¦ç‚¹å‡»è¿™ä¸ªæ¡†æ¡†å°±ä¼šè·³å‡ºæ–‡ä»¶ç®¡ç†å™¨ï¼Œé€‰æ‹©ä¸€å¼ å¸¦æ¸…æ™°å®Œæ•´äººè„¸å›¾ç‰‡å°±å¯ä»¥äº†ã€‚æ³¨æ„å›¾ç‰‡åå­—ç”¨è‹±æ–‡å’Œæ•°å­—ã€‚</p><p><strong>â‘¡ è®¾ç½®ç›®æ ‡ï¼ˆTargetï¼‰</strong></p><p>æ–¹æ³•åŒä¸Šï¼Œç›®æ ‡å¯ä»¥æ˜¯å›¾ç‰‡ï¼Œä¹Ÿå¯ä»¥æ˜¯è§†é¢‘ã€‚</p><p><strong>â‘¢ æ•ˆæœé¢„è§ˆ ï¼ˆPreviewï¼‰</strong></p><p>ä¸€å®šé€‰ä¸­ç›®æ ‡ä¹‹åï¼Œè½¯ä»¶é‡Œé¢å°±å¼€å§‹è¿è¡Œï¼Œè¿è¡Œä¹‹åä¼šæŠŠåˆæˆé¢„è§ˆæ˜¾ç¤ºåœ¨è¿™ä¸ªåŒºåŸŸã€‚æ¢çš„æ˜¯å›¾ç‰‡ï¼Œå…¶å®é¢„è§ˆåŒºåŸŸå°±æ˜¯æ¢è„¸åçš„ç»“æœäº†ã€‚</p><p>æ¢çš„æ˜¯è§†é¢‘çš„è¯ï¼Œä¼šæˆªå–æŸä¸€å¸§ä½œä¸ºé¢„è§ˆæ•ˆæœã€‚</p><p><strong>â‘£ å¼€å§‹æ¢è„¸ï¼ˆStartï¼‰</strong></p><p>ä¸€åˆ‡å°±ç»ªä¹‹åï¼Œå°±å¯ä»¥ç‚¹å‡»æŒ‰é’®å¼€å§‹æ¢äº†ã€‚</p><p><strong>â‘¤ æŸ¥çœ‹ç»“æœï¼ˆOUTPUTï¼‰</strong></p><p>æ¢è„¸æˆåŠŸä¹‹åï¼Œä¼šæŠŠç»“æœæ˜¾ç¤ºåœ¨è¿™é‡Œã€‚ç‚¹å‡»å³ä¸Šè§’çš„ä¸‹è½½å›¾æ ‡ï¼Œå°±å¯ä»¥æŠŠç»“æœä¿å­˜ä¸‹æ¥äº†ã€‚</p><p>ä¸Šé¢å°±æ˜¯æ ¸å¿ƒæ­¥éª¤ï¼Œæ•´ä½“æ¥è¯´å·²ç»éå¸¸ç®€å•äº†ã€‚</p><p>ä¸‹é¢è¯´ä¸€ä¸‹å·¦ä¾§çš„å‚æ•°è®¾ç½®ã€‚</p><p><img src="90cbd92c456c7d1eb82e750713ee32b5be460dc6.jpg@1192w.webp" alt="" /></p><p><strong>â‘ å¤„ç†å™¨</strong></p><p>å¤„ç†å™¨ï¼ŒåŒ…å«äº†æ¢è„¸ï¼Œäººè„¸å¢å¼ºï¼Œå¸§å¢å¼ºã€‚</p><p>æ¢è„¸æ˜¯æœ€åŸºæœ¬çš„ï¼Œè‚¯å®šè¦å‹¾é€‰ã€‚</p><p>äººè„¸å¢å¼ºå¯é€‰ï¼Œä¸é€‰ä¼šæ¯”è¾ƒæ¨¡ç³Šï¼Œç›¸ä¼¼åº¦é«˜ã€‚å‹¾é€‰åä¼šæ›´æ¸…æ¥šï¼Œç›¸ä¼¼åº¦æœ‰æ‰€ä¸‹é™ï¼Œæ¶ˆè€—æ›´å¤šçš„ç¡¬ä»¶èµ„æºã€‚</p><p>å¸§å¢å¼ºè¿™æ˜¯æ–°åŠ å…¥çš„ä¸€ä¸ªå¢åŠ æ–¹å¼ï¼Œä¼šå¯¹æ•´ä¸ªç”»é¢è¿›è¡Œä¿®å¤ã€‚è¿™ä¸ªçœ‹æƒ…å†µæ¥ï¼Œä¸ªäººæ„Ÿè§‰å¦‚æœåŒæ—¶å¯åŠ¨äººè„¸å¢å¼ºå’Œå¸§å¢å¼ºï¼Œä¼šæœ‰ç‚¹å‡ã€‚</p><p><strong>â‘¡æ‰§è¡Œå™¨</strong></p><p>æ‰§è¡Œå™¨å°±æ˜¯è¿è¡Œè®¾å¤‡ï¼Œå¯ä»¥é€‰æ‹©Tensorï¼ŒCudaï¼Œcpuã€‚</p><p>å¯åŠ¨ä¹‹åé»˜è®¤åªå‹¾é€‰äº†CPUï¼Œä¸€èˆ¬æ¥è¯´å¤§å®¶éƒ½æ˜¯ç”¨æ˜¾å¡è·‘ï¼Œåªè¦å‹¾é€‰ä¸€ä¸‹CUDAå°±å¯ä»¥äº†ã€‚</p><p><strong>â‘¢ç¼“å­˜å¸§</strong></p><p>ç¼“å­˜å¸§ä¸»è¦æ˜¯é’ˆå¯¹è§†é¢‘ï¼Œåœ¨è§†é¢‘æ¢è„¸è¿‡ç¨‹ä¸­ï¼Œä¼šå…ˆæŠŠè§†é¢‘çš„æ¯ä¸€å¸§éƒ½è½¬æ¢æˆå›¾ç‰‡ã€‚è¿™ä¸ªæ—¶å€™å°±ä¼šæ¶‰åŠåˆ°å›¾ç‰‡è´¨é‡å’Œå›¾ç‰‡æ ¼å¼çš„é—®é¢˜äº†ã€‚</p><p>PNGæ˜¯æ— æŸè½¬æ¢ï¼Œä½†æ˜¯ç¡¬ç›˜ä»£ä»·å¾ˆé«˜ï¼Œæ—¶é—´ä¼šæ…¢ã€‚</p><p>JPGå¯ä»¥ä¿è¯è´¨é‡æŸå¤±ä¸å¤§ï¼Œä½†æ˜¯æ•ˆç‡è¶…é«˜ï¼Œæ–‡ä»¶å¤§å°å‡å°‘å·¨å¤šã€‚</p><p><strong>â‘£å¼€å…³å‚æ•°</strong></p><p>å¼€å…³å‚æ•°ï¼Œä¸»è¦å°±æ˜¯ä¿æŒå¸§ç‡ï¼Œä¿ç•™ç¼“å­˜æ•°æ®ï¼ŒéŸ³è½¨ã€‚</p><p>ä¿æŒå¸§ç‡æœ€å¥½å¼€å¯ï¼Œå¦åˆ™å¯èƒ½ä¼šå£°éŸ³å’Œç”»é¢ä¸åŒæ­¥ã€‚</p><p>ç¼“å­˜æ•°æ®ä¸éœ€è¦å‹¾é€‰ã€‚</p><p>éŸ³è½¨ï¼Œä¸å‹¾é€‰ï¼Œä»£è¡¨ä¿ç•™éŸ³è½¨ã€‚</p><p>ä¸‹é¢å†è¯´ä¸€ä¸‹å³ä¸‹æ–¹çš„å‚æ•°ã€‚</p><p><img src="b0cf9ae7a4e20502330842c990b126ebaa58cf17.jpg@1192w.webp" alt="" /></p><p><strong>â‘  äººè„¸è¯†åˆ«æ–¹å¼é€‰æ‹©</strong></p><p>è¿™é‡Œä¸»è¦æ˜¯ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯åˆ¶å®šäººè„¸ï¼Œä¸€ç§æ˜¯å…¨éƒ¨æ›¿æ¢ã€‚</p><p>æŒ‡å®šäººè„¸ï¼Œé»˜è®¤ä½¿ç”¨äººè„¸ç›¸ä¼¼åº¦æ¥æŒ‡å®šã€‚</p><p><strong>â‘¡ é€šè¿‡æ–¹å‘é€‰æ‹©</strong></p><p>é€šè¿‡äººè„¸åœ¨å›¾ç‰‡ä¸­çš„ä½ç½®å’Œå¤§å°é€‰æ‹©è¦æ›¿æ¢çš„äººè„¸ã€‚</p><p><strong>â‘¢é€šè¿‡å¹´é¾„é€‰æ‹©</strong></p><p>é€šè¿‡ä¸åŒå¹´é¾„æ®µæ¥é€‰æ‹©è¦é€‰å¥½çš„äººè„¸ã€‚</p><p><strong>â‘£é€šè¿‡æ€§åˆ«é€‰æ‹©</strong></p><p>é€šè¿‡æ€§åˆ«æ¥é€‰æ‹©è¦æ›¿æ¢çš„äººè„¸ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ™ºèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†…å­˜ç®¡ç†åŸºç¡€ï¼šæ•°æ®ç»“æ„çš„å­˜å‚¨æ–¹å¼</title>
      <link href="/2025/07/21/C/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%9F%BA%E7%A1%80%EF%BC%9A%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84%E5%AD%98%E5%82%A8%E6%96%B9%E5%BC%8F/"/>
      <url>/2025/07/21/C/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%9F%BA%E7%A1%80%EF%BC%9A%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84%E5%AD%98%E5%82%A8%E6%96%B9%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="å†…å­˜ç®¡ç†åŸºç¡€æ•°æ®ç»“æ„çš„å­˜å‚¨æ–¹å¼"><a class="markdownIt-Anchor" href="#å†…å­˜ç®¡ç†åŸºç¡€æ•°æ®ç»“æ„çš„å­˜å‚¨æ–¹å¼"></a> å†…å­˜ç®¡ç†åŸºç¡€ï¼šæ•°æ®ç»“æ„çš„å­˜å‚¨æ–¹å¼</h2><p>æƒ³è±¡ä¸€ä¸‹ä½ æ­£åœ¨æ•´ç†ä½ çš„è¡£æŸœã€‚æœ‰äº›è¡£æœä½ ä¼šæŠ˜å æ•´é½åœ°æ”¾åœ¨æŠ½å±‰é‡Œï¼ˆè¿ç»­å­˜å‚¨ï¼‰ï¼Œæœ‰äº›åˆ™æŒ‚åœ¨è¡£æ¶ä¸Šåˆ†æ•£åœ¨è¡£æŸœå„å¤„ï¼ˆé“¾å¼å­˜å‚¨ã€‚è®¡ç®—æœºå†…å­˜ç®¡ç†æ•°æ®çš„æ–¹å¼å…¶å®å’Œè¿™ä¸ªåœºæ™¯éå¸¸ç›¸ä¼¼ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥æ¢è®¨ä¸€ä¸‹æ•°æ®ç»“æ„åœ¨å†…å­˜ä¸­çš„ä¸åŒå­˜å‚¨æ–¹å¼ï¼Œä»¥åŠå®ƒä»¬å„è‡ªçš„ä¼˜ç¼ºç‚¹ã€‚</p><h3 id="1-è¿ç»­å­˜å‚¨ç»“æ„"><a class="markdownIt-Anchor" href="#1-è¿ç»­å­˜å‚¨ç»“æ„"></a> 1. è¿ç»­å­˜å‚¨ç»“æ„</h3><p>ç†è§£äº†è¡£æŸœçš„æ¯”å–»åï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹è®¡ç®—æœºä¸­æœ€åŸºç¡€çš„å­˜å‚¨æ–¹å¼â€”â€”è¿ç»­å­˜å‚¨ã€‚è¿™ç§å­˜å‚¨æ–¹å¼å°±åƒæŠŠè¡£æœä¸€ä»¶ä»¶ç´§å¯†åœ°å æ”¾åœ¨æŠ½å±‰é‡Œï¼Œæ¯ä»¶è¡£æœå æ®å›ºå®šå¤§å°çš„ç©ºé—´ï¼Œå¹¶ä¸”æŒ‰ç…§é¡ºåºæ’åˆ—ã€‚</p><h4 id="11-æ•°ç»„çš„å­˜å‚¨æ–¹å¼"><a class="markdownIt-Anchor" href="#11-æ•°ç»„çš„å­˜å‚¨æ–¹å¼"></a> 1.1 æ•°ç»„çš„å­˜å‚¨æ–¹å¼</h4><p>æ•°ç»„æ˜¯æœ€å…¸å‹çš„è¿ç»­å­˜å‚¨ç»“æ„ã€‚è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥çœ‹çœ‹æ•°ç»„åœ¨å†…å­˜ä¸­æ˜¯å¦‚ä½•å­˜å‚¨çš„ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">5</span>] = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;;</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç å®šä¹‰äº†ä¸€ä¸ªåŒ…å«5ä¸ªæ•´æ•°çš„æ•°ç»„ã€‚åœ¨å†…å­˜ä¸­ï¼Œè¿™äº›å…ƒç´ ä¼šè¢«è¿ç»­åœ°å­˜å‚¨åœ¨ä¸€èµ·ã€‚</p><p><img src="6dbd55eda53d6550a09ffc9da8295446.png" alt="" /></p><p>ä»¥ä¸Šæµç¨‹å›¾è¯´æ˜äº†æ•°ç»„åœ¨å†…å­˜ä¸­çš„è¿ç»­å­˜å‚¨æ–¹å¼ï¼Œæ¯ä¸ªå…ƒç´ å æ®4å­—èŠ‚ç©ºé—´</p><h4 id="12-è¿ç»­å­˜å‚¨çš„ä¼˜ç¼ºç‚¹"><a class="markdownIt-Anchor" href="#12-è¿ç»­å­˜å‚¨çš„ä¼˜ç¼ºç‚¹"></a> 1.2 è¿ç»­å­˜å‚¨çš„ä¼˜ç¼ºç‚¹</h4><p>è¿ç»­å­˜å‚¨ç»“æ„çš„ä¸»è¦ä¼˜ç‚¹åŒ…æ‹¬ï¼š</p><ul><li><strong>è®¿é—®é€Ÿåº¦å¿«</strong>ï¼šå¯ä»¥é€šè¿‡ç´¢å¼•ç›´æ¥è®¡ç®—å‡ºå…ƒç´ çš„å†…å­˜åœ°å€</li><li><strong>ç¼“å­˜å‹å¥½</strong>ï¼šç›¸é‚»å…ƒç´ å¾ˆå¯èƒ½è¢«ä¸€èµ·åŠ è½½åˆ°CPUç¼“å­˜ä¸­</li><li><strong>ç©ºé—´åˆ©ç”¨ç‡é«˜</strong>ï¼šæ²¡æœ‰é¢å¤–çš„å­˜å‚¨å¼€é”€</li></ul><p>ä½†è¿ç»­å­˜å‚¨ä¹Ÿæœ‰æ˜æ˜¾çš„ç¼ºç‚¹ï¼š</p><ul><li><strong>å¤§å°å›ºå®š</strong>ï¼šä¸€æ—¦åˆ†é…ï¼Œå¤§å°éš¾ä»¥æ”¹å˜</li><li><strong>æ’å…¥/åˆ é™¤æˆæœ¬é«˜</strong>ï¼šéœ€è¦ç§»åŠ¨å¤§é‡å…ƒç´ </li></ul><p><strong>ä¸“ä¸šæç¤ºï¼š</strong> åœ¨C++ä¸­ï¼Œstd::vectorè™½ç„¶çœ‹èµ·æ¥å¯ä»¥åŠ¨æ€æ‰©å±•ï¼Œä½†å®é™…ä¸Šå®ƒå†…éƒ¨ä»ç„¶æ˜¯è¿ç»­å­˜å‚¨çš„ï¼Œå½“å®¹é‡ä¸è¶³æ—¶ä¼šé‡æ–°åˆ†é…æ›´å¤§çš„è¿ç»­ç©ºé—´ã€‚</p><h3 id="2-é“¾å¼å­˜å‚¨ç»“æ„"><a class="markdownIt-Anchor" href="#2-é“¾å¼å­˜å‚¨ç»“æ„"></a> 2. é“¾å¼å­˜å‚¨ç»“æ„</h3><p>äº†è§£äº†è¿ç»­å­˜å‚¨çš„é™åˆ¶åï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å¦ä¸€ç§å®Œå…¨ä¸åŒçš„å­˜å‚¨æ–¹å¼â€”â€”é“¾å¼å­˜å‚¨ã€‚è¿™ç§ç»“æ„å°±åƒè¡£æŸœä¸­çš„è¡£æ¶ï¼Œæ¯ä¸ªè¡£æ¶ï¼ˆèŠ‚ç‚¹ï¼‰å¯ä»¥æ”¾åœ¨ä»»ä½•ä½ç½®ï¼Œåªéœ€è¦è®°ä½ä¸‹ä¸€ä¸ªè¡£æ¶åœ¨å“ªé‡Œã€‚</p><h4 id="21-é“¾è¡¨çš„å­˜å‚¨æ–¹å¼"><a class="markdownIt-Anchor" href="#21-é“¾è¡¨çš„å­˜å‚¨æ–¹å¼"></a> 2.1 é“¾è¡¨çš„å­˜å‚¨æ–¹å¼</h4><p>é“¾è¡¨æ˜¯é“¾å¼å­˜å‚¨çš„å…¸å‹ä»£è¡¨ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„é“¾è¡¨èŠ‚ç‚¹å®šä¹‰ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    Node* next;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç å®šä¹‰äº†ä¸€ä¸ªé“¾è¡¨èŠ‚ç‚¹ï¼ŒåŒ…å«æ•°æ®éƒ¨åˆ†å’ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆã€‚</p><p><img src="62186cae77c397cf80fb096dee06a09c.png" alt="" /></p><p>ä»¥ä¸Šæµç¨‹å›¾å±•ç¤ºäº†é“¾è¡¨åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼ï¼ŒèŠ‚ç‚¹å¯ä»¥åˆ†æ•£åœ¨å†…å­˜å„å¤„</p><h4 id="22-é“¾å¼å­˜å‚¨çš„ä¼˜ç¼ºç‚¹"><a class="markdownIt-Anchor" href="#22-é“¾å¼å­˜å‚¨çš„ä¼˜ç¼ºç‚¹"></a> 2.2 é“¾å¼å­˜å‚¨çš„ä¼˜ç¼ºç‚¹</h4><p>é“¾å¼å­˜å‚¨çš„ä¸»è¦ä¼˜ç‚¹åŒ…æ‹¬ï¼š</p><ul><li><strong>åŠ¨æ€å¤§å°</strong>ï¼šå¯ä»¥éšæ—¶æ·»åŠ æˆ–åˆ é™¤èŠ‚ç‚¹</li><li><strong>æ’å…¥/åˆ é™¤é«˜æ•ˆ</strong>ï¼šåªéœ€è¦ä¿®æ”¹æŒ‡é’ˆï¼Œä¸éœ€è¦ç§»åŠ¨æ•°æ®</li></ul><p>ä½†é“¾å¼å­˜å‚¨ä¹Ÿæœ‰å…¶ç¼ºç‚¹ï¼š</p><ul><li><strong>è®¿é—®é€Ÿåº¦æ…¢</strong>ï¼šå¿…é¡»ä»å¤´å¼€å§‹éå†</li><li><strong>ç©ºé—´å¼€é”€å¤§</strong>ï¼šéœ€è¦é¢å¤–ç©ºé—´å­˜å‚¨æŒ‡é’ˆ</li><li><strong>ç¼“å­˜ä¸å‹å¥½</strong>ï¼šèŠ‚ç‚¹åˆ†æ•£åœ¨å†…å­˜å„å¤„</li></ul><p><strong>æ³¨æ„ï¼š</strong> åœ¨å®é™…åº”ç”¨ä¸­ï¼Œç°ä»£CPUçš„ç¼“å­˜æœºåˆ¶ä½¿å¾—é“¾è¡¨çš„æ€§èƒ½å¾€å¾€æ¯”ç†è®ºé¢„æœŸè¦å·®ï¼Œå› ä¸ºé¢‘ç¹çš„æŒ‡é’ˆè·³è½¬ä¼šå¼•å‘å¤§é‡çš„ç¼“å­˜æœªå‘½ä¸­ã€‚</p><h3 id="3-ç´¢å¼•å­˜å‚¨ç»“æ„"><a class="markdownIt-Anchor" href="#3-ç´¢å¼•å­˜å‚¨ç»“æ„"></a> 3. ç´¢å¼•å­˜å‚¨ç»“æ„</h3><p>ç†è§£äº†åŸºæœ¬çš„è¿ç»­å’Œé“¾å¼å­˜å‚¨åï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ç§ç»“åˆäº†ä¸¤è€…ä¼˜ç‚¹çš„å­˜å‚¨æ–¹å¼â€”â€”ç´¢å¼•å­˜å‚¨ã€‚è¿™å°±åƒåœ¨è¡£æŸœä¸­å»ºç«‹ä¸€ä¸ªç›®å½•ï¼Œå‘Šè¯‰ä½ æ¯ç±»è¡£æœæ”¾åœ¨å“ªä¸ªæŠ½å±‰é‡Œã€‚</p><h4 id="31-ç´¢å¼•å­˜å‚¨çš„å®ç°"><a class="markdownIt-Anchor" href="#31-ç´¢å¼•å­˜å‚¨çš„å®ç°"></a> 3.1 ç´¢å¼•å­˜å‚¨çš„å®ç°</h4><p>ç´¢å¼•å­˜å‚¨é€šå¸¸ç”±ä¸€ä¸ªç´¢å¼•è¡¨å’Œæ•°æ®åŒºç»„æˆã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç´¢å¼•ç»“æ„ç¤ºä¾‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">IndexEntry</span> &#123;</span><br><span class="line">    <span class="type">int</span> key;</span><br><span class="line">    <span class="type">void</span>* data_ptr;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">IndexEntry index_table[<span class="number">100</span>];</span><br><span class="line"><span class="type">char</span> data_pool[<span class="number">1024</span>]; <span class="comment">// æ•°æ®å­˜å‚¨æ± </span></span><br></pre></td></tr></table></figure><p><img src="ebce378a882571aaa6a1b67f8eb461a0.png" alt="" /></p><p>ä»¥ä¸Šæµç¨‹å›¾å±•ç¤ºäº†ç´¢å¼•å­˜å‚¨ç»“æ„ï¼Œç´¢å¼•è¡¨å’Œæ•°æ®åŒºåˆ†ç¦»</p><h4 id="32-ç´¢å¼•å­˜å‚¨çš„åº”ç”¨"><a class="markdownIt-Anchor" href="#32-ç´¢å¼•å­˜å‚¨çš„åº”ç”¨"></a> 3.2 ç´¢å¼•å­˜å‚¨çš„åº”ç”¨</h4><p>ç´¢å¼•å­˜å‚¨ç»“åˆäº†è¿ç»­å’Œé“¾å¼å­˜å‚¨çš„ä¼˜ç‚¹ï¼š</p><ul><li><strong>å¿«é€ŸæŸ¥æ‰¾</strong>ï¼šå¯ä»¥é€šè¿‡ç´¢å¼•å¿«é€Ÿå®šä½</li><li><strong>åŠ¨æ€æ‰©å±•</strong>ï¼šæ•°æ®åŒºå¯ä»¥åŠ¨æ€å¢é•¿</li><li><strong>çµæ´»ç»„ç»‡</strong>ï¼šå¯ä»¥æŒ‰éœ€é‡ç»„ç´¢å¼•è€Œä¸ç§»åŠ¨æ•°æ®</li></ul><p>æ•°æ®åº“ç³»ç»Ÿä¸­çš„B+æ ‘ç´¢å¼•å°±æ˜¯ç´¢å¼•å­˜å‚¨çš„å…¸å‹åº”ç”¨ã€‚</p><h3 id="4-æ•£åˆ—å­˜å‚¨ç»“æ„"><a class="markdownIt-Anchor" href="#4-æ•£åˆ—å­˜å‚¨ç»“æ„"></a> 4. æ•£åˆ—å­˜å‚¨ç»“æ„</h3><p>äº†è§£äº†ç´¢å¼•å­˜å‚¨åï¼Œæˆ‘ä»¬æ¥çœ‹å¦ä¸€ç§é«˜æ•ˆçš„å­˜å‚¨æ–¹å¼â€”â€”æ•£åˆ—å­˜å‚¨ã€‚è¿™å°±åƒç»™æ¯ä»¶è¡£æœä¸€ä¸ªå”¯ä¸€çš„ç¼–å·ï¼Œç„¶åæ ¹æ®ç¼–å·ç›´æ¥æ‰¾åˆ°å­˜æ”¾çš„ä½ç½®ã€‚</p><h4 id="41-å“ˆå¸Œè¡¨çš„å®ç°"><a class="markdownIt-Anchor" href="#41-å“ˆå¸Œè¡¨çš„å®ç°"></a> 4.1 å“ˆå¸Œè¡¨çš„å®ç°</h4><p>å“ˆå¸Œè¡¨æ˜¯æ•£åˆ—å­˜å‚¨çš„å…¸å‹ä»£è¡¨ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„å“ˆå¸Œè¡¨å®ç°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> TABLE_SIZE 10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">HashNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> key;</span><br><span class="line">    <span class="type">int</span> value;</span><br><span class="line">    HashNode* next;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">HashNode* hashTable[TABLE_SIZE];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">hashFunction</span><span class="params">(<span class="type">int</span> key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> key % TABLE_SIZE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="a10422ab7b15c7114b7493de7a1aebb7.png" alt="" /></p><p>ä»¥ä¸Šæµç¨‹å›¾å±•ç¤ºäº†å“ˆå¸Œè¡¨çš„åŸºæœ¬ç»“æ„ï¼Œä½¿ç”¨å“ˆå¸Œå‡½æ•°ç¡®å®šå­˜å‚¨ä½ç½®</p><h4 id="42-æ•£åˆ—å­˜å‚¨çš„ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#42-æ•£åˆ—å­˜å‚¨çš„ç‰¹ç‚¹"></a> 4.2 æ•£åˆ—å­˜å‚¨çš„ç‰¹ç‚¹</h4><p>æ•£åˆ—å­˜å‚¨çš„ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š</p><ul><li><strong>å¿«é€Ÿè®¿é—®</strong>ï¼šç†æƒ³æƒ…å†µä¸‹O(1)æ—¶é—´å¤æ‚åº¦</li><li><strong>ç©ºé—´æ¢æ—¶é—´</strong>ï¼šéœ€è¦é¢„ç•™è¶³å¤Ÿç©ºé—´å‡å°‘å†²çª</li><li><strong>å†²çªå¤„ç†</strong>ï¼šéœ€è¦å¤„ç†å“ˆå¸Œå†²çªï¼ˆé“¾åœ°å€æ³•/å¼€æ”¾å¯»å€æ³•ï¼‰</li></ul><p><strong>ä¸“ä¸šæç¤ºï¼š</strong> ç°ä»£ç¼–ç¨‹è¯­è¨€ä¸­çš„å­—å…¸/æ˜ å°„ç±»å‹ï¼ˆå¦‚Pythonçš„dictã€C++çš„unordered_mapï¼‰é€šå¸¸éƒ½é‡‡ç”¨æ•£åˆ—å­˜å‚¨å®ç°ã€‚</p><h3 id="5-å­˜å‚¨æ–¹å¼çš„é€‰æ‹©ç­–ç•¥"><a class="markdownIt-Anchor" href="#5-å­˜å‚¨æ–¹å¼çš„é€‰æ‹©ç­–ç•¥"></a> 5. å­˜å‚¨æ–¹å¼çš„é€‰æ‹©ç­–ç•¥</h3><p>äº†è§£äº†å„ç§å­˜å‚¨æ–¹å¼åï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹åœ¨å®é™…åº”ç”¨ä¸­å¦‚ä½•é€‰æ‹©åˆé€‚çš„å­˜å‚¨ç»“æ„ã€‚</p><p><img src="6a99c69d9db29e6dcf6d241990ff3813.png" alt="" /></p><p>ä»¥ä¸Šæµç¨‹å›¾æä¾›äº†ä¸€ä¸ªç®€å•çš„å­˜å‚¨ç»“æ„é€‰æ‹©ç­–ç•¥</p><h4 id="51-å®é™…åº”ç”¨æ¡ˆä¾‹"><a class="markdownIt-Anchor" href="#51-å®é™…åº”ç”¨æ¡ˆä¾‹"></a> 5.1 å®é™…åº”ç”¨æ¡ˆä¾‹</h4><p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªå®é™…æ¡ˆä¾‹ï¼šå®ç°ä¸€ä¸ªå­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿã€‚æˆ‘ä»¬éœ€è¦è€ƒè™‘ä»¥ä¸‹éœ€æ±‚ï¼š</p><ul><li>æŒ‰å­¦å·å¿«é€ŸæŸ¥æ‰¾å­¦ç”Ÿ</li><li>æ”¯æŒåŠ¨æ€æ·»åŠ /åˆ é™¤å­¦ç”Ÿ</li><li>æ”¯æŒæŒ‰æˆç»©æ’åº</li></ul><p>è€ƒè™‘åˆ°è¿™äº›éœ€æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ç»„åˆå­˜å‚¨æ–¹å¼ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨å“ˆå¸Œè¡¨å¿«é€ŸæŸ¥æ‰¾</span></span><br><span class="line">unordered_map&lt;<span class="type">int</span>, Student*&gt; student_map;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨é“¾è¡¨ç»´æŠ¤æ’å…¥é¡ºåº</span></span><br><span class="line">list&lt;Student&gt; student_list;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æœ‰åºæ•°ç»„æ”¯æŒæ’åº</span></span><br><span class="line">vector&lt;Student*&gt; sorted_by_score;</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç å±•ç¤ºäº†å¦‚ä½•ç»“åˆå¤šç§å­˜å‚¨æ–¹å¼æ¥æ»¡è¶³ä¸åŒçš„éœ€æ±‚ã€‚</p><h3 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h3><p>é€šè¿‡ä»Šå¤©çš„è®¨è®ºï¼Œæˆ‘ä»¬äº†è§£äº†æ•°æ®ç»“æ„åœ¨å†…å­˜ä¸­çš„å››ç§ä¸»è¦å­˜å‚¨æ–¹å¼ï¼š</p><ol><li><strong>è¿ç»­å­˜å‚¨</strong>ï¼šå¦‚æ•°ç»„ï¼Œé€‚åˆéšæœºè®¿é—®ä½†å¤§å°å›ºå®š</li><li><strong>é“¾å¼å­˜å‚¨</strong>ï¼šå¦‚é“¾è¡¨ï¼Œé€‚åˆé¢‘ç¹æ’å…¥åˆ é™¤ä½†è®¿é—®æ…¢</li><li><strong>ç´¢å¼•å­˜å‚¨</strong>ï¼šç»“åˆè¿ç»­å’Œé“¾å¼ä¼˜ç‚¹ï¼Œå¦‚æ•°æ®åº“ç´¢å¼•</li><li><strong>æ•£åˆ—å­˜å‚¨</strong>ï¼šå¦‚å“ˆå¸Œè¡¨ï¼Œæä¾›å¿«é€ŸæŸ¥æ‰¾ä½†å¯èƒ½å†²çª</li></ol><p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„å­˜å‚¨æ–¹å¼ï¼Œæœ‰æ—¶ç”šè‡³éœ€è¦ç»„åˆå¤šç§å­˜å‚¨æ–¹å¼æ¥è¾¾åˆ°æœ€ä½³æ•ˆæœã€‚</p><p><strong>æœ€åå»ºè®®ï¼š</strong> ç†è§£è¿™äº›åŸºç¡€å­˜å‚¨æ–¹å¼ä¸ä»…å¯¹ç¼–å†™é«˜æ•ˆä»£ç å¾ˆé‡è¦ï¼Œä¹Ÿæ˜¯å­¦ä¹ æ›´é«˜çº§æ•°æ®ç»“æ„å’Œç®—æ³•çš„åŸºç¡€ã€‚å»ºè®®å¤§å®¶åœ¨å®é™…ç¼–ç¨‹ä¸­å¤šæ€è€ƒæ•°æ®æ˜¯å¦‚ä½•å­˜å‚¨å’Œè®¿é—®çš„ï¼Œè¿™å°†å¸®åŠ©ä½ åšå‡ºæ›´å¥½çš„è®¾è®¡å†³ç­–ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤š Git è´¦å·ç®¡ç†è§£å†³æ–¹æ¡ˆï¼ŒSSH å¯†é’¥é…ç½®å®æˆ˜æŠ€å·§ï¼ˆé™„è¯¦ç»†å›¾æ–‡æ•™ç¨‹ï¼‰_git å¤šè´¦å·é…ç½®</title>
      <link href="/2025/07/21/Other/%E5%A4%9A%20Git%20%E8%B4%A6%E5%8F%B7%E7%AE%A1%E7%90%86%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%EF%BC%8CSSH%20%E5%AF%86%E9%92%A5%E9%85%8D%E7%BD%AE%E5%AE%9E%E6%88%98%E6%8A%80%E5%B7%A7%EF%BC%88%E9%99%84%E8%AF%A6%E7%BB%86%E5%9B%BE%E6%96%87%E6%95%99%E7%A8%8B%EF%BC%89_git%20%E5%A4%9A%E8%B4%A6%E5%8F%B7%E9%85%8D%E7%BD%AE/"/>
      <url>/2025/07/21/Other/%E5%A4%9A%20Git%20%E8%B4%A6%E5%8F%B7%E7%AE%A1%E7%90%86%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%EF%BC%8CSSH%20%E5%AF%86%E9%92%A5%E9%85%8D%E7%BD%AE%E5%AE%9E%E6%88%98%E6%8A%80%E5%B7%A7%EF%BC%88%E9%99%84%E8%AF%A6%E7%BB%86%E5%9B%BE%E6%96%87%E6%95%99%E7%A8%8B%EF%BC%89_git%20%E5%A4%9A%E8%B4%A6%E5%8F%B7%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p><img src="5ac399ce3f1a4cd2ba3f09e4af53c6bd.jpg" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h2 id="ä¸ºä»€ä¹ˆéœ€è¦å¤š-git-è´¦å·ç®¡ç†"><a class="markdownIt-Anchor" href="#ä¸ºä»€ä¹ˆéœ€è¦å¤š-git-è´¦å·ç®¡ç†"></a> ğŸš€ ä¸ºä»€ä¹ˆéœ€è¦å¤š Git è´¦å·ç®¡ç†ï¼Ÿ</h2><p>ä½œä¸ºä¸€åå¼€å‘è€…ï¼Œæˆ‘ä»¬å¸¸å¸¸åœ¨ <strong>Git</strong> å¹³å°ä¸Šæ‰˜ç®¡ä¸ªäººé¡¹ç›®ã€‚ä¾‹å¦‚ï¼Œæˆ‘åœ¨ <strong>GitHub</strong> ä¸Šç»´æŠ¤ç€ä¸€äº›å¼€æºé¡¹ç›®ï¼ŒåŒæ—¶ä¹Ÿä¼šåœ¨ <strong>GitCode</strong> ä¸Šå‚ä¸ä¸€äº›å¼€æºç¤¾åŒºçš„åä½œã€‚ç”±äºè¿™äº›å¹³å°ä¸åŒï¼Œæˆ‘éœ€è¦åœ¨æœ¬åœ°ç®¡ç†å¤šä¸ª Git å¹³å°çš„ SSH å¯†é’¥ã€‚èµ·åˆï¼Œæˆ‘ç›´æ¥ä½¿ç”¨é»˜è®¤çš„å¹³å° SSH å¯†é’¥ï¼Œä½†å› ä¸ºä¸åŒå¹³å°çš„å¯†é’¥ä¼šé¢‘ç¹è¦†ç›–ï¼Œæ¯æ¬¡æ¨é€ä»£ç æ—¶æ€»æ˜¯é‡åˆ°æƒé™é”™è¯¯ã€‚ä¸ºäº†åº”å¯¹è¿™ç§é—®é¢˜ï¼Œæˆ‘åªèƒ½æ‰‹åŠ¨é¢‘ç¹åˆ‡æ¢è´¦å·ã€‚</p><p>ç»è¿‡ä¸€æ®µæ—¶é—´çš„æ‘¸ç´¢ï¼Œæˆ‘æ€»ç»“å‡ºäº†ä¸€ç§é€šè¿‡é…ç½®å¤šä¸ª SSH å¯†é’¥æ¥ç®¡ç†ä¸åŒè´¦å·çš„æ–¹æ³•ï¼Œè§£å†³äº†æ¯æ¬¡åˆ‡æ¢è´¦å·çš„éº»çƒ¦ã€‚ä¸‹é¢å°±æŠŠè¿™äº›å®æˆ˜æŠ€å·§åˆ†äº«ç»™å¤§å®¶ã€‚</p><p><strong>æœ¬æ–‡ä»¥ GitHub + GitCode åœºæ™¯æ¼”ç¤ºï¼šé€šè¿‡ä¸åŒ SSH å¯†é’¥åŒºåˆ†ä¸¤ä¸ªè´¦å·ï¼Œå®ç°å…å¯†æ¨é€è¿œç¨‹ Git ä»“åº“ã€‚</strong></p><h2 id="äºŒ-ç”Ÿæˆå¤š-git-å¹³å°-ssh-å¯†é’¥"><a class="markdownIt-Anchor" href="#äºŒ-ç”Ÿæˆå¤š-git-å¹³å°-ssh-å¯†é’¥"></a> ğŸ”‘ äºŒã€ç”Ÿæˆå¤š Git å¹³å° SSH å¯†é’¥</h2><h3 id="21-é…ç½®-gitcode-å¹³å°-ssh-å¯†é’¥"><a class="markdownIt-Anchor" href="#21-é…ç½®-gitcode-å¹³å°-ssh-å¯†é’¥"></a> 2.1 é…ç½® GitCode å¹³å° SSH å¯†é’¥</h3><h4 id="211-ç”Ÿæˆ-ssh-å¯†é’¥"><a class="markdownIt-Anchor" href="#211-ç”Ÿæˆ-ssh-å¯†é’¥"></a> 2.1.1 ç”Ÿæˆ SSH å¯†é’¥</h4><ol><li>æ‰“å¼€å‘½ä»¤è¡Œç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤åœ¨æŒ‡å®šç›®å½•ç”Ÿæˆå¯†é’¥æ–‡ä»¶ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">        ssh-keygen -t rsa -b 4096 -C <span class="string">&quot;your_email@example.com&quot;</span> -f ~/.ssh/&lt;å¹³å°åç§°&gt;_id_rsa</span><br><span class="line">```     </span><br><span class="line">    </span><br><span class="line">    -   **`-t rsa`**ï¼šæŒ‡å®šå¯†é’¥ä½¿ç”¨ RSA ç®—æ³•</span><br><span class="line">    -   **`-b 4096`**ï¼šè¡¨ç¤ºç”Ÿæˆ 4096 ä½çš„å¯†é’¥</span><br><span class="line">    -   **`-C <span class="string">&quot;your_email@example.com&quot;</span>`**ï¼šæ·»åŠ æ³¨é‡Šï¼Œç”¨äºæ ‡è¯†å¯†é’¥ï¼Œé€šå¸¸ä½¿ç”¨é‚®ç®±åœ°å€</span><br><span class="line">    -   **`-f ~/.ssh/&lt;å¹³å°åç§°&gt;_id_rsa`**ï¼šè‡ªå®šä¹‰å¯†é’¥ä¿å­˜è·¯å¾„å’Œæ–‡ä»¶åï¼Œç”¨äº Git é€šè¿‡æ–‡ä»¶ååŒºåˆ†ä¸åŒå¹³å°çš„å¯†é’¥ï¼Œä¾‹å¦‚ `~/.ssh/gitcode_id_rsa`</span><br><span class="line">2.  æ¥ä¸‹æ¥ï¼Œç³»ç»Ÿä¼šæç¤ºè®¾ç½®å¯†é’¥å¯†ç ï¼ˆå¯é€‰ä½†æ¨èï¼‰ï¼š</span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line">        Enter passphrase <span class="keyword">for</span> <span class="string">&quot;/c/Users/Jie/.ssh/gitcode_id_rsa&quot;</span> (empty <span class="keyword">for</span> no passphrase):</span><br><span class="line">        Enter same passphrase again:</span><br></pre></td></tr></table></figure><pre><code>-   è®¾ç½®å¯†ç åï¼Œæ¯æ¬¡ä½¿ç”¨ SSH å¯†é’¥æ—¶éƒ½éœ€è¦è¾“å…¥è¯¥å¯†ç ï¼Œå¯ä»¥é˜²æ­¢ç§é’¥è¢«æœªç»æˆæƒçš„äººä½¿ç”¨ã€‚-   å¦‚æœä¸éœ€è¦å¯†ç ï¼Œç›´æ¥æŒ‰ Enter é”®è·³è¿‡ã€‚</code></pre><ol start="3"><li>æ“ä½œæˆåŠŸåï¼Œç»ˆç«¯å°†è¾“å‡ºä»¥ä¸‹å†…å®¹ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Your identification has been saved <span class="keyword">in</span> /Users/.ssh/gitcode_id_rsa</span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /Users/.ssh/gitcode_id_rsa.pub</span><br><span class="line">The key fingerprint is:</span><br><span class="line">SHA256:Ub+LOdZzqYTdq5t+mDAErdkTtzUbnB8VPXJs/cTBDPA your_email@example.com</span><br><span class="line">The key<span class="string">&#x27;s randomart image is:</span></span><br><span class="line"><span class="string">+---[RSA 4096]----+</span></span><br><span class="line"><span class="string">|  +o.            |</span></span><br><span class="line"><span class="string">| =.oo E..        |</span></span><br><span class="line"><span class="string">|o +o. .o.        |</span></span><br><span class="line"><span class="string">|o* .  .. .       |</span></span><br><span class="line"><span class="string">|*+= o.+ S        |</span></span><br><span class="line"><span class="string">|O+=o+o +         |</span></span><br><span class="line"><span class="string">|*= o *o          |</span></span><br><span class="line"><span class="string">|o.o . oo ..      |</span></span><br><span class="line"><span class="string">|o     o+=o..     |</span></span><br><span class="line"><span class="string">+----[SHA256]-----+</span></span><br></pre></td></tr></table></figure><ol start="4"><li><p>åœ¨ <code>~/.ssh/</code> ç›®å½•å¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„å¯†é’¥æ–‡ä»¶ï¼š</p><ul><li><strong>ç§é’¥</strong>ï¼š<code>gitcode_id_rsa</code>ï¼ˆä¸å…¬å¼€ï¼‰</li><li><strong>å…¬é’¥</strong>ï¼š<code>gitcode_id_rsa.pub</code>ï¼ˆéœ€æ·»åŠ åˆ° GitCodeï¼‰</li></ul></li></ol><h4 id="212-æ·»åŠ -ssh-å…¬é’¥åˆ°-gitcode"><a class="markdownIt-Anchor" href="#212-æ·»åŠ -ssh-å…¬é’¥åˆ°-gitcode"></a> 2.1.2 æ·»åŠ  SSH å…¬é’¥åˆ° GitCode</h4><ol><li>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æˆ–è€…æ‰‹åŠ¨å¤åˆ¶ SSH å…¬é’¥æ–‡ä»¶ <code>gitcode_id_rsa.pub</code> çš„å†…å®¹ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> ~/.ssh/gitcode_id_rsa.pub | clip</span><br></pre></td></tr></table></figure><pre><code>æ³¨ï¼šå¦‚æœæ‰‹åŠ¨å¤åˆ¶å…¬å…± SSH å¯†é’¥ï¼Œè¯·ç¡®ä¿å¤åˆ¶äº†æ•´ä¸ªå¯†é’¥ï¼Œä»¥ `ssh-rsa` å¼€å¤´ï¼Œå¹¶ä»¥ç”µå­é‚®ä»¶åœ°å€ç»“å°¾ã€‚</code></pre><ol start="2"><li><p>ç™»å½• <a href="https://gitcode.com/">GitCode</a> å¹³å°ï¼Œè¿›å…¥ã€Œä¸ªäººè®¾ç½®ã€-&gt;ã€Œå®‰å…¨è®¾ç½®ã€-&gt;ã€ŒSSH å…¬é’¥ã€ï¼š</p><p><img src="25b50d71fb363d252ce77d0fd9de2148.png" alt="image-20250420165145651" /></p></li><li><p>ç‚¹å‡»ã€Œ+ SSH å…¬é’¥ã€ï¼š</p><ol><li>åœ¨ã€Œå…¬é’¥åç§°ã€ä¸€æ ä¸­ï¼Œä¸ºå…¬é’¥æ·»åŠ ä¸€ä¸ªæè¿°æ€§åç§°</li><li>å°†å¤åˆ¶çš„å…¬é’¥å†…å®¹ç²˜è´´åˆ°ã€Œå…¬é’¥ã€æ–‡æœ¬æ¡†ä¸­</li><li>ç‚¹å‡»ã€Œæ–°å»ºã€å®Œæˆæ“ä½œ</li></ol><p><img src="58caa41f9cdb242af7d4f242b723a0d7.png" alt="img_1735033556079_3f4460.png" /></p></li></ol><h3 id="22-é…ç½®-github-å¹³å°-ssh-å¯†é’¥"><a class="markdownIt-Anchor" href="#22-é…ç½®-github-å¹³å°-ssh-å¯†é’¥"></a> 2.2 é…ç½® <a href="https://so.csdn.net/so/search?q=GitHub&amp;spm=1001.2101.3001.7020">GitHub</a> å¹³å° SSH å¯†é’¥</h3><h4 id="221-ç”Ÿæˆ-ssh-å¯†é’¥"><a class="markdownIt-Anchor" href="#221-ç”Ÿæˆ-ssh-å¯†é’¥"></a> 2.2.1 ç”Ÿæˆ SSH å¯†é’¥</h4><ol><li>åŒç†ï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆ GitHub å¯†é’¥ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096 -C <span class="string">&quot;1500492856@qq.com&quot;</span> -f ~/.ssh/github_id_rsa</span><br></pre></td></tr></table></figure><ol start="2"><li><p>åœ¨ <code>~/.ssh/</code> ç›®å½•å¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„å¯†é’¥æ–‡ä»¶ï¼š</p><ul><li><strong>ç§é’¥</strong>ï¼š<code>github_id_rsa</code>ï¼ˆä¸å…¬å¼€ï¼‰</li><li><strong>å…¬é’¥</strong>ï¼š<code>github_id_rsa.pub</code>ï¼ˆéœ€æ·»åŠ åˆ° GitHubï¼‰</li></ul></li></ol><h4 id="222-æ·»åŠ å…¬é’¥åˆ°-github"><a class="markdownIt-Anchor" href="#222-æ·»åŠ å…¬é’¥åˆ°-github"></a> 2.2.2 æ·»åŠ å…¬é’¥åˆ° GitHub</h4><ol><li><p>ç™»å½• <a href="https://github.com/">GitHub</a>ï¼Œè¿›å…¥ <strong>Settings â†’ SSH and GPG Keys</strong>:</p><p><img src="8db6396ab23d71dcdae274ee626d0590.png" alt="image-20250420170347688" /></p></li><li><p>ç‚¹å‡»ã€ŒNew SSH keyã€æ–°å»ºå¯†é’¥ï¼Œç²˜è´´ github_id_rsa.pub å†…å®¹å¹¶ä¿å­˜ï¼š</p><p><img src="242661280329a7813a9524c3dbbf940d.png" alt="image-20250420170846634" /></p></li></ol><h2 id="ï¸-ä¸‰-å…³é”®ç¼–å†™-config-é…ç½®æ–‡ä»¶æ ¸å¿ƒåŒºåˆ†é€»è¾‘"><a class="markdownIt-Anchor" href="#ï¸-ä¸‰-å…³é”®ç¼–å†™-config-é…ç½®æ–‡ä»¶æ ¸å¿ƒåŒºåˆ†é€»è¾‘"></a> âš™ï¸ ä¸‰ã€å…³é”®ï¼ç¼–å†™ config é…ç½®æ–‡ä»¶ï¼ˆæ ¸å¿ƒåŒºåˆ†é€»è¾‘ï¼‰</h2><ol><li><p>åœ¨ <code>C:\Users\&lt;ç”¨æˆ·å&gt;\.ssh</code> ç›®å½•æ‰“å¼€ <code>config</code> æ–‡ä»¶ï¼ˆæ— æ‰©å±•åï¼‰ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œå¯ä»¥æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªã€‚</p></li><li><p>æŒ‰ä»¥ä¸‹æ ¼å¼ç¼–å†™ Git å¹³å°çš„é…ç½®ï¼ŒæŒ‡å®šå¯¹åº”çš„ç§é’¥æ–‡ä»¶ï¼š</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ------------------------ GitHub é…ç½® ------------------------</span></span><br><span class="line">Host github.com</span><br><span class="line">  HostName github.com          <span class="comment"># å®é™…ä¸»æœºåï¼ˆä¸å˜ï¼‰</span></span><br><span class="line">  PreferredAuthentications publickey</span><br><span class="line">  IdentityFile ~/.ssh/github_id_rsa  <span class="comment"># æŒ‡å‘GitHubç§é’¥æ–‡ä»¶</span></span><br></pre></td></tr></table></figure><pre><code>-   **Host**ï¼šè‡ªå®šä¹‰è¯†åˆ«ç¬¦ï¼ˆå¯ç†è§£ä¸º â€œåˆ«åâ€ï¼Œç”¨äºåŒºåˆ†ä¸åŒè´¦å·ï¼‰ï¼Œé€šå¸¸ä¸å¹³å°åŸŸåä¸€è‡´ã€‚    -   **HostName**ï¼šç›®æ ‡å¹³å°çš„çœŸå®åŸŸåï¼ˆå¦‚[gitlab.com](http://gitlab.com/)/[github.com](http://gitlab.com/)/[gitcode.com](http://gitlab.com/)ï¼‰ï¼Œç”¨äºå»ºç«‹ SSH è¿æ¥ã€‚    -   **IdentityFile**ï¼šæŒ‡å®šå½“å‰å¹³å°å¯¹åº”çš„ç§é’¥æ–‡ä»¶è·¯å¾„ï¼ˆä¸ç”Ÿæˆçš„å¯†é’¥æ–‡ä»¶åä¸€è‡´ï¼‰ï¼Œæ˜¯å®ç°å¤šè´¦å·åŒºåˆ†çš„æ ¸å¿ƒé…ç½®ã€‚</code></pre><ol start="3"><li>å°†ç¼–å†™å®Œæˆåçš„é…ç½®æ·»åŠ åˆ° <code>config</code> æ–‡ä»¶ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹é…ç½®ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ------------------------ GitHub é…ç½® ------------------------</span></span><br><span class="line">Host github.com</span><br><span class="line">  HostName github.com          <span class="comment"># å®é™…ä¸»æœºåï¼ˆä¸å˜ï¼‰</span></span><br><span class="line">  PreferredAuthentications publickey</span><br><span class="line">  IdentityFile ~/.ssh/github_id_rsa  <span class="comment"># æŒ‡å‘GitHubç§é’¥</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ------------------------ GitCode é…ç½® ------------------------</span></span><br><span class="line">Host gitcode.com</span><br><span class="line">  HostName gitcode.com</span><br><span class="line">  PreferredAuthentications publickey</span><br><span class="line">  IdentityFile ~/.ssh/gitcode_id_rsa  <span class="comment"># æŒ‡å‘GitCodeç§é’¥</span></span><br></pre></td></tr></table></figure><h2 id="å››-éªŒè¯è¿æ¥æ˜¯å¦æˆåŠŸ"><a class="markdownIt-Anchor" href="#å››-éªŒè¯è¿æ¥æ˜¯å¦æˆåŠŸ"></a> ğŸ” å››ã€éªŒè¯è¿æ¥æ˜¯å¦æˆåŠŸ</h2><h3 id="41-æµ‹è¯•-github-è¿æ¥"><a class="markdownIt-Anchor" href="#41-æµ‹è¯•-github-è¿æ¥"></a> 4.1 æµ‹è¯• GitHub è¿æ¥</h3><ol><li>é€šè¿‡ä»¥ä¸‹å‘½ä»¤æµ‹è¯• SSH è¿æ¥ GitHub:</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><ol start="2"><li>å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è¿æ¥ï¼ŒSSH å®¢æˆ·ç«¯ä¼šæç¤ºä½ ç¡®è®¤ GitHub æœåŠ¡å™¨çš„èº«ä»½ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">The authenticity of host <span class="string">&#x27;github.com (20.205.243.166)&#x27;</span> can<span class="string">&#x27;t be established.</span></span><br><span class="line"><span class="string">ED25519 key fingerprint is SHA256:+DiY3wvvV6TuJJhbpZisF/zLDA0zPMSvHdkr4UvCOqU.</span></span><br><span class="line"><span class="string">This key is not known by any other names.</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no/[fingerprint])?</span></span><br></pre></td></tr></table></figure><ol start="3"><li>å¦‚æœä½ ä¿¡ä»» GitHub æœåŠ¡å™¨ï¼Œå¯ä»¥è¾“å…¥ <code>yes</code> æ¥ç»§ç»­è¿æ¥ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Are you sure you want to <span class="built_in">continue</span> connecting (<span class="built_in">yes</span>/no/[fingerprint])? <span class="built_in">yes</span></span><br></pre></td></tr></table></figure><ol start="4"><li>åœ¨ç»ˆç«¯çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼Œåˆ™è¡¨ç¤º SSH å¯†é’¥å·²è¢«æ­£ç¡®è®¤è¯ï¼ŒæˆåŠŸè¿æ¥åˆ° GitHubï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hi ShiJieCloud! You<span class="string">&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span></span><br></pre></td></tr></table></figure><ol start="5"><li>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥æ­£å¸¸è¿›è¡Œå…‹éš†ã€æ¨é€ã€æ‹‰å–ä»£ç ç­‰æ“ä½œäº†ã€‚</li></ol><h3 id="42-æµ‹è¯•-gitcode-è¿æ¥"><a class="markdownIt-Anchor" href="#42-æµ‹è¯•-gitcode-è¿æ¥"></a> 4.2 æµ‹è¯• GitCode è¿æ¥</h3><ol><li>åŒç†ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æµ‹è¯•è¿æ¥ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@gitcode.com</span><br></pre></td></tr></table></figure><ol start="2"><li>æˆåŠŸè¿æ¥åä¼šåœ¨ç»ˆç«¯çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">        remote: Welcome to GitCode, @username</span><br><span class="line">```  </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="comment">## ğŸ’¡ äº”ã€ä»“åº“çº§ä¸ªæ€§åŒ–é…ç½®ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line"></span><br><span class="line">é»˜è®¤æƒ…å†µä¸‹ï¼ŒGit ä¼šä½¿ç”¨å…¨å±€çš„ç”¨æˆ·åå’Œé‚®ç®±è¿›è¡Œèº«ä»½éªŒè¯å’Œæäº¤ã€‚ä½†æ˜¯ï¼Œå¦‚æœå¸Œæœ›ä¸ºä¸åŒçš„ä»“åº“ä½¿ç”¨ä¸åŒçš„**ç”¨æˆ·å/é‚®ç®±**ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ¥é…ç½®æ¯ä¸ªä»“åº“çš„ç”¨æˆ·åå’Œé‚®ç®±ï¼Œè€Œä¸æ˜¯ä»…ä¾èµ–å…¨å±€è®¾ç½®ã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment">### 5.1 è®¾ç½®å…¨å±€ç”¨æˆ·åå’Œé‚®ç®±ï¼ˆé€‚ç”¨äºæ‰€æœ‰ä»“åº“ï¼‰</span></span><br><span class="line"></span><br><span class="line">é€šè¿‡ä»¥ä¸‹å‘½ä»¤è®¾ç½®å…¨å±€çš„ç”¨æˆ·åå’Œé‚®ç®±ï¼Œè¿™ä¼šåœ¨æ‰€æœ‰ä»“åº“ä¸­ä½¿ç”¨ç›¸åŒçš„ç”¨æˆ·åå’Œé‚®ç®±ï¼š</span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line">    git config --global user.name <span class="string">&quot;Your Name&quot;</span></span><br><span class="line">    git config --global user.email <span class="string">&quot;your_email@example.com&quot;</span></span><br></pre></td></tr></table></figure><h3 id="52-ä¸ºç‰¹å®šä»“åº“è®¾ç½®ç”¨æˆ·åå’Œé‚®ç®±"><a class="markdownIt-Anchor" href="#52-ä¸ºç‰¹å®šä»“åº“è®¾ç½®ç”¨æˆ·åå’Œé‚®ç®±"></a> 5.2 ä¸ºç‰¹å®šä»“åº“è®¾ç½®ç”¨æˆ·åå’Œé‚®ç®±</h3><p>åœ¨æŒ‡å®šé¡¹ç›®ä»“åº“çš„ç›®å½•ä¸‹é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥è®¾ç½®ä»“åº“çº§åˆ«çš„ç”¨æˆ·åå’Œé‚®ç®±ï¼Œè¿™åªä¼šå½±å“å½“å‰ä»“åº“ï¼Œä¸ä¼šæ›´æ”¹å…¨å±€é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥é¡¹ç›®ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> path/to/your/repo</span><br><span class="line">git config user.name <span class="string">&quot;Other Name&quot;</span></span><br><span class="line">git config user.email <span class="string">&quot;other_email@example.com&quot;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·è®¾ç½®åï¼Œæ¯ä¸ªä»“åº“å°†ä½¿ç”¨ç‹¬ç«‹çš„ç”¨æˆ·åå’Œé‚®ç®±é…ç½®ï¼Œé¿å…å› å…¨å±€é…ç½®å¯¼è‡´çš„è´¦å·æ··æ·†é—®é¢˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€MySQLåŸºç¡€ã€‘MySQLäº‹åŠ¡è¯¦è§£ï¼šåŸç†ã€ç‰¹æ€§ä¸å®æˆ˜åº”ç”¨</title>
      <link href="/2025/07/21/MySQL/%E3%80%90MySQL%E5%9F%BA%E7%A1%80%E3%80%91MySQL%E4%BA%8B%E5%8A%A1%E8%AF%A6%E8%A7%A3%EF%BC%9A%E5%8E%9F%E7%90%86%E3%80%81%E7%89%B9%E6%80%A7%E4%B8%8E%E5%AE%9E%E6%88%98%E5%BA%94%E7%94%A8/"/>
      <url>/2025/07/21/MySQL/%E3%80%90MySQL%E5%9F%BA%E7%A1%80%E3%80%91MySQL%E4%BA%8B%E5%8A%A1%E8%AF%A6%E8%A7%A3%EF%BC%9A%E5%8E%9F%E7%90%86%E3%80%81%E7%89%B9%E6%80%A7%E4%B8%8E%E5%AE%9E%E6%88%98%E5%BA%94%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€-äº‹åŠ¡çš„åŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#ä¸€-äº‹åŠ¡çš„åŸºæœ¬æ¦‚å¿µ"></a> ä¸€ã€äº‹åŠ¡çš„åŸºæœ¬æ¦‚å¿µ</h3><h4 id="11-ä»€ä¹ˆæ˜¯äº‹åŠ¡"><a class="markdownIt-Anchor" href="#11-ä»€ä¹ˆæ˜¯äº‹åŠ¡"></a> 1.1 ä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼Ÿ</h4><p>äº‹åŠ¡(Transaction)æ˜¯æ•°æ®åº“æ“ä½œçš„æœ€å°å·¥ä½œå•å…ƒï¼Œæ˜¯ç”¨æˆ·å®šä¹‰çš„ä¸€ä¸ªæ“ä½œåºåˆ—ï¼Œè¿™äº›æ“ä½œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œï¼Œæ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">START TRANSACTION;</span><br><span class="line">    UPDATE accounts SET balance = balance - 500 WHERE user_id = 1;</span><br><span class="line">    UPDATE accounts SET balance = balance + 500 WHERE user_id = 2;</span><br><span class="line">COMMIT;</span><br></pre></td></tr></table></figure><h4 id="12-ä¸ºä»€ä¹ˆéœ€è¦äº‹åŠ¡"><a class="markdownIt-Anchor" href="#12-ä¸ºä»€ä¹ˆéœ€è¦äº‹åŠ¡"></a> 1.2 ä¸ºä»€ä¹ˆéœ€è¦äº‹åŠ¡ï¼Ÿ</h4><p>äº‹åŠ¡ä¸»è¦è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š</p><blockquote><ul><li><p><strong>æ•°æ®ä¸€è‡´æ€§</strong>ï¼šç¡®ä¿ç›¸å…³æ•°æ®åŒæ—¶æ›´æ–°</p></li><li><p><strong>æ“ä½œåŸå­æ€§</strong>ï¼šä¿è¯æ“ä½œçš„&quot;å…¨æœ‰æˆ–å…¨æ— &quot;ç‰¹æ€§</p></li><li><p><strong>å¹¶å‘æ§åˆ¶</strong>ï¼šåè°ƒå¤šç”¨æˆ·åŒæ—¶è®¿é—®æ•°æ®</p></li><li><p><strong>æ•…éšœæ¢å¤</strong>ï¼šç³»ç»Ÿå´©æºƒåèƒ½æ¢å¤åˆ°ä¸€è‡´çŠ¶æ€</p></li></ul></blockquote><h3 id="äºŒ-äº‹åŠ¡çš„acidç‰¹æ€§"><a class="markdownIt-Anchor" href="#äºŒ-äº‹åŠ¡çš„acidç‰¹æ€§"></a> äºŒã€äº‹åŠ¡çš„ACIDç‰¹æ€§</h3><h4 id="21-åŸå­æ€§atomicity"><a class="markdownIt-Anchor" href="#21-åŸå­æ€§atomicity"></a> 2.1 åŸå­æ€§(Atomicity)</h4><p>äº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ï¼Œäº‹åŠ¡ä¸­çš„æ“ä½œè¦ä¹ˆéƒ½å‘ç”Ÿï¼Œè¦ä¹ˆéƒ½ä¸å‘ç”Ÿã€‚</p><h4 id="22-ä¸€è‡´æ€§consistency"><a class="markdownIt-Anchor" href="#22-ä¸€è‡´æ€§consistency"></a> 2.2 ä¸€è‡´æ€§(Consistency)</h4><p>äº‹åŠ¡æ‰§è¡Œå‰åï¼Œæ•°æ®åº“ä»ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€å˜åˆ°å¦ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€ã€‚</p><h4 id="23-éš”ç¦»æ€§isolation"><a class="markdownIt-Anchor" href="#23-éš”ç¦»æ€§isolation"></a> 2.3 éš”ç¦»æ€§(Isolation)</h4><p>å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ï¼Œä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸åº”å½±å“å…¶ä»–äº‹åŠ¡çš„æ‰§è¡Œã€‚</p><h4 id="24-æŒä¹…æ€§durability"><a class="markdownIt-Anchor" href="#24-æŒä¹…æ€§durability"></a> 2.4 æŒä¹…æ€§(Durability)</h4><p>ä¸€æ—¦äº‹åŠ¡æäº¤ï¼Œå…¶æ‰€åšçš„ä¿®æ”¹å°†æ°¸ä¹…ä¿å­˜åœ¨æ•°æ®åº“ä¸­ã€‚</p><h3 id="ä¸‰-mysqläº‹åŠ¡çš„å®ç°æœºåˆ¶"><a class="markdownIt-Anchor" href="#ä¸‰-mysqläº‹åŠ¡çš„å®ç°æœºåˆ¶"></a> ä¸‰ã€MySQLäº‹åŠ¡çš„å®ç°æœºåˆ¶</h3><h4 id="31-äº‹åŠ¡æ—¥å¿—"><a class="markdownIt-Anchor" href="#31-äº‹åŠ¡æ—¥å¿—"></a> 3.1 äº‹åŠ¡æ—¥å¿—</h4><p>MySQLé€šè¿‡ä»¥ä¸‹æ—¥å¿—å®ç°äº‹åŠ¡ç‰¹æ€§ï¼š</p><table><thead><tr><th>æ—¥å¿—ç±»å‹</th><th>ä½œç”¨</th><th>å®ç°ç‰¹æ€§</th></tr></thead><tbody><tr><td>redo log</td><td>ç‰©ç†æ—¥å¿—ï¼Œè®°å½•é¡µçš„ä¿®æ”¹</td><td>æŒä¹…æ€§</td></tr><tr><td>undo log</td><td>é€»è¾‘æ—¥å¿—ï¼Œè®°å½•äº‹åŠ¡å‘ç”Ÿå‰çš„æ•°æ®</td><td>åŸå­æ€§</td></tr><tr><td>binlog</td><td>äºŒè¿›åˆ¶æ—¥å¿—ï¼Œç”¨äºå¤åˆ¶å’Œæ¢å¤</td><td>æ•°æ®åŒæ­¥</td></tr></tbody></table><h4 id="32-mvccæœºåˆ¶"><a class="markdownIt-Anchor" href="#32-mvccæœºåˆ¶"></a> 3.2 MVCCæœºåˆ¶</h4><p>å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶(MVCC)æ˜¯MySQLå®ç°é«˜å¹¶å‘çš„é‡è¦æœºåˆ¶ï¼š</p><blockquote><ul><li><p>æ¯è¡Œæ•°æ®æœ‰éšè—çš„åˆ›å»ºç‰ˆæœ¬å·å’Œåˆ é™¤ç‰ˆæœ¬å·</p></li><li><p>è¯»æ“ä½œåªè¯»å–ç‰ˆæœ¬å·æ—©äºå½“å‰äº‹åŠ¡çš„æ•°æ®</p></li><li><p>å†™æ“ä½œåˆ›å»ºæ–°ç‰ˆæœ¬</p></li></ul></blockquote><h3 id="å››-äº‹åŠ¡éš”ç¦»çº§åˆ«"><a class="markdownIt-Anchor" href="#å››-äº‹åŠ¡éš”ç¦»çº§åˆ«"></a> å››ã€äº‹åŠ¡éš”ç¦»çº§åˆ«</h3><h4 id="41-å››ç§éš”ç¦»çº§åˆ«"><a class="markdownIt-Anchor" href="#41-å››ç§éš”ç¦»çº§åˆ«"></a> 4.1 å››ç§éš”ç¦»çº§åˆ«</h4><table><thead><tr><th>éš”ç¦»çº§åˆ«</th><th>è„è¯»</th><th>ä¸å¯é‡å¤è¯»</th><th>å¹»è¯»</th><th>æ€§èƒ½</th></tr></thead><tbody><tr><td>READ UNCOMMITTED</td><td>å¯èƒ½</td><td>å¯èƒ½</td><td>å¯èƒ½</td><td>æœ€é«˜</td></tr><tr><td>READ COMMITTED</td><td>ä¸å¯èƒ½</td><td>å¯èƒ½</td><td>å¯èƒ½</td><td>é«˜</td></tr><tr><td>REPEATABLE READ</td><td>ä¸å¯èƒ½</td><td>ä¸å¯èƒ½</td><td>å¯èƒ½</td><td>ä¸­</td></tr><tr><td>SERIALIZABLE</td><td>ä¸å¯èƒ½</td><td>ä¸å¯èƒ½</td><td>ä¸å¯èƒ½</td><td>ä½</td></tr></tbody></table><h4 id="42-éš”ç¦»çº§åˆ«ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#42-éš”ç¦»çº§åˆ«ç¤ºä¾‹"></a> 4.2 éš”ç¦»çº§åˆ«ç¤ºä¾‹</h4><p><strong>è„è¯»é—®é¢˜ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-- äº‹åŠ¡A</span><br><span class="line">START TRANSACTION;</span><br><span class="line">UPDATE <span class="built_in">users</span> SET age = 21 WHERE <span class="built_in">id</span> = 1; -- ä¸æäº¤</span><br><span class="line"> </span><br><span class="line">-- äº‹åŠ¡B (READ UNCOMMITTED)</span><br><span class="line">START TRANSACTION;</span><br><span class="line">SELECT age FROM <span class="built_in">users</span> WHERE <span class="built_in">id</span> = 1; -- è¯»åˆ°æœªæäº¤çš„21</span><br></pre></td></tr></table></figure><p><strong>ä¸å¯é‡å¤è¯»é—®é¢˜ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-- äº‹åŠ¡A</span><br><span class="line">START TRANSACTION;</span><br><span class="line">SELECT age FROM <span class="built_in">users</span> WHERE <span class="built_in">id</span> = 1; -- è¿”å›20</span><br><span class="line"> </span><br><span class="line">-- äº‹åŠ¡B</span><br><span class="line">UPDATE <span class="built_in">users</span> SET age = 21 WHERE <span class="built_in">id</span> = 1;</span><br><span class="line">COMMIT;</span><br><span class="line"> </span><br><span class="line">-- äº‹åŠ¡A</span><br><span class="line">SELECT age FROM <span class="built_in">users</span> WHERE <span class="built_in">id</span> = 1; -- è¿”å›21ï¼Œä¸ä¹‹å‰ä¸åŒ</span><br></pre></td></tr></table></figure><h4 id="43-mysqlé»˜è®¤éš”ç¦»çº§åˆ«"><a class="markdownIt-Anchor" href="#43-mysqlé»˜è®¤éš”ç¦»çº§åˆ«"></a> 4.3 MySQLé»˜è®¤éš”ç¦»çº§åˆ«</h4><p>MySQL InnoDBé»˜è®¤ä½¿ç”¨REPEATABLE READï¼Œä½†é€šè¿‡Next-Key Lockingæœºåˆ¶è§£å†³äº†å¹»è¯»é—®é¢˜ã€‚</p><h3 id="äº”-äº‹åŠ¡ä¸­çš„é”æœºåˆ¶"><a class="markdownIt-Anchor" href="#äº”-äº‹åŠ¡ä¸­çš„é”æœºåˆ¶"></a> äº”ã€äº‹åŠ¡ä¸­çš„é”æœºåˆ¶</h3><h4 id="51-é”çš„ç±»å‹"><a class="markdownIt-Anchor" href="#51-é”çš„ç±»å‹"></a> 5.1 é”çš„ç±»å‹</h4><table><thead><tr><th>é”ç±»å‹</th><th>æè¿°</th><th>ç²’åº¦</th></tr></thead><tbody><tr><td>å…±äº«é”(Sé”)</td><td>è¯»é”ï¼Œå…è®¸å¤šä¸ªäº‹åŠ¡åŒæ—¶è¯»å–</td><td>è¡Œçº§/è¡¨çº§</td></tr><tr><td>æ’ä»–é”(Xé”)</td><td>å†™é”ï¼Œç‹¬å èµ„æº</td><td>è¡Œçº§/è¡¨çº§</td></tr><tr><td>æ„å‘å…±äº«é”(IS)</td><td>è¡¨ç¤ºäº‹åŠ¡æ‰“ç®—è®¾ç½®å…±äº«é”</td><td>è¡¨çº§</td></tr><tr><td>æ„å‘æ’ä»–é”(IX)</td><td>è¡¨ç¤ºäº‹åŠ¡æ‰“ç®—è®¾ç½®æ’ä»–é”</td><td>è¡¨çº§</td></tr></tbody></table><h4 id="52-é”çš„å…¼å®¹æ€§çŸ©é˜µ"><a class="markdownIt-Anchor" href="#52-é”çš„å…¼å®¹æ€§çŸ©é˜µ"></a> 5.2 é”çš„å…¼å®¹æ€§çŸ©é˜µ</h4><table><thead><tr><th>å½“å‰é”\è¯·æ±‚é”</th><th>X</th><th>IX</th><th>S</th><th>IS</th></tr></thead><tbody><tr><td>X</td><td>å†²çª</td><td>å†²çª</td><td>å†²çª</td><td>å†²çª</td></tr><tr><td>IX</td><td>å†²çª</td><td>å…¼å®¹</td><td>å†²çª</td><td>å…¼å®¹</td></tr><tr><td>S</td><td>å†²çª</td><td>å†²çª</td><td>å…¼å®¹</td><td>å…¼å®¹</td></tr><tr><td>IS</td><td>å†²çª</td><td>å…¼å®¹</td><td>å…¼å®¹</td><td>å…¼å®¹</td></tr></tbody></table><h4 id="53-è¡Œé”ç®—æ³•"><a class="markdownIt-Anchor" href="#53-è¡Œé”ç®—æ³•"></a> 5.3 è¡Œé”ç®—æ³•</h4><blockquote><ol><li><p><strong>è®°å½•é”(Record Lock)</strong>ï¼šé”å®šç´¢å¼•ä¸­çš„ä¸€æ¡è®°å½•</p></li><li><p><strong>é—´éš™é”(Gap Lock)</strong>ï¼šé”å®šç´¢å¼•è®°å½•é—´çš„é—´éš™</p></li><li><p><strong>ä¸´é”®é”(Next-Key Lock)</strong>ï¼šè®°å½•é”+é—´éš™é”çš„ç»„åˆ</p></li></ol></blockquote><h3 id="å…­-äº‹åŠ¡å®æˆ˜åº”ç”¨"><a class="markdownIt-Anchor" href="#å…­-äº‹åŠ¡å®æˆ˜åº”ç”¨"></a> å…­ã€äº‹åŠ¡å®æˆ˜åº”ç”¨</h3><h4 id="61-äº‹åŠ¡çš„æœ€ä½³å®è·µ"><a class="markdownIt-Anchor" href="#61-äº‹åŠ¡çš„æœ€ä½³å®è·µ"></a> 6.1 äº‹åŠ¡çš„æœ€ä½³å®è·µ</h4><ol><li><p><strong>çŸ­äº‹åŠ¡åŸåˆ™</strong>ï¼šå°½é‡ç¼©çŸ­äº‹åŠ¡æ‰§è¡Œæ—¶é—´</p></li><li><p><strong>é¿å…äº¤äº’æ“ä½œ</strong>ï¼šäº‹åŠ¡ä¸­ä¸è¦åŒ…å«ç”¨æˆ·äº¤äº’</p></li><li><p><strong>åˆç†è®¾ç½®éš”ç¦»çº§åˆ«</strong>ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©æœ€ä½åˆé€‚çš„éš”ç¦»çº§åˆ«</p></li><li><p><strong>æ³¨æ„é”ç­‰å¾…</strong>ï¼šè®¾ç½®åˆç†çš„é”ç­‰å¾…è¶…æ—¶æ—¶é—´</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-- è®¾ç½®äº‹åŠ¡éš”ç¦»çº§åˆ«</span><br><span class="line">SET TRANSACTION ISOLATION LEVEL READ COMMITTED;</span><br><span class="line"> </span><br><span class="line">-- è®¾ç½®é”ç­‰å¾…è¶…æ—¶(ç§’)</span><br><span class="line">SET innodb_lock_wait_timeout = 50;</span><br></pre></td></tr></table></figure><h4 id="62-äº‹åŠ¡ä¸æ€§èƒ½ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#62-äº‹åŠ¡ä¸æ€§èƒ½ä¼˜åŒ–"></a> 6.2 äº‹åŠ¡ä¸æ€§èƒ½ä¼˜åŒ–</h4><ol><li><strong>æ‰¹é‡æ“ä½œ</strong>ï¼šå‡å°‘äº‹åŠ¡æ¬¡æ•°</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">-- ä¸å¥½</span><br><span class="line">START TRANSACTION;</span><br><span class="line">INSERT INTO table VALUES(1);</span><br><span class="line">COMMIT;</span><br><span class="line"> </span><br><span class="line">START TRANSACTION;</span><br><span class="line">INSERT INTO table VALUES(2);</span><br><span class="line">COMMIT;</span><br><span class="line"> </span><br><span class="line">-- æ›´å¥½</span><br><span class="line">START TRANSACTION;</span><br><span class="line">INSERT INTO table VALUES(1),(2);</span><br><span class="line">COMMIT;</span><br></pre></td></tr></table></figure><ol start="2"><li><strong>åˆç†ä½¿ç”¨ä¿å­˜ç‚¹</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">START TRANSACTION;</span><br><span class="line">INSERT INTO table1 VALUES(1);</span><br><span class="line">SAVEPOINT sp1;</span><br><span class="line">INSERT INTO table2 VALUES(1);</span><br><span class="line">-- å¦‚æœtable2æ’å…¥å¤±è´¥</span><br><span class="line">ROLLBACK TO sp1;</span><br><span class="line">COMMIT;</span><br></pre></td></tr></table></figure><h3 id="ä¸ƒ-å¸¸è§äº‹åŠ¡é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ"><a class="markdownIt-Anchor" href="#ä¸ƒ-å¸¸è§äº‹åŠ¡é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ"></a> ä¸ƒã€å¸¸è§äº‹åŠ¡é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3><h4 id="71-æ­»é”é—®é¢˜"><a class="markdownIt-Anchor" href="#71-æ­»é”é—®é¢˜"></a> 7.1 æ­»é”é—®é¢˜</h4><p><strong>æ­»é”ç¤ºä¾‹ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-- äº‹åŠ¡1</span><br><span class="line">START TRANSACTION;</span><br><span class="line">UPDATE accounts SET balance = balance - 100 WHERE <span class="built_in">id</span> = 1;</span><br><span class="line">UPDATE accounts SET balance = balance + 100 WHERE <span class="built_in">id</span> = 2;</span><br><span class="line"> </span><br><span class="line">-- äº‹åŠ¡2</span><br><span class="line">START TRANSACTION;</span><br><span class="line">UPDATE accounts SET balance = balance - 100 WHERE <span class="built_in">id</span> = 2;</span><br><span class="line">UPDATE accounts SET balance = balance + 100 WHERE <span class="built_in">id</span> = 1;</span><br></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><blockquote><ol><li><p>ä¿æŒä¸€è‡´çš„è®¿é—®é¡ºåº</p></li><li><p>é™ä½éš”ç¦»çº§åˆ«</p></li><li><p>æ·»åŠ åˆç†çš„ç´¢å¼•å‡å°‘é”å®šèŒƒå›´</p></li><li><p>è®¾ç½®æ­»é”æ£€æµ‹å’Œè¶…æ—¶æœºåˆ¶</p></li></ol></blockquote><h4 id="72-é•¿äº‹åŠ¡é—®é¢˜"><a class="markdownIt-Anchor" href="#72-é•¿äº‹åŠ¡é—®é¢˜"></a> 7.2 é•¿äº‹åŠ¡é—®é¢˜</h4><p>é•¿äº‹åŠ¡ä¼šå¯¼è‡´ï¼š</p><blockquote><ul><li><p>é”æŒæœ‰æ—¶é—´è¿‡é•¿</p></li><li><p>å›æ»šæ®µè†¨èƒ€</p></li><li><p>ç³»ç»Ÿèµ„æºå ç”¨é«˜</p></li></ul></blockquote><p><strong>ç›‘æ§é•¿äº‹åŠ¡ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM information_schema.INNODB_TRX </span><br><span class="line">WHERE TIME_TO_SEC(TIMEDIFF(NOW(), trx_started)) &gt; 60;</span><br></pre></td></tr></table></figure><h3 id="å…«-é«˜çº§äº‹åŠ¡ç‰¹æ€§"><a class="markdownIt-Anchor" href="#å…«-é«˜çº§äº‹åŠ¡ç‰¹æ€§"></a> å…«ã€é«˜çº§äº‹åŠ¡ç‰¹æ€§</h3><h4 id="81-åˆ†å¸ƒå¼äº‹åŠ¡xa"><a class="markdownIt-Anchor" href="#81-åˆ†å¸ƒå¼äº‹åŠ¡xa"></a> 8.1 åˆ†å¸ƒå¼äº‹åŠ¡(XA)</h4><p>MySQLæ”¯æŒXAåè®®å®ç°åˆ†å¸ƒå¼äº‹åŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-- åè°ƒè€…</span><br><span class="line">XA START <span class="string">&#x27;xid1&#x27;</span>;</span><br><span class="line">INSERT INTO orders VALUES(1001, <span class="string">&#x27;2023-01-01&#x27;</span>);</span><br><span class="line">XA END <span class="string">&#x27;xid1&#x27;</span>;</span><br><span class="line">XA PREPARE <span class="string">&#x27;xid1&#x27;</span>;</span><br><span class="line"> </span><br><span class="line">-- å‚ä¸è€…</span><br><span class="line">XA PREPARE <span class="string">&#x27;xid1&#x27;</span>;</span><br><span class="line">XA COMMIT <span class="string">&#x27;xid1&#x27;</span>; -- æˆ– XA ROLLBACK <span class="string">&#x27;xid1&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="82-ä¿å­˜ç‚¹savepoint"><a class="markdownIt-Anchor" href="#82-ä¿å­˜ç‚¹savepoint"></a> 8.2 ä¿å­˜ç‚¹(Savepoint)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">START TRANSACTION;</span><br><span class="line">INSERT INTO table1 VALUES(1);</span><br><span class="line">SAVEPOINT sp1;</span><br><span class="line">INSERT INTO table1 VALUES(2);</span><br><span class="line">ROLLBACK TO sp1; -- åªå›æ»šåˆ°sp1ï¼Œç¬¬ä¸€æ¡æ’å…¥ä»ç„¶æœ‰æ•ˆ</span><br><span class="line">COMMIT;</span><br></pre></td></tr></table></figure><h3 id="ä¹-äº‹åŠ¡ç›‘æ§ä¸ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#ä¹-äº‹åŠ¡ç›‘æ§ä¸ä¼˜åŒ–"></a> ä¹ã€äº‹åŠ¡ç›‘æ§ä¸ä¼˜åŒ–</h3><h4 id="91-ç›‘æ§äº‹åŠ¡çŠ¶æ€"><a class="markdownIt-Anchor" href="#91-ç›‘æ§äº‹åŠ¡çŠ¶æ€"></a> 9.1 ç›‘æ§äº‹åŠ¡çŠ¶æ€</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-- æŸ¥çœ‹å½“å‰è¿è¡Œçš„äº‹åŠ¡</span><br><span class="line">SELECT * FROM information_schema.INNODB_TRX;</span><br><span class="line"> </span><br><span class="line">-- æŸ¥çœ‹é”ç­‰å¾…æƒ…å†µ</span><br><span class="line">SELECT * FROM performance_schema.events_waits_current </span><br><span class="line">WHERE EVENT_NAME LIKE <span class="string">&#x27;%lock%&#x27;</span>;</span><br><span class="line"> </span><br><span class="line">-- æŸ¥çœ‹äº‹åŠ¡å†å²</span><br><span class="line">SELECT * FROM performance_schema.events_transactions_current;</span><br></pre></td></tr></table></figure><h4 id="92-äº‹åŠ¡ç›¸å…³ç³»ç»Ÿå˜é‡"><a class="markdownIt-Anchor" href="#92-äº‹åŠ¡ç›¸å…³ç³»ç»Ÿå˜é‡"></a> 9.2 äº‹åŠ¡ç›¸å…³ç³»ç»Ÿå˜é‡</h4><table><thead><tr><th>å˜é‡å</th><th>æè¿°</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td>autocommit</td><td>æ˜¯å¦è‡ªåŠ¨æäº¤</td><td>ON</td></tr><tr><td>tx_isolation</td><td>äº‹åŠ¡éš”ç¦»çº§åˆ«</td><td>REPEATABLE-READ</td></tr><tr><td>innodb_lock_wait_timeout</td><td>é”ç­‰å¾…è¶…æ—¶(ç§’)</td><td>50</td></tr><tr><td>innodb_rollback_on_timeout</td><td>è¶…æ—¶æ˜¯å¦å›æ»š</td><td>OFF</td></tr></tbody></table><h3 id="å-æ€»ç»“"><a class="markdownIt-Anchor" href="#å-æ€»ç»“"></a> åã€æ€»ç»“</h3><p>MySQLäº‹åŠ¡æ˜¯ä¿è¯æ•°æ®ä¸€è‡´æ€§å’Œå®Œæ•´æ€§çš„æ ¸å¿ƒæœºåˆ¶ï¼Œç†è§£å…¶å·¥ä½œåŸç†å¯¹äºå¼€å‘é«˜æ€§èƒ½ã€é«˜å¯é çš„æ•°æ®åº“åº”ç”¨è‡³å…³é‡è¦ã€‚é€šè¿‡åˆç†è®¾ç½®éš”ç¦»çº§åˆ«ã€ä¼˜åŒ–äº‹åŠ¡è®¾è®¡å’Œé¿å…å¸¸è§é™·é˜±ï¼Œå¯ä»¥æ˜¾è‘—æå‡åº”ç”¨çš„å¹¶å‘æ€§èƒ½å’Œæ•°æ®å¯é æ€§ã€‚</p><p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œåº”è¯¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©åˆé€‚çš„äº‹åŠ¡ç­–ç•¥ï¼Œå¹³è¡¡ä¸€è‡´æ€§å’Œæ€§èƒ½çš„å…³ç³»ã€‚åŒæ—¶ï¼Œè‰¯å¥½çš„ç›‘æ§æœºåˆ¶å¯ä»¥å¸®åŠ©æˆ‘ä»¬åŠæ—¶å‘ç°å’Œè§£å†³äº‹åŠ¡ç›¸å…³çš„é—®é¢˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>k8s å‘½ä»¤å¤§å…¨</title>
      <link href="/2025/07/11/kubernetes/k8s%20%E5%91%BD%E4%BB%A4%E5%A4%A7%E5%85%A8/"/>
      <url>/2025/07/11/kubernetes/k8s%20%E5%91%BD%E4%BB%A4%E5%A4%A7%E5%85%A8/</url>
      
        <content type="html"><![CDATA[<p>Kubernetes (K8s) æä¾›äº†ä¸°å¯Œçš„ <code>kubectl</code> å‘½ä»¤ç”¨äºç®¡ç†é›†ç¾¤ã€Podã€æœåŠ¡ç­‰ã€‚ä»¥ä¸‹æ˜¯ K8s å¸¸è§å‘½ä»¤å¤§å…¨ï¼š</p><hr /><h2 id="ä¸€-åŸºæœ¬å‘½ä»¤"><a class="markdownIt-Anchor" href="#ä¸€-åŸºæœ¬å‘½ä»¤"></a> ğŸ“Œ <strong>ä¸€ã€åŸºæœ¬å‘½ä»¤</strong></h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">kubectl version                   # æŸ¥çœ‹ kubectl å’Œé›†ç¾¤çš„ç‰ˆæœ¬</span><br><span class="line">kubectl cluster-info              # æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯</span><br><span class="line">kubectl get nodes                 # æŸ¥çœ‹æ‰€æœ‰èŠ‚ç‚¹</span><br><span class="line">kubectl get pod                   # æŸ¥çœ‹æ‰€æœ‰ Pod</span><br><span class="line">kubectl get svc                   # æŸ¥çœ‹æ‰€æœ‰æœåŠ¡</span><br><span class="line">kubectl get deployments           # æŸ¥çœ‹æ‰€æœ‰ Deployment</span><br><span class="line">kubectl get all                   # è·å–æ‰€æœ‰èµ„æºï¼ˆPodã€Serviceã€Deployment ç­‰ï¼‰</span><br><span class="line">kubectl config view               # æŸ¥çœ‹å½“å‰ kubeconfig é…ç½®</span><br><span class="line">kubectl config use-context &lt;name&gt; # åˆ‡æ¢ K8s é›†ç¾¤ç¯å¢ƒ</span><br></pre></td></tr></table></figure><hr /><h2 id="äºŒ-pod-æ“ä½œ"><a class="markdownIt-Anchor" href="#äºŒ-pod-æ“ä½œ"></a> ğŸ“Œ <strong>äºŒã€Pod æ“ä½œ</strong></h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pods -o wide                          # æŸ¥çœ‹ Pod è¯¦ç»†ä¿¡æ¯</span><br><span class="line">kubectl describe pod &lt;pod_name&gt;                   # æŸ¥çœ‹ Pod è¯¦æƒ…</span><br><span class="line">kubectl logs &lt;pod_name&gt;                           # æŸ¥çœ‹ Pod æ—¥å¿—</span><br><span class="line">kubectl logs -f &lt;pod_name&gt;                        # å®æ—¶æŸ¥çœ‹ Pod æ—¥å¿—</span><br><span class="line">kubectl logs &lt;pod_name&gt; -c &lt;container_name&gt;       # æŒ‡å®šå®¹å™¨æŸ¥çœ‹æ—¥å¿—ï¼ˆå¤šå®¹å™¨ Podï¼‰</span><br><span class="line">kubectl exec -it &lt;pod_name&gt; -- /bin/sh            # è¿›å…¥ Podï¼ˆalpine, busyboxï¼‰</span><br><span class="line">kubectl exec -it &lt;pod_name&gt; -- /bin/bash          # è¿›å…¥ Podï¼ˆå¸¸è§ Linux å‘è¡Œç‰ˆï¼‰</span><br><span class="line">kubectl delete pod &lt;pod_name&gt;                     # åˆ é™¤ Pod</span><br><span class="line">kubectl delete pod --all                          # åˆ é™¤æ‰€æœ‰ Pod</span><br><span class="line">kubectl get pod --field-selector=status.phase=Running  # æŸ¥è¯¢è¿è¡Œä¸­çš„ Pod</span><br></pre></td></tr></table></figure><hr /><h2 id="ä¸‰-deployment-æ“ä½œ"><a class="markdownIt-Anchor" href="#ä¸‰-deployment-æ“ä½œ"></a> ğŸ“Œ <strong>ä¸‰ã€Deployment æ“ä½œ</strong></h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">kubectl create deployment &lt;name&gt; --image=&lt;image&gt;    # åˆ›å»º Deployment</span><br><span class="line">kubectl get deployments                             # æŸ¥çœ‹æ‰€æœ‰ Deployment</span><br><span class="line">kubectl describe deployment &lt;name&gt;                 # æŸ¥çœ‹ Deployment è¯¦æƒ…</span><br><span class="line">kubectl scale deployment &lt;name&gt; --replicas=&lt;num&gt;   # æ‰©ç¼©å®¹</span><br><span class="line">kubectl delete deployment &lt;name&gt;                   # åˆ é™¤ Deployment</span><br><span class="line">kubectl rollout status deployment &lt;name&gt;           # æŸ¥çœ‹æ»šåŠ¨æ›´æ–°çŠ¶æ€</span><br><span class="line">kubectl rollout undo deployment &lt;name&gt;             # å›æ»š Deployment</span><br></pre></td></tr></table></figure><hr /><h2 id="å››-serviceæœåŠ¡æ“ä½œ"><a class="markdownIt-Anchor" href="#å››-serviceæœåŠ¡æ“ä½œ"></a> ğŸ“Œ <strong>å››ã€Serviceï¼ˆæœåŠ¡ï¼‰æ“ä½œ</strong></h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">kubectl expose deployment &lt;name&gt; --type=NodePort --port=80  # åˆ›å»º Service</span><br><span class="line">kubectl get services                                        # æŸ¥çœ‹æ‰€æœ‰ Service</span><br><span class="line">kubectl describe service &lt;name&gt;                            # æŸ¥çœ‹ Service è¯¦æƒ…</span><br><span class="line">kubectl delete service &lt;name&gt;                              # åˆ é™¤ Service</span><br></pre></td></tr></table></figure><hr /><h2 id="äº”-configmap-å’Œ-secret"><a class="markdownIt-Anchor" href="#äº”-configmap-å’Œ-secret"></a> ğŸ“Œ <strong>äº”ã€ConfigMap å’Œ Secret</strong></h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">kubectl create configmap &lt;name&gt; --from-literal=key=value    # åˆ›å»º ConfigMap</span><br><span class="line">kubectl get configmap                                       # æŸ¥çœ‹ ConfigMap</span><br><span class="line">kubectl describe configmap &lt;name&gt;                          # æŸ¥çœ‹ ConfigMap è¯¦æƒ…</span><br><span class="line">kubectl delete configmap &lt;name&gt;                            # åˆ é™¤ ConfigMap</span><br><span class="line"> </span><br><span class="line">kubectl create secret generic &lt;name&gt; --from-literal=key=value  # åˆ›å»º Secret</span><br><span class="line">kubectl get secret                                            # æŸ¥çœ‹ Secret</span><br><span class="line">kubectl describe secret &lt;name&gt;                                # æŸ¥çœ‹ Secret è¯¦æƒ…</span><br><span class="line">kubectl delete secret &lt;name&gt;                                  # åˆ é™¤ Secret</span><br></pre></td></tr></table></figure><hr /><h2 id="å…­-namespaceå‘½åç©ºé—´"><a class="markdownIt-Anchor" href="#å…­-namespaceå‘½åç©ºé—´"></a> ğŸ“Œ <strong>å…­ã€Namespaceï¼ˆå‘½åç©ºé—´ï¼‰</strong></h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">kubectl get namespaces                         # æŸ¥çœ‹æ‰€æœ‰å‘½åç©ºé—´</span><br><span class="line">kubectl create namespace &lt;name&gt;                # åˆ›å»ºå‘½åç©ºé—´</span><br><span class="line">kubectl delete namespace &lt;name&gt;                # åˆ é™¤å‘½åç©ºé—´</span><br><span class="line">kubectl get pods -n &lt;namespace&gt;                # æŸ¥çœ‹æŒ‡å®šå‘½åç©ºé—´çš„ Pod</span><br><span class="line">kubectl config set-context --current --namespace=&lt;name&gt;  # åˆ‡æ¢é»˜è®¤å‘½åç©ºé—´</span><br></pre></td></tr></table></figure><hr /><h2 id="ä¸ƒ-yaml-æ–‡ä»¶ç®¡ç†"><a class="markdownIt-Anchor" href="#ä¸ƒ-yaml-æ–‡ä»¶ç®¡ç†"></a> ğŸ“Œ <strong>ä¸ƒã€YAML æ–‡ä»¶ç®¡ç†</strong></h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f &lt;file&gt;.yaml      # é€šè¿‡ YAML æ–‡ä»¶åˆ›å»ºèµ„æº</span><br><span class="line">kubectl delete -f &lt;file&gt;.yaml     # é€šè¿‡ YAML æ–‡ä»¶åˆ é™¤èµ„æº</span><br><span class="line">kubectl get -f &lt;file&gt;.yaml        # é€šè¿‡ YAML æŸ¥è¯¢èµ„æº</span><br><span class="line">kubectl edit -f &lt;file&gt;.yaml       # ç¼–è¾‘ YAML æ–‡ä»¶</span><br></pre></td></tr></table></figure><hr /><h2 id="å…«-å…¶ä»–å®ç”¨å‘½ä»¤"><a class="markdownIt-Anchor" href="#å…«-å…¶ä»–å®ç”¨å‘½ä»¤"></a> ğŸ“Œ <strong>å…«ã€å…¶ä»–å®ç”¨å‘½ä»¤</strong></h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">kubectl top node                  # æŸ¥çœ‹èŠ‚ç‚¹èµ„æºä½¿ç”¨æƒ…å†µ</span><br><span class="line">kubectl top pod                   # æŸ¥çœ‹ Pod èµ„æºä½¿ç”¨æƒ…å†µ</span><br><span class="line">kubectl cp &lt;pod&gt;:&lt;file&gt; &lt;local&gt;   # ä» Pod æ‹·è´æ–‡ä»¶åˆ°æœ¬åœ°</span><br><span class="line">kubectl cp &lt;local&gt; &lt;pod&gt;:&lt;file&gt;   # ä»æœ¬åœ°æ‹·è´æ–‡ä»¶åˆ° Pod</span><br><span class="line">kubectl port-forward &lt;pod&gt; 8080:80  # ç«¯å£è½¬å‘ï¼ˆæœ¬åœ° 8080 -&gt; Pod 80ï¼‰</span><br><span class="line">kubectl drain &lt;node&gt; --ignore-daemonsets  # é©±é€èŠ‚ç‚¹ä¸Šçš„ Pod</span><br><span class="line">kubectl cordon &lt;node&gt;                     # æ ‡è®°èŠ‚ç‚¹ä¸ºä¸å¯è°ƒåº¦</span><br><span class="line">kubectl uncordon &lt;node&gt;                   # å–æ¶ˆä¸å¯è°ƒåº¦</span><br><span class="line">kubectl taint nodes &lt;node&gt; key=value:NoSchedule  # ç»™èŠ‚ç‚¹æ·»åŠ æ±¡ç‚¹</span><br><span class="line">kubectl get events --sort-by=.metadata.creationTimestamp  # æŸ¥çœ‹æœ€æ–°äº‹ä»¶</span><br></pre></td></tr></table></figure><p>è¿™ä»½ Kubernetes å‘½ä»¤å¤§å…¨æ¶µç›–äº†å¸¸è§æ“ä½œï¼Œå¦‚æœä½ éœ€è¦æ›´è¯¦ç»†çš„å¸®åŠ©ï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kubectl help</span><br><span class="line">kubectl &lt;command&gt; --help</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kubernetes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerå¸¸ç”¨å‘½ä»¤</title>
      <link href="/2025/07/11/Docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
      <url>/2025/07/11/Docker/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<p>Docker é€šè¿‡é•œåƒ (Image) å’Œå®¹å™¨ (Container) ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œæå¤§åœ°ç®€åŒ–äº†åº”ç”¨çš„æ„å»ºã€åˆ†å‘å’Œè¿è¡Œã€‚æŒæ¡ç›¸å…³çš„å‘½ä»¤è¡Œå·¥å…·æ˜¯é«˜æ•ˆä½¿ç”¨ Docker çš„å…³é”®ã€‚</p><h3 id="æ€ç»´å¯¼å›¾"><a class="markdownIt-Anchor" href="#æ€ç»´å¯¼å›¾"></a> <strong>æ€ç»´å¯¼å›¾</strong></h3><p><img src="86e1ca153e50424cac6fd5d903b490bf.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="f789b522dcba437e9ec91b45defd7b68.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="77d4f31ff3b84b8d9ada398ea1a1ad8f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="ä¸€-docker-é•œåƒ-image-å¸¸ç”¨å‘½ä»¤"><a class="markdownIt-Anchor" href="#ä¸€-docker-é•œåƒ-image-å¸¸ç”¨å‘½ä»¤"></a> <strong>ä¸€ã€Docker é•œåƒ (Image) å¸¸ç”¨å‘½ä»¤</strong></h3><p>é•œåƒæ˜¯ä¸€ä¸ªåªè¯»çš„æ¨¡æ¿ï¼ŒåŒ…å«äº†è¿è¡Œåº”ç”¨ç¨‹åºæ‰€éœ€çš„æ–‡ä»¶ç³»ç»Ÿã€åº“ã€ä¾èµ–å’Œä»£ç ã€‚å®¹å™¨æ˜¯é•œåƒçš„ä¸€ä¸ªå¯è¿è¡Œå®ä¾‹ã€‚</p><h4 id="1-æœç´¢é•œåƒ-search"><a class="markdownIt-Anchor" href="#1-æœç´¢é•œåƒ-search"></a> <strong>1. æœç´¢é•œåƒ (search)</strong></h4><p>ä» Docker Hub (é»˜è®¤çš„å…¬å…±é•œåƒä»“åº“) æœç´¢å¯ç”¨çš„é•œåƒã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search &lt;image_name&gt;</span><br></pre></td></tr></table></figure><p><strong>ä»£ç æ¡ˆä¾‹ï¼š</strong> æœç´¢æ‰€æœ‰ä¸ <code>nginx</code> ç›¸å…³çš„é•œåƒã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search nginx</span><br></pre></td></tr></table></figure><h4 id="2-æ‹‰å–é•œåƒ-pull"><a class="markdownIt-Anchor" href="#2-æ‹‰å–é•œåƒ-pull"></a> <strong>2. æ‹‰å–é•œåƒ (pull)</strong></h4><p>ä»ä»“åº“ä¸‹è½½ä¸€ä¸ªé•œåƒåˆ°æœ¬åœ°ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull &lt;image_name&gt;[:tag]</span><br></pre></td></tr></table></figure><ul><li><code>[:tag]</code>: å¯é€‰ã€‚æŒ‡å®šé•œåƒçš„ç‰ˆæœ¬æ ‡ç­¾ã€‚å¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤æ‹‰å– <code>latest</code> æ ‡ç­¾ã€‚</li></ul><p><strong>ä»£ç æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‹‰å–æœ€æ–°ç‰ˆæœ¬çš„ Ubuntu é•œåƒ</span></span><br><span class="line">docker pull ubuntu</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‹‰å–æŒ‡å®šç‰ˆæœ¬çš„ Redis é•œåƒ</span></span><br><span class="line">docker pull redis:6.2</span><br></pre></td></tr></table></figure><p><img src="d8375535166a46d090b464fa6911ce62.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="3-æŸ¥çœ‹æœ¬åœ°é•œåƒ-images-image-ls"><a class="markdownIt-Anchor" href="#3-æŸ¥çœ‹æœ¬åœ°é•œåƒ-images-image-ls"></a> <strong>3. æŸ¥çœ‹æœ¬åœ°é•œåƒ (images / image ls)</strong></h4><p>åˆ—å‡ºæœ¬åœ°å·²å­˜åœ¨çš„æ‰€æœ‰é•œåƒã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line">docker image <span class="built_in">ls</span></span><br></pre></td></tr></table></figure><p><strong>ä»£ç æ¡ˆä¾‹ï¼š</strong></p><p><img src="770c0ad939b745eb851d149b3e67bf3c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="4-åˆ é™¤æœ¬åœ°é•œåƒ-rmi-image-rm"><a class="markdownIt-Anchor" href="#4-åˆ é™¤æœ¬åœ°é•œåƒ-rmi-image-rm"></a> <strong>4. åˆ é™¤æœ¬åœ°é•œåƒ (rmi / image rm)</strong></h4><p>åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªæœ¬åœ°é•œåƒã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rmi &lt;image_name&gt;[:tag] | &lt;image_id&gt;</span><br></pre></td></tr></table></figure><ul><li>å¦‚æœæœ‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨æ˜¯åŸºäºè¯¥é•œåƒåˆ›å»ºçš„ï¼Œéœ€è¦å…ˆåœæ­¢å¹¶åˆ é™¤è¿™äº›å®¹å™¨æ‰èƒ½æˆåŠŸåˆ é™¤é•œåƒã€‚</li><li><code>-f</code> æˆ– <code>--force</code>: å¼ºåˆ¶åˆ é™¤é•œåƒ (å³ä½¿æœ‰å®¹å™¨åœ¨ä½¿ç”¨å®ƒï¼Œä½†ä¸æ¨è)ã€‚</li></ul><p><strong>ä»£ç æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é€šè¿‡åç§°å’Œæ ‡ç­¾åˆ é™¤</span></span><br><span class="line">docker rmi redis:6.2</span><br><span class="line"></span><br><span class="line"><span class="comment"># é€šè¿‡é•œåƒIDåˆ é™¤ (å‡è®¾IDæ˜¯ edbdd97bf78b)</span></span><br><span class="line">docker rmi edbdd97bf78b</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å¤šä¸ªé•œåƒ</span></span><br><span class="line">docker rmi ubuntu:latest redis:latest</span><br></pre></td></tr></table></figure><p><img src="4a39f641eb3846fda7bb30defe083113.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="ade12da1330c49aa8fb75c1f56b355a2.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="a2297a5b9c364f7baf5514c20fe6d7db.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="5-æŸ¥çœ‹é•œåƒè¯¦ç»†ä¿¡æ¯-inspect"><a class="markdownIt-Anchor" href="#5-æŸ¥çœ‹é•œåƒè¯¦ç»†ä¿¡æ¯-inspect"></a> <strong>5. æŸ¥çœ‹é•œåƒè¯¦ç»†ä¿¡æ¯ (inspect)</strong></h4><p>ä»¥ JSON æ ¼å¼è¿”å›é•œåƒçš„è¯¦ç»†å…ƒæ•°æ®ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect &lt;image_name&gt;[:tag] | &lt;image_id&gt;</span><br></pre></td></tr></table></figure><p><strong>ä»£ç æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect ubuntu:latest</span><br></pre></td></tr></table></figure><p><img src="d8ce8168c4754925a0fa2b3a6ab5cfbe.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="2b088507c05f45b5a938ee4f2347d72f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="6-æŸ¥çœ‹é•œåƒå†å²-history"><a class="markdownIt-Anchor" href="#6-æŸ¥çœ‹é•œåƒå†å²-history"></a> <strong>6. æŸ¥çœ‹é•œåƒå†å² (history)</strong></h4><p>æ˜¾ç¤ºé•œåƒçš„æ„å»ºå†å²ï¼Œå³ç»„æˆè¯¥é•œåƒçš„æ¯ä¸€å±‚ (layer)ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">history</span> &lt;image_name&gt;[:tag] | &lt;image_id&gt;</span><br></pre></td></tr></table></figure><p><strong>ä»£ç æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">history</span> nginx:latest</span><br></pre></td></tr></table></figure><p><img src="a1a6562b72d94f76b9ade46b1024a3a0.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="7-ä¿å­˜é•œåƒä¸º-tar-æ–‡ä»¶-save"><a class="markdownIt-Anchor" href="#7-ä¿å­˜é•œåƒä¸º-tar-æ–‡ä»¶-save"></a> <strong>7. ä¿å­˜é•œåƒä¸º tar æ–‡ä»¶ (save)</strong></h4><p>å°†ä¸€ä¸ªæˆ–å¤šä¸ªæœ¬åœ°é•œåƒæ‰“åŒ…æˆä¸€ä¸ª <code>.tar</code> å½’æ¡£æ–‡ä»¶ï¼Œæ–¹ä¾¿ç¦»çº¿ä¼ è¾“ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker save -o &lt;output_filename.tar&gt; &lt;image_name&gt;[:tag]</span><br></pre></td></tr></table></figure><p><strong>ä»£ç æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker save -o my_nginx_image.tar nginx:latest</span><br></pre></td></tr></table></figure><h4 id="8-ä»-tar-æ–‡ä»¶åŠ è½½é•œåƒ-load"><a class="markdownIt-Anchor" href="#8-ä»-tar-æ–‡ä»¶åŠ è½½é•œåƒ-load"></a> <strong>8. ä» tar æ–‡ä»¶åŠ è½½é•œåƒ (load)</strong></h4><p>ä»ä¸€ä¸ª <code>.tar</code> å½’æ¡£æ–‡ä»¶åŠ è½½é•œåƒåˆ°æœ¬åœ°ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker load -i &lt;input_filename.tar&gt;</span><br></pre></td></tr></table></figure><p><strong>ä»£ç æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker load -i my_nginx_image.tar</span><br></pre></td></tr></table></figure><h4 id="9-ä¸ºé•œåƒæ‰“æ ‡ç­¾-tag"><a class="markdownIt-Anchor" href="#9-ä¸ºé•œåƒæ‰“æ ‡ç­¾-tag"></a> <strong>9. ä¸ºé•œåƒæ‰“æ ‡ç­¾ (tag)</strong></h4><p>ä¸ºå·²å­˜åœ¨çš„é•œåƒåˆ›å»ºä¸€ä¸ªæ–°çš„æ ‡ç­¾ (ç›¸å½“äºä¸€ä¸ªåˆ«å)ã€‚è¿™åœ¨æ¨é€åˆ°ä¸åŒä»“åº“æˆ–é‡å‘½åæ—¶éå¸¸æœ‰ç”¨ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker tag &lt;source_image&gt;[:tag] &lt;target_image&gt;[:tag]</span><br></pre></td></tr></table></figure><p><strong>ä»£ç æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†æœ¬åœ°çš„ nginx:latest æ ‡è®°ä¸º myrepo/mynginx:1.0</span></span><br><span class="line">docker tag nginx:latest myrepo/mynginx:1.0</span><br><span class="line"><span class="comment"># åˆ é™¤è¿™ä¸ªæ‰“äº†æ ‡ç­¾çš„é•œåƒ</span></span><br><span class="line">[root@ivan01 ~]<span class="comment"># docker rmi myrepo/mynginx:1.0</span></span><br><span class="line">Untagged: myrepo/mynginx:1.0</span><br></pre></td></tr></table></figure><p><img src="8d586c61e9224fd695638e1b315e1043.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="äºŒ-docker-å®¹å™¨-container-å¸¸ç”¨å‘½ä»¤"><a class="markdownIt-Anchor" href="#äºŒ-docker-å®¹å™¨-container-å¸¸ç”¨å‘½ä»¤"></a> <strong>äºŒã€Docker å®¹å™¨ (Container) å¸¸ç”¨å‘½ä»¤</strong></h3><p>å®¹å™¨æ˜¯é•œåƒçš„å¯è¿è¡Œå®ä¾‹ã€‚ä½ å¯ä»¥åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€ç§»åŠ¨å’Œåˆ é™¤å®¹å™¨ã€‚</p><h4 id="1-åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨-run"><a class="markdownIt-Anchor" href="#1-åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨-run"></a> <strong>1. åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨ (run)</strong></h4><p>è¿™æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„å¤åˆå‘½ä»¤ï¼Œå¦‚æœæœ¬åœ°æ²¡æœ‰æŒ‡å®šé•œåƒï¼Œå®ƒä¼šå…ˆè‡ªåŠ¨ <code>pull</code>ï¼Œç„¶ååŸºäºè¯¥é•œåƒåˆ›å»ºä¸€ä¸ªæ–°å®¹å™¨å¹¶å¯åŠ¨å®ƒã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run [OPTIONS] &lt;image_name&gt;[:tag] [COMMAND] [ARG...]</span><br></pre></td></tr></table></figure><ul><li><code>-d</code> æˆ– <code>--detach</code>: åå°è¿è¡Œå®¹å™¨ (å®ˆæŠ¤å¼å®¹å™¨)ã€‚</li><li><code>-i</code> æˆ– <code>--interactive</code>: äº¤äº’å¼æ“ä½œ (ä¿æŒ STDIN æ‰“å¼€)ã€‚</li><li><code>-t</code> æˆ– <code>--tty</code>: åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ã€‚é€šå¸¸ <code>-it</code> ä¸€èµ·ä½¿ç”¨ã€‚</li><li><code>--name &lt;container_name&gt;</code>: ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåç§°ã€‚</li><li><code>-p &lt;host_port&gt;:&lt;container_port&gt;</code>: ç«¯å£æ˜ å°„ï¼Œå°†ä¸»æœºçš„ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„ç«¯å£ã€‚</li><li><code>-v &lt;host_path&gt;:&lt;container_path&gt;</code>: æŒ‚è½½æ•°æ®å·ï¼Œå°†ä¸»æœºçš„ç›®å½•æŒ‚è½½åˆ°å®¹å™¨çš„ç›®å½•ã€‚</li><li><code>--rm</code>: å®¹å™¨é€€å‡ºæ—¶è‡ªåŠ¨åˆ é™¤ã€‚</li><li><code>-e &lt;KEY=VALUE&gt;</code>: è®¾ç½®ç¯å¢ƒå˜é‡ã€‚</li></ul><p><strong>ä»£ç æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä»¥åå°æ¨¡å¼è¿è¡Œä¸€ä¸ªNginxå®¹å™¨ï¼Œå¹¶å°†ä¸»æœºçš„8080ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„80ç«¯å£</span></span><br><span class="line">docker run -d -p 8080:80 --name my-web-server nginx:latest</span><br><span class="line"></span><br><span class="line"><span class="comment"># äº¤äº’å¼åœ°è¿›å…¥ä¸€ä¸ªUbuntuå®¹å™¨çš„bash shell</span></span><br><span class="line">docker run -it --<span class="built_in">rm</span> ubuntu:latest /bin/bash</span><br></pre></td></tr></table></figure><p><img src="dbbd79184e5b43a8b10a847809c82653.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="d7d79d1892534e3fabaf49109c2307ef.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="2-æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨-ps-container-ls"><a class="markdownIt-Anchor" href="#2-æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨-ps-container-ls"></a> <strong>2. æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨ (ps / container ls)</strong></h4><p>åˆ—å‡ºå½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line">docker container <span class="built_in">ls</span></span><br></pre></td></tr></table></figure><ul><li><code>-a</code> æˆ– <code>--all</code>: åˆ—å‡ºæ‰€æœ‰å®¹å™¨ (åŒ…æ‹¬å·²åœæ­¢çš„)ã€‚</li></ul><p><strong>ä»£ç æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰å®¹å™¨</span></span><br><span class="line">docker ps -a</span><br></pre></td></tr></table></figure><p><img src="ab0e6b0df938441ba3a1a6c98371b06a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="3-åœæ­¢å®¹å™¨-stop"><a class="markdownIt-Anchor" href="#3-åœæ­¢å®¹å™¨-stop"></a> <strong>3. åœæ­¢å®¹å™¨ (stop)</strong></h4><p>ä¼˜é›…åœ°åœæ­¢ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop &lt;container_name | container_id&gt;</span><br></pre></td></tr></table></figure><p><strong>ä»£ç æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop my-web-server</span><br></pre></td></tr></table></figure><p><img src="01ff7a814a254c0a8a4160447633aff5.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="4-å¯åŠ¨å·²åœæ­¢çš„å®¹å™¨-start"><a class="markdownIt-Anchor" href="#4-å¯åŠ¨å·²åœæ­¢çš„å®¹å™¨-start"></a> <strong>4. å¯åŠ¨å·²åœæ­¢çš„å®¹å™¨ (start)</strong></h4><p>å¯åŠ¨ä¸€ä¸ªå·²å­˜åœ¨ä½†å·²åœæ­¢çš„å®¹å™¨ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker start &lt;container_name | container_id&gt;</span><br></pre></td></tr></table></figure><p><strong>ä»£ç æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker start my-web-server</span><br></pre></td></tr></table></figure><h4 id="5-é‡å¯å®¹å™¨-restart"><a class="markdownIt-Anchor" href="#5-é‡å¯å®¹å™¨-restart"></a> <strong>5. é‡å¯å®¹å™¨ (restart)</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker restart &lt;container_name | container_id&gt;</span><br></pre></td></tr></table></figure><p><strong>ä»£ç æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker restart my-web-server</span><br></pre></td></tr></table></figure><h4 id="6-è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨-exec-attach"><a class="markdownIt-Anchor" href="#6-è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨-exec-attach"></a> <strong>6. è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨ (exec / attach)</strong></h4><ul><li><code>exec</code>: åœ¨æ­£åœ¨è¿è¡Œçš„å®¹å™¨ä¸­æ‰§è¡Œä¸€ä¸ªæ–°å‘½ä»¤ (æœ€å¸¸ç”¨)ã€‚</li><li><code>attach</code>: ç›´æ¥è¿æ¥åˆ°å®¹å™¨çš„ä¸»è¿›ç¨‹ (PID 1) çš„è¾“å…¥/è¾“å‡ºæµã€‚</li></ul><p><strong><code>exec</code> è¯­æ³• (æ¨è)ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> [OPTIONS] &lt;container_name | container_id&gt; &lt;COMMAND&gt;</span><br></pre></td></tr></table></figure><p><strong>ä»£ç æ¡ˆä¾‹ (è¿›å…¥å®¹å™¨çš„shell)ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it my-web-server /bin/bash</span><br></pre></td></tr></table></figure><p><img src="5658706792c84c27b5b25573ebfdd99f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="7-åˆ é™¤å®¹å™¨-rm-container-rm"><a class="markdownIt-Anchor" href="#7-åˆ é™¤å®¹å™¨-rm-container-rm"></a> <strong>7. åˆ é™¤å®¹å™¨ (rm / container rm)</strong></h4><p>åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå·²åœæ­¢çš„å®¹å™¨ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">rm</span> &lt;container_name | container_id&gt;</span><br></pre></td></tr></table></figure><ul><li><code>-f</code> æˆ– <code>--force</code>: å¼ºåˆ¶åˆ é™¤ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨ã€‚</li></ul><p><strong>ä»£ç æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é¦–å…ˆåœæ­¢å®¹å™¨</span></span><br><span class="line">docker stop my-web-server</span><br><span class="line"><span class="comment"># ç„¶ååˆ é™¤</span></span><br><span class="line">docker <span class="built_in">rm</span> my-web-server</span><br></pre></td></tr></table></figure><p><img src="76bfddafad6a42beaa545625ada6e250.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="8-æŸ¥çœ‹å®¹å™¨æ—¥å¿—-logs"><a class="markdownIt-Anchor" href="#8-æŸ¥çœ‹å®¹å™¨æ—¥å¿—-logs"></a> <strong>8. æŸ¥çœ‹å®¹å™¨æ—¥å¿— (logs)</strong></h4><p>è·å–å®¹å™¨çš„æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯æ—¥å¿—ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker logs [OPTIONS] &lt;container_name | container_id&gt;</span><br></pre></td></tr></table></figure><ul><li><code>-f</code> æˆ– <code>--follow</code>: å®æ—¶è·Ÿè¸ªæ—¥å¿—è¾“å‡ºã€‚</li><li><code>--tail &lt;number&gt;</code>: åªæ˜¾ç¤ºæœ€åNè¡Œæ—¥å¿—ã€‚</li></ul><p><strong>ä»£ç æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®æ—¶æŸ¥çœ‹my-web-serverçš„æ—¥å¿—</span></span><br><span class="line">docker logs -f my-web-server</span><br></pre></td></tr></table></figure><h4 id="9-æŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯-inspect"><a class="markdownIt-Anchor" href="#9-æŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯-inspect"></a> <strong>9. æŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯ (inspect)</strong></h4><p>ä»¥ JSON æ ¼å¼è¿”å›å®¹å™¨çš„è¯¦ç»†é…ç½®å’ŒçŠ¶æ€ä¿¡æ¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect &lt;container_name | container_id&gt;</span><br></pre></td></tr></table></figure><p><strong>ä»£ç æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect my-web-server</span><br></pre></td></tr></table></figure><p><img src="7ad649db79cb4cf19de226550e216aa5.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="10-ä»å®¹å™¨å¤åˆ¶æ–‡ä»¶åˆ°ä¸»æœº-cp"><a class="markdownIt-Anchor" href="#10-ä»å®¹å™¨å¤åˆ¶æ–‡ä»¶åˆ°ä¸»æœº-cp"></a> <strong>10. ä»å®¹å™¨å¤åˆ¶æ–‡ä»¶åˆ°ä¸»æœº (cp)</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">cp</span> &lt;container_name | container_id&gt;:&lt;container_path&gt; &lt;host_path&gt;</span><br></pre></td></tr></table></figure><p><strong>ä»£ç æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†å®¹å™¨my-web-serverä¸­çš„/etc/nginx/nginx.confæ–‡ä»¶å¤åˆ¶åˆ°ä¸»æœºçš„å½“å‰ç›®å½•</span></span><br><span class="line">docker <span class="built_in">cp</span> my-web-server:/etc/nginx/nginx.conf .</span><br></pre></td></tr></table></figure><p><img src="82ea03f8daf640679bee6041b05cc546.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="11-ä»ä¸»æœºå¤åˆ¶æ–‡ä»¶åˆ°å®¹å™¨-cp"><a class="markdownIt-Anchor" href="#11-ä»ä¸»æœºå¤åˆ¶æ–‡ä»¶åˆ°å®¹å™¨-cp"></a> <strong>11. ä»ä¸»æœºå¤åˆ¶æ–‡ä»¶åˆ°å®¹å™¨ (cp)</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">cp</span> &lt;host_path&gt; &lt;container_name | container_id&gt;:&lt;container_path&gt;</span><br></pre></td></tr></table></figure><p><strong>ä»£ç æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†ä¸»æœºçš„index.htmlæ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨my-web-serverçš„/usr/share/nginx/html/ç›®å½•ä¸‹</span></span><br><span class="line">docker <span class="built_in">cp</span> index.html my-web-server:/usr/share/nginx/html/</span><br></pre></td></tr></table></figure><p><img src="998bade2cd5f45848c844f62c2aa9a6f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p><img src="ee4357e0dcaa4bdc9cb1bcb91abcedf5.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p><strong>æ€»ç»“ï¼š</strong></p><ul><li><strong>é•œåƒ (Image)</strong>: <code>search</code>, <code>pull</code>, <code>images</code>, <code>rmi</code>, <code>inspect</code>, <code>save</code>, <code>load</code>, <code>tag</code>ã€‚</li><li><strong>å®¹å™¨ (Container)</strong>: <code>run</code>, <code>ps</code>, <code>stop</code>, <code>start</code>, <code>restart</code>, <code>exec</code>, <code>rm</code>, <code>logs</code>, <code>inspect</code>, <code>cp</code>ã€‚</li></ul><hr /><p><strong>Docker å‘½ä»¤è¡Œç»ƒä¹ é¢˜ (å…±12é“)</strong></p><p><strong>è¯·ä¸ºä»¥ä¸‹æ¯ä¸ªä»»åŠ¡ç¼–å†™ç›¸åº”çš„Dockerå‘½ä»¤ã€‚</strong></p><p><strong>é¢˜ç›®ï¼š</strong></p><ol><li>ä» Docker Hub æœç´¢ä¸ <code>mysql</code> ç›¸å…³çš„å®˜æ–¹é•œåƒ (é€šå¸¸ <code>STARS</code> æ•°æœ€é«˜ä¸” <code>OFFICIAL</code> ä¸º <code>[OK]</code>)ã€‚</li><li>æ‹‰å– <code>mysql</code> é•œåƒçš„ <code>8.0</code> ç‰ˆæœ¬ã€‚</li><li>æŸ¥çœ‹ä½ æœ¬åœ°ç°åœ¨æ‹¥æœ‰çš„æ‰€æœ‰é•œåƒã€‚</li><li>ä»¥åå°æ¨¡å¼è¿è¡Œä¸€ä¸ª MySQL 8.0 å®¹å™¨ï¼Œä¸ºå…¶å‘½åä¸º <code>my-mysql-db</code>ï¼Œå¹¶è®¾ç½®MySQLçš„rootç”¨æˆ·å¯†ç ä¸º <code>MySecretPwd123</code> (æç¤ºï¼šé€šè¿‡ç¯å¢ƒå˜é‡ <code>MYSQL_ROOT_PASSWORD</code> è®¾ç½®)ã€‚</li><li>åˆ—å‡ºæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨ã€‚</li><li>åˆ—å‡ºæ‰€æœ‰å®¹å™¨ï¼ŒåŒ…æ‹¬å·²ç»åœæ­¢çš„ã€‚</li><li>æŸ¥çœ‹ <code>my-mysql-db</code> å®¹å™¨çš„å®æ—¶æ—¥å¿—ã€‚</li><li>è¿›å…¥æ­£åœ¨è¿è¡Œçš„ <code>my-mysql-db</code> å®¹å™¨ï¼Œå¹¶å¯åŠ¨ä¸€ä¸ª <code>bash</code> shellã€‚</li><li>å°†ä½ æœ¬åœ°çš„ä¸€ä¸ªåä¸º <code>backup.sql</code> çš„SQLæ–‡ä»¶å¤åˆ¶åˆ° <code>my-mysql-db</code> å®¹å™¨çš„ <code>/tmp/</code> ç›®å½•ä¸‹ã€‚</li><li>åœæ­¢åä¸º <code>my-mysql-db</code> çš„å®¹å™¨ã€‚</li><li>åˆ é™¤å·²åœæ­¢çš„ <code>my-mysql-db</code> å®¹å™¨ã€‚</li><li>åˆ é™¤ä½ æœ¬åœ°çš„ <code>mysql:8.0</code> é•œåƒã€‚</li></ol><p><strong>ç­”æ¡ˆä¸è§£æï¼š</strong></p><ol><li><strong>æœç´¢ <code>mysql</code> é•œåƒï¼š</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search mysql</span><br></pre></td></tr></table></figure><ul><li><strong>è§£æï¼š</strong> <code>docker search</code> æ˜¯ç”¨äºåœ¨Docker Hubä¸ŠæŸ¥æ‰¾é•œåƒçš„å‘½ä»¤ã€‚</li></ul><ol start="2"><li><strong>æ‹‰å– <code>mysql:8.0</code> é•œåƒï¼š</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull mysql:8.0</span><br></pre></td></tr></table></figure><ul><li><strong>è§£æï¼š</strong> <code>docker pull</code> ç”¨äºä¸‹è½½é•œåƒï¼Œ<code>&lt;image_name&gt;:&lt;tag&gt;</code> æ ¼å¼æŒ‡å®šäº†é•œåƒåå’Œç‰ˆæœ¬æ ‡ç­¾ã€‚</li></ul><ol start="3"><li><strong>æŸ¥çœ‹æœ¬åœ°é•œåƒï¼š</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure><ul><li><strong>è§£æï¼š</strong> <code>docker images</code> æˆ– <code>docker image ls</code> ç”¨äºåˆ—å‡ºæœ¬åœ°å·²ä¸‹è½½çš„é•œåƒã€‚</li></ul><ol start="4"><li><strong>è¿è¡Œ MySQL å®¹å™¨ï¼š</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name my-mysql-db -e MYSQL_ROOT_PASSWORD=MySecretPwd123 mysql:8.0</span><br></pre></td></tr></table></figure><ul><li><strong>è§£æï¼š</strong> <code>-d</code> ä½¿å®¹å™¨åœ¨åå°è¿è¡Œã€‚<code>--name</code> ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªæ˜“äºè®°å¿†çš„åç§°ã€‚<code>-e</code> ç”¨äºè®¾ç½®å®¹å™¨å†…çš„ç¯å¢ƒå˜é‡ï¼Œ<code>MYSQL_ROOT_PASSWORD</code> æ˜¯MySQLé•œåƒå®˜æ–¹æ–‡æ¡£ä¸­æŒ‡å®šçš„ç”¨äºè®¾ç½®rootå¯†ç çš„ç¯å¢ƒå˜é‡ã€‚</li></ul><ol start="5"><li><strong>åˆ—å‡ºè¿è¡Œä¸­çš„å®¹å™¨ï¼š</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure><ul><li><strong>è§£æï¼š</strong> <code>docker ps</code> æ˜¯ <code>docker container ls</code> çš„ç®€å†™ï¼Œé»˜è®¤åªæ˜¾ç¤ºæ­£åœ¨è¿è¡Œçš„å®¹å™¨ã€‚</li></ul><ol start="6"><li><strong>åˆ—å‡ºæ‰€æœ‰å®¹å™¨ï¼š</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps -a</span><br></pre></td></tr></table></figure><ul><li><strong>è§£æï¼š</strong> <code>-a</code> æˆ– <code>--all</code> å‚æ•°ä¼šæ˜¾ç¤ºæ‰€æœ‰å®¹å™¨ï¼ŒåŒ…æ‹¬é‚£äº›å·²ç»åœæ­¢è¿è¡Œçš„ã€‚</li></ul><ol start="7"><li><strong>æŸ¥çœ‹å®æ—¶æ—¥å¿—ï¼š</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker logs -f my-mysql-db</span><br></pre></td></tr></table></figure><ul><li><strong>è§£æï¼š</strong> <code>docker logs</code> ç”¨äºæŸ¥çœ‹å®¹å™¨æ—¥å¿—ã€‚<code>-f</code> æˆ– <code>--follow</code> å‚æ•°ä¼šæŒç»­è¾“å‡ºæ–°äº§ç”Ÿçš„æ—¥å¿—ï¼Œå®ç°å®æ—¶è·Ÿè¸ªã€‚</li></ul><ol start="8"><li><strong>è¿›å…¥å®¹å™¨çš„ shellï¼š</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it my-mysql-db /bin/bash</span><br></pre></td></tr></table></figure><ul><li><strong>è§£æï¼š</strong> <code>docker exec</code> ç”¨äºåœ¨è¿è¡Œä¸­çš„å®¹å™¨å†…æ‰§è¡Œå‘½ä»¤ã€‚<code>-it</code> ç»„åˆå‚æ•°æä¾›äº†äº¤äº’å¼ç»ˆç«¯ï¼Œ<code>/bin/bash</code> æ˜¯è¦åœ¨å®¹å™¨å†…å¯åŠ¨çš„å‘½ä»¤ã€‚</li></ul><ol start="9"><li><strong>å¤åˆ¶æ–‡ä»¶åˆ°å®¹å™¨ï¼š</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">cp</span> backup.sql my-mysql-db:/tmp/</span><br></pre></td></tr></table></figure><ul><li><strong>è§£æï¼š</strong> <code>docker cp</code> ç”¨äºåœ¨ä¸»æœºå’Œå®¹å™¨ä¹‹é—´å¤åˆ¶æ–‡ä»¶ã€‚æ ¼å¼ä¸º <code>docker cp &lt;host_source_path&gt; &lt;container&gt;:&lt;container_dest_path&gt;</code>ã€‚</li></ul><ol start="10"><li><strong>åœæ­¢å®¹å™¨ï¼š</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop my-mysql-db</span><br></pre></td></tr></table></figure><ul><li><strong>è§£æï¼š</strong> <code>docker stop</code> ç”¨äºå‘å®¹å™¨å‘é€åœæ­¢ä¿¡å·ï¼Œä½¿å…¶ä¼˜é›…åœ°å…³é—­ã€‚</li></ul><ol start="11"><li><strong>åˆ é™¤å®¹å™¨ï¼š</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">rm</span> my-mysql-db</span><br></pre></td></tr></table></figure><ul><li><strong>è§£æï¼š</strong> <code>docker rm</code> ç”¨äºåˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå·²åœæ­¢çš„å®¹å™¨ã€‚å¦‚æœå®¹å™¨æ­£åœ¨è¿è¡Œï¼Œéœ€è¦å…ˆ <code>stop</code> æˆ–ä½¿ç”¨ <code>-f</code> å¼ºåˆ¶åˆ é™¤ã€‚</li></ul><ol start="12"><li><strong>åˆ é™¤é•œåƒï¼š</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rmi mysql:8.0</span><br></pre></td></tr></table></figure><ul><li><strong>è§£æï¼š</strong> <code>docker rmi</code> æˆ– <code>docker image rm</code> ç”¨äºåˆ é™¤æœ¬åœ°é•œåƒã€‚å¦‚æœæœ‰ä»»ä½•å®¹å™¨ï¼ˆå³ä½¿æ˜¯å·²åœæ­¢çš„ï¼‰æ˜¯åŸºäºè¯¥é•œåƒåˆ›å»ºçš„ï¼Œå¿…é¡»å…ˆåˆ é™¤è¿™äº›å®¹å™¨ï¼Œæ‰èƒ½æˆåŠŸåˆ é™¤é•œåƒã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++11 ç®—æ³•è¯¦è§£ï¼šstd::copy_if ä¸ std::copy_n</title>
      <link href="/2025/07/11/C/C++11%20%E7%AE%97%E6%B3%95%E8%AF%A6%E8%A7%A3%EF%BC%9Astdcopy_if%20%E4%B8%8E%20stdcopy_n/"/>
      <url>/2025/07/11/C/C++11%20%E7%AE%97%E6%B3%95%E8%AF%A6%E8%A7%A3%EF%BC%9Astdcopy_if%20%E4%B8%8E%20stdcopy_n/</url>
      
        <content type="html"><![CDATA[<h3 id="å¼•è¨€"><a class="markdownIt-Anchor" href="#å¼•è¨€"></a> å¼•è¨€</h3><p>C++11 æ ‡å‡†ä¸ºç®—æ³•åº“å¸¦æ¥äº†è¯¸å¤šå¢å¼ºï¼Œå…¶ä¸­ <code>std::copy_if</code> å’Œ <code>std::copy_n</code> ä½œä¸º <code>std::copy</code> çš„è¡¥å……ï¼Œä¸ºå…ƒç´ å¤åˆ¶æ“ä½œæä¾›äº†æ›´ç²¾ç»†çš„æ§åˆ¶ã€‚è¿™ä¸¤ä¸ªç®—æ³•ä¸ä»…ç®€åŒ–äº†ä»£ç é€»è¾‘ï¼Œè¿˜æå‡äº†å¯è¯»æ€§å’Œæ€§èƒ½ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨è¿™ä¸¤ä¸ªç®—æ³•çš„å®ç°ç»†èŠ‚ã€ä½¿ç”¨åœºæ™¯åŠæœ€ä½³å®è·µï¼Œå¸®åŠ©å¼€å‘è€…åœ¨å®é™…é¡¹ç›®ä¸­æ­£ç¡®é«˜æ•ˆåœ°åº”ç”¨å®ƒä»¬ã€‚</p><h3 id="stdcopy_ifæ¡ä»¶ç­›é€‰å¤åˆ¶"><a class="markdownIt-Anchor" href="#stdcopy_ifæ¡ä»¶ç­›é€‰å¤åˆ¶"></a> std::copy_ifï¼šæ¡ä»¶ç­›é€‰å¤åˆ¶</h3><h4 id="å‡½æ•°åŸå‹"><a class="markdownIt-Anchor" href="#å‡½æ•°åŸå‹"></a> å‡½æ•°åŸå‹</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt; <span class="keyword">class</span> InputIt, <span class="keyword">class</span> OutputIt, <span class="keyword">class</span> UnaryPred &gt;</span></span><br><span class="line"><span class="function">OutputIt <span class="title">copy_if</span><span class="params">( InputIt first, InputIt last, OutputIt d_first, UnaryPred pred )</span></span>;</span><br></pre></td></tr></table></figure><h4 id="æ ¸å¿ƒåŠŸèƒ½"><a class="markdownIt-Anchor" href="#æ ¸å¿ƒåŠŸèƒ½"></a> æ ¸å¿ƒåŠŸèƒ½</h4><p><code>std::copy_if</code> ä»è¾“å…¥èŒƒå›´ <code>[first, last)</code> ä¸­å¤åˆ¶æ»¡è¶³è°“è¯ <code>pred</code> çš„å…ƒç´ åˆ°ç›®æ ‡èŒƒå›´ï¼ˆå§‹äº <code>d_first</code>ï¼‰ï¼Œå¹¶<strong>ä¿æŒå…ƒç´ çš„ç›¸å¯¹é¡ºåº</strong>ã€‚è¯¥ç®—æ³•åœ¨ C++11 ä¸­å¼•å…¥ï¼Œæ˜¯å¯¹ä¼ ç»Ÿ <code>std::copy</code> çš„æ¡ä»¶åŒ–æ‰©å±•ã€‚</p><h4 id="å‚æ•°è§£æ"><a class="markdownIt-Anchor" href="#å‚æ•°è§£æ"></a> å‚æ•°è§£æ</h4><ul><li><strong>first/last</strong>ï¼šè¾“å…¥è¿­ä»£å™¨å¯¹ï¼Œå®šä¹‰æºå…ƒç´ èŒƒå›´ã€‚</li><li><strong>d_first</strong>ï¼šè¾“å‡ºè¿­ä»£å™¨ï¼ŒæŒ‡å‘ç›®æ ‡èŒƒå›´çš„èµ·å§‹ä½ç½®ã€‚</li><li><strong>pred</strong>ï¼šä¸€å…ƒè°“è¯å‡½æ•°ï¼ˆå¯è°ƒç”¨å¯¹è±¡ï¼‰ï¼Œè¿”å› <code>bool</code> ç±»å‹ï¼Œç”¨äºåˆ¤æ–­å…ƒç´ æ˜¯å¦åº”è¢«å¤åˆ¶ã€‚</li></ul><blockquote><p><strong>æ³¨æ„</strong>ï¼šè°“è¯ <code>pred</code> ä¸å¾—ä¿®æ”¹è¾“å…¥å…ƒç´ ï¼Œå…¶<a href="https://so.csdn.net/so/search?q=%E5%8F%82%E6%95%B0%E7%B1%BB%E5%9E%8B&amp;spm=1001.2101.3001.7020">å‚æ•°ç±»å‹</a>é€šå¸¸ä¸º <code>const T&amp;</code>ã€‚</p></blockquote><h4 id="è¿”å›å€¼"><a class="markdownIt-Anchor" href="#è¿”å›å€¼"></a> è¿”å›å€¼</h4><p>è¿”å›ç›®æ ‡èŒƒå›´ä¸­æœ€åä¸€ä¸ªè¢«å¤åˆ¶å…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®<a href="https://so.csdn.net/so/search?q=%E8%BF%AD%E4%BB%A3%E5%99%A8&amp;spm=1001.2101.3001.7020">è¿­ä»£å™¨</a>ï¼Œä¾¿äºåç»­æ“ä½œï¼ˆå¦‚ç»§ç»­æ·»åŠ å…ƒç´ ï¼‰ã€‚</p><h4 id="å®ç°é€»è¾‘"><a class="markdownIt-Anchor" href="#å®ç°é€»è¾‘"></a> å®ç°é€»è¾‘</h4><p>cppreference æä¾›çš„å‚è€ƒå®ç°æ¸…æ™°å±•ç¤ºäº†å…¶å·¥ä½œåŸç†ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> InputIt, <span class="keyword">class</span> OutputIt, <span class="keyword">class</span> UnaryPred&gt;</span></span><br><span class="line"><span class="function">OutputIt <span class="title">copy_if</span><span class="params">(InputIt first, InputIt last, OutputIt d_first, UnaryPred pred)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (; first != last; ++first) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">pred</span>(*first)) &#123;</span><br><span class="line">            *d_first = *first;</span><br><span class="line">            ++d_first;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> d_first;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¾ªç¯éå†è¾“å…¥èŒƒå›´ï¼Œå¯¹æ¯ä¸ªå…ƒç´ åº”ç”¨è°“è¯åˆ¤æ–­ï¼Œæ»¡è¶³æ¡ä»¶åˆ™å¤åˆ¶åˆ°ç›®æ ‡ä½ç½®å¹¶ç§»åŠ¨ç›®æ ‡è¿­ä»£å™¨ã€‚</p><h4 id="ç¤ºä¾‹ç­›é€‰å®¹å™¨ä¸­çš„å¶æ•°"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹ç­›é€‰å®¹å™¨ä¸­çš„å¶æ•°"></a> ç¤ºä¾‹ï¼šç­›é€‰å®¹å™¨ä¸­çš„å¶æ•°</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; src = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; dest;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// é¢„ç•™ç©ºé—´ä»¥é¿å…å¤šæ¬¡æ‰©å®¹ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰</span></span><br><span class="line">    dest.<span class="built_in">reserve</span>(src.<span class="built_in">size</span>());</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¤åˆ¶æ‰€æœ‰å¶æ•°</span></span><br><span class="line">    std::<span class="built_in">copy_if</span>(src.<span class="built_in">begin</span>(), src.<span class="built_in">end</span>(), std::<span class="built_in">back_inserter</span>(dest),</span><br><span class="line">                 [](<span class="type">int</span> x) &#123; <span class="keyword">return</span> x % <span class="number">2</span> == <span class="number">0</span>; &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è¾“å‡ºç»“æœï¼š2 4 6 8 </span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> num : dest) &#123;</span><br><span class="line">        std::cout &lt;&lt; num &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#æ³¨æ„äº‹é¡¹"></a> æ³¨æ„äº‹é¡¹</h4><ol><li><strong>èŒƒå›´é‡å </strong>ï¼šè‹¥ç›®æ ‡èŒƒå›´ä¸è¾“å…¥èŒƒå›´é‡å ï¼Œè¡Œä¸ºæœªå®šä¹‰ã€‚æ­¤æ—¶åº”è€ƒè™‘ <code>std::copy_backward</code>ã€‚</li><li><strong>è°“è¯å‰¯ä½œç”¨</strong>ï¼šè°“è¯å‡½æ•°ä¸å¾—ä¿®æ”¹è¾“å…¥å…ƒç´ ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚</li><li><strong>æ€§èƒ½è€ƒé‡</strong>ï¼šå¯¹äºå¤§å‹å®¹å™¨ï¼Œæå‰è°ƒç”¨ <code>reserve</code> ä¸ºç›®æ ‡å®¹å™¨åˆ†é…ç©ºé—´å¯é¿å…å¤šæ¬¡å†…å­˜åˆ†é…ã€‚</li></ol><h3 id="stdcopy_nå›ºå®šæ•°é‡å¤åˆ¶"><a class="markdownIt-Anchor" href="#stdcopy_nå›ºå®šæ•°é‡å¤åˆ¶"></a> std::copy_nï¼šå›ºå®šæ•°é‡å¤åˆ¶</h3><h4 id="å‡½æ•°åŸå‹-2"><a class="markdownIt-Anchor" href="#å‡½æ•°åŸå‹-2"></a> å‡½æ•°åŸå‹</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt; <span class="keyword">class</span> InputIt, <span class="keyword">class</span> Size, <span class="keyword">class</span> OutputIt &gt;</span></span><br><span class="line"><span class="function">OutputIt <span class="title">copy_n</span><span class="params">( InputIt first, Size count, OutputIt result )</span></span>;</span><br></pre></td></tr></table></figure><h4 id="æ ¸å¿ƒåŠŸèƒ½-2"><a class="markdownIt-Anchor" href="#æ ¸å¿ƒåŠŸèƒ½-2"></a> æ ¸å¿ƒåŠŸèƒ½</h4><p><code>std::copy_n</code> ä»èµ·å§‹ä½ç½® <code>first</code> å¤åˆ¶<strong>æ°å¥½ <code>count</code> ä¸ªå…ƒç´ </strong>åˆ°ç›®æ ‡èŒƒå›´ï¼ˆå§‹äº <code>result</code>ï¼‰ã€‚è¯¥ç®—æ³•åŒæ ·åœ¨ C++11 ä¸­å¼•å…¥ï¼Œå¡«è¡¥äº†ä¼ ç»Ÿ <code>std::copy</code> æ— æ³•æŒ‡å®šå¤åˆ¶æ•°é‡çš„ç©ºç™½ã€‚</p><h4 id="å‚æ•°è§£æ-2"><a class="markdownIt-Anchor" href="#å‚æ•°è§£æ-2"></a> å‚æ•°è§£æ</h4><ul><li><strong>first</strong>ï¼šè¾“å…¥è¿­ä»£å™¨ï¼ŒæŒ‡å‘æºèŒƒå›´çš„èµ·å§‹ä½ç½®ã€‚</li><li><strong>count</strong>ï¼šè¦å¤åˆ¶çš„å…ƒç´ æ•°é‡ï¼ˆè‹¥ä¸ºè´Ÿæ•°ï¼Œè¡Œä¸ºæœªå®šä¹‰ï¼‰ã€‚</li><li><strong>result</strong>ï¼šè¾“å‡ºè¿­ä»£å™¨ï¼ŒæŒ‡å‘ç›®æ ‡èŒƒå›´çš„èµ·å§‹ä½ç½®ã€‚</li></ul><h4 id="è¿”å›å€¼-2"><a class="markdownIt-Anchor" href="#è¿”å›å€¼-2"></a> è¿”å›å€¼</h4><p>è¿”å›ç›®æ ‡èŒƒå›´ä¸­æœ€åä¸€ä¸ªè¢«å¤åˆ¶å…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®è¿­ä»£å™¨ï¼ˆè‹¥ <code>count</code> ä¸º 0ï¼Œåˆ™è¿”å› <code>result</code>ï¼‰ã€‚</p><h4 id="å®ç°é€»è¾‘-2"><a class="markdownIt-Anchor" href="#å®ç°é€»è¾‘-2"></a> å®ç°é€»è¾‘</h4><p>å‚è€ƒå®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> InputIt, <span class="keyword">class</span> Size, <span class="keyword">class</span> OutputIt&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">constexpr</span> OutputIt <span class="title">copy_n</span><span class="params">(InputIt first, Size count, OutputIt result)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (count &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        *result = *first;</span><br><span class="line">        ++result;</span><br><span class="line">        <span class="keyword">for</span> (Size i = <span class="number">1</span>; i != count; ++i, (<span class="type">void</span>)++result) &#123;</span><br><span class="line">            *result = *++first;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¦–å…ˆå¤„ç† <code>count &gt; 0</code> çš„æƒ…å†µï¼Œå¤åˆ¶é¦–ä¸ªå…ƒç´ åå¾ªç¯å¤åˆ¶å‰©ä½™ <code>count-1</code> ä¸ªå…ƒç´ ã€‚</p><h4 id="ç¤ºä¾‹å¤åˆ¶å‰-n-ä¸ªå…ƒç´ "><a class="markdownIt-Anchor" href="#ç¤ºä¾‹å¤åˆ¶å‰-n-ä¸ªå…ƒç´ "></a> ç¤ºä¾‹ï¼šå¤åˆ¶å‰ N ä¸ªå…ƒç´ </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">src</span><span class="params">(<span class="number">100</span>)</span></span>;</span><br><span class="line">    std::<span class="built_in">iota</span>(src.<span class="built_in">begin</span>(), src.<span class="built_in">end</span>(), <span class="number">1</span>); <span class="comment">// å¡«å…… 1~100</span></span><br><span class="line">    </span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">dest</span><span class="params">(<span class="number">5</span>)</span></span>;</span><br><span class="line">    <span class="comment">// å¤åˆ¶å‰ 5 ä¸ªå…ƒç´ ï¼ˆ1,2,3,4,5ï¼‰</span></span><br><span class="line">    std::<span class="built_in">copy_n</span>(src.<span class="built_in">begin</span>(), <span class="number">5</span>, dest.<span class="built_in">begin</span>());</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è¾“å‡ºç»“æœï¼š1 2 3 4 5 </span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> num : dest) &#123;</span><br><span class="line">        std::cout &lt;&lt; num &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ³¨æ„äº‹é¡¹-2"><a class="markdownIt-Anchor" href="#æ³¨æ„äº‹é¡¹-2"></a> æ³¨æ„äº‹é¡¹</h4><ol><li><strong>ç›®æ ‡ç©ºé—´ä¸è¶³</strong>ï¼šè‹¥ç›®æ ‡å®¹å™¨å®¹é‡å°äº <code>count</code>ï¼Œä¼šå¯¼è‡´ç¼“å†²åŒºæº¢å‡ºï¼ˆæœªå®šä¹‰è¡Œä¸ºï¼‰ã€‚</li><li><strong>è´Ÿæ•° count</strong>ï¼šæ ‡å‡†æ˜ç¡®è§„å®š <code>count</code> ä¸ºè´Ÿæ•°æ—¶è¡Œä¸ºæœªå®šä¹‰ï¼Œå®é™…ä½¿ç”¨ä¸­åº”ç¡®ä¿å…¶éè´Ÿã€‚</li><li><strong>è¿­ä»£å™¨ç±»å‹</strong>ï¼šè¾“å…¥è¿­ä»£å™¨åªéœ€æ»¡è¶³ <code>LegacyInputIterator</code>ï¼Œä½†éšæœºè®¿é—®è¿­ä»£å™¨å¯æå‡æ€§èƒ½ï¼ˆæ”¯æŒ <code>first + i</code> ç›´æ¥è®¿é—®ï¼‰ã€‚</li></ol><h3 id="å¯¹æ¯”åˆ†æä¸åº”ç”¨åœºæ™¯"><a class="markdownIt-Anchor" href="#å¯¹æ¯”åˆ†æä¸åº”ç”¨åœºæ™¯"></a> å¯¹æ¯”åˆ†æä¸åº”ç”¨åœºæ™¯</h3><h4 id="åŠŸèƒ½å·®å¼‚"><a class="markdownIt-Anchor" href="#åŠŸèƒ½å·®å¼‚"></a> åŠŸèƒ½å·®å¼‚</h4><table><thead><tr><th>ç‰¹æ€§</th><th><code>std::copy_if</code></th><th><code>std::copy_n</code></th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒé€»è¾‘</strong></td><td>æ¡ä»¶ç­›é€‰å¤åˆ¶</td><td>å›ºå®šæ•°é‡å¤åˆ¶</td></tr><tr><td><strong>å…³é”®å‚æ•°</strong></td><td>è°“è¯å‡½æ•° <code>pred</code></td><td>å…ƒç´ æ•°é‡ <code>count</code></td></tr><tr><td><strong>å…ƒç´ æ•°é‡</strong></td><td>å–å†³äºè°“è¯åŒ¹é…ç»“æœ</td><td>ä¸¥æ ¼ç­‰äº <code>count</code>ï¼ˆè‹¥æºè¶³å¤Ÿï¼‰</td></tr><tr><td><strong>é¡ºåºä¿è¯</strong></td><td>ä¿æŒæºèŒƒå›´ä¸­çš„ç›¸å¯¹é¡ºåº</td><td>æŒ‰æºèŒƒå›´é¡ºåºå¤åˆ¶</td></tr></tbody></table><h4 id="æ€§èƒ½å¯¹æ¯”"><a class="markdownIt-Anchor" href="#æ€§èƒ½å¯¹æ¯”"></a> æ€§èƒ½å¯¹æ¯”</h4><ul><li><strong><code>std::copy_if</code></strong>ï¼šéœ€å¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œè°“è¯åˆ¤æ–­ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º <strong>O(N)</strong>ï¼ˆN ä¸ºè¾“å…¥èŒƒå›´å¤§å°ï¼‰ï¼Œä½†å®é™…å¤åˆ¶æ¬¡æ•°å¯èƒ½å°äº Nã€‚</li><li><strong><code>std::copy_n</code></strong>ï¼šæ—¶é—´å¤æ‚åº¦ä¸º <strong>O(count)</strong>ï¼Œæ— é¢å¤–åˆ¤æ–­å¼€é”€ï¼Œé€‚åˆå·²çŸ¥å¤åˆ¶æ•°é‡çš„åœºæ™¯ã€‚</li></ul><blockquote><p><strong>ä¼˜åŒ–æç¤º</strong>ï¼šå½“æºè¿­ä»£å™¨ä¸º <code>LegacyContiguousIterator</code>ï¼ˆå¦‚ <code>std::vector::iterator</code>ï¼‰ä¸”å…ƒç´ ç±»å‹ä¸º <code>TriviallyCopyable</code> æ—¶ï¼Œç¼–è¯‘å™¨å¯èƒ½å°† <code>std::copy_n</code> ä¼˜åŒ–ä¸º <code>memmove</code>ï¼Œå¤§å¹…æå‡æ€§èƒ½ã€‚</p></blockquote><h4 id="å…¸å‹åº”ç”¨åœºæ™¯"><a class="markdownIt-Anchor" href="#å…¸å‹åº”ç”¨åœºæ™¯"></a> å…¸å‹åº”ç”¨åœºæ™¯</h4><h5 id="stdcopy_if-é€‚ç”¨åœºæ™¯"><a class="markdownIt-Anchor" href="#stdcopy_if-é€‚ç”¨åœºæ™¯"></a> <code>std::copy_if</code> é€‚ç”¨åœºæ™¯</h5><ul><li><strong>æ•°æ®è¿‡æ»¤</strong>ï¼šä»å®¹å™¨ä¸­æå–æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„å…ƒç´ ï¼ˆå¦‚ç­›é€‰æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯ï¼‰ã€‚</li><li><strong>æ•°æ®æ¸…æ´—</strong>ï¼šç§»é™¤æ— æ•ˆæ•°æ®ï¼ˆå¦‚ç©ºå­—ç¬¦ä¸²ã€è´Ÿæ•°ç­‰ï¼‰ã€‚</li><li><strong>æ¡ä»¶è½¬æ¢</strong>ï¼šç»“åˆ <code>std::back_inserter</code> åŠ¨æ€æ„å»ºæ–°å®¹å™¨ã€‚</li></ul><h5 id="stdcopy_n-é€‚ç”¨åœºæ™¯"><a class="markdownIt-Anchor" href="#stdcopy_n-é€‚ç”¨åœºæ™¯"></a> <code>std::copy_n</code> é€‚ç”¨åœºæ™¯</h5><ul><li><strong>æ‰¹é‡æ•°æ®å¤„ç†</strong>ï¼šè¯»å–å›ºå®šå¤§å°çš„æ•°æ®åŒ…ï¼ˆå¦‚ç½‘ç»œé€šä¿¡ä¸­çš„æŠ¥æ–‡å¤´ï¼‰ã€‚</li><li><strong>æˆªæ–­/æˆªå–</strong>ï¼šè·å–å®¹å™¨çš„å‰ N ä¸ªå…ƒç´ ï¼ˆå¦‚åˆ†é¡µæ˜¾ç¤ºå‰ 10 æ¡è®°å½•ï¼‰ã€‚</li><li><strong>å®šé•¿ç¼“å†²åŒºå¡«å……</strong>ï¼šå‘å›ºå®šå¤§å°çš„æ•°ç»„ä¸­å¤åˆ¶æ•°æ®ã€‚</li></ul><h3 id="æœ€ä½³å®è·µä¸å¸¸è§é™·é˜±"><a class="markdownIt-Anchor" href="#æœ€ä½³å®è·µä¸å¸¸è§é™·é˜±"></a> æœ€ä½³å®è·µä¸å¸¸è§é™·é˜±</h3><h4 id="1-é¿å…ç›®æ ‡å®¹å™¨ç©ºé—´ä¸è¶³"><a class="markdownIt-Anchor" href="#1-é¿å…ç›®æ ‡å®¹å™¨ç©ºé—´ä¸è¶³"></a> 1. é¿å…ç›®æ ‡å®¹å™¨ç©ºé—´ä¸è¶³</h4><p><strong>é—®é¢˜</strong>ï¼šä½¿ç”¨ <code>std::copy_n</code> æ—¶ï¼Œè‹¥ç›®æ ‡å®¹å™¨å¤§å°å°äº <code>count</code>ï¼Œä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚<br /><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šæå‰ç¡®ä¿ç›®æ ‡å®¹å™¨æœ‰è¶³å¤Ÿç©ºé—´ï¼Œæˆ–ä½¿ç”¨ <code>std::back_inserter</code> è‡ªåŠ¨æ‰©å®¹ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ç¤ºä¾‹ï¼šç›®æ ‡å®¹å™¨å¤§å°ä¸è¶³</span></span><br><span class="line"><span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">dest</span><span class="params">(<span class="number">3</span>)</span></span>;</span><br><span class="line">std::<span class="built_in">copy_n</span>(src.<span class="built_in">begin</span>(), <span class="number">5</span>, dest.<span class="built_in">begin</span>()); <span class="comment">// ç¼“å†²åŒºæº¢å‡ºï¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡®ç¤ºä¾‹ï¼šä½¿ç”¨ back_inserter</span></span><br><span class="line">std::vector&lt;<span class="type">int</span>&gt; dest;</span><br><span class="line">std::<span class="built_in">copy_n</span>(src.<span class="built_in">begin</span>(), <span class="number">5</span>, std::<span class="built_in">back_inserter</span>(dest)); <span class="comment">// è‡ªåŠ¨æ‰©å®¹</span></span><br></pre></td></tr></table></figure><h4 id="2-è°“è¯å‡½æ•°çš„è®¾è®¡"><a class="markdownIt-Anchor" href="#2-è°“è¯å‡½æ•°çš„è®¾è®¡"></a> 2. è°“è¯å‡½æ•°çš„è®¾è®¡</h4><p><strong>é—®é¢˜</strong>ï¼šè°“è¯å‡½æ•°ä¿®æ”¹è¾“å…¥å…ƒç´ æˆ–æœ‰å‰¯ä½œç”¨ã€‚<br /><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šç¡®ä¿è°“è¯ä¸ºçº¯å‡½æ•°ï¼Œä»…ä¾èµ–è¾“å…¥å‚æ•°ä¸”æ— å‰¯ä½œç”¨ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ç¤ºä¾‹ï¼šè°“è¯ä¿®æ”¹è¾“å…¥å…ƒç´ </span></span><br><span class="line">std::<span class="built_in">copy_if</span>(src.<span class="built_in">begin</span>(), src.<span class="built_in">end</span>(), dest.<span class="built_in">begin</span>(),</span><br><span class="line">             [](<span class="type">int</span>&amp; x) &#123; <span class="keyword">return</span> x++ &gt; <span class="number">5</span>; &#125;); <span class="comment">// ä¿®æ”¹äº† x</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡®ç¤ºä¾‹ï¼šçº¯å‡½æ•°è°“è¯</span></span><br><span class="line">std::<span class="built_in">copy_if</span>(src.<span class="built_in">begin</span>(), src.<span class="built_in">end</span>(), dest.<span class="built_in">begin</span>(),</span><br><span class="line">             [](<span class="type">int</span> x) &#123; <span class="keyword">return</span> x &gt; <span class="number">5</span>; &#125;); <span class="comment">// ä»…è¯»å– x</span></span><br></pre></td></tr></table></figure><h4 id="3-å¤„ç†é‡å èŒƒå›´"><a class="markdownIt-Anchor" href="#3-å¤„ç†é‡å èŒƒå›´"></a> 3. å¤„ç†é‡å èŒƒå›´</h4><p><strong>é—®é¢˜</strong>ï¼šæºèŒƒå›´ä¸ç›®æ ‡èŒƒå›´é‡å æ—¶ä½¿ç”¨ <code>std::copy_if</code> æˆ– <code>std::copy_n</code>ã€‚<br /><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šè‹¥éœ€å¤åˆ¶åˆ°å³ä¾§é‡å åŒºåŸŸï¼Œä½¿ç”¨ <code>std::copy_backward</code>ï¼›è‹¥éœ€æ¡ä»¶å¤åˆ¶ï¼Œæ‰‹åŠ¨å®ç°å®‰å…¨é€»è¾‘ã€‚</p><h4 id="4-ä¸å…¶ä»–ç®—æ³•çš„é…åˆ"><a class="markdownIt-Anchor" href="#4-ä¸å…¶ä»–ç®—æ³•çš„é…åˆ"></a> 4. ä¸å…¶ä»–ç®—æ³•çš„é…åˆ</h4><p>ç»“åˆ <code>std::distance</code> å’Œ <code>std::copy_n</code> å¯å®ç°åŠ¨æ€æ•°é‡å¤åˆ¶ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¤åˆ¶ä¸¤ä¸ªè¿­ä»£å™¨ä¹‹é—´çš„å…ƒç´ ï¼ˆç­‰ä»·äº std::copyï¼‰</span></span><br><span class="line"><span class="keyword">auto</span> n = std::<span class="built_in">distance</span>(first, last);</span><br><span class="line">std::<span class="built_in">copy_n</span>(first, n, result);</span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h3><p><code>std::copy_if</code> å’Œ <code>std::copy_n</code> ä½œä¸º C++11 å¼•å…¥çš„ç®—æ³•ï¼Œä¸ºå…ƒç´ å¤åˆ¶æä¾›äº†æ›´çµæ´»çš„é€‰æ‹©ã€‚å‰è€…æ“…é•¿<strong>æ¡ä»¶ç­›é€‰</strong>ï¼Œåè€…ä¸“æ³¨<strong>å›ºå®šæ•°é‡å¤åˆ¶</strong>ï¼ŒäºŒè€…ç›¸è¾…ç›¸æˆï¼Œå¯å¤§å¹…ç®€åŒ–ä»£ç å¹¶æå‡å¯è¯»æ€§ã€‚å®é™…ä½¿ç”¨ä¸­ï¼Œéœ€æ³¨æ„ç›®æ ‡å®¹å™¨ç©ºé—´ã€è¿­ä»£å™¨ç±»å‹åŠèŒƒå›´é‡å ç­‰é—®é¢˜ï¼Œç»“åˆå…·ä½“åœºæ™¯é€‰æ‹©åˆé€‚çš„ç®—æ³•ã€‚</p><p>ç°ä»£ C++ å€¡å¯¼ä½¿ç”¨æ ‡å‡†ç®—æ³•è€Œéæ‰‹åŠ¨å¾ªç¯ï¼Œè¿™ä¸ä»…èƒ½å‡å°‘é”™è¯¯ï¼Œè¿˜èƒ½è®©ä»£ç æ›´å…·è¡¨è¾¾åŠ›ã€‚æŒæ¡è¿™äº›ç®—æ³•çš„ç»†èŠ‚ï¼Œå°†æœ‰åŠ©äºå†™å‡ºæ›´é«˜æ•ˆã€æ›´ä¼˜é›…çš„ C++ ä»£ç ã€‚</p><h3 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h3><ol><li><a href="https://en.cppreference.com/w/cpp/algorithm/copy">cppreference.com - std::copy_if</a></li><li><a href="https://en.cppreference.com/w/cpp/algorithm/copy_n">cppreference.com - std::copy_n</a></li><li>ISO/IEC 14882:2011 (C++11 Standard), Â§ 25.3.1]</li></ol>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ubuntuã€‘æŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µï¼Œä»¥åŠç³»ç»Ÿè¯¦æƒ…</title>
      <link href="/2025/07/11/Ubuntu/%E3%80%90ubuntu%E3%80%91%E6%9F%A5%E7%9C%8B%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8%E6%83%85%E5%86%B5%EF%BC%8C%E4%BB%A5%E5%8F%8A%E7%B3%BB%E7%BB%9F%E8%AF%A6%E6%83%85/"/>
      <url>/2025/07/11/Ubuntu/%E3%80%90ubuntu%E3%80%91%E6%9F%A5%E7%9C%8B%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8%E6%83%85%E5%86%B5%EF%BC%8C%E4%BB%A5%E5%8F%8A%E7%B3%BB%E7%BB%9F%E8%AF%A6%E6%83%85/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-ubuntu-æŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µ"><a class="markdownIt-Anchor" href="#ä¸€-ubuntu-æŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µ"></a> ä¸€ã€ubuntu æŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µ</h2><p>åœ¨Ubuntu ç³»ç»Ÿä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‡ ç§æ–¹æ³•æ¥æŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µä»¥åŠæ£€æŸ¥æŒ‡å®šç«¯å£æ˜¯å¦è¢«å ç”¨ï¼š</p><h4 id="æ–¹æ³•-1ä½¿ç”¨-netstat-å‘½ä»¤ä¼ ç»Ÿæ–¹å¼"><a class="markdownIt-Anchor" href="#æ–¹æ³•-1ä½¿ç”¨-netstat-å‘½ä»¤ä¼ ç»Ÿæ–¹å¼"></a> æ–¹æ³• 1ï¼šä½¿ç”¨ <code>netstat</code> å‘½ä»¤ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰ç«¯å£å ç”¨æƒ…å†µ</span></span><br><span class="line">sudo netstat -tulnp</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æŒ‡å®šç«¯å£æ˜¯å¦è¢«å ç”¨ï¼ˆä¾‹å¦‚æ£€æŸ¥ 80, 443, 3306 ç«¯å£ï¼‰</span></span><br><span class="line">sudo netstat -tulnp | grep -E <span class="string">&#x27;:(80|443|3306)\s&#x27;</span></span><br></pre></td></tr></table></figure><p>é€‰é¡¹è¯´æ˜ï¼š</p><ul><li><code>-t</code>ï¼šæ˜¾ç¤º TCP ç«¯å£</li><li><code>-u</code>ï¼šæ˜¾ç¤º UDP ç«¯å£</li><li><code>-l</code>ï¼šä»…æ˜¾ç¤ºç›‘å¬ä¸­çš„ç«¯å£</li><li><code>-n</code>ï¼šä»¥æ•°å­—å½¢å¼æ˜¾ç¤ºåœ°å€å’Œç«¯å£</li><li><code>-p</code>ï¼šæ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯</li></ul><h4 id="æ–¹æ³•-2ä½¿ç”¨-ss-å‘½ä»¤æ›´ç°ä»£çš„æ›¿ä»£æ–¹æ¡ˆ"><a class="markdownIt-Anchor" href="#æ–¹æ³•-2ä½¿ç”¨-ss-å‘½ä»¤æ›´ç°ä»£çš„æ›¿ä»£æ–¹æ¡ˆ"></a> æ–¹æ³• 2ï¼šä½¿ç”¨ <code>ss</code> å‘½ä»¤ï¼ˆæ›´ç°ä»£çš„æ›¿ä»£æ–¹æ¡ˆï¼‰</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰ç«¯å£å ç”¨æƒ…å†µ</span></span><br><span class="line">sudo ss -tulnp</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥æŒ‡å®šç«¯å£æ˜¯å¦è¢«å ç”¨ï¼ˆä¾‹å¦‚ 80, 443, 3306ï¼‰</span></span><br><span class="line">sudo ss -tulnp | grep -E <span class="string">&#x27;:(80|443|3306)\s&#x27;</span></span><br></pre></td></tr></table></figure><p><code>ss</code> å‘½ä»¤æ¯” <code>netstat</code> æ›´å¿«ï¼Œæ˜¯æ¨èçš„ç°ä»£æ›¿ä»£æ–¹æ¡ˆã€‚</p><h4 id="æ–¹æ³•-3ä½¿ç”¨-lsof-å‘½ä»¤"><a class="markdownIt-Anchor" href="#æ–¹æ³•-3ä½¿ç”¨-lsof-å‘½ä»¤"></a> æ–¹æ³• 3ï¼šä½¿ç”¨ <code>lsof</code> å‘½ä»¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰ç«¯å£å ç”¨</span></span><br><span class="line">sudo lsof -i -P -n</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥æŒ‡å®šç«¯å£ï¼ˆä¾‹å¦‚ 80, 443, 3306ï¼‰</span></span><br><span class="line">sudo lsof -i :80,443,3306</span><br></pre></td></tr></table></figure><h4 id="æ–¹æ³•-4å¿«é€Ÿæ£€æŸ¥å•ä¸ªç«¯å£æ˜¯å¦è¢«å ç”¨"><a class="markdownIt-Anchor" href="#æ–¹æ³•-4å¿«é€Ÿæ£€æŸ¥å•ä¸ªç«¯å£æ˜¯å¦è¢«å ç”¨"></a> æ–¹æ³• 4ï¼šå¿«é€Ÿæ£€æŸ¥å•ä¸ªç«¯å£æ˜¯å¦è¢«å ç”¨</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥å•ä¸ªç«¯å£ï¼ˆä¾‹å¦‚ 8080ï¼‰</span></span><br><span class="line">sudo lsof -i :8080</span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line">sudo netstat -tulnp | grep :8080</span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line">sudo ss -tulnp | grep :8080</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœç«¯å£æœªè¢«å ç”¨ï¼Œè¿™äº›å‘½ä»¤ä¸ä¼šæœ‰è¾“å‡º</span></span><br></pre></td></tr></table></figure><h4 id="æ–¹æ³•-5ä½¿ç”¨-telnet-æˆ–-nc-æµ‹è¯•ç«¯å£è¿æ¥æ€§"><a class="markdownIt-Anchor" href="#æ–¹æ³•-5ä½¿ç”¨-telnet-æˆ–-nc-æµ‹è¯•ç«¯å£è¿æ¥æ€§"></a> æ–¹æ³• 5ï¼šä½¿ç”¨ <code>telnet</code> æˆ– <code>nc</code> æµ‹è¯•ç«¯å£è¿æ¥æ€§</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥æœ¬åœ°ç«¯å£ï¼ˆä¾‹å¦‚ 3306ï¼‰</span></span><br><span class="line">telnet 127.0.0.1 3306</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–ä½¿ç”¨ nc</span></span><br><span class="line">nc -zv 127.0.0.1 3306</span><br></pre></td></tr></table></figure><h4 id="æ£€æŸ¥å¤šä¸ªæŒ‡å®šç«¯å£çš„è„šæœ¬ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#æ£€æŸ¥å¤šä¸ªæŒ‡å®šç«¯å£çš„è„šæœ¬ç¤ºä¾‹"></a> æ£€æŸ¥å¤šä¸ªæŒ‡å®šç«¯å£çš„è„šæœ¬ç¤ºä¾‹</h4><p>å¦‚æœä½ æƒ³ä¸€æ¬¡æ€§æ£€æŸ¥å¤šä¸ªç«¯å£æ˜¯å¦è¢«å ç”¨ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªè„šæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">ports=(80 443 3306 8080 8000)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> port <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$&#123;ports[@]&#125;</span>&quot;</span>; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> -n <span class="string">&quot;Checking port <span class="variable">$port</span>... &quot;</span></span><br><span class="line">    <span class="keyword">if</span> sudo lsof -i :<span class="variable">$port</span> &gt; /dev/null 2&gt;&amp;1; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[31må ç”¨\e[0m&quot;</span></span><br><span class="line">        sudo lsof -i :<span class="variable">$port</span> | <span class="built_in">head</span> -n 2</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[32mç©ºé—²\e[0m&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><p>å°†ä¸Šè¿°è„šæœ¬ä¿å­˜ä¸º <code>check_ports.sh</code>ï¼Œç„¶åè¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x check_ports.sh</span><br><span class="line">./check_ports.sh</span><br></pre></td></tr></table></figure><h4 id="æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#æ³¨æ„äº‹é¡¹"></a> æ³¨æ„äº‹é¡¹</h4><ol><li>æŸ¥çœ‹ç«¯å£å ç”¨é€šå¸¸éœ€è¦ <code>sudo</code> æƒé™æ‰èƒ½çœ‹åˆ°æ‰€æœ‰ä¿¡æ¯</li><li>å¦‚æœç«¯å£è¢«å ç”¨ï¼Œå‘½ä»¤ä¼šæ˜¾ç¤ºå ç”¨è¯¥ç«¯å£çš„è¿›ç¨‹ä¿¡æ¯</li><li>æ²¡æœ‰è¾“å‡ºé€šå¸¸è¡¨ç¤ºç«¯å£æœªè¢«å ç”¨</li><li>å¯¹äº Docker å®¹å™¨ä½¿ç”¨çš„ç«¯å£ï¼Œä¹Ÿéœ€è¦ç”¨ä¸Šè¿°æ–¹æ³•æ£€æŸ¥</li></ol><p>è¿™äº›æ–¹æ³•å¯ä»¥å¸®åŠ©ä½ å…¨é¢äº†è§£ Ubuntu ç³»ç»Ÿä¸­çš„ç«¯å£å ç”¨æƒ…å†µï¼Œå¹¶å¿«é€Ÿæ£€æŸ¥ç‰¹å®šç«¯å£æ˜¯å¦å¯ç”¨ã€‚</p><h2 id="äºŒ-ubuntu-ç³»ç»Ÿä¿¡æ¯æŸ¥çœ‹å‘½ä»¤å¤§å…¨"><a class="markdownIt-Anchor" href="#äºŒ-ubuntu-ç³»ç»Ÿä¿¡æ¯æŸ¥çœ‹å‘½ä»¤å¤§å…¨"></a> äºŒã€Ubuntu ç³»ç»Ÿä¿¡æ¯æŸ¥çœ‹å‘½ä»¤å¤§å…¨</h2><h3 id="1-æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬ä¿¡æ¯"><a class="markdownIt-Anchor" href="#1-æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬ä¿¡æ¯"></a> 1. æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬ä¿¡æ¯</h3><h4 id="æŸ¥çœ‹-ubuntu-ç‰ˆæœ¬"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹-ubuntu-ç‰ˆæœ¬"></a> æŸ¥çœ‹ Ubuntu ç‰ˆæœ¬</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsb_release -a</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">No LSB modules are available.</span><br><span class="line">Distributor ID: Ubuntu</span><br><span class="line">Description:    Ubuntu 22.04.3 LTS</span><br><span class="line">Release:        22.04</span><br><span class="line">Codename:       jammy</span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬"></a> æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">uname</span> -a</span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line"><span class="built_in">cat</span> /proc/version</span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹ç³»ç»Ÿæ¶æ„"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹ç³»ç»Ÿæ¶æ„"></a> æŸ¥çœ‹ç³»ç»Ÿæ¶æ„</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">arch</span></span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line"><span class="built_in">uname</span> -m</span><br></pre></td></tr></table></figure><h3 id="2-æŸ¥çœ‹å†…å­˜ä¿¡æ¯"><a class="markdownIt-Anchor" href="#2-æŸ¥çœ‹å†…å­˜ä¿¡æ¯"></a> 2. æŸ¥çœ‹å†…å­˜ä¿¡æ¯</h3><h4 id="æŸ¥çœ‹å†…å­˜æ€»é‡å’Œä½¿ç”¨æƒ…å†µ"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹å†…å­˜æ€»é‡å’Œä½¿ç”¨æƒ…å†µ"></a> æŸ¥çœ‹å†…å­˜æ€»é‡å’Œä½¿ç”¨æƒ…å†µ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">free -h</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">              total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:           15Gi       3.2Gi       8.4Gi       1.2Gi       3.4Gi        10Gi</span><br><span class="line">Swap:         2.0Gi       0.0Ki       2.0Gi</span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹è¯¦ç»†å†…å­˜ä¿¡æ¯"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹è¯¦ç»†å†…å­˜ä¿¡æ¯"></a> æŸ¥çœ‹è¯¦ç»†å†…å­˜ä¿¡æ¯</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /proc/meminfo</span><br></pre></td></tr></table></figure><h4 id="ç›‘æ§å†…å­˜ä½¿ç”¨åŠ¨æ€"><a class="markdownIt-Anchor" href="#ç›‘æ§å†…å­˜ä½¿ç”¨åŠ¨æ€"></a> ç›‘æ§å†…å­˜ä½¿ç”¨ï¼ˆåŠ¨æ€ï¼‰</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">top</span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line">htop  <span class="comment"># éœ€è¦å®‰è£…ï¼šsudo apt install htop</span></span><br></pre></td></tr></table></figure><h3 id="3-æŸ¥çœ‹ç¡¬ç›˜ä¿¡æ¯"><a class="markdownIt-Anchor" href="#3-æŸ¥çœ‹ç¡¬ç›˜ä¿¡æ¯"></a> 3. æŸ¥çœ‹ç¡¬ç›˜ä¿¡æ¯</h3><h4 id="æŸ¥çœ‹ç£ç›˜åˆ†åŒºå’ŒæŒ‚è½½æƒ…å†µ"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹ç£ç›˜åˆ†åŒºå’ŒæŒ‚è½½æƒ…å†µ"></a> æŸ¥çœ‹ç£ç›˜åˆ†åŒºå’ŒæŒ‚è½½æƒ…å†µ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">df</span> -h</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/nvme0n1p2  457G  123G  311G  29% /</span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹æ‰€æœ‰ç£ç›˜è®¾å¤‡"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹æ‰€æœ‰ç£ç›˜è®¾å¤‡"></a> æŸ¥çœ‹æ‰€æœ‰ç£ç›˜è®¾å¤‡</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lsblk</span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line">sudo fdisk -l</span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹ç£ç›˜ioæƒ…å†µ"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹ç£ç›˜ioæƒ…å†µ"></a> æŸ¥çœ‹ç£ç›˜IOæƒ…å†µ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iostat -x 1</span><br><span class="line"><span class="comment"># æˆ–å®‰è£…</span></span><br><span class="line">sudo apt install sysstat</span><br></pre></td></tr></table></figure><h3 id="4-æŸ¥çœ‹cpuä¿¡æ¯"><a class="markdownIt-Anchor" href="#4-æŸ¥çœ‹cpuä¿¡æ¯"></a> 4. æŸ¥çœ‹CPUä¿¡æ¯</h3><h4 id="æŸ¥çœ‹cpuå‹å·å’Œæ ¸å¿ƒæ•°"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹cpuå‹å·å’Œæ ¸å¿ƒæ•°"></a> æŸ¥çœ‹CPUå‹å·å’Œæ ¸å¿ƒæ•°</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lscpu</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Architecture:            x86_64</span><br><span class="line">CPU op-mode(s):        32-bit, 64-bit</span><br><span class="line">CPU(s):                16</span><br><span class="line">Model name:            Intel(R) Core(TM) i9-9900K CPU @ 3.60GHz</span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹cpuä½¿ç”¨ç‡"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹cpuä½¿ç”¨ç‡"></a> æŸ¥çœ‹CPUä½¿ç”¨ç‡</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">top</span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line">mpstat -P ALL 1</span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹cpuæ¸©åº¦éœ€è¦å®‰è£…lm-sensors"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹cpuæ¸©åº¦éœ€è¦å®‰è£…lm-sensors"></a> æŸ¥çœ‹CPUæ¸©åº¦ï¼ˆéœ€è¦å®‰è£…lm-sensorsï¼‰</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install lm-sensors</span><br><span class="line">sudo sensors-detect</span><br><span class="line">sensors</span><br></pre></td></tr></table></figure><h3 id="5-æŸ¥çœ‹ç»¼åˆç³»ç»Ÿä¿¡æ¯"><a class="markdownIt-Anchor" href="#5-æŸ¥çœ‹ç»¼åˆç³»ç»Ÿä¿¡æ¯"></a> 5. æŸ¥çœ‹ç»¼åˆç³»ç»Ÿä¿¡æ¯</h3><h4 id="ä½¿ç”¨neofetchéœ€è¦å®‰è£…"><a class="markdownIt-Anchor" href="#ä½¿ç”¨neofetchéœ€è¦å®‰è£…"></a> ä½¿ç”¨neofetchï¼ˆéœ€è¦å®‰è£…ï¼‰</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install neofetch</span><br><span class="line">neofetch</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨inxiå·¥å…·éœ€è¦å®‰è£…"><a class="markdownIt-Anchor" href="#ä½¿ç”¨inxiå·¥å…·éœ€è¦å®‰è£…"></a> ä½¿ç”¨inxiå·¥å…·ï¼ˆéœ€è¦å®‰è£…ï¼‰</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install inxi</span><br><span class="line">inxi -Fxz</span><br></pre></td></tr></table></figure><h3 id="6-æŸ¥çœ‹gpuä¿¡æ¯"><a class="markdownIt-Anchor" href="#6-æŸ¥çœ‹gpuä¿¡æ¯"></a> 6. æŸ¥çœ‹GPUä¿¡æ¯</h3><h4 id="nvidiaæ˜¾å¡"><a class="markdownIt-Anchor" href="#nvidiaæ˜¾å¡"></a> NVIDIAæ˜¾å¡</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nvidia-smi</span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line">lspci | grep -i nvidia</span><br></pre></td></tr></table></figure><h4 id="amdintelæ˜¾å¡"><a class="markdownIt-Anchor" href="#amdintelæ˜¾å¡"></a> AMD/Intelæ˜¾å¡</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lspci | grep -i vga</span><br><span class="line">glxinfo | grep <span class="string">&quot;OpenGL renderer&quot;</span></span><br></pre></td></tr></table></figure><h3 id="7-æŸ¥çœ‹ç½‘ç»œä¿¡æ¯"><a class="markdownIt-Anchor" href="#7-æŸ¥çœ‹ç½‘ç»œä¿¡æ¯"></a> 7. æŸ¥çœ‹ç½‘ç»œä¿¡æ¯</h3><h4 id="æŸ¥çœ‹ipåœ°å€"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹ipåœ°å€"></a> æŸ¥çœ‹IPåœ°å€</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ip a</span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line">hostname -I</span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹ç½‘ç»œæ¥å£"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹ç½‘ç»œæ¥å£"></a> æŸ¥çœ‹ç½‘ç»œæ¥å£</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ifconfig</span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line">ip <span class="built_in">link</span> show</span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹è·¯ç”±è¡¨"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹è·¯ç”±è¡¨"></a> æŸ¥çœ‹è·¯ç”±è¡¨</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ip route</span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line">route -n</span><br></pre></td></tr></table></figure><h3 id="8-æŸ¥çœ‹ç³»ç»Ÿè¿è¡Œæ—¶é—´"><a class="markdownIt-Anchor" href="#8-æŸ¥çœ‹ç³»ç»Ÿè¿è¡Œæ—¶é—´"></a> 8. æŸ¥çœ‹ç³»ç»Ÿè¿è¡Œæ—¶é—´</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">uptime</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">14:30:45 up 5 days,  2:15,  3 <span class="built_in">users</span>,  load average: 0.08, 0.03, 0.01</span><br></pre></td></tr></table></figure><h3 id="9-æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—"><a class="markdownIt-Anchor" href="#9-æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—"></a> 9. æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—</h3><h4 id="æŸ¥çœ‹å†…æ ¸æ—¥å¿—"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹å†…æ ¸æ—¥å¿—"></a> æŸ¥çœ‹å†…æ ¸æ—¥å¿—</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dmesg</span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹ç³»ç»ŸæœåŠ¡æ—¥å¿—"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹ç³»ç»ŸæœåŠ¡æ—¥å¿—"></a> æŸ¥çœ‹ç³»ç»ŸæœåŠ¡æ—¥å¿—</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">journalctl -xe</span><br></pre></td></tr></table></figure><h3 id="10-å¸¸ç”¨ç»„åˆå‘½ä»¤"><a class="markdownIt-Anchor" href="#10-å¸¸ç”¨ç»„åˆå‘½ä»¤"></a> 10. å¸¸ç”¨ç»„åˆå‘½ä»¤</h3><h4 id="ä¸€é”®æŸ¥çœ‹ä¸»è¦ç³»ç»Ÿä¿¡æ¯"><a class="markdownIt-Anchor" href="#ä¸€é”®æŸ¥çœ‹ä¸»è¦ç³»ç»Ÿä¿¡æ¯"></a> ä¸€é”®æŸ¥çœ‹ä¸»è¦ç³»ç»Ÿä¿¡æ¯</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\n===== ç³»ç»Ÿç‰ˆæœ¬ =====&quot;</span> &amp;&amp; lsb_release -a &amp;&amp; \</span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\n===== å†…å­˜ä¿¡æ¯ =====&quot;</span> &amp;&amp; free -h &amp;&amp; \</span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\n===== ç£ç›˜ä¿¡æ¯ =====&quot;</span> &amp;&amp; <span class="built_in">df</span> -h &amp;&amp; \</span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\n===== CPUä¿¡æ¯ =====&quot;</span> &amp;&amp; lscpu | grep -E <span class="string">&quot;Model name|CPU\(s\)&quot;</span> &amp;&amp; \</span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\n===== è¿è¡Œæ—¶é—´ =====&quot;</span> &amp;&amp; <span class="built_in">uptime</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå‘½ä»¤å¯ä»¥å¸®åŠ©æ‚¨å…¨é¢äº†è§£Ubuntuç³»ç»Ÿçš„ç¡¬ä»¶é…ç½®å’Œè¿è¡ŒçŠ¶æ€ã€‚æ ¹æ®æ‚¨çš„å…·ä½“éœ€æ±‚é€‰æ‹©é€‚åˆçš„å‘½ä»¤å³å¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vectorçš„è¯¦ç»†è®²è§£</title>
      <link href="/2025/07/11/C/vector%E7%9A%84%E8%AF%A6%E7%BB%86%E8%AE%B2%E8%A7%A3/"/>
      <url>/2025/07/11/C/vector%E7%9A%84%E8%AF%A6%E7%BB%86%E8%AE%B2%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<h2 id="1vectorçš„ä»‹ç»åŠä½¿ç”¨"><a class="markdownIt-Anchor" href="#1vectorçš„ä»‹ç»åŠä½¿ç”¨"></a> <strong>1.vectorçš„ä»‹ç»åŠä½¿ç”¨</strong></h2><h3 id="11-vectorçš„ä»‹ç»"><a class="markdownIt-Anchor" href="#11-vectorçš„ä»‹ç»"></a> <strong>1.1 vectorçš„ä»‹ç»</strong></h3><p>1. vector æ˜¯è¡¨ç¤ºå¯å˜å¤§å°æ•°ç»„çš„åºåˆ—å®¹å™¨ã€‚</p><p>2. å°±åƒæ•°ç»„ä¸€æ ·ï¼Œ vector ä¹Ÿé‡‡ç”¨çš„è¿ç»­å­˜å‚¨ç©ºé—´æ¥å­˜å‚¨å…ƒç´ ã€‚ä¹Ÿå°±æ˜¯æ„å‘³ç€å¯ä»¥é‡‡ç”¨ä¸‹æ ‡å¯¹ vector çš„å…ƒç´  è¿›è¡Œè®¿é—®ï¼Œå’Œæ•°ç»„ä¸€æ ·é«˜æ•ˆã€‚ä½†æ˜¯åˆä¸åƒæ•°ç»„ï¼Œå®ƒçš„å¤§å°æ˜¯å¯ä»¥åŠ¨æ€æ”¹å˜çš„ï¼Œè€Œä¸”å®ƒçš„å¤§å°ä¼šè¢«å®¹å™¨è‡ª åŠ¨å¤„ç†ã€‚</p><p>3. æœ¬è´¨è®²ï¼Œ vector ä½¿ç”¨åŠ¨æ€åˆ†é…æ•°ç»„æ¥å­˜å‚¨å®ƒçš„å…ƒç´ ã€‚å½“æ–°å…ƒç´ æ’å…¥æ—¶å€™ï¼Œè¿™ä¸ªæ•°ç»„éœ€è¦è¢«é‡æ–°åˆ†é…å¤§å° ä¸ºäº†å¢åŠ å­˜å‚¨ç©ºé—´ã€‚å…¶åšæ³•æ˜¯ï¼Œåˆ†é…ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œç„¶åå°†å…¨éƒ¨å…ƒç´ ç§»åˆ°è¿™ä¸ªæ•°ç»„ã€‚å°±æ—¶é—´è€Œè¨€ï¼Œè¿™æ˜¯ ä¸€ä¸ªç›¸å¯¹ä»£ä»·é«˜çš„ä»»åŠ¡ï¼Œå› ä¸ºæ¯å½“ä¸€ä¸ªæ–°çš„å…ƒç´ åŠ å…¥åˆ°å®¹å™¨çš„æ—¶å€™ï¼Œvector å¹¶ä¸ä¼šæ¯æ¬¡éƒ½é‡æ–°åˆ†é…å¤§ å°ã€‚</p><p>4. vector åˆ†é…ç©ºé—´ç­–ç•¥ï¼š vector ä¼šåˆ†é…ä¸€äº›é¢å¤–çš„ç©ºé—´ä»¥é€‚åº”å¯èƒ½çš„å¢é•¿ï¼Œå› ä¸ºå­˜å‚¨ç©ºé—´æ¯”å®é™…éœ€è¦çš„å­˜ å‚¨ç©ºé—´æ›´å¤§ã€‚ä¸åŒçš„åº“é‡‡ç”¨ä¸åŒçš„ç­–ç•¥æƒè¡¡ç©ºé—´çš„ä½¿ç”¨å’Œé‡æ–°åˆ†é…ã€‚ä½†æ˜¯æ— è®ºå¦‚ä½•ï¼Œé‡æ–°åˆ†é…éƒ½åº”è¯¥æ˜¯ å¯¹æ•°å¢é•¿çš„é—´éš”å¤§å°ï¼Œä»¥è‡³äºåœ¨æœ«å°¾æ’å…¥ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™æ˜¯åœ¨å¸¸æ•°æ—¶é—´çš„å¤æ‚åº¦å®Œæˆçš„ã€‚</p><p>5. å› æ­¤ï¼Œ vector å ç”¨äº†æ›´å¤šçš„å­˜å‚¨ç©ºé—´ï¼Œä¸ºäº†è·å¾—ç®¡ç†å­˜å‚¨ç©ºé—´çš„èƒ½åŠ›ï¼Œå¹¶ä¸”ä»¥ä¸€ç§æœ‰æ•ˆçš„æ–¹å¼åŠ¨æ€å¢ é•¿ã€‚</p><p>6. ä¸å…¶å®ƒåŠ¨æ€åºåˆ—å®¹å™¨ç›¸æ¯”ï¼ˆ deque, list and forward_list ï¼‰ï¼Œvector åœ¨è®¿é—®å…ƒç´ çš„æ—¶å€™æ›´åŠ é«˜æ•ˆï¼Œåœ¨æœ« å°¾æ·»åŠ å’Œåˆ é™¤å…ƒç´ ç›¸å¯¹é«˜æ•ˆã€‚å¯¹äºå…¶å®ƒä¸åœ¨æœ«å°¾çš„åˆ é™¤å’Œæ’å…¥æ“ä½œï¼Œæ•ˆç‡æ›´ä½ã€‚æ¯”èµ·list å’Œ forward_list ç»Ÿä¸€çš„è¿­ä»£å™¨å’Œå¼•ç”¨æ›´å¥½ã€‚</p><p>ä½¿ç”¨ STL çš„ä¸‰ä¸ªå¢ƒç•Œï¼šèƒ½ç”¨ï¼Œæ˜ç†ï¼Œèƒ½æ‰©å±• ï¼Œé‚£ä¹ˆä¸‹é¢å­¦ä¹  vectorï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯æŒ‰ç…§è¿™ä¸ªæ–¹æ³•å»å­¦ä¹ </p><p>å½“ç„¶ä¹Ÿå¯ä»¥å€ŸåŠ©æ–‡æ¡£æ¥å­¦ä¹ Â <a href="http://www.cplusplus.com/reference/vector/vector/" title="Â http://www.cplusplus.com/reference/vector/vector/">http://www.cplusplus.com/reference/vector/vector/</a></p><h3 id="12-vectorçš„ä½¿ç”¨"><a class="markdownIt-Anchor" href="#12-vectorçš„ä½¿ç”¨"></a> <strong>1.2 vectorçš„ä½¿ç”¨</strong></h3><p>vector å­¦ä¹ æ—¶ä¸€å®šè¦å­¦ä¼šæŸ¥çœ‹æ–‡æ¡£ï¼Œvectoråœ¨å®é™…ä¸­éå¸¸çš„é‡è¦ï¼Œåœ¨å®é™…ä¸­æˆ‘ä»¬ç†Ÿæ‚‰å¸¸</p><p>è§çš„æ¥å£å°±å¯ä»¥ï¼Œä¸‹é¢åˆ—å‡ºäº† <strong>å“ªäº›æ¥å£æ˜¯è¦é‡ç‚¹æŒæ¡çš„</strong> ã€‚</p><h4 id="121-vectorçš„å®šä¹‰"><a class="markdownIt-Anchor" href="#121-vectorçš„å®šä¹‰"></a> <strong>1.2.1 vectorçš„å®šä¹‰</strong></h4><p><img src="53d1d2e536204e609dc694bcb054ce9c.png" alt="" /></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="comment">////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//    vectorçš„æ„é€ </span></span><br><span class="line"><span class="comment">////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">TestVector1</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// constructors used in the same order as described above:</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; first;                                <span class="comment">// empty vector of ints</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">second</span><span class="params">(<span class="number">4</span>, <span class="number">100</span>)</span></span>;                       <span class="comment">// four ints with value 100</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">third</span><span class="params">(second.begin(), second.end())</span></span>;  <span class="comment">// iterating through second</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">fourth</span><span class="params">(third)</span></span>;                       <span class="comment">// a copy of third</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// ä¸‹é¢æ¶‰åŠè¿­ä»£å™¨åˆå§‹åŒ–çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬å­¦ä¹ å®Œè¿­ä»£å™¨å†æ¥çœ‹è¿™éƒ¨åˆ†</span></span><br><span class="line"><span class="comment">// the iterator constructor can also be used to construct from arrays:</span></span><br><span class="line"><span class="type">int</span> myints[] = &#123; <span class="number">16</span>,<span class="number">2</span>,<span class="number">77</span>,<span class="number">29</span> &#125;;</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">fifth</span><span class="params">(myints, myints + <span class="keyword">sizeof</span>(myints) / <span class="keyword">sizeof</span>(<span class="type">int</span>))</span></span>;</span><br><span class="line"> </span><br><span class="line">cout &lt;&lt; <span class="string">&quot;The contents of fifth are:&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> (vector&lt;<span class="type">int</span>&gt;::iterator it = fifth.<span class="built_in">begin</span>(); it != fifth.<span class="built_in">end</span>(); ++it)</span><br><span class="line">cout &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; *it;</span><br><span class="line">cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="122-vector-iteratorçš„ä½¿ç”¨"><a class="markdownIt-Anchor" href="#122-vector-iteratorçš„ä½¿ç”¨"></a> <strong>1.2.2 vector iteratorçš„ä½¿ç”¨</strong></h4><p><img src="cdd7d0cf9f5246c38678b39e9f6b49ac.png" alt="" /></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//  vectorçš„è¿­ä»£å™¨</span></span><br><span class="line"><span class="comment">////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintVector</span><span class="params">(<span class="type">const</span> vector&lt;<span class="type">int</span>&gt;&amp; v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// constå¯¹è±¡ä½¿ç”¨constè¿­ä»£å™¨è¿›è¡Œéå†æ‰“å°</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt;::const_iterator it = v.<span class="built_in">begin</span>();</span><br><span class="line"><span class="keyword">while</span> (it != v.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">++it;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TestVector2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// ä½¿ç”¨push_backæ’å…¥4ä¸ªæ•°æ®</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ä½¿ç”¨è¿­ä»£å™¨è¿›è¡Œéå†æ‰“å°</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>();</span><br><span class="line"><span class="keyword">while</span> (it != v.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">++it;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ä½¿ç”¨è¿­ä»£å™¨è¿›è¡Œä¿®æ”¹</span></span><br><span class="line">it = v.<span class="built_in">begin</span>();</span><br><span class="line"><span class="keyword">while</span> (it != v.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line">*it *= <span class="number">2</span>;</span><br><span class="line">++it;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ä½¿ç”¨åå‘è¿­ä»£å™¨è¿›è¡Œéå†å†æ‰“å°</span></span><br><span class="line"><span class="comment">// vector&lt;int&gt;::reverse_iterator rit = v.rbegin();</span></span><br><span class="line"><span class="keyword">auto</span> rit = v.<span class="built_in">rbegin</span>();</span><br><span class="line"><span class="keyword">while</span> (rit != v.<span class="built_in">rend</span>())</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; *rit &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">++rit;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">PrintVector</span>(v);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="123-vector-ç©ºé—´å¢é•¿é—®é¢˜"><a class="markdownIt-Anchor" href="#123-vector-ç©ºé—´å¢é•¿é—®é¢˜"></a> <strong>1.2.3 vector ç©ºé—´å¢é•¿é—®é¢˜</strong></h4><p><img src="5886f5ee106f481f9754db7d66eb2a51.png" alt="" /></p><p>capacity çš„ä»£ç åœ¨ vs å’Œ g++ ä¸‹åˆ†åˆ«è¿è¡Œä¼šå‘ç°ï¼Œ <strong>vs</strong> <strong>ä¸‹</strong> <strong>capacity</strong> <strong>æ˜¯æŒ‰</strong> <strong>1.5</strong> <strong>å€å¢é•¿çš„ï¼Œ</strong> <strong>g++</strong> <strong>æ˜¯æŒ‰</strong> <strong>2</strong> <strong>å€å¢é•¿çš„</strong> ã€‚ è¿™ä¸ªé—®é¢˜ç»å¸¸ä¼šè€ƒå¯Ÿï¼Œä¸è¦å›ºåŒ–çš„è®¤ä¸ºï¼Œvector å¢å®¹éƒ½æ˜¯ 2 å€ï¼Œå…·ä½“å¢é•¿å¤šå°‘æ˜¯æ ¹æ®å…·ä½“çš„éœ€æ±‚å®šä¹‰ çš„ã€‚vs æ˜¯ PJ ç‰ˆæœ¬ STL ï¼Œ g++ æ˜¯ SGI ç‰ˆæœ¬ STL ã€‚</p><p>reserve åªè´Ÿè´£å¼€è¾Ÿç©ºé—´ï¼Œå¦‚æœç¡®å®šçŸ¥é“éœ€è¦ç”¨å¤šå°‘ç©ºé—´ï¼Œ reserve å¯ä»¥ç¼“è§£ vector å¢å®¹çš„ä»£ä»·ç¼ºé™·é—® é¢˜ã€‚ resizeåœ¨å¼€ç©ºé—´çš„åŒæ—¶è¿˜ä¼šè¿›è¡Œåˆå§‹åŒ–ï¼Œå½±å“ size ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æµ‹è¯•vectorçš„é»˜è®¤æ‰©å®¹æœºåˆ¶</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TestVectorExpand</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">size_t</span> sz;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">sz = v.<span class="built_in">capacity</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;making v grow:\n&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; ++i)</span><br><span class="line">&#123;</span><br><span class="line">v.<span class="built_in">push_back</span>(i);</span><br><span class="line"><span class="keyword">if</span> (sz != v.<span class="built_in">capacity</span>())</span><br><span class="line">&#123;</span><br><span class="line">sz = v.<span class="built_in">capacity</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;capacity changed: &quot;</span> &lt;&lt; sz &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//vsï¼šè¿è¡Œç»“æœï¼švsä¸‹ä½¿ç”¨çš„STLåŸºæœ¬æ˜¯æŒ‰ç…§1.5å€æ–¹å¼æ‰©å®¹</span></span><br><span class="line"><span class="comment">//making foo grow :</span></span><br><span class="line"><span class="comment">//capacity changed : 1</span></span><br><span class="line"><span class="comment">//capacity changed : 2</span></span><br><span class="line"><span class="comment">//capacity changed : 3</span></span><br><span class="line"><span class="comment">//capacity changed : 4</span></span><br><span class="line"><span class="comment">//capacity changed : 6</span></span><br><span class="line"><span class="comment">//capacity changed : 9</span></span><br><span class="line"><span class="comment">//capacity changed : 13</span></span><br><span class="line"><span class="comment">//capacity changed : 19</span></span><br><span class="line"><span class="comment">//capacity changed : 28</span></span><br><span class="line"><span class="comment">//capacity changed : 42</span></span><br><span class="line"><span class="comment">//capacity changed : 63</span></span><br><span class="line"><span class="comment">//capacity changed : 94</span></span><br><span class="line"><span class="comment">//capacity changed : 141</span></span><br><span class="line"><span class="comment">//g++è¿è¡Œç»“æœï¼šlinuxä¸‹ä½¿ç”¨çš„STLåŸºæœ¬æ˜¯æŒ‰ç…§2å€æ–¹å¼æ‰©å®¹</span></span><br><span class="line"><span class="comment">//making foo grow :</span></span><br><span class="line"><span class="comment">//capacity changed : 1</span></span><br><span class="line"><span class="comment">//capacity changed : 2</span></span><br><span class="line"><span class="comment">//capacity changed : 4</span></span><br><span class="line"><span class="comment">//capacity changed : 8</span></span><br><span class="line"><span class="comment">//capacity changed : 16</span></span><br><span class="line"><span class="comment">//capacity changed : 32</span></span><br><span class="line"><span class="comment">//capacity changed : 64</span></span><br><span class="line"><span class="comment">//capacity changed : 128</span></span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¦‚æœå·²ç»ç¡®å®švectorä¸­è¦å­˜å‚¨å…ƒç´ å¤§æ¦‚ä¸ªæ•°ï¼Œå¯ä»¥æå‰å°†ç©ºé—´è®¾ç½®è¶³å¤Ÿ</span></span><br><span class="line"><span class="comment">// å°±å¯ä»¥é¿å…è¾¹æ’å…¥è¾¹æ‰©å®¹å¯¼è‡´æ•ˆç‡ä½ä¸‹çš„é—®é¢˜äº†</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TestVectorExpandOP</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line"><span class="type">size_t</span> sz = v.<span class="built_in">capacity</span>();</span><br><span class="line">v.<span class="built_in">reserve</span>(<span class="number">100</span>); <span class="comment">// æå‰å°†å®¹é‡è®¾ç½®å¥½ï¼Œå¯ä»¥é¿å…ä¸€éæ’å…¥ä¸€éæ‰©å®¹</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;making bar grow:\n&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; ++i)</span><br><span class="line">&#123;</span><br><span class="line">v.<span class="built_in">push_back</span>(i);</span><br><span class="line"><span class="keyword">if</span> (sz != v.<span class="built_in">capacity</span>())</span><br><span class="line">&#123;</span><br><span class="line">sz = v.<span class="built_in">capacity</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;capacity changed: &quot;</span> &lt;&lt; sz &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥å£æ¼”ç¤ºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//  vectorçš„resize å’Œ reserve</span></span><br><span class="line"><span class="comment">////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">// reisze(size_t n, const T&amp; data = T())</span></span><br><span class="line"><span class="comment">// å°†æœ‰æ•ˆå…ƒç´ ä¸ªæ•°è®¾ç½®ä¸ºnä¸ªï¼Œå¦‚æœæ—¶å¢å¤šæ—¶ï¼Œå¢å¤šçš„å…ƒç´ ä½¿ç”¨dataè¿›è¡Œå¡«å……</span></span><br><span class="line"><span class="comment">// æ³¨æ„ï¼šresizeåœ¨å¢å¤šå…ƒç´ ä¸ªæ•°æ—¶å¯èƒ½ä¼šæ‰©å®¹</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TestVector3</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// set some initial content:</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">v.<span class="built_in">push_back</span>(i);</span><br><span class="line"> </span><br><span class="line">v.<span class="built_in">resize</span>(<span class="number">5</span>);</span><br><span class="line">v.<span class="built_in">resize</span>(<span class="number">8</span>, <span class="number">100</span>);</span><br><span class="line">v.<span class="built_in">resize</span>(<span class="number">12</span>);</span><br><span class="line"> </span><br><span class="line">cout &lt;&lt; <span class="string">&quot;v contains:&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; v.<span class="built_in">size</span>(); i++)</span><br><span class="line">cout &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; v[i];</span><br><span class="line">cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æµ‹è¯•vectorçš„é»˜è®¤æ‰©å®¹æœºåˆ¶</span></span><br><span class="line"><span class="comment">// vsï¼šæŒ‰ç…§1.5å€æ–¹å¼æ‰©å®¹</span></span><br><span class="line"><span class="comment">// linuxï¼šæŒ‰ç…§2å€æ–¹å¼æ‰©å®¹</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TestVectorExpand</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">size_t</span> sz;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">sz = v.<span class="built_in">capacity</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;making v grow:\n&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; ++i) </span><br><span class="line">&#123;</span><br><span class="line">v.<span class="built_in">push_back</span>(i);</span><br><span class="line"><span class="keyword">if</span> (sz != v.<span class="built_in">capacity</span>()) </span><br><span class="line">&#123;</span><br><span class="line">sz = v.<span class="built_in">capacity</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;capacity changed: &quot;</span> &lt;&lt; sz &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å¾€vecoträ¸­æ’å…¥å…ƒç´ æ—¶ï¼Œå¦‚æœå¤§æ¦‚å·²ç»çŸ¥é“è¦å­˜æ”¾å¤šå°‘ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="comment">// å¯ä»¥é€šè¿‡reserveæ–¹æ³•æå‰å°†å®¹é‡è®¾ç½®å¥½ï¼Œé¿å…è¾¹æ’å…¥è¾¹æ‰©å®¹æ•ˆç‡ä½</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TestVectorExpandOP</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line"><span class="type">size_t</span> sz = v.<span class="built_in">capacity</span>();</span><br><span class="line">v.<span class="built_in">reserve</span>(<span class="number">100</span>);   <span class="comment">// æå‰å°†å®¹é‡è®¾ç½®å¥½ï¼Œå¯ä»¥é¿å…ä¸€éæ’å…¥ä¸€éæ‰©å®¹</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;making bar grow:\n&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; ++i) </span><br><span class="line">&#123;</span><br><span class="line">v.<span class="built_in">push_back</span>(i);</span><br><span class="line"><span class="keyword">if</span> (sz != v.<span class="built_in">capacity</span>())</span><br><span class="line">&#123;</span><br><span class="line">sz = v.<span class="built_in">capacity</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;capacity changed: &quot;</span> &lt;&lt; sz &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="124-vector-å¢åˆ æŸ¥æ”¹"><a class="markdownIt-Anchor" href="#124-vector-å¢åˆ æŸ¥æ”¹"></a> <strong>1.2.4Â vector</strong> <strong>å¢åˆ æŸ¥æ”¹</strong></h4><p><img src="075eccb41c304871be40a529732f5e66.png" alt="" /></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//  vectorçš„å¢åˆ æ”¹æŸ¥</span></span><br><span class="line"><span class="comment">////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">// å°¾æ’å’Œå°¾åˆ ï¼špush_back/pop_back</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TestVector4</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">auto</span> it = v.<span class="built_in">begin</span>();</span><br><span class="line"><span class="keyword">while</span> (it != v.<span class="built_in">end</span>()) </span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">++it;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"> </span><br><span class="line">v.<span class="built_in">pop_back</span>();</span><br><span class="line">v.<span class="built_in">pop_back</span>();</span><br><span class="line"> </span><br><span class="line">it = v.<span class="built_in">begin</span>();</span><br><span class="line"><span class="keyword">while</span> (it != v.<span class="built_in">end</span>()) </span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">++it;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ä»»æ„ä½ç½®æ’å…¥ï¼šinsertå’Œeraseï¼Œä»¥åŠæŸ¥æ‰¾find</span></span><br><span class="line"><span class="comment">// æ³¨æ„findä¸æ˜¯vectorè‡ªèº«æä¾›çš„æ–¹æ³•ï¼Œæ˜¯STLæä¾›çš„ç®—æ³•</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TestVector5</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// ä½¿ç”¨åˆ—è¡¨æ–¹å¼åˆå§‹åŒ–ï¼ŒC++11æ–°è¯­æ³•</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v&#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> &#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// åœ¨æŒ‡å®šä½ç½®å‰æ’å…¥å€¼ä¸ºvalçš„å…ƒç´ ï¼Œæ¯”å¦‚ï¼š3ä¹‹å‰æ’å…¥30,å¦‚æœæ²¡æœ‰åˆ™ä¸æ’å…¥</span></span><br><span class="line"><span class="comment">// 1. å…ˆä½¿ç”¨findæŸ¥æ‰¾3æ‰€åœ¨ä½ç½®</span></span><br><span class="line"><span class="comment">// æ³¨æ„ï¼švectoræ²¡æœ‰æä¾›findæ–¹æ³•ï¼Œå¦‚æœè¦æŸ¥æ‰¾åªèƒ½ä½¿ç”¨STLæä¾›çš„å…¨å±€find</span></span><br><span class="line"><span class="keyword">auto</span> pos = <span class="built_in">find</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">3</span>);</span><br><span class="line"><span class="keyword">if</span> (pos != v.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// 2. åœ¨posä½ç½®ä¹‹å‰æ’å…¥30</span></span><br><span class="line">v.<span class="built_in">insert</span>(pos, <span class="number">30</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">vector&lt;<span class="type">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>();</span><br><span class="line"><span class="keyword">while</span> (it != v.<span class="built_in">end</span>()) </span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">++it;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"> </span><br><span class="line">pos = <span class="built_in">find</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">3</span>);</span><br><span class="line"><span class="comment">// åˆ é™¤posä½ç½®çš„æ•°æ®</span></span><br><span class="line">v.<span class="built_in">erase</span>(pos);</span><br><span class="line"> </span><br><span class="line">it = v.<span class="built_in">begin</span>();</span><br><span class="line"><span class="keyword">while</span> (it != v.<span class="built_in">end</span>()) &#123;</span><br><span class="line">cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">++it;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// operator[]+index å’Œ C++11ä¸­vectorçš„æ–°å¼for+autoçš„éå†</span></span><br><span class="line"><span class="comment">// vectorä½¿ç”¨è¿™ä¸¤ç§éå†æ–¹å¼æ˜¯æ¯”è¾ƒä¾¿æ·çš„ã€‚</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TestVector6</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v&#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> &#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// é€šè¿‡[]è¯»å†™ç¬¬0ä¸ªä½ç½®ã€‚</span></span><br><span class="line">v[<span class="number">0</span>] = <span class="number">10</span>;</span><br><span class="line">cout &lt;&lt; v[<span class="number">0</span>] &lt;&lt; endl;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 1. ä½¿ç”¨for+[]å°æ ‡æ–¹å¼éå†</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; v.<span class="built_in">size</span>(); ++i)</span><br><span class="line">cout &lt;&lt; v[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"> </span><br><span class="line">vector&lt;<span class="type">int</span>&gt; swapv;</span><br><span class="line">swapv.<span class="built_in">swap</span>(v);</span><br><span class="line"> </span><br><span class="line">cout &lt;&lt; <span class="string">&quot;v data:&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; v.<span class="built_in">size</span>(); ++i)</span><br><span class="line">cout &lt;&lt; v[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 2. ä½¿ç”¨è¿­ä»£å™¨éå†</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;swapv data:&quot;</span>;</span><br><span class="line"><span class="keyword">auto</span> it = swapv.<span class="built_in">begin</span>();</span><br><span class="line"><span class="keyword">while</span> (it != swapv.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">++it;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 3. ä½¿ç”¨èŒƒå›´foréå†</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> x : v)</span><br><span class="line">cout &lt;&lt; x &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="125-vector-è¿­ä»£å™¨å¤±æ•ˆé—®é¢˜-é‡ç‚¹"><a class="markdownIt-Anchor" href="#125-vector-è¿­ä»£å™¨å¤±æ•ˆé—®é¢˜-é‡ç‚¹"></a> <strong>1.2.5Â vector</strong> <strong>è¿­ä»£å™¨å¤±æ•ˆé—®é¢˜ã€‚ï¼ˆé‡ç‚¹ï¼‰</strong></h4><p><strong>è¿­ä»£å™¨çš„ä¸»è¦ä½œç”¨å°±æ˜¯è®©ç®—æ³•èƒ½å¤Ÿä¸ç”¨å…³å¿ƒåº•å±‚æ•°æ®ç»“æ„ï¼Œå…¶åº•å±‚å®é™…å°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œæˆ–è€…æ˜¯å¯¹æŒ‡é’ˆè¿›è¡Œäº†</strong> <strong>å°è£…</strong> ï¼Œæ¯”å¦‚ï¼š <strong>vector</strong> <strong>çš„è¿­ä»£å™¨å°±æ˜¯åŸç”Ÿæ€æŒ‡é’ˆ</strong> <strong>T*</strong> ã€‚å› æ­¤ <strong>è¿­ä»£å™¨å¤±æ•ˆï¼Œå®é™…å°±æ˜¯è¿­ä»£å™¨åº•å±‚å¯¹åº”æŒ‡é’ˆæ‰€æŒ‡å‘çš„</strong> <strong>ç©ºé—´è¢«é”€æ¯äº†ï¼Œè€Œä½¿ç”¨ä¸€å—å·²ç»è¢«é‡Šæ”¾çš„ç©ºé—´</strong> ï¼Œé€ æˆçš„åæœæ˜¯ç¨‹åºå´©æºƒ ( å³ <strong>å¦‚æœç»§ç»­ä½¿ç”¨å·²ç»å¤±æ•ˆçš„è¿­ä»£å™¨ï¼Œ</strong> <strong>ç¨‹åºå¯èƒ½ä¼šå´©æºƒ</strong> ) ã€‚ å¯¹äºvector å¯èƒ½ä¼šå¯¼è‡´å…¶è¿­ä»£å™¨å¤±æ•ˆçš„æ“ä½œæœ‰ï¼š</p><p>1. <strong>ä¼šå¼•èµ·å…¶åº•å±‚ç©ºé—´æ”¹å˜çš„æ“ä½œï¼Œéƒ½æœ‰å¯èƒ½æ˜¯è¿­ä»£å™¨å¤±æ•ˆ</strong> ï¼Œæ¯”å¦‚ï¼š resize ã€ reserve ã€ insert ã€ assign ã€ push_backç­‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v&#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span> &#125;;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">auto</span> it = v.<span class="built_in">begin</span>();</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å°†æœ‰æ•ˆå…ƒç´ ä¸ªæ•°å¢åŠ åˆ°100ä¸ªï¼Œå¤šå‡ºçš„ä½ç½®ä½¿ç”¨8å¡«å……ï¼Œæ“ä½œæœŸé—´åº•å±‚ä¼šæ‰©å®¹</span></span><br><span class="line"><span class="comment">// v.resize(100, 8);</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// reserveçš„ä½œç”¨å°±æ˜¯æ”¹å˜æ‰©å®¹å¤§å°ä½†ä¸æ”¹å˜æœ‰æ•ˆå…ƒç´ ä¸ªæ•°ï¼Œæ“ä½œæœŸé—´å¯èƒ½ä¼šå¼•èµ·åº•å±‚å®¹é‡æ”¹å˜</span></span><br><span class="line"><span class="comment">// v.reserve(100);</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// æ’å…¥å…ƒç´ æœŸé—´ï¼Œå¯èƒ½ä¼šå¼•èµ·æ‰©å®¹ï¼Œè€Œå¯¼è‡´åŸç©ºé—´è¢«é‡Šæ”¾</span></span><br><span class="line"><span class="comment">// v.insert(v.begin(), 0);</span></span><br><span class="line"><span class="comment">// v.push_back(8);</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// ç»™vectoré‡æ–°èµ‹å€¼ï¼Œå¯èƒ½ä¼šå¼•èµ·åº•å±‚å®¹é‡æ”¹å˜</span></span><br><span class="line">v.<span class="built_in">assign</span>(<span class="number">100</span>, <span class="number">8</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">å‡ºé”™åŸå› ï¼šä»¥ä¸Šæ“ä½œï¼Œéƒ½æœ‰å¯èƒ½ä¼šå¯¼è‡´vectoræ‰©å®¹ï¼Œä¹Ÿå°±æ˜¯è¯´vectoråº•å±‚åŸç†æ—§ç©ºé—´è¢«é‡Šæ”¾æ‰ï¼Œ</span></span><br><span class="line"><span class="comment">   è€Œåœ¨æ‰“å°æ—¶ï¼Œitè¿˜ä½¿ç”¨çš„æ˜¯é‡Šæ”¾ä¹‹é—´çš„æ—§ç©ºé—´ï¼Œåœ¨å¯¹itè¿­ä»£å™¨æ“ä½œæ—¶ï¼Œå®é™…æ“ä½œçš„æ˜¯ä¸€å—å·²ç»è¢«é‡Šæ”¾çš„</span></span><br><span class="line"><span class="comment">   ç©ºé—´ï¼Œè€Œå¼•èµ·ä»£ç è¿è¡Œæ—¶å´©æºƒã€‚</span></span><br><span class="line"><span class="comment">è§£å†³æ–¹å¼ï¼šåœ¨ä»¥ä¸Šæ“ä½œå®Œæˆä¹‹åï¼Œå¦‚æœæƒ³è¦ç»§ç»­é€šè¿‡è¿­ä»£å™¨æ“ä½œvectorä¸­çš„å…ƒç´ ï¼Œåªéœ€ç»™ité‡æ–°</span></span><br><span class="line"><span class="comment">   èµ‹å€¼å³å¯ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">while</span> (it != v.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">++it;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2. æŒ‡å®šä½ç½®å…ƒç´ çš„åˆ é™¤æ“ä½œ - <strong>-erase</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> a[] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> &#125;;</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v</span><span class="params">(a, a + <span class="keyword">sizeof</span>(a) / <span class="keyword">sizeof</span>(<span class="type">int</span>))</span></span>;</span><br><span class="line"><span class="comment">// ä½¿ç”¨findæŸ¥æ‰¾3æ‰€åœ¨ä½ç½®çš„iterator</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt;::iterator pos = <span class="built_in">find</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">3</span>);</span><br><span class="line"><span class="comment">// åˆ é™¤posä½ç½®çš„æ•°æ®ï¼Œå¯¼è‡´posè¿­ä»£å™¨å¤±æ•ˆã€‚</span></span><br><span class="line">v.<span class="built_in">erase</span>(pos);</span><br><span class="line">cout &lt;&lt; *pos &lt;&lt; endl; <span class="comment">// æ­¤å¤„ä¼šå¯¼è‡´éæ³•è®¿é—®</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>erase åˆ é™¤ pos ä½ç½®å…ƒç´ åï¼Œ pos ä½ç½®ä¹‹åçš„å…ƒç´ ä¼šå¾€å‰æ¬ç§»ï¼Œæ²¡æœ‰å¯¼è‡´åº•å±‚ç©ºé—´çš„æ”¹å˜ï¼Œç†è®ºä¸Šè®²è¿­ä»£ å™¨ä¸åº”è¯¥ä¼šå¤±æ•ˆï¼Œä½†æ˜¯ï¼šå¦‚æœpos åˆšå¥½æ˜¯æœ€åä¸€ä¸ªå…ƒç´ ï¼Œåˆ å®Œä¹‹å pos åˆšå¥½æ˜¯ end çš„ä½ç½®ï¼Œè€Œ end ä½ç½®æ˜¯ æ²¡æœ‰å…ƒç´ çš„ï¼Œé‚£ä¹ˆpos å°±å¤±æ•ˆäº†ã€‚å› æ­¤åˆ é™¤ vector ä¸­ä»»æ„ä½ç½®ä¸Šå…ƒç´ æ—¶ï¼Œ vs å°±è®¤ä¸ºè¯¥ä½ç½®è¿­ä»£å™¨å¤±æ•ˆ äº†ã€‚</p><p>ä»¥ä¸‹ä»£ç çš„åŠŸèƒ½æ˜¯åˆ é™¤ vector ä¸­æ‰€æœ‰çš„å¶æ•°ï¼Œè¯·é—®é‚£ä¸ªä»£ç æ˜¯æ­£ç¡®çš„ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> a[] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> &#125;;</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v</span><span class="params">(a, a + <span class="keyword">sizeof</span>(a) / <span class="keyword">sizeof</span>(<span class="type">int</span>))</span></span>;</span><br><span class="line"><span class="comment">// ä½¿ç”¨findæŸ¥æ‰¾3æ‰€åœ¨ä½ç½®çš„iterator</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt;::iterator pos = <span class="built_in">find</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">3</span>);</span><br><span class="line"><span class="comment">// åˆ é™¤posä½ç½®çš„æ•°æ®ï¼Œå¯¼è‡´posè¿­ä»£å™¨å¤±æ•ˆã€‚</span></span><br><span class="line">v.<span class="built_in">erase</span>(pos);</span><br><span class="line">cout &lt;&lt; *pos &lt;&lt; endl; <span class="comment">// æ­¤å¤„ä¼šå¯¼è‡´éæ³•è®¿é—®</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v&#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> &#125;;</span><br><span class="line"><span class="keyword">auto</span> it = v.<span class="built_in">begin</span>();</span><br><span class="line"><span class="keyword">while</span> (it != v.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (*it % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">v.<span class="built_in">erase</span>(it);</span><br><span class="line">++it;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v&#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> &#125;;</span><br><span class="line"><span class="keyword">auto</span> it = v.<span class="built_in">begin</span>();</span><br><span class="line"><span class="keyword">while</span> (it != v.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (*it % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">it = v.<span class="built_in">erase</span>(it);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">++it;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3. æ³¨æ„ï¼š Linux ä¸‹ï¼Œ g++ ç¼–è¯‘å™¨å¯¹è¿­ä»£å™¨å¤±æ•ˆçš„æ£€æµ‹å¹¶ä¸æ˜¯éå¸¸ä¸¥æ ¼ï¼Œå¤„ç†ä¹Ÿæ²¡æœ‰ vs ä¸‹æç«¯ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v&#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> &#125;;</span><br><span class="line"><span class="keyword">auto</span> it = v.<span class="built_in">begin</span>();</span><br><span class="line"><span class="keyword">while</span> (it != v.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (*it % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">v.<span class="built_in">erase</span>(it);</span><br><span class="line">++it;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v&#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> &#125;;</span><br><span class="line"><span class="keyword">auto</span> it = v.<span class="built_in">begin</span>();</span><br><span class="line"><span class="keyword">while</span> (it != v.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (*it % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">it = v.<span class="built_in">erase</span>(it);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">++it;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment">// 1. æ‰©å®¹ä¹‹åï¼Œè¿­ä»£å™¨å·²ç»å¤±æ•ˆäº†ï¼Œç¨‹åºè™½ç„¶å¯ä»¥è¿è¡Œï¼Œä½†æ˜¯è¿è¡Œç»“æœå·²ç»ä¸å¯¹äº†</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v&#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span> &#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; v.<span class="built_in">size</span>(); ++i)</span><br><span class="line">cout &lt;&lt; v[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"><span class="keyword">auto</span> it = v.<span class="built_in">begin</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;æ‰©å®¹ä¹‹å‰ï¼Œvectorçš„å®¹é‡ä¸º: &quot;</span> &lt;&lt; v.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line"><span class="comment">// é€šè¿‡reserveå°†åº•å±‚ç©ºé—´è®¾ç½®ä¸º100ï¼Œç›®çš„æ˜¯ä¸ºäº†è®©vectorçš„è¿­ä»£å™¨å¤±æ•ˆ </span></span><br><span class="line">v.<span class="built_in">reserve</span>(<span class="number">100</span>);</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;æ‰©å®¹ä¹‹åï¼Œvectorçš„å®¹é‡ä¸º: &quot;</span> &lt;&lt; v.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ç»è¿‡ä¸Šè¿°reserveä¹‹åï¼Œitè¿­ä»£å™¨è‚¯å®šä¼šå¤±æ•ˆï¼Œåœ¨vsä¸‹ç¨‹åºå°±ç›´æ¥å´©æºƒäº†ï¼Œä½†æ˜¯linuxä¸‹ä¸ä¼š</span></span><br><span class="line"><span class="comment">// è™½ç„¶å¯èƒ½è¿è¡Œï¼Œä½†æ˜¯è¾“å‡ºçš„ç»“æœæ˜¯ä¸å¯¹çš„</span></span><br><span class="line"><span class="keyword">while</span> (it != v.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">++it;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">ç¨‹åºè¾“å‡ºï¼š</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span></span><br><span class="line">æ‰©å®¹ä¹‹å‰ï¼Œvectorçš„å®¹é‡ä¸º: <span class="number">5</span></span><br><span class="line">æ‰©å®¹ä¹‹åï¼Œvectorçš„å®¹é‡ä¸º : <span class="number">100</span></span><br><span class="line"><span class="number">0</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">409</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span></span><br><span class="line"><span class="comment">// 2. eraseåˆ é™¤ä»»æ„ä½ç½®ä»£ç åï¼Œlinuxä¸‹è¿­ä»£å™¨å¹¶æ²¡æœ‰å¤±æ•ˆ</span></span><br><span class="line"><span class="comment">// å› ä¸ºç©ºé—´è¿˜æ˜¯åŸæ¥çš„ç©ºé—´ï¼Œååºå…ƒç´ å¾€å‰æ¬ç§»äº†ï¼Œitçš„ä½ç½®è¿˜æ˜¯æœ‰æ•ˆçš„</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v&#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span> &#125;;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt;::iterator it = <span class="built_in">find</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">3</span>);</span><br><span class="line">v.<span class="built_in">erase</span>(it)</span><br><span class="line">cout &lt;&lt; *it &lt;&lt; endl;</span><br><span class="line"><span class="keyword">while</span> (it != v.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">++it;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">ç¨‹åºå¯ä»¥æ­£å¸¸è¿è¡Œï¼Œå¹¶æ‰“å°ï¼š</span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">4</span> <span class="number">5</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 3: eraseåˆ é™¤çš„è¿­ä»£å™¨å¦‚æœæ˜¯æœ€åä¸€ä¸ªå…ƒç´ ï¼Œåˆ é™¤ä¹‹åitå·²ç»è¶…è¿‡end</span></span><br><span class="line"><span class="comment">// æ­¤æ—¶è¿­ä»£å™¨æ˜¯æ— æ•ˆçš„ï¼Œ++itå¯¼è‡´ç¨‹åºå´©æºƒ</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v&#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span> &#125;;</span><br><span class="line"><span class="comment">// vector&lt;int&gt; v&#123;1,2,3,4,5,6&#125;;</span></span><br><span class="line"><span class="keyword">auto</span> it = v.<span class="built_in">begin</span>();</span><br><span class="line"><span class="keyword">while</span> (it != v.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (*it % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">v.<span class="built_in">erase</span>(it);</span><br><span class="line">++it;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> e : v)</span><br><span class="line">cout &lt;&lt; e &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">========================================================</span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¬¬ä¸€ç»„æ•°æ®æ—¶ï¼Œç¨‹åºå¯ä»¥è¿è¡Œ</span></span><br><span class="line">[sly@VM - <span class="number">0</span> - <span class="number">3</span> - centos <span class="number">20220114</span>]$ g++ testVector.cpp - std = c++<span class="number">11</span></span><br><span class="line">[sly@VM - <span class="number">0</span> - <span class="number">3</span> - centos <span class="number">20220114</span>]$ . / a.out</span><br><span class="line"><span class="number">1</span> <span class="number">3</span> <span class="number">5</span></span><br><span class="line">======================================================== =</span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¬¬äºŒç»„æ•°æ®æ—¶ï¼Œç¨‹åºæœ€ç»ˆä¼šå´©æºƒ</span></span><br><span class="line">[sly@VM - <span class="number">0</span> - <span class="number">3</span> - centos <span class="number">20220114</span>]$ vim testVector.cpp</span><br><span class="line">[sly@VM - <span class="number">0</span> - <span class="number">3</span> - centos <span class="number">20220114</span>]$ g++ testVector.cpp - std = c++<span class="number">11</span></span><br><span class="line">[sly@VM - <span class="number">0</span> - <span class="number">3</span> - centos <span class="number">20220114</span>]$ . / a.out</span><br><span class="line">Segmentation fault</span><br></pre></td></tr></table></figure><p>ä»ä¸Šè¿°ä¸‰ä¸ªä¾‹å­ä¸­å¯ä»¥çœ‹åˆ°ï¼š SGI STL ä¸­ï¼Œè¿­ä»£å™¨å¤±æ•ˆåï¼Œä»£ç å¹¶ä¸ä¸€å®šä¼šå´©æºƒï¼Œä½†æ˜¯è¿è¡Œç»“æœè‚¯å®šä¸ å¯¹ï¼Œå¦‚æœit ä¸åœ¨ begin å’Œ end èŒƒå›´å†…ï¼Œè‚¯å®šä¼šå´©æºƒçš„ã€‚</p><p>4. ä¸ vector ç±»ä¼¼ï¼Œ string åœ¨æ’å…¥ + æ‰©å®¹æ“ä½œ +erase ä¹‹åï¼Œè¿­ä»£å™¨ä¹Ÿä¼šå¤±æ•ˆ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TestString</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">string <span class="title">s</span><span class="params">(<span class="string">&quot;hello&quot;</span>)</span></span>;</span><br><span class="line"><span class="keyword">auto</span> it = s.<span class="built_in">begin</span>();</span><br><span class="line"><span class="comment">// æ”¾å¼€ä¹‹åä»£ç ä¼šå´©æºƒï¼Œå› ä¸ºresizeåˆ°20ä¼šstringä¼šè¿›è¡Œæ‰©å®¹</span></span><br><span class="line"><span class="comment">// æ‰©å®¹ä¹‹åï¼ŒitæŒ‡å‘ä¹‹å‰æ—§ç©ºé—´å·²ç»è¢«é‡Šæ”¾äº†ï¼Œè¯¥è¿­ä»£å™¨å°±å¤±æ•ˆäº†</span></span><br><span class="line"><span class="comment">// ååºæ‰“å°æ—¶ï¼Œå†è®¿é—®itæŒ‡å‘çš„ç©ºé—´ç¨‹åºå°±ä¼šå´©æºƒ</span></span><br><span class="line"><span class="comment">//s.resize(20, &#x27;!&#x27;);</span></span><br><span class="line"><span class="keyword">while</span> (it != s.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; *it;</span><br><span class="line">++it;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">it = s.<span class="built_in">begin</span>();</span><br><span class="line"><span class="keyword">while</span> (it != s.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line">it = s.<span class="built_in">erase</span>(it);</span><br><span class="line"><span class="comment">// æŒ‰ç…§ä¸‹é¢æ–¹å¼å†™ï¼Œè¿è¡Œæ—¶ç¨‹åºä¼šå´©æºƒï¼Œå› ä¸ºerase(it)ä¹‹å</span></span><br><span class="line"><span class="comment">// itä½ç½®çš„è¿­ä»£å™¨å°±å¤±æ•ˆäº†</span></span><br><span class="line"><span class="comment">// s.erase(it); </span></span><br><span class="line">++it;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¿­ä»£å™¨å¤±æ•ˆè§£å†³åŠæ³•ï¼šåœ¨ä½¿ç”¨å‰ï¼Œå¯¹è¿­ä»£å™¨é‡æ–°èµ‹å€¼å³å¯.</strong></p><h3 id="2vectoræ·±åº¦å‰–æåŠæ¨¡æ‹Ÿå®ç°"><a class="markdownIt-Anchor" href="#2vectoræ·±åº¦å‰–æåŠæ¨¡æ‹Ÿå®ç°"></a> <strong>2.vectoræ·±åº¦å‰–æåŠæ¨¡æ‹Ÿå®ç°</strong></h3><p><img src="2f0031157f99468a85d8510ac29a9fb1.png" alt="" /></p><p><img src="b8fd489cf5594828bd33428935b0e4bb.png" alt="" /></p><h4 id="21-stdvectorçš„æ ¸å¿ƒæ¡†æ¶æ¥å£çš„æ¨¡æ‹Ÿå®ç°xylvector"><a class="markdownIt-Anchor" href="#21-stdvectorçš„æ ¸å¿ƒæ¡†æ¶æ¥å£çš„æ¨¡æ‹Ÿå®ç°xylvector"></a> <strong>2.1 std::vectorçš„æ ¸å¿ƒæ¡†æ¶æ¥å£çš„æ¨¡æ‹Ÿå®ç°xyl::vector</strong></h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;assert.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> xyl</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">vector</span>                                                                                                                                                                                                                     </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">typedef</span> T* iterator;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">const</span> T* const_iterator;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="built_in">vector</span>()</span><br><span class="line">:_start(<span class="literal">nullptr</span>)</span><br><span class="line">, _finish ( <span class="literal">nullptr</span>)</span><br><span class="line">, _endOfStorage (<span class="literal">nullptr</span>)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">vector</span>(<span class="type">int</span> n, <span class="type">const</span> T&amp; value = <span class="built_in">T</span>())</span><br><span class="line">             :_start(<span class="literal">nullptr</span>)</span><br><span class="line">             , _finish ( <span class="literal">nullptr</span>)</span><br><span class="line">             , _endOfStorage (<span class="literal">nullptr</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">resize</span>(n, value);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> InputIterator&gt;</span></span><br><span class="line"><span class="function"><span class="title">vector</span><span class="params">(InputIterator first, InputIterator last)</span></span></span><br><span class="line"><span class="function">            :_start(nullptr)</span></span><br><span class="line"><span class="function">            , _finish ( nullptr)</span></span><br><span class="line"><span class="function">            , _endOfStorage (nullptr)</span></span><br><span class="line"><span class="function">&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="type">size_t</span>  sz = last-first;</span><br><span class="line">T* tmp = <span class="keyword">new</span> T[sz];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>;i &lt; sz;i++)</span><br><span class="line">&#123;</span><br><span class="line">tmp[i] = first[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//memcpy(tmp, first, sizeof(T) * (sz));</span></span><br><span class="line">_start = tmp;</span><br><span class="line">_finish = _start + sz;</span><br><span class="line">_endOfStorage = _finish;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">vector</span>( vector&lt;T&gt;&amp; v)</span><br><span class="line">:_start(<span class="literal">nullptr</span>)</span><br><span class="line">, _finish(<span class="literal">nullptr</span>)</span><br><span class="line">, _endOfStorage(<span class="literal">nullptr</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">size_t</span> sz= v.<span class="built_in">size</span>();</span><br><span class="line"><span class="type">size_t</span> cp = v.<span class="built_in">capacity</span>();</span><br><span class="line">_start = <span class="keyword">new</span> T[cp];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>;i &lt; sz;i++)</span><br><span class="line">&#123;</span><br><span class="line">_start[i] = v._start[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//memcpy(tmp, v._start, sizeof(T) * (sz));</span></span><br><span class="line"></span><br><span class="line">_finish = _start + sz;</span><br><span class="line">_endOfStorage = _start+ cp;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">vector&lt;T&gt;&amp; <span class="keyword">operator</span>= (vector&lt;T&gt; v)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">/*size_t sz = v.size();</span></span><br><span class="line"><span class="comment">size_t cp = v.capacity();</span></span><br><span class="line"><span class="comment">T* tmp = new T[cp];</span></span><br><span class="line"><span class="comment">memcpy(tmp, v._start, sizeof(T) * (sz));</span></span><br><span class="line"><span class="comment">_start = tmp;</span></span><br><span class="line"><span class="comment">_finish = _start + sz;</span></span><br><span class="line"><span class="comment">_endOfStorage = _start + cp;*/</span></span><br><span class="line"><span class="built_in">swap</span>(v);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">reserve</span><span class="params">(<span class="type">size_t</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (n &gt;= <span class="built_in">capacity</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">size_t</span> sz = <span class="built_in">size</span>();</span><br><span class="line">T* tmp = <span class="keyword">new</span> T[n];</span><br><span class="line"><span class="keyword">if</span> (_start)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">size_t</span> i=<span class="number">0</span>;i &lt; sz;i++)</span><br><span class="line">&#123;</span><br><span class="line">tmp[i] = _start[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//memcpy(tmp, _start, sizeof(T)*sz);</span></span><br><span class="line"><span class="keyword">delete</span>[]_start;</span><br><span class="line">&#125;</span><br><span class="line">_start = tmp;</span><br><span class="line">_finish = _start + sz;</span><br><span class="line">_endOfStorage = _start + n;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">resize</span><span class="params">(<span class="type">size_t</span> n, <span class="type">const</span> T&amp; value = T())</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*for (size_t i = 0;i &lt; n;i++)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">push_back(value);</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"><span class="keyword">if</span> (n &lt; <span class="built_in">size</span>())</span><br><span class="line">&#123;</span><br><span class="line">_finish = _start + n;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">reserve</span>(n);</span><br><span class="line"><span class="keyword">while</span> (_finish != _start + n)</span><br><span class="line">&#123;</span><br><span class="line">*_finish = value;</span><br><span class="line">_finish++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">push_back</span><span class="params">(<span class="type">const</span> T&amp; x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (_finish == _endOfStorage)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">size_t</span> newcapacity =<span class="built_in">capacity</span>()== <span class="number">0</span> ? <span class="number">4</span> : <span class="built_in">capacity</span>() * <span class="number">2</span>;</span><br><span class="line"><span class="built_in">reserve</span>(newcapacity);</span><br><span class="line">&#125;</span><br><span class="line">*_finish = x;</span><br><span class="line">_finish++;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pop_back</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">assert</span>(<span class="built_in">size</span>());</span><br><span class="line"><span class="comment">//_finish -= 1;</span></span><br><span class="line"><span class="built_in">erase</span>(<span class="built_in">end</span>()<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span><span class="params">(vector&lt;T&gt;&amp; v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">std::<span class="built_in">swap</span>(_start, v._start);</span><br><span class="line">std::<span class="built_in">swap</span>(_finish, v._finish);</span><br><span class="line">std::<span class="built_in">swap</span>(_endOfStorage, v._endOfStorage);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">iterator <span class="title">insert</span><span class="params">(iterator pos, <span class="type">const</span> T&amp; x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">assert</span>(pos &gt;= _start &amp;&amp; pos &lt;= _finish);</span><br><span class="line"><span class="keyword">if</span> (_finish==_endOfStorage)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">size_t</span> len = pos-_start;</span><br><span class="line"><span class="type">size_t</span> newcapacity = <span class="built_in">capacity</span>() == <span class="number">0</span> ? <span class="number">4</span> : <span class="built_in">capacity</span>() * <span class="number">2</span>;</span><br><span class="line"><span class="built_in">reserve</span>(newcapacity);</span><br><span class="line">pos = _start + len;</span><br><span class="line">&#125;</span><br><span class="line">iterator end = _finish - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (end &gt;= pos)</span><br><span class="line">&#123;</span><br><span class="line">*(end + <span class="number">1</span>) = *end;</span><br><span class="line">end--;</span><br><span class="line">&#125;</span><br><span class="line">*pos = x;</span><br><span class="line">++_finish;</span><br><span class="line"><span class="keyword">return</span> pos;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function">iterator <span class="title">erase</span><span class="params">(iterator pos)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">assert</span>(pos &gt;= _start &amp;&amp; pos &lt;= _finish);</span><br><span class="line">iterator p1 = pos;</span><br><span class="line">iterator end = _finish - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (p1&lt;end )</span><br><span class="line">&#123;</span><br><span class="line">*p1 = *(p1+<span class="number">1</span>);</span><br><span class="line">     p1++;</span><br><span class="line">&#125;</span><br><span class="line">_finish--;</span><br><span class="line"><span class="keyword">return</span> pos;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">capacity</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> _endOfStorage - _start;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">size</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> _finish - _start;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function">iterator <span class="title">begin</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> _start;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function">iterator <span class="title">end</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> _finish;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function">const_iterator <span class="title">begin</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> _start;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function">const_iterator <span class="title">end</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> _finish;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">const_iterator <span class="title">cbegin</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> _start;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function">const_iterator <span class="title">cend</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> _finish;</span><br><span class="line">&#125;</span><br><span class="line">T&amp; <span class="keyword">operator</span>[](<span class="type">size_t</span> pos)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> _start[pos];</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="type">const</span> T&amp; <span class="keyword">operator</span>[](<span class="type">size_t</span> pos)<span class="type">const</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> _start[pos];</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">vector</span>()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (_start)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span>[]_start;</span><br><span class="line">_start = _finish = _endOfStorage = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">iterator _start; <span class="comment">// æŒ‡å‘æ•°æ®å—çš„å¼€å§‹</span></span><br><span class="line"> </span><br><span class="line">iterator _finish; <span class="comment">// æŒ‡å‘æœ‰æ•ˆæ•°æ®çš„å°¾</span></span><br><span class="line"> </span><br><span class="line">iterator _endOfStorage;<span class="comment">// æŒ‡å‘å­˜å‚¨å®¹é‡çš„å°¾</span></span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line">```                                                                                                                                                                                                               &#123;<span class="keyword">public</span>:<span class="keyword">typedef</span> T* iterator;<span class="keyword">typedef</span> <span class="type">const</span> T* const_iterator;<span class="built_in">vector</span>():_start(<span class="literal">nullptr</span>), _finish ( <span class="literal">nullptr</span>), _endOfStorage (<span class="literal">nullptr</span>)&#123;&#125;<span class="built_in">vector</span>(<span class="type">int</span> n, <span class="type">const</span> T&amp; value = <span class="built_in">T</span>())             :_start(<span class="literal">nullptr</span>)             , _finish ( <span class="literal">nullptr</span>)             , _endOfStorage (<span class="literal">nullptr</span>)&#123;<span class="built_in">resize</span>(n, value);&#125;<span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">InputIterator</span>&gt;<span class="built_in">vector</span>(InputIterator first, InputIterator last)            :_start(<span class="literal">nullptr</span>)            , _finish ( <span class="literal">nullptr</span>)            , _endOfStorage (<span class="literal">nullptr</span>)&#123;<span class="type">size_t</span>  sz = last-first;T* tmp = <span class="keyword">new</span> T[sz];<span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>;i &lt; sz;i++)&#123;tmp[i] = first[i];&#125;_start = tmp;_finish = _start + sz;_endOfStorage = _finish;&#125;<span class="built_in">vector</span>( vector&lt;T&gt;&amp; v):_start(<span class="literal">nullptr</span>), _finish(<span class="literal">nullptr</span>), _endOfStorage(<span class="literal">nullptr</span>)&#123;<span class="type">size_t</span> sz= v.<span class="built_in">size</span>();<span class="type">size_t</span> cp = v.<span class="built_in">capacity</span>();_start = <span class="keyword">new</span> T[cp];<span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>;i &lt; sz;i++)&#123;_start[i] = v._start[i];&#125;_finish = _start + sz;_endOfStorage = _start+ cp;&#125;vector&lt;T&gt;&amp; <span class="keyword">operator</span>= (vector&lt;T&gt; v)&#123;<span class="built_in">swap</span>(v);<span class="keyword">return</span> *<span class="keyword">this</span>;&#125;<span class="function"><span class="type">void</span> <span class="title">reserve</span><span class="params">(<span class="type">size_t</span> n)</span></span>&#123;<span class="keyword">if</span> (n &gt;= <span class="built_in">capacity</span>())&#123;<span class="type">size_t</span> sz = <span class="built_in">size</span>();T* tmp = <span class="keyword">new</span> T[n];<span class="keyword">if</span> (_start)&#123;<span class="keyword">for</span> (<span class="type">size_t</span> i=<span class="number">0</span>;i &lt; sz;i++)&#123;tmp[i] = _start[i];&#125;<span class="keyword">delete</span>[]_start;&#125;_start = tmp;_finish = _start + sz;_endOfStorage = _start + n;&#125;&#125;<span class="function"><span class="type">void</span> <span class="title">resize</span><span class="params">(<span class="type">size_t</span> n, <span class="type">const</span> T&amp; value = T())</span></span>&#123;<span class="keyword">if</span> (n &lt; <span class="built_in">size</span>())&#123;_finish = _start + n;&#125;<span class="keyword">else</span>&#123;<span class="built_in">reserve</span>(n);<span class="keyword">while</span> (_finish != _start + n)&#123;*_finish = value;_finish++;&#125;&#125;&#125;<span class="function"><span class="type">void</span> <span class="title">push_back</span><span class="params">(<span class="type">const</span> T&amp; x)</span></span>&#123;<span class="keyword">if</span> (_finish == _endOfStorage)&#123;<span class="type">size_t</span> newcapacity =<span class="built_in">capacity</span>()== <span class="number">0</span> ? <span class="number">4</span> : <span class="built_in">capacity</span>() * <span class="number">2</span>;<span class="built_in">reserve</span>(newcapacity);&#125;*_finish = x;_finish++;&#125;<span class="function"><span class="type">void</span> <span class="title">pop_back</span><span class="params">()</span></span>&#123;<span class="built_in">assert</span>(<span class="built_in">size</span>());<span class="built_in">erase</span>(<span class="built_in">end</span>()<span class="number">-1</span>);&#125;<span class="function"><span class="type">void</span> <span class="title">swap</span><span class="params">(vector&lt;T&gt;&amp; v)</span></span>&#123;std::<span class="built_in">swap</span>(_start, v._start);std::<span class="built_in">swap</span>(_finish, v._finish);std::<span class="built_in">swap</span>(_endOfStorage, v._endOfStorage);&#125;<span class="function">iterator <span class="title">insert</span><span class="params">(iterator pos, <span class="type">const</span> T&amp; x)</span></span>&#123;<span class="built_in">assert</span>(pos &gt;= _start &amp;&amp; pos &lt;= _finish);<span class="keyword">if</span> (_finish==_endOfStorage)&#123;<span class="type">size_t</span> len = pos-_start;<span class="type">size_t</span> newcapacity = <span class="built_in">capacity</span>() == <span class="number">0</span> ? <span class="number">4</span> : <span class="built_in">capacity</span>() * <span class="number">2</span>;<span class="built_in">reserve</span>(newcapacity);pos = _start + len;&#125;iterator end = _finish - <span class="number">1</span>;<span class="keyword">while</span> (end &gt;= pos)&#123;*(end + <span class="number">1</span>) = *end;end--;&#125;*pos = x;++_finish;<span class="keyword">return</span> pos;&#125;<span class="function">iterator <span class="title">erase</span><span class="params">(iterator pos)</span></span>&#123;<span class="built_in">assert</span>(pos &gt;= _start &amp;&amp; pos &lt;= _finish);iterator p1 = pos;iterator end = _finish - <span class="number">1</span>;<span class="keyword">while</span> (p1&lt;end )&#123;*p1 = *(p1+<span class="number">1</span>);     p1++;&#125;_finish--;<span class="keyword">return</span> pos;&#125;<span class="function"><span class="type">size_t</span> <span class="title">capacity</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> _endOfStorage - _start;&#125;<span class="function"><span class="type">size_t</span> <span class="title">size</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> _finish - _start;&#125;<span class="function">iterator <span class="title">begin</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> _start;&#125;<span class="function">iterator <span class="title">end</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> _finish;&#125;<span class="function">const_iterator <span class="title">begin</span><span class="params">()</span> <span class="type">const</span></span>&#123;<span class="keyword">return</span> _start;&#125;<span class="function">const_iterator <span class="title">end</span><span class="params">()</span> <span class="type">const</span></span>&#123;<span class="keyword">return</span> _finish;&#125;<span class="function">const_iterator <span class="title">cbegin</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> _start;&#125;<span class="function">const_iterator <span class="title">cend</span><span class="params">()</span> <span class="type">const</span></span>&#123;<span class="keyword">return</span> _finish;&#125;T&amp; <span class="keyword">operator</span>[](<span class="type">size_t</span> pos)&#123;<span class="keyword">return</span> _start[pos];&#125;<span class="type">const</span> T&amp; <span class="keyword">operator</span>[](<span class="type">size_t</span> pos)<span class="type">const</span>&#123;<span class="keyword">return</span> _start[pos];&#125;~<span class="built_in">vector</span>()&#123;<span class="keyword">if</span> (_start)&#123;<span class="keyword">delete</span>[]_start;_start = _finish = _endOfStorage = <span class="literal">nullptr</span>;&#125;&#125;<span class="keyword">private</span>:iterator _start; iterator _finish; iterator _endOfStorage;&#125;;&#125;</span><br><span class="line"></span><br><span class="line">æµ‹è¯•éƒ¨åˆ†</span><br><span class="line"></span><br><span class="line">```c++</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="comment">//#include&lt;vector&gt;</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;vector.h&quot;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test_vector1</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">xyl::vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="number">5</span>);</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="number">6</span>);</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="number">7</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> e : v1)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; e &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"><span class="function">xyl::vector&lt;<span class="type">int</span>&gt; <span class="title">v2</span><span class="params">(<span class="number">5</span>,<span class="number">100</span>)</span></span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> e : v2)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; e &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"><span class="function">xyl::vector&lt;<span class="type">int</span>&gt; <span class="title">v3</span><span class="params">(v1.begin(), v1.end())</span></span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> e : v3)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; e &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">xyl::vector&lt;<span class="type">int</span>&gt; <span class="title">v4</span><span class="params">(v3)</span></span>;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> e : v4)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; e &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">xyl::vector&lt;<span class="type">int</span>&gt; v5;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">v5 = v4;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> e : v5)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; e &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i &lt; v5.<span class="built_in">size</span>();i++)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; v5[i]&lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test_vector2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">xyl::vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="number">5</span>);</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="number">100</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> e : v1)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; e &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">v1.<span class="built_in">pop_back</span>();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> e : v1)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; e &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">xyl::vector&lt;<span class="type">int</span>&gt; v2;</span><br><span class="line">v1.<span class="built_in">swap</span>(v2);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> e : v1)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; e &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> e : v2)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; e &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">xyl::vector&lt;<span class="type">int</span>&gt; v3;</span><br><span class="line">v3.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">v3.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">v3.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">v3.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">v3.<span class="built_in">push_back</span>(<span class="number">500</span>);</span><br><span class="line">v3.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">v3.<span class="built_in">push_back</span>(<span class="number">100</span>);</span><br><span class="line">v3.<span class="built_in">insert</span>(v3.<span class="built_in">begin</span>()+<span class="number">2</span>, <span class="number">5</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> e : v3)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; e &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">v3.<span class="built_in">erase</span>(v3.<span class="built_in">begin</span>() + <span class="number">2</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> e : v3)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; e &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test_vector3</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">xyl::vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="number">5</span>);</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="number">4</span>);</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="number">100</span>);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> e : v1)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; e &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"> </span><br><span class="line">v1.<span class="built_in">erase</span>(v1.<span class="built_in">end</span>());</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> e : v1)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; e &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test_vector4</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">xyl::vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">v1.<span class="built_in">resize</span>(<span class="number">10</span>);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> e : v1)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; e &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test_vector5</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">xyl::vector&lt;string&gt; v1;</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="string">&quot;1111111111&quot;</span>);</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="string">&quot;2222222222&quot;</span>);</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="string">&quot;3333333333&quot;</span>);</span><br><span class="line">v1.<span class="built_in">push_back</span>(<span class="string">&quot;4444444444&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> e : v1)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; e &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"> </span><br><span class="line"><span class="function">xyl::vector&lt;string&gt; <span class="title">v2</span><span class="params">(v1)</span></span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> e : v2)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; e &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"> </span><br><span class="line"><span class="function">xyl::vector&lt;string&gt; <span class="title">v3</span><span class="params">(v1.begin(),v1.end())</span></span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> e : v3)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; e &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">test_vector5</span>();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="22-ä½¿ç”¨memcpyæ‹·è´é—®é¢˜"><a class="markdownIt-Anchor" href="#22-ä½¿ç”¨memcpyæ‹·è´é—®é¢˜"></a> <strong>2.2 ä½¿ç”¨memcpyæ‹·è´é—®é¢˜</strong></h4><p>å‡è®¾æ¨¡æ‹Ÿå®ç°çš„ vector ä¸­çš„ reserve æ¥å£ä¸­ï¼Œä½¿ç”¨ memcpy è¿›è¡Œçš„æ‹·è´ï¼Œä»¥ä¸‹ä»£ç ä¼šå‘ç”Ÿä»€ä¹ˆé—®é¢˜ï¼Ÿ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">xyl::vector&lt;bite::string&gt; v;</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="string">&quot;1111&quot;</span>);</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="string">&quot;2222&quot;</span>);</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="string">&quot;3333&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é—®é¢˜åˆ†æï¼š</p><p>1. memcpy æ˜¯å†…å­˜çš„äºŒè¿›åˆ¶æ ¼å¼æ‹·è´ï¼Œå°†ä¸€æ®µå†…å­˜ç©ºé—´ä¸­å†…å®¹åŸå°ä¸åŠ¨çš„æ‹·è´åˆ°å¦å¤–ä¸€æ®µå†…å­˜ç©ºé—´ä¸­</p><p>2. å¦‚æœæ‹·è´çš„æ˜¯å†…ç½®ç±»å‹çš„å…ƒç´ ï¼Œ memcpy æ—¢é«˜æ•ˆåˆä¸ä¼šå‡ºé”™ï¼Œä½†å¦‚æœæ‹·è´çš„æ˜¯è‡ªå®šä¹‰ç±»å‹å…ƒç´ ï¼Œå¹¶ä¸”è‡ª å®šä¹‰ç±»å‹å…ƒç´ ä¸­æ¶‰åŠåˆ°èµ„æºç®¡ç†æ—¶ï¼Œå°±ä¼šå‡ºé”™ï¼Œå› ä¸ºmemcpy çš„æ‹·è´å®é™…æ˜¯æµ…æ‹·è´ã€‚</p><p><img src="091a8942ed5c4ee3a69cfb4b4b0981d5.png" alt="" /></p><p><img src="175c274e50c84df2b22592c9b7eae7b4.png" alt="" /></p><p><img src="a99f92f72724463380dba1c662b0ee19.png" alt="" /></p><p><img src="c1be6cf7e940478e95e15d381969e655.png" alt="" /></p><p><strong>ç»“è®ºï¼šå¦‚æœå¯¹è±¡ä¸­æ¶‰åŠåˆ°èµ„æºç®¡ç†æ—¶ï¼Œåƒä¸‡ä¸èƒ½ä½¿ç”¨</strong> <strong>memcpy</strong> <strong>è¿›è¡Œå¯¹è±¡ä¹‹é—´çš„æ‹·è´ï¼Œå› ä¸º</strong> <strong>memcpy</strong> <strong>æ˜¯</strong> <strong>æµ…æ‹·è´ï¼Œå¦åˆ™å¯èƒ½ä¼šå¼•èµ·å†…å­˜æ³„æ¼ç”šè‡³ç¨‹åºå´©æºƒã€‚</strong></p><h4 id="23åŠ¨æ€äºŒç»´æ•°ç»„ç†è§£"><a class="markdownIt-Anchor" href="#23åŠ¨æ€äºŒç»´æ•°ç»„ç†è§£"></a> <strong>2.3****åŠ¨æ€äºŒç»´æ•°ç»„ç†è§£</strong></h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»¥æ¨è¾‰ä¸‰è§’çš„å‰nè¡Œä¸ºä¾‹ï¼šå‡è®¾nä¸º5</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test2vector</span><span class="params">(<span class="type">size_t</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// ä½¿ç”¨vectorå®šä¹‰äºŒç»´æ•°ç»„vvï¼Œvvä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯vector&lt;int&gt;</span></span><br><span class="line">bit::vector&lt;bit::vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">vv</span>(n);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å°†äºŒç»´æ•°ç»„æ¯ä¸€è¡Œä¸­çš„vecotr&lt;int&gt;ä¸­çš„å…ƒç´ å…¨éƒ¨è®¾ç½®ä¸º1</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">vv[i].<span class="built_in">resize</span>(i + <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"><span class="comment">// ç»™æ¨è¾‰ä¸‰è§’å‡ºç¬¬ä¸€åˆ—å’Œå¯¹è§’çº¿çš„æ‰€æœ‰å…ƒç´ èµ‹å€¼</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt; n; ++i)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; i; ++j)</span><br><span class="line">&#123;</span><br><span class="line">vv[i][j] = vv[i - <span class="number">1</span>][j] + vv[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>bit::vector&lt;bit::vector<int>&gt; vv(n) ; æ„é€ ä¸€ä¸ª vv åŠ¨æ€äºŒç»´æ•°ç»„ï¼Œ vv ä¸­æ€»å…±æœ‰ n ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯ vector ç±» å‹çš„ï¼Œæ¯è¡Œæ²¡æœ‰åŒ…å«ä»»ä½•å…ƒç´ ï¼Œå¦‚æœn ä¸º 5 æ—¶å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="a0962ce3b9ec42bbb8af339c2a2975f1.png" alt="" /></p><p>vv ä¸­å…ƒç´ å¡«å……å®Œæˆä¹‹åï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="f0a42ccf85c44c6d9e764aabde640d2d.png" alt="" /></p><p>ä½¿ç”¨æ ‡å‡†åº“ä¸­ vector æ„å»ºåŠ¨æ€äºŒç»´æ•°ç»„æ—¶ä¸ä¸Šå›¾å®é™…æ˜¯ä¸€è‡´çš„</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€æœºå™¨å­¦ä¹ ã€‘å†³ç­–æ ‘ï¼ˆDecision Treeï¼‰</title>
      <link href="/2025/07/10/algo/%E3%80%90%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E3%80%91%E5%86%B3%E7%AD%96%E6%A0%91%EF%BC%88Decision%20Tree%EF%BC%89/"/>
      <url>/2025/07/10/algo/%E3%80%90%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E3%80%91%E5%86%B3%E7%AD%96%E6%A0%91%EF%BC%88Decision%20Tree%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h3 id="å¼•å…¥"><a class="markdownIt-Anchor" href="#å¼•å…¥"></a> å¼•å…¥</h3><p>å†³ç­–æ ‘æ˜¯ä¸€ç±»é¢„æµ‹æ¨¡å‹ï¼Œå®ƒä»£è¡¨çš„æ˜¯å¯¹è±¡å±æ€§ä¸å¯¹è±¡å€¼ä¹‹é—´çš„ä¸€ç§æ˜ å°„å…³ç³»ã€‚æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹è¡¨ç¤ºæŸä¸ªå¯¹è±¡ï¼Œè€Œæ¯ä¸ªåˆ†å‰è·¯å¾„åˆ™ä»£è¡¨æŸä¸ªå¯èƒ½çš„å±æ€§å€¼ï¼Œè€Œæ¯ä¸ªå¶èŠ‚ç‚¹åˆ™å¯¹åº”ä»æ ¹èŠ‚ç‚¹åˆ°è¯¥å¶èŠ‚ç‚¹æ‰€ç»å†çš„è·¯å¾„æ‰€è¡¨ç¤ºçš„å¯¹è±¡çš„å€¼ã€‚</p><h3 id="å…³äºåˆ†ç±»é—®é¢˜"><a class="markdownIt-Anchor" href="#å…³äºåˆ†ç±»é—®é¢˜"></a> å…³äºåˆ†ç±»é—®é¢˜</h3><p>è¿™é‡Œä¸»è¦è€ƒè™‘å†³ç­–æ ‘åŸºäºåˆ†ç±»é—®é¢˜çš„å¤„ç†ç®—æ³•ï¼Œåˆ†ç±»é—®é¢˜å’Œå›å½’é—®é¢˜æœ‰ä¸ªç®€å•çš„åˆ¤åˆ«æ–¹å¼ï¼šåˆ†ç±»çš„ç›®æ ‡å±æ€§æ˜¯ç¦»æ•£çš„ï¼Œè€Œå›å½’çš„ç›®æ ‡å±æ€§æ˜¯è¿ç»­çš„ã€‚</p><h3 id="åˆ†ç±»é—®é¢˜çš„æ­¥éª¤"><a class="markdownIt-Anchor" href="#åˆ†ç±»é—®é¢˜çš„æ­¥éª¤"></a> åˆ†ç±»é—®é¢˜çš„æ­¥éª¤</h3><p>1ã€æ¨¡å‹æ„å»ºï¼šé€šè¿‡å¯¹è®­ç»ƒé›†åˆçš„å½’çº³ï¼Œåˆ©ç”¨å½’çº³ç®—æ³•ç”Ÿæˆå¯è¯»çš„è§„åˆ™ï¼Œå»ºç«‹åˆ†ç±»æ¨¡å‹ã€‚</p><p>2ã€é¢„æµ‹æ¨è®ºï¼šæ ¹æ®è§„åˆ™å’Œå»ºç«‹çš„åˆ†ç±»æ¨¡å‹ï¼Œå¯¹æµ‹è¯•é›†åˆè¿›è¡Œæµ‹è¯•ï¼Œå¹¶å¤„ç†æ–°çš„æ•°æ®ã€‚</p><h3 id=""><a class="markdownIt-Anchor" href="#"></a> </h3><h3 id="å…³äºå½’çº³ç®—æ³•"><a class="markdownIt-Anchor" href="#å…³äºå½’çº³ç®—æ³•"></a> å…³äºå½’çº³ç®—æ³•</h3><ul><li>å½’çº³æ˜¯ä»ç‰¹æ®Šåˆ°ä¸€èˆ¬çš„è¿‡ç¨‹ï¼Œå½’çº³è¿‡ç¨‹å°±æ˜¯åœ¨æè¿°ç©ºé—´ä¸­è¿›è¡Œæœç´¢çš„è¿‡ç¨‹ã€‚</li><li>å½’çº³å¯åˆ†ä¸ºè‡ªé¡¶å‘ä¸‹ï¼Œè‡ªåº•å‘ä¸Šå’ŒåŒå‘æœç´¢ä¸‰ç§æ–¹å¼ã€‚<ul><li>è‡ªåº•å‘ä¸Šæ³•ï¼šä¸€æ¬¡å¤„ç†ä¸€ä¸ªè¾“å…¥å¯¹è±¡ï¼Œå°†æè¿°é€æ­¥ä¸€èˆ¬åŒ–ï¼ŒÂ ç›´åˆ°æœ€ç»ˆçš„ä¸€èˆ¬åŒ–æè¿°ã€‚</li><li>è‡ªé¡¶å‘ä¸‹æ³•ï¼šå¯¹ä¸€èˆ¬æ€§æè¿°é›†è¿›è¡Œæœç´¢ï¼Œå¯»æ‰¾æ»¡è¶³ä¸€å®šè¦æ±‚çš„æœ€ä¼˜çš„æè¿°ã€‚</li></ul></li><li>å½’çº³ç®—æ³•æ˜¯å†³ç­–æ ‘æŠ€æœ¯å‘ç°æ•°æ®æ¨¡å¼å’Œè§„åˆ™çš„æ ¸å¿ƒã€‚</li><li>å½’çº³å­¦ä¹ ä¾èµ–äºæ£€éªŒæ•°æ®ï¼Œå› æ­¤åˆç§°ä¸ºæ£€éªŒå­¦ä¹ ã€‚</li><li>å½’çº³æ¨ç†è¯•å›¾ä»å¯¹è±¡çš„ä¸€éƒ¨åˆ†æˆ–æ•´ä½“çš„ç‰¹å®šçš„è§‚å¯Ÿä¸­è·å¾—ä¸€ä¸ªå®Œå¤‡ä¸”æ­£ç¡®çš„æè¿°ã€‚å³ä»éƒ¨åˆ†äº‹å®åˆ°æ™®éæ€§è§„å¾‹çš„ç»“è®ºã€‚</li></ul><h3 id="å½’çº³çš„åŸºæœ¬å‡è®¾"><a class="markdownIt-Anchor" href="#å½’çº³çš„åŸºæœ¬å‡è®¾"></a> å½’çº³çš„åŸºæœ¬å‡è®¾</h3><p>å½’çº³å­¦ä¹ å­˜åœ¨ä¸€ä¸ªåŸºæœ¬å‡è®¾ï¼šä»»ä¸€å‡è®¾å¦‚æœèƒ½å¤Ÿåœ¨è¶³å¤Ÿå¤§çš„è®­ç»ƒæ ·æœ¬é›†ä¸­å¾ˆå¥½çš„é€¼è¿‘ç›®æ ‡å‡½æ•°ï¼Œåˆ™å®ƒä¹Ÿèƒ½åœ¨æµ‹è¯•æ ·æœ¬ä¸­å¾ˆå¥½åœ°é€¼è¿‘ç›®æ ‡å‡½æ•°ã€‚</p><p>è¯¥å‡å®šæ˜¯å½’çº³å­¦ä¹ çš„æœ‰æ•ˆæ€§çš„å‰ææ¡ä»¶ã€‚</p><h3 id="å†³ç­–æ ‘æ¨¡å‹"><a class="markdownIt-Anchor" href="#å†³ç­–æ ‘æ¨¡å‹"></a> å†³ç­–æ ‘æ¨¡å‹</h3><p>åˆ†ç±»å†³ç­–æ ‘æ˜¯ä¸€ç§æè¿°å¯¹å®ä¾‹è¿›è¡Œåˆ†ç±»çš„æ ‘å½¢ç»“æ„ï¼Œå†³ç­–æ ‘ç”±ç»“ç‚¹å’Œæœ‰å‘è¾¹æ„æˆï¼Œç»“ç‚¹å¯åˆ†ä¸ºå†…éƒ¨ç»“ç‚¹å’Œå¶ç»“ç‚¹ä¸¤ç§ï¼Œå†…éƒ¨èŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªç‰¹å¾æˆ–å±æ€§ï¼Œå¶èŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªåˆ†ç±»ï¼Œé€šå¸¸ç”¨åœ†è¡¨ç¤ºå†…éƒ¨ç»“ç‚¹ï¼Œç”¨æ–¹æ¡†è¡¨ç¤ºå¶ç»“ç‚¹ã€‚</p><p><img src="797984871ce756bea69a8e3cbcde1c5d.png" alt="" /></p><p>å†³ç­–æ ‘åˆ†ç±»ï¼Œä»æ ¹ç»“ç‚¹å¼€å§‹ï¼Œå¯¹å®ä¾‹æŸä¸€ç‰¹å¾è¿›è¡Œæµ‹è¯•ï¼Œæ ¹æ®æµ‹è¯•ç»“æœå°†å®ä¾‹åˆ†é…åˆ°å…¶å­ç»“ç‚¹ï¼Œæ¯ä¸€ä¸ªå­ç»“ç‚¹å¯¹åº”ç€è¯¥ç‰¹å¾çš„ä¸€ä¸ªå–å€¼ï¼Œå¦‚æ­¤é€’å½’ç›´è‡³è¾¾åˆ°å¶ç»“ç‚¹ã€‚</p><p>æ„é€ å†³ç­–æ ‘çš„æ ¸å¿ƒé—®é¢˜æ˜¯åœ¨æ¯ä¸€æ­¥å¦‚ä½•é€‰æ‹©é€‚å½“çš„å±æ€§å¯¹æ ·æœ¬åšæ‹†åˆ†ã€‚å¯¹ä¸€ä¸ªåˆ†ç±»é—®é¢˜ï¼Œä»å·²çŸ¥ç±»æ ‡è®°çš„è®­ç»ƒæ ·æœ¬ä¸­å­¦ä¹ å¹¶æ„é€ å‡ºå†³ç­–æ ‘æ˜¯ä¸€ä¸ªè‡ªä¸Šè€Œä¸‹ï¼Œåˆ†è€Œæ²»ä¹‹çš„è¿‡ç¨‹ã€‚</p><h3 id="å†³ç­–æ ‘çš„if-thenè§„åˆ™"><a class="markdownIt-Anchor" href="#å†³ç­–æ ‘çš„if-thenè§„åˆ™"></a> å†³ç­–æ ‘çš„if-thenè§„åˆ™</h3><p>ç”±å†³ç­–æ ‘çš„æ ¹ç»“ç‚¹åˆ°å¶ç»“ç‚¹çš„æ¯ä¸€æ¡è·¯å¾„æ„å»ºä¸€æ¡è§„åˆ™:è·¯å¾„ä¸Šå†…éƒ¨ç»“ç‚¹çš„ç‰¹å¾å¯¹åº”è§„åˆ™çš„æ¡ä»¶ï¼Œè€Œå¶ç»“ç‚¹çš„ç±»å¯¹åº”è§„åˆ™çš„ç»“è®ºã€‚</p><p>å†³ç­–æ ‘çš„è·¯å¾„ä¸å…¶å¯¹åº”çš„if-thenè§„åˆ™é›†åˆå…·æœ‰ä¸€ä¸ªé‡è¦çš„æ€§è´¨:äº’æ–¥ä¸”å®Œå¤‡ã€‚è¿™æ„å‘³ç€æ¯ä¸€ä¸ªå®ä¾‹éƒ½è¢«ä¸€æ¡è·¯å¾„æˆ–ä¸€æ¡è§„åˆ™æ‰€è¦†ç›–ï¼Œå¹¶ä¸”åªè¢«ä¸€æ¡è·¯å¾„æˆ–ä¸€æ¡è§„åˆ™æ‰€è¦†ç›–ã€‚</p><p><img src="13b78e7dbfe4129c6a69a8dc3fa5bde7.png" alt="" /></p><h3 id="å†³ç­–æ ‘ä¸æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ"><a class="markdownIt-Anchor" href="#å†³ç­–æ ‘ä¸æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ"></a> å†³ç­–æ ‘ä¸æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ</h3><p>å†³ç­–æ ‘è¡¨ç¤ºç»™å®šç‰¹å¾æ¡ä»¶ä¸‹ç±»çš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒã€‚æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒå®šä¹‰åœ¨ç‰¹å¾ç©ºé—´çš„ä¸€ä¸ªåˆ’åˆ†ä¸Š.å°†ç‰¹å¾ç©ºé—´åˆ’åˆ†ä¸ºäº’ä¸ç›¸äº¤çš„å•å…ƒæˆ–åŒºåŸŸï¼Œå¹¶åœ¨æ¯ä¸ªå•å…ƒå®šä¹‰ä¸€ä¸ªç±»çš„æ¦‚ç‡åˆ†å¸ƒå°±æ„æˆäº†ä¸€ä¸ªæ¡ä»¶æ¦‚ç‡åˆ†å¸ƒã€‚</p><p>å†³ç­–æ ‘çš„ä¸€æ¡è·¯å¾„å¯¹åº”åˆ’åˆ†ä¸­çš„ä¸€ä¸ªå•å…ƒã€‚å†³ç­–æ ‘æ‰€è¡¨ç¤ºçš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒç”±å„ä¸ªå•å…ƒç»™å®šæ¡ä»¶ä¸‹ç±»çš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒç»„æˆã€‚</p><p>å†³ç­–æ ‘å­¦ä¹ æœ¬è´¨ä¸Šæ˜¯ä»è®­ç»ƒæ•°æ®é›†ä¸­å½’çº³å‡ºä¸€ç»„åˆ†ç±»è§„åˆ™ï¼Œèƒ½å¯¹è®­ç»ƒæ•°æ®è¿›è¡Œæ­£ç¡®åˆ†ç±»çš„å†³ç­–æ ‘å¯èƒ½æœ‰å¤šä¸ªï¼Œä¹Ÿå¯èƒ½ä¸€ä¸ªä¹Ÿæ²¡æœ‰ã€‚æˆ‘ä»¬éœ€è¦çš„æ˜¯ä¸€ä¸ªä¸è®­ç»ƒæ•°æ®çŸ›ç›¾è¾ƒå°åŒæ—¶å…·æœ‰è¾ƒä¼˜æ³›åŒ–èƒ½åŠ›çš„å†³ç­–æ ‘ã€‚å³æ¡ä»¶æ¦‚ç‡æ¨¡å‹åº”è¯¥ä¸ä»…å¯¹è®­ç»ƒæ•°æ®æœ‰å¾ˆå¥½çš„æ‹Ÿåˆï¼Œè€Œä¸”å¯¹æœªçŸ¥æ•°æ®æœ‰å¾ˆå¥½çš„é¢„æµ‹ã€‚</p><h3 id="å†³ç­–æ ‘ç®—æ³•"><a class="markdownIt-Anchor" href="#å†³ç­–æ ‘ç®—æ³•"></a> å†³ç­–æ ‘ç®—æ³•</h3><p>å››ä¸ªé‡è¦ç®—æ³•ï¼šCLSã€ID3ã€C4.5ã€CARTã€‚<strong>ID3ä¸­ä½¿ç”¨äº†ä¿¡æ¯å¢ç›Šé€‰æ‹©ç‰¹å¾</strong>ï¼Œå¢ç›Šå¤§ä¼˜å…ˆé€‰æ‹©ã€‚<strong>C4.5ä¸­ï¼Œé‡‡ç”¨ä¿¡æ¯å¢ç›Šç‡é€‰æ‹©ç‰¹å¾</strong>ï¼Œå‡å°‘å› ç‰¹å¾å€¼å¤šå¯¼è‡´ä¿¡æ¯å¢ç›Šå¤§çš„é—®é¢˜ã€‚<strong>CARTåˆ†ç±»æ ‘ç®—æ³•ä½¿ç”¨åŸºå°¼ç³»æ•°é€‰æ‹©ç‰¹å¾</strong>ï¼ŒåŸºå°¼ç³»æ•°ä»£è¡¨äº†æ¨¡å‹çš„ä¸çº¯åº¦ï¼Œ<strong>åŸºå°¼ç³»æ•°è¶Šå°ï¼Œä¸çº¯åº¦è¶Šä½ï¼Œç‰¹å¾è¶Šå¥½</strong>ã€‚è¿™å’Œä¿¡æ¯å¢ç›Šï¼ˆç‡ï¼‰ç›¸åã€‚</p><p>ç®—æ³•å†ç¨‹ï¼š</p><ul><li>1966å¹´ï¼ŒCLSå­¦ä¹ ç³»ç»Ÿ</li><li>1979å¹´ï¼Œç®€åŒ–CLSï¼Œå¾—åˆ°ID3</li><li>1984å¹´ï¼ŒCARTç®—æ³•</li><li>1986å¹´ï¼ŒåŸºäºID3ï¼Œåˆ›å»ºèŠ‚ç‚¹ç¼“å†²åŒºï¼Œå¾—åˆ°ID4</li><li>1988å¹´ï¼ŒåŸºäºID4ï¼Œä¼˜åŒ–æ•ˆç‡ï¼Œå¾—åˆ°ID5</li><li>1993å¹´ï¼Œæ”¹è¿›ID3ï¼Œå¾—åˆ°C4.5</li></ul><h3 id="å†³ç­–æ ‘clsç®—æ³•"><a class="markdownIt-Anchor" href="#å†³ç­–æ ‘clsç®—æ³•"></a> å†³ç­–æ ‘CLSç®—æ³•</h3><p>CLS(Concept Learning System)ç®—æ³•æ˜¯è®¸å¤šå†³ç­–æ ‘å­¦ä¹ ç®—æ³•çš„åŸºç¡€</p><h4 id="åŸºæœ¬æ€æƒ³"><a class="markdownIt-Anchor" href="#åŸºæœ¬æ€æƒ³"></a> åŸºæœ¬æ€æƒ³</h4><p>CLSçš„åŸºæœ¬æ€æƒ³æ˜¯ä»ä¸€æ£µç©ºå†³ç­–æ ‘å¼€å§‹ï¼Œé€‰æ‹©æŸä¸€åˆ†ç±»å±æ€§ä½œä¸ºæµ‹è¯•å±æ€§ã€‚è¯¥æµ‹è¯•å±æ€§å¯¹åº”å†³ç­–æ ‘ä¸­çš„å†³ç­–ç»“ç‚¹ã€‚æ ¹æ®è¯¥åˆ†ç±»å±æ€§çš„å€¼çš„ä¸åŒï¼Œå¯å°†è®­ç»ƒæ ·æœ¬åˆ†æˆç›¸åº”çš„å­é›†ã€‚</p><p>è‹¥è¯¥å­é›†ä¸ºç©ºï¼Œæˆ–è¯¥å­é›†ä¸­çš„æ ·æœ¬å±äºåŒä¸€ä¸ªç±»ï¼Œåˆ™è¯¥å­é›†ä¸ºå¶ç»“ç‚¹ã€‚å¦åˆ™è¯¥å­é›†å¯¹åº”äºå†³ç­–æ ‘çš„å†…éƒ¨ç»“ç‚¹ï¼Œå³æµ‹è¯•ç»“ç‚¹ï¼Œéœ€è¦é€‰æ‹©ä¸€ä¸ªæ–°çš„åˆ†ç±»å±æ€§å¯¹è¯¥å­é›†è¿›è¡Œåˆ’åˆ†ï¼Œç›´åˆ°æ‰€æœ‰çš„å­é›†éƒ½ä¸ºç©ºæˆ–è€…å±äºåŒä¸€ç±»ã€‚</p><h4 id="ç®—æ³•æ­¥éª¤"><a class="markdownIt-Anchor" href="#ç®—æ³•æ­¥éª¤"></a> ç®—æ³•æ­¥éª¤</h4><p>1ã€ç”Ÿæˆä¸€é¢—ç©ºå†³ç­–æ ‘å’Œä¸€å¼ è®­ç»ƒæ ·æœ¬å±æ€§é›†ï¼›</p><p>2ã€è‹¥è®­ç»ƒæ ·æœ¬é›†Tä¸­æ‰€æœ‰çš„æ ·æœ¬éƒ½å±äºåŒä¸€ç±»,åˆ™ç”Ÿæˆç»“ç‚¹T ,Â å¹¶ç»ˆæ­¢å­¦ä¹ ç®—æ³•;å¦åˆ™ç»§ç»­ï¼›</p><p>3ã€æ ¹æ®æŸç§ç­–ç•¥ä»è®­ç»ƒæ ·æœ¬å±æ€§è¡¨ä¸­é€‰æ‹©å±æ€§AÂ ä½œä¸ºæµ‹è¯•å±æ€§,Â ç”Ÿæˆæµ‹è¯•ç»“ç‚¹Aï¼›</p><blockquote><p>æµ‹è¯•å±æ€§é›†çš„ç»„æˆä»¥åŠæµ‹è¯•å±æ€§çš„å…ˆåå¯¹å†³ç­–æ ‘çš„å­¦ä¹ å…·æœ‰ä¸¾è¶³è½»é‡çš„å½±å“</p></blockquote><p>4ã€è‹¥Açš„å–å€¼ä¸ºv1,v2,â€¦,vm,Â åˆ™æ ¹æ®Açš„å–å€¼çš„ä¸åŒ,å°†Tåˆ’åˆ†æˆmä¸ªå­é›†T1,T2,â€¦,Tmï¼›</p><p>5ã€ä»è®­ç»ƒæ ·æœ¬å±æ€§è¡¨ä¸­åˆ é™¤å±æ€§Aï¼Œè½¬è‡³æ­¥éª¤äºŒï¼Œå¯¹æ¯ä¸ªå­é›†é€’å½’è°ƒç”¨CLSã€‚</p><h4 id="ç®—æ³•æ€è€ƒ"><a class="markdownIt-Anchor" href="#ç®—æ³•æ€è€ƒ"></a> ç®—æ³•æ€è€ƒ</h4><p>å®é™…åº”ç”¨ä¸­å¯ä»¥å‘ç°ï¼Œæµ‹è¯•å±æ€§é›†çš„ç»„æˆä»¥åŠæµ‹è¯•å±æ€§çš„å…ˆåå¯¹å†³ç­–æ ‘çš„å­¦ä¹ å…·æœ‰ä¸¾è¶³è½»é‡çš„å½±å“ï¼Œä¸åŒçš„ç‰¹å¾å’Œä¸åŒçš„é€‰å–é¡ºåºä¼šç”Ÿæˆä¸åŒçš„å†³ç­–æ ‘ï¼Œå› æ­¤ç‰¹å¾çš„é€‰æ‹©æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚</p><p><img src="604e59499528d875ca7f33e5af4f7bef.png" alt="" /></p><p>ä¸åŒçš„ç‰¹å¾å’Œä¸åŒçš„é€‰å–é¡ºåºä¼šç”Ÿæˆä¸åŒçš„å†³ç­–æ ‘</p><p>é‚£ä¹ˆï¼Œå¦‚ä½•é€‰æ‹©ç‰¹å¾ï¼Ÿè¿™ä¸€ç‚¹ä¼šåœ¨æ¥ä¸‹æ¥çš„ID3ç®—æ³•ä¸­å¾—åˆ°è¿›ä¸€æ­¥å°è¯•ã€‚</p><h3 id="å†³ç­–æ ‘id3ç®—æ³•"><a class="markdownIt-Anchor" href="#å†³ç­–æ ‘id3ç®—æ³•"></a> å†³ç­–æ ‘ID3ç®—æ³•</h3><p>ID3ç®—æ³•ä¸»è¦é’ˆå¯¹å±æ€§é€‰æ‹©é—®é¢˜ã€‚æ˜¯å†³ç­–æ ‘å­¦ä¹ æ–¹æ³•ä¸­æœ€å…·å½±å“å’Œæœ€ä¸ºå…¸å‹çš„ç®—æ³•ã€‚</p><h4 id="åŸºæœ¬æ€æƒ³-2"><a class="markdownIt-Anchor" href="#åŸºæœ¬æ€æƒ³-2"></a> åŸºæœ¬æ€æƒ³</h4><p>åŸºäºCLSçš„åŸºæœ¬æ€æƒ³ï¼ŒID3ç®—æ³•é€šè¿‡ä¿¡æ¯å¢ç›Šåº¦é€‰æ‹©ç‰¹å¾</p><p>å½“è·å–ä¿¡æ¯æ—¶ï¼Œéœ€è¦å°†ä¸ç¡®å®šçš„å†…å®¹è½¬ä¸ºç¡®å®šçš„å†…å®¹ï¼Œå› æ­¤ä¿¡æ¯ä¼´ç€ä¸ç¡®å®šæ€§ã€‚ä»æŸç§ç¨‹åº¦ä¸Šè®²ï¼Œå°æ¦‚ç‡äº‹ä»¶æ¯”å¤§æ¦‚ç‡äº‹ä»¶åŒ…å«çš„ä¿¡æ¯é‡å¤§ï¼Œå¦‚æœæŸä»¶äº‹æƒ…æ˜¯â€œç™¾å¹´ä¸€è§â€åˆ™è‚¯å®šæ¯”â€œä¹ ä»¥ä¸ºå¸¸â€çš„äº‹ä»¶åŒ…å«çš„ä¿¡æ¯é‡å¤§ã€‚é‚£ä¹ˆå¦‚ä½•è¡¡é‡ä¿¡æ¯é‡çš„å¤§å°ï¼Ÿè¿™å°±æ¶‰åŠä¿¡æ¯è®ºä¸­çš„æ¦‚å¿µã€‚</p><h4 id="ç†µçš„æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#ç†µçš„æ¦‚å¿µ"></a> ç†µçš„æ¦‚å¿µ</h4><p><strong>ç†µï¼ˆentropy</strong>ï¼‰: ä¿¡æ¯é‡å¤§å°çš„åº¦é‡ï¼Œä¹Ÿè¡¨ç¤ºéšæœºå˜é‡ä¸ç¡®å®šæ€§çš„åº¦é‡ã€‚</p><p><strong>ç†µçš„é€šä¿—è§£é‡Š</strong>ï¼šäº‹ä»¶Aiçš„ä¿¡æ¯é‡<img src="eq.png" alt="l(A_i )" />å¯ä»¥è¡¨ç¤ºä¸ºï¼š<img src="eq.1.png" alt="l(A_i)=p(A_i)log_2rac{1}{p(A_i)}" />,å…¶ä¸­<img src="eq.2.png" alt="p(A_i)" />è¡¨ç¤ºäº‹ä»¶Aiå‘ç”Ÿçš„æ¦‚ç‡ã€‚</p><p><strong>ç†µçš„ç†è®ºè§£é‡Š</strong>ï¼šè®¾Xæ˜¯ä¸€ä¸ªå–æœ‰é™ä¸ªå€¼çš„ç¦»æ•£éšæœºå˜é‡ï¼Œå…¶æ¦‚ç‡åˆ†å¸ƒä¸º</p><p><img src="eq.3.png" alt="P(X_i=x_i)=p_i,i=1,2,..,n" /></p><p>åˆ™éšæœºå˜é‡Xçš„ç†µä¸ºï¼š</p><p><img src="eq.4.png" alt="H=-um_{i=1}^{n}p_ilogp_i" /></p><p><img src="eq.5.png" alt="0eq Heq logn" /></p><p>å…¶ä¸­å¯¹æ•°ä»¥2ä¸ºåº•æˆ–ä»¥eä¸ºåº•ï¼Œç†µçš„å•ä½åˆ†åˆ«ç§°ä¸ºæ¯”ç‰¹(bit)æˆ–çº³ç‰¹(nat)ã€‚</p><p>ç†µåªä¾èµ–äºXçš„åˆ†å¸ƒï¼Œä¸Xçš„å–å€¼æ— å…³ã€‚</p><p><strong>ç†µè¶Šå¤§ï¼Œå¯¹åº”éšæœºå˜é‡çš„ä¸ç¡®å®šæ€§ä¹Ÿè¶Šå¤§ã€‚</strong></p><p>å½“Xä¸º0ï¼Œ1åˆ†å¸ƒæ—¶ï¼Œ<img src="eq.6.png" alt="P(X=1)=p" />,<img src="eq.7.png" alt="P(X=0)=1-p" />,<img src="eq.8.png" alt="0eq peq 1" /></p><p><img src="eq.9.png" alt="H=-plog_2p+-(1-p)log_2(1-p)" /></p><p>Héšpçš„å˜åŒ–æƒ…å†µå¯ç”¨å›¾è¡¨ç¤ºï¼š</p><p><img src="24fa3316dd8078871f344c544bc89ec8.png" alt="" /></p><p><strong>æ¡ä»¶ç†µ:</strong> <img src="eq.10.png" alt="H(Y|X)=um_{i=1}^{n}p_iH(Y|X=x_i)" />ï¼Œè¡¨ç¤ºåœ¨å·±çŸ¥éšæœºå˜é‡Xçš„æ¡ä»¶ä¸‹éšæœºå˜é‡Yçš„ä¸ç¡®å®šæ€§ï¼Œå®šä¹‰ä¸ºXç»™å®šæ¡ä»¶ä¸‹Yçš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒçš„ç†µå¯¹Xçš„æ•°å­¦æœŸ.</p><p>å½“ç†µå’Œæ¡ä»¶ç†µä¸­çš„æ¦‚ç‡ç”±æ•°æ®ä¼°è®¡(ç‰¹åˆ«æ˜¯æå¤§ä¼¼ç„¶ä¼°è®¡)å¾—åˆ°æ—¶ï¼Œæ‰€å¯¹åº”çš„ç†µä¸æ¡ä»¶ç†µåˆ†åˆ«ç§°ä¸ºç»éªŒç†µå’Œç»éªŒæ¡ä»¶ç†µ.</p><h4 id="ä¿¡æ¯å¢ç›Š"><a class="markdownIt-Anchor" href="#ä¿¡æ¯å¢ç›Š"></a> ä¿¡æ¯å¢ç›Š</h4><p>ä¿¡æ¯å¢ç›Š(Information gain)ï¼šç‰¹å¾Aå¯¹è®­ç»ƒæ•°æ®é›†Dçš„ä¿¡æ¯å¢ç›Šg(D,A),Â å®šä¹‰ä¸ºé›†åˆDçš„ç»éªŒç†µH(D)ä¸ç‰¹å¾Aç»™å®šæ¡ä»¶ä¸‹Dçš„ç»éªŒæ¡ä»¶ç†µH(D|A)ä¹‹å·®ï¼Œå³<img src="eq.11.png" alt="g(D,A)=H(D)-H(D|A)" /></p><p>ä¿¡æ¯å¢ç›Šè¡¨ç¤ºå¾—çŸ¥ç‰¹å¾Xçš„ä¿¡æ¯è€Œä½¿å¾—ç±»Yçš„ä¿¡æ¯çš„ä¸ç¡®å®šæ€§å‡å°‘çš„ç¨‹åº¦ï¼Œä¸€èˆ¬æ¥è¯´<img src="eq.12.png" alt="H(Y)-H(Y|X)" />ç§°ä¸ºäº’ä¿¡æ¯ï¼Œå†³ç­–æ ‘å­¦ä¹ ä¸­çš„ä¿¡æ¯å¢ç›Šç­‰ä»·äºè®­ç»ƒæ•°æ®é›†ä¸­ç±»ä¸ç‰¹å¾çš„äº’ä¿¡æ¯ã€‚</p><h4 id="ä¿¡æ¯å¢ç›Šçš„ç®—æ³•"><a class="markdownIt-Anchor" href="#ä¿¡æ¯å¢ç›Šçš„ç®—æ³•"></a> ä¿¡æ¯å¢ç›Šçš„ç®—æ³•</h4><p>è¾“å…¥ï¼šè®­ç»ƒæ•°æ®é›†Då’Œç‰¹å¾Aï¼›</p><p>1ã€è®¡ç®—æ•°æ®é›†Då¾—ç»éªŒç†µï¼š</p><p><img src="eq.13.png" alt="H(D)=-um_{k=1}^{K}rac{|C_k|}{|D|}log_2rac{|C_k|}{|D|}" /></p><p>2ã€è®¡ç®—ç‰¹å¾Aå¯¹æ•°æ®é›†Dçš„ç»éªŒæ¡ä»¶ç†µH(D|A)</p><p><img src="eq.14.png" alt="H(D|A)=um_{I=1}{n}\frac{|D_i|}{|D|}H(D_i)=-\sum_{I=1}{n}rac{|D_i|}{|D|}um_{k=1}^{K}rac{|D_{ik}|}{|D|}log_2rac{|D_{ik}|}{|D|}" /></p><p>3ã€è®¡ç®—ä¿¡æ¯å¢ç›Š</p><p><img src="eq.15.png" alt="g(D,A)=H(D)-H(D|A)" /></p><p>è¾“å‡ºï¼šç‰¹å¾Aå¯¹è®­ç»ƒæ•°æ®é›†Dçš„ä¿¡æ¯å¢ç›Š<img src="eq.11.png" alt="g(D,A)" />ã€‚</p><blockquote><ul><li>|CkÂ |ä¸ºå±äºç±»Ckçš„æ ·æœ¬ä¸ªæ•°</li><li>ç‰¹å¾Aæœ‰nä¸ªä¸åŒçš„Â å–å€¼{a1,a2â€¦an}æ ¹æ®ç‰¹å¾Açš„å–å€¼Â å°†Dåˆ’åˆ†ä¸ºnä¸ªå­é›†D1â€¦Dn</li><li>å­é›†Diä¸­å±äºç±»Ckçš„æ ·æœ¬é›†åˆä¸ºDik</li></ul></blockquote><h4 id="id3ç®—æ³•"><a class="markdownIt-Anchor" href="#id3ç®—æ³•"></a> ID3ç®—æ³•</h4><p>1ã€ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œè®¡ç®—æ‰€æœ‰å¯èƒ½çš„ç‰¹å¾çš„ä¿¡æ¯å¢ç›Šï¼Œé€‰æ‹©ä¿¡æ¯å¢ç›Šæœ€å¤§çš„ç‰¹å¾ä½œä¸ºèŠ‚ç‚¹çš„åˆ’åˆ†ç‰¹å¾ï¼›</p><p>2ã€ç”±è¯¥ç‰¹å¾çš„ä¸åŒå–å€¼å»ºç«‹å­èŠ‚ç‚¹ï¼›</p><p>3ã€å†å¯¹å­èŠ‚ç‚¹é€’å½’1-2æ­¥ï¼Œæ„å»ºå†³ç­–æ ‘ï¼›</p><p>4ã€ç›´åˆ°æ²¡æœ‰ç‰¹å¾å¯ä»¥é€‰æ‹©æˆ–ç±»åˆ«å®Œå…¨ç›¸åŒä¸ºæ­¢ï¼Œå¾—åˆ°æœ€ç»ˆçš„å†³ç­–æ ‘ã€‚</p><h4 id="ç®—æ³•æ€è€ƒ-2"><a class="markdownIt-Anchor" href="#ç®—æ³•æ€è€ƒ-2"></a> ç®—æ³•æ€è€ƒ</h4><p>ID3ç®—æ³•ä»¥ä¿¡æ¯ç†µä¸ºåº¦é‡ï¼Œç”¨äºå†³ç­–æ ‘èŠ‚ç‚¹çš„å±æ€§é€‰æ‹©ï¼Œæ¯æ¬¡ä¼˜å…ˆé€‰å–ä¿¡æ¯é‡æœ€å¤šçš„å±æ€§ï¼Œäº¦å³èƒ½ä½¿ç†µå€¼å˜ä¸ºæœ€å°çš„å±æ€§ï¼Œä»¥æ„é€ ä¸€é¢—ç†µå€¼ä¸‹é™æœ€å¿«çš„å†³ç­–æ ‘ï¼Œåˆ°å¶å­èŠ‚ç‚¹å¤„çš„ç†µå€¼ä¸º0ã€‚æ­¤æ—¶ï¼Œæ¯ä¸ªå¶å­èŠ‚ç‚¹å¯¹åº”çš„å®ä¾‹é›†ä¸­çš„å®ä¾‹å±äºåŒä¸€ç±»ã€‚</p><h3 id="å†³ç­–æ ‘c45ç®—æ³•"><a class="markdownIt-Anchor" href="#å†³ç­–æ ‘c45ç®—æ³•"></a> å†³ç­–æ ‘C4.5ç®—æ³•</h3><p><strong>ID3ä¸­ä½¿ç”¨äº†ä¿¡æ¯å¢ç›Šé€‰æ‹©ç‰¹å¾</strong>ï¼Œå¢ç›Šå¤§ä¼˜å…ˆé€‰æ‹©ã€‚<strong>C4.5ä¸­ï¼Œé‡‡ç”¨ä¿¡æ¯å¢ç›Šç‡é€‰æ‹©ç‰¹å¾</strong>ï¼Œå‡å°‘å› ç‰¹å¾å€¼å¤šå¯¼è‡´ä¿¡æ¯å¢ç›Šå¤§çš„é—®é¢˜ã€‚ä»¥ä¿¡æ¯å¢ç›Šä½œä¸ºåˆ’åˆ†è®­ç»ƒæ•°æ®é›†çš„ç‰¹å¾ï¼Œæ˜“åå‘äºé€‰æ‹©å–å€¼è¾ƒå¤šçš„ç‰¹å¾ï¼Œè€ƒè™‘ä¿¡æ¯å¢ç›Šæ¯”å¯ä»¥çŸ«æ­£è¿™ä¸€é—®é¢˜ã€‚</p><h4 id="ä¿¡æ¯å¢ç›Šæ¯”"><a class="markdownIt-Anchor" href="#ä¿¡æ¯å¢ç›Šæ¯”"></a> ä¿¡æ¯å¢ç›Šæ¯”</h4><p>ç‰¹å¾Aå¯¹è®­ç»ƒæ•°æ®é›†Dçš„ä¿¡æ¯å¢ç›Šæ¯”å®šä¹‰ä¸ºä¿¡æ¯å¢ç›Šä¸è®­ç»ƒæ•°æ®é›†Då…³äºç‰¹å¾Açš„å€¼çš„ç†µä¹‹æ¯”</p><p><img src="eq.16.png" alt="g_R(D,A)=rac{g(D,A)}{H_A(D)}" /></p><p>å…¶ä¸­<img src="eq.17.png" alt="H_A(D)=-um_{i=1}^{n}rac{|D_i|}{|D|}log_2rac{|D_i|}{|D|}" />ï¼Œnæ˜¯ç‰¹å¾Açš„å–å€¼ä¸ªæ•°</p><h3 id="å†³ç­–æ ‘cartç®—æ³•"><a class="markdownIt-Anchor" href="#å†³ç­–æ ‘cartç®—æ³•"></a> å†³ç­–æ ‘CARTç®—æ³•</h3><p>ID3å’ŒC4.5ç®—æ³•ï¼Œç”Ÿæˆçš„å†³ç­–æ ‘æ˜¯å¤šå‰æ ‘ï¼Œåªèƒ½å¤„ç†åˆ†ç±»ä¸èƒ½å¤„ç†å›å½’ã€‚è€ŒCARTï¼ˆclassification and regression treeï¼‰åˆ†ç±»å›å½’æ ‘ç®—æ³•ï¼Œæ—¢å¯ç”¨äºåˆ†ç±»ä¹Ÿå¯ç”¨äºå›å½’ã€‚ åˆ†ç±»æ ‘çš„è¾“å‡ºæ˜¯æ ·æœ¬çš„ç±»åˆ«ï¼Œ å›å½’æ ‘çš„è¾“å‡ºæ˜¯ä¸€ä¸ªå®æ•°ã€‚</p><h4 id="ç®—æ³•ç»„æˆ"><a class="markdownIt-Anchor" href="#ç®—æ³•ç»„æˆ"></a> ç®—æ³•ç»„æˆ</h4><ul><li>å†³ç­–æ ‘ç”Ÿæˆ</li><li>å†³ç­–æ ‘å‰ªæ</li></ul><h4 id="catræ ‘"><a class="markdownIt-Anchor" href="#catræ ‘"></a> CATRæ ‘</h4><ul><li>ç›®æ ‡å˜é‡æ˜¯ç±»åˆ«çš„â€”â€”åˆ†ç±»æ ‘ï¼šGiniæŒ‡æ ‡ã€Towingã€order Towing</li><li>ç›®æ ‡å˜é‡æ˜¯è¿ç»­çš„â€”â€”å›å½’æ ‘ï¼šæœ€å°å¹³æ–¹æ®‹å·®ã€æœ€å°ç»å¯¹æ®‹å·®</li></ul><h4 id="åŸºå°¼ç³»æ•°"><a class="markdownIt-Anchor" href="#åŸºå°¼ç³»æ•°"></a> åŸºå°¼ç³»æ•°</h4><p>æ•°æ®é›†Dçš„çº¯åº¦å¯ç”¨åŸºå°¼å€¼æ¥åº¦é‡</p><p><img src="eq.18.png" alt="Gini(D)=um_{i=1}{n}p(x_i)(1-p(x_i))=1-\sum_{i=1}{n}p(x_i)^{2}" /></p><p>å…¶ä¸­ï¼ŒÂ p(xi)Â æ˜¯åˆ†ç±»Â xiÂ å‡ºç°çš„æ¦‚ç‡ï¼Œnæ˜¯åˆ†ç±»çš„æ•°ç›®ã€‚Gini(D)åæ˜ äº†ä»æ•°æ®é›†Dä¸­éšæœºæŠ½å–ä¸¤ä¸ªæ ·æœ¬ï¼Œå…¶ç±»åˆ«æ ‡è®°ä¸ä¸€è‡´çš„æ¦‚ç‡ã€‚å› æ­¤ï¼Œ<strong>Gini(D)è¶Šå°ï¼Œåˆ™æ•°æ®é›†Dçš„çº¯åº¦è¶Šé«˜</strong>ã€‚</p><p>å¯¹äºæ ·æœ¬Dï¼Œæ ·æœ¬å®¹é‡ä¸º|D|ï¼Œæ ¹æ®ç‰¹å¾A æ˜¯å¦å–æŸä¸€å¯èƒ½å€¼aï¼ŒæŠŠæ ·æœ¬Dåˆ†æˆä¸¤éƒ¨åˆ†D1å’ŒD2 ï¼Œæ‰€ä»¥CARTåˆ†ç±»æ ‘ç®—æ³•å»ºç«‹èµ·æ¥çš„æ˜¯äºŒå‰æ ‘ï¼Œè€Œä¸æ˜¯å¤šå‰æ ‘ã€‚</p><p>åœ¨å±æ€§Açš„æ¡ä»¶ä¸‹ï¼Œæ ·æœ¬Dçš„åŸºå°¼ç³»æ•°å®šä¹‰ä¸º</p><p><img src="eq.19.png" alt="Giniindex(D|A=a)=rac{|D_1|}{|D|}Gini(D_1)+rac{|D_2|}{|D|}Gini(D_2)" /></p><h3 id="å†³ç­–æ ‘çš„ä¼˜ç‚¹"><a class="markdownIt-Anchor" href="#å†³ç­–æ ‘çš„ä¼˜ç‚¹"></a> å†³ç­–æ ‘çš„ä¼˜ç‚¹</h3><p>1ã€å†³ç­–æ¨ç†è¿‡ç¨‹å¯ä»¥è¡¨ç¤ºæˆIf-Thençš„å½¢å¼ï¼›</p><p>2ã€æ¨ç†è¿‡ç¨‹å®Œå…¨ä¾èµ–äºå±æ€§å˜é‡çš„å–å€¼ç‰¹ç‚¹ï¼›</p><p>3ã€å¯å¿½ç•¥å¯¹ç›®æ ‡å˜é‡æ— è´¡çŒ®çš„å±æ€§å˜é‡ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ™ºèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> algo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++åŠ¨æ€åˆ†é…å†…å­˜çŸ¥è¯†ç‚¹ï¼</title>
      <link href="/2025/07/10/C/C++%E5%8A%A8%E6%80%81%E5%88%86%E9%85%8D%E5%86%85%E5%AD%98%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%81/"/>
      <url>/2025/07/10/C/C++%E5%8A%A8%E6%80%81%E5%88%86%E9%85%8D%E5%86%85%E5%AD%98%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%81/</url>
      
        <content type="html"><![CDATA[<h2 id="1åŠ¨æ€åˆ†é…å†…å­˜çš„æ€æƒ³"><a class="markdownIt-Anchor" href="#1åŠ¨æ€åˆ†é…å†…å­˜çš„æ€æƒ³"></a> 1.åŠ¨æ€åˆ†é…å†…å­˜çš„æ€æƒ³</h2><p>åŠ¨æ€åˆ†é…å†…å­˜æ˜¯æŒ‡åœ¨ç¨‹åºè¿è¡Œæ—¶æ ¹æ®éœ€è¦åŠ¨æ€åœ°åˆ†é…å†…å­˜ç©ºé—´ã€‚è¿™ç›¸å¯¹äºé™æ€åˆ†é…å†…å­˜æ¥è¯´ï¼Œé™æ€åˆ†é…å†…å­˜æ˜¯åœ¨ç¼–è¯‘æ—¶å›ºå®šåœ°åˆ†é…å†…å­˜ç©ºé—´ï¼Œè€ŒåŠ¨æ€åˆ†é…å†…å­˜å¯ä»¥åœ¨ç¨‹åºè¿è¡ŒæœŸé—´æ ¹æ®å®é™…éœ€æ±‚è¿›è¡Œå†…å­˜çš„ç”³è¯·å’Œé‡Šæ”¾ï¼Œä»¥æé«˜å†…å­˜çš„åˆ©ç”¨ç‡å’Œçµæ´»æ€§ã€‚</p><h2 id="2åŠ¨æ€åˆ†é…å†…å­˜çš„æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#2åŠ¨æ€åˆ†é…å†…å­˜çš„æ¦‚å¿µ"></a> 2.åŠ¨æ€åˆ†é…å†…å­˜çš„æ¦‚å¿µ</h2><p>åŠ¨æ€åˆ†é…å†…å­˜çš„æ¦‚å¿µåŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><h3 id="21å†…å­˜åˆ†é…å‡½æ•°"><a class="markdownIt-Anchor" href="#21å†…å­˜åˆ†é…å‡½æ•°"></a> 2.1å†…å­˜åˆ†é…å‡½æ•°</h3><p>åŠ¨æ€åˆ†é…å†…å­˜éœ€è¦ä½¿ç”¨å†…å­˜åˆ†é…å‡½æ•°ï¼Œå¦‚Cè¯­è¨€ä¸­çš„malloc()ã€calloc()ã€realloc()ç­‰ï¼Œè¿™äº›å‡½æ•°å¯ä»¥æ ¹æ®éœ€è¦åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°åˆ†é…ä¸€å—è¿ç»­çš„å†…å­˜ç©ºé—´ã€‚</p><h3 id="22åŠ¨æ€å†…å­˜çš„ç”³è¯·å’Œé‡Šæ”¾"><a class="markdownIt-Anchor" href="#22åŠ¨æ€å†…å­˜çš„ç”³è¯·å’Œé‡Šæ”¾"></a> 2.2åŠ¨æ€å†…å­˜çš„ç”³è¯·å’Œé‡Šæ”¾</h3><p>ä½¿ç”¨å†…å­˜åˆ†é…å‡½æ•°å¯ä»¥ç”³è¯·ä¸€å—æŒ‡å®šå¤§å°çš„å†…å­˜ç©ºé—´ï¼Œç”³è¯·çš„å†…å­˜ç©ºé—´å¯ä»¥åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ä½¿ç”¨ã€‚ä½¿ç”¨å®Œæ¯•åï¼Œå¯ä»¥ä½¿ç”¨é‡Šæ”¾å‡½æ•°å°†å†…å­˜ç©ºé—´é‡Šæ”¾ï¼Œä»¥ä¾¿å…¶ä»–ç¨‹åºç»§ç»­ä½¿ç”¨ã€‚</p><h3 id="23å†…å­˜ç¢ç‰‡é—®é¢˜"><a class="markdownIt-Anchor" href="#23å†…å­˜ç¢ç‰‡é—®é¢˜"></a> 2.3å†…å­˜ç¢ç‰‡é—®é¢˜</h3><p>åŠ¨æ€åˆ†é…å†…å­˜å¯èƒ½ä¼šå¯¼è‡´å†…å­˜ç¢ç‰‡é—®é¢˜ã€‚å½“é¢‘ç¹åœ°è¿›è¡Œå†…å­˜åˆ†é…å’Œé‡Šæ”¾æ“ä½œæ—¶ï¼Œå¯èƒ½ä¼šåœ¨å†…å­˜ä¸­ç•™ä¸‹ä¸€äº›æœªè¢«ä½¿ç”¨çš„å°å—å†…å­˜ï¼Œè¿™äº›å°å—å†…å­˜æ— æ³•è¢«å†æ¬¡åˆ©ç”¨ï¼Œå¯¼è‡´å†…å­˜çš„æµªè´¹ã€‚ä¸ºäº†è§£å†³å†…å­˜ç¢ç‰‡é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨å†…å­˜ç®¡ç†ç®—æ³•æ¥è¿›è¡Œå†…å­˜çš„åˆ†é…å’Œé‡Šæ”¾æ“ä½œã€‚</p><h2 id="3åŠ¨æ€åˆ†é…å†…å­˜çš„ä½œç”¨"><a class="markdownIt-Anchor" href="#3åŠ¨æ€åˆ†é…å†…å­˜çš„ä½œç”¨"></a> 3.åŠ¨æ€åˆ†é…å†…å­˜çš„ä½œç”¨</h2><p>åŠ¨æ€åˆ†é…å†…å­˜åœ¨è®¡ç®—æœºç¼–ç¨‹ä¸­æœ‰å¾ˆå¤šé‡è¦çš„ä½œç”¨ï¼ŒåŒ…æ‹¬ï¼š</p><h3 id="31-çµæ´»åˆ†é…å†…å­˜ç©ºé—´"><a class="markdownIt-Anchor" href="#31-çµæ´»åˆ†é…å†…å­˜ç©ºé—´"></a> 3.1 çµæ´»åˆ†é…å†…å­˜ç©ºé—´</h3><p>åŠ¨æ€åˆ†é…å†…å­˜å¯ä»¥æ ¹æ®ç¨‹åºçš„å®é™…éœ€æ±‚ï¼Œåœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°ç”³è¯·é€‚å½“å¤§å°çš„å†…å­˜ç©ºé—´ã€‚è¿™ä½¿å¾—ç¨‹åºå¯ä»¥æ ¹æ®å…·ä½“æƒ…å†µæ¥åˆ†é…æ‰€éœ€çš„å†…å­˜ï¼Œæé«˜äº†ç¨‹åºçš„çµæ´»æ€§å’Œé€‚åº”æ€§ã€‚</p><h3 id="32-æé«˜å†…å­˜åˆ©ç”¨ç‡"><a class="markdownIt-Anchor" href="#32-æé«˜å†…å­˜åˆ©ç”¨ç‡"></a> 3.2 æé«˜å†…å­˜åˆ©ç”¨ç‡</h3><p>åŠ¨æ€åˆ†é…å†…å­˜å¯ä»¥é¿å…é™æ€åˆ†é…å†…å­˜çš„å›ºå®šå¤§å°é™åˆ¶ï¼Œå¯ä»¥æ ¹æ®å®é™…éœ€è¦è¿›è¡Œçµæ´»çš„å†…å­˜åˆ†é…ã€‚è¿™æ ·å¯ä»¥æ›´æœ‰æ•ˆåœ°åˆ©ç”¨å†…å­˜èµ„æºï¼Œé¿å…äº†å†…å­˜çš„æµªè´¹ã€‚</p><h3 id="33-åŠ¨æ€æ•°æ®ç»“æ„çš„å®ç°"><a class="markdownIt-Anchor" href="#33-åŠ¨æ€æ•°æ®ç»“æ„çš„å®ç°"></a> 3.3 åŠ¨æ€æ•°æ®ç»“æ„çš„å®ç°</h3><p>åŠ¨æ€åˆ†é…å†…å­˜æ˜¯å®ç°åŠ¨æ€æ•°æ®ç»“æ„ï¼ˆå¦‚é“¾è¡¨ã€æ ‘ç­‰ï¼‰çš„åŸºç¡€ã€‚åŠ¨æ€æ•°æ®ç»“æ„çš„å¤§å°å¯èƒ½åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­å˜åŒ–ï¼Œéœ€è¦åŠ¨æ€åœ°ä¸ºå…¶åˆ†é…å’Œé‡Šæ”¾å†…å­˜ç©ºé—´ã€‚</p><h3 id="34-é¿å…å†…å­˜æº¢å‡ºå’Œå†…å­˜æ³„æ¼"><a class="markdownIt-Anchor" href="#34-é¿å…å†…å­˜æº¢å‡ºå’Œå†…å­˜æ³„æ¼"></a> 3.4 é¿å…å†…å­˜æº¢å‡ºå’Œå†…å­˜æ³„æ¼</h3><p>åŠ¨æ€åˆ†é…å†…å­˜å¯ä»¥é¿å…ç¨‹åºå› ä¸ºå†…å­˜ç©ºé—´ä¸è¶³è€Œå¯¼è‡´çš„å†…å­˜æº¢å‡ºé”™è¯¯ã€‚åŒæ—¶ï¼Œä½¿ç”¨åŠ¨æ€åˆ†é…å†…å­˜è¿˜å¯ä»¥ç¡®ä¿å†…å­˜çš„æ­£ç¡®é‡Šæ”¾ï¼Œé¿å…é€ æˆå†…å­˜æ³„æ¼é—®é¢˜ã€‚</p><h3 id="35-æé«˜ç¨‹åºçš„æ€§èƒ½"><a class="markdownIt-Anchor" href="#35-æé«˜ç¨‹åºçš„æ€§èƒ½"></a> 3.5 æé«˜ç¨‹åºçš„æ€§èƒ½</h3><p>åŠ¨æ€åˆ†é…å†…å­˜å¯ä»¥å‡å°‘å†…å­˜ç¢ç‰‡çš„é—®é¢˜ï¼Œæé«˜å†…å­˜çš„åˆ©ç”¨æ•ˆç‡ã€‚åŒæ—¶ï¼ŒåŠ¨æ€åˆ†é…å†…å­˜ä¹Ÿå¯ä»¥å‡å°‘é™æ€åˆ†é…å†…å­˜çš„å¼€é”€ï¼Œæé«˜ç¨‹åºçš„æ€§èƒ½ã€‚</p><h3 id="36-æ€»ç»“"><a class="markdownIt-Anchor" href="#36-æ€»ç»“"></a> 3.6 æ€»ç»“</h3><p>æ€»ä¹‹ï¼ŒåŠ¨æ€åˆ†é…å†…å­˜åœ¨è®¡ç®—æœºç¼–ç¨‹ä¸­å…·æœ‰é‡è¦çš„ä½œç”¨ï¼Œå®ƒå¯ä»¥æä¾›çµæ´»çš„å†…å­˜åˆ†é…æ–¹å¼ï¼Œæé«˜å†…å­˜çš„åˆ©ç”¨ç‡ï¼Œæ”¯æŒåŠ¨æ€æ•°æ®ç»“æ„çš„å®ç°ï¼Œé¿å…å†…å­˜æº¢å‡ºå’Œå†…å­˜æ³„æ¼é—®é¢˜ï¼ŒåŒæ—¶æé«˜ç¨‹åºçš„æ€§èƒ½ã€‚</p><h2 id="4åŠ¨æ€åˆ†é…å†…å­˜çš„å®ç°"><a class="markdownIt-Anchor" href="#4åŠ¨æ€åˆ†é…å†…å­˜çš„å®ç°"></a> 4.åŠ¨æ€åˆ†é…å†…å­˜çš„å®ç°</h2><p>åœ¨C++ä¸­ï¼ŒåŠ¨æ€å†…å­˜åˆ†é…é€šå¸¸ä½¿ç”¨newå’Œdeleteæ“ä½œç¬¦æ¥å®Œæˆã€‚ä¸‹é¢æˆ‘å°†åˆ†æ­¥éª¤å’Œä»£ç ä¸¤éƒ¨åˆ†æ¥ä»‹ç»å¦‚ä½•è¿›è¡ŒåŠ¨æ€å†…å­˜åˆ†é…ã€‚</p><h3 id=""><a class="markdownIt-Anchor" href="#"></a> </h3><p>4.1 æ­¥éª¤</p><h4 id="411-ç¡®å®šéœ€è¦åˆ†é…çš„å†…å­˜å¤§å°"><a class="markdownIt-Anchor" href="#411-ç¡®å®šéœ€è¦åˆ†é…çš„å†…å­˜å¤§å°"></a> 4.1.1 ç¡®å®šéœ€è¦åˆ†é…çš„å†…å­˜å¤§å°</h4><p>é¦–å…ˆï¼Œä½ éœ€è¦ç¡®å®šè¦åˆ†é…å¤šå°‘å†…å­˜ã€‚è¿™é€šå¸¸å–å†³äºä½ è¦å­˜å‚¨çš„æ•°æ®ç±»å‹ä»¥åŠä½ è¦å­˜å‚¨å¤šå°‘è¿™æ ·çš„æ•°æ®ã€‚</p><h4 id="-2"><a class="markdownIt-Anchor" href="#-2"></a> </h4><p>4.1.2 ä½¿ç”¨newæ“ä½œç¬¦åˆ†é…å†…å­˜</p><p>ä½¿ç”¨newæ“ä½œç¬¦æ¥åˆ†é…å†…å­˜ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ è¦åˆ†é…ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œä½ å¯ä»¥ä½¿ç”¨new int[size]ï¼Œå…¶ä¸­sizeæ˜¯ä½ æƒ³è¦çš„æ•°ç»„å¤§å°ã€‚</p><h4 id="-3"><a class="markdownIt-Anchor" href="#-3"></a> </h4><p>4.1.3Â æ£€æŸ¥åˆ†é…æ˜¯å¦æˆåŠŸ</p><p>newæ“ä½œç¬¦åœ¨æ— æ³•åˆ†é…æ‰€éœ€å†…å­˜æ—¶ä¼šè¿”å›nullptrã€‚å› æ­¤ï¼Œä½ åº”è¯¥æ£€æŸ¥è¿”å›çš„æŒ‡é’ˆæ˜¯å¦ä¸ºnullptrï¼Œä»¥ç¡®ä¿å†…å­˜å·²æˆåŠŸåˆ†é…ã€‚</p><h4 id="-4"><a class="markdownIt-Anchor" href="#-4"></a> </h4><p>4.1.4 ä½¿ç”¨åˆ†é…çš„å†…å­˜</p><p>ä¸€æ—¦å†…å­˜æˆåŠŸåˆ†é…ï¼Œä½ å°±å¯ä»¥å¼€å§‹ä½¿ç”¨å®ƒã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥å°†å€¼å­˜å‚¨åœ¨æ•°ç»„ä¸­ï¼Œæˆ–è€…åˆ›å»ºå¯¹è±¡ç­‰ã€‚<br />é‡Šæ”¾å†…å­˜ï¼šå½“ä½ ä¸å†éœ€è¦åˆ†é…çš„å†…å­˜æ—¶ï¼Œåº”ä½¿ç”¨deleteæˆ–delete[]æ“ä½œç¬¦æ¥é‡Šæ”¾å®ƒã€‚å¿˜è®°é‡Šæ”¾å†…å­˜ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œè¿™æ˜¯ä¸€ä¸ªå¸¸è§çš„ç¼–ç¨‹é”™è¯¯ã€‚</p><h3 id="-5"><a class="markdownIt-Anchor" href="#-5"></a> </h3><p>4.2 ä»£ç ç¤ºä¾‹</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä»£ç ç¤ºä¾‹ï¼Œæ¼”ç¤ºäº†å¦‚ä½•åœ¨C++ä¸­åŠ¨æ€åˆ†é…å’Œé‡Šæ”¾å†…å­˜ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">// æ­¥éª¤1ï¼šç¡®å®šéœ€è¦åˆ†é…çš„å†…å­˜å¤§å°</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> size = <span class="number">10</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æ­¥éª¤2ï¼šä½¿ç”¨newæ“ä½œç¬¦åˆ†é…å†…å­˜</span></span><br><span class="line"><span class="type">int</span>* array = <span class="keyword">new</span> <span class="type">int</span>[size];</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æ£€æŸ¥åˆ†é…æ˜¯å¦æˆåŠŸ</span></span><br><span class="line"><span class="keyword">if</span> (array == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">std::cerr &lt;&lt; <span class="string">&quot;Memory allocation failed!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>; <span class="comment">// è¿”å›é”™è¯¯ä»£ç </span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æ­¥éª¤3ï¼šä½¿ç”¨åˆ†é…çš„å†…å­˜</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">array[i] = i;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æ‰“å°æ•°ç»„å†…å®¹</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">std::cout &lt;&lt; array[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">std::cout &lt;&lt; std::endl;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æ­¥éª¤4ï¼šé‡Šæ”¾å†…å­˜</span></span><br><span class="line"><span class="keyword">delete</span>[] array;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆç¡®å®šè¦åˆ†é…çš„å†…å­˜å¤§å°ï¼ˆä¸€ä¸ªåŒ…å«10ä¸ªæ•´æ•°çš„æ•°ç»„ï¼‰ã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨newæ“ä½œç¬¦åˆ†é…å†…å­˜ï¼Œå¹¶æ£€æŸ¥æ˜¯å¦æˆåŠŸã€‚æ¥ç€ï¼Œæˆ‘ä»¬ä½¿ç”¨åˆ†é…çš„å†…å­˜æ¥å­˜å‚¨å€¼ï¼Œå¹¶æ‰“å°æ•°ç»„çš„å†…å®¹ã€‚æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨delete[]æ“ä½œç¬¦æ¥é‡Šæ”¾å†…å­˜ã€‚</p><h2 id="5åŠ¨æ€åˆ†é…å†…å­˜çš„åˆ†ç±»åŠä»£ç "><a class="markdownIt-Anchor" href="#5åŠ¨æ€åˆ†é…å†…å­˜çš„åˆ†ç±»åŠä»£ç "></a> 5.åŠ¨æ€åˆ†é…å†…å­˜çš„åˆ†ç±»åŠä»£ç </h2><p>åœ¨C++ä¸­ï¼ŒåŠ¨æ€å†…å­˜åˆ†é…å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼šåŠ¨æ€åˆ†é…å•ä¸ªå¯¹è±¡çš„å†…å­˜å’ŒåŠ¨æ€åˆ†é…å¯¹è±¡æ•°ç»„çš„å†…å­˜ã€‚</p><h3 id="-6"><a class="markdownIt-Anchor" href="#-6"></a> </h3><p>5.1 åŠ¨æ€åˆ†é…å•ä¸ªå¯¹è±¡çš„å†…å­˜</p><p>å½“ä½ çŸ¥é“éœ€è¦åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œä½†ä¸çŸ¥é“å®ƒçš„ç”Ÿå‘½å‘¨æœŸæ—¶ï¼Œå¯ä»¥ä½¿ç”¨newæ“ä½œç¬¦åŠ¨æ€åœ°ä¸ºå…¶åˆ†é…å†…å­˜ã€‚è¿™ç§åˆ†é…æ–¹å¼åœ¨å¯¹è±¡çš„å¤§å°ä¸æ˜¯å›ºå®šå¤§å°æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚</p><h4 id="-7"><a class="markdownIt-Anchor" href="#-7"></a> </h4><p>5.1.1 ä»‹ç»</p><p>ä½¿ç”¨newä¸ºå•ä¸ªå¯¹è±¡åˆ†é…å†…å­˜æ—¶ï¼Œä½ éœ€è¦æŒ‡å®šå¯¹è±¡çš„ç±»å‹ã€‚newä¼šè¿”å›æŒ‡å‘æ–°åˆ›å»ºå¯¹è±¡çš„æŒ‡é’ˆã€‚å¦‚æœå†…å­˜åˆ†é…æˆåŠŸï¼Œä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªæŒ‡é’ˆæ¥è®¿é—®å’Œæ“ä½œå¯¹è±¡ã€‚å¦‚æœå†…å­˜åˆ†é…å¤±è´¥ï¼Œnewä¼šè¿”å›nullptrã€‚</p><h4 id="-8"><a class="markdownIt-Anchor" href="#-8"></a> </h4><p>5.1.2 ä»£ç ç¤ºä¾‹</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">MyClass</span>(<span class="type">int</span> value) : <span class="built_in">value_</span>(value) &#123;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printValue</span><span class="params">()</span> </span>&#123; std::cout &lt;&lt; value_ &lt;&lt; std::endl; &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> value_;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">// åŠ¨æ€åˆ†é…å•ä¸ªå¯¹è±¡çš„å†…å­˜</span></span><br><span class="line">MyClass* obj = <span class="keyword">new</span> <span class="built_in">MyClass</span>(<span class="number">42</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ä½¿ç”¨å¯¹è±¡</span></span><br><span class="line">obj-&gt;<span class="built_in">printValue</span>();</span><br><span class="line"> </span><br><span class="line"><span class="comment">// é‡Šæ”¾å†…å­˜</span></span><br><span class="line"><span class="keyword">delete</span> obj;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="-9"><a class="markdownIt-Anchor" href="#-9"></a> </h3><p>5.2 åŠ¨æ€åˆ†é…å¯¹è±¡æ•°ç»„çš„å†…å­˜</p><p>å½“ä½ éœ€è¦åˆ›å»ºå¤šä¸ªåŒç±»å‹çš„å¯¹è±¡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨newæ“ä½œç¬¦æ¥åŠ¨æ€åˆ†é…ä¸€ä¸ªå¯¹è±¡æ•°ç»„ã€‚è¿™ç§æ–¹å¼åœ¨ä½ ä¸ç¡®å®šæ•°ç»„å¤§å°ï¼Œæˆ–è€…æ•°ç»„å¤§å°åœ¨è¿è¡Œæ—¶æ‰èƒ½ç¡®å®šæ—¶éå¸¸æœ‰ç”¨ã€‚</p><h4 id="-10"><a class="markdownIt-Anchor" href="#-10"></a> </h4><p>5.2.1 ä»‹ç»</p><p>ä½¿ç”¨newä¸ºå¯¹è±¡æ•°ç»„åˆ†é…å†…å­˜æ—¶ï¼Œä½ éœ€è¦æŒ‡å®šå¯¹è±¡çš„ç±»å‹å’Œæ•°ç»„çš„å¤§å°ã€‚newä¼šè¿”å›ä¸€ä¸ªæŒ‡å‘æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚ä¸å•ä¸ªå¯¹è±¡ä¸åŒï¼Œå½“ä½ ä½¿ç”¨newä¸ºæ•°ç»„åˆ†é…å†…å­˜æ—¶ï¼Œéœ€è¦ä½¿ç”¨delete[]æ¥é‡Šæ”¾å†…å­˜ã€‚</p><h4 id="-11"><a class="markdownIt-Anchor" href="#-11"></a> </h4><p>5.2.2 ä»£ç ç¤ºä¾‹</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">MyClass</span>(<span class="type">int</span> value) : <span class="built_in">value_</span>(value) &#123;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printValue</span><span class="params">()</span> </span>&#123; std::cout &lt;&lt; value_ &lt;&lt; std::endl; &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> value_;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">// åŠ¨æ€åˆ†é…å¯¹è±¡æ•°ç»„çš„å†…å­˜</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> arraySize = <span class="number">5</span>;</span><br><span class="line">MyClass* array = <span class="keyword">new</span> MyClass[arraySize];</span><br><span class="line"> </span><br><span class="line"><span class="comment">// åˆå§‹åŒ–æ•°ç»„ä¸­çš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; arraySize; ++i) &#123;</span><br><span class="line">array[i] = <span class="built_in">MyClass</span>(i * <span class="number">10</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ä½¿ç”¨æ•°ç»„ä¸­çš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; arraySize; ++i) &#123;</span><br><span class="line">array[i].<span class="built_in">printValue</span>();</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// é‡Šæ”¾å†…å­˜</span></span><br><span class="line"><span class="keyword">delete</span>[] array;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åŠ¨æ€åœ°åˆ›å»ºäº†ä¸€ä¸ªåŒ…å«5ä¸ªMyClasså¯¹è±¡çš„æ•°ç»„ï¼Œå¹¶åˆ†åˆ«åˆå§‹åŒ–äº†å®ƒä»¬ã€‚ä¹‹åï¼Œæˆ‘ä»¬éå†æ•°ç»„å¹¶æ‰“å°æ¯ä¸ªå¯¹è±¡çš„å€¼ã€‚æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨delete[]é‡Šæ”¾äº†æ•´ä¸ªæ•°ç»„æ‰€å ç”¨çš„å†…å­˜ã€‚</p><h3 id="-12"><a class="markdownIt-Anchor" href="#-12"></a> </h3><p>5.3 æ³¨æ„äº‹é¡¹</p><blockquote><p>1.ä½¿ç”¨newåˆ†é…çš„å†…å­˜å¿…é¡»ä½¿ç”¨deleteæˆ–delete[]æ¥é‡Šæ”¾ï¼Œå¦åˆ™ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ã€‚<br />2.newå’Œdeleteæ˜¯é…å¯¹ä½¿ç”¨çš„ï¼Œnew[]å’Œdelete[]ä¹Ÿæ˜¯é…å¯¹ä½¿ç”¨çš„ã€‚ä¸åº”è¯¥æ··åˆä½¿ç”¨å®ƒä»¬ï¼Œå› ä¸ºè¿™ä¼šå¯¼è‡´æœªå®šä¹‰çš„è¡Œä¸ºã€‚<br />3.åœ¨ä½¿ç”¨newåˆ†é…å†…å­˜åï¼Œæ€»æ˜¯åº”è¯¥æ£€æŸ¥è¿”å›çš„æŒ‡é’ˆæ˜¯å¦ä¸ºnullptrï¼Œä»¥ç¡®ä¿å†…å­˜åˆ†é…æˆåŠŸã€‚<br />4.åœ¨C++11åŠä»¥åçš„ç‰ˆæœ¬ä¸­ï¼Œæ¨èä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆï¼ˆå¦‚std::unique_ptrå’Œstd::shared_ptrï¼‰æ¥ç®¡ç†åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼Œä»¥è‡ªåŠ¨å¤„ç†å†…å­˜é‡Šæ”¾ï¼Œå‡å°‘å†…å­˜æ³„æ¼çš„é£é™©ã€‚</p></blockquote><h2 id="6åŠ¨æ€åˆ†é…å†…å­˜çš„ç»ƒä¹ "><a class="markdownIt-Anchor" href="#6åŠ¨æ€åˆ†é…å†…å­˜çš„ç»ƒä¹ "></a> 6.åŠ¨æ€åˆ†é…å†…å­˜çš„ç»ƒä¹ </h2><h3 id="61-é¢˜ç›®æè¿°"><a class="markdownIt-Anchor" href="#61-é¢˜ç›®æè¿°"></a> 6.1 é¢˜ç›®æè¿°</h3><p>åˆ›å»ºä¸€ä¸ªç¨‹åºï¼Œè¯¥ç¨‹åºä½¿ç”¨åŠ¨æ€å†…å­˜åˆ†é…æ¥åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ã€‚ç”¨æˆ·å°†é¦–å…ˆè¾“å…¥æ•°ç»„çš„å¤§å°ï¼Œç„¶åä¸ºæ¯ä¸ªå­—ç¬¦ä¸²å…ƒç´ è¾“å…¥å…·ä½“çš„å­—ç¬¦ä¸²å†…å®¹ã€‚ç¨‹åºå°†æ˜¾ç¤ºæ‰€æœ‰è¾“å…¥çš„å­—ç¬¦ä¸²ï¼Œå¹¶å…è®¸ç”¨æˆ·é€‰æ‹©æ˜¯å¦ç»§ç»­æ·»åŠ æ›´å¤šå­—ç¬¦ä¸²æˆ–é‡Šæ”¾å†…å­˜å¹¶é€€å‡ºç¨‹åºã€‚</p><h3 id="-13"><a class="markdownIt-Anchor" href="#-13"></a> </h3><p>6.2 çŸ¥è¯†ç‚¹</p><p>åŠ¨æ€å†…å­˜åˆ†é…ä¸é‡Šæ”¾ï¼ˆnewã€delete[]ï¼‰<br />å­—ç¬¦ä¸²å¤„ç†ï¼ˆstd::stringï¼‰ï¼šC++ å­—ç¬¦ä¸²è¯¦è§£<br />ç”¨æˆ·è¾“å…¥å’Œè¾“å‡º ï¼ˆstd::cinã€std::coutï¼‰<br />å¾ªç¯ç»“æ„ï¼ˆwhileã€forï¼‰: C++ å¾ªç¯ï¼šç®€åŒ–é‡å¤çš„ä»£ç <br />æ¡ä»¶è¯­å¥ï¼ˆifã€elseï¼‰ï¼šC++åˆ†æ”¯è¯­å¥</p><h3 id="-14"><a class="markdownIt-Anchor" href="#-14"></a> </h3><p>6.3 æ­¥éª¤</p><h4 id="-15"><a class="markdownIt-Anchor" href="#-15"></a> </h4><p>6.3.1 åˆå§‹åŒ–</p><p>è®¾ç½®å¿…è¦çš„å˜é‡å’Œæ ‡å¿—ï¼Œå¦‚æ•°ç»„å¤§å°ã€å½“å‰ç´¢å¼•ã€æ˜¯å¦ç»§ç»­çš„æ ‡å¿—ç­‰ã€‚</p><h4 id="-16"><a class="markdownIt-Anchor" href="#-16"></a> </h4><p>6.3.2 è¾“å…¥æ•°ç»„å¤§å°</p><p>æç¤ºç”¨æˆ·è¾“å…¥å­—ç¬¦ä¸²æ•°ç»„çš„å¤§å°ï¼Œå¹¶è¯»å–è¾“å…¥ã€‚</p><h4 id="-17"><a class="markdownIt-Anchor" href="#-17"></a> </h4><p>6.3.3 åˆ†é…å†…å­˜</p><p>ä½¿ç”¨new[]ä¸ºå­—ç¬¦ä¸²æ•°ç»„åˆ†é…å†…å­˜ã€‚</p><h4 id="-18"><a class="markdownIt-Anchor" href="#-18"></a> </h4><p>6.3.4 è¾“å…¥å­—ç¬¦ä¸²å†…å®¹</p><p>ä½¿ç”¨å¾ªç¯è®©ç”¨æˆ·ä¸ºæ¯ä¸ªæ•°ç»„å…ƒç´ è¾“å…¥å­—ç¬¦ä¸²å†…å®¹ã€‚</p><h4 id="-19"><a class="markdownIt-Anchor" href="#-19"></a> </h4><p>6.3.5 æ˜¾ç¤ºå­—ç¬¦ä¸²å†…å®¹</p><p>ä½¿ç”¨å¾ªç¯æ˜¾ç¤ºæ‰€æœ‰è¾“å…¥çš„å­—ç¬¦ä¸²ã€‚</p><h4 id="-20"><a class="markdownIt-Anchor" href="#-20"></a> </h4><p>6.3.6 ç”¨æˆ·é€‰æ‹©</p><p>æä¾›é€‰é¡¹è®©ç”¨æˆ·å†³å®šæ˜¯å¦ç»§ç»­æ·»åŠ å­—ç¬¦ä¸²æˆ–é€€å‡ºç¨‹åºã€‚</p><h4 id="-21"><a class="markdownIt-Anchor" href="#-21"></a> </h4><p>6.3.7 é‡Šæ”¾å†…å­˜</p><p>å¦‚æœç”¨æˆ·é€‰æ‹©é€€å‡ºï¼Œé‡Šæ”¾å·²åˆ†é…çš„å†…å­˜ã€‚</p><h4 id="-22"><a class="markdownIt-Anchor" href="#-22"></a> </h4><p>6.3.8 ç»“æŸç¨‹åº</p><p>é€€å‡ºç¨‹åºã€‚</p><h3 id="-23"><a class="markdownIt-Anchor" href="#-23"></a> </h3><p>6.4 ä»£ç </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> size;</span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;Enter the size of the string array: &quot;</span>;</span><br><span class="line">std::cin &gt;&gt; size;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> (size &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">std::cerr &lt;&lt; <span class="string">&quot;Invalid array size. Size must be a positive integer.&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">std::string* arr = <span class="keyword">new</span> std::string[size];</span><br><span class="line"><span class="keyword">if</span> (arr == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">std::cerr &lt;&lt; <span class="string">&quot;Memory allocation failed!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// è¾“å…¥å­—ç¬¦ä¸²å†…å®¹</span></span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;Enter &quot;</span> &lt;&lt; size &lt;&lt; <span class="string">&quot; strings for the array:&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">std::cin &gt;&gt; arr[i];</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æ˜¾ç¤ºå­—ç¬¦ä¸²å†…å®¹</span></span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;The array contents are:&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">std::cout &lt;&lt; arr[i] &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ç”¨æˆ·é€‰æ‹©</span></span><br><span class="line"><span class="type">char</span> choice;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;Do you want to continue adding more strings? (y/n): &quot;</span>;</span><br><span class="line">std::cin &gt;&gt; choice;</span><br><span class="line">std::cin.<span class="built_in">ignore</span>(); <span class="comment">// å¿½ç•¥æ¢è¡Œç¬¦</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> (choice == <span class="string">&#x27;y&#x27;</span> || choice == <span class="string">&#x27;Y&#x27;</span>) &#123;</span><br><span class="line"><span class="comment">// å¦‚æœç”¨æˆ·é€‰æ‹©ç»§ç»­ï¼Œå†æ¬¡åˆ†é…å†…å­˜å¹¶è¾“å…¥å­—ç¬¦ä¸²</span></span><br><span class="line">size *= <span class="number">2</span>; <span class="comment">// å‡è®¾æˆ‘ä»¬æ¯æ¬¡ç¿»å€</span></span><br><span class="line">std::string* newArr = <span class="keyword">new</span> std::string[size];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size / <span class="number">2</span>; ++i) &#123;</span><br><span class="line">newArr[i] = arr[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span>[] arr;</span><br><span class="line">arr = newArr;</span><br><span class="line"> </span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;Enter &quot;</span> &lt;&lt; size / <span class="number">2</span> &lt;&lt; <span class="string">&quot; additional strings:&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = size / <span class="number">2</span>; i &lt; size; ++i) &#123;</span><br><span class="line">std::cin &gt;&gt; arr[i];</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å†æ¬¡æ˜¾ç¤ºå­—ç¬¦ä¸²å†…å®¹ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"> </span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="string">&#x27;n&#x27;</span> || choice == <span class="string">&#x27;N&#x27;</span>) &#123;</span><br><span class="line"><span class="comment">// å¦‚æœç”¨æˆ·é€‰æ‹©é€€å‡ºï¼Œé‡Šæ”¾å†…å­˜å¹¶é€€å‡ºç¨‹åº</span></span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;Exiting program.&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;Invalid choice. Please enter &#x27;y&#x27; or &#x27;n&#x27;: &quot;</span> &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">while</span> (<span class="literal">true</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// é‡Šæ”¾å†…å­˜</span></span><br><span class="line"><span class="keyword">delete</span>[] arr;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç¨‹åºæ¼”ç¤ºäº†å¦‚ä½•åŠ¨æ€åˆ†é…å†…å­˜æ¥åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå¦‚ä½•è®©ç”¨æˆ·è¾“å…¥å­—ç¬¦ä¸²å†…å®¹ï¼Œå¦‚ä½•æ ¹æ®ç”¨æˆ·çš„é€‰æ‹©åŠ¨æ€è°ƒæ•´æ•°ç»„å¤§å°ï¼Œä»¥åŠå¦‚ä½•é‡Šæ”¾å†…å­˜ã€‚åŒæ—¶ï¼Œå®ƒä¹Ÿå±•ç¤ºäº†åŸºæœ¬çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·äº¤äº’ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ä¹‹çº¢é»‘æ ‘è®¤è¯†ä¸å®ç°</title>
      <link href="/2025/07/10/C/C++%E4%B9%8B%E7%BA%A2%E9%BB%91%E6%A0%91%E8%AE%A4%E8%AF%86%E4%B8%8E%E5%AE%9E%E7%8E%B0/"/>
      <url>/2025/07/10/C/C++%E4%B9%8B%E7%BA%A2%E9%BB%91%E6%A0%91%E8%AE%A4%E8%AF%86%E4%B8%8E%E5%AE%9E%E7%8E%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€çº¢é»‘æ ‘çš„æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#ä¸€çº¢é»‘æ ‘çš„æ¦‚å¿µ"></a> ä¸€.çº¢é»‘æ ‘çš„æ¦‚å¿µ</h2><p>çº¢â¿Šæ ‘æ˜¯â¼€æ£µâ¼†å‰æœç´¢æ ‘ï¼Œä»–çš„æ¯ä¸ªç»“ç‚¹å¢åŠ â¼€ä¸ªå­˜å‚¨ä½æ¥è¡¨â½°ç»“ç‚¹çš„é¢œâ¾Šï¼Œå¯ä»¥æ˜¯çº¢â¾Šæˆ–è€…â¿Šâ¾Šã€‚é€šè¿‡å¯¹ä»»ä½•â¼€æ¡ä»æ ¹åˆ°å¶â¼¦çš„è·¯å¾„ä¸Šå„ä¸ªç»“ç‚¹çš„é¢œâ¾Šè¿›â¾çº¦æŸï¼Œçº¢â¿Šæ ‘ç¡®ä¿æ²¡æœ‰â¼€æ¡è·¯å¾„ä¼šâ½å…¶ä»–è·¯å¾„â»“å‡º2å€ï¼Œå› â½½æ˜¯æ¥è¿‘å¹³è¡¡çš„ã€‚</p><h3 id="çº¢é»‘æ ‘çš„ç»“æ„"><a class="markdownIt-Anchor" href="#çº¢é»‘æ ‘çš„ç»“æ„"></a> çº¢é»‘æ ‘çš„ç»“æ„</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æšä¸¾å€¼è¡¨â½°é¢œâ¾Š </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Colour</span></span><br><span class="line">&#123;</span><br><span class="line"> RED,</span><br><span class="line"> BLACK</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">K</span>, <span class="keyword">class</span> <span class="title class_">V</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">RBTreeNode</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"> <span class="comment">// è¿™â¾¥æ›´æ–°æ§åˆ¶å¹³è¡¡ä¹Ÿè¦åŠ â¼ŠparentæŒ‡é’ˆ </span></span><br><span class="line"> pair&lt;K, V&gt; _kv;</span><br><span class="line"> RBTreeNode&lt;K, V&gt;* _left;</span><br><span class="line"> RBTreeNode&lt;K, V&gt;* _right;</span><br><span class="line"> RBTreeNode&lt;K, V&gt;* _parent;</span><br><span class="line"> Colour _col;</span><br><span class="line"> <span class="built_in">RBTreeNode</span>(<span class="type">const</span> pair&lt;K, V&gt;&amp; kv)</span><br><span class="line"> :_kv(kv)</span><br><span class="line"> , _left(<span class="literal">nullptr</span>)</span><br><span class="line"> , _right(<span class="literal">nullptr</span>)</span><br><span class="line"> , _parent(<span class="literal">nullptr</span>)</span><br><span class="line"> &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">K</span>, <span class="keyword">class</span> <span class="title class_">V</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RBTree</span>&#123;</span><br><span class="line"> <span class="keyword">typedef</span> RBTreeNode&lt;K, V&gt; Node;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"> Node* _root = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="äºŒçº¢é»‘æ ‘çš„å®šä¹‰ä¸ç‰¹æ€§"><a class="markdownIt-Anchor" href="#äºŒçº¢é»‘æ ‘çš„å®šä¹‰ä¸ç‰¹æ€§"></a> äºŒ.çº¢é»‘æ ‘çš„å®šä¹‰ä¸ç‰¹æ€§</h2><p>çº¢é»‘æ ‘æ˜¯ä¸€ç§è‡ªå¹³è¡¡çš„äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œå®ƒæ»¡è¶³ä»¥ä¸‹äº”æ¡åŸºæœ¬æ€§è´¨ï¼š</p><ol><li><strong>èŠ‚ç‚¹æ˜¯çº¢è‰²æˆ–é»‘è‰²</strong>ï¼šæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªé¢œè‰²å±æ€§ï¼Œçº¢è‰²æˆ–é»‘è‰²ã€‚</li><li><strong>æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²</strong>ï¼šæ ‘çš„æ ¹èŠ‚ç‚¹å¿…é¡»æ˜¯é»‘è‰²ã€‚</li><li><strong>å¶å­èŠ‚ç‚¹æ˜¯é»‘è‰²</strong>ï¼šå¶å­èŠ‚ç‚¹ï¼ˆå³ç©ºèŠ‚ç‚¹æˆ–<code>NULL</code>èŠ‚ç‚¹ï¼‰æ˜¯é»‘è‰²ã€‚</li><li><strong>çº¢è‰²èŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ˜¯é»‘è‰²</strong>ï¼šå¦‚æœä¸€ä¸ªèŠ‚ç‚¹æ˜¯çº¢è‰²ï¼Œåˆ™å®ƒçš„ä¸¤ä¸ªå­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²ã€‚</li><li><strong>ä»ä»»æ„èŠ‚ç‚¹åˆ°å…¶æ¯ä¸ªå¶å­çš„æ‰€æœ‰è·¯å¾„éƒ½åŒ…å«ç›¸åŒæ•°é‡çš„é»‘è‰²èŠ‚ç‚¹</strong>ï¼šè¿™ç¡®ä¿äº†æ ‘çš„å¹³è¡¡æ€§ã€‚</li></ol><p>è¿™äº›æ€§è´¨ä¿è¯äº†çº¢é»‘æ ‘åœ¨æ’å…¥å’Œåˆ é™¤æ“ä½œåèƒ½å¤Ÿä¿æŒå¤§è‡´å¹³è¡¡ï¼Œä»è€Œä½¿å¾—æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½èƒ½ä¿æŒåœ¨(O(log n))ã€‚<br /><img src="d6e48fbd9ca54c63aa684f0bcbe9ccf5.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="57bb4dc3a4f0472b9c5ecf1c2642799c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="e98c05a4313d4c4ca8556b4c106ba207.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="ä¸€çº¢é»‘æ ‘çš„æ’å…¥æ“ä½œ"><a class="markdownIt-Anchor" href="#ä¸€çº¢é»‘æ ‘çš„æ’å…¥æ“ä½œ"></a> ä¸€.çº¢é»‘æ ‘çš„æ’å…¥æ“ä½œ</h3><p>æ’å…¥æ“ä½œæ˜¯çº¢é»‘æ ‘ä¸­æœ€å¤æ‚çš„éƒ¨åˆ†ä¹‹ä¸€ã€‚æ’å…¥ä¸€ä¸ªæ–°èŠ‚ç‚¹åï¼Œå¯èƒ½ä¼šç ´åçº¢é»‘æ ‘çš„æ€§è´¨ï¼Œå› æ­¤éœ€è¦é€šè¿‡ä¸€ç³»åˆ—çš„è°ƒæ•´æ¥æ¢å¤è¿™äº›æ€§è´¨ã€‚æ’å…¥æ“ä½œå¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><h4 id="1-æ’å…¥èŠ‚ç‚¹"><a class="markdownIt-Anchor" href="#1-æ’å…¥èŠ‚ç‚¹"></a> 1. æ’å…¥èŠ‚ç‚¹</h4><p>é¦–å…ˆï¼Œå°†æ–°èŠ‚ç‚¹æ’å…¥åˆ°çº¢é»‘æ ‘ä¸­ï¼Œå°±åƒåœ¨æ™®é€šäºŒå‰æŸ¥æ‰¾æ ‘ä¸­æ’å…¥ä¸€æ ·ã€‚æ–°æ’å…¥çš„èŠ‚ç‚¹ä¼šè¢«æ ‡è®°ä¸ºçº¢è‰²ï¼Œå› ä¸ºæ’å…¥çº¢è‰²èŠ‚ç‚¹æ¯”æ’å…¥é»‘è‰²èŠ‚ç‚¹æ›´å®¹æ˜“ä¿æŒæ ‘çš„å¹³è¡¡ã€‚</p><h4 id="2-ä¿®å¤çº¢é»‘æ ‘"><a class="markdownIt-Anchor" href="#2-ä¿®å¤çº¢é»‘æ ‘"></a> 2. ä¿®å¤çº¢é»‘æ ‘</h4><p>æ’å…¥çº¢è‰²èŠ‚ç‚¹åï¼Œå¯èƒ½ä¼šè¿åçº¢é»‘æ ‘çš„æ€§è´¨4ï¼ˆçº¢è‰²èŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ˜¯é»‘è‰²ï¼‰ã€‚å› æ­¤ï¼Œéœ€è¦é€šè¿‡ä»¥ä¸‹å‡ ç§æƒ…å†µè¿›è¡Œè°ƒæ•´ï¼š</p><ul><li><p><strong>æƒ…å†µ1ï¼šæ–°èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ˜¯é»‘è‰²</strong><br />è¿™ç§æƒ…å†µä¸‹ï¼Œæ’å…¥çš„çº¢è‰²èŠ‚ç‚¹ä¸ä¼šç ´åçº¢é»‘æ ‘çš„æ€§è´¨ï¼Œæ— éœ€è¿›è¡Œä»»ä½•è°ƒæ•´ã€‚</p></li><li><p><strong>æƒ…å†µ2ï¼šæ–°èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å’Œå”å”èŠ‚ç‚¹éƒ½æ˜¯çº¢è‰²</strong><br />è¿™ç§æƒ…å†µä¸‹ï¼Œå°†çˆ¶èŠ‚ç‚¹å’Œå”å”èŠ‚ç‚¹å˜ä¸ºé»‘è‰²ï¼Œç¥–çˆ¶èŠ‚ç‚¹å˜ä¸ºçº¢è‰²ã€‚ç„¶åï¼Œå°†ç¥–çˆ¶èŠ‚ç‚¹ä½œä¸ºæ–°çš„å½“å‰èŠ‚ç‚¹ï¼Œç»§ç»­å‘ä¸Šè°ƒæ•´ã€‚</p></li><li><p><strong>æƒ…å†µ3ï¼šæ–°èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ˜¯çº¢è‰²ï¼Œå”å”èŠ‚ç‚¹æ˜¯é»‘è‰²æˆ–ä¸ºç©º</strong><br />è¿™ç§æƒ…å†µä¸‹ï¼Œä¸ä»…ä»…éœ€è¦å˜è‰²ï¼Œè¿˜éœ€è¦è¿›è¡Œæ—‹è½¬æ¥è°ƒæ•´ã€‚</p></li></ul><h4 id="æ’å…¥æ“ä½œçš„æ­¥éª¤"><a class="markdownIt-Anchor" href="#æ’å…¥æ“ä½œçš„æ­¥éª¤"></a> æ’å…¥æ“ä½œçš„æ­¥éª¤</h4><h4 id="1-æ’å…¥æ–°èŠ‚ç‚¹"><a class="markdownIt-Anchor" href="#1-æ’å…¥æ–°èŠ‚ç‚¹"></a> 1. æ’å…¥æ–°èŠ‚ç‚¹</h4><ul><li>å¦‚æœæ ‘ä¸ºç©ºï¼ˆ<code>_root == nullptr</code>ï¼‰ï¼Œç›´æ¥åˆ›å»ºä¸€ä¸ªé»‘è‰²èŠ‚ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹å¹¶è¿”å›ã€‚</li><li>å¦‚æœæ ‘ä¸ä¸ºç©ºï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œé€šè¿‡æ¯”è¾ƒé”®å€¼æ¥æ‰¾åˆ°æ’å…¥ä½ç½®ã€‚å¦‚æœé”®å€¼å·²ç»å­˜åœ¨ï¼Œåˆ™è¿”å›<code>false</code>ï¼Œè¡¨ç¤ºæ’å…¥å¤±è´¥ã€‚</li><li>æ‰¾åˆ°æ’å…¥ä½ç½®åï¼Œåˆ›å»ºä¸€ä¸ªçº¢è‰²èŠ‚ç‚¹ï¼ˆæ–°èŠ‚ç‚¹é»˜è®¤ä¸ºçº¢è‰²ï¼‰ï¼Œå¹¶å°†å…¶æ’å…¥åˆ°åˆé€‚çš„ä½ç½®ï¼ˆä½œä¸ºæŸä¸ªèŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹æˆ–å³å­èŠ‚ç‚¹ï¼‰ã€‚</li></ul><h4 id="2-ä¿®å¤çº¢é»‘æ ‘çš„æ€§è´¨"><a class="markdownIt-Anchor" href="#2-ä¿®å¤çº¢é»‘æ ‘çš„æ€§è´¨"></a> 2. ä¿®å¤çº¢é»‘æ ‘çš„æ€§è´¨</h4><p>æ’å…¥çº¢è‰²èŠ‚ç‚¹åï¼Œå¯èƒ½ä¼šè¿åçº¢é»‘æ ‘çš„æ€§è´¨ï¼ˆå°¤å…¶æ˜¯ç¬¬4æ¡æ€§è´¨ï¼šä¸èƒ½æœ‰ä¸¤ä¸ªè¿ç»­çš„çº¢è‰²èŠ‚ç‚¹ï¼‰ã€‚å› æ­¤éœ€è¦é€šè¿‡æ—‹è½¬å’Œå˜è‰²æ“ä½œæ¥ä¿®å¤ã€‚</p><h4 id="ä¿®å¤é€»è¾‘"><a class="markdownIt-Anchor" href="#ä¿®å¤é€»è¾‘"></a> ä¿®å¤é€»è¾‘</h4><ul><li><strong>å¾ªç¯æ¡ä»¶</strong>ï¼šåªè¦å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ˜¯çº¢è‰²ï¼Œå°±éœ€è¦è¿›è¡Œä¿®å¤ã€‚</li><li><strong>ç¥–çˆ¶èŠ‚ç‚¹å’Œå”å”èŠ‚ç‚¹</strong>ï¼š<ul><li>ç¥–çˆ¶èŠ‚ç‚¹æ˜¯å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ã€‚</li><li>å”å”èŠ‚ç‚¹æ˜¯ç¥–çˆ¶èŠ‚ç‚¹çš„å¦ä¸€ä¸ªå­èŠ‚ç‚¹ï¼ˆä¸çˆ¶èŠ‚ç‚¹ä¸åŒï¼‰ã€‚</li></ul></li></ul><h4 id="ä¿®å¤æƒ…å†µ"><a class="markdownIt-Anchor" href="#ä¿®å¤æƒ…å†µ"></a> ä¿®å¤æƒ…å†µ</h4><ol><li><p><strong>å”å”èŠ‚ç‚¹å­˜åœ¨ä¸”ä¸ºçº¢è‰²</strong>ï¼š</p><ul><li>çˆ¶èŠ‚ç‚¹å’Œå”å”èŠ‚ç‚¹éƒ½å˜è‰²ä¸ºé»‘è‰²ã€‚</li><li>ç¥–çˆ¶èŠ‚ç‚¹å˜è‰²ä¸ºçº¢è‰²ã€‚</li><li>å°†å½“å‰èŠ‚ç‚¹æ›´æ–°ä¸ºç¥–çˆ¶èŠ‚ç‚¹ï¼Œç»§ç»­å‘ä¸Šæ£€æŸ¥ã€‚<br /><img src="8173e5abe9de46b4918dcce67448046b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></li></ul></li><li><p><strong>å”å”èŠ‚ç‚¹ä¸å­˜åœ¨æˆ–è€…ä¸ºé»‘è‰²</strong>ï¼š</p><ul><li>å¦‚æœçˆ¶èŠ‚ç‚¹æ˜¯ç¥–çˆ¶èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ï¼š<ul><li>å¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯çˆ¶èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ï¼š<ul><li>å³æ—‹ç¥–çˆ¶èŠ‚ç‚¹ã€‚</li><li>çˆ¶èŠ‚ç‚¹å˜è‰²ä¸ºé»‘è‰²ï¼Œç¥–çˆ¶èŠ‚ç‚¹å˜è‰²ä¸ºçº¢è‰²ã€‚</li></ul></li><li>å¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯çˆ¶èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ï¼š<ul><li>å·¦æ—‹çˆ¶èŠ‚ç‚¹ã€‚</li><li>å³æ—‹ç¥–çˆ¶èŠ‚ç‚¹ã€‚</li><li>å½“å‰èŠ‚ç‚¹å˜è‰²ä¸ºé»‘è‰²ï¼Œç¥–çˆ¶èŠ‚ç‚¹å˜è‰²ä¸ºçº¢è‰²ã€‚</li></ul></li></ul></li><li>å¦‚æœçˆ¶èŠ‚ç‚¹æ˜¯ç¥–çˆ¶èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ï¼š<ul><li>å¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯çˆ¶èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ï¼š<ul><li>å·¦æ—‹ç¥–çˆ¶èŠ‚ç‚¹ã€‚</li><li>çˆ¶èŠ‚ç‚¹å˜è‰²ä¸ºé»‘è‰²ï¼Œç¥–çˆ¶èŠ‚ç‚¹å˜è‰²ä¸ºçº¢è‰²ã€‚</li></ul></li><li>å¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯çˆ¶èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ï¼š<ul><li>å³æ—‹çˆ¶èŠ‚ç‚¹ã€‚</li><li>å·¦æ—‹ç¥–çˆ¶èŠ‚ç‚¹ã€‚</li><li>å½“å‰èŠ‚ç‚¹å˜è‰²ä¸ºé»‘è‰²ï¼Œç¥–çˆ¶èŠ‚ç‚¹å˜è‰²ä¸ºçº¢è‰²ã€‚</li></ul></li></ul></li></ul><p>å•æ—‹ï¼š<br /><img src="78afdf364740493bba91f4c99c1cd71b.png" alt="" /></p><p>åŒæ—‹ï¼š<br /><img src="050539e173b14306b63c9002f4fd7a67.png" alt="" /></p></li></ol><h4 id="3-æ ¹èŠ‚ç‚¹çš„é¢œè‰²"><a class="markdownIt-Anchor" href="#3-æ ¹èŠ‚ç‚¹çš„é¢œè‰²"></a> 3. æ ¹èŠ‚ç‚¹çš„é¢œè‰²</h4><ul><li>æœ€åï¼Œç¡®ä¿æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²ã€‚</li></ul><h4 id="ä»£ç é€»è¾‘è§£æ"><a class="markdownIt-Anchor" href="#ä»£ç é€»è¾‘è§£æ"></a> ä»£ç é€»è¾‘è§£æ</h4><ul><li><strong>æ’å…¥æ–°èŠ‚ç‚¹</strong>ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (_root == nullptr)</span><br><span class="line">&#123;</span><br><span class="line">    _root = new Node(kv);</span><br><span class="line">    _root-&gt;_col = BLACK;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><pre><code>å¦‚æœæ ‘ä¸ºç©ºï¼Œç›´æ¥åˆ›å»ºä¸€ä¸ªé»‘è‰²çš„æ ¹èŠ‚ç‚¹ã€‚</code></pre><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Node* parent = nullptr;</span><br><span class="line">Node* cur = _root;</span><br><span class="line"><span class="keyword">while</span> (cur)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (cur-&gt;_kv.first &lt; kv.first)</span><br><span class="line">    &#123;</span><br><span class="line">        parent = cur;</span><br><span class="line">        cur = cur-&gt;_right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (cur-&gt;_kv.first &gt; kv.first)</span><br><span class="line">    &#123;</span><br><span class="line">        parent = cur;</span><br><span class="line">        cur = cur-&gt;_left;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><pre><code>ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œé€šè¿‡æ¯”è¾ƒé”®å€¼æ‰¾åˆ°æ’å…¥ä½ç½®ã€‚å¦‚æœé”®å€¼å·²å­˜åœ¨ï¼Œè¿”å›`false`ã€‚</code></pre><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cur = new Node(kv);</span><br><span class="line">cur-&gt;_col = RED;</span><br><span class="line"><span class="keyword">if</span> (parent-&gt;_kv.first &lt; kv.first)</span><br><span class="line">&#123;</span><br><span class="line">    parent-&gt;_right = cur;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    parent-&gt;_left = cur;</span><br><span class="line">&#125;</span><br><span class="line">cur-&gt;_parent = parent;</span><br></pre></td></tr></table></figure><pre><code>åˆ›å»ºä¸€ä¸ªçº¢è‰²çš„æ–°èŠ‚ç‚¹ï¼Œå¹¶å°†å…¶æ’å…¥åˆ°åˆé€‚çš„ä½ç½®ã€‚</code></pre><ul><li><strong>ä¿®å¤çº¢é»‘æ ‘æ€§è´¨</strong>ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (parent &amp;&amp; parent-&gt;_col == RED)</span><br><span class="line">&#123;</span><br><span class="line">    Node* grandfather = parent-&gt;_parent;</span><br><span class="line">    <span class="keyword">if</span> (parent == grandfather-&gt;_left)</span><br><span class="line">    &#123;</span><br><span class="line">        Node* uncle = grandfather-&gt;_right;</span><br><span class="line">        <span class="keyword">if</span> (uncle &amp;&amp; uncle-&gt;_col == RED)</span><br><span class="line">        &#123;</span><br><span class="line">            parent-&gt;_col = uncle-&gt;_col = BLACK;</span><br><span class="line">            grandfather-&gt;_col = RED;</span><br><span class="line">            cur = grandfather;</span><br><span class="line">            parent = cur-&gt;_parent;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (cur == parent-&gt;_left)</span><br><span class="line">            &#123;</span><br><span class="line">                RotateR(grandfather);</span><br><span class="line">                parent-&gt;_col = BLACK;</span><br><span class="line">                grandfather-&gt;_col = RED;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                RotateL(parent);</span><br><span class="line">                RotateR(grandfather);</span><br><span class="line">                cur-&gt;_col = BLACK;</span><br><span class="line">                grandfather-&gt;_col = RED;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        Node* uncle = grandfather-&gt;_left;</span><br><span class="line">        <span class="keyword">if</span> (uncle &amp;&amp; uncle-&gt;_col == RED)</span><br><span class="line">        &#123;</span><br><span class="line">            parent-&gt;_col = uncle-&gt;_col = BLACK;</span><br><span class="line">            grandfather-&gt;_col = RED;</span><br><span class="line">            cur = grandfather;</span><br><span class="line">            parent = cur-&gt;_parent;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (cur == parent-&gt;_right)</span><br><span class="line">            &#123;</span><br><span class="line">                RotateL(grandfather);</span><br><span class="line">                parent-&gt;_col = BLACK;</span><br><span class="line">                grandfather-&gt;_col = RED;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                RotateR(parent);</span><br><span class="line">                RotateL(grandfather);</span><br><span class="line">                cur-&gt;_col = BLACK;</span><br><span class="line">                grandfather-&gt;_col = RED;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ ¹æ®çˆ¶èŠ‚ç‚¹å’Œå”å”èŠ‚ç‚¹çš„é¢œè‰²ï¼Œä»¥åŠå½“å‰èŠ‚ç‚¹çš„ä½ç½®ï¼Œé€‰æ‹©åˆé€‚çš„æ—‹è½¬å’Œå˜è‰²æ“ä½œæ¥ä¿®å¤çº¢é»‘æ ‘çš„æ€§è´¨ã€‚</p><ul><li><strong>ç¡®ä¿æ ¹èŠ‚ç‚¹ä¸ºé»‘è‰²</strong>ï¼š</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">        _root-&gt;_col = BLACK;</span><br><span class="line">```    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">### äºŒ.çº¢é»‘æ ‘çš„åˆ é™¤æ“ä½œï¼ˆä½œä¸ºäº†è§£å³å¯ï¼‰</span><br><span class="line"></span><br><span class="line">åˆ é™¤æ“ä½œæ¯”æ’å…¥æ“ä½œæ›´ä¸ºå¤æ‚ï¼Œå› ä¸ºå®ƒå¯èƒ½ä¼šç ´åçº¢é»‘æ ‘çš„å¹³è¡¡ã€‚åˆ é™¤æ“ä½œå¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</span><br><span class="line"></span><br><span class="line">#### <span class="number">1</span>\. åˆ é™¤èŠ‚ç‚¹</span><br><span class="line"></span><br><span class="line">é¦–å…ˆï¼Œæ‰¾åˆ°éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹ã€‚å¦‚æœè¯¥èŠ‚ç‚¹æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œåˆ™éœ€è¦æ‰¾åˆ°å®ƒçš„åç»§èŠ‚ç‚¹ï¼ˆå³å­æ ‘ä¸­çš„æœ€å°èŠ‚ç‚¹ï¼‰æ¥æ›¿æ¢å®ƒã€‚ç„¶åï¼Œå°†è¯¥èŠ‚ç‚¹çš„å€¼æ›¿æ¢ä¸ºåç»§èŠ‚ç‚¹çš„å€¼ï¼Œå¹¶å°†åç»§èŠ‚ç‚¹åˆ é™¤ã€‚</span><br><span class="line"></span><br><span class="line">#### <span class="number">2</span>\. ä¿®å¤çº¢é»‘æ ‘</span><br><span class="line"></span><br><span class="line">åˆ é™¤èŠ‚ç‚¹åï¼Œå¯èƒ½ä¼šè¿åçº¢é»‘æ ‘çš„æ€§è´¨ã€‚éœ€è¦é€šè¿‡ä»¥ä¸‹å‡ ç§æƒ…å†µè¿›è¡Œè°ƒæ•´ï¼š</span><br><span class="line"></span><br><span class="line">-   **æƒ…å†µ<span class="number">1</span>ï¼šè¢«åˆ é™¤çš„èŠ‚ç‚¹æ˜¯çº¢è‰²**  </span><br><span class="line">    è¿™ç§æƒ…å†µä¸‹ï¼Œç›´æ¥åˆ é™¤è¯¥èŠ‚ç‚¹ä¸ä¼šç ´åçº¢é»‘æ ‘çš„æ€§è´¨ã€‚</span><br><span class="line">    </span><br><span class="line">-   **æƒ…å†µ<span class="number">2</span>ï¼šè¢«åˆ é™¤çš„èŠ‚ç‚¹æ˜¯é»‘è‰²ï¼Œä¸”å…¶å­èŠ‚ç‚¹æ˜¯çº¢è‰²**  </span><br><span class="line">    è¿™ç§æƒ…å†µä¸‹ï¼Œå°†å­èŠ‚ç‚¹å˜ä¸ºé»‘è‰²ï¼Œç„¶ååˆ é™¤è¯¥èŠ‚ç‚¹ã€‚</span><br><span class="line">    </span><br><span class="line">-   **æƒ…å†µ<span class="number">3</span>ï¼šè¢«åˆ é™¤çš„èŠ‚ç‚¹æ˜¯é»‘è‰²ï¼Œä¸”å…¶å­èŠ‚ç‚¹æ˜¯é»‘è‰²**  </span><br><span class="line">    è¿™ç§æƒ…å†µä¸‹ï¼Œéœ€è¦é€šè¿‡ä¸€ç³»åˆ—å¤æ‚çš„è°ƒæ•´æ¥æ¢å¤çº¢é»‘æ ‘çš„æ€§è´¨ï¼ŒåŒ…æ‹¬é¢œè‰²è°ƒæ•´å’Œæ—‹è½¬æ“ä½œã€‚</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">### ä¸‰.çº¢é»‘æ ‘çš„æŸ¥æ‰¾æ“ä½œ</span><br><span class="line"></span><br><span class="line">æŒ‰â¼†å‰æœç´¢æ ‘é€»è¾‘å®ç°å³å¯ï¼Œæœç´¢æ•ˆç‡ä¸ºO(logN)</span><br><span class="line"></span><br><span class="line">```C</span><br><span class="line">    Node* <span class="title function_">Find</span><span class="params">(<span class="type">const</span> K&amp; key)</span></span><br><span class="line">    &#123;</span><br><span class="line">     Node* cur = _root;</span><br><span class="line">     <span class="keyword">while</span> (cur)</span><br><span class="line">     &#123;</span><br><span class="line">     <span class="keyword">if</span> (cur-&gt;_kv.first &lt; key)</span><br><span class="line">     &#123;</span><br><span class="line">     cur = cur-&gt;_right;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">else</span> <span class="keyword">if</span> (cur-&gt;_kv.first &gt; key)</span><br><span class="line">     &#123;</span><br><span class="line">     cur = cur-&gt;_left;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">     &#123;</span><br><span class="line">     <span class="keyword">return</span> cur;</span><br><span class="line">     &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> nullptr;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="å››çº¢é»‘æ ‘çš„éªŒè¯"><a class="markdownIt-Anchor" href="#å››çº¢é»‘æ ‘çš„éªŒè¯"></a> å››.çº¢é»‘æ ‘çš„éªŒè¯</h3><ol><li><strong>æ¯ä¸ªèŠ‚ç‚¹æ˜¯çº¢è‰²æˆ–é»‘è‰²</strong>ã€‚</li><li><strong>æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²</strong>ã€‚</li><li><strong>æ‰€æœ‰å¶å­èŠ‚ç‚¹ï¼ˆç©ºèŠ‚ç‚¹ï¼‰æ˜¯é»‘è‰²</strong>ã€‚</li><li><strong>å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æ˜¯çº¢è‰²ï¼Œåˆ™å®ƒçš„ä¸¤ä¸ªå­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²</strong>ï¼ˆä¸èƒ½æœ‰ä¸¤ä¸ªè¿ç»­çš„çº¢è‰²èŠ‚ç‚¹ï¼‰ã€‚</li><li><strong>ä»ä»»ä½•èŠ‚ç‚¹åˆ°å…¶æ¯ä¸ªå¶å­çš„æ‰€æœ‰è·¯å¾„éƒ½åŒ…å«ç›¸åŒæ•°é‡çš„é»‘è‰²èŠ‚ç‚¹</strong>ã€‚</li></ol><h4 id="ä»£ç ä¸­çš„æ£€æŸ¥é€»è¾‘"><a class="markdownIt-Anchor" href="#ä»£ç ä¸­çš„æ£€æŸ¥é€»è¾‘"></a> ä»£ç ä¸­çš„æ£€æŸ¥é€»è¾‘</h4><h4 id="1-isbalanceå‡½æ•°"><a class="markdownIt-Anchor" href="#1-isbalanceå‡½æ•°"></a> 1. <code>IsBalance</code>å‡½æ•°</h4><p>è¿™ä¸ªå‡½æ•°æ˜¯å…¥å£å‡½æ•°ï¼Œç”¨äºåˆå§‹åŒ–æ£€æŸ¥è¿‡ç¨‹ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> <span class="title function_">IsBalance</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (_root == nullptr)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">// å¦‚æœæ ‘ä¸ºç©ºï¼Œç›´æ¥è¿”å›trueï¼Œç©ºæ ‘æ»¡è¶³çº¢é»‘æ ‘çš„æ€§è´¨</span></span><br><span class="line">    <span class="keyword">if</span> (_root-&gt;_col == RED)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// æ ¹èŠ‚ç‚¹å¿…é¡»æ˜¯é»‘è‰²ï¼Œå¦åˆ™ç›´æ¥è¿”å›false</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¡ç®—ä»æ ¹èŠ‚ç‚¹åˆ°æœ€å·¦è¾¹å¶å­èŠ‚ç‚¹çš„é»‘è‰²èŠ‚ç‚¹æ•°é‡ä½œä¸ºå‚è€ƒå€¼</span></span><br><span class="line">    <span class="type">int</span> refNum = <span class="number">0</span>;</span><br><span class="line">    Node* cur = _root;</span><br><span class="line">    <span class="keyword">while</span> (cur)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (cur-&gt;_col == BLACK)</span><br><span class="line">            ++refNum; <span class="comment">// å¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯é»‘è‰²ï¼Œå¢åŠ é»‘è‰²èŠ‚ç‚¹è®¡æ•°</span></span><br><span class="line">        cur = cur-&gt;_left; <span class="comment">// æ²¿ç€å·¦å­æ ‘å‘ä¸‹éå†</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨å‚è€ƒå€¼è°ƒç”¨Checkå‡½æ•°æ£€æŸ¥æ•´æ£µæ ‘</span></span><br><span class="line">    <span class="keyword">return</span> Check(_root, <span class="number">0</span>, refNum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>æ£€æŸ¥æ ¹èŠ‚ç‚¹é¢œè‰²</strong>ï¼šå¦‚æœæ ¹èŠ‚ç‚¹æ˜¯çº¢è‰²ï¼Œç›´æ¥è¿”å›<code>false</code>ï¼Œå› ä¸ºçº¢é»‘æ ‘çš„æ ¹èŠ‚ç‚¹å¿…é¡»æ˜¯é»‘è‰²ã€‚</li><li><strong>è®¡ç®—å‚è€ƒå€¼<code>refNum</code></strong>ï¼šä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œæ²¿ç€å·¦å­æ ‘ä¸€ç›´å‘ä¸‹ï¼Œç»Ÿè®¡è·¯å¾„ä¸Šçš„é»‘è‰²èŠ‚ç‚¹æ•°é‡ã€‚è¿™ä¸ªå€¼å°†ä½œä¸ºåç»­è·¯å¾„æ£€æŸ¥çš„å‚è€ƒå€¼ã€‚</li><li><strong>è°ƒç”¨<code>Check</code>å‡½æ•°</strong>ï¼šä½¿ç”¨è®¡ç®—å‡ºçš„<code>refNum</code>ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹é€’å½’æ£€æŸ¥æ•´æ£µæ ‘ã€‚</li></ul><h4 id="2-checkå‡½æ•°"><a class="markdownIt-Anchor" href="#2-checkå‡½æ•°"></a> 2. <code>Check</code>å‡½æ•°</h4><p>è¿™ä¸ªå‡½æ•°æ˜¯é€’å½’å‡½æ•°ï¼Œç”¨äºæ£€æŸ¥æ ‘çš„æ¯ä¸ªè·¯å¾„æ˜¯å¦æ»¡è¶³çº¢é»‘æ ‘çš„æ€§è´¨ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> <span class="title function_">Check</span><span class="params">(Node* root, <span class="type">int</span> blackNum, <span class="type">const</span> <span class="type">int</span> refNum)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == nullptr)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// å‰åºéå†èµ°åˆ°ç©ºèŠ‚ç‚¹ï¼Œæ„å‘³ç€ä¸€æ¡è·¯å¾„èµ°å®Œäº†</span></span><br><span class="line">        <span class="keyword">if</span> (refNum != blackNum)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;å­˜åœ¨é»‘è‰²èŠ‚ç‚¹çš„æ•°é‡ä¸ç›¸ç­‰çš„è·¯å¾„&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// å¦‚æœå½“å‰è·¯å¾„çš„é»‘è‰²èŠ‚ç‚¹æ•°é‡ä¸å‚è€ƒå€¼ä¸åŒï¼Œè¿”å›false</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ£€æŸ¥æ˜¯å¦å­˜åœ¨è¿ç»­çš„çº¢è‰²èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> (root-&gt;_col == RED &amp;&amp; root-&gt;_parent-&gt;_col == RED)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; root-&gt;_kv.first &lt;&lt; <span class="string">&quot;å­˜åœ¨è¿ç»­çš„çº¢è‰²èŠ‚ç‚¹&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// å¦‚æœå½“å‰èŠ‚ç‚¹å’Œçˆ¶èŠ‚ç‚¹éƒ½æ˜¯çº¢è‰²ï¼Œè¿”å›false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (root-&gt;_col == BLACK)</span><br><span class="line">    &#123;</span><br><span class="line">        blackNum++; <span class="comment">// å¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯é»‘è‰²ï¼Œå¢åŠ é»‘è‰²èŠ‚ç‚¹è®¡æ•°</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€’å½’æ£€æŸ¥å·¦å³å­æ ‘</span></span><br><span class="line">    <span class="keyword">return</span> Check(root-&gt;_left, blackNum, refNum) &amp;&amp; Check(root-&gt;_right, blackNum, refNum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>æ£€æŸ¥è·¯å¾„ç»“æŸ</strong>ï¼šå¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯ç©ºèŠ‚ç‚¹ï¼ˆ<code>root == nullptr</code>ï¼‰ï¼Œè¯´æ˜å·²ç»åˆ°è¾¾è·¯å¾„çš„æœ«ç«¯ã€‚æ­¤æ—¶æ£€æŸ¥å½“å‰è·¯å¾„çš„é»‘è‰²èŠ‚ç‚¹æ•°é‡<code>blackNum</code>æ˜¯å¦ä¸å‚è€ƒå€¼<code>refNum</code>ç›¸ç­‰ã€‚å¦‚æœä¸ç›¸ç­‰ï¼Œè¯´æ˜è¿åäº†çº¢é»‘æ ‘çš„ç¬¬5æ¡æ€§è´¨ã€‚</li><li><strong>æ£€æŸ¥è¿ç»­çº¢è‰²èŠ‚ç‚¹</strong>ï¼šå¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯çº¢è‰²ï¼Œå¹¶ä¸”å®ƒçš„çˆ¶èŠ‚ç‚¹ä¹Ÿæ˜¯çº¢è‰²ï¼Œç›´æ¥è¿”å›<code>false</code>ï¼Œå› ä¸ºè¿™è¿åäº†çº¢é»‘æ ‘çš„ç¬¬4æ¡æ€§è´¨ã€‚</li><li><strong>ç»Ÿè®¡é»‘è‰²èŠ‚ç‚¹</strong>ï¼šå¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯é»‘è‰²ï¼Œå°†<code>blackNum</code>åŠ 1ã€‚</li><li><strong>é€’å½’æ£€æŸ¥å­æ ‘</strong>ï¼šé€’å½’è°ƒç”¨<code>Check</code>å‡½æ•°ï¼Œåˆ†åˆ«æ£€æŸ¥å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘ã€‚åªæœ‰å½“å·¦å³å­æ ‘éƒ½æ»¡è¶³çº¢é»‘æ ‘çš„æ€§è´¨æ—¶ï¼Œå½“å‰èŠ‚ç‚¹æ‰æ»¡è¶³æ€§è´¨ã€‚</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> <span class="title function_">Check</span><span class="params">(Node* root, <span class="type">int</span> blackNum, <span class="type">const</span> <span class="type">int</span> refNum)</span></span><br><span class="line">&#123;</span><br><span class="line"> <span class="keyword">if</span> (root == nullptr)</span><br><span class="line"> &#123;</span><br><span class="line"> <span class="comment">// å‰åºéå†â¾›åˆ°ç©ºæ—¶ï¼Œæ„å‘³ç€â¼€æ¡è·¯å¾„â¾›å®Œäº† </span></span><br><span class="line"> <span class="comment">//cout &lt;&lt; blackNum &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">if</span> (refNum != blackNum)</span><br><span class="line"> &#123;</span><br><span class="line"> <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;å­˜åœ¨â¿Šâ¾Šç»“ç‚¹çš„æ•°é‡ä¸ç›¸ç­‰çš„è·¯å¾„&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">// æ£€æŸ¥å­©â¼¦ä¸å¤ªâ½…ä¾¿ï¼Œå› ä¸ºå­©â¼¦æœ‰ä¸¤ä¸ªï¼Œä¸”ä¸â¼€å®šå­˜åœ¨ï¼Œåè¿‡æ¥æ£€æŸ¥â½—äº²å°±â½…ä¾¿å¤šäº† </span></span><br><span class="line"> <span class="keyword">if</span> (root-&gt;_col == RED &amp;&amp; root-&gt;_parent-&gt;_col == RED)</span><br><span class="line"> &#123;</span><br><span class="line"> <span class="built_in">cout</span> &lt;&lt; root-&gt;_kv.first &lt;&lt; <span class="string">&quot;å­˜åœ¨è¿ç»­çš„çº¢â¾Šç»“ç‚¹&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">if</span> (root-&gt;_col == BLACK)</span><br><span class="line"> &#123;</span><br><span class="line"> blackNum++;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">return</span> Check(root-&gt;_left, blackNum, refNum)</span><br><span class="line"> &amp;&amp; Check(root-&gt;_right, blackNum, refNum);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> <span class="title function_">IsBalance</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"> <span class="keyword">if</span> (_root == nullptr)</span><br><span class="line"> <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"> <span class="keyword">if</span> (_root-&gt;_col == RED)</span><br><span class="line"> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">// å‚è€ƒå€¼ </span></span><br><span class="line"> <span class="type">int</span> refNum = <span class="number">0</span>;</span><br><span class="line"> Node* cur = _root;</span><br><span class="line"> <span class="keyword">while</span> (cur)</span><br><span class="line"> &#123;</span><br><span class="line"> <span class="keyword">if</span> (cur-&gt;_col == BLACK)</span><br><span class="line">  &#123;</span><br><span class="line"> ++refNum;</span><br><span class="line"> &#125;</span><br><span class="line"> cur = cur-&gt;_left;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">return</span> Check(_root, <span class="number">0</span>, refNum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="çº¢é»‘æ ‘-vs-avlæ ‘"><a class="markdownIt-Anchor" href="#çº¢é»‘æ ‘-vs-avlæ ‘"></a> çº¢é»‘æ ‘ vs AVLæ ‘</h3><table><thead><tr><th>ç‰¹æ€§</th><th>çº¢é»‘æ ‘</th><th>AVLæ ‘</th></tr></thead><tbody><tr><td><strong>å¹³è¡¡ä¸¥æ ¼åº¦</strong></td><td>å®½æ¾ï¼ˆæœ€é•¿è·¯å¾„â‰¤2Ã—æœ€çŸ­ï¼‰</td><td>ä¸¥æ ¼ï¼ˆé«˜åº¦å·®â‰¤1ï¼‰</td></tr><tr><td><strong>æ’å…¥/åˆ é™¤</strong></td><td>æ›´å¿«ï¼ˆå¹³å‡æ›´å°‘æ—‹è½¬ï¼‰</td><td>è¾ƒæ…¢ï¼ˆæ—‹è½¬æ¬¡æ•°å¤šï¼‰</td></tr><tr><td><strong>æŸ¥æ‰¾æ•ˆç‡</strong></td><td>ç¨æ…¢ï¼ˆé«˜åº¦ç•¥é«˜ï¼‰</td><td>æ›´å¿«ï¼ˆé«˜åº¦æœ€å°åŒ–ï¼‰</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>é¢‘ç¹ä¿®æ”¹çš„å…³è”å®¹å™¨ï¼ˆå¦‚mapï¼‰</td><td>æŸ¥è¯¢å¯†é›†å‹åœºæ™¯</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é«˜æ•ˆå·¥ä½œæ³•åˆ™ï¼šå­¦ä¼šæ€è€ƒï¼ŒæŒæ¡äº”å¤§ç®¡ç†å·¥å…·</title>
      <link href="/2025/07/04/Other/%E9%AB%98%E6%95%88%E5%B7%A5%E4%BD%9C%E6%B3%95%E5%88%99%EF%BC%9A%E5%AD%A6%E4%BC%9A%E6%80%9D%E8%80%83%EF%BC%8C%E6%8E%8C%E6%8F%A1%E4%BA%94%E5%A4%A7%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/"/>
      <url>/2025/07/04/Other/%E9%AB%98%E6%95%88%E5%B7%A5%E4%BD%9C%E6%B3%95%E5%88%99%EF%BC%9A%E5%AD%A6%E4%BC%9A%E6%80%9D%E8%80%83%EF%BC%8C%E6%8E%8C%E6%8F%A1%E4%BA%94%E5%A4%A7%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/</url>
      
        <content type="html"><![CDATA[<p>åœ¨èŒåœºä¸­ï¼Œå¦‚ä½•ä¸æ–­æå‡è‡ªå·±çš„æ•ˆç‡ã€ä¼˜åŒ–å·¥ä½œæµç¨‹ï¼Œæ˜¯æ¯ä½èŒä¸šäººéƒ½ä¼šé¢å¯¹çš„é—®é¢˜ã€‚æœ¬æ–‡èšç„¦äºå‡ ç§ç»å…¸çš„ç®¡ç†æ–¹æ³•è®ºï¼Œå¦‚PDCAå¾ªç¯ã€RACIæ¨¡å‹ã€RCAæ³•åˆ™ã€SWOTåˆ†æã€SMARTç›®æ ‡ç­‰ï¼Œå¸®åŠ©ä½ æŒæ¡ä»è®¡åˆ’åˆ°æ‰§è¡Œã€ä»åˆ†æåˆ°åé¦ˆçš„ç³»ç»ŸåŒ–æ€ç»´æ¨¡å¼ã€‚æ— è®ºä½ æ˜¯æ–°æ™‹èŒåœºå°ç™½ï¼Œè¿˜æ˜¯å¸Œæœ›è¿›ä¸€æ­¥ç²¾è¿›æŠ€èƒ½çš„ç®¡ç†è€…ï¼Œè¿™äº›å·¥å…·éƒ½èƒ½ä¸ºä½ çš„æ—¥å¸¸å·¥ä½œæä¾›æœ‰æ•ˆæŒ‡å¯¼ï¼ŒåŠ©ä½ åœ¨ä¸æ–­æ€è€ƒå’Œæ”¹è¿›ä¸­è¿ˆå‘æ›´é«˜æ•ˆçš„èŒåœºè¡¨ç°ã€‚è®©æˆ‘ä»¬ä»äº†è§£è¿™äº›æ–¹æ³•å¼€å§‹ï¼Œæ¢ç´¢å¦‚ä½•åœ¨å·¥ä½œä¸­æ´»å­¦æ´»ç”¨ï¼ŒçœŸæ­£åšåˆ°åœ¨æ€è€ƒä¸­æˆé•¿ï¼Œåœ¨åº”ç”¨ä¸­è¿›æ­¥ã€‚</p><h2 id="ä¸€-pdcaå¾ªç¯-æˆ´æ˜å¾ªç¯"><a class="markdownIt-Anchor" href="#ä¸€-pdcaå¾ªç¯-æˆ´æ˜å¾ªç¯"></a> ä¸€ã€PDCAå¾ªç¯ ï¼ˆ<strong>æˆ´æ˜å¾ªç¯</strong>ï¼‰</h2><h3 id="ä¸€ç®€å•ä»‹ç»"><a class="markdownIt-Anchor" href="#ä¸€ç®€å•ä»‹ç»"></a> ï¼ˆä¸€ï¼‰ç®€å•ä»‹ç»</h3><p>PDCAå¾ªç¯ï¼Œä¹Ÿç§°ä¸ºæˆ´æ˜å¾ªç¯æˆ–ç§‘å­¦å¾ªç¯ï¼Œæ˜¯ä¸€ç§ç®¡ç†æ–¹æ³•ï¼Œç”¨äºæŒç»­æ”¹è¿›å’Œä¼˜åŒ–è¿‡ç¨‹ã€‚å®ƒç”±å››ä¸ªæ­¥éª¤ç»„æˆï¼šè®¡åˆ’ï¼ˆPlanï¼‰ã€æ‰§è¡Œï¼ˆDoï¼‰ã€æ£€æŸ¥ï¼ˆCheckï¼‰å’Œè¡ŒåŠ¨ï¼ˆActionï¼‰ã€‚</p><p><img src="36b208b9078049ef3b20921b533d06c8.png" alt="" /></p><p>ä¸‹é¢æ˜¯æ¯ä¸ªæ­¥éª¤çš„è¯¦ç»†ä»‹ç»å’Œåº”ç”¨ï¼š</p><ol><li>è®¡åˆ’ï¼ˆPlanï¼‰ï¼šåœ¨è¿™ä¸€é˜¶æ®µï¼Œç¡®å®šç›®æ ‡ã€åˆ¶å®šè®¡åˆ’å’Œç¡®å®šè¦è§£å†³çš„é—®é¢˜ã€‚è®¾å®šæ˜ç¡®çš„ç›®æ ‡å’ŒæŒ‡æ ‡æ˜¯é‡è¦çš„ï¼Œä»¥ä¾¿åç»­æ­¥éª¤ä¸­è¿›è¡Œå¯¹æ¯”å’Œè¯„ä¼°ã€‚</li><li>æ‰§è¡Œï¼ˆDoï¼‰ï¼šåœ¨è¿™ä¸ªé˜¶æ®µï¼Œæ ¹æ®åˆ¶å®šçš„è®¡åˆ’å®æ–½æªæ–½ã€‚è¿™å¯èƒ½åŒ…æ‹¬åœ¨å°èŒƒå›´å†…è¿›è¡Œè¯•ç‚¹æµ‹è¯•æˆ–åœ¨æ•´ä¸ªç»„ç»‡å†…å®æ–½æ–°ç­–ç•¥ã€‚</li><li>æ£€æŸ¥ï¼ˆCheckï¼‰ï¼šè¿™ä¸€æ­¥æ˜¯å¯¹æ‰§è¡Œé˜¶æ®µçš„ç»“æœè¿›è¡Œè¯„ä¼°å’Œå¯¹æ¯”ã€‚æ”¶é›†æ•°æ®å¹¶ä¸é¢„å®šçš„ç›®æ ‡è¿›è¡Œæ¯”è¾ƒï¼Œä»¥äº†è§£å®æ–½è®¡åˆ’çš„æ•ˆæœå¦‚ä½•ã€‚</li><li>è¡ŒåŠ¨ï¼ˆActionï¼‰ï¼šåŸºäºæ£€æŸ¥é˜¶æ®µçš„ç»“æœï¼Œé‡‡å–ç›¸åº”çš„è¡ŒåŠ¨ã€‚å¦‚æœç»“æœè¾¾åˆ°äº†é¢„æœŸç›®æ ‡ï¼Œå¯ä»¥å°†æˆåŠŸçš„åšæ³•æ¨å¹¿åº”ç”¨ã€‚å¦‚æœç»“æœä¸ç†æƒ³ï¼Œéœ€è¦æ‰¾å‡ºé—®é¢˜æ‰€åœ¨ï¼Œå¹¶åˆ¶å®šæ”¹è¿›æªæ–½ã€‚</li></ol><p>PDCAå¾ªç¯æ˜¯ä¸€ç§çµæ´»çš„ç®¡ç†æ–¹æ³•ï¼Œå¯ä»¥åº”ç”¨äºå„ç§åœºæ™¯ï¼Œä¾‹å¦‚ç”Ÿäº§æµç¨‹ä¼˜åŒ–ã€é¡¹ç›®ç®¡ç†ã€è´¨é‡æ”¹è¿›ä»¥åŠä¸ªäººç›®æ ‡å®ç°ã€‚é€šè¿‡åå¤å¾ªç¯è¿™å››ä¸ªæ­¥éª¤ï¼ŒæŒç»­ä¸æ–­åœ°è¿›è¡Œæ”¹è¿›ï¼Œç»„ç»‡æˆ–ä¸ªäººèƒ½å¤Ÿä¸æ–­æé«˜æ•ˆç‡ã€ä¼˜åŒ–æˆæœï¼Œå¹¶é€æ­¥å®ç°æ›´é«˜çš„ç›®æ ‡ã€‚</p><h3 id="äºŒæˆ´æ˜å¾ªç¯çš„æ­¥éª¤"><a class="markdownIt-Anchor" href="#äºŒæˆ´æ˜å¾ªç¯çš„æ­¥éª¤"></a> ï¼ˆäºŒï¼‰æˆ´æ˜å¾ªç¯çš„æ­¥éª¤</h3><ul><li><strong>Pï¼ˆPlanï¼‰</strong>--è®¡åˆ’ï¼Œé€šè¿‡é›†ä½“è®¨è®ºæˆ–ä¸ªäººæ€è€ƒç¡®å®šæŸä¸€è¡ŒåŠ¨æˆ–æŸä¸€ç³»åˆ—è¡ŒåŠ¨çš„æ–¹æ¡ˆï¼ŒåŒ…æ‹¬<a href="http://wiki.mbalib.com/wiki/5W1H" title="5W1H">5W1H</a>ï¼›</li><li><strong>Dï¼ˆDoï¼‰</strong>--æ‰§è¡Œäººæ‰§è¡Œï¼ŒæŒ‰ç…§è®¡åˆ’å»åšï¼Œè½å®è®¡åˆ’ï¼›</li><li><strong>C/Sï¼ˆCheck/Studyï¼‰</strong>--æ£€æŸ¥æˆ–ç ”ç©¶æ‰§è¡Œäººçš„æ‰§è¡Œæƒ…å†µï¼Œæ¯”å¦‚åˆ°è®¡åˆ’æ‰§è¡Œè¿‡ç¨‹ä¸­çš„â€œæ§åˆ¶ç‚¹â€â€œ<a href="http://wiki.mbalib.com/wiki/%E7%AE%A1%E7%90%86%E7%82%B9" title="ç®¡ç†ç‚¹">ç®¡ç†ç‚¹</a>â€å»æ”¶é›†ä¿¡æ¯ï¼Œâ€œè®¡åˆ’æ‰§è¡Œçš„æ€ä¹ˆæ ·ï¼Ÿæœ‰æ²¡æœ‰è¾¾åˆ°é¢„æœŸçš„æ•ˆæœæˆ–è¦æ±‚ï¼Ÿâ€ï¼Œæ‰¾å‡ºé—®é¢˜ï¼›</li><li><strong>Aï¼ˆActionï¼‰</strong>--æ•ˆæœï¼Œå¯¹æ£€æŸ¥çš„ç»“æœè¿›è¡Œå¤„ç†ï¼Œè®¤å¯æˆ–å¦å®šã€‚æˆåŠŸçš„ç»éªŒè¦åŠ ä»¥è‚¯å®šï¼Œæˆ–è€…æ¨¡å¼åŒ–æˆ–è€…<a href="http://wiki.mbalib.com/wiki/%E6%A0%87%E5%87%86%E5%8C%96" title="æ ‡å‡†åŒ–">æ ‡å‡†åŒ–</a>ä»¥é€‚å½“æ¨å¹¿ï¼›å¤±è´¥çš„æ•™è®­è¦åŠ ä»¥æ€»ç»“ï¼Œä»¥å…é‡ç°ï¼›è¿™ä¸€è½®æœªè§£å†³çš„é—®é¢˜æ”¾åˆ°ä¸‹ä¸€ä¸ªPDCAå¾ªç¯ã€‚</li></ul><h3 id="ä¸‰æˆ´æ˜å¾ªç¯çš„æ­¥éª¤å’Œæ–¹æ³•"><a class="markdownIt-Anchor" href="#ä¸‰æˆ´æ˜å¾ªç¯çš„æ­¥éª¤å’Œæ–¹æ³•"></a> ï¼ˆä¸‰ï¼‰æˆ´æ˜å¾ªç¯çš„æ­¥éª¤å’Œæ–¹æ³•</h3><table><thead><tr><th>é˜¶æ®µ</th><th>æ­¥éª¤</th><th>ä¸»è¦åŠæ³•</th></tr></thead><tbody><tr><td>P</td><td>1ã€åˆ†æç°çŠ¶ï¼Œæ‰¾å‡ºé—®é¢˜</td><td><a href="http://wiki.mbalib.com/wiki/%E6%8E%92%E5%88%97%E5%9B%BE" title="æ’åˆ—å›¾">æ’åˆ—å›¾</a>ã€<a href="http://wiki.mbalib.com/wiki/%E7%9B%B4%E6%96%B9%E5%9B%BE" title="ç›´æ–¹å›¾">ç›´æ–¹å›¾</a>ã€<a href="http://wiki.mbalib.com/wiki/%E6%8E%A7%E5%88%B6%E5%9B%BE" title="æ§åˆ¶å›¾">æ§åˆ¶å›¾</a></td></tr><tr><td></td><td>2ã€åˆ†æå„ç§å½±å“å› ç´ æˆ–åŸå› </td><td><a href="http://wiki.mbalib.com/wiki/%E5%9B%A0%E6%9E%9C%E5%9B%BE" title="å› æœå›¾">å› æœå›¾</a></td></tr><tr><td></td><td>3ã€æ‰¾å‡ºä¸»è¦å½±å“å› ç´ </td><td><a href="http://wiki.mbalib.com/wiki/%E6%8E%92%E5%88%97%E5%9B%BE" title="æ’åˆ—å›¾">æ’åˆ—å›¾</a>ï¼Œ<a href="http://wiki.mbalib.com/wiki/%E7%9B%B8%E5%85%B3%E5%9B%BE" title="ç›¸å…³å›¾">ç›¸å…³å›¾</a></td></tr><tr><td></td><td>4ã€é’ˆå¯¹ä¸»è¦åŸå› ï¼Œåˆ¶å®šæªæ–½è®¡åˆ’</td><td>å›ç­”â€œ<a href="http://wiki.mbalib.com/wiki/5W1H" title="5W1H">5W1H</a>â€  <br>ä¸ºä»€ä¹ˆåˆ¶å®šè¯¥æªæ–½(Why)ï¼Ÿ  <br>è¾¾åˆ°ä»€ä¹ˆç›®æ ‡ï¼ˆWhatï¼‰?  <br>åœ¨ä½•å¤„æ‰§è¡Œï¼ˆWhereï¼‰ï¼Ÿ  <br>ç”±è°è´Ÿè´£å®Œæˆï¼ˆWhoï¼‰ï¼Ÿ  <br>ä»€ä¹ˆæ—¶é—´å®Œæˆï¼ˆWhenï¼‰ï¼Ÿ  <br>å¦‚ä½•å®Œæˆï¼ˆHowï¼‰ï¼Ÿ</td></tr><tr><td>D</td><td>5ã€æ‰§è¡Œã€å®æ–½è®¡åˆ’</td><td></td></tr><tr><td>C</td><td>6ã€æ£€æŸ¥è®¡åˆ’æ‰§è¡Œç»“æœ</td><td>æ’åˆ—å›¾](<a href="http://wiki.mbalib.com/wiki/%E6%8E%92%E5%88%97%E5%9B%BE">http://wiki.mbalib.com/wiki/æ’åˆ—å›¾</a> â€œæ’åˆ—å›¾â€)ã€<a href="http://wiki.mbalib.com/wiki/%E7%9B%B4%E6%96%B9%E5%9B%BE" title="ç›´æ–¹å›¾">ç›´æ–¹å›¾</a>ã€<a href="http://wiki.mbalib.com/wiki/%E6%8E%A7%E5%88%B6%E5%9B%BE" title="æ§åˆ¶å›¾">æ§åˆ¶å›¾</a></td></tr><tr><td>A</td><td>7ã€æ€»ç»“æˆåŠŸç»éªŒï¼Œåˆ¶å®šç›¸åº”æ ‡å‡†</td><td>åˆ¶å®šæˆ–ä¿®æ”¹å·¥ä½œè§„ç¨‹ã€æ£€æŸ¥è§„ç¨‹åŠå…¶å®ƒæœ‰å…³è§„ç« åˆ¶åº¦</td></tr><tr><td></td><td>8ã€æŠŠæœªè§£å†³æˆ–æ–°å‡ºç°çš„é—®é¢˜è½¬å…¥ä¸‹ä¸€ä¸ªPDCAå¾ªç¯</td><td></td></tr></tbody></table><h2 id="äºŒ-raciæ¨¡å‹"><a class="markdownIt-Anchor" href="#äºŒ-raciæ¨¡å‹"></a> äºŒã€RACIæ¨¡å‹</h2><p>åœ¨å¿«é€Ÿå‘å±•çš„è¿‡ç¨‹ä¸­ï¼Œä¼šä¸æ—¶çš„å†’å‡ºä¸€äº›ä¹‹å‰æ²¡æœ‰æ˜ç¡®ç•Œå®šçš„äº‹æƒ…ï¼Œå¾€å¾€äº§ç”Ÿä¸€äº›çœ‹ä¼¼å¤§å®¶éƒ½åœ¨è´Ÿè´£ï¼Œäº‹å®ä¸Šæ— äººè´Ÿè´£çš„äº‹æƒ…ã€‚<strong>RACIæ¨¡å‹å¯¹å¿«é€Ÿå‘å±•çš„æˆ‘ä»¬çš„æœ€é‡è¦çš„å¯å‘æ˜¯ï¼šæ¯ä»¶äº‹éƒ½è¦å°½æ—©ç¡®å®šè°è´Ÿè´£ï¼Œä¹Ÿå°±æ˜¯ç¡®å®šRã€‚</strong></p><p>RACIçš„ä¸€ä¸ªæ‰©å±•ï¼ŒRASCIï¼Œæ˜¯æ›´åŠ å…¨é¢åŠé€‚ç”¨æˆ‘ä»¬çš„æƒ…å†µçš„ã€‚</p><ul><li><p>è°è´Ÿè´£ï¼ˆR = Responsibleï¼‰ï¼Œè´Ÿè´£æ‰§è¡Œä»»åŠ¡çš„è§’è‰²ï¼Œå…·ä½“è´Ÿè´£æ“æ§é¡¹ç›®ã€è§£å†³é—®é¢˜ã€‚</p></li><li><p>è°æ‰¹å‡†ï¼ˆA = Accountableï¼‰ï¼Œå¯¹ä»»åŠ¡è´Ÿå…¨è´£çš„è§’è‰²ï¼Œåªæœ‰ç»å…¶åŒæ„æˆ–ç­¾ç½²ä¹‹åï¼Œé¡¹ç›®æ‰èƒ½å¾—ä»¥è¿›è¡Œã€‚</p></li><li><p>è°æ”¯æŒï¼ˆS = Supportï¼‰ï¼Œå‚ä¸å…·ä½“ä»»åŠ¡ï¼ŒååŠ©Rå®Œæˆå·¥ä½œçš„è§’è‰²ã€‚</p></li><li><p>å’¨è¯¢è°ï¼ˆC = Consultedï¼‰ï¼Œåœ¨ä»»åŠ¡å®æ–½å‰æˆ–ä¸­æä¾›æŒ‡å®šæ€§æ„è§çš„äººå‘˜ã€‚</p></li><li><p>å‘ŠçŸ¥è°ï¼ˆI = Informedï¼‰ï¼ŒåŠæ—¶è¢«é€šçŸ¥ç»“æœçš„äººå‘˜ï¼Œä¸å¿…å‘å…¶å’¨è¯¢ã€å¾æ±‚æ„è§ã€‚</p></li></ul><h2 id="ä¸‰-rcaæ³•åˆ™"><a class="markdownIt-Anchor" href="#ä¸‰-rcaæ³•åˆ™"></a> ä¸‰ã€RCAæ³•åˆ™</h2><p>RCAæ³•åˆ™æ˜¯ä¸€ç§é—®é¢˜è§£å†³æ–¹æ³•ï¼ŒRCAä»£è¡¨æ ¹æœ¬åŸå› åˆ†æï¼ˆRoot Cause Analysisï¼‰ã€‚å®ƒæ˜¯ä¸€ç§ç³»ç»Ÿæ€§çš„æ–¹æ³•ï¼Œç”¨äºç¡®å®šé—®é¢˜èƒŒåçš„æ ¹æœ¬åŸå› ï¼Œè€Œä¸ä»…ä»…æ˜¯å¤„ç†é—®é¢˜çš„è¡¨é¢ç—‡çŠ¶ã€‚RCAæ³•åˆ™çš„ç›®æ ‡æ˜¯æ‰¾å‡ºå¯¼è‡´é—®é¢˜å‡ºç°çš„æ ¹æœ¬åŸå› ï¼Œä»¥ä¾¿é‡‡å–æ­£ç¡®çš„æªæ–½æ¥é¢„é˜²ç±»ä¼¼é—®é¢˜å†æ¬¡å‘ç”Ÿã€‚</p><p>RCAæ³•åˆ™çš„ä¸»è¦æ­¥éª¤é€šå¸¸åŒ…æ‹¬ï¼š</p><ol><li>ç¡®å®šé—®é¢˜ï¼šé¦–å…ˆï¼Œéœ€è¦æ˜ç¡®å®šä¹‰é—®é¢˜æˆ–äº‹ä»¶ï¼ŒåŒ…æ‹¬é—®é¢˜çš„æ€§è´¨ã€æ—¶é—´ã€åœ°ç‚¹å’Œå½±å“ç­‰ã€‚</li><li>æ”¶é›†æ•°æ®ï¼šæ”¶é›†ä¸é—®é¢˜ç›¸å…³çš„æ•°æ®å’Œä¿¡æ¯ã€‚è¿™å¯èƒ½åŒ…æ‹¬è§‚å¯Ÿã€è®°å½•ã€æ–‡ä»¶å®¡æŸ¥æˆ–é‡‡è®¿ç›¸å…³äººå‘˜ã€‚</li><li>åˆ†ææ•°æ®ï¼šå¯¹æ”¶é›†åˆ°çš„æ•°æ®è¿›è¡Œä»”ç»†åˆ†æï¼Œä»¥ç†è§£é—®é¢˜çš„èƒŒæ™¯å’Œç›¸å…³å› ç´ ã€‚</li><li>ç¡®å®šæ ¹æœ¬åŸå› ï¼šé€šè¿‡ç»†è‡´çš„åˆ†æï¼Œæ‰¾å‡ºå¯¼è‡´é—®é¢˜å‘ç”Ÿçš„æ ¹æœ¬åŸå› ã€‚è¿™ä¸€æ­¥éª¤å¯èƒ½æ¶‰åŠä½¿ç”¨ä¸åŒçš„å·¥å…·å’ŒæŠ€æœ¯ï¼Œå¦‚5W1Hæ³•ã€é±¼éª¨å›¾ï¼ˆIshikawaå›¾ï¼‰æˆ–å› æœå›¾ã€‚</li><li>åˆ¶å®šè§£å†³æ–¹æ¡ˆï¼šåŸºäºæ‰¾å‡ºçš„æ ¹æœ¬åŸå› ï¼Œåˆ¶å®šé€‚å½“çš„è§£å†³æ–¹æ¡ˆæ¥æ¶ˆé™¤æˆ–å‡è½»é—®é¢˜çš„å½±å“ã€‚è§£å†³æ–¹æ¡ˆå¯èƒ½åŒ…æ‹¬ä¿®å¤ç¨‹åºã€æµç¨‹æ”¹è¿›ã€åŸ¹è®­ç­‰ã€‚</li><li>å®æ–½æªæ–½ï¼šå°†åˆ¶å®šçš„è§£å†³æ–¹æ¡ˆä»˜è¯¸å®æ–½ï¼Œå¹¶ç¡®ä¿æ‰€æœ‰ç›¸å…³äººå‘˜äº†è§£å¹¶å‚ä¸å…¶ä¸­ã€‚</li><li>ç›‘æ§å’Œè¯„ä¼°ï¼šè·Ÿè¸ªå®æ–½åçš„æ•ˆæœï¼Œç›‘æ§é—®é¢˜æ˜¯å¦å¾—åˆ°è§£å†³ï¼Œå¹¶è¯„ä¼°æ˜¯å¦éœ€è¦è¿›ä¸€æ­¥çš„è°ƒæ•´å’Œæ”¹è¿›ã€‚</li></ol><p>RCAæ³•åˆ™å¯ä»¥åº”ç”¨äºå„ç§åœºæ™¯ï¼ŒåŒ…æ‹¬äº‹æ•…è°ƒæŸ¥ã€è´¨é‡é—®é¢˜å¤„ç†ã€å®¢æˆ·æŠ•è¯‰è§£å†³ç­‰ã€‚é€šè¿‡æ‰¾å‡ºé—®é¢˜çš„æ ¹æœ¬åŸå› ï¼Œç»„ç»‡å’Œä¸ªäººå¯ä»¥é¿å…åå¤å‡ºç°ç›¸åŒçš„é—®é¢˜ï¼Œæé«˜å·¥ä½œå’ŒæœåŠ¡çš„è´¨é‡ï¼Œä¿ƒè¿›æŒç»­æ”¹è¿›ã€‚</p><h2 id="å››-swotåˆ†ææ³•"><a class="markdownIt-Anchor" href="#å››-swotåˆ†ææ³•"></a> å››ã€SWOTåˆ†ææ³•</h2><h3 id="ä¸€åŸºæœ¬è¯´æ˜"><a class="markdownIt-Anchor" href="#ä¸€åŸºæœ¬è¯´æ˜"></a> ï¼ˆä¸€ï¼‰åŸºæœ¬è¯´æ˜</h3><p>SWOTåˆ†ææ³•æ˜¯ä¸€ç§å¸¸ç”¨çš„æˆ˜ç•¥ç®¡ç†å·¥å…·ï¼Œç”¨äºè¯„ä¼°ä¸€ä¸ªç»„ç»‡ã€é¡¹ç›®æˆ–ä¸ªäººçš„ä¼˜åŠ¿ã€åŠ£åŠ¿ã€æœºä¼šå’Œå¨èƒã€‚SWOTæ˜¯Strengthsï¼ˆä¼˜åŠ¿ï¼‰ã€Weaknessesï¼ˆåŠ£åŠ¿ï¼‰ã€Opportunitiesï¼ˆæœºä¼šï¼‰å’ŒThreatsï¼ˆå¨èƒï¼‰çš„é¦–å­—æ¯ç¼©å†™ã€‚é€šè¿‡SWOTåˆ†æï¼Œå¯ä»¥å¸®åŠ©è¯†åˆ«å†…éƒ¨ä¼˜åŠ¿å’ŒåŠ£åŠ¿ï¼Œä»¥åŠå¤–éƒ¨æœºä¼šå’Œå¨èƒï¼Œä»è€Œåˆ¶å®šæ›´æœ‰æ•ˆçš„æˆ˜ç•¥å’Œå†³ç­–ã€‚</p><p>ä¸‹é¢æ˜¯SWOTåˆ†ææ³•çš„è¯¦ç»†è¯´æ˜ï¼š</p><ol><li>ä¼˜åŠ¿ï¼ˆStrengthsï¼‰ï¼šè¿™æ˜¯æŒ‡ç»„ç»‡ã€é¡¹ç›®æˆ–ä¸ªäººçš„å†…éƒ¨ä¼˜åŠ¿å’Œä¼˜ç‚¹ã€‚åŒ…æ‹¬ä»–ä»¬æ“…é•¿çš„æŠ€èƒ½ã€èµ„æºã€ä¼˜è´¨çš„äº§å“æˆ–æœåŠ¡ä»¥åŠç‹¬ç‰¹çš„ç«äº‰ä¼˜åŠ¿ç­‰ã€‚é€šè¿‡äº†è§£è‡ªèº«çš„ä¼˜åŠ¿ï¼Œå¯ä»¥è¿›ä¸€æ­¥å‘å±•å’Œåˆ©ç”¨è¿™äº›ä¼˜åŠ¿ï¼Œä»¥å¢å¼ºç«äº‰åŠ›ã€‚</li><li>åŠ£åŠ¿ï¼ˆWeaknessesï¼‰ï¼šåŠ£åŠ¿æ˜¯æŒ‡ç»„ç»‡ã€é¡¹ç›®æˆ–ä¸ªäººçš„å†…éƒ¨å¼±ç‚¹å’Œä¸è¶³ä¹‹å¤„ã€‚å¯èƒ½åŒ…æ‹¬ç¼ºä¹å…³é”®æŠ€èƒ½ã€æœ‰é™çš„èµ„æºã€ä½æ•ˆçš„æµç¨‹æˆ–å…¶ä»–æ–¹é¢çš„ä¸è¶³ã€‚é€šè¿‡è¯†åˆ«å’Œåˆ†æåŠ£åŠ¿ï¼Œå¯ä»¥é‡‡å–æªæ–½æ¥æ”¹è¿›æˆ–å¼¥è¡¥è¿™äº›é—®é¢˜ï¼Œä»¥æé«˜ç»©æ•ˆå’Œç«äº‰åŠ›ã€‚</li><li>æœºä¼šï¼ˆOpportunitiesï¼‰ï¼šæœºä¼šæ˜¯æŒ‡å¤–éƒ¨ç¯å¢ƒä¸­æœ‰åˆ©çš„å› ç´ ï¼Œå¯ä»¥ä¸ºç»„ç»‡ã€é¡¹ç›®æˆ–ä¸ªäººå¸¦æ¥æ½œåœ¨çš„å‘å±•æœºé‡ã€‚è¿™äº›å› ç´ å¯èƒ½åŒ…æ‹¬å¸‚åœºéœ€æ±‚çš„å¢é•¿ã€æ–°æŠ€æœ¯çš„å‡ºç°ã€ç«äº‰å¯¹æ‰‹çš„å¼±ç‚¹ç­‰ã€‚é€šè¿‡æŠ“ä½æœºä¼šï¼Œå¯ä»¥å®ç°å¢é•¿å’Œæ‹“å±•ã€‚</li><li>å¨èƒï¼ˆThreatsï¼‰ï¼šå¨èƒæ˜¯æŒ‡å¤–éƒ¨ç¯å¢ƒä¸­çš„ä¸åˆ©å› ç´ ï¼Œå¯èƒ½å¯¹ç»„ç»‡ã€é¡¹ç›®æˆ–ä¸ªäººçš„å‘å±•æ„æˆæ½œåœ¨çš„é£é™©å’ŒæŒ‘æˆ˜ã€‚è¿™äº›å› ç´ å¯èƒ½åŒ…æ‹¬ç«äº‰åŠ å‰§ã€ç»æµä¸ç¨³å®šã€æ³•è§„å˜åŒ–ç­‰ã€‚é€šè¿‡äº†è§£å’Œåº”å¯¹å¨èƒï¼Œå¯ä»¥å‡å°‘æ½œåœ¨é£é™©ï¼Œä¿æŠ¤åˆ©ç›Šã€‚</li></ol><p>SWOTåˆ†ææ³•å¯ä»¥åº”ç”¨äºå„ç§åœºæ™¯ï¼ŒåŒ…æ‹¬ç»„ç»‡æˆ˜ç•¥è§„åˆ’ã€å¸‚åœºè°ƒæŸ¥ã€é¡¹ç›®å†³ç­–ä»¥åŠä¸ªäººèŒä¸šå‘å±•ç­‰ã€‚é€šè¿‡ç»¼åˆè€ƒè™‘å†…å¤–éƒ¨å› ç´ ï¼ŒSWOTåˆ†ææä¾›äº†ä¸€ä¸ªå…¨é¢çš„è§†è§’ï¼Œå¸®åŠ©åˆ¶å®šæ›´æ˜æ™ºçš„æˆ˜ç•¥å’Œè¡ŒåŠ¨è®¡åˆ’ã€‚</p><h3 id="äºŒswotåˆ†ææ¨¡å‹çš„æ–¹æ³•"><a class="markdownIt-Anchor" href="#äºŒswotåˆ†ææ¨¡å‹çš„æ–¹æ³•"></a> ï¼ˆäºŒï¼‰SWOTåˆ†ææ¨¡å‹çš„æ–¹æ³•</h3><p>åœ¨é€‚åº”æ€§åˆ†æè¿‡ç¨‹ä¸­ï¼Œä¼ä¸šé«˜å±‚ç®¡ç†äººå‘˜åº”åœ¨ç¡®å®šå†…å¤–éƒ¨å„ç§å˜é‡çš„åŸºç¡€ä¸Šï¼Œé‡‡ç”¨æ æ†æ•ˆåº”ã€æŠ‘åˆ¶æ€§ã€è„†å¼±æ€§å’Œé—®é¢˜æ€§å››ä¸ªåŸºæœ¬æ¦‚å¿µè¿›è¡Œè¿™ä¸€æ¨¡å¼çš„åˆ†æã€‚</p><ol><li>æ æ†æ•ˆåº”ï¼ˆä¼˜åŠ¿+æœºä¼šï¼‰ï¼šæ æ†æ•ˆåº”äº§ç”Ÿäºå†…éƒ¨ä¼˜åŠ¿ä¸å¤–éƒ¨æœºä¼šç›¸äº’ä¸€è‡´å’Œé€‚åº”æ—¶ã€‚åœ¨è¿™ç§æƒ…å½¢ä¸‹ï¼Œä¼ä¸šå¯ä»¥ç”¨è‡ªèº«å†…éƒ¨ä¼˜åŠ¿æ’¬èµ·å¤–éƒ¨æœºä¼šï¼Œä½¿æœºä¼šä¸ä¼˜åŠ¿å……åˆ†ç»“åˆå‘æŒ¥å‡ºæ¥ã€‚ç„¶è€Œï¼Œæœºä¼šå¾€å¾€æ˜¯ç¨ç¬å³é€çš„ï¼Œå› æ­¤ä¼ä¸šå¿…é¡»æ•é”åœ°æ•æ‰æœºä¼šï¼ŒæŠŠæ¡æ—¶æœºï¼Œä»¥å¯»æ±‚æ›´å¤§çš„å‘å±•ã€‚</li><li>æŠ‘åˆ¶æ€§ï¼ˆåŠ£åŠ¿+æœºä¼šï¼‰ï¼šæŠ‘åˆ¶æ€§æ„å‘³ç€å¦¨ç¢ã€é˜»æ­¢ã€å½±å“ä¸æ§åˆ¶ã€‚å½“ç¯å¢ƒæä¾›çš„æœºä¼šä¸ä¼ä¸šå†…éƒ¨èµ„æºä¼˜åŠ¿ä¸ç›¸é€‚åˆï¼Œæˆ–è€…ä¸èƒ½ç›¸äº’é‡å æ—¶ï¼Œä¼ä¸šçš„ä¼˜åŠ¿å†å¤§ä¹Ÿå°†å¾—ä¸åˆ°å‘æŒ¥ã€‚åœ¨è¿™ç§æƒ…å½¢ä¸‹ï¼Œä¼ä¸šå°±éœ€è¦æä¾›å’Œè¿½åŠ æŸç§èµ„æºï¼Œä»¥ä¿ƒè¿›å†…éƒ¨èµ„æºåŠ£åŠ¿å‘ä¼˜åŠ¿æ–¹é¢è½¬åŒ–ï¼Œä»è€Œè¿åˆæˆ–é€‚åº”å¤–éƒ¨æœºä¼šã€‚</li><li>è„†å¼±æ€§ï¼ˆä¼˜åŠ¿+å¨èƒï¼‰ï¼šè„†å¼±æ€§æ„å‘³ç€ä¼˜åŠ¿çš„ç¨‹åº¦æˆ–å¼ºåº¦çš„é™ä½ã€å‡å°‘ã€‚å½“ç¯å¢ƒçŠ¶å†µå¯¹å…¬å¸ä¼˜åŠ¿æ„æˆå¨èƒæ—¶ï¼Œä¼˜åŠ¿å¾—ä¸åˆ°å……åˆ†å‘æŒ¥ï¼Œå‡ºç°ä¼˜åŠ¿ä¸ä¼˜çš„è„†å¼±å±€é¢ã€‚åœ¨è¿™ç§æƒ…å½¢ä¸‹ï¼Œä¼ä¸šå¿…é¡»å…‹æœå¨èƒï¼Œä»¥å‘æŒ¥ä¼˜åŠ¿ã€‚</li><li>é—®é¢˜æ€§ï¼ˆåŠ£åŠ¿+å¨èƒï¼‰ï¼šå½“ä¼ä¸šå†…éƒ¨åŠ£åŠ¿ä¸ä¼ä¸šå¤–éƒ¨å¨èƒç›¸é‡æ—¶ï¼Œä¼ä¸šå°±é¢ä¸´ç€ä¸¥å³»æŒ‘æˆ˜ï¼Œå¦‚æœå¤„ç†ä¸å½“ï¼Œå¯èƒ½ç›´æ¥å¨èƒåˆ°ä¼ä¸šçš„ç”Ÿæ­»å­˜äº¡ã€‚</li></ol><h3 id="ä¸‰swotåˆ†ææ­¥éª¤"><a class="markdownIt-Anchor" href="#ä¸‰swotåˆ†ææ­¥éª¤"></a> ï¼ˆä¸‰ï¼‰SWOTåˆ†ææ­¥éª¤</h3><p>æ­¥éª¤1ï¼šç¡®è®¤å½“å‰çš„æˆ˜ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>æ­¥éª¤2ï¼šç¡®è®¤ä¼ä¸šå¤–éƒ¨ç¯å¢ƒçš„å˜åŒ–ï¼ˆæ³¢ç‰¹äº”åŠ›æˆ–è€…PESTï¼‰</p><p>æ­¥éª¤3ï¼šæ ¹æ®ä¼ä¸šèµ„æºç»„åˆæƒ…å†µï¼Œç¡®è®¤ä¼ä¸šçš„å…³é”®èƒ½åŠ›å’Œå…³é”®é™åˆ¶ã€‚</p><p><img src="bf95e95549377940850195cc80baff24.png" alt="" /></p><p>æ­¥éª¤4ï¼šæŒ‰ç…§<a href="http://wiki.mbalib.com/wiki/GE%E7%9F%A9%E9%98%B5" title="é€šç”¨çŸ©é˜µ">é€šç”¨çŸ©é˜µ</a>æˆ–ç±»ä¼¼çš„æ–¹å¼æ‰“åˆ†è¯„ä»·</p><p>æŠŠè¯†åˆ«å‡ºçš„æ‰€æœ‰ä¼˜åŠ¿åˆ†æˆä¸¤ç»„ï¼Œåˆ†çš„æ—¶å€™ä»¥ä¸¤ä¸ªåŸåˆ™ä¸ºåŸºç¡€ï¼šå®ƒä»¬æ˜¯ä¸è¡Œä¸šä¸­æ½œåœ¨çš„æœºä¼šæœ‰å…³ï¼Œè¿˜æ˜¯ä¸æ½œåœ¨çš„å¨èƒæœ‰å…³ã€‚ç”¨åŒæ ·çš„åŠæ³•æŠŠæ‰€æœ‰çš„åŠ£åŠ¿åˆ†æˆä¸¤ç»„ï¼Œä¸€ç»„ä¸æœºä¼šæœ‰å…³ï¼Œå¦ä¸€ç»„ä¸å¨èƒæœ‰å…³ã€‚</p><p>æ­¥éª¤5ï¼šå°†ç»“æœåœ¨SWOTåˆ†æå›¾ä¸Šå®šä½</p><p><img src="3e66554b35b582d823f2ad59bc86d418.png" alt="" /></p><p>æˆ–è€…ç”¨SWOTåˆ†æè¡¨ï¼Œå°†åˆšæ‰çš„ä¼˜åŠ¿å’ŒåŠ£åŠ¿æŒ‰æœºä¼šå’Œå¨èƒåˆ†åˆ«å¡«å…¥è¡¨æ ¼ã€‚</p><p><img src="16a9778c40f5e10af0465de7e38e5a17.png" alt="" /></p><p>æ­¥éª¤6ï¼š<a href="http://wiki.mbalib.com/wiki/%E6%88%98%E7%95%A5%E5%88%86%E6%9E%90" title="æˆ˜ç•¥åˆ†æ">æˆ˜ç•¥åˆ†æ</a></p><p>ä¸¾ä¸€ä¸ª<a href="http://wiki.mbalib.com/wiki/%E7%A7%91%E5%B0%94%E5%B0%BC" title="ç§‘å°”å°¼">ç§‘å°”å°¼</a>SWOTåˆ†æå¾—å‡ºæˆ˜ç•¥çš„ä¾‹å­ã€‚</p><p><img src="1edbb7b858c1993cad04e825b5129dcc.png" alt="" /></p><h3 id="å››æˆåŠŸåº”ç”¨swotåˆ†ææ³•çš„ç®€å•è§„åˆ™"><a class="markdownIt-Anchor" href="#å››æˆåŠŸåº”ç”¨swotåˆ†ææ³•çš„ç®€å•è§„åˆ™"></a> ï¼ˆå››ï¼‰æˆåŠŸåº”ç”¨SWOTåˆ†ææ³•çš„ç®€å•è§„åˆ™</h3><ul><li><p>è¿›è¡ŒSWOTåˆ†æçš„æ—¶å€™å¿…é¡»å¯¹å…¬å¸çš„ä¼˜åŠ¿ä¸åŠ£åŠ¿æœ‰å®¢è§‚çš„è®¤è¯†ï¼›</p></li><li><p>è¿›è¡ŒSWOTåˆ†æçš„æ—¶å€™å¿…é¡»åŒºåˆ†å…¬å¸çš„ç°çŠ¶ä¸å‰æ™¯ï¼›</p></li><li><p>è¿›è¡ŒSWOTåˆ†æçš„æ—¶å€™å¿…é¡»è€ƒè™‘å…¨é¢ã€‚</p></li><li><p>è¿›è¡ŒSWOTåˆ†æçš„æ—¶å€™å¿…é¡»ä¸<a href="http://wiki.mbalib.com/wiki/%E7%AB%9E%E4%BA%89%E5%AF%B9%E6%89%8B" title="ç«äº‰å¯¹æ‰‹">ç«äº‰å¯¹æ‰‹</a>è¿›è¡Œæ¯”è¾ƒï¼Œæ¯”å¦‚ä¼˜äºæˆ–æ˜¯åŠ£äºä½ çš„ç«äº‰å¯¹æ‰‹ï¼›</p></li><li><p>ä¿æŒSWOTåˆ†ææ³•çš„ç®€æ´åŒ–ï¼Œé¿å…å¤æ‚åŒ–ä¸è¿‡åº¦åˆ†æï¼›</p></li><li><p>SWOTåˆ†ææ³•å› äººè€Œå¼‚ã€‚</p></li></ul><p>ä¸€æ—¦ä½¿ç”¨SWOTåˆ†ææ³•å†³å®šäº†å…³é”®é—®é¢˜ï¼Œä¹Ÿå°±ç¡®å®šæ˜¯<a href="http://wiki.mbalib.com/wiki/%E5%B8%82%E5%9C%BA%E8%90%A5%E9%94%80" title="å¸‚åœºè¥é”€">å¸‚åœºè¥é”€</a>çš„ç›®æ ‡ã€‚SWOTåˆ†ææ³•å¯ä¸<a href="http://wiki.mbalib.com/wiki/PEST_analysis" title="PEST analysis">PEST analysis</a>å’Œ<a href="http://wiki.mbalib.com/wiki/Porter%27s_Five-Forces_analysis" title="Porter's Five-Forces analysis">Porterâ€™s Five-Forces analysis</a>ç­‰å·¥å…·ä¸€èµ·ä½¿ç”¨ã€‚å¸‚åœºè¥é”€è¯¾ç¨‹çš„å­¦ç”Ÿä¹‹æ‰€ä»¥çƒ­è¡·äºSWOTåˆ†ææ³•æ˜¯å› ä¸ºå®ƒçš„æ˜“å­¦æ€§ä¸æ˜“ç”¨æ€§ã€‚è¿ç”¨SWOTåˆ†ææ³•çš„æ—¶å€™ï¼Œè¦å°†ä¸ç”¨çš„è¦ç´ åˆ—å…¥ç›¸å…³çš„è¡¨æ ¼å½“ä¸­å»ï¼Œå¾ˆå®¹æ˜“æ“ä½œã€‚</p><h3 id="äº”swotæ¨¡å‹çš„å±€é™æ€§"><a class="markdownIt-Anchor" href="#äº”swotæ¨¡å‹çš„å±€é™æ€§"></a> ï¼ˆäº”ï¼‰SWOTæ¨¡å‹çš„å±€é™æ€§</h3><p>ä¸å¾ˆå¤šå…¶ä»–çš„æˆ˜ç•¥æ¨¡å‹ä¸€æ ·ï¼ŒSWOTæ¨¡å‹å·²ç”±<a href="http://wiki.mbalib.com/wiki/%E9%BA%A6%E8%82%AF%E9%94%A1%E5%92%A8%E8%AF%A2%E5%85%AC%E5%8F%B8%E7%AE%80%E4%BB%8B" title="éº¦è‚¯é”¡">éº¦è‚¯é”¡</a>æå‡ºå¾ˆä¹…äº†ï¼Œå¸¦æœ‰æ—¶ä»£çš„å±€é™æ€§ã€‚ä»¥å‰çš„ä¼ä¸šå¯èƒ½æ¯”è¾ƒå…³æ³¨<a href="http://wiki.mbalib.com/wiki/%E6%88%90%E6%9C%AC" title="æˆæœ¬">æˆæœ¬</a>ã€<a href="http://wiki.mbalib.com/wiki/%E8%B4%A8%E9%87%8F" title="è´¨é‡">è´¨é‡</a>ï¼Œç°åœ¨çš„ä¼ä¸šå¯èƒ½æ›´å¼ºè°ƒ<a href="http://wiki.mbalib.com/wiki/%E7%BB%84%E7%BB%87%E6%B5%81%E7%A8%8B" title="ç»„ç»‡æµç¨‹">ç»„ç»‡æµç¨‹</a>ã€‚ä¾‹å¦‚ä»¥å‰çš„ç”µåŠ¨æ‰“å­—æœºè¢«å°è¡¨æœºå–ä»£ï¼Œè¯¥æ€ä¹ˆè½¬å‹ï¼Ÿæ˜¯åº”è¯¥åšå°è¡¨æœºè¿˜æ˜¯å…¶ä»–ä¸æœºç”µæœ‰å…³çš„äº§å“ï¼Ÿä»SWOTåˆ†ææ¥çœ‹ï¼Œç”µåŠ¨æ‰“å­—æœºå‚å•†ä¼˜åŠ¿åœ¨æœºç”µï¼Œä½†æ˜¯å‘å±•å°è¡¨æœºåˆæ˜¾å¾—æ¯”è¾ƒæœ‰æœºä¼šã€‚ç»“æœæœ‰çš„æœå°è¡¨æœºå‘å±•ï¼Œæ­»å¾—å¾ˆæƒ¨ï¼›æœ‰çš„æœå‰ƒé¡»åˆ€ç”Ÿäº§å‘å±•å¾ˆæˆåŠŸã€‚è¿™å°±è¦çœ‹ï¼Œä½ è¦çš„æ˜¯ä»¥æœºä¼šä¸ºä¸»çš„æˆé•¿ç­–ç•¥ï¼Œè¿˜æ˜¯è¦ä»¥èƒ½åŠ›ä¸ºä¸»çš„æˆé•¿ç­–ç•¥ã€‚SWOTæ²¡æœ‰è€ƒè™‘åˆ°ä¼ä¸šæ”¹å˜ç°çŠ¶çš„ä¸»åŠ¨æ€§ï¼Œä¼ä¸šæ˜¯å¯ä»¥é€šè¿‡å¯»æ‰¾æ–°çš„èµ„æºæ¥åˆ›é€ ä¼ä¸šæ‰€éœ€è¦çš„ä¼˜åŠ¿ï¼Œä»è€Œè¾¾åˆ°è¿‡å»æ— æ³•è¾¾æˆçš„<a href="http://wiki.mbalib.com/wiki/%E6%88%98%E7%95%A5%E7%9B%AE%E6%A0%87" title="æˆ˜ç•¥ç›®æ ‡">æˆ˜ç•¥ç›®æ ‡</a>ã€‚</p><p>åœ¨è¿ç”¨SWOTåˆ†ææ³•çš„è¿‡ç¨‹ä¸­ï¼Œä½ æˆ–è®¸ä¼šç¢°åˆ°ä¸€äº›é—®é¢˜ï¼Œè¿™å°±æ˜¯å®ƒçš„é€‚åº”æ€§ã€‚å› ä¸ºæœ‰å¤ªå¤šçš„åœºåˆå¯ä»¥è¿ç”¨SWOTåˆ†ææ³•ï¼Œæ‰€ä»¥å®ƒå¿…é¡»å…·æœ‰é€‚åº”æ€§ã€‚ç„¶è€Œè¿™ä¹Ÿä¼šå¯¼è‡´åå¸¸ç°è±¡çš„äº§ç”Ÿã€‚åŸºç¡€SWOTåˆ†ææ³•æ‰€äº§ç”Ÿçš„é—®é¢˜å¯ä»¥ç”±æ›´é«˜çº§çš„<a href="http://wiki.mbalib.com/wiki/POWER_SWOT%E5%88%86%E6%9E%90%E6%B3%95" title="POWER SWOTåˆ†ææ³•">POWER SWOTåˆ†ææ³•</a>å¾—åˆ°è§£å†³ã€‚</p><h2 id="äº”-ç›®æ ‡smart"><a class="markdownIt-Anchor" href="#äº”-ç›®æ ‡smart"></a> äº”ã€ç›®æ ‡SMART</h2><p>ç›®æ ‡SMARTæ˜¯ä¸€ç§ç›®æ ‡è®¾å®šçš„æ–¹æ³•ï¼Œå®ƒæ˜¯ä¸€ä¸ªç¼©å†™ï¼Œæ¯ä¸ªå­—æ¯ä»£è¡¨ç‰¹å®šçš„ç‰¹å¾ï¼Œç”¨äºç¡®ä¿ç›®æ ‡æ˜¯å…·ä½“ã€å¯è¡¡é‡ã€å¯å®ç°ã€ä¸ç°å®ç›¸å…³å’Œæœ‰æ—¶é™çš„ã€‚ä»¥ä¸‹æ˜¯æ¯ä¸ªå­—æ¯çš„è¯¦ç»†è¯´æ˜ï¼š</p><ol><li>S - å…·ä½“ï¼ˆSpecificï¼‰ï¼šç›®æ ‡åº”è¯¥æ˜¯å…·ä½“å’Œæ¸…æ™°çš„ï¼Œæ˜ç¡®æè¿°æƒ³è¦å®ç°çš„ç»“æœã€‚é¿å…æ¨¡ç³Šå’Œå«ç³Šä¸æ¸…çš„è¡¨è¿°ï¼Œè€Œæ˜¯æ˜ç¡®æŒ‡å®šç›®æ ‡çš„å†…å®¹å’ŒèŒƒå›´ã€‚</li><li>M - å¯è¡¡é‡ï¼ˆMeasurableï¼‰ï¼šç›®æ ‡åº”è¯¥æ˜¯å¯è¡¡é‡çš„ï¼Œå¯ä»¥ç”¨å…·ä½“çš„æŒ‡æ ‡æˆ–é‡åŒ–æ–¹å¼æ¥è¯„ä¼°å…¶è¾¾æˆç¨‹åº¦ã€‚è¿™æ ·å¯ä»¥è·Ÿè¸ªè¿›å±•å¹¶ç¡®å®šæ˜¯å¦å·²æˆåŠŸå®ç°ç›®æ ‡ã€‚</li><li>A - å¯å®ç°ï¼ˆAchievableï¼‰ï¼šç›®æ ‡åº”è¯¥æ˜¯å¯å®ç°çš„ï¼Œå³åœ¨ç»™å®šçš„èµ„æºå’Œæ¡ä»¶ä¸‹ï¼Œæœ‰åˆç†çš„æœºä¼šå®ç°ã€‚ç›®æ ‡åº”è¯¥æŒ‘æˆ˜æ€§ï¼Œä½†ä¹Ÿè¦åŸºäºç°å®å¯è¡Œæ€§è¿›è¡Œè®¾å®šã€‚</li><li>R - ä¸ç°å®ç›¸å…³ï¼ˆRelevantï¼‰ï¼šç›®æ ‡åº”è¯¥ä¸æ•´ä½“ç›®æ ‡å’Œæ„¿æ™¯ç›¸å…³ï¼Œå¯¹ç»„ç»‡æˆ–ä¸ªäººæœ‰æ„ä¹‰ï¼Œå¹¶ä¸å…¶å®ƒç›®æ ‡ç›¸åè°ƒã€‚ç¡®ä¿ç›®æ ‡ä¸æˆ˜ç•¥ä¸€è‡´ï¼Œä»¥ä¿æŒæ•´ä½“çš„ä¸€è‡´æ€§ã€‚</li><li>T - æœ‰æ—¶é™ï¼ˆTime-boundï¼‰ï¼šç›®æ ‡åº”è¯¥è®¾å®šæ˜ç¡®çš„æ—¶é—´é™åˆ¶ï¼Œå³æˆªæ­¢æ—¥æœŸã€‚è¿™æœ‰åŠ©äºå»ºç«‹ç´§è¿«æ„Ÿï¼Œå¹¶ä¸ºç›®æ ‡å®ç°æä¾›æ—¶é—´æ¡†æ¶ã€‚</li></ol><p>SMARTæ–¹æ³•å¯åº”ç”¨äºå„ç§é¢†åŸŸï¼ŒåŒ…æ‹¬ä¸ªäººç›®æ ‡è®¾å®šã€é¡¹ç›®ç®¡ç†ã€ä¸šåŠ¡è®¡åˆ’å’Œå›¢é˜Ÿç›®æ ‡è®¾å®šç­‰ã€‚å®ƒåœ¨ä»¥ä¸‹æ–¹é¢æœ‰æ˜¾è‘—çš„ä¼˜åŠ¿ï¼š</p><ol><li>æ¸…æ™°æ€§ï¼šSMARTç›®æ ‡æ˜ç¡®å…·ä½“ï¼Œé¿å…äº†æ¨¡ç³Šçš„è¡¨è¿°ï¼Œä½¿äººä»¬å¯¹ç›®æ ‡çš„è¦æ±‚å’Œæ–¹å‘æœ‰æ˜ç¡®çš„äº†è§£ã€‚</li><li>å¯æµ‹é‡æ€§ï¼šé€šè¿‡è®¾å®šå¯è¡¡é‡çš„æŒ‡æ ‡ï¼Œå¯ä»¥è¿½è¸ªç›®æ ‡çš„è¿›å±•å’Œè¾¾æˆæƒ…å†µã€‚è¿™æœ‰åŠ©äºåŠæ—¶è°ƒæ•´ç­–ç•¥ï¼Œç¡®ä¿ç›®æ ‡çš„å®ç°ã€‚</li><li>å®ç°å¯è¡Œæ€§ï¼šé€šè¿‡è¦æ±‚ç›®æ ‡å¯å®ç°ï¼ŒSMARTæ–¹æ³•å¸®åŠ©é¿å…è®¾å®šè¿‡äºç†æƒ³åŒ–æˆ–ä¸åˆ‡å®é™…çš„ç›®æ ‡ï¼Œä»è€Œå¢åŠ å®ç°çš„å¯èƒ½æ€§ã€‚</li><li>ä¸æˆ˜ç•¥ä¸€è‡´æ€§ï¼šSMARTæ–¹æ³•è¦æ±‚ç›®æ ‡ä¸ç°å®ç›¸å…³ï¼Œä¸ç»„ç»‡æˆ–ä¸ªäººçš„æ•´ä½“æˆ˜ç•¥å’Œç›®æ ‡ä¸€è‡´ï¼Œæœ‰åŠ©äºç¡®ä¿ç›®æ ‡å¯¹æ•´ä½“å‘å±•æœ‰ç§¯æçš„æ¨åŠ¨ä½œç”¨ã€‚</li><li>æ—¶é—´æ¡†æ¶ï¼šé€šè¿‡è®¾å®šæˆªæ­¢æ—¥æœŸï¼ŒSMARTç›®æ ‡å»ºç«‹äº†ç´§è¿«æ„Ÿï¼Œä¿ƒä½¿äººä»¬ä¸“æ³¨äºç›®æ ‡çš„å®ç°ï¼Œé¿å…æ‹–å»¶è¡Œä¸ºã€‚</li></ol><p>ç»¼ä¸Šæ‰€è¿°ï¼Œç›®æ ‡SMARTæ–¹æ³•æ˜¯ä¸€ä¸ªç®€å•è€Œæœ‰æ•ˆçš„ç›®æ ‡è®¾å®šå·¥å…·ï¼Œå¯ä»¥å¸®åŠ©ç»„ç»‡å’Œä¸ªäººåˆ¶å®šå…·ä½“ã€å¯è¡Œã€æœ‰æ–¹å‘æ€§çš„ç›®æ ‡ï¼Œå¹¶æé«˜ç›®æ ‡å®ç°çš„æˆåŠŸç‡ã€‚</p><h2 id="å…­-è¿°èŒåé¦ˆ"><a class="markdownIt-Anchor" href="#å…­-è¿°èŒåé¦ˆ"></a> å…­ã€è¿°èŒåé¦ˆ</h2><p>è¿™é‡Œçœå»è¿°èŒæŠ¥å‘Šæ—¶é—´ã€‚</p><h3 id="ä¸€æé—®äº’åŠ¨ç¯èŠ‚"><a class="markdownIt-Anchor" href="#ä¸€æé—®äº’åŠ¨ç¯èŠ‚"></a> ï¼ˆä¸€ï¼‰æé—®äº’åŠ¨ç¯èŠ‚</h3><p><strong>å¸¸è§é—®é¢˜</strong></p><p><img src="e6a6f39674c648a4de75e4fec9e0defd.png" alt="" /></p><p><strong>å¦‚ä½•åº”å¯¹æé—®</strong></p><p><img src="b1b775ecadd3dcf4c90516e24fb400cf.png" alt="" /></p><h3 id="äºŒåé¦ˆç¯èŠ‚"><a class="markdownIt-Anchor" href="#äºŒåé¦ˆç¯èŠ‚"></a> ï¼ˆäºŒï¼‰åé¦ˆç¯èŠ‚</h3><p>è¿™ä¸ªç¯èŠ‚ä¸»è¦æ˜¯ç»™è¿°èŒäººè¿›è¡Œåé¦ˆï¼ŒåŒ…æ‹¬æ¿€åŠ±æ€§åé¦ˆå’Œå»ºè®¾æ€§åé¦ˆã€‚æœ€ä¸»è¦çš„æ˜¯ä¸¤ä¸ªåœºæ™¯ï¼šå¦‚ä½•æ¥æ”¶åˆ«äººçš„åé¦ˆï¼Œä»¥åŠå¦‚ä½•ç»™åˆ«äººåšåé¦ˆã€‚</p><h4 id="1å¦‚ä½•æ¥æ”¶åé¦ˆ"><a class="markdownIt-Anchor" href="#1å¦‚ä½•æ¥æ”¶åé¦ˆ"></a> 1.å¦‚ä½•æ¥æ”¶åé¦ˆ</h4><p><strong>å¸¸è§é—®é¢˜</strong></p><p><img src="779ca2869df77d576e116cb3a21274c2.png" alt="" /></p><p><strong>å¦‚ä½•è§£å†³</strong></p><p><img src="2d033d5e7172513254208c53ef661e17.png" alt="" /></p><h4 id="2å¦‚ä½•ç»™ä»–äººåé¦ˆ"><a class="markdownIt-Anchor" href="#2å¦‚ä½•ç»™ä»–äººåé¦ˆ"></a> 2.å¦‚ä½•ç»™ä»–äººåé¦ˆ</h4><p><strong>å¸¸è§é—®é¢˜</strong></p><p><img src="9de0275f5fce1b56c8a6d9c51b5260db.png" alt="" /></p><p><strong>å¦‚ä½•è§£å†³</strong></p><p><img src="0973a772a9fabbd474edc6cfeee14745.png" alt="" /></p><h3 id="ä¸‰è¿°èŒæ—¶æ€æ ·åé¦ˆæ‰æœ‰æ•ˆ"><a class="markdownIt-Anchor" href="#ä¸‰è¿°èŒæ—¶æ€æ ·åé¦ˆæ‰æœ‰æ•ˆ"></a> ï¼ˆä¸‰ï¼‰è¿°èŒæ—¶ï¼Œæ€æ ·åé¦ˆæ‰æœ‰æ•ˆï¼Ÿ</h3><p>åé¦ˆæ˜¯ä¸€ä»½<strong>å¤‡å—æœŸå¾…çš„ç¤¼ç‰©</strong>ï¼Œè¢«åé¦ˆäººæ˜¯æŠ±ç€è‡ªæˆ‘æˆé•¿çš„å¿ƒæ€æ¥æ¥å—ç¤¼ç‰©ï¼Œä»–æœŸå¾…ä½ çš„åé¦ˆèƒ½å¸®åŠ©ä»–æ˜æ™°ä¼˜åŠ¿ã€äº†è§£ç›²åŒºï¼Œåœ¨æœªæ¥æŒç»­å‘æ‰¬æˆ–æ”¹è¿›æå‡ï¼ŒåŒæ—¶å…¬å¸ä¹ŸæœŸå¾…è¿°èŒèƒ½å¤Ÿå¸®åŠ©ä¸ªäººå’Œå›¢é˜Ÿæˆé•¿ã€‚å› æ­¤å¸Œæœ›æ¯ä¸€ä½åŒå­¦åœ¨åé¦ˆç¯èŠ‚éƒ½èƒ½å¤Ÿâ€œ<strong>æ•¢äºè¯´çœŸè¯ï¼Œä¸æ€•å¾—ç½ªäºº</strong>â€ï¼Œä¸ºå…±åŒæˆé•¿ä¸€èµ·åŠªåŠ›ã€‚</p><p><img src="ded1b65915fb4cd28f6ec3963cf50606.png" alt="" /></p><p>åé¦ˆä¸åœ¨å¤šï¼Œè€Œåœ¨æœ‰ç”¨ã€‚å¥½çš„åé¦ˆåº”è¯¥æ˜¯æœ‰é’ˆå¯¹æ€§ã€èšç„¦çš„ï¼Œä¹Ÿåº”è¯¥æ˜¯å…¨é¢çš„ã€ç€çœ¼æœªæ¥çš„ã€‚å¤§å®¶åªè¦æŒ‰ç…§ä¸‹é¢çš„ã€è¿°èŒåé¦ˆé‡‘å­—å¡”ã€‘ï¼Œè‡ªä¸‹è€Œä¸Šå®Œæˆâ€œ<strong>äº†è§£äº‹å®-æ¢ç´¢æ€è€ƒé€»è¾‘-å½¢æˆåé¦ˆ</strong>â€ä¸‰æ­¥ï¼Œå°±èƒ½ç»™å‡ºæœ‰æ•ˆåé¦ˆã€‚</p><p><strong>STEP1</strong>ï¼šé¦–å…ˆï¼Œåœ¨ç»™ä»–äººåé¦ˆå‰ï¼Œä½ éœ€è¦æ€è€ƒè‡ªå·±æ˜¯å¦è¶³å¤Ÿäº†è§£äº‹å®ã€‚å¦‚æœå‘ç°è¿°èŒææ–™æœ‰ä¸å¤ªæ¸…æ¥šçš„åœ°æ–¹ï¼Œå¯ä»¥å¯¹ç…§STARåŸåˆ™ï¼Œè¯·å¯¹æ–¹è¡¥å……æ²¡æœ‰è¯´åˆ°çš„åœ°æ–¹ã€‚</p><blockquote><p>æ¯”å¦‚ï¼šæ–‡æ¡£ä¸­å†™äº†ä½ çš„åšæ³•å’Œå–å¾—çš„ç»“æœï¼Œèƒ½è¯´è¯´å½“æ—¶ä½ æ˜¯åœ¨ä»€ä¹ˆæƒ…å†µä¸‹æ¥äº†è¿™é¡¹ä»»åŠ¡ï¼Ÿä»»åŠ¡çš„åˆè¡·æ˜¯ä»€ä¹ˆå—ï¼Ÿ</p><p>åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œä½ çš„åä½œæ–¹æœ‰å“ªäº›ï¼Ÿæ ¸å¿ƒå®¢æˆ·åˆæ˜¯è°ï¼Ÿ</p></blockquote><p><strong>STEP2</strong>ï¼šäº†è§£äº‹å®åï¼Œè¿˜éœ€è¦é€šè¿‡ä¸€äº›æ¢ç´¢ç±»é—®é¢˜ï¼Œè¿›ä¸€æ­¥æ˜ç¡®å’Œæ¢ç´¢å¯¹æ–¹è¡Œä¸ºèƒŒåçš„æ€è€ƒå’Œåˆ†æé€»è¾‘ã€‚æ˜ç™½äº†å¯¹æ–¹çš„æ€è€ƒé€»è¾‘ï¼Œä¹Ÿå°±æ˜ç™½äº†ä¸ºä»€ä¹ˆç»“æœæ˜¯ç†æƒ³çš„ï¼Œæˆ–ä¸ç†æƒ³çš„ï¼Œè¿›è€Œå½¢æˆäº†ä½ å¯¹å‘˜å·¥çš„åˆ¤æ–­ã€‚</p><blockquote><p>æ¯”å¦‚ï¼šå½“æ—¶é€‰æ‹©è¿™æ ·åšï¼Œè€Œä¸æ˜¯é‡‡å–å¦ä¸€ä¸ªæ–¹æ¡ˆï¼Œä½ æ˜¯æ€ä¹ˆè€ƒè™‘çš„å‘¢ï¼Ÿ</p><p>ç›®æ ‡ä¸ºä»€ä¹ˆå®šåœ¨10ä¸‡ï¼Ÿå½“æ—¶æ˜¯æ€ä¹ˆä¼°è®¡çš„ï¼Ÿç›®å‰æ¥çœ‹ä½ è§‰å¾—åˆç†å—ï¼Ÿ</p></blockquote><p><strong>STEP3</strong>ï¼šæ¥ä¸‹æ¥éœ€è¦å°†ä½ çš„åˆ¤æ–­æ•´ç†æˆæ¿€åŠ±æ€§å’Œå»ºè®¾æ€§åé¦ˆç»™å‡ºï¼Œéœ€è¦æ³¨æ„ä¸‰ç‚¹ï¼š</p><p>â‘ <strong>ä¸¤ç±»åé¦ˆéƒ½è¦æœ‰</strong>ã€‚åªç»™å»ºè®¾æ€§åé¦ˆä¼šè®©å¯¹æ–¹æ„Ÿåˆ°è¢«æ‰¹è¯„ã€éš¾æ¥å—ï¼›åªç»™æ¿€åŠ±æ€§åé¦ˆï¼Œåˆ™å¾ˆéš¾è®©å¯¹æ–¹è§‰å¯Ÿå’Œæ”¹è¿›ã€‚</p><p>â‘¡<strong>åé¦ˆè¦æœ‰é’ˆå¯¹æ€§</strong>ã€‚ä¸è¦åé¦ˆæ— å…³ç—›ç—’çš„å†…å®¹ï¼Œè€Œè¦ç»“åˆå¯¹æ–¹çš„èŒè´£éœ€è¦ï¼Œåœ¨æ¿€åŠ±å’Œå»ºè®¾æ€§ä¸Šåˆ†åˆ«èšç„¦2-3ä¸ªè¦ç‚¹ã€‚</p><p>â‘¢<strong>åé¦ˆè¦ç€çœ¼æœªæ¥</strong>ã€‚åªå‘Šè¯‰å¯¹æ–¹å“ªäº›å¥½å’Œä¸å¥½ï¼Œå¸®åŠ©å¾ˆæœ‰é™ï¼Œæ˜¯ä¼˜åŠ¿åˆ™è¦æå‡ºèƒ½è®©å…¶å‘æŒ¥æ›´å¤§ä½œç”¨çš„æ–¹æ³•ï¼›æ˜¯ä¸è¶³åˆ™è¦æå‡ºæ”¹å–„æˆ–è¡¥æ•‘çš„å…·ä½“æªæ–½ã€‚</p><blockquote><p>æ¯”å¦‚ï¼šæˆ‘æœ‰2æ¡æ¿€åŠ±æ€§åé¦ˆå’Œ3æ¡å»ºè®¾æ€§åé¦ˆç»™åˆ°ä½ ã€‚</p><p>æ¿€åŠ±æ€§åé¦ˆç¬¬ä¸€æ¡æ˜¯â€œä¸¥è°¨â€ï¼Œä½ åœ¨å†³ç­–å‰ï¼Œåšäº†å¸‚åœºè°ƒç ”ã€ç ”ç©¶äº†å¯¹æ ‡å…¬å¸çš„åšæ³•ã€å¹¶ä¸”æŠŠå¤šç§æ–¹æ¡ˆè¿›è¡Œäº†å¯¹æ¯”ï¼Œæœ€åè§„é¿äº†ä¸å¤ªåˆé€‚çš„æ–¹æ¡ˆï¼Œéå¸¸çš„ä¸¥è°¨ï¼Œå°¤å…¶é€‚ç”¨äºä½ çš„å²—ä½ï¼Œæœªæ¥å¯ä»¥æŠŠè¿™ç§æ–¹å¼æ–¹æ³•ä¹Ÿäº¤ç»™ä½ çš„ä¸‹å±ï¼Œå‘æŒ¥å‡ºæ›´å¤§ä½œç”¨ã€‚ç¬¬äºŒæ¡æ˜¯â€¦â€¦ã€‚</p><p>å»ºè®¾æ€§åé¦ˆç¬¬ä¸€æ¡æ˜¯â€œåŠ å¼ºå¤ç›˜â€ï¼Œä½ æè¿°çš„ä¸¤ä¸ªé¡¹ç›®æ˜¯æœ‰ç›¸ä¼¼ä¹‹å¤„çš„ï¼Œä½†æ˜¯åœ¨ç»“æœæ¥çœ‹éƒ½å­˜åœ¨XXæŒ‡æ ‡ç›¸æ¯”äºå…¶ä»–æŒ‡æ ‡è½åè¾ƒå¤šçš„æƒ…å†µï¼Œåœ¨ç¬¬äºŒä¸ªé¡¹ç›®ä¸­å…¶å®æ˜¯æœ‰æœºä¼šåšä¸€äº›ç­–ç•¥çš„è°ƒæ•´å’Œä¼˜åŒ–ï¼Œå»ºè®®æœªæ¥æ›´é‡è§†é¡¹ç›®å¤ç›˜ï¼Œå…¬å¸æœ‰ä¸€é—¨è¯¾ç¨‹å«ã€Šæœ‰æ•ˆçš„æ•°æ®å¤ç›˜ã€‹ï¼Œå¯ä»¥å­¦ä¹ ä¸€ä¸‹ã€‚ç¬¬äºŒæ¡æ˜¯â€¦â€¦ã€‚ç¬¬ä¸‰æ¡æ˜¯â€¦â€¦ã€‚</p></blockquote><h2 id="ä¸ƒ-æ€»ç»“"><a class="markdownIt-Anchor" href="#ä¸ƒ-æ€»ç»“"></a> ä¸ƒã€æ€»ç»“</h2><p>æœ¬æ–‡æ¢³ç†äº†PDCAå¾ªç¯ã€RACIæ¨¡å‹ã€RCAæ³•åˆ™ã€SWOTåˆ†æä»¥åŠSMARTç›®æ ‡è®¾å®šç­‰å…³é”®ç®¡ç†æ–¹æ³•ï¼Œä¸ºé«˜æ•ˆå·¥ä½œå’Œç›®æ ‡è¾¾æˆæä¾›äº†ç³»ç»ŸåŒ–æ€è·¯ã€‚è¿™äº›æ–¹æ³•å„å…·ç‰¹ç‚¹ï¼šPDCAå¾ªç¯é€šè¿‡æŒç»­æ”¹è¿›å¸®åŠ©æˆ‘ä»¬ä¸æ–­ä¼˜åŒ–æµç¨‹ï¼ŒRACIæ¨¡å‹å¼ºè°ƒè´£ä»»æ˜ç¡®ï¼Œç¡®ä¿å›¢é˜Ÿé«˜æ•ˆåä½œï¼ŒRCAæ³•åˆ™æ·±å…¥æŒ–æ˜é—®é¢˜æ ¹æºä»¥é˜²æ­¢é‡å¤é”™è¯¯ï¼ŒSWOTåˆ†æä¸ºæˆ˜ç•¥è§„åˆ’æä¾›äº†å…¨é¢è§†è§’ï¼Œè€ŒSMARTç›®æ ‡è®¾å®šåˆ™ç¡®ä¿æˆ‘ä»¬è®¾ç«‹çš„ç›®æ ‡æ¸…æ™°ã€å¯æ‰§è¡Œä¸”ç¬¦åˆå®é™…éœ€æ±‚ã€‚</p><p>é€šè¿‡è¿™äº›å·¥å…·çš„åº”ç”¨ï¼Œæˆ‘ä»¬èƒ½å¤Ÿåœ¨é¢å¯¹å¤æ‚çš„å·¥ä½œæŒ‘æˆ˜æ—¶æ›´å…·æ¡ç†æ€§å’Œç›®æ ‡æ„Ÿã€‚æ¯ä¸€ä¸ªæ–¹æ³•éƒ½ä¸æ˜¯å­¤ç«‹çš„ï¼Œç»“åˆåº”ç”¨æ›´èƒ½äº§ç”ŸååŒæ•ˆåº”ã€‚ä¾‹å¦‚ï¼Œé€šè¿‡PDCAå¾ªç¯çš„æŒç»­ä¼˜åŒ–ï¼Œé…åˆSMARTç›®æ ‡çš„è®¾å®šï¼Œå¯ä»¥åœ¨å®ç°ä¸ªäººå’Œå›¢é˜Ÿç›®æ ‡çš„è¿‡ç¨‹ä¸­é€æ­¥ç§¯ç´¯æˆåŠŸç»éªŒã€‚æ­¤å¤–ï¼ŒSWOTåˆ†æå’ŒRCAæ³•åˆ™ä¹Ÿä¸ºæˆ‘ä»¬åœ¨åˆ¶å®šè®¡åˆ’å‰å’Œè§£å†³é—®é¢˜æ—¶æä¾›äº†ç‹¬ç‰¹çš„æ€è€ƒè§’åº¦ã€‚å¸Œæœ›å¤§å®¶èƒ½å¤Ÿåœ¨å®é™…å·¥ä½œä¸­çµæ´»è¿ç”¨è¿™äº›æ–¹æ³•ï¼Œåœ¨åå¤å®è·µå’Œä¸æ–­åé¦ˆä¸­æé«˜å·¥ä½œæ•ˆç‡å’Œç®¡ç†æ°´å¹³ï¼Œè¿ˆå‘æ›´æˆç†Ÿçš„èŒä¸šé˜¶æ®µã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶å·¥ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOS ç³»ç»Ÿã€æ•°æ®åº“ã€ç½‘ç»œé¢è¯•çŸ¥è¯†ç‚¹æ€»ç»“</title>
      <link href="/2025/06/24/Other/CentOS%20%E7%B3%BB%E7%BB%9F%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E3%80%81%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93-CSDN%E5%8D%9A%E5%AE%A2/"/>
      <url>/2025/06/24/Other/CentOS%20%E7%B3%BB%E7%BB%9F%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E3%80%81%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93-CSDN%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<h2 id="linux-centos-é¢è¯•çŸ¥è¯†ç‚¹æ•´ç†"><a class="markdownIt-Anchor" href="#linux-centos-é¢è¯•çŸ¥è¯†ç‚¹æ•´ç†"></a> Linux CentOS é¢è¯•çŸ¥è¯†ç‚¹æ•´ç†</h2><h3 id="ä¸€-linux-åŸºç¡€å‘½ä»¤"><a class="markdownIt-Anchor" href="#ä¸€-linux-åŸºç¡€å‘½ä»¤"></a> ä¸€ã€Linux åŸºç¡€å‘½ä»¤</h3><h4 id="ä¸€æ–‡ä»¶å’Œç›®å½•æ“ä½œ"><a class="markdownIt-Anchor" href="#ä¸€æ–‡ä»¶å’Œç›®å½•æ“ä½œ"></a> ï¼ˆä¸€ï¼‰æ–‡ä»¶å’Œç›®å½•æ“ä½œ</h4><table><thead><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½</th><th>å¸¸ç”¨é€‰é¡¹</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>ls</code></td><td>åˆ—å‡ºç›®å½•å†…å®¹</td><td><code>-l</code>ï¼ˆé•¿æ ¼å¼ï¼‰ã€<code>-a</code>ï¼ˆæ˜¾ç¤ºéšè—æ–‡ä»¶ï¼‰ã€<code>-h</code>ï¼ˆæ˜“è¯»æ ¼å¼ï¼‰</td><td><code>ls -lh</code></td></tr><tr><td><code>cd</code></td><td>åˆ‡æ¢ç›®å½•</td><td>æ— </td><td><code>cd /etc</code></td></tr><tr><td><code>pwd</code></td><td>æ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•</td><td>æ— </td><td><code>pwd</code></td></tr><tr><td><code>mkdir</code></td><td>åˆ›å»ºç›®å½•</td><td><code>-p</code>ï¼ˆé€’å½’åˆ›å»ºï¼‰</td><td><code>mkdir -p dir1/dir2/dir3</code></td></tr><tr><td><code>rm</code></td><td>åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•</td><td><code>-r</code>ï¼ˆé€’å½’åˆ é™¤ï¼‰ã€<code>-f</code>ï¼ˆå¼ºåˆ¶åˆ é™¤ï¼‰</td><td><code>rm -rf file.txt</code></td></tr><tr><td><code>cp</code></td><td>å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•</td><td><code>-r</code>ï¼ˆé€’å½’å¤åˆ¶ï¼‰</td><td><code>cp -r file1 file2</code></td></tr><tr><td><code>mv</code></td><td>ç§»åŠ¨æˆ–é‡å‘½åæ–‡ä»¶æˆ–ç›®å½•</td><td>æ— </td><td><code>mv file1 /dir</code></td></tr></tbody></table><p><strong>é¢è¯•çŸ¥è¯†ç‚¹è¡¥å……</strong>ï¼š</p><ul><li><strong>æ‰¹é‡åˆ é™¤ç‰¹å®šæ–‡ä»¶ç±»å‹</strong>ï¼šåœ¨å®é™…å·¥ä½œä¸­ï¼Œå¯èƒ½éœ€è¦æ‰¹é‡åˆ é™¤æŸä¸ªç›®å½•ä¸‹çš„ç‰¹å®šæ–‡ä»¶ç±»å‹ã€‚ä¾‹å¦‚ï¼Œåˆ é™¤æ‰€æœ‰<code>.log</code>æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨<code>rm -f *.log</code>ã€‚é¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•åˆ é™¤å¤šä¸ªç›®å½•ä¸‹çš„ç‰¹å®šæ–‡ä»¶ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨<code>find</code>å‘½ä»¤ç»“åˆ<code>rm</code>å‘½ä»¤ï¼Œä¾‹å¦‚<code>find /path/to/directory -type f -name &quot;*.log&quot; -exec rm -f &#123;&#125; \;</code>ã€‚</li><li><strong><code>rm -rf</code>çš„è°¨æ…ä½¿ç”¨</strong>ï¼š<code>rm -rf</code>å‘½ä»¤éå¸¸å¼ºå¤§ï¼Œä½†ä¹Ÿéå¸¸å±é™©ï¼Œå› ä¸ºå®ƒä¼šå¼ºåˆ¶åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•ï¼Œä¸”ä¸ä¼šæç¤ºç¡®è®¤ã€‚é¢è¯•å®˜å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•é¿å…è¯¯åˆ é™¤é‡è¦æ–‡ä»¶ã€‚ä¸€ä¸ªå¸¸è§çš„åšæ³•æ˜¯ä½¿ç”¨<code>rm -i</code>ï¼ˆäº¤äº’æ¨¡å¼ï¼‰è¿›è¡Œåˆ é™¤ï¼Œæˆ–è€…åœ¨è„šæœ¬ä¸­æ·»åŠ é¢å¤–çš„æ£€æŸ¥é€»è¾‘ã€‚</li><li><strong><code>cp</code>å’Œ<code>mv</code>çš„åŒºåˆ«</strong>ï¼š<code>cp</code>ç”¨äºå¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•ï¼Œè€Œ<code>mv</code>ç”¨äºç§»åŠ¨æˆ–é‡å‘½åæ–‡ä»¶æˆ–ç›®å½•ã€‚é¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å®ƒä»¬çš„åŒºåˆ«ä»¥åŠä½¿ç”¨åœºæ™¯ã€‚<code>cp</code>é€‚ç”¨äºéœ€è¦ä¿ç•™åŸå§‹æ–‡ä»¶çš„æƒ…å†µï¼Œè€Œ<code>mv</code>é€‚ç”¨äºéœ€è¦ç§»åŠ¨æ–‡ä»¶æˆ–é‡å‘½åæ–‡ä»¶çš„æƒ…å†µã€‚</li></ul><h4 id="äºŒæ–‡ä»¶æŸ¥çœ‹å’Œç¼–è¾‘"><a class="markdownIt-Anchor" href="#äºŒæ–‡ä»¶æŸ¥çœ‹å’Œç¼–è¾‘"></a> ï¼ˆäºŒï¼‰æ–‡ä»¶æŸ¥çœ‹å’Œç¼–è¾‘</h4><table><thead><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>cat</code></td><td>æŸ¥çœ‹æ–‡ä»¶å†…å®¹</td><td><code>cat file.txt</code></td></tr><tr><td><code>more</code> å’Œ <code>less</code></td><td>åˆ†é¡µæŸ¥çœ‹æ–‡ä»¶å†…å®¹</td><td><code>less file.txt</code></td></tr><tr><td><code>head</code> å’Œ <code>tail</code></td><td>æŸ¥çœ‹æ–‡ä»¶å¤´éƒ¨å’Œå°¾éƒ¨å†…å®¹</td><td><code>head -n 5 file.txt</code>ã€<code>tail -f file.log</code></td></tr><tr><td><code>vi</code> æˆ– <code>vim</code></td><td>æ–‡æœ¬ç¼–è¾‘å™¨</td><td>å‘½ä»¤æ¨¡å¼ï¼ˆ<code>i</code>è¿›å…¥æ’å…¥æ¨¡å¼ï¼Œ<code>Esc</code>é€€å‡ºï¼Œ<code>:wq</code>ä¿å­˜é€€å‡ºï¼‰</td></tr></tbody></table><p><strong>é¢è¯•çŸ¥è¯†ç‚¹è¡¥å……</strong>ï¼š</p><ul><li><strong><code>vim</code>ç¼–è¾‘å™¨çš„é«˜çº§ç”¨æ³•</strong>ï¼šåœ¨é¢è¯•ä¸­ï¼Œå¯èƒ½ä¼šè¢«é—®åˆ°<code>vim</code>ç¼–è¾‘å™¨çš„ä¸€äº›é«˜çº§åŠŸèƒ½ï¼Œä¾‹å¦‚ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ‰¹é‡æ›¿æ¢æ–‡æœ¬ã€‚å¯ä»¥ä½¿ç”¨<code>:s/old/new/g</code>å‘½ä»¤æ›¿æ¢æ–‡ä»¶ä¸­çš„æ‰€æœ‰<code>old</code>ä¸º<code>new</code>ï¼Œæˆ–è€…ä½¿ç”¨<code>:g/pattern/s/old/new/g</code>å‘½ä»¤åªæ›¿æ¢åŒ¹é…<code>pattern</code>çš„è¡Œã€‚</li><li><strong>æ—¥å¿—æ–‡ä»¶çš„å®æ—¶ç›‘æ§</strong>ï¼š<code>tail -f</code>å‘½ä»¤ç”¨äºå®æ—¶æŸ¥çœ‹æ–‡ä»¶çš„æ–°å¢å†…å®¹ï¼Œå¸¸ç”¨äºç›‘æ§æ—¥å¿—æ–‡ä»¶ã€‚é¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•ç»“åˆ<code>grep</code>å‘½ä»¤è¿‡æ»¤ç‰¹å®šå†…å®¹ã€‚ä¾‹å¦‚ï¼Œ<code>tail -f file.log | grep &quot;error&quot;</code>å¯ä»¥å®æ—¶æ˜¾ç¤ºåŒ…å«<code>error</code>çš„æ—¥å¿—å†…å®¹ã€‚</li><li><strong><code>less</code>å’Œ<code>more</code>çš„åŒºåˆ«</strong>ï¼š<code>less</code>æ¯”<code>more</code>æ›´å¼ºå¤§ï¼Œæ”¯æŒä¸Šä¸‹ç¿»é¡µå’Œæœç´¢åŠŸèƒ½ã€‚é¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•åœ¨<code>less</code>ä¸­æœç´¢ç‰¹å®šå†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨<code>/pattern</code>å‘å‰æœç´¢ï¼Œä½¿ç”¨<code>?pattern</code>å‘åæœç´¢ã€‚</li></ul><h4 id="ä¸‰ç³»ç»Ÿä¿¡æ¯å’Œè¿›ç¨‹ç®¡ç†"><a class="markdownIt-Anchor" href="#ä¸‰ç³»ç»Ÿä¿¡æ¯å’Œè¿›ç¨‹ç®¡ç†"></a> ï¼ˆä¸‰ï¼‰ç³»ç»Ÿä¿¡æ¯å’Œè¿›ç¨‹ç®¡ç†</h4><table><thead><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>uname</code></td><td>æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯</td><td><code>uname -a</code></td></tr><tr><td><code>df</code></td><td>æ˜¾ç¤ºç£ç›˜ç©ºé—´ä½¿ç”¨æƒ…å†µ</td><td><code>df -h</code></td></tr><tr><td><code>du</code></td><td>æ˜¾ç¤ºç›®å½•æˆ–æ–‡ä»¶çš„ç£ç›˜ä½¿ç”¨æƒ…å†µ</td><td><code>du -sh /dir</code></td></tr><tr><td><code>ps</code></td><td>æ˜¾ç¤ºå½“å‰è¿è¡Œçš„è¿›ç¨‹</td><td><code>ps aux</code></td></tr><tr><td><code>top</code></td><td>å®æ—¶æ˜¾ç¤ºç³»ç»Ÿä¸­èµ„æºå ç”¨æœ€é«˜çš„è¿›ç¨‹</td><td><code>top</code></td></tr><tr><td><code>kill</code></td><td>ç»ˆæ­¢è¿›ç¨‹</td><td><code>kill -9 PID</code></td></tr><tr><td><code>nice</code> å’Œ <code>renice</code></td><td>è°ƒæ•´è¿›ç¨‹ä¼˜å…ˆçº§</td><td><code>nice -n 10 command</code></td></tr><tr><td><code>systemctl</code></td><td>ç®¡ç†æœåŠ¡å’Œç³»ç»ŸçŠ¶æ€</td><td><code>systemctl restart service</code></td></tr></tbody></table><p><strong>é¢è¯•çŸ¥è¯†ç‚¹è¡¥å……</strong>ï¼š</p><ul><li><strong>æŸ¥æ‰¾å ç”¨ç£ç›˜ç©ºé—´æœ€å¤§çš„ç›®å½•</strong>ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•æŸ¥æ‰¾å ç”¨ç£ç›˜ç©ºé—´æœ€å¤§çš„å‰å‡ ä¸ªç›®å½•ã€‚å¯ä»¥ä½¿ç”¨<code>du -sh /dir/* | sort -rh | head -n 5</code>å‘½ä»¤ã€‚è¿™ä¸ªå‘½ä»¤ä¼šåˆ—å‡ºæŒ‡å®šç›®å½•ä¸‹æ‰€æœ‰å­ç›®å½•çš„å¤§å°ï¼Œå¹¶æŒ‰é™åºæ’åˆ—ï¼Œæ˜¾ç¤ºå‰5ä¸ªæœ€å¤§çš„ç›®å½•ã€‚</li><li><strong>ä½¿ç”¨<code>ps</code>å’Œ<code>grep</code>æŸ¥æ‰¾ç‰¹å®šè¿›ç¨‹</strong>ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•æŸ¥æ‰¾ç‰¹å®šè¿›ç¨‹ã€‚å¯ä»¥ä½¿ç”¨<code>ps aux | grep process_name</code>å‘½ä»¤ã€‚ä¾‹å¦‚ï¼ŒæŸ¥æ‰¾åä¸º<code>httpd</code>çš„è¿›ç¨‹ï¼Œå¯ä»¥ä½¿ç”¨<code>ps aux | grep httpd</code>ã€‚</li><li><strong><code>kill</code>å‘½ä»¤çš„ä¿¡å·ç±»å‹</strong>ï¼š<code>kill</code>å‘½ä»¤å¯ä»¥å‘é€ä¸åŒçš„ä¿¡å·ç»™è¿›ç¨‹ã€‚é¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¸¸è§çš„ä¿¡å·ç±»å‹ï¼Œä¾‹å¦‚<code>SIGTERM</code>ï¼ˆé»˜è®¤ä¿¡å·ï¼Œè¯·æ±‚è¿›ç¨‹ç»ˆæ­¢ï¼‰ã€<code>SIGKILL</code>ï¼ˆå¼ºåˆ¶ç»ˆæ­¢è¿›ç¨‹ï¼Œ<code>kill -9</code>ï¼‰å’Œ<code>SIGINT</code>ï¼ˆä¸­æ–­ä¿¡å·ï¼Œé€šå¸¸ç”±<code>Ctrl+C</code>äº§ç”Ÿï¼‰ã€‚</li></ul><h4 id="å››ç½‘ç»œç›¸å…³å‘½ä»¤"><a class="markdownIt-Anchor" href="#å››ç½‘ç»œç›¸å…³å‘½ä»¤"></a> ï¼ˆå››ï¼‰ç½‘ç»œç›¸å…³å‘½ä»¤</h4><table><thead><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>ifconfig</code> æˆ– <code>ip</code></td><td>æŸ¥çœ‹å’Œé…ç½®ç½‘ç»œæ¥å£</td><td><code>ip a</code></td></tr><tr><td><code>ping</code></td><td>æµ‹è¯•ç½‘ç»œè¿é€šæ€§</td><td><code>ping -c 4 8.8.8.8</code></td></tr><tr><td><code>netstat</code> æˆ– <code>ss</code></td><td>æŸ¥çœ‹ç½‘ç»œè¿æ¥å’Œç›‘å¬ç«¯å£</td><td><code>ss -tuln</code></td></tr><tr><td><code>curl</code> æˆ– <code>wget</code></td><td>ä¸‹è½½æ–‡ä»¶æˆ–æµ‹è¯•HTTPè¯·æ±‚</td><td><code>curl -O http://example.com/file.zip</code></td></tr></tbody></table><p><strong>é¢è¯•çŸ¥è¯†ç‚¹è¡¥å……</strong>ï¼š</p><ul><li><strong>æŸ¥çœ‹æ‰€æœ‰ç›‘å¬ç«¯å£</strong>ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•æŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„æ‰€æœ‰ç›‘å¬ç«¯å£ã€‚å¯ä»¥ä½¿ç”¨<code>ss -tuln</code>å‘½ä»¤ã€‚è¿™ä¸ªå‘½ä»¤ä¼šåˆ—å‡ºæ‰€æœ‰TCPã€UDPå’Œç›‘å¬çŠ¶æ€çš„ç«¯å£ã€‚</li><li><strong>ä½¿ç”¨<code>ping</code>å’Œ<code>traceroute</code>å®šä½ç½‘ç»œæ•…éšœç‚¹</strong>ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•æ’æŸ¥ç½‘ç»œé—®é¢˜ã€‚å¯ä»¥ä½¿ç”¨<code>ping</code>å‘½ä»¤æµ‹è¯•ç½‘ç»œè¿é€šæ€§ï¼Œä½¿ç”¨<code>traceroute</code>å‘½ä»¤æŸ¥çœ‹æ•°æ®åŒ…çš„ä¼ è¾“è·¯å¾„ã€‚ä¾‹å¦‚ï¼Œ<code>traceroute 8.8.8.8</code>å¯ä»¥æ˜¾ç¤ºåˆ°è¾¾ç›®æ ‡IPçš„è·¯å¾„ã€‚</li><li><strong><code>curl</code>å‘½ä»¤çš„é«˜çº§ç”¨æ³•</strong>ï¼š<code>curl</code>å‘½ä»¤ä¸ä»…å¯ä»¥ä¸‹è½½æ–‡ä»¶ï¼Œè¿˜å¯ä»¥ç”¨äºæµ‹è¯•HTTPè¯·æ±‚ã€‚é¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•ä½¿ç”¨<code>curl</code>å‘é€POSTè¯·æ±‚ã€‚ä¾‹å¦‚ï¼Œ<code>curl -X POST -d &quot;key=value&quot; http://example.com/api</code>å¯ä»¥å‘é€ä¸€ä¸ªPOSTè¯·æ±‚ã€‚</li></ul><h4 id="äº”ç”¨æˆ·å’Œæƒé™ç®¡ç†"><a class="markdownIt-Anchor" href="#äº”ç”¨æˆ·å’Œæƒé™ç®¡ç†"></a> ï¼ˆäº”ï¼‰ç”¨æˆ·å’Œæƒé™ç®¡ç†</h4><table><thead><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>whoami</code></td><td>æ˜¾ç¤ºå½“å‰ç™»å½•ç”¨æˆ·</td><td><code>whoami</code></td></tr><tr><td><code>who</code></td><td>æ˜¾ç¤ºå½“å‰ç™»å½•çš„ç”¨æˆ·ä¿¡æ¯</td><td><code>who</code></td></tr><tr><td><code>su</code></td><td>åˆ‡æ¢ç”¨æˆ·</td><td><code>su -</code></td></tr><tr><td><code>useradd</code></td><td>åˆ›å»ºç”¨æˆ·</td><td><code>useradd username</code></td></tr><tr><td><code>passwd</code></td><td>è®¾ç½®ç”¨æˆ·å¯†ç </td><td><code>passwd username</code></td></tr><tr><td><code>chmod</code></td><td>ä¿®æ”¹æ–‡ä»¶æˆ–ç›®å½•çš„æƒé™</td><td><code>chmod 755 file.txt</code></td></tr><tr><td><code>chown</code></td><td>ä¿®æ”¹æ–‡ä»¶æˆ–ç›®å½•çš„æ‰€æœ‰è€…</td><td><code>chown user:group file.txt</code></td></tr></tbody></table><p><strong>é¢è¯•çŸ¥è¯†ç‚¹è¡¥å……</strong>ï¼š</p><ul><li><strong>æ‰¹é‡åˆ›å»ºç”¨æˆ·</strong>ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•æ‰¹é‡åˆ›å»ºç”¨æˆ·ã€‚å¯ä»¥ä½¿ç”¨<code>useradd</code>å‘½ä»¤ç»“åˆå¾ªç¯è„šæœ¬å®ç°ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨<code>for i in &#123;1..10&#125;; do useradd user$i; done</code>å¯ä»¥æ‰¹é‡åˆ›å»º<code>user1</code>åˆ°<code>user10</code>ã€‚</li><li><strong>è®¾ç½®ç›®å½•çš„ç‰¹æ®Šæƒé™</strong>ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•è®¾ç½®ç›®å½•çš„ç‰¹æ®Šæƒé™ï¼Œä¾‹å¦‚<code>setuid</code>ã€<code>setgid</code>å’Œ<code>sticky bit</code>ã€‚å¯ä»¥ä½¿ç”¨<code>chmod</code>å‘½ä»¤ã€‚ä¾‹å¦‚ï¼Œ<code>chmod +s file.txt</code>å¯ä»¥è®¾ç½®<code>setuid</code>æƒé™ï¼Œ<code>chmod g+s dir</code>å¯ä»¥è®¾ç½®<code>setgid</code>æƒé™ï¼Œ<code>chmod +t dir</code>å¯ä»¥è®¾ç½®<code>sticky bit</code>æƒé™ã€‚</li><li><strong>ç”¨æˆ·ç»„ç®¡ç†</strong>ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•ç®¡ç†ç”¨æˆ·ç»„ã€‚å¯ä»¥ä½¿ç”¨<code>groupadd</code>å‘½ä»¤åˆ›å»ºç”¨æˆ·ç»„ï¼Œä½¿ç”¨<code>usermod</code>å‘½ä»¤å°†ç”¨æˆ·æ·»åŠ åˆ°ç”¨æˆ·ç»„ã€‚ä¾‹å¦‚ï¼Œ<code>groupadd groupname</code>å¯ä»¥åˆ›å»ºä¸€ä¸ªç”¨æˆ·ç»„ï¼Œ<code>usermod -aG groupname username</code>å¯ä»¥å°†ç”¨æˆ·æ·»åŠ åˆ°ç”¨æˆ·ç»„ã€‚</li></ul><h4 id="å…­å…¶ä»–å¸¸ç”¨å‘½ä»¤"><a class="markdownIt-Anchor" href="#å…­å…¶ä»–å¸¸ç”¨å‘½ä»¤"></a> ï¼ˆå…­ï¼‰å…¶ä»–å¸¸ç”¨å‘½ä»¤</h4><table><thead><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>grep</code></td><td>åœ¨æ–‡ä»¶ä¸­æœç´¢æ–‡æœ¬</td><td><code>grep &quot;pattern&quot; file.txt</code></td></tr><tr><td><code>find</code></td><td>æŸ¥æ‰¾æ–‡ä»¶æˆ–ç›®å½•</td><td><code>find / -name &quot;file.txt&quot;</code></td></tr><tr><td><code>history</code></td><td>æ˜¾ç¤ºå‘½ä»¤å†å²</td><td><code>history</code></td></tr><tr><td><code>man</code></td><td>æŸ¥çœ‹å‘½ä»¤çš„æ‰‹å†Œé¡µ</td><td><code>man ls</code></td></tr></tbody></table><p><strong>é¢è¯•çŸ¥è¯†ç‚¹è¡¥å……</strong>ï¼š</p><ul><li><strong>ä½¿ç”¨<code>find</code>å‘½ä»¤æŸ¥æ‰¾ç‰¹å®šæƒé™çš„æ–‡ä»¶</strong>ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•æŸ¥æ‰¾å…·æœ‰ç‰¹å®šæƒé™çš„æ–‡ä»¶ã€‚å¯ä»¥ä½¿ç”¨<code>find</code>å‘½ä»¤ç»“åˆæƒé™é€‰é¡¹ã€‚ä¾‹å¦‚ï¼Œ<code>find / -perm 777</code>å¯ä»¥æŸ¥æ‰¾æƒé™ä¸º<code>777</code>çš„æ–‡ä»¶ã€‚</li><li><strong>æ¸…ç©ºå‘½ä»¤å†å²</strong>ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•æ¸…ç©ºå‘½ä»¤å†å²ã€‚å¯ä»¥ä½¿ç”¨<code>history -c</code>å‘½ä»¤ã€‚æ­¤å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ç¼–è¾‘<code>~/.bash_history</code>æ–‡ä»¶æ¥æ‰‹åŠ¨æ¸…ç©ºå†å²è®°å½•ã€‚</li><li><strong><code>man</code>å‘½ä»¤çš„é«˜çº§ç”¨æ³•</strong>ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•æŸ¥çœ‹ç‰¹å®šç« èŠ‚çš„æ‰‹å†Œé¡µã€‚å¯ä»¥ä½¿ç”¨<code>man</code>å‘½ä»¤çš„ç« èŠ‚é€‰é¡¹ã€‚ä¾‹å¦‚ï¼Œ<code>man 1 ls</code>å¯ä»¥æŸ¥çœ‹<code>ls</code>å‘½ä»¤çš„æ‰‹å†Œé¡µï¼Œ<code>man 5 crontab</code>å¯ä»¥æŸ¥çœ‹<code>crontab</code>æ–‡ä»¶æ ¼å¼çš„æ‰‹å†Œé¡µã€‚</li></ul><h3 id="äºŒ-æ•°æ®åº“å®‰è£…ä¸é…ç½®"><a class="markdownIt-Anchor" href="#äºŒ-æ•°æ®åº“å®‰è£…ä¸é…ç½®"></a> äºŒã€æ•°æ®åº“å®‰è£…ä¸é…ç½®</h3><h4 id="ä¸€mysql-å®‰è£…"><a class="markdownIt-Anchor" href="#ä¸€mysql-å®‰è£…"></a> ï¼ˆä¸€ï¼‰MySQL å®‰è£…</h4><ol><li><strong>ä½¿ç”¨<code>yum</code>å®‰è£…MySQL</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install -y mysql-community-server</span><br></pre></td></tr></table></figure><ol start="2"><li><strong>å¯åŠ¨MySQLæœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start mysqld</span><br><span class="line">sudo systemctl <span class="built_in">enable</span> mysqld</span><br></pre></td></tr></table></figure><ol start="3"><li><strong>æ£€æŸ¥MySQLæœåŠ¡çŠ¶æ€</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl status mysqld</span><br><span class="line">```    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">**é¢è¯•çŸ¥è¯†ç‚¹è¡¥å……**ï¼š</span><br><span class="line"></span><br><span class="line">-   **æŸ¥çœ‹MySQLæœåŠ¡æ˜¯å¦å·²ç»å®‰è£…æˆåŠŸ**ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•æŸ¥çœ‹MySQLæœåŠ¡æ˜¯å¦å·²ç»å®‰è£…æˆåŠŸã€‚å¯ä»¥ä½¿ç”¨`rpm -q mysql-community-server`å‘½ä»¤ã€‚å¦‚æœè¿”å›`mysql-community-server-ç‰ˆæœ¬å·`ï¼Œåˆ™è¡¨ç¤ºå·²å®‰è£…æˆåŠŸã€‚</span><br><span class="line">-   **æœåŠ¡ç®¡ç†**ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•æŸ¥çœ‹æœåŠ¡çš„ä¾èµ–å…³ç³»ã€‚å¯ä»¥ä½¿ç”¨`systemctl list-dependencies service`å‘½ä»¤ã€‚ä¾‹å¦‚ï¼Œ`systemctl list-dependencies mysqld`å¯ä»¥æŸ¥çœ‹MySQLæœåŠ¡çš„ä¾èµ–å…³ç³»ã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment">#### ï¼ˆäºŒï¼‰MySQL é…ç½®</span></span><br><span class="line"></span><br><span class="line">1.  **å®‰å…¨é…ç½®**</span><br><span class="line"></span><br><span class="line">```bash    </span><br><span class="line">sudo mysql_secure_installation</span><br></pre></td></tr></table></figure><ol start="2"><li><strong>ä¿®æ”¹é…ç½®æ–‡ä»¶</strong><ul><li>é…ç½®æ–‡ä»¶è·¯å¾„ï¼š<code>/etc/my.cnf</code></li><li>å¸¸è§é…ç½®é¡¹ï¼š<code>datadir</code>ã€<code>port</code>ã€<code>bind-address</code></li></ul></li><li><strong>å­—ç¬¦é›†é…ç½®</strong></li></ol><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[client]</span><br><span class="line">default-character-set = utf8mb4</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line">default-character-set = utf8mb4</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">character-set-server = utf8mb4</span><br><span class="line">collation-server = utf8mb4_unicode_ci</span><br></pre></td></tr></table></figure><p><strong>é¢è¯•çŸ¥è¯†ç‚¹è¡¥å……</strong>ï¼š</p><ul><li><strong>æŸ¥çœ‹MySQLçš„å½“å‰å­—ç¬¦é›†</strong>ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•æŸ¥çœ‹MySQLçš„å½“å‰å­—ç¬¦é›†ã€‚å¯ä»¥ä½¿ç”¨<code>SHOW VARIABLES LIKE 'character_set_server';</code>å‘½ä»¤ã€‚</li><li><strong>åŠ¨æ€ä¿®æ”¹MySQLé…ç½®</strong>ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•åŠ¨æ€ä¿®æ”¹MySQLé…ç½®è€Œæ— éœ€é‡å¯æœåŠ¡ã€‚å¯ä»¥ä½¿ç”¨<code>SET GLOBAL</code>å‘½ä»¤ã€‚ä¾‹å¦‚ï¼Œ<code>SET GLOBAL max_connections = 1000;</code>å¯ä»¥åŠ¨æ€ä¿®æ”¹æœ€å¤§è¿æ¥æ•°ã€‚</li></ul><h4 id="ä¸‰mysql-æ–‡ä»¶è·¯å¾„"><a class="markdownIt-Anchor" href="#ä¸‰mysql-æ–‡ä»¶è·¯å¾„"></a> ï¼ˆä¸‰ï¼‰MySQL æ–‡ä»¶è·¯å¾„</h4><ol><li><strong>æ•°æ®æ–‡ä»¶è·¯å¾„</strong>ï¼š<code>/var/lib/mysql</code></li><li><strong>é…ç½®æ–‡ä»¶è·¯å¾„</strong>ï¼š<code>/etc/my.cnf</code></li><li><strong>æ—¥å¿—æ–‡ä»¶è·¯å¾„</strong>ï¼š<code>/var/log/mysql/</code></li></ol><p><strong>é¢è¯•çŸ¥è¯†ç‚¹è¡¥å……</strong>ï¼š</p><ul><li><strong>æŸ¥çœ‹MySQLçš„é”™è¯¯æ—¥å¿—æ–‡ä»¶è·¯å¾„</strong>ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•æŸ¥çœ‹MySQLçš„é”™è¯¯æ—¥å¿—æ–‡ä»¶è·¯å¾„ã€‚å¯ä»¥ä½¿ç”¨<code>SHOW VARIABLES LIKE 'log_error';</code>å‘½ä»¤ã€‚</li><li><strong>æ—¥å¿—æ–‡ä»¶çš„è‡ªåŠ¨è½®è½¬</strong>ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•è®¾ç½®æ—¥å¿—æ–‡ä»¶çš„è‡ªåŠ¨è½®è½¬ã€‚å¯ä»¥ä½¿ç”¨<code>logrotate</code>å·¥å…·ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ç¼–è¾‘<code>/etc/logrotate.d/mysql</code>æ–‡ä»¶ï¼Œé…ç½®æ—¥å¿—è½®è½¬ç­–ç•¥ã€‚</li></ul><h3 id="ä¸‰-è®¡ç®—æœºç½‘ç»œ"><a class="markdownIt-Anchor" href="#ä¸‰-è®¡ç®—æœºç½‘ç»œ"></a> ä¸‰ã€è®¡ç®—æœºç½‘ç»œ</h3><hr /><h3 id="å„å±‚è¯¦ç»†çŸ¥è¯†ç‚¹æ€»ç»“"><a class="markdownIt-Anchor" href="#å„å±‚è¯¦ç»†çŸ¥è¯†ç‚¹æ€»ç»“"></a> å„å±‚è¯¦ç»†çŸ¥è¯†ç‚¹æ€»ç»“</h3><h3 id="ä¸€-é“¾è·¯å±‚link-layer"><a class="markdownIt-Anchor" href="#ä¸€-é“¾è·¯å±‚link-layer"></a> ä¸€ã€é“¾è·¯å±‚ï¼ˆLink Layerï¼‰</h3><h4 id="1-æ ¸å¿ƒæ¦‚å¿µ"><a class="markdownIt-Anchor" href="#1-æ ¸å¿ƒæ¦‚å¿µ"></a> 1. <strong>æ ¸å¿ƒæ¦‚å¿µ</strong></h4><ul><li><strong>åŠŸèƒ½</strong>ï¼š<ul><li>å°†æ•°æ®å°è£…æˆå¸§ï¼ˆFrameï¼‰ã€‚</li><li>è´Ÿè´£ç‰©ç†ä¼ è¾“ï¼ŒåŒ…æ‹¬ä¿¡å·çš„ç¼–ç å’Œè§£ç ã€‚</li><li>é”™è¯¯æ£€æµ‹å’Œçº æ­£ï¼ˆé€šè¿‡CRCæ ¡éªŒç­‰ï¼‰ã€‚</li><li>æµé‡æ§åˆ¶ï¼ˆå¦‚æ»‘åŠ¨çª—å£æœºåˆ¶ï¼‰ã€‚</li><li>æä¾›ç¡¬ä»¶åœ°å€ï¼ˆMACåœ°å€ï¼‰ã€‚</li></ul></li><li><strong>ç¡¬ä»¶åœ°å€ï¼ˆMACåœ°å€ï¼‰</strong>ï¼š<ul><li>48ä½çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œç”¨äºåœ¨å±€åŸŸç½‘å†…è¯†åˆ«è®¾å¤‡ã€‚</li><li>æ ¼å¼ï¼š<code>XX:XX:XX:XX:XX:XX</code>ã€‚</li></ul></li></ul><h4 id="2-å¸¸è§åè®®"><a class="markdownIt-Anchor" href="#2-å¸¸è§åè®®"></a> 2. <strong>å¸¸è§åè®®</strong></h4><ul><li><strong>ä»¥å¤ªç½‘ï¼ˆEthernetï¼‰</strong>ï¼š<ul><li>æœ€å¸¸ç”¨çš„é“¾è·¯å±‚åè®®ï¼Œæ”¯æŒå¤šç§ç‰©ç†ä»‹è´¨ï¼ˆå¦‚åŒç»çº¿ã€å…‰çº¤ï¼‰ã€‚</li><li>ä»¥å¤ªç½‘å¸§ç»“æ„ï¼š<ul><li><strong>å‰å¯¼ç ï¼ˆPreambleï¼‰</strong>ï¼šç”¨äºåŒæ­¥ã€‚</li><li><strong>ç›®æ ‡MACåœ°å€ï¼ˆDestination MAC Addressï¼‰</strong>ï¼š6å­—èŠ‚ã€‚</li><li><strong>æºMACåœ°å€ï¼ˆSource MAC Addressï¼‰</strong>ï¼š6å­—èŠ‚ã€‚</li><li><strong>ç±»å‹/é•¿åº¦å­—æ®µï¼ˆType/Lengthï¼‰</strong>ï¼š2å­—èŠ‚ã€‚</li><li><strong>æ•°æ®è´Ÿè½½ï¼ˆPayloadï¼‰</strong>ï¼š46-1500å­—èŠ‚ã€‚</li><li><strong>å¸§æ ¡éªŒåºåˆ—ï¼ˆFCSï¼‰</strong>ï¼š4å­—èŠ‚ã€‚</li></ul></li></ul></li><li><strong>æ— çº¿å±€åŸŸç½‘ï¼ˆWLANï¼‰</strong>ï¼š<ul><li>ä½¿ç”¨æ— çº¿ä¿¡å·è¿›è¡Œé€šä¿¡ï¼Œéµå¾ªIEEE 802.11æ ‡å‡†ã€‚</li><li>æ”¯æŒå¤šç§åŠ å¯†æ–¹å¼ï¼ˆå¦‚WEPã€WPAã€WPA2ï¼‰ã€‚</li></ul></li><li><strong>ç‚¹å¯¹ç‚¹åè®®ï¼ˆPPPï¼‰</strong>ï¼š<ul><li>ç”¨äºç‚¹å¯¹ç‚¹è¿æ¥ï¼Œå¸¸ç”¨äºæ‹¨å·ä¸Šç½‘ã€‚</li><li>æä¾›é“¾è·¯æ§åˆ¶åè®®ï¼ˆLCPï¼‰å’Œå¤šç§ç½‘ç»œæ§åˆ¶åè®®ï¼ˆNCPï¼‰ã€‚</li></ul></li></ul><h4 id="3-é¢è¯•é—®é¢˜"><a class="markdownIt-Anchor" href="#3-é¢è¯•é—®é¢˜"></a> 3. <strong>é¢è¯•é—®é¢˜</strong></h4><ul><li><strong>é—®é¢˜1</strong>ï¼šä»¥å¤ªç½‘å¸§çš„ç»“æ„æ˜¯ä»€ä¹ˆï¼Ÿ<ul><li><strong>ç­”æ¡ˆ</strong>ï¼šä»¥å¤ªç½‘å¸§åŒ…æ‹¬å‰å¯¼ç ã€ç›®æ ‡MACåœ°å€ã€æºMACåœ°å€ã€ç±»å‹/é•¿åº¦å­—æ®µã€æ•°æ®è´Ÿè½½å’Œå¸§æ ¡éªŒåºåˆ—ï¼ˆFCSï¼‰ã€‚</li></ul></li><li><strong>é—®é¢˜2</strong>ï¼šå¦‚ä½•æ£€æµ‹å’Œçº æ­£é“¾è·¯å±‚çš„é”™è¯¯ï¼Ÿ<ul><li><strong>ç­”æ¡ˆ</strong>ï¼šä½¿ç”¨å¾ªç¯å†—ä½™æ ¡éªŒï¼ˆCRCï¼‰è¿›è¡Œé”™è¯¯æ£€æµ‹ï¼Œé€šè¿‡é‡ä¼ æœºåˆ¶è¿›è¡Œé”™è¯¯çº æ­£ã€‚</li></ul></li><li><strong>é—®é¢˜3</strong>ï¼šä»€ä¹ˆæ˜¯MACåœ°å€ï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ<ul><li><strong>ç­”æ¡ˆ</strong>ï¼šMACåœ°å€æ˜¯ç½‘ç»œè®¾å¤‡çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œç”¨äºåœ¨é“¾è·¯å±‚è¯†åˆ«è®¾å¤‡ã€‚å®ƒæ˜¯ä¸€ä¸ª48ä½çš„åœ°å€ï¼Œé€šå¸¸ä»¥åå…­è¿›åˆ¶è¡¨ç¤ºã€‚</li></ul></li><li><strong>é—®é¢˜4</strong>ï¼šä»¥å¤ªç½‘ä¸­çš„æœ€å°å¸§å¤§å°æ˜¯å¤šå°‘ï¼Ÿ<ul><li><strong>ç­”æ¡ˆ</strong>ï¼šä»¥å¤ªç½‘ä¸­çš„æœ€å°å¸§å¤§å°æ˜¯64å­—èŠ‚ï¼ŒåŒ…æ‹¬8å­—èŠ‚çš„å‰å¯¼ç å’Œ4å­—èŠ‚çš„FCSã€‚</li></ul></li><li><strong>é—®é¢˜5</strong>ï¼šä»€ä¹ˆæ˜¯ç¢°æ’æ£€æµ‹ï¼ˆCSMA/CDï¼‰ï¼Ÿå®ƒåœ¨ä»¥å¤ªç½‘ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ<ul><li><strong>ç­”æ¡ˆ</strong>ï¼šCSMA/CDï¼ˆCarrier Sense Multiple Access with Collision Detectionï¼‰æ˜¯ä¸€ç§ä»‹è´¨è®¿é—®æ§åˆ¶æ–¹æ³•ï¼Œç”¨äºæ£€æµ‹å’Œé¿å…æ•°æ®å†²çªã€‚åœ¨ä»¥å¤ªç½‘ä¸­ï¼Œå½“å¤šä¸ªè®¾å¤‡å°è¯•åŒæ—¶å‘é€æ•°æ®æ—¶ï¼ŒCSMA/CDæœºåˆ¶å¯ä»¥æ£€æµ‹åˆ°å†²çªå¹¶é‡æ–°å‘é€æ•°æ®ã€‚</li></ul></li></ul><h3 id="äºŒ-ç½‘ç»œå±‚internet-layer"><a class="markdownIt-Anchor" href="#äºŒ-ç½‘ç»œå±‚internet-layer"></a> äºŒã€ç½‘ç»œå±‚ï¼ˆInternet Layerï¼‰</h3><h4 id="1-æ ¸å¿ƒæ¦‚å¿µ-2"><a class="markdownIt-Anchor" href="#1-æ ¸å¿ƒæ¦‚å¿µ-2"></a> 1. <strong>æ ¸å¿ƒæ¦‚å¿µ</strong></h4><ul><li><strong>åŠŸèƒ½</strong>ï¼š<ul><li>å¯»å€ï¼šä¸ºæ¯ä¸ªç½‘ç»œè®¾å¤‡åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„IPåœ°å€ã€‚</li><li>è·¯ç”±ï¼šæ ¹æ®IPåœ°å€å°†æ•°æ®åŒ…ä»æºä¸»æœºå‘é€åˆ°ç›®æ ‡ä¸»æœºã€‚</li><li>åˆ†ç‰‡å’Œé‡ç»„ï¼šå°†å¤§æ•°æ®åŒ…åˆ†å‰²æˆå°ç‰‡æ®µï¼Œä»¥ä¾¿åœ¨ä¸åŒç½‘ç»œä¸­ä¼ è¾“ã€‚</li><li>æä¾›é€»è¾‘åœ°å€ï¼ˆIPåœ°å€ï¼‰ã€‚</li></ul></li><li><strong>IPåœ°å€</strong>ï¼š<ul><li><strong>IPv4</strong>ï¼š32ä½åœ°å€ï¼Œæ ¼å¼ä¸º<code>A.B.C.D</code>ï¼Œåˆ†ä¸ºAã€Bã€Cã€Dã€Eäº”ç±»ã€‚</li><li><strong>IPv6</strong>ï¼š128ä½åœ°å€ï¼Œæ ¼å¼ä¸º<code>A:B:C:D:E:F:G:H</code>ï¼Œæä¾›æ›´å¤šçš„åœ°å€ç©ºé—´ã€‚</li></ul></li><li><strong>å­ç½‘æ©ç </strong>ï¼š<ul><li>ç”¨äºå°†IPåœ°å€åˆ’åˆ†ä¸ºç½‘ç»œéƒ¨åˆ†å’Œä¸»æœºéƒ¨åˆ†ã€‚</li><li>å¸¸è§çš„å­ç½‘æ©ç ï¼š<code>255.255.255.0</code>ï¼ˆ/24ï¼‰ã€‚</li></ul></li></ul><h4 id="2-å¸¸è§åè®®-2"><a class="markdownIt-Anchor" href="#2-å¸¸è§åè®®-2"></a> 2. <strong>å¸¸è§åè®®</strong></h4><ul><li><strong>IPï¼ˆInternet Protocolï¼‰</strong>ï¼š<ul><li>ç½‘ç»œå±‚çš„æ ¸å¿ƒåè®®ï¼Œè´Ÿè´£æ•°æ®åŒ…çš„å¯»å€å’Œè·¯ç”±ã€‚</li><li><strong>IPv4</strong>ï¼š32ä½åœ°å€ï¼Œæ ¼å¼ä¸º<code>A.B.C.D</code>ã€‚</li><li><strong>IPv6</strong>ï¼š128ä½åœ°å€ï¼Œæ ¼å¼ä¸º<code>A:B:C:D:E:F:G:H</code>ã€‚</li></ul></li><li><strong>ICMPï¼ˆInternet Control Message Protocolï¼‰</strong>ï¼š<ul><li>ç”¨äºå‘é€é”™è¯¯æ¶ˆæ¯å’Œæ“ä½œä¿¡æ¯ã€‚</li><li>å¸¸è§çš„ICMPæ¶ˆæ¯ç±»å‹ï¼šå›æ˜¾è¯·æ±‚ï¼ˆpingï¼‰ã€å›æ˜¾åº”ç­”ã€ç›®çš„ä¸å¯è¾¾ã€‚</li></ul></li><li><strong>ARPï¼ˆAddress Resolution Protocolï¼‰</strong>ï¼š<ul><li>å°†IPåœ°å€è§£æä¸ºMACåœ°å€ã€‚</li><li>å¸¸è§çš„ARPæ¶ˆæ¯ç±»å‹ï¼šARPè¯·æ±‚ã€ARPåº”ç­”ã€‚</li></ul></li></ul><h4 id="3-é¢è¯•é—®é¢˜-2"><a class="markdownIt-Anchor" href="#3-é¢è¯•é—®é¢˜-2"></a> 3. <strong>é¢è¯•é—®é¢˜</strong></h4><ul><li><strong>é—®é¢˜1</strong>ï¼šIPv4å’ŒIPv6çš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ<ul><li><strong>ç­”æ¡ˆ</strong>ï¼šIPv4ä½¿ç”¨32ä½åœ°å€ï¼Œè€ŒIPv6ä½¿ç”¨128ä½åœ°å€ï¼Œæä¾›äº†æ›´å¤šçš„åœ°å€ç©ºé—´ã€‚IPv6è¿˜æ”¯æŒæ— çŠ¶æ€åœ°å€è‡ªåŠ¨é…ç½®ï¼ˆSLAACï¼‰å’Œæ›´å¥½çš„å®‰å…¨æ€§ã€‚</li></ul></li><li><strong>é—®é¢˜2</strong>ï¼šä»€ä¹ˆæ˜¯å­ç½‘æ©ç ï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ<ul><li><strong>ç­”æ¡ˆ</strong>ï¼šå­ç½‘æ©ç ç”¨äºå°†IPåœ°å€åˆ’åˆ†ä¸ºç½‘ç»œéƒ¨åˆ†å’Œä¸»æœºéƒ¨åˆ†ã€‚å®ƒå¸®åŠ©è·¯ç”±å™¨ç¡®å®šæ•°æ®åŒ…æ˜¯å¦å±äºåŒä¸€ç½‘ç»œæˆ–éœ€è¦è½¬å‘åˆ°å…¶ä»–ç½‘ç»œã€‚</li></ul></li><li><strong>é—®é¢˜3</strong>ï¼šå¦‚ä½•æŸ¥çœ‹å½“å‰ä¸»æœºçš„è·¯ç”±è¡¨ï¼Ÿ<ul><li><strong>ç­”æ¡ˆ</strong>ï¼šåœ¨Linuxç³»ç»Ÿä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>route -n</code>æˆ–<code>ip route</code>å‘½ä»¤æŸ¥çœ‹è·¯ç”±è¡¨ã€‚</li></ul></li><li><strong>é—®é¢˜4</strong>ï¼šä»€ä¹ˆæ˜¯CIDRï¼ˆæ— ç±»åˆ«åŸŸé—´è·¯ç”±ï¼‰ï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ<ul><li><strong>ç­”æ¡ˆ</strong>ï¼šCIDRæ˜¯ä¸€ç§IPåœ°å€çš„è¡¨ç¤ºæ–¹æ³•ï¼Œé€šè¿‡å­ç½‘æ©ç çš„ä½æ•°æ¥è¡¨ç¤ºç½‘ç»œéƒ¨åˆ†å’Œä¸»æœºéƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼Œ<code>192.168.1.0/24</code>è¡¨ç¤ºç½‘ç»œéƒ¨åˆ†ä¸º<code>192.168.1.0</code>ï¼Œå­ç½‘æ©ç ä¸º<code>255.255.255.0</code>ã€‚CIDRçš„ä½œç”¨æ˜¯æé«˜IPåœ°å€çš„åˆ©ç”¨ç‡ï¼Œå‡å°‘è·¯ç”±è¡¨çš„å¤§å°ã€‚</li></ul></li><li><strong>é—®é¢˜5</strong>ï¼šä»€ä¹ˆæ˜¯NATï¼ˆç½‘ç»œåœ°å€è½¬æ¢ï¼‰ï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ<ul><li><strong>ç­”æ¡ˆ</strong>ï¼šNATæ˜¯ä¸€ç§å°†ä¸€ä¸ªIPåœ°å€ç©ºé—´è½¬æ¢ä¸ºå¦ä¸€ä¸ªIPåœ°å€ç©ºé—´çš„æŠ€æœ¯ï¼Œå¸¸ç”¨äºå°†ç§æœ‰IPåœ°å€è½¬æ¢ä¸ºå…¬å…±IPåœ°å€ã€‚NATçš„ä½œç”¨æ˜¯èŠ‚çœå…¬å…±IPåœ°å€èµ„æºï¼Œæé«˜ç½‘ç»œå®‰å…¨æ€§ã€‚</li></ul></li></ul><h3 id="ä¸‰-ä¼ è¾“å±‚transport-layer"><a class="markdownIt-Anchor" href="#ä¸‰-ä¼ è¾“å±‚transport-layer"></a> ä¸‰ã€ä¼ è¾“å±‚ï¼ˆTransport Layerï¼‰</h3><h4 id="1-æ ¸å¿ƒæ¦‚å¿µ-3"><a class="markdownIt-Anchor" href="#1-æ ¸å¿ƒæ¦‚å¿µ-3"></a> 1. <strong>æ ¸å¿ƒæ¦‚å¿µ</strong></h4><ul><li><strong>åŠŸèƒ½</strong>ï¼š<ul><li>æä¾›å¯é çš„ã€é¢å‘è¿æ¥çš„ä¼ è¾“æœåŠ¡ï¼ˆå¦‚TCPï¼‰ã€‚</li><li>æä¾›æ— è¿æ¥çš„ã€ä¸å¯é çš„ä¼ è¾“æœåŠ¡ï¼ˆå¦‚UDPï¼‰ã€‚</li><li>æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶ã€‚</li><li>æä¾›ç«¯åˆ°ç«¯çš„é€šä¿¡ã€‚</li></ul></li><li><strong>ç«¯å£å·</strong>ï¼š<ul><li>ç”¨äºæ ‡è¯†ä¸»æœºä¸Šçš„åº”ç”¨ç¨‹åºã€‚</li><li>èŒƒå›´ï¼š0-65535ã€‚</li><li>å¸¸è§çš„ç«¯å£å·ï¼š80ï¼ˆHTTPï¼‰ã€443ï¼ˆHTTPSï¼‰ã€22ï¼ˆSSHï¼‰ã€25ï¼ˆSMTPï¼‰ã€‚</li></ul></li></ul><h4 id="2-å¸¸è§åè®®-3"><a class="markdownIt-Anchor" href="#2-å¸¸è§åè®®-3"></a> 2. <strong>å¸¸è§åè®®</strong></h4><h5 id="tcpip-åè®®"><a class="markdownIt-Anchor" href="#tcpip-åè®®"></a> TCP/IP åè®®</h5><ol><li><strong>å®šä¹‰</strong>ï¼šTCP/IP æ˜¯ä¸€ç»„ç”¨äºäº’è”ç½‘åŠç›¸å…³ç½‘ç»œçš„é€šä¿¡åè®®ï¼ŒåŒ…æ‹¬ TCP å’Œ IPã€‚</li><li><strong>å±‚æ¬¡ç»“æ„</strong>ï¼š<ul><li><strong>é“¾è·¯å±‚</strong>ï¼šè´Ÿè´£ç‰©ç†é“¾è·¯çš„ç®¡ç†ï¼Œå¦‚ä»¥å¤ªç½‘ã€‚</li><li><strong>ç½‘ç»œå±‚</strong>ï¼šè´Ÿè´£æ•°æ®åŒ…çš„è·¯ç”±å’Œè½¬å‘ï¼Œä¸»è¦åè®®æ˜¯ IPã€‚</li><li><strong>ä¼ è¾“å±‚</strong>ï¼šè´Ÿè´£ç«¯åˆ°ç«¯çš„æ•°æ®ä¼ è¾“å’Œå¯é æ€§ä¿è¯ï¼Œä¸»è¦åè®®æ˜¯ TCP å’Œ UDPã€‚</li><li><strong>åº”ç”¨å±‚</strong>ï¼šè´Ÿè´£å¤„ç†ç‰¹å®šçš„åº”ç”¨ç¨‹åºä¹‹é—´çš„é€šä¿¡ï¼Œä¸»è¦åè®®æ˜¯ HTTPã€FTPã€SMTP ç­‰ã€‚</li></ul></li><li><strong>TCP åè®®ç‰¹ç‚¹</strong>ï¼š<ul><li><strong>é¢å‘è¿æ¥</strong>ï¼šåœ¨æ•°æ®ä¼ è¾“ä¹‹å‰ï¼Œå¿…é¡»å»ºç«‹ä¸€ä¸ªå¯é çš„è¿æ¥ã€‚</li><li><strong>å¯é ä¼ è¾“</strong>ï¼šé€šè¿‡ç¡®è®¤ï¼ˆACKï¼‰ã€é‡ä¼ æœºåˆ¶ã€æ»‘åŠ¨çª—å£ç­‰æŠ€æœ¯ï¼Œç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§å’Œé¡ºåºæ€§ã€‚</li><li><strong>åº”ç”¨åœºæ™¯</strong>ï¼šæ–‡ä»¶ä¼ è¾“ã€ç½‘é¡µæµè§ˆã€é‚®ä»¶ä¼ è¾“ç­‰ã€‚</li></ul></li></ol><p><strong>é¢è¯•çŸ¥è¯†ç‚¹è¡¥å……</strong>ï¼š</p><ul><li><strong>TCP çš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹è¿‡ç¨‹</strong>ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ° TCP çš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹è¿‡ç¨‹ã€‚ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹å¦‚ä¸‹ï¼š<ol><li>å®¢æˆ·ç«¯å‘é€ä¸€ä¸ª SYN åŒ…åˆ°æœåŠ¡å™¨ï¼Œè¯·æ±‚å»ºç«‹è¿æ¥ã€‚</li><li>æœåŠ¡å™¨æ”¶åˆ° SYN åŒ…åï¼Œå›å¤ä¸€ä¸ª SYN-ACK åŒ…ï¼Œç¡®è®¤å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚</li><li>å®¢æˆ·ç«¯æ”¶åˆ° SYN-ACK åŒ…åï¼Œå‘é€ä¸€ä¸ª ACK åŒ…åˆ°æœåŠ¡å™¨ï¼Œå®Œæˆè¿æ¥å»ºç«‹ã€‚<br />å››æ¬¡æŒ¥æ‰‹è¿‡ç¨‹å¦‚ä¸‹ï¼š</li><li>å®¢æˆ·ç«¯å‘é€ä¸€ä¸ª FIN åŒ…åˆ°æœåŠ¡å™¨ï¼Œè¯·æ±‚å…³é—­è¿æ¥ã€‚</li><li>æœåŠ¡å™¨æ”¶åˆ° FIN åŒ…åï¼Œå›å¤ä¸€ä¸ª ACK åŒ…ï¼Œç¡®è®¤å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚</li><li>æœåŠ¡å™¨å‘é€ä¸€ä¸ª FIN åŒ…åˆ°å®¢æˆ·ç«¯ï¼Œè¯·æ±‚å…³é—­è¿æ¥ã€‚</li><li>å®¢æˆ·ç«¯æ”¶åˆ° FIN åŒ…åï¼Œå‘é€ä¸€ä¸ª ACK åŒ…åˆ°æœåŠ¡å™¨ï¼Œå®Œæˆè¿æ¥å…³é—­ã€‚</li></ol></li><li><strong>æŸ¥çœ‹æœ¬æœºçš„ IP åœ°å€</strong>ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•æŸ¥çœ‹æœ¬æœºçš„ IP åœ°å€ã€‚å¯ä»¥ä½¿ç”¨<code>ifconfig</code>æˆ–<code>ip a</code>å‘½ä»¤ã€‚<code>ip a</code>å‘½ä»¤æ˜¯ç°ä»£ Linux ç³»ç»Ÿä¸­æ¨èä½¿ç”¨çš„å‘½ä»¤ã€‚</li></ul><h5 id="udp-åè®®"><a class="markdownIt-Anchor" href="#udp-åè®®"></a> UDP åè®®</h5><ol><li><strong>å®šä¹‰</strong>ï¼šUDP æ˜¯ä¸€ç§æ— è¿æ¥çš„ã€ä¸å¯é çš„ä¼ è¾“å±‚åè®®ã€‚</li><li><strong>ç‰¹ç‚¹</strong>ï¼š<ul><li><strong>æ— è¿æ¥</strong>ï¼šä¸éœ€è¦å»ºç«‹è¿æ¥ï¼Œå¼€é”€è¾ƒå°ã€‚</li><li><strong>ä¸å¯é </strong>ï¼šä¸æä¾›ç¡®è®¤å’Œé‡ä¼ æœºåˆ¶ã€‚</li><li><strong>åº”ç”¨åœºæ™¯</strong>ï¼šè§†é¢‘æµã€è¯­éŸ³é€šè¯ã€æ¸¸æˆã€DNS æŸ¥è¯¢ç­‰ã€‚</li></ul></li></ol><p><strong>é¢è¯•çŸ¥è¯†ç‚¹è¡¥å……</strong>ï¼š</p><ul><li><strong>UDP å’Œ TCP çš„ä¸»è¦åŒºåˆ«</strong>ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ° UDP å’Œ TCP çš„ä¸»è¦åŒºåˆ«ã€‚TCP æ˜¯é¢å‘è¿æ¥çš„ã€å¯é çš„ä¼ è¾“åè®®ï¼Œè€Œ UDP æ˜¯æ— è¿æ¥çš„ã€ä¸å¯é çš„ä¼ è¾“åè®®ã€‚TCP é€‚ç”¨äºå¯¹å¯é æ€§è¦æ±‚è¾ƒé«˜çš„åœºæ™¯ï¼Œå¦‚æ–‡ä»¶ä¼ è¾“å’Œç½‘é¡µæµè§ˆï¼›UDP é€‚ç”¨äºå¯¹å®æ—¶æ€§è¦æ±‚è¾ƒé«˜çš„åœºæ™¯ï¼Œå¦‚è§†é¢‘æµå’Œè¯­éŸ³é€šè¯ã€‚</li><li><strong>ä½¿ç”¨ UDP åè®®å®ç°ç®€å•çš„æ•°æ®ä¼ è¾“</strong>ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•ä½¿ç”¨ UDP åè®®å®ç°ç®€å•çš„æ•°æ®ä¼ è¾“ã€‚å¯ä»¥ä½¿ç”¨<code>netcat</code>å·¥å…·ã€‚ä¾‹å¦‚ï¼ŒæœåŠ¡å™¨ç«¯å¯ä»¥ä½¿ç”¨<code>nc -u -l 1234</code>ç›‘å¬ UDP ç«¯å£ 1234ï¼Œå®¢æˆ·ç«¯å¯ä»¥ä½¿ç”¨<code>nc -u server_ip 1234</code>å‘é€æ•°æ®åˆ°æœåŠ¡å™¨ã€‚</li></ul><h4 id="3-é¢è¯•é—®é¢˜-3"><a class="markdownIt-Anchor" href="#3-é¢è¯•é—®é¢˜-3"></a> 3. <strong>é¢è¯•é—®é¢˜</strong></h4><ul><li><strong>é—®é¢˜1</strong>ï¼šTCPå’ŒUDPçš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ<ul><li><strong>ç­”æ¡ˆ</strong>ï¼šTCPæ˜¯é¢å‘è¿æ¥çš„ã€å¯é çš„ä¼ è¾“åè®®ï¼Œæä¾›æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶ï¼Œé€‚ç”¨äºå¯¹å¯é æ€§è¦æ±‚è¾ƒé«˜çš„åº”ç”¨ã€‚UDPæ˜¯æ— è¿æ¥çš„ã€ä¸å¯é çš„ä¼ è¾“åè®®ï¼Œé€‚ç”¨äºå¯¹å®æ—¶æ€§è¦æ±‚è¾ƒé«˜çš„åº”ç”¨ã€‚</li></ul></li><li><strong>é—®é¢˜2</strong>ï¼šTCPçš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹è¿‡ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ<ul><li><strong>ç­”æ¡ˆ</strong>ï¼š<ul><li><strong>ä¸‰æ¬¡æ¡æ‰‹</strong>ï¼š<ol><li>å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªSYNåŒ…åˆ°æœåŠ¡å™¨ï¼Œè¯·æ±‚å»ºç«‹è¿æ¥ã€‚</li><li>æœåŠ¡å™¨æ”¶åˆ°SYNåŒ…åï¼Œå›å¤ä¸€ä¸ªSYN-ACKåŒ…ï¼Œç¡®è®¤å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚</li><li>å®¢æˆ·ç«¯æ”¶åˆ°SYN-ACKåŒ…åï¼Œå‘é€ä¸€ä¸ªACKåŒ…åˆ°æœåŠ¡å™¨ï¼Œå®Œæˆè¿æ¥å»ºç«‹ã€‚</li></ol></li><li><strong>å››æ¬¡æŒ¥æ‰‹</strong>ï¼š<ol><li>å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªFINåŒ…åˆ°æœåŠ¡å™¨ï¼Œè¯·æ±‚å…³é—­è¿æ¥ã€‚</li><li>æœåŠ¡å™¨æ”¶åˆ°FINåŒ…åï¼Œå›å¤ä¸€ä¸ªACKåŒ…ï¼Œç¡®è®¤å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚</li><li>æœåŠ¡å™¨å‘é€ä¸€ä¸ªFINåŒ…åˆ°å®¢æˆ·ç«¯ï¼Œè¯·æ±‚å…³é—­è¿æ¥ã€‚</li><li>å®¢æˆ·ç«¯æ”¶åˆ°FINåŒ…åï¼Œå‘é€ä¸€ä¸ªACKåŒ…åˆ°æœåŠ¡å™¨ï¼Œå®Œæˆè¿æ¥å…³é—­ã€‚</li></ol></li></ul></li></ul></li><li><strong>é—®é¢˜3</strong>ï¼šä»€ä¹ˆæ˜¯æ»‘åŠ¨çª—å£åè®®ï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ<ul><li><strong>ç­”æ¡ˆ</strong>ï¼šæ»‘åŠ¨çª—å£åè®®æ˜¯ä¸€ç§æµé‡æ§åˆ¶æœºåˆ¶ï¼Œç”¨äºæ§åˆ¶å‘é€æ–¹åœ¨ç­‰å¾…ç¡®è®¤ä¹‹å‰å¯ä»¥å‘é€çš„æ•°æ®é‡ã€‚å®ƒé€šè¿‡åŠ¨æ€è°ƒæ•´çª—å£å¤§å°æ¥ä¼˜åŒ–ç½‘ç»œåˆ©ç”¨ç‡ï¼Œé˜²æ­¢å‘é€æ–¹å‘é€è¿‡å¤šæ•°æ®å¯¼è‡´æ¥æ”¶æ–¹æº¢å‡ºã€‚</li></ul></li><li><strong>é—®é¢˜4</strong>ï¼šTCPçš„æ‹¥å¡æ§åˆ¶æœºåˆ¶æœ‰å“ªäº›ï¼Ÿ<ul><li><strong>ç­”æ¡ˆ</strong>ï¼šTCPçš„æ‹¥å¡æ§åˆ¶æœºåˆ¶åŒ…æ‹¬æ…¢å¯åŠ¨ï¼ˆSlow Startï¼‰ã€æ‹¥å¡é¿å…ï¼ˆCongestion Avoidanceï¼‰ã€å¿«é€Ÿé‡ä¼ ï¼ˆFast Retransmitï¼‰å’Œå¿«é€Ÿæ¢å¤ï¼ˆFast Recoveryï¼‰ã€‚</li></ul></li><li><strong>é—®é¢˜5</strong>ï¼šUDPé€‚ç”¨äºå“ªäº›åº”ç”¨åœºæ™¯ï¼Ÿ<ul><li><strong>ç­”æ¡ˆ</strong>ï¼šUDPé€‚ç”¨äºå¯¹å®æ—¶æ€§è¦æ±‚è¾ƒé«˜çš„åº”ç”¨ï¼Œå¦‚è§†é¢‘æµã€è¯­éŸ³é€šè¯ã€æ¸¸æˆå’ŒDNSæŸ¥è¯¢ã€‚è¿™äº›åº”ç”¨å¯¹å»¶è¿Ÿæ•æ„Ÿï¼Œå¯ä»¥å®¹å¿ä¸€å®šç¨‹åº¦çš„æ•°æ®ä¸¢å¤±ã€‚</li></ul></li></ul><h3 id="å››-åº”ç”¨å±‚application-layer"><a class="markdownIt-Anchor" href="#å››-åº”ç”¨å±‚application-layer"></a> å››ã€åº”ç”¨å±‚ï¼ˆApplication Layerï¼‰</h3><h4 id="1-æ ¸å¿ƒæ¦‚å¿µ-4"><a class="markdownIt-Anchor" href="#1-æ ¸å¿ƒæ¦‚å¿µ-4"></a> 1. <strong>æ ¸å¿ƒæ¦‚å¿µ</strong></h4><ul><li><strong>åŠŸèƒ½</strong>ï¼š<ul><li>æä¾›åº”ç”¨ç¨‹åºä¹‹é—´çš„é€šä¿¡æ¥å£ã€‚</li><li>æ”¯æŒå¤šç§åº”ç”¨å±‚åè®®ï¼Œå¦‚HTTPã€FTPã€SMTPã€DNSç­‰ã€‚</li><li>æä¾›ç”¨æˆ·ç•Œé¢å’Œåº”ç”¨ç¨‹åºé€»è¾‘ã€‚</li></ul></li></ul><h4 id="2-å¸¸è§åè®®-4"><a class="markdownIt-Anchor" href="#2-å¸¸è§åè®®-4"></a> 2. <strong>å¸¸è§åè®®</strong></h4><h5 id="httpåè®®"><a class="markdownIt-Anchor" href="#httpåè®®"></a> HTTPåè®®</h5><ul><li><strong>HTTPï¼ˆHyperText Transfer Protocolï¼‰</strong>ï¼š</li></ul><ol><li><strong>å®šä¹‰</strong>ï¼šHTTP æ˜¯ä¸€ç§åº”ç”¨å±‚åè®®ï¼Œç”¨äºåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼ è¾“è¶…æ–‡æœ¬æ•°æ®ã€‚</li><li><strong>ç‰¹ç‚¹</strong>ï¼š<ul><li><strong>æ— çŠ¶æ€</strong>ï¼šæ¯æ¬¡è¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„ã€‚</li><li><strong>åŸºäº TCP</strong>ï¼šç¡®ä¿æ•°æ®çš„å¯é ä¼ è¾“ã€‚</li><li><strong>è¯·æ±‚/å“åº”æ¨¡å‹</strong>ï¼šå®¢æˆ·ç«¯å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å›å“åº”ã€‚</li></ul></li><li><strong>è¯·æ±‚å’Œå“åº”</strong>ï¼š<ul><li><strong>è¯·æ±‚è¡Œ</strong>ï¼šåŒ…å«è¯·æ±‚æ–¹æ³•ï¼ˆGETã€POSTã€PUTã€DELETEç­‰ï¼‰ã€è¯·æ±‚çš„URLå’ŒHTTPç‰ˆæœ¬ã€‚</li><li><strong>è¯·æ±‚å¤´</strong>ï¼šåŒ…å«é™„åŠ ä¿¡æ¯ï¼Œå¦‚<code>Host</code>ã€<code>User-Agent</code>ã€<code>Content-Type</code>ç­‰ã€‚</li><li><strong>è¯·æ±‚ä½“</strong>ï¼šå¯¹äºPOSTè¯·æ±‚ï¼ŒåŒ…å«è¦æäº¤çš„æ•°æ®ã€‚</li><li><strong>å“åº”è¡Œ</strong>ï¼šåŒ…å«HTTPç‰ˆæœ¬ã€çŠ¶æ€ç å’ŒçŠ¶æ€æ¶ˆæ¯ã€‚</li><li><strong>å“åº”å¤´</strong>ï¼šåŒ…å«é™„åŠ ä¿¡æ¯ï¼Œå¦‚<code>Content-Type</code>ã€<code>Content-Length</code>ç­‰ã€‚</li><li><strong>å“åº”ä½“</strong>ï¼šåŒ…å«æœåŠ¡å™¨è¿”å›çš„æ•°æ®ï¼Œå¦‚HTMLé¡µé¢ã€JSONæ•°æ®ç­‰ã€‚</li></ul></li><li><strong>çŠ¶æ€ç </strong>ï¼š<ul><li><strong>1xx</strong>ï¼šä¿¡æ¯æ€§çŠ¶æ€ç ã€‚</li><li><strong>2xx</strong>ï¼šæˆåŠŸçŠ¶æ€ç ï¼Œå¦‚ 200ï¼ˆè¯·æ±‚æˆåŠŸï¼‰ã€201ï¼ˆèµ„æºå·²åˆ›å»ºï¼‰ã€‚</li><li><strong>3xx</strong>ï¼šé‡å®šå‘çŠ¶æ€ç ï¼Œå¦‚ 301ï¼ˆæ°¸ä¹…é‡å®šå‘ï¼‰ã€302ï¼ˆä¸´æ—¶é‡å®šå‘ï¼‰ã€‚</li><li><strong>4xx</strong>ï¼šå®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç ï¼Œå¦‚ 400ï¼ˆè¯·æ±‚æ ¼å¼é”™è¯¯ï¼‰ã€404ï¼ˆæœªæ‰¾åˆ°èµ„æºï¼‰ã€‚</li><li><strong>5xx</strong>ï¼šæœåŠ¡å™¨é”™è¯¯çŠ¶æ€ç ï¼Œå¦‚ 500ï¼ˆæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼‰ã€503ï¼ˆæœåŠ¡ä¸å¯ç”¨ï¼‰ã€‚</li></ul></li></ol><p><strong>é¢è¯•çŸ¥è¯†ç‚¹è¡¥å……</strong>ï¼š</p><ul><li><p><strong>æŸ¥çœ‹ HTTP è¯·æ±‚çš„è¯¦ç»†ä¿¡æ¯</strong>ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¦‚ä½•æŸ¥çœ‹HTTP è¯·æ±‚çš„è¯¦ç»†ä¿¡æ¯ã€‚å¯ä»¥ä½¿ç”¨<code>curl -v</code>å‘½ä»¤ã€‚ä¾‹å¦‚ï¼Œ<code>curl -v http://example.com</code>å¯ä»¥æ˜¾ç¤º HTTP è¯·æ±‚å’Œå“åº”çš„è¯¦ç»†ä¿¡æ¯ã€‚</p></li><li><p><strong>å¸¸è§çš„ 404 å’Œ 500 é”™è¯¯çš„åŸå› åŠè§£å†³æ–¹æ³•</strong>ï¼šé¢è¯•ä¸­å¯èƒ½ä¼šé—®åˆ°å¸¸è§çš„ 404 å’Œ 500 é”™è¯¯çš„åŸå› åŠè§£å†³æ–¹æ³•ã€‚404 é”™è¯¯è¡¨ç¤ºè¯·æ±‚çš„èµ„æºæœªæ‰¾åˆ°ï¼Œå¯èƒ½æ˜¯å› ä¸º URL é”™è¯¯æˆ–æ–‡ä»¶ä¸å­˜åœ¨ã€‚500 é”™è¯¯è¡¨ç¤ºæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼Œå¯èƒ½æ˜¯å› ä¸ºæœåŠ¡å™¨é…ç½®é”™è¯¯æˆ–ä»£ç é—®é¢˜ã€‚è§£å†³æ–¹æ³•åŒ…æ‹¬æ£€æŸ¥ URLã€æ£€æŸ¥æœåŠ¡å™¨æ—¥å¿—ã€æ£€æŸ¥åº”ç”¨ç¨‹åºä»£ç ç­‰ã€‚</p></li><li><p><strong>HTTPSï¼ˆHTTP Secureï¼‰</strong>ï¼š</p><ul><li><strong>ç‰¹ç‚¹</strong>ï¼šåœ¨HTTPåŸºç¡€ä¸Šæ·»åŠ äº†SSL/TLSåŠ å¯†ã€‚</li><li><strong>åº”ç”¨åœºæ™¯</strong>ï¼šå®‰å…¨çš„ç½‘é¡µæµè§ˆã€ç”µå­å•†åŠ¡ã€åœ¨çº¿é“¶è¡Œã€‚</li></ul></li><li><p><strong>FTPï¼ˆFile Transfer Protocolï¼‰</strong>ï¼š</p><ul><li><strong>ç‰¹ç‚¹</strong>ï¼šç”¨äºæ–‡ä»¶ä¼ è¾“ï¼Œæ”¯æŒæ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½ã€‚</li><li><strong>åº”ç”¨åœºæ™¯</strong>ï¼šæ–‡ä»¶æœåŠ¡å™¨ã€æ–‡ä»¶å…±äº«ã€‚</li></ul></li><li><p><strong>SMTPï¼ˆSimple Mail Transfer Protocolï¼‰</strong>ï¼š</p><ul><li><strong>ç‰¹ç‚¹</strong>ï¼šç”¨äºå‘é€ç”µå­é‚®ä»¶ã€‚</li><li><strong>åº”ç”¨åœºæ™¯</strong>ï¼šé‚®ä»¶æœåŠ¡å™¨ã€‚</li></ul></li><li><p><strong>DNSï¼ˆDomain Name Systemï¼‰</strong>ï¼š</p><ul><li><strong>ç‰¹ç‚¹</strong>ï¼šå°†åŸŸåè§£æä¸ºIPåœ°å€ã€‚</li><li><strong>åº”ç”¨åœºæ™¯</strong>ï¼šåŸŸåè§£æã€è´Ÿè½½å‡è¡¡ã€‚</li></ul></li></ul><h4 id="3-é¢è¯•é—®é¢˜-4"><a class="markdownIt-Anchor" href="#3-é¢è¯•é—®é¢˜-4"></a> 3. <strong>é¢è¯•é—®é¢˜</strong></h4><ul><li><strong>é—®é¢˜1</strong>ï¼šHTTPå’ŒHTTPSçš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ<ul><li><strong>ç­”æ¡ˆ</strong>ï¼šHTTPSåœ¨HTTPçš„åŸºç¡€ä¸Šæ·»åŠ äº†SSL/TLSåŠ å¯†ï¼Œç¡®ä¿æ•°æ®ä¼ è¾“çš„å®‰å…¨æ€§ã€‚HTTPSä½¿ç”¨ç«¯å£443ï¼Œè€ŒHTTPä½¿ç”¨ç«¯å£80ã€‚</li></ul></li><li><strong>é—®é¢˜2</strong>ï¼šä»€ä¹ˆæ˜¯HTTPçŠ¶æ€ç ï¼Ÿå¸¸è§çš„çŠ¶æ€ç æœ‰å“ªäº›ï¼Ÿ<ul><li><strong>ç­”æ¡ˆ</strong>ï¼šHTTPçŠ¶æ€ç æ˜¯æœåŠ¡å™¨å¯¹å®¢æˆ·ç«¯è¯·æ±‚çš„å“åº”çŠ¶æ€çš„æè¿°ã€‚å¸¸è§çš„çŠ¶æ€ç åŒ…æ‹¬ï¼š<ul><li><strong>200</strong>ï¼šè¯·æ±‚æˆåŠŸã€‚</li><li><strong>301/302</strong>ï¼šé‡å®šå‘ã€‚</li><li><strong>400</strong>ï¼šè¯·æ±‚æ ¼å¼é”™è¯¯ã€‚</li><li><strong>401</strong>ï¼šæœªæˆæƒã€‚</li><li><strong>403</strong>ï¼šç¦æ­¢è®¿é—®ã€‚</li><li><strong>404</strong>ï¼šæœªæ‰¾åˆ°èµ„æºã€‚</li><li><strong>500</strong>ï¼šæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ã€‚</li><li><strong>503</strong>ï¼šæœåŠ¡ä¸å¯ç”¨ã€‚</li></ul></li></ul></li><li><strong>é—®é¢˜3</strong>ï¼šDNSçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ<ul><li><strong>ç­”æ¡ˆ</strong>ï¼šDNSçš„ä½œç”¨æ˜¯å°†åŸŸåè§£æä¸ºIPåœ°å€ã€‚å½“å®¢æˆ·ç«¯è¯·æ±‚ä¸€ä¸ªåŸŸåæ—¶ï¼ŒDNSæœåŠ¡å™¨ä¼šæŸ¥æ‰¾è¯¥åŸŸåå¯¹åº”çš„IPåœ°å€ï¼Œå¹¶å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚DNSè§£æè¿‡ç¨‹åŒ…æ‹¬é€’å½’æŸ¥è¯¢å’Œè¿­ä»£æŸ¥è¯¢ã€‚</li></ul></li><li><strong>é—®é¢˜4</strong>ï¼šä»€ä¹ˆæ˜¯RESTful APIï¼Ÿå®ƒçš„ç‰¹ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ<ul><li><strong>ç­”æ¡ˆ</strong>ï¼šRESTful APIæ˜¯ä¸€ç§åŸºäºHTTPåè®®çš„ç½‘ç»œåº”ç”¨ç¨‹åºæ¥å£ï¼Œéµå¾ªRESTï¼ˆRepresentational State Transferï¼‰æ¶æ„é£æ ¼ã€‚å®ƒçš„ç‰¹ç‚¹åŒ…æ‹¬æ— çŠ¶æ€ã€ç»Ÿä¸€æ¥å£ã€èµ„æºå¯¼å‘ã€è¶…åª’ä½“ä½œä¸ºåº”ç”¨çŠ¶æ€çš„å¼•æ“ï¼ˆHATEOASï¼‰ã€‚</li></ul></li><li><strong>é—®é¢˜5</strong>ï¼šä»€ä¹ˆæ˜¯Webç¼“å­˜ï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ<ul><li><strong>ç­”æ¡ˆ</strong>ï¼šWebç¼“å­˜æ˜¯ä¸€ç§å­˜å‚¨æœºåˆ¶ï¼Œç”¨äºä¸´æ—¶å­˜å‚¨Webèµ„æºçš„å‰¯æœ¬ã€‚å®ƒçš„ä½œç”¨æ˜¯å‡å°‘å¯¹æœåŠ¡å™¨çš„è¯·æ±‚æ¬¡æ•°ï¼Œæé«˜å“åº”é€Ÿåº¦ï¼Œé™ä½ç½‘ç»œå¸¦å®½çš„ä½¿ç”¨ã€‚</li></ul></li></ul><hr />]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è’™ç‰¹å¡æ´›ç®—æ³•ï¼ˆC++ï¼‰</title>
      <link href="/2025/06/16/algo/%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E7%AE%97%E6%B3%95%EF%BC%88C++%EF%BC%89/"/>
      <url>/2025/06/16/algo/%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E7%AE%97%E6%B3%95%EF%BC%88C++%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p>è’™ç‰¹å¡æ´›ç®—æ³•æ˜¯ä¸€ä¸ªåŸºäºå‡ ä½•æ¦‚ç‡æ¨¡å‹çš„è¿‘ä¼¼ä¼°è®¡çœŸå®å€¼çš„æ–¹æ³•ï¼Œå¯ä»¥è¿‘ä¼¼ä¼°è®¡å‡ºåœ†å‘¨ç‡Ï€å’Œä¸€äº›è¢«ç§¯å‡½æ•°æ¯”è¾ƒå¤æ‚ä¸å®¹æ˜“æ±‚å‡ºç§¯åˆ†çš„ç§¯åˆ†å€¼ã€‚</p><p>è¿‘ä¼¼ä¼°è®¡å‡ºåœ†å‘¨ç‡Ï€ä¸¾ä¾‹ï¼š</p><p><img src="b6ed8fe16c0b4534af76a8e0eb927efd.jpeg" alt="" /></p><p>å‡è®¾åœ¨æ­£æ–¹å½¢å†…æŠ•æ·éšæœºç‚¹æ•°é‡ä¸ºN(NâˆˆN*)ï¼Œåˆ™æŒ‰å‡ ä½•æ¦‚ç‡ï¼Œå½“Nå¾ˆå¤§æ—¶ï¼Œè½åœ¨åœ†ä¸­æ•°é‡ä¸ºn(nâˆˆN*), è€ŒNä¸nçš„æ¯”å€¼ç­‰ä»·äºä¸¤è€…çš„é¢ç§¯æ¯”ï¼Œå³ï¼š</p><p>Ï€rÂ²/4rÂ²= n/N</p><p>=&gt;Â Â Ï€ = 4n/N</p><p>C++ä»£ç å®ç°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;random&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="type">const</span> <span class="type">double</span> r = <span class="number">2</span>;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Random</span><span class="params">(<span class="type">int</span> min, <span class="type">int</span> max)</span></span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">location</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="type">double</span> x, y;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">location</span>(<span class="type">double</span> x, <span class="type">double</span> y) &#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;x = x;</span><br><span class="line"><span class="keyword">this</span>-&gt;y = y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">location</span>() &#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;x = <span class="built_in">Random</span>(<span class="number">0</span>, <span class="number">2</span> * r);</span><br><span class="line"><span class="keyword">this</span>-&gt;y = <span class="built_in">Random</span>(<span class="number">0</span>, <span class="number">2</span> * r);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// éšæœº[min,max]</span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Random</span><span class="params">(<span class="type">int</span> min, <span class="type">int</span> max)</span> </span>&#123;</span><br><span class="line"><span class="comment">// ç”Ÿæˆ[0,1]</span></span><br><span class="line"><span class="type">double</span> random_number = (<span class="type">double</span>)std::<span class="built_in">rand</span>() / RAND_MAX;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ç”Ÿæˆä¸€ä¸ªæ•´æ•°éƒ¨åˆ†èŒƒå›´ä¸º [min,max-1] çš„éšæœºæ•°ã€‚</span></span><br><span class="line"><span class="type">int</span> integer_part = std::<span class="built_in">rand</span>() % max;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å°†æ•´æ•°éƒ¨åˆ†ä¸éšæœºæ•°çš„å°æ•°éƒ¨åˆ†ç›¸åŠ ã€‚</span></span><br><span class="line"><span class="type">double</span> result = <span class="built_in">static_cast</span>&lt;<span class="type">double</span>&gt;(integer_part) + random_number;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">GetPai</span><span class="params">(<span class="type">int</span> N)</span> </span>&#123;</span><br><span class="line"><span class="function">location <span class="title">center</span><span class="params">(r, r)</span></span>;</span><br><span class="line"><span class="type">int</span> n = <span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span>(<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">location happen;</span><br><span class="line"><span class="type">bool</span> ifCircle = <span class="built_in">pow</span>((happen.x - center.x), <span class="number">2</span>) + <span class="built_in">pow</span>((happen.y - center.y), <span class="number">2</span>) &lt;= <span class="built_in">pow</span>(r, <span class="number">2</span>);</span><br><span class="line">ifCircle&amp;&amp; n++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">double</span> Pai = (<span class="type">double</span>)<span class="number">4</span> * n / N;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> Pai;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> N;</span><br><span class="line"><span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥è’™ç‰¹å¡æ´›è¯•éªŒæ¬¡æ•°ï¼š&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">std::cin &gt;&gt; N;</span><br><span class="line"><span class="type">double</span> pai = <span class="built_in">GetPai</span>(N);</span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;PAIè®¡ç®—ç»“æœä¸ºï¼š&quot;</span> &lt;&lt; std::endl &lt;&lt; pai;</span><br><span class="line">std::cout &lt;&lt; <span class="built_in">Random</span>(<span class="number">1</span>, <span class="number">10</span>)&lt;&lt;std::endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><p><img src="2b5c7f568c9c40f8ad5df5bca7f3d30a.png" alt="" /></p>]]></content>
      
      
      <categories>
          
          <category> æ™ºèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> algo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è’™ç‰¹ç½—å¡Ï€ç®—æ³•ï¼ˆC++è¯­è¨€æè¿°ï¼‰</title>
      <link href="/2025/06/16/algo/%E8%92%99%E7%89%B9%E7%BD%97%E5%8D%A1%CF%80%E7%AE%97%E6%B3%95%EF%BC%88C++%E8%AF%AD%E8%A8%80%E6%8F%8F%E8%BF%B0%EF%BC%89/"/>
      <url>/2025/06/16/algo/%E8%92%99%E7%89%B9%E7%BD%97%E5%8D%A1%CF%80%E7%AE%97%E6%B3%95%EF%BC%88C++%E8%AF%AD%E8%A8%80%E6%8F%8F%E8%BF%B0%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p>åœ†çš„é¢ç§¯è®¡ç®—å…¬å¼ä¸ºï¼šS=Ï€*r*r</p><p>å°†åœ†æ”¾åˆ°ä¸€ä¸ªç›´è§’åæ ‡ç³»ä¸­ï¼Œå¦‚å›¾é»„è‰²éƒ¨åˆ†çš„é¢ç§¯æ˜¯S/4=(Ï€*r*r)/4;å¦‚æœæˆ‘ä»¬å°†å–ä¸€ä¸ªå•ä½åœ†ï¼Œåˆ™S/4=Ï€/4.</p><p><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXN5emI=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve70gravity.png" alt="" /></p><p>å› ä¸ºæ˜¯å•ä½åœ†ï¼ŒåŠå¾„ä¸º1ï¼Œæ‰€ä»¥å›¾ä¸­çº¢è‰²æ­£æ–¹å½¢çš„é¢ç§¯ä¸º1ã€‚</p><p>é‚£ä¹ˆå¦‚æœå‘æ­£æ–¹å½¢å†…å‡åŒ€çš„æ’’ç‚¹ï¼Œé‚£ä¹ˆè½å…¥é˜´å½±éƒ¨åˆ†çš„ç‚¹æ•°ä¸å…¨éƒ¨çš„ç‚¹æ•°ä¹‹æ¯”åº”è¯¥æ˜¯ï¼š</p><p>S<sub>é˜´å½±</sub>/S<sub>æ­£æ–¹å½¢</sub>=Ï€/4.==============ã€‹Ï€=4*S<sub>é˜´å½±</sub>/S<sub>æ­£æ–¹å½¢</sub></p><p>æ ¹æ®æ¦‚ç‡ç»Ÿè®¡çš„è§„å¾‹ï¼Œåªè¦æ’’çš„ç‚¹è¶³å¤Ÿå¤šï¼Œé‚£ä¹ˆå°†å¾—åˆ°è¿‘ä¼¼çš„ç»“æœã€‚</p><p>ä½¿ç”¨è’™ç‰¹å¡ç½—ç®—æ³•è®¡ç®—åœ†å‘¨ç‡æœ‰å¦‚ä¸‹ä¸¤ä¸ªå…³é”®ç‚¹ï¼š</p><p>å‡åŒ€æ’’ç‚¹ï¼šé€šè¿‡randå‡½æ•°æ®‹ç”Ÿ[0,1]ä¹‹é—´éšå³çš„åæ ‡å€¼[x,y]</p><p>åŒºåŸŸåˆ¤æ–­ï¼šå›¾ä¸­é»„è‰²éƒ¨åˆ†çš„ç‰¹ç‚¹æ˜¯è·ç¦»åæ ‡åŸç‚¹çš„è·ç¦»å°äºç­‰äº1ï¼Œè¿™æ ·ï¼Œå¯ä»¥é€šè¿‡è®¡ç®—åˆ¤æ–­x<sup>2</sup>+y<sup>2</sup>&lt;=1æ¥å®ç°ã€‚</p><p>C++è¯­è¨€ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> s_rand() double(1.0*rand()/RAND_MAX)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">MontePI</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">double</span> PI;</span><br><span class="line"><span class="type">double</span> x,y;</span><br><span class="line"><span class="type">int</span> i=<span class="number">0</span>,sum=<span class="number">0</span>;</span><br><span class="line"><span class="built_in">srand</span>(<span class="built_in">time</span>(<span class="number">0</span>));</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"> x=<span class="built_in">s_rand</span>();</span><br><span class="line">y=<span class="built_in">s_rand</span>();</span><br><span class="line"><span class="keyword">if</span>(x*x+y*y&lt;<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">sum++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">PI=<span class="number">4.0</span>*sum/n;</span><br><span class="line"><span class="keyword">return</span> PI;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">double</span> PI;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;è’™ç‰¹ç½—å¡Ï€ç®—æ³•\n&quot;</span>&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;è¯·è¾“å…¥æ’’å…¥çš„ç‚¹çš„ä¸ªæ•°ï¼š&quot;</span>;</span><br><span class="line">cin&gt;&gt;n;</span><br><span class="line">PI=<span class="built_in">MontePI</span>(n);</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;PI=&quot;</span>&lt;&lt;PI&lt;&lt;endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXN5emI=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve70gravity.1.png" alt="" /></p>]]></content>
      
      
      <categories>
          
          <category> æ™ºèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> algo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt WebAssemblyå®éªŒè®°å½•</title>
      <link href="/2025/06/13/Qt/Qt%20WebAssembly%E5%AE%9E%E9%AA%8C%E8%AE%B0%E5%BD%95/"/>
      <url>/2025/06/13/Qt/Qt%20WebAssembly%E5%AE%9E%E9%AA%8C%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h2 id="1å®‰è£…åŠä»‹ç»"><a class="markdownIt-Anchor" href="#1å®‰è£…åŠä»‹ç»"></a> 1.å®‰è£…åŠä»‹ç»</h2><p><a href="https://www.cnblogs.com/luoxiang/p/13917763.html">ã€Qtæ‚è°ˆ2.å¿«é€Ÿä½“éªŒQt for WebAssemblyï¼ˆWindowså¹³å°ï¼‰ã€‘</a><br /><a href="https://www.cnblogs.com/feiyangqingyun/p/14313949.html">ã€qt for webassemblyç¯å¢ƒæ­å»ºå›¾æ–‡æ•™ç¨‹ã€‘</a></p><h2 id="2é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"><a class="markdownIt-Anchor" href="#2é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"></a> 2.é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h2><h3 id="21åœ¨cä¸­è°ƒç”¨jså‡½æ•°"><a class="markdownIt-Anchor" href="#21åœ¨cä¸­è°ƒç”¨jså‡½æ•°"></a> 2.1.åœ¨C++ä¸­è°ƒç”¨jså‡½æ•°</h3><p>å…³äºåœ¨wasmç¼–è¯‘ç¯å¢ƒä¸­ï¼Œåœ¨c++ä¸­è°ƒç”¨jsï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹ç½‘å€ï¼š<br /><a href="https://emscripten.org/docs/api_reference/emscripten.h.html#c.EM_JS">ã€emscripten.hã€‘</a><br /><a href="http://www.ruanyifeng.com/blog/2017/09/asmjs_emscripten.html">ã€asm.js å’Œ Emscripten å…¥é—¨æ•™ç¨‹ã€‘</a><br /><a href="https://stackoverflow.com/questions/64321975/em-js-unable-to-free-const-char-in-cpp">ã€EM_JS : unable to free const char* in cppã€‘</a></p><h3 id="22ä¸­æ–‡æ— æ³•æ˜¾ç¤ºä¹±ç "><a class="markdownIt-Anchor" href="#22ä¸­æ–‡æ— æ³•æ˜¾ç¤ºä¹±ç "></a> 2.2.ä¸­æ–‡æ— æ³•æ˜¾ç¤ºï¼ˆä¹±ç ï¼‰ï¼š</h3><p><a href="https://blog.csdn.net/yyt593891927/article/details/107916332">ã€Qt for WebAssemblyä¸­æ–‡æ˜¾ç¤ºå¼‚å¸¸ã€‘</a><br />å¼„ä¸€ä¸ªotfæˆ–è€…ttfå­—ä½“æ–‡ä»¶ï¼Œç„¶ååŠ åˆ°èµ„æºåº“ä¸­ï¼Œç„¶å</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//æ³¨æ„é€‰æ‹©ä½ è‡ªå·±çš„æ–‡ä»¶</span><br><span class="line">QFontDatabase::addApplicationFont(&quot;:/qml/Font/Alibaba-PuHuiTi-Light.otf&quot;);</span><br></pre></td></tr></table></figure><h3 id="23æ— æ³•è¾“å…¥ä¸­æ–‡"><a class="markdownIt-Anchor" href="#23æ— æ³•è¾“å…¥ä¸­æ–‡"></a> 2.3.æ— æ³•è¾“å…¥ä¸­æ–‡</h3><p>å¥½åƒæ²¡æœ‰æœ‰æ•ˆçš„èµ„æ–™è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥æˆ‘åªèƒ½è°ƒç”¨htmlçš„apiäº†ã€‚ï¼ˆQt6.8èƒ½å¤Ÿè¾“å…¥ä¸­æ–‡äº†ï¼Œè¯·çœ‹è¿™ç¯‡æ–‡ç« çš„æœ€åè®¨è®º<a href="https://forum.qt.io/topic/123282/unable-to-input-chinese-chinese-characters">ã€Unable to input Chinese (Chinese characters) ?ã€‘</a>ï¼‰<br />å…·ä½“å®ç°ä»£ç è¯·çœ‹å¦å¤–ä¸€ç¯‡æ–‡ç« <a href="https://blog.csdn.net/joyopirate/article/details/123008800">ã€QtWebAssemblyå®ç°ä¸­æ–‡è¾“å…¥ã€‘</a></p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">#ifdef Q_OS_WASM</span><br><span class="line">#include &lt;emscripten.h&gt;</span><br><span class="line">#include &lt;emscripten/html5.h&gt;</span><br><span class="line"></span><br><span class="line">//è·å–ç”¨æˆ·è¾“å…¥ï¼Œå› ä¸ºQtä¸æ”¯æŒç›´æ¥è¾“å…¥ä¸­æ–‡ã€‚ã€‚</span><br><span class="line">EM_JS(const char*, getInput, (const char *str), &#123;</span><br><span class="line">          const text = UTF8ToString(str);</span><br><span class="line">          val = prompt(&quot;&quot;, text);</span><br><span class="line"></span><br><span class="line">          if(val == null)</span><br><span class="line">          &#123;</span><br><span class="line">              val = &quot;&quot;</span><br><span class="line">          &#125;</span><br><span class="line">          var jstring = val;</span><br><span class="line"></span><br><span class="line">          var lengthBytes = lengthBytesUTF8(jstring)+1;</span><br><span class="line">          var stringOnWasmHeap = _malloc(lengthBytes);</span><br><span class="line">          stringToUTF8(jstring, stringOnWasmHeap, lengthBytes);</span><br><span class="line">          return stringOnWasmHeap;</span><br><span class="line">      &#125;)</span><br><span class="line">      </span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line">......</span><br><span class="line">// æ­¤å‡½æ•°å¯ä»¥ä½œä¸ºé™æ€å‡½æ•°ï¼Œåœ¨é€‚å½“çš„æ—¶å€™ä½¿ç”¨</span><br><span class="line">// è°ƒç”¨æ­¤å‡½æ•°çš„æ•ˆæœä¸ºï¼šåœ¨é¡µé¢ä¸Šå¼¹å‡ºå•Šä¸€ä¸ªè¾“å‡ºçª—å£ï¼Œç”¨æˆ·åœ¨è¾“å…¥å¥½ä¿¡æ¯åï¼Œç‚¹å‡»ç¡®å®šï¼Œçª—å£æ¶ˆå¤±ï¼Œæ­¤å‡½æ•°è¿”å›ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²</span><br><span class="line">QString Manager::getUserInput(QString currentText)</span><br><span class="line">&#123;</span><br><span class="line">    QString input = &quot;&quot;;</span><br><span class="line"></span><br><span class="line">#ifdef Q_OS_WASM</span><br><span class="line">    input = getInput(currentText.toUtf8().data());</span><br><span class="line">#else</span><br><span class="line"></span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line">    return input;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="24qtå¯¹åº”çš„emsdkç‰ˆæœ¬"><a class="markdownIt-Anchor" href="#24qtå¯¹åº”çš„emsdkç‰ˆæœ¬"></a> 2.4.qtå¯¹åº”çš„emsdkç‰ˆæœ¬</h3><p><a href="https://doc.qt.io/qt-5/wasm.html#install-emscripten">ã€Qt for WebAssemblyã€‘</a><img src="b27baf314e2146b628f5a795be46d820.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />è®¾ç½®çš„æ—¶å€™ï¼Œç›´æ¥åœ¨ Tools --ã€‹Options --ã€‹deviceâ€“ã€‹webAssemblyè®¾ç½®emskçš„æ ¹ç›®å½•å°±è¡Œã€‚ï¼ˆè®°å¾—åœ¨è®¾ç½®ä¹‹å‰è¦å…ˆå®‰è£…å¥½pythonå¹¶è®¾ç½®å¥½ç¯å¢ƒå˜é‡ï¼Œå› ä¸ºQtCreatorä¼šè°ƒç”¨ï¼‰</p><p>å‡å¦‚åœ¨emsdk install æ¯”è¾ƒæ–°çš„ç‰ˆæœ¬æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">D:\Qt\emsdk\emsdk&gt;emsdk install 3.1.25</span><br><span class="line">error: tool or SDK not found: &#x27;3.1.25&#x27;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å¯ä»¥å…ˆpullä¸€ä¸‹å†install</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D:\Qt\emsdk\emsdk&gt;git pull</span><br></pre></td></tr></table></figure><h3 id="25æ–‡ä»¶çš„ä¸‹è½½ä»¥åŠä¸Šä¼ "><a class="markdownIt-Anchor" href="#25æ–‡ä»¶çš„ä¸‹è½½ä»¥åŠä¸Šä¼ "></a> 2.5.æ–‡ä»¶çš„ä¸‹è½½ä»¥åŠä¸Šä¼ ï¼š</h3><p><a href="https://bugreports.qt.io/browse/QTBUG-67834">ã€webassembly: support local system file accessã€‘</a><br />æ–‡ä»¶çš„ä¸‹è½½ï¼ˆä¿å­˜ï¼‰å¯ä»¥é€‰æ‹©ç”¨labelæ˜¾ç¤ºä¸‹è½½é“¾æ¥ï¼ˆç‚¹å‡»labelåè§¦å‘ä¸‹è½½ï¼‰ã€‚</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ui-&gt;label-&gt;setText(&quot;&lt;a style=&#x27;color: green;&#x27; href = https://download.qt.io/archive/online_installers/4.1/qt-unified-windows-x86-4.1.1-online.exe&gt; click to download&lt;/a&gt;&quot;);</span><br><span class="line">ui-&gt;label-&gt;setOpenExternalLinks(true);</span><br></pre></td></tr></table></figure><p>æˆ–è€…é€‰æ‹©ç¨å¾®å¤æ‚ä¸€ç‚¹çš„ï¼Œé€šè¿‡wasmæä¾›çš„æ¥å£ï¼Œè°ƒç”¨jså®ç°ã€‚</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">#ifdef Q_OS_WASM</span><br><span class="line">#include &lt;emscripten.h&gt;</span><br><span class="line">#include &lt;emscripten/html5.h&gt;</span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line">//è·å–æœåŠ¡å™¨çš„åœ°å€ã€ç«¯å£ä¹‹ç±»çš„ã€‚</span><br><span class="line">//è¿™ä¸ªEM_JSæ˜¯ç”¨æ¥å£°æ˜jså‡½æ•°çš„ï¼Œå£°æ˜ä¹‹åå°±å¯ä»¥ç›´æ¥åœ¨c++é‡Œé¢ç”¨äº†ã€‚</span><br><span class="line">EM_JS(const char*, getTitle, (), &#123;</span><br><span class="line">          var urlPath = window.document.location.href;</span><br><span class="line">          console.log(urlPath);</span><br><span class="line"></span><br><span class="line">          var jstring = urlPath;</span><br><span class="line"></span><br><span class="line">          var lengthBytes = lengthBytesUTF8(jstring)+1;</span><br><span class="line">          var stringOnWasmHeap = _malloc(lengthBytes);</span><br><span class="line">          stringToUTF8(jstring, stringOnWasmHeap, lengthBytes);</span><br><span class="line">          return stringOnWasmHeap;</span><br><span class="line">      &#125;)</span><br><span class="line">      </span><br><span class="line">void MainWindow::on_pushButton_download_clicked()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">#ifdef Q_OS_WASM</span><br><span class="line">    //æ‰§è¡Œjsç¨‹åºï¼Œè¿™ä¸ªæ˜¯ç›´æ¥æ‰§è¡Œçš„ã€‚</span><br><span class="line">    EM_ASM(&#123;</span><br><span class="line">               window.open(&quot;http://127.0.0.1/resources/main.cpp&quot;);</span><br><span class="line">    &#125;);</span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line">     //å‰é¢ç”¨EM_JSå£°æ˜çš„å‡½æ•°</span><br><span class="line">    const char *str = getTitle();</span><br><span class="line">    qDebug() &lt;&lt; str;</span><br><span class="line">    free((void*)str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–‡ä»¶çš„ä¸Šä¼ è¿™æ ·ï¼ˆè¿™ä¸ªæ˜¯ä¼šè¯»å–æ•´ä¸ªæ–‡ä»¶å†…å®¹çš„ï¼‰</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">void something(const QString &amp;name, const QByteArray &amp;content)</span><br><span class="line">&#123;</span><br><span class="line">    qDebug() &lt;&lt; &quot;name:&quot; &lt;&lt; name;</span><br><span class="line">    qDebug() &lt;&lt; &quot;content&quot; &lt;&lt; content;</span><br><span class="line">&#125;</span><br><span class="line">void MainWindow::on_pushButton_clicked()</span><br><span class="line">&#123;</span><br><span class="line">//    QFileDialog::getSaveFileUrl();</span><br><span class="line">//è¿™ä¸ªä¼šæ‰“å¼€é€‰æ‹©çš„æ–‡ä»¶ï¼Œç„¶åå°†æ–‡ä»¶çš„åç§°ä»¥åŠå†…å®¹é€šè¿‡ä¸Šé¢çš„somethingæ¥åé¦ˆå‡ºæ¥ã€‚å¯¹äºå°æ–‡ä»¶çš„å¤„ç†åº”è¯¥æ˜¯å¤Ÿäº†ã€‚</span><br><span class="line">    QFileDialog::getOpenFileContent(&quot;*&quot;, something);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="26è®¾ç½®è°ƒè¯•æ—¶çš„ç½‘é¡µæµè§ˆå™¨"><a class="markdownIt-Anchor" href="#26è®¾ç½®è°ƒè¯•æ—¶çš„ç½‘é¡µæµè§ˆå™¨"></a> 2.6.è®¾ç½®è°ƒè¯•æ—¶çš„ç½‘é¡µæµè§ˆå™¨</h3><p>è°ƒè¯•æ—¶é»˜è®¤ä¸ºieï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–æµè§ˆå™¨<br /><img src="38d20a83d791f253c1dd1d02a407b293.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />å‡å¦‚ä½ è¿™é‡Œçš„åˆ—è¡¨æœ‰ieä¸€ä¸ªï¼Œä½†æ˜¯å®é™…ä¸Šä½ å·²ç»è£…äº†å…¶ä»–æµè§ˆå™¨ï¼›é‚£ä¹ˆï¼Œä½ éœ€è¦åœ¨ç”µè„‘çš„ç¯å¢ƒå˜é‡pathä¸ŠåŠ ä¸Šä½ çš„æµè§ˆå™¨çš„è·¯å¾„ï¼Œç„¶åé‡å¯QtCreator<br /><img src="71ad7cec97d5a722d63563b10b12effd.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="27ç¼–è¯‘æ—¶æŠ¥ç©ºé—´å¤ªå°"><a class="markdownIt-Anchor" href="#27ç¼–è¯‘æ—¶æŠ¥ç©ºé—´å¤ªå°"></a> 2.7.ç¼–è¯‘æ—¶æŠ¥ç©ºé—´å¤ªå°</h3><p>wasm-ld: error: initial memory too small, 18222032 bytes needed<br /><a href="https://blog.csdn.net/z331719654/article/details/108476055">ã€è§£å†³ wasm-ld: error: initial memory too small, 18319040 bytes neededã€‘</a></p><blockquote><p>ä¿®æ”¹emsdk/upstream/emscripten/srcç›®å½•é‡Œé¢çš„settings.js<br />é‡Œé¢çš„ <strong>INITIAL_MEM</strong> æ—§ç‰ˆå« <strong>TOTAL_MEMORY</strong></p></blockquote><p><a href="https://blog.csdn.net/yyt593891927/article/details/107915522">æˆ–è€…åœ¨proæ–‡ä»¶ä¸­å¢åŠ </a></p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#å€¼ä¸º64KBçš„å€æ•°</span><br><span class="line">wasm:QMAKE_LFLAGS += -s \&quot;TOTAL_MEMORY=33554432\&quot;</span><br></pre></td></tr></table></figure><h3 id="28ç¼–è¯‘æ—¶æŠ¥-the-program-mingw32-makeexe-does-not-exist-or-is-not-executable"><a class="markdownIt-Anchor" href="#28ç¼–è¯‘æ—¶æŠ¥-the-program-mingw32-makeexe-does-not-exist-or-is-not-executable"></a> 2.8.ç¼–è¯‘æ—¶æŠ¥ The program â€œmingw32-make.exeâ€ does not exist or is not executable.</h3><p>å‚è€ƒ<a href="https://blog.51cto.com/u_15707179/5442738">ã€ QtCreatoræ— æ³•å¯åŠ¨è¿›ç¨‹â€œmingw32-make.exeã€‘</a><br />åˆ°projecté‡Œé¢çœ‹ï¼Œçš„ç¡®æ˜¯æ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªmingw32-make.exe.<br /><img src="9bb8621ee2a346a59f845a129a8ff949.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" />ok,ç”¨everythingæ¥æŸ¥çœ‹ä¸€ä¸‹ï¼Œè¿™ä¸ªä¸œè¥¿åœ¨å“ªé‡Œã€‚<br /><img src="f1c14904fb234a44bec47ec0b0a279e7.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" />æœ‰å¥½å‡ ä¸ªï¼Œä½†æˆ‘ç”¨çš„æ˜¯Qt5.15.2ç‰ˆæœ¬çš„ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©è¿™ä¸ªï¼šD:\Qt5.15\Tools\mingw810_64\bin\mingw32-make.exeã€‚<br />å°†è¿™ä¸ªï¼šD:\Qt5.15\Tools\mingw810_64\binè·¯å¾„åŠ åˆ°ç¯å¢ƒå˜é‡pathä¸­å»ã€‚<br /><img src="ce651117e9f74f4e80217529b8e66a6e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />é‡å¯ä¸€ä¸‹QtCreatorå°±å¥½äº†ã€‚</p><h3 id="29æ— æ³•æ˜¾ç¤ºsvgæ ¼å¼å›¾ç‰‡æŠ¥é”™è¯¯qrcxxxqml7011-qml-image-error-decoding-qrcxxxsvg-unsupported-image-format"><a class="markdownIt-Anchor" href="#29æ— æ³•æ˜¾ç¤ºsvgæ ¼å¼å›¾ç‰‡æŠ¥é”™è¯¯qrcxxxqml7011-qml-image-error-decoding-qrcxxxsvg-unsupported-image-format"></a> 2.9.æ— æ³•æ˜¾ç¤ºSVGæ ¼å¼å›¾ç‰‡ï¼ŒæŠ¥é”™è¯¯ï¼šqrc:/xxx.qml:70:11: QML Image: Error decoding: qrc:/xxx.svg: Unsupported image formatã€‚.</h3><p>åœ¨.proæ–‡ä»¶ä¸­æ·»åŠ ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QT += svg xml</span><br></pre></td></tr></table></figure><h3 id="210è·å–æœåŠ¡å™¨ipä¸é€‚ç”¨äºåŸŸåè®¿é—®çš„æ–¹å¼"><a class="markdownIt-Anchor" href="#210è·å–æœåŠ¡å™¨ipä¸é€‚ç”¨äºåŸŸåè®¿é—®çš„æ–¹å¼"></a> 2.10.è·å–æœåŠ¡å™¨IPï¼ˆä¸é€‚ç”¨äºåŸŸåè®¿é—®çš„æ–¹å¼ï¼‰</h3><p>å‚è€ƒï¼š<a href="https://stackoverflow.com/questions/65301559/getting-server-ip-within-wasm-application">ã€Getting server IP within wasm applicationã€‘</a></p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">#ifdef Q_OS_WASM</span><br><span class="line">#include &lt;emscripten.h&gt;</span><br><span class="line">#include &lt;emscripten/val.h&gt;</span><br><span class="line">#include &lt;emscripten/html5.h&gt;</span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line">// ---è¿™æ˜¯ç¬¬ä¸€ç§æ–¹å¼---</span><br><span class="line">void getServerInfo1()</span><br><span class="line">&#123;</span><br><span class="line">#ifdef Q_OS_WASM</span><br><span class="line">    emscripten::val location = emscripten::val::global(&quot;location&quot;);</span><br><span class="line">    auto host = QString::fromStdString(location[&quot;host&quot;].as&lt;std::string&gt;());</span><br><span class="line">    auto port = QString::fromStdString(location[&quot;port&quot;].as&lt;std::string&gt;());</span><br><span class="line">    qDebug() &lt;&lt; &quot;Server Host:&quot; &lt;&lt; host;</span><br><span class="line">    qDebug() &lt;&lt; &quot;Server Port:&quot; &lt;&lt; port;</span><br><span class="line">#endif</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ---è¿™æ˜¯ç¬¬äºŒç§æ–¹å¼---</span><br><span class="line">//è·å–æœåŠ¡å™¨çš„åœ°å€ã€ç«¯å£ä¹‹ç±»çš„ã€‚</span><br><span class="line">//è¿™ä¸ªEM_JSæ˜¯ç”¨æ¥å£°æ˜jså‡½æ•°çš„ï¼Œå£°æ˜ä¹‹åå°±å¯ä»¥ç›´æ¥åœ¨c++é‡Œé¢ç”¨äº†ã€‚</span><br><span class="line">EM_JS(const char*, getTitle, (), &#123;</span><br><span class="line">          var urlPath = window.document.location.href;</span><br><span class="line">          console.log(urlPath);</span><br><span class="line"></span><br><span class="line">          var jstring = urlPath;</span><br><span class="line"></span><br><span class="line">          var lengthBytes = lengthBytesUTF8(jstring)+1;</span><br><span class="line">          var stringOnWasmHeap = _malloc(lengthBytes);</span><br><span class="line">          stringToUTF8(jstring, stringOnWasmHeap, lengthBytes);</span><br><span class="line">          return stringOnWasmHeap;</span><br><span class="line">      &#125;)</span><br></pre></td></tr></table></figure><h3 id="211qt5152çš„webassemblyç‰ˆæœ¬ä¸æ”¯æŒå¤šçº¿ç¨‹"><a class="markdownIt-Anchor" href="#211qt5152çš„webassemblyç‰ˆæœ¬ä¸æ”¯æŒå¤šçº¿ç¨‹"></a> 2.11.Qt5.15.2çš„webAssemblyç‰ˆæœ¬ä¸æ”¯æŒå¤šçº¿ç¨‹</h3><p>å› ä¸ºä¸æ”¯æŒå¤šçº¿ç¨‹ï¼Œå› æ­¤æ— æ³•ä½¿ç”¨QEventLoopï¼Œå› ä¸ºä¸€æ—¦è°ƒç”¨QEventLoop::quit(),ç¨‹åºå°±ä¼šé€€å‡ºQtä¸»å¾ªç¯ã€‚<br /><a href="https://doc.qt.io/qt-5/wasm.html">ã€Qt for WebAssemblyå®˜ç½‘ä»‹ç»ã€‘</a><br /><a href="https://doc.qt.io/qt-5/qtwebassembly-platform-notes.html">ã€Qt WebAssembly Platform Notesã€‘</a><br /><img src="02567f1c78ea499a9d3958fb8676890f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>è€Œè¯•å›¾åŒæ­¥QNetwrokReplyçš„æ•°æ®è·å–ï¼Œä¹Ÿæ˜¯ä¸å¯èƒ½çš„ã€‚å“ªæ€•ä½ å¦‚æ­¤å¤„ç†ï¼Œæ•´ä¸ªç³»ç»Ÿè¿˜æ˜¯ä¼šå¡ä½ã€‚</p><pre><code>do&#123;qApp-&gt;processEvents(); // è¿™ä¸ªå‡½æ•°æ²¡æœ‰ç”Ÿæ•ˆ&#125;while(reply-&gt;isFinshed() == false)</code></pre><p>éš¾æã€‚<br />è²Œä¼¼qt6çš„webAssemblyç‰ˆæœ¬æ‰æ”¯æŒå¤šçº¿ç¨‹ï¼Œä½†æ˜¯æˆ‘çš„ä»£ç æ˜¯Qt5çš„ï¼ŒQt6åœ¨qmlä¸Šä¸Qt5å·®å¼‚æŒºå¤§ï¼Œæ‰€ä»¥æˆ‘æ¢ä¸äº†Qt6.<br /><img src="e3f14258807440ccba9bab4c12c41f08.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt6.6æ­å»ºWebAssembly</title>
      <link href="/2025/06/13/Qt/Qt6.6%E6%90%AD%E5%BB%BAWebAssembly/"/>
      <url>/2025/06/13/Qt/Qt6.6%E6%90%AD%E5%BB%BAWebAssembly/</url>
      
        <content type="html"><![CDATA[<p>1.é¦–å…ˆå®‰è£…python ï¼Œ é“¾æ¥ï¼šÂ <a href="https://www.python.org/">https://www.python.org/</a></p><p>2.ä¸‹è½½å¹¶å®‰è£…qt6.</p><p>3.å…‹éš†emsdkå·¥ç¨‹</p><p>3.1 è¿›å…¥emsdkç›®å½•ï¼Œç„¶åæ›´æ–°emsdkä»£ç </p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.webp" alt="Qt6.6æ­å»ºWebAssembly_ç¯å¢ƒé…ç½®" /></p><p>3.2 Â ä¸‹è½½å¹¶å®‰è£…æœ€æ–°çš„SDKå·¥å…·ã€‚ï¼ˆC:\Qt\emsdk&gt;emsdk install --global Â latestï¼‰</p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.1.webp" alt="Qt6.6æ­å»ºWebAssembly_qt webassembly_02" /></p><p>3.3 æ¿€æ´»ï¼šï¼ˆC:\Qt\emsdk&gt;emsdk activate latestï¼‰</p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.2.webp" alt="Qt6.6æ­å»ºWebAssembly_python_03" /></p><p>3.4é…ç½®ç¯å¢ƒå˜é‡ï¼ˆC:\Qt\emsdk&gt;emsdk_env.batï¼‰</p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.3.webp" alt="Qt6.6æ­å»ºWebAssembly_Qt_04" /></p><p>3.5æ£€æŸ¥æ˜¯å¦æˆåŠŸï¼šï¼ˆC:\Qt\emsdk&gt;em++ --versionï¼‰</p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.4.webp" alt="Qt6.6æ­å»ºWebAssembly_ç¯å¢ƒé…ç½®_05" /></p><p>4.ä»¥ä¸Šæ­¥éª¤å¦‚æœä¸å‡ºé”™çš„è¯ï¼Œæ‰“å¼€qtcreatorå°±å¯ä»¥çœ‹åˆ°è¯¥ç¯å¢ƒé…ç½®å¥½äº†ã€‚</p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.5.webp" alt="Qt6.6æ­å»ºWebAssembly_Qt_06" /></p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.6.webp" alt="Qt6.6æ­å»ºWebAssembly_qt webassembly_07" /></p><p>5.å‘å¸ƒä¸€ä¸ªåº”ç”¨æ¥çœ‹ä¸‹å§</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qtåœ¨çº¿å®‰è£…æ—¶å‡ºç°ç½‘ç»œé”™è¯¯çš„è§£å†³åŠæ³•(Windows)_qt å®‰è£…æ—¶ network error</title>
      <link href="/2025/06/13/Qt/Qt%E5%9C%A8%E7%BA%BF%E5%AE%89%E8%A3%85%E6%97%B6%E5%87%BA%E7%8E%B0%E7%BD%91%E7%BB%9C%E9%94%99%E8%AF%AF%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95(Windows)_qt%20%E5%AE%89%E8%A3%85%E6%97%B6%20network%20error/"/>
      <url>/2025/06/13/Qt/Qt%E5%9C%A8%E7%BA%BF%E5%AE%89%E8%A3%85%E6%97%B6%E5%87%BA%E7%8E%B0%E7%BD%91%E7%BB%9C%E9%94%99%E8%AF%AF%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95(Windows)_qt%20%E5%AE%89%E8%A3%85%E6%97%B6%20network%20error/</url>
      
        <content type="html"><![CDATA[<p>1. â€œwin+R&quot; æ‰“å¼€è¿è¡Œï¼›</p><p>2. è¾“å…¥â€CMDâ€œæ‰“å¼€å‘½ä»¤çª—å£</p><p>3. å°†Qtå®‰è£…åŒ…é¼ æ ‡æ‹–å…¥å‘½ä»¤çª—å£ ååŠ ç©ºæ ¼<br />ä¹Ÿå°±æ˜¯å®‰è£…åŒ…åç§°åŠ ç©ºæ ¼</p><p>4. è¾“å…¥ --mirror <a href="https://mirrors.aliyun.com/qt">https://mirrors.aliyun.com/qt</a> æŒ‰å›è½¦æ‰“å¼€</p><p>å¦‚æœé‡åˆ°å¤±æ•ˆä¸èµ·ä½œç”¨ï¼Œåˆ°æ¸…åç½‘æ›´æ–°ä¸€ä¸‹qtå®‰è£…åŒ…ï¼Œ<a href="https://mirrors.tuna.tsinghua.edu.cn/help/qt/">https://mirrors.tuna.tsinghua.edu.cn/help/qt/</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸‹è½½å®‰è£…Qt6æ—¶å»ºè®®å‹¾é€‰çš„ç»„ä»¶_qtå®‰è£…ç»„ä»¶é€‰å“ªå‡ ä¸ª</title>
      <link href="/2025/06/11/Qt/%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85Qt6%E6%97%B6%E5%BB%BA%E8%AE%AE%E5%8B%BE%E9%80%89%E7%9A%84%E7%BB%84%E4%BB%B6_qt%E5%AE%89%E8%A3%85%E7%BB%84%E4%BB%B6%E9%80%89%E5%93%AA%E5%87%A0%E4%B8%AA/"/>
      <url>/2025/06/11/Qt/%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85Qt6%E6%97%B6%E5%BB%BA%E8%AE%AE%E5%8B%BE%E9%80%89%E7%9A%84%E7%BB%84%E4%BB%B6_qt%E5%AE%89%E8%A3%85%E7%BB%84%E4%BB%B6%E9%80%89%E5%93%AA%E5%87%A0%E4%B8%AA/</url>
      
        <content type="html"><![CDATA[<p><img src="256b9719afbc41bb8b39ec3933f9caa1.png" alt="" /></p><p><img src="c936c0d8c602481e8d080f162c0cd7ec.png" alt="" /></p><p>å¦‚æœä½ æ˜¯ä¸€ä¸ªå¤§å­¦ç”Ÿå¹¶ä¸”åªæ˜¯æƒ³åšä¸ªå¸¦æœ‰ç•Œé¢çš„è¯¾è®¾ï¼ˆå¦‚xxç®¡ç†ç³»ç»Ÿã€xxä¸“å®¶ç³»ç»Ÿï¼‰ï¼Œå¹¶ä¸”ä½ ä¸‹è½½äº†vs2022ï¼Œå»ºè®®å‹¾é€‰ç»„ä»¶å¦‚å›¾ä¸€æ‰€ç¤ºï¼Œå…¶ä»–ä¿æŒé»˜è®¤ï¼ˆå¦‚å›¾äºŒæ‰€ç¤ºï¼‰ã€‚</p><p>é¦–å…ˆè¯´æ˜ï¼šå¦‚æœä½ ä»¥åè¦ç”¨åˆ°æŸä¸ªç»„ä»¶ä½†æ˜¯ä¸‹è½½æ—¶æ²¡æœ‰å‹¾é€‰ï¼Œè¿˜æ˜¯æœ‰æ–¹æ³•ä¸‹è½½çš„ï¼Œå…·ä½“æ–¹æ³•å¤§å®¶å¯ä»¥æŸ¥çœ‹å…¶ä»–åšå®¢ç­‰ã€‚</p><p>é¦–å…ˆé€‰ä¸€ä¸ªQtç‰ˆæœ¬ï¼Œå°±æ˜¯å›¾ä¸­Qté€‰é¡¹ä¸‹ä½ å¯ä»¥çœ‹åˆ°æœ‰å¾ˆå¤šç‰ˆæœ¬ï¼Œå¦‚å›¾ä¸€æ‰€ç¤ºï¼Œæˆ‘é€‰çš„æ˜¯Qt6.7.3ã€‚é€‰è¿™ä¸ªç‰ˆæœ¬çš„åŸå› æ˜¯é‡Œé¢çš„MSVC 2022 64-bitç»„ä»¶å¯ä»¥è®©æˆ‘åœ¨VS2022ä¸­ä½¿ç”¨Qtã€‚</p><p><strong>WebAssembly(single-threaded) / WebAssembly(multi-threaded)ï¼ˆç”¨ä¸åˆ°ä¸å‹¾é€‰ï¼‰</strong>ï¼š</p><p>è¿™äº›ç»„ä»¶æä¾›äº†å°†Qtåº”ç”¨ç¨‹åºç¼–è¯‘æˆWebAssemblyæ ¼å¼çš„æ”¯æŒï¼Œå…è®¸åœ¨Webæµè§ˆå™¨ä¸­è¿è¡ŒQtåº”ç”¨ç¨‹åºã€‚</p><p><strong>LLVM-MinGW 64-bitï¼ˆç”¨ä¸åˆ°ä¸å‹¾é€‰ï¼‰</strong>ï¼š</p><p>LLVM-MinGWæ˜¯ä¸€ä¸ªåŸºäºLLVMçš„GNUç¼–è¯‘å™¨é›†åˆï¼Œè¿™ä¸ªç»„ä»¶å…è®¸å¼€å‘è€…åœ¨Windowsä¸Šä½¿ç”¨MinGWç¼–è¯‘å™¨æ¥ç¼–è¯‘Qtåº”ç”¨ç¨‹åºã€‚</p><p><strong>MSVC2019 64-bit / MSVC2022 64-bitï¼ˆå‹¾é€‰ï¼‰</strong>ï¼š</p><p>è¿™äº›ç»„ä»¶æ˜¯æŒ‡ä¸ºMicrosoft Visual Studioç¼–è¯‘å™¨æä¾›çš„Qtç‰ˆæœ¬ï¼Œå®ƒä»¬å…è®¸å¼€å‘è€…åœ¨Visual Studioç¯å¢ƒä¸­ä½¿ç”¨Qtåº“æ¥æ„å»º64ä½åº”ç”¨ç¨‹åºã€‚2019å¯¹åº”VS2019, 2022å¯¹åº”VS2022ã€‚</p><p><strong>MinGW 11.2.0 64-bitï¼ˆå‹¾é€‰ï¼‰</strong>ï¼š</p><p>è¿™æ˜¯GNUç¼–è¯‘å™¨é›†åˆï¼ˆGCCï¼‰çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œç”¨äºåœ¨Windowsä¸Šç¼–è¯‘Qtåº”ç”¨ç¨‹åºã€‚</p><p><strong>Qt Quick 3Dï¼ˆç”¨ä¸åˆ°ä¸å‹¾é€‰ï¼‰</strong>ï¼š</p><p>Qt Quick 3Dæ˜¯ä¸€ä¸ªç”¨äº3Då›¾å½¢æ¸²æŸ“çš„æ¨¡å—ï¼Œå®ƒæä¾›äº†ä¸€å¥—æ˜“äºä½¿ç”¨çš„APIæ¥åˆ›å»º3Dåœºæ™¯å’ŒåŠ¨ç”»ã€‚</p><p><strong>Qt 5 Compatibility Moduleï¼ˆå‹¾é€‰ï¼‰</strong>ï¼š</p><p>è¿™ä¸ªæ¨¡å—æä¾›äº†ä»Qt 5åˆ°Qt 6çš„å…¼å®¹æ€§æ”¯æŒï¼Œå¸®åŠ©å¼€å‘è€…å¹³æ»‘è¿ç§»æ—§çš„Qt 5åº”ç”¨ç¨‹åºåˆ°Qt 6ã€‚</p><p><strong>Qt Shader Toolsï¼ˆç”¨ä¸åˆ°ä¸å‹¾é€‰ï¼‰</strong>ï¼š</p><p>è¿™äº›å·¥å…·ç”¨äºå¼€å‘å’Œè°ƒè¯•ç€è‰²å™¨ï¼Œå®ƒä»¬æ˜¯ç”¨äº3Då›¾å½¢ç¼–ç¨‹çš„ä¸€éƒ¨åˆ†ã€‚</p><p>**Additional Librariesï¼ˆçœ‹è‡ªå·±éœ€æ±‚ï¼Œé‡Œé¢çš„å¯é€‰å¯ä¸é€‰ï¼‰ï¼š**é™¤äº†Qtæ ¸å¿ƒåº“ä¹‹å¤–çš„å…¶ä»–åº“ï¼Œå¯èƒ½åŒ…æ‹¬ç¬¬ä¸‰æ–¹åº“å’Œæ’ä»¶ï¼Œç”¨äºæ‰©å±•Qtçš„åŠŸèƒ½ã€‚è¿™é‡Œé¢æœ‰éƒ¨åˆ†ä¸å¸¸ç”¨åˆ°å¯ä»¥ä¸å‹¾é€‰ï¼Œæˆ‘åªå‹¾é€‰äº†Qt Chartsã€Qt HTTP Serverã€Qt WebEngineã€Qt WebSocketsã€‚</p><p><strong>Androidï¼ˆç”¨ä¸åˆ°ä¸å‹¾é€‰ï¼‰</strong>ï¼š</p><p>è¿™ä¸ªç»„ä»¶æä¾›äº†åœ¨Androidå¹³å°ä¸Šå¼€å‘å’Œéƒ¨ç½²Qtåº”ç”¨ç¨‹åºçš„æ”¯æŒã€‚</p><p><strong>Sourcesï¼ˆå‹¾é€‰ï¼‰</strong>ï¼š</p><p>Qtåº“çš„æºä»£ç ï¼Œå…è®¸å¼€å‘è€…æŸ¥çœ‹å’Œä¿®æ”¹Qtçš„åº•å±‚ä»£ç ã€‚</p><p><strong>Qt Debug Information Filesï¼ˆç”¨ä¸åˆ°ä¸å‹¾é€‰ï¼‰</strong>ï¼š</p><p>Qt6è°ƒè¯•ä¿¡æ¯æ–‡ä»¶ã€‚</p><p><strong>Qt Quick Timelineï¼ˆç”¨ä¸åˆ°ä¸å‹¾é€‰ï¼‰ï¼š</strong></p><p>Qt Quick Timeline æ¨¡å—æ”¯æŒåŸºäºå…³é”®å¸§çš„åŠ¨ç”»å’Œå‚æ•°åŒ–ã€‚ å®ƒé‡‡ç”¨å·¥å…·å‹å¥½çš„æ–¹æ³•ï¼Œå› æ­¤å—åˆ° Qt Design Studio å’Œ Qt Quick Designer çš„ç›´æ¥æ”¯æŒï¼Œå…¶ä¸­åŒ…å«ç”¨äºåˆ›å»ºåŸºäºå…³é”®å¸§çš„åŠ¨ç”»çš„æ—¶é—´çº¿ç¼–è¾‘å™¨ã€‚</p><p>å…¶ä»–çš„ç»„ä»¶å¦‚å›¾æ‰€ç¤ºï¼Œä¿æŒé»˜è®¤å³å¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>qt for webassemblyç¯å¢ƒæ­å»ºå›¾æ–‡æ•™ç¨‹</title>
      <link href="/2025/06/11/Qt/qt%20for%20webassembly%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%9B%BE%E6%96%87%E6%95%99%E7%A8%8B/"/>
      <url>/2025/06/11/Qt/qt%20for%20webassembly%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%9B%BE%E6%96%87%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€-å‰è¨€"><a class="markdownIt-Anchor" href="#ä¸€-å‰è¨€"></a> ä¸€ã€å‰è¨€</h3><p>ä»Qt5.14å¼€å§‹ï¼Œå®˜æ–¹çš„åœ¨çº¿å®‰è£…æä¾›äº†qt for webassemblyæ„å»ºå¥—ä»¶ï¼Œè¿™å¯¹å¾ˆå¤šå°ç™½æ¥è¯´ç»å¯¹æ˜¯ä¸ªå¥½æ¶ˆæ¯ï¼Œä¹Ÿç»å¯¹æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œå¥½æ¶ˆæ¯æ˜¯ä¸ç”¨å†å»äº¤å‰ç¼–è¯‘è‡ªå·±ç”Ÿæˆqt for webassemblyçš„qtåº“ï¼Œåœ¨çº¿å®‰è£…ç‰ˆæœ¬ç›´æ¥å°±ç»™ä½ å®‰è£…å¥½ï¼Œå¾ˆå¤šå°ç™½å°±å›°åœ¨å¦‚ä½•äº¤å‰ç¼–è¯‘qt for webassemblyçš„qtåº“ä¸Šäº†ï¼Œç¯å¢ƒç®€ç›´æ˜¯å¼„å“­äº†ï¼Œæœ›è€Œå´æ­¥ï¼›å¥½ä¸œè¥¿æ˜¯ä½ å¯ä»¥ç›´æ¥å°†ä½ ç°æœ‰çš„qtç¨‹åºç›´æ¥ç¼–è¯‘æˆwasmæ–‡ä»¶ç„¶åç›´æ¥ç½‘é¡µè¿è¡Œï¼Œæ³¨æ„è¿™é‡Œä¸æ˜¯è¯´activexçš„å½¢å¼åœ¨IEä¸­è¿è¡Œï¼Œè€Œæ˜¯ç›´æ¥å„ç§æ”¯æŒwasmçš„æµè§ˆå™¨ä¸Šç›´æ¥è¿è¡Œï¼Œæ¯”å¦‚è°·æ­Œæµè§ˆå™¨ã€ç«ç‹æµè§ˆå™¨ã€edgeæµè§ˆå™¨ç­‰ï¼Œåæ­£ä¸»æµçš„æµè§ˆå™¨éƒ½æ”¯æŒï¼Œæ˜¯ä¸æ˜¯å¾ˆç‰›é€¼ï¼Œå¤§è‡´çš„åŸç†å°±æ˜¯å€ŸåŠ©emsdkä¸­çš„emscriptenç¼–è¯‘å™¨å°†qtçš„ç¨‹åºç›´æ¥é™æ€ç¼–è¯‘ç”Ÿæˆwasmæ–‡ä»¶ï¼Œç„¶ååŒæ—¶ç”Ÿæˆå¯¹åº”çš„jsæ–‡ä»¶å’Œhtmlæ–‡ä»¶ï¼Œjsæ–‡ä»¶è´Ÿè´£åŠ è½½wasmæ–‡ä»¶è¿›è¡Œç¼–è¯‘ä½¿ç”¨canvsç»˜åˆ¶ç¨‹åºã€‚ç†è®ºä¸Šc++ç¨‹åºæ‰§è¡Œæ•ˆç‡è¦æ¯”jsé«˜ï¼Œä¸ªäººä½“éªŒä¸‹æ¥ä¹Ÿæ˜¯æ•ˆç‡è›®é«˜ï¼Œæœ€æ¿€åŠ¨çš„å°±æ˜¯ä¸€è¡Œä»£ç ä¸ç”¨ä¿®æ”¹ï¼Œç›´æ¥å°±å¯ä»¥ç¼–è¯‘æˆç½‘é¡µç¨‹åºã€‚</p><p>WebAssemblyä»‹ç»ï¼š</p><ul><li>WebAssemblyæ˜¯ä¸€ç§å¯ä»¥ä½¿ç”¨éJavaScriptç¼–ç¨‹è¯­è¨€ç¼–å†™ä»£ç å¹¶ä¸”èƒ½åœ¨æµè§ˆå™¨ä¸Šè¿è¡Œçš„æŠ€æœ¯æ–¹æ¡ˆã€‚</li><li>WebAssemblyæœ‰ä¸€å¥—å®Œæ•´çš„è¯­ä¹‰ï¼Œå®é™…ä¸Šwasmæ˜¯ä½“ç§¯å°ä¸”åŠ è½½å¿«çš„äºŒè¿›åˆ¶æ ¼å¼ï¼Œå…¶ç›®æ ‡å°±æ˜¯å……åˆ†å‘æŒ¥ç¡¬ä»¶èƒ½åŠ›ä»¥è¾¾åˆ°åŸç”Ÿæ‰§è¡Œæ•ˆç‡ã€‚</li><li>WebAssemblyè¿è¡Œåœ¨ä¸€ä¸ªæ²™ç®±åŒ–çš„æ‰§è¡Œç¯å¢ƒä¸­ï¼Œç”šè‡³å¯ä»¥åœ¨ç°æœ‰çš„JavaScriptè™šæ‹Ÿæœºä¸­å®ç°ã€‚åœ¨webç¯å¢ƒä¸­ï¼ŒWebAssemblyå°†ä¼šä¸¥æ ¼éµå®ˆåŒæºç­–ç•¥ä»¥åŠæµè§ˆå™¨å®‰å…¨ç­–ç•¥ã€‚</li><li>WebAssemblyè®¾è®¡äº†ä¸€ä¸ªéå¸¸è§„æ•´çš„æ–‡æœ¬æ ¼å¼ç”¨æ¥ã€è°ƒè¯•ã€æµ‹è¯•ã€å®éªŒã€ä¼˜åŒ–ã€å­¦ä¹ ã€æ•™å­¦æˆ–è€…ç¼–å†™ç¨‹åºã€‚å¯ä»¥ä»¥è¿™ç§æ–‡æœ¬æ ¼å¼åœ¨webé¡µé¢ä¸ŠæŸ¥çœ‹wasmæ¨¡å—çš„æºç ã€‚</li><li>WebAssemblyåœ¨webä¸­è¢«è®¾è®¡æˆæ— ç‰ˆæœ¬ã€ç‰¹æ€§å¯æµ‹è¯•ã€å‘åå…¼å®¹çš„ã€‚WebAssemblyå¯ä»¥è¢«JavaScriptè°ƒç”¨ï¼Œè¿›å…¥JavaScriptä¸Šä¸‹æ–‡ï¼Œä¹Ÿå¯ä»¥åƒWebAPIä¸€æ ·è°ƒç”¨æµè§ˆå™¨çš„åŠŸèƒ½ã€‚å½“ç„¶ï¼ŒWebAssemblyä¸ä»…å¯ä»¥è¿è¡Œåœ¨æµè§ˆå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥è¿è¡Œåœ¨éwebç¯å¢ƒä¸‹ã€‚</li></ul><ol><li>qt+widgetç¼–è¯‘çš„ç¨‹åºç½‘é¡µåœ°å€ï¼š<br /><a href="https://feiyangqingyun.gitee.io/qwidgetdemo/">https://feiyangqingyun.gitee.io/qwidgetdemo/</a></li><li>qt+quickç¼–è¯‘çš„ç¨‹åºç½‘é¡µåœ°å€ï¼š<br /><a href="https://feiyangqingyun.gitee.io/qwidgetdemo/gallery.html">https://feiyangqingyun.gitee.io/qwidgetdemo/gallery.html</a></li><li>WebAssemblyä¸­æ–‡ç½‘<br /><a href="https://www.wasm.com.cn/">https://www.wasm.com.cn/</a></li><li>qt for webassemblyå®˜ç½‘ä»‹ç»<br /><a href="https://doc.qt.io/qt-5/wasm.html">https://doc.qt.io/qt-5/wasm.html</a></li></ol><p>æ–°ç‰ˆçš„qtcreatoråªè¦æŒ‡å®šä¸‹emsdkçš„ç›®å½•å³å¯ï¼Œæ›´ç®€å•ã€‚</p><ol><li>ä¸‹è½½å¥½ <a href="https://github.com/emscripten-core/emsdk">https://github.com/emscripten-core/emsdk</a></li><li>è§£å‹å‡ºç›®å½• emsdk-mainï¼Œè¿›å…¥cmdæ‰§è¡Œ<br />emsdk install 1.39.8 æˆ–è€… 2.0.14 æˆ–è€… latest<br />emsdk activate 1.39.8<br />emsdk activate --embedded 1.39.8 æˆ–è€…å¯¹åº”ç‰ˆæœ¬<br />æ‰§è¡Œ em++ --version æŸ¥çœ‹ç‰ˆæœ¬ã€‚</li><li>qtcreator è®¾å¤‡ webassembly é€‰æ‹© emsdk-main ç›®å½•ï¼Œè‡ªåŠ¨è¯†åˆ«ã€‚å¦‚æœæœ‰å¤šä¸ªQtç‰ˆæœ¬ä¸åŒéœ€è¦ï¼ŒåŠ¨æ€åˆ‡æ¢è¿™ä¸ªç›®å½•å³å¯ã€‚æ¯”å¦‚Qt5.15å¯¹åº”é€‰æ‹©1.39.8ï¼ŒQt6.2é€‰æ‹©2.0.14ã€‚</li><li>åˆ‡æ¢åˆ°æ„å»ºå¥—ä»¶çœ‹ä¸‹æ˜¯å¦æ­£å¸¸ã€‚<br /><img src="c8ff0970027de9631f9f769b973facbf.jpg" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></li></ol><h3 id="äºŒ-æ­å»ºæ­¥éª¤"><a class="markdownIt-Anchor" href="#äºŒ-æ­å»ºæ­¥éª¤"></a> äºŒã€æ­å»ºæ­¥éª¤</h3><h4 id="ä¸€-å®‰è£…qté›†æˆå¼€å‘ç¯å¢ƒ"><a class="markdownIt-Anchor" href="#ä¸€-å®‰è£…qté›†æˆå¼€å‘ç¯å¢ƒ"></a> ï¼ˆä¸€ï¼‰ã€å®‰è£…Qté›†æˆå¼€å‘ç¯å¢ƒ</h4><p>ä»Qt5.15å¼€å§‹å®˜æ–¹ä¸å†æä¾›ç¦»çº¿å®‰è£…åŒ…ï¼Œåªæä¾›æºç åŒ…è‡ªè¡Œç¼–è¯‘æˆ–è€…åœ¨çº¿å®‰è£…ï¼Œåœ¨çº¿å®‰è£…çš„æ—¶å€™éœ€è¦è¾“å…¥è´¦å·ä¿¡æ¯ç™»å½•æ‰èƒ½åœ¨çº¿ä¸‹è½½é€‰æ‹©çš„Qtç‰ˆæœ¬å’Œæ„å»ºå¥—ä»¶åŠå…¶ä»–å·¥å…·ï¼Œæ…¢æ…¢çš„å„ä½Qtå¼€å‘è€…è¦ä¹ æƒ¯è¿™ç§æ–¹å¼ï¼Œè¦ä¹ˆè‡ªå·±ç†Ÿæ‚‰ç¼–è¯‘æµç¨‹è‡ªè¡Œç¼–è¯‘ï¼Œå¯¹åº”å¤§éƒ¨åˆ†åˆå­¦è€…æ¥è¯´ä¸€ä¸ªæ˜¯æ²¡æœ‰è¿™ä¸ªå¿…è¦è¿˜ä¸€ä¸ªæ˜¯å¤ªéš¾äº†ï¼Œå»ºè®®æ”¾å¼ƒè¿™ç§æ–¹å¼ï¼Œæ‰€ä»¥ä»ç°åœ¨å¼€å§‹å°±æ…¢æ…¢çš„è¦ä¹ æƒ¯åœ¨çº¿å®‰è£…æ–¹å¼ï¼Œå®˜æ–¹æä¾›äº†åœ¨çº¿å®‰è£…çš„ç¨‹åºï¼ŒåŒå‡»å³å¯è¿è¡Œï¼Œç›¸ä¿¡90%çš„Qtå¼€å‘è€…éƒ½ä½¿ç”¨è¿‡ï¼Œè¿™é‡Œç›´æ¥ç•¥è¿‡ï¼Œåªéœ€è¦åœ¨é€‰æ‹©å®‰è£…çš„æ„å»ºå¥—ä»¶çš„æ—¶å€™è®°å¾—å‹¾é€‰WebAssemblyæ„å»ºå¥—ä»¶å°±è¡Œï¼Œè¿™æ ·å·²ç»å¾ˆæ–¹ä¾¿äº†ï¼Œä¹‹å‰éƒ½æ˜¯éœ€è¦è‡ªå·±ç¼–è¯‘å‘¢ã€‚<br /><img src="35ef26733713300472c3c45204b1f590.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>å®‰è£…å¥½ä»¥åå¦‚æœå‹¾é€‰äº†mingwç‰ˆæœ¬çš„Qtæ„å»ºå¥—ä»¶ï¼Œåˆ™å¯ä»¥è‡ªè¡Œæµ‹è¯•helloè·‘èµ·æ¥ï¼ŒåŒæ—¶ä½ ä¹Ÿä¼šå‘ç°qt for webassemblyè¿™ä¸ªæ„å»ºæ¡ä»¶æ˜¯ä¸å¯ç”¨çš„ï¼Œåˆ«æ€¥ï¼Œé‚£æ˜¯å› ä¸ºç°åœ¨ä½ åªå®‰è£…äº†qt for webassemblyçš„qtçš„åº“ï¼Œè€Œå¹¶æ²¡æœ‰æ‰¾åˆ°éœ€è¦çš„ç¼–è¯‘å™¨emscriptenã€‚<br /><img src="e235e61b093de3ec1574c0995cbbf3cf.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="äºŒ-å®‰è£…emsdkç¼–è¯‘å™¨"><a class="markdownIt-Anchor" href="#äºŒ-å®‰è£…emsdkç¼–è¯‘å™¨"></a> ï¼ˆäºŒï¼‰ã€å®‰è£…emsdkç¼–è¯‘å™¨</h4><p>ä»»ä½•ç¼–ç¨‹è¯­è¨€å¼€å‘ç¯å¢ƒï¼Œéƒ½ç¦»ä¸å¼€ç¼–è¯‘å™¨ï¼Œéœ€è¦ç”¨å¯¹åº”çš„ç¼–è¯‘å™¨å°†ä»£ç ç¼–è¯‘æˆå¯¹åº”çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼ŒQtæ˜¯ä¸€ä¸ªå…¼å®¹äº†Nç§ç¼–è¯‘å™¨çš„é€šç”¨ä»£ç åº“ï¼Œä½ ä½¿ç”¨ä½•ç§ç¼–è¯‘å™¨åˆ™è°ƒç”¨å¯¹åº”çš„Qtåº“ç„¶åå†ç¼–è¯‘ç”Ÿæˆå¯¹åº”çš„ç¨‹åºï¼Œqt for webassemblyå°±éœ€è¦å€ŸåŠ©emsdkä¸­çš„ç¼–è¯‘å™¨emscriptenæ¥ç¼–è¯‘ï¼Œè€Œä¸æ˜¯ä½¿ç”¨msvcã€mingwã€gccç­‰ï¼Œæ‰€ä»¥éœ€è¦å•ç‹¬å®‰è£…emsdkç¼–è¯‘å™¨ã€‚</p><h5 id="1-å¸¸è§„å®‰è£…åŠæ³•"><a class="markdownIt-Anchor" href="#1-å¸¸è§„å®‰è£…åŠæ³•"></a> 1ã€å¸¸è§„å®‰è£…åŠæ³•</h5><ul><li>å‰æï¼šç”µè„‘å®‰è£…æœ‰gitç¯å¢ƒï¼Œèƒ½ä»githubä¸‹è½½é¡¹ç›®ï¼Œå®‰è£…æœ‰pythonç¯å¢ƒï¼Œæ¯”å¦‚python3.7.4ï¼Œå¦‚æœä¸ä¼šç©gitå‘½ä»¤è¡Œè¯·è‡ªè¡Œç™¾åº¦ã€‚</li><li>ç¬¬ä¸€æ­¥ï¼šåŒå‡»python-3.7.4-amd64.exeï¼Œå®‰è£…pythonå¼€å‘ç¯å¢ƒï¼Œè®°å¾—å‹¾é€‰æ·»åŠ ç¯å¢ƒå˜é‡ã€‚</li><li>ç¬¬äºŒæ­¥ï¼šè·å–æºç ï¼Œæ‰“å¼€gitå‘½ä»¤è¡Œå·¥å…·ï¼Œè¾“å…¥ git clone <a href="https://github.com/emscripten-core/emsdk.git">https://github.com/emscripten-core/emsdk.git</a> ï¼Œç­‰å¾…ä¸‹è½½å®Œæˆï¼Œä¸€èˆ¬1-2åˆ†é’Ÿå°±ä¸‹è½½å®Œæˆã€‚</li><li>ç¬¬ä¸‰æ­¥ï¼šæ‰“å¼€cmdå·¥å…·ï¼Œè¿›å…¥åˆ°emsdkç›®å½•ï¼Œæ‰§è¡Œ emsdk install 1.39.7 å®‰è£…emsdkç¼–è¯‘å™¨ï¼ˆQt5.15å¯¹åº”çš„æ˜¯1.39.7ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯1.39.8ï¼Œä¹‹å‰ä¸‹è½½çš„1.39.8ç”¨ä¸‹æ¥æ¯æ¬¡ç¼–è¯‘éƒ½æœ‰è­¦å‘Šæç¤ºç‰ˆæœ¬ä¸ä¸€è‡´è¯´æ˜¯è¦1.39.7ï¼‰ã€‚è¿™ä¸ªä¸‹è½½éœ€è¦ç‚¹æ—¶é—´è¯·è€å¿ƒç­‰å¾…ï¼Œæˆ‘ç”µè„‘å¤§æ¦‚13åˆ†é’Ÿï¼Œå…·ä½“çœ‹ç½‘é€Ÿã€‚</li><li>ç¬¬å››æ­¥ï¼šå®‰è£…å®Œæˆåç»§ç»­åœ¨å½“å‰çš„cmdå‘½ä»¤è¡Œçª—å£æ‰§è¡Œ emsdk activate --embedded 1.39.7 æ¿€æ´»sdkã€‚</li><li>ç¬¬äº”æ­¥ï¼šæ¿€æ´»æˆåŠŸä»¥åï¼Œå°†emsdkç›®å½•ä¸‹çš„.emscriptenæ–‡ä»¶å¤åˆ¶åˆ°C:\Users\Administratorç›®å½•ä¸‹ï¼ˆå³ç”¨æˆ·ç›®å½•ï¼‰ï¼ŒQt for webassæ„å»ºå¥—ä»¶ç¼–è¯‘çš„æ—¶å€™ä¼šå»è¿™é‡Œæ‰¾ç¼–è¯‘å™¨å’Œå„ç§ç¼–è¯‘éœ€è¦çš„å˜é‡ã€‚</li><li>ç¬¬å…­æ­¥ï¼šç”¨è®°äº‹æœ¬æ‰“å¼€.emscriptenï¼Œå°† emsdk_path = os.path.dirname(os.environ.get(â€˜EM_CONFIGâ€™)).replace(â€˜\â€™, â€˜/â€™) æ”¹æˆemsdkç›®å½•çš„ç»å¯¹è·¯å¾„ï¼Œæ¯”å¦‚ emsdk_path = â€˜H:/github/emsdkâ€™ï¼Œå¦‚æœè¿è¡Œæœ‰é—®é¢˜åˆ™å…¨éƒ¨æ”¹æˆç»å¯¹è·¯å¾„ã€‚</li><li>ç¬¬ä¸ƒæ­¥ï¼šæ‰“å¼€QtCreatorï¼Œé…ç½®Qt for WebAssemblyæ„å»ºå¥—ä»¶ï¼Œæ­¤æ—¶å¯ä»¥çœ‹åˆ°ç¼–è¯‘å™¨ä¸­èƒ½å¤Ÿè¯†åˆ«åˆ°æ‰€éœ€çš„emç¼–è¯‘å™¨ã€‚</li><li>ç¬¬å…«æ­¥ï¼šç¼–è¯‘å¥½ä»¥åå¦‚æœå¼¹å‡ºçš„æ˜¯IEæµè§ˆå™¨åˆ™å¤åˆ¶åœ°å€æ‹·è´åˆ°è°·æ­Œæµè§ˆå™¨æˆ–è€…edgeæˆ–è€…ç«ç‹æµè§ˆå™¨è¿è¡Œï¼Œç›®å‰IEæµè§ˆå™¨ä¸æ”¯æŒWebAssemblyã€‚</li><li>ç¬¬ä¹æ­¥ï¼šé»˜è®¤é‡‡ç”¨çš„æ˜¯é™æ€ç¼–è¯‘ï¼Œæ„å‘³ç€å¯ä»¥è„±ç¦»Qtç¯å¢ƒè¿è¡Œï¼Œ.wasmæ–‡ä»¶æ¯”è¾ƒå¤§å› ä¸ºé™æ€é›†æˆäº†Qtçš„è¿è¡Œåº“ã€‚é™¤äº†ç¼–è¯‘è¿è¡Œä»¥å¤–ï¼Œè¿˜å¯ä»¥ç›´æ¥å‘å¸ƒåˆ°æœ‰ngixæˆ–è€…apcheç¯å¢ƒçš„ç«™ç‚¹ï¼Œç›´æ¥å¯ä»¥è¿è¡Œã€‚ä»–å°±ç±»ä¼¼äºPHPéœ€è¦ç«™ç‚¹ç¯å¢ƒæ”¯æŒæ‰èƒ½è¿è¡Œã€‚</li></ul><h5 id="2-å°ç™½æ‡’äººåŠæ³•"><a class="markdownIt-Anchor" href="#2-å°ç™½æ‡’äººåŠæ³•"></a> 2ã€å°ç™½æ‡’äººåŠæ³•</h5><p>å¸¸è§„çš„åŠæ³•æ˜¯ä¸‡èƒ½çš„ï¼ŒåŒ…æ‹¬é€‰ç”¨å…¶ä»–ç‰ˆæœ¬çš„ç¼–è¯‘å™¨ç­‰ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†çš„åˆå­¦è€…å…¶å®è¿˜æ²¡æœ‰gitç¯å¢ƒå’Œpythonç¯å¢ƒå‘¢ï¼Œæ€ç ´ï¼Œæ­¤æ—¶éå¸¸æƒ³ä½“éªŒä¸€æŠŠå°†qtç¨‹åºç¼–è¯‘åˆ°ç½‘é¡µè¿è¡Œçš„æƒ³æ³•è¶…çº§å¼ºçƒˆï¼Œé©¬ä¸Šå®‰æ’æ‡’äººåŠæ³•ï¼Œæ³¨æ„æ­¤åŠæ³•é’ˆå¯¹çš„æ˜¯Qt5.15.2ç‰ˆæœ¬ï¼Œæœ¬äººç‰¹æ„å°†ä¸‹è½½å¥½çš„ç¼–è¯‘å™¨æ•´ä¸ªæ–‡ä»¶å¤¹ä¸­å„ç§æ— å…³çš„æ–‡ä»¶å…¨éƒ¨åˆ é™¤ã€‚<br />emsdkåœ°å€ï¼š<a href="https://pan.baidu.com/s/1ZxG-oyUKe286LPMPxOrO2A">https://pan.baidu.com/s/1ZxG-oyUKe286LPMPxOrO2A</a> æå–ç ï¼šo05q åç§°ï¼šemsdk.zip</p><ul><li><p>ç¬¬ä¸€æ­¥ï¼šå°†ä¸‹è½½å¥½çš„emsdkå‹ç¼©åŒ…è§£å‹åˆ°ç›®å½•ï¼Œä¸ºäº†æ–¹ä¾¿ç»Ÿä¸€ç®¡ç†ï¼Œæˆ‘è¿™é‡Œæ”¾åœ¨C:/Qtã€‚<br /><img src="5755f01d8751bb9750f10410950d1a5c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>ç¬¬äºŒæ­¥ï¼šå°†emsdkç›®å½•ä¸‹çš„.emscriptenæ–‡ä»¶å¤åˆ¶åˆ°C:\Users\Administratorç›®å½•ä¸‹ï¼ˆå³ç”¨æˆ·ç›®å½•ï¼‰ï¼ŒQt for webassæ„å»ºå¥—ä»¶ç¼–è¯‘çš„æ—¶å€™ä¼šå»è¿™é‡Œæ‰¾ç¼–è¯‘å™¨å’Œå„ç§ç¼–è¯‘éœ€è¦çš„å˜é‡ã€‚</p></li><li><p>ç¬¬ä¸‰æ­¥ï¼šé»˜è®¤.emscriptenæ–‡ä»¶ä¸­å¡«å†™çš„æ˜¯æˆ‘è¿™è¾¹å®‰è£…çš„ç›®å½•ï¼Œä½ å¯ä»¥ç”¨è®°äº‹æœ¬æ‰“å¼€è¿›è¡Œç¼–è¾‘æ”¹æˆä½ çš„ç›®å½•ã€‚</p></li><li><p>ç¬¬å››æ­¥ï¼šé‡æ–°æ‰“å¼€QtCreatorï¼Œåˆ‡æ¢åˆ°å·¥å…·-é€‰é¡¹-kitsï¼Œé‡æ–°è®¾ç½®Qt5.15.2 webassemlyçš„ç¼–è¯‘å™¨ï¼Œä¸‹æ‹‰é€‰æ‹©Emscripten Compilerã€‚<br /><img src="a6f0c7e2fac038cf879212dff3061797.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="f6b10cf131bccc52a8f41c08fc6cf713.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>ç¬¬äº”æ­¥ï¼šæ–°å»ºä¸ªé¡¹ç›®ï¼Œæ‹–å‡ ä¸ªæ§ä»¶æ”¾ç•Œé¢ï¼Œç¼–è¯‘å¤§æ¦‚ä¸€åˆ†é’Ÿå·¦å³ï¼Œç”±äºæ˜¯é™æ€ç¼–è¯‘æ—¶é—´ä¼šä¹…ä¸€ç‚¹ï¼Œæ­¤æ—¶ä¼šç”Ÿæˆäº”ä¸ªæ–‡ä»¶ï¼Œå…¶ä¸­qtloader.jså’Œqtlogo.svgæ¯ä¸ªé¡¹ç›®æ˜¯ä¸€æ ·çš„ï¼Œä¸åŒçš„æ–‡ä»¶æ˜¯untitled.jsã€untitled.htmlã€untitled.wasmã€‚éœ€è¦å‘å¸ƒçš„è¯åªéœ€è¦å°†è¿™5ä¸ªæ–‡ä»¶æ‹·è´åˆ°ç½‘ç«™çš„WWWç›®å½•ä¸‹å°±è¡Œã€‚<br /><img src="df777a989bfbed1bb76b4f15a5c9db41.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>ç¬¬å…­æ­¥ï¼šç¼–è¯‘å®Œæˆä»¥åä¼šè‡ªåŠ¨æ‰“å¼€ç”µè„‘é»˜è®¤æµè§ˆå™¨æ¯”å¦‚IEæµè§ˆå™¨ï¼Œå› ä¸ºIEæµè§ˆå™¨ä¸æ”¯æŒwasmï¼Œæ‰€ä»¥ä½ éœ€è¦å°†åœ°å€å¤åˆ¶æ‹·è´åˆ°edgeæˆ–è€…è°·æ­Œç«ç‹ç­‰æµè§ˆå™¨è¿è¡Œã€‚<br /><img src="c3dae974121ca1b7d2475730a8b562f6.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="3704bb133f3134698fc4be9eb0122f9b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>ç¬¬ä¸ƒæ­¥ï¼šå¦‚æœè¦æ”¯æŒä¸­æ–‡åˆ™éœ€è¦å°†ä¸­æ–‡å­—ä½“æ–‡ä»¶æ·»åŠ åˆ°é¡¹ç›®çš„èµ„æºæ–‡ä»¶ä¸€èµ·ç¼–è¯‘ã€‚</p></li><li><p>å…¶ä»–è¯´æ˜ï¼šé¦–æ¬¡åŠ è½½æ¯”è¾ƒæ…¢ï¼Œåé¢ç”±äºæœ‰ç¼“å­˜çš„åŸå› é‡æ–°åŠ è½½éå¸¸å¿«ï¼Œå»ºè®®å‘å¸ƒçš„æ—¶å€™å¯ä»¥æ”¾ä¸€ä¸ªå¸¦å®½å¾ˆå¥½çš„æœåŠ¡å™¨ã€‚</p></li></ul><h4 id="ä¸‰-æ”¯æŒçš„æ¨¡å—"><a class="markdownIt-Anchor" href="#ä¸‰-æ”¯æŒçš„æ¨¡å—"></a> ï¼ˆä¸‰ï¼‰ã€æ”¯æŒçš„æ¨¡å—</h4><p>ç›®å‰qt for webassemblyå¥—ä»¶ä¸æ˜¯æ”¯æŒæ‰€æœ‰çš„æ¨¡å—ï¼Œæ¯”å¦‚å¸¸è§çš„sqlæ•°æ®åº“æ¨¡å—å°±ä¸æ”¯æŒï¼Œä¼°è®¡ç°åœ¨wasmè¿˜æ˜¯å®šä½åœ¨å®¢æˆ·ç«¯çš„åŸå› å§ï¼Œnetworkä¸­çš„tcp udpä¹Ÿä¸æ”¯æŒï¼Œå¥½æ¶ˆæ¯æ˜¯websocket clientæ˜¯æ”¯æŒçš„ï¼Œä¹Ÿå°±æ„å‘³ç€ä½ å¯ä»¥å†™ä¸ªwebsocketçš„serverç«¯è´Ÿè´£ç›‘å¬å’Œè§£æï¼Œwebç«¯ç›´æ¥websocketé€šä¿¡äº¤äº’ï¼Œæ¯”å¦‚ä¼ è¾“è§†é¢‘æ•°æ®ï¼Œè¿™ä¸å°±æ˜¯ç½‘é¡µä¸­æ˜¾ç¤ºå®æ—¶è§†é¢‘äº†ï¼äº²æµ‹æ— è¯¯ã€‚</p><ul><li>Qt5Charts</li><li>Qt5Core</li><li>Qt5Gui</li><li>Qt5Quick</li><li>Qt5Svg</li><li>Qt5WebSockets</li><li>Qt5Widgets</li><li>Qt5QuickControls2</li><li>å…¶ä»–éƒ¨åˆ†æ¨¡å—</li></ul><h3 id="ä¸‰-æ•ˆæœå›¾"><a class="markdownIt-Anchor" href="#ä¸‰-æ•ˆæœå›¾"></a> ä¸‰ã€æ•ˆæœå›¾</h3><p><img src="fae11ead2805993a5af92e7eec059125.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="4cb0cc0ead48fd74b379e06e6d0bb594.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="0214abded752d4e10a7a63763562a34b.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>Qt çš„æ¯ä¸ªæ¬¡ç‰ˆæœ¬éƒ½ä»¥ç‰¹å®šçš„ Emscripten ç‰ˆæœ¬ä¸ºç›®æ ‡ï¼Œè¯¥ç‰ˆæœ¬åœ¨è¡¥ä¸å‘å¸ƒæ—¶ä¿æŒä¸å˜ã€‚Qt çš„äºŒè¿›åˆ¶åŒ…ä½¿ç”¨ç›®æ ‡ Emscripten ç‰ˆæœ¬æ„å»ºã€‚åº”ç”¨ç¨‹åºåº”ä½¿ç”¨ç›¸åŒçš„ç‰ˆæœ¬ï¼Œå› ä¸º Emscripten å¹¶ä¸ä¿è¯ä¸åŒç‰ˆæœ¬ä¹‹é—´çš„ABI å…¼å®¹æ€§ã€‚</p><p>Emscripten ç‰ˆæœ¬å¦‚ä¸‹:</p><p>Qt 6.2: 2.0.14<br />Qt 6.3: 3.0.0<br />Qt 6.4: 3.1.14<br />Qt 6.5: 3.1.25<br />Qt 6.6: 3.1.37<br />Qt 6.7: 3.1.503.1.50<br />Qt 6.8: 3.1.56<br />Qt 6.9: 3.1.70</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt5.15.2å®ç°Qt for WebAssemblyä¸ç¤ºä¾‹</title>
      <link href="/2025/06/11/Qt/Qt5.15.2%E5%AE%9E%E7%8E%B0Qt%20for%20WebAssembly%E4%B8%8E%E7%A4%BA%E4%BE%8B/"/>
      <url>/2025/06/11/Qt/Qt5.15.2%E5%AE%9E%E7%8E%B0Qt%20for%20WebAssembly%E4%B8%8E%E7%A4%BA%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<h3 id="1ä»€ä¹ˆæ˜¯qt-for-webassembly"><a class="markdownIt-Anchor" href="#1ä»€ä¹ˆæ˜¯qt-for-webassembly"></a> <strong>1.ä»€ä¹ˆæ˜¯Qt for WebAssemblyï¼Ÿ</strong></h3><p><strong>Qt for WebAssembly</strong>Â æ˜¯ Qt æ¡†æ¶çš„ä¸€ä¸ªæ¨¡å—ï¼Œå®ƒå…è®¸å¼€å‘è€…å°† Qt åº”ç”¨ç¨‹åºç¼–è¯‘ä¸º WebAssemblyï¼ˆWasmï¼‰æ ¼å¼ï¼Œä»è€Œå¯ä»¥åœ¨ç°ä»£ Web æµè§ˆå™¨ä¸­è¿è¡Œã€‚WebAssembly æ˜¯ä¸€ç§ä½çº§çš„äºŒè¿›åˆ¶æŒ‡ä»¤æ ¼å¼ï¼Œæ—¨åœ¨ä¸º Web æä¾›é«˜æ€§èƒ½çš„æ‰§è¡Œç¯å¢ƒã€‚é€šè¿‡ Qt for WebAssemblyï¼Œå¼€å‘è€…å¯ä»¥ä½¿ç”¨ Qt çš„å¼ºå¤§åŠŸèƒ½ï¼ˆå¦‚ GUIã€ç½‘ç»œã€æ–‡ä»¶ç³»ç»Ÿç­‰ï¼‰æ¥æ„å»ºè·¨å¹³å°çš„ Web åº”ç”¨ç¨‹åºã€‚</p><h4 id="11-ä»€ä¹ˆæ˜¯-webassembly"><a class="markdownIt-Anchor" href="#11-ä»€ä¹ˆæ˜¯-webassembly"></a> 1.1 ä»€ä¹ˆæ˜¯ WebAssemblyï¼Ÿ</h4><ul><li><p><strong>WebAssemblyï¼ˆWasmï¼‰</strong>Â æ˜¯ä¸€ç§åŸºäºå †æ ˆçš„è™šæ‹Ÿæœºçš„äºŒè¿›åˆ¶æŒ‡ä»¤æ ¼å¼ï¼Œæ—¨åœ¨ä¸º Web æä¾›é«˜æ€§èƒ½çš„æ‰§è¡Œç¯å¢ƒã€‚</p></li><li><p>å®ƒå…è®¸å¼€å‘è€…ä½¿ç”¨ Cã€C++ã€Rust ç­‰è¯­è¨€ç¼–å†™ä»£ç ï¼Œå¹¶å°†å…¶ç¼–è¯‘ä¸º Wasm æ ¼å¼ï¼Œåœ¨æµè§ˆå™¨ä¸­è¿è¡Œã€‚</p></li><li><p>WebAssembly çš„ä¸»è¦ç›®æ ‡æ˜¯å®ç°æ¥è¿‘åŸç”Ÿçš„æ€§èƒ½ï¼ŒåŒæ—¶ä¿æŒä¸ Web å¹³å°çš„å…¼å®¹æ€§ã€‚</p></li></ul><h4 id="12-webassembly-çš„ä¼˜åŠ¿"><a class="markdownIt-Anchor" href="#12-webassembly-çš„ä¼˜åŠ¿"></a> 1.2 WebAssembly çš„ä¼˜åŠ¿</h4><ul><li><p><strong>é«˜æ€§èƒ½</strong>ï¼šæ¥è¿‘åŸç”Ÿçš„æ‰§è¡Œé€Ÿåº¦ã€‚</p></li><li><p><strong>è·¨å¹³å°</strong>ï¼šå¯ä»¥åœ¨æ‰€æœ‰ç°ä»£æµè§ˆå™¨ä¸­è¿è¡Œã€‚</p></li><li><p><strong>å®‰å…¨æ€§</strong>ï¼šè¿è¡Œåœ¨æµè§ˆå™¨çš„æ²™ç›’ç¯å¢ƒä¸­ï¼Œç¡®ä¿å®‰å…¨æ€§ã€‚</p></li><li><p><strong>å¯ç§»æ¤æ€§</strong>ï¼šæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚ Cã€C++ã€Rust ç­‰ï¼‰ã€‚</p></li></ul><h4 id="13-ä»€ä¹ˆæ˜¯-qt-for-webassembly"><a class="markdownIt-Anchor" href="#13-ä»€ä¹ˆæ˜¯-qt-for-webassembly"></a> 1.3 ä»€ä¹ˆæ˜¯ Qt for WebAssemblyï¼Ÿ</h4><ul><li><p><strong>Qt for WebAssembly</strong>Â æ˜¯ Qt æ¡†æ¶çš„ä¸€ä¸ªæ¨¡å—ï¼Œå®ƒå…è®¸å°† Qt åº”ç”¨ç¨‹åºç¼–è¯‘ä¸º WebAssembly æ ¼å¼ã€‚</p></li><li><p>é€šè¿‡ Qt for WebAssemblyï¼Œå¼€å‘è€…å¯ä»¥ä½¿ç”¨ Qt çš„å¼ºå¤§åŠŸèƒ½ï¼ˆå¦‚ GUIã€ç½‘ç»œã€æ–‡ä»¶ç³»ç»Ÿç­‰ï¼‰æ¥æ„å»ºè·¨å¹³å°çš„ Web åº”ç”¨ç¨‹åºã€‚</p></li><li><p>å®ƒç‰¹åˆ«é€‚åˆå°†ç°æœ‰çš„ Qt æ¡Œé¢åº”ç”¨ç¨‹åºç§»æ¤åˆ° Web å¹³å°ã€‚</p></li></ul><h4 id="14-qt-for-webassembly-çš„ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#14-qt-for-webassembly-çš„ç‰¹ç‚¹"></a> 1.4 Qt for WebAssembly çš„ç‰¹ç‚¹</h4><ul><li><p><strong>è·¨å¹³å°</strong>ï¼šå¯ä»¥åœ¨æ‰€æœ‰ç°ä»£æµè§ˆå™¨ä¸­è¿è¡Œã€‚</p></li><li><p><strong>é«˜æ€§èƒ½</strong>ï¼šåˆ©ç”¨ WebAssembly çš„é«˜æ€§èƒ½ç‰¹æ€§ã€‚</p></li><li><p><strong>ä¸°å¯Œçš„åŠŸèƒ½</strong>ï¼šæ”¯æŒ Qt çš„æ ¸å¿ƒæ¨¡å—ï¼ˆå¦‚ Qt Coreã€Qt GUIã€Qt Widgets ç­‰ï¼‰ã€‚</p></li><li><p><strong>æ˜“äºç§»æ¤</strong>ï¼šç°æœ‰çš„ Qt åº”ç”¨ç¨‹åºå¯ä»¥ç›¸å¯¹å®¹æ˜“åœ°ç§»æ¤åˆ° WebAssemblyã€‚</p></li></ul><h4 id="15-ç¼–è¯‘è¿‡ç¨‹"><a class="markdownIt-Anchor" href="#15-ç¼–è¯‘è¿‡ç¨‹"></a> 1.5 ç¼–è¯‘è¿‡ç¨‹</h4><ol><li><p>ä½¿ç”¨ Emscripten å·¥å…·é“¾å°† Qt åº”ç”¨ç¨‹åºçš„ C++ ä»£ç ç¼–è¯‘ä¸º WebAssembly æ ¼å¼ã€‚</p></li><li><p>ç”ŸæˆÂ <code>.wasm</code>Â æ–‡ä»¶ï¼ˆWebAssembly äºŒè¿›åˆ¶æ–‡ä»¶ï¼‰å’ŒÂ <code>.js</code>Â æ–‡ä»¶ï¼ˆJavaScript èƒ¶æ°´ä»£ç ï¼‰ã€‚</p></li><li><p>é€šè¿‡ HTML æ–‡ä»¶åŠ è½½å’Œè¿è¡Œ WebAssembly åº”ç”¨ç¨‹åºã€‚</p></li></ol><h4 id="16-è¿è¡Œæ—¶ç¯å¢ƒ"><a class="markdownIt-Anchor" href="#16-è¿è¡Œæ—¶ç¯å¢ƒ"></a> 1.6 è¿è¡Œæ—¶ç¯å¢ƒ</h4><ul><li><p>WebAssembly åº”ç”¨ç¨‹åºè¿è¡Œåœ¨æµè§ˆå™¨çš„æ²™ç›’ç¯å¢ƒä¸­ã€‚</p></li><li><p>Qt for WebAssembly ä½¿ç”¨ Emscripten æä¾›çš„ API ä¸æµè§ˆå™¨è¿›è¡Œäº¤äº’ï¼ˆå¦‚ DOM æ“ä½œã€æ–‡ä»¶ç³»ç»Ÿè®¿é—®ç­‰ï¼‰ã€‚</p></li></ul><p><strong>äººè¯å°±æ˜¯æŠŠæŸäº›qtå®ç°çš„æ¡Œé¢ç¨‹åºç¼–è¯‘æˆwasmæ”¯æŒçš„webå½¢å¼ï¼Œä½†å­˜åœ¨å±€é™æ€§ã€‚</strong></p><p><strong><a href="https://doc.qt.io/qt-5/wasm.html" title="æ„Ÿå…´è¶£çš„ä¹Ÿå¯ä»¥è‡ªå·±å»çœ‹çœ‹ï¼šQTå®˜æ–¹5.15.2çš„è¯´æ˜æ–‡æ¡£">æ„Ÿå…´è¶£çš„ä¹Ÿå¯ä»¥è‡ªå·±å»çœ‹çœ‹ï¼šQTå®˜æ–¹5.15.2çš„è¯´æ˜æ–‡æ¡£</a></strong></p><h4 id="æ³¨æ„æ³¨æ„æ³¨æ„qtç‰ˆæœ¬å’Œemscriptenç‰ˆæœ¬æœ‰å¯¹åº”å…³ç³»åœ¨å®˜æ–¹æ–‡æ¡£é‡Œå°±ç»™å‡ºäº†æœ€é€‚åˆçš„ç‰ˆæœ¬æ¯”å¦‚qt5152å’Œemscripten1398ç‰ˆæœ¬åˆé€‚"><a class="markdownIt-Anchor" href="#æ³¨æ„æ³¨æ„æ³¨æ„qtç‰ˆæœ¬å’Œemscriptenç‰ˆæœ¬æœ‰å¯¹åº”å…³ç³»åœ¨å®˜æ–¹æ–‡æ¡£é‡Œå°±ç»™å‡ºäº†æœ€é€‚åˆçš„ç‰ˆæœ¬æ¯”å¦‚qt5152å’Œemscripten1398ç‰ˆæœ¬åˆé€‚"></a> æ³¨æ„ï¼ï¼ï¼æ³¨æ„ï¼ï¼ï¼æ³¨æ„ï¼ï¼ï¼Qtç‰ˆæœ¬å’ŒEmscriptenç‰ˆæœ¬æœ‰å¯¹åº”å…³ç³»ï¼Œåœ¨å®˜æ–¹æ–‡æ¡£é‡Œå°±ç»™å‡ºäº†æœ€é€‚åˆçš„ç‰ˆæœ¬ï¼Œæ¯”å¦‚Qt5.15.2å’ŒEmscripten1.39.8ç‰ˆæœ¬åˆé€‚</h4><p>ä¸ç„¶ä½ å¯èƒ½åœ¨åé¢éƒ½é…ç½®å¥½äº†ä¹‹åï¼Œå‘ç°ç¼–è¯‘æŠ¥é”™</p><p>[Makefile:74: .\TestWebAssembly.js] Error 1</p><p>å…·ä½“åŸå› è¿™ä¸ªåšä¸»è§£é‡Šäº†ï¼Œä¸»è¦æ˜¯jsçš„è¯­æ³•é€‚é…é—®é¢˜ â€œå…·ä½“åŸå› è¿™ä¸ªåšä¸»è§£é‡Šäº†ï¼Œä¸»è¦æ˜¯jsçš„è¯­æ³•é€‚é…é—®é¢˜â€)</p><p>æ¥ä¸‹æ¥æˆ‘ä¸»è¦æè¿°æ€ä¹ˆåœ¨windowsç‰ˆæœ¬ä¸‹è¿›è¡Œç¯å¢ƒå‡†å¤‡ã€‚</p><h3 id="2ç¯å¢ƒå‡†å¤‡"><a class="markdownIt-Anchor" href="#2ç¯å¢ƒå‡†å¤‡"></a> <strong>2.ç¯å¢ƒå‡†å¤‡</strong></h3><h4 id="21-å®‰è£…python390"><a class="markdownIt-Anchor" href="#21-å®‰è£…python390"></a> <strong>2.1 å®‰è£…python3.9.0</strong></h4><h4 id="22-å®‰è£…-qt-for-webassembly"><a class="markdownIt-Anchor" href="#22-å®‰è£…-qt-for-webassembly"></a> 2.2 å®‰è£… Qt for WebAssembly</h4><ol><li><p>ä¸‹è½½å¹¶å®‰è£… Qt å®‰è£…ç¨‹åºï¼ˆQt 5.15 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰ã€‚</p></li><li><p>åœ¨å®‰è£…è¿‡ç¨‹ä¸­ï¼Œé€‰æ‹©Â <code>Qt for WebAssembly</code>Â æ¨¡å—ã€‚<img src="4604f399867a47969a6eeb52c36e624b.png" alt="" /></p></li></ol><h4 id="23-é…ç½®-emscripten"><a class="markdownIt-Anchor" href="#23-é…ç½®-emscripten"></a> 2.3 é…ç½® Emscripten</h4><ol><li>ä¸‹è½½å¹¶å®‰è£… Emscripten å·¥å…·é“¾ã€‚</li></ol><p>å…ˆå…‹éš†Emscriptençš„sdkä»“åº“</p><blockquote><p><a href="https://github.com/emscripten-core/emsdk.git" title="git clone https://github.com/emscripten-core/emsdk.git">git clone https://github.com/emscripten-core/emsdk.git</a></p></blockquote><p>cdåˆ°åˆšåˆšå…‹éš†çš„æ–‡ä»¶å¤¹ä¸‹ï¼Œè¿›è¡Œå®‰è£…æ¿€æ´»ä¸æŸ¥çœ‹ç‰ˆæœ¬ï¼Œéœ€è¦ä¸‹è½½ä¸€äº›ä¸œè¥¿</p><blockquote><p>.\emsdk install 1.39.8<br />.\emsdk activate 1.39.8<br />emcc --version<br />em++ --version</p></blockquote><p>æ­£ç¡®çš„æƒ…å†µä¸‹åº”è¯¥ä¼šçœ‹åˆ°ï¼š</p><p><img src="7e8760ea30c640538b7a79d4b13c2f1a.png" alt="" /></p><p>2.é…ç½® Emscripten çš„ç¯å¢ƒå˜é‡ã€‚</p><p>è‡ªåŠ¨åˆ©ç”¨è„šæœ¬é…ç½®</p><blockquote><p>.\emsdk_env.bat</p></blockquote><p>æ‰‹åŠ¨é…ç½®</p><p><img src="f182d677968c41dfbbc57a24274bd034.png" alt="" /></p><h4 id=""><a class="markdownIt-Anchor" href="#"></a> </h4><h3 id="3ç¼–è¯‘ç”Ÿæˆ"><a class="markdownIt-Anchor" href="#3ç¼–è¯‘ç”Ÿæˆ"></a> <strong>3.ç¼–è¯‘ç”Ÿæˆ</strong></h3><h4 id="31-åˆ›å»ºå’Œç¼–è¯‘é¡¹ç›®"><a class="markdownIt-Anchor" href="#31-åˆ›å»ºå’Œç¼–è¯‘é¡¹ç›®"></a> 3.1 åˆ›å»ºå’Œç¼–è¯‘é¡¹ç›®</h4><p>1.åœ¨Qtä¸­é…ç½®å¯ç”¨webassemblyç¼–è¯‘å™¨</p><p>å…ˆè¦é…ç½®è®¾å¤‡ä¸­çš„è·¯å¾„ï¼Œè¿™ä¸ªæ—¶å€™Qtè‡ªå·±ä¼šè¯†åˆ«ç‰ˆæœ¬ã€‚</p><p><img src="6e53478439934ffe959a1c12706cdbf1.png" alt="" /></p><p>é‡å¯QtCreatorä¹‹åï¼Œå°±ä¼šåœ¨ç¼–è¯‘å™¨ä¸­çœ‹åˆ°æœ‰å¯¹åº”çš„ç‰ˆæœ¬çš„Cå’ŒC++çš„ç¼–è¯‘å™¨</p><p><img src="cdcc2dd594004e4cafdd9c6d8b507f54.png" alt="" /></p><p>å¦‚æœæ²¡æœ‰çš„è¯ï¼Œå°±è‡ªå·±æ·»åŠ </p><p><img src="6666d545f3d1431098398547bfb3665c.png" alt="" /></p><p><strong>è°ƒè¯•å™¨çš„è¯ï¼Œå…¶å®ä¸æ”¯æŒè°ƒè¯•ï¼Œæ‰€ä»¥æœ‰æ²¡æœ‰éƒ½æ— æ‰€è°“ï¼Œå¯ä»¥æ— è§†è­¦å‘Šé»„è‰²æ„Ÿå¹å·ã€‚</strong></p><h4 id="32-åœ¨-qt-creator-ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„-qt-é¡¹ç›®"><a class="markdownIt-Anchor" href="#32-åœ¨-qt-creator-ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„-qt-é¡¹ç›®"></a> 3.2 åœ¨ Qt Creator ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ Qt é¡¹ç›®</h4><p>è¿™ä¸ªæ—¶å€™ï¼Œå¯ä»¥å‹¾é€‰ä¸¤ä¸ªç¼–è¯‘å™¨ï¼Œå› ä¸ºæˆ‘ä½¿ç”¨çš„æ—¶å€™ï¼Œåˆ‡æ¢åˆ°webassemblyç¼–è¯‘å™¨çš„æ—¶å€™ï¼Œå°±æ— æ³•åŠ è½½å‡ºæ¥proä¸­åŠ å…¥çš„æ–‡ä»¶äº†ï¼Œå¯ä»¥å…ˆæŠŠé¡¹ç›®è¿è¡Œå¥½åœ¨åˆ‡æ¢æˆwebassemblyç¼–è¯‘å™¨ç¼–è¯‘å°±è¡Œã€‚</p><p><img src="3831d73a6e034b349ce7909b1a11fe3d.png" alt="" /></p><p><img src="1ab9b3ac602a44ef94c4c7e94407abe4.png" alt="" /></p><p><img src="3101c249f4b644909cfd01f3ecc814c6.png" alt="" /></p><p>é€‰æ‹©Â <code>WebAssembly</code>Â ä½œä¸ºæ„å»ºå¥—ä»¶ã€‚</p><p><img src="a8e719c9a0974b709d1336c64e77f9d3.png" alt="" /></p><h4 id="33-ç¼–è¯‘é¡¹ç›®ç”Ÿæˆ-wasm-å’Œ-js-æ–‡ä»¶"><a class="markdownIt-Anchor" href="#33-ç¼–è¯‘é¡¹ç›®ç”Ÿæˆ-wasm-å’Œ-js-æ–‡ä»¶"></a> 3.3 ç¼–è¯‘é¡¹ç›®ï¼Œç”ŸæˆÂ <code>.wasm</code>Â å’ŒÂ <code>.js</code>Â æ–‡ä»¶</h4><h3 id="4è¿è¡Œç¤ºä¾‹"><a class="markdownIt-Anchor" href="#4è¿è¡Œç¤ºä¾‹"></a> <strong>4.è¿è¡Œç¤ºä¾‹</strong></h3><h4 id="41-ç¼–è¯‘ç”Ÿæˆå†…å®¹"><a class="markdownIt-Anchor" href="#41-ç¼–è¯‘ç”Ÿæˆå†…å®¹"></a> <strong>4.1 ç¼–è¯‘ç”Ÿæˆå†…å®¹</strong></h4><blockquote><p>TestWebAssembly/<br />â”œâ”€â”€ TestWebAssembly.html Â  Â  Â  # HTML å…¥å£æ–‡ä»¶<br />â”œâ”€â”€ TestWebAssembly.js Â  Â  Â  Â  # JavaScript èƒ¶æ°´ä»£ç <br />â”œâ”€â”€ TestWebAssembly.wasm Â  Â  Â  # WebAssembly äºŒè¿›åˆ¶æ–‡ä»¶<br />â”œâ”€â”€ TestWebAssembly.data Â  Â  Â  # é™æ€èµ„æºæ–‡ä»¶ï¼ˆå¯é€‰ï¼‰<br />â”œâ”€â”€ TestWebAssembly.wasm.map Â  # WebAssembly æºæ˜ å°„æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰<br />â”œâ”€â”€ TestWebAssembly.js.map Â  Â  # JavaScript æºæ˜ å°„æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰<br />â””â”€â”€ TestWebAssembly.worker.js Â # Web Worker æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰</p></blockquote><h4 id="42-è¿è¡Œé¡¹ç›®"><a class="markdownIt-Anchor" href="#42-è¿è¡Œé¡¹ç›®"></a> 4.2 è¿è¡Œé¡¹ç›®</h4><p>å¦‚æœèµ°åˆ°è¿™ä¸€æ­¥ï¼Œä½ ç›´æ¥æ‰“å¼€äº†htmlçš„è¯ï¼Œå°±ä¼šçœ‹åˆ°è¿™æ ·çš„ç”»é¢</p><h4 id="-2"><a class="markdownIt-Anchor" href="#-2"></a> <img src="f38c9d7d7d944050b66ce2dce4974f73.png" alt="" /></h4><p>è¿™å°±éœ€è¦ä½¿ç”¨webæœåŠ¡å™¨çš„æ–¹å¼åŠ è½½æ‰å¯ä»¥</p><p>4.2.1ä½¿ç”¨ Web æœåŠ¡å™¨ï¼ˆå¦‚ Python å†…ç½® HTTP æœåŠ¡å™¨ï¼‰è¿è¡Œç”Ÿæˆçš„Â <code>.html</code>Â æ–‡ä»¶ã€‚</p><p><img src="2ab1daa02fcb4e378d24b123ccc7910d.png" alt="" /></p><p>4.2.2åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€Â <code>.html</code>Â æ–‡ä»¶ï¼Œè¿è¡Œ WebAssembly åº”ç”¨ç¨‹åºã€‚</p><pre><code>http://localhost:8000/TestWebAssembly.html</code></pre><h3 id="5é—ç•™é—®é¢˜"><a class="markdownIt-Anchor" href="#5é—ç•™é—®é¢˜"></a> <strong>5.é—ç•™é—®é¢˜</strong></h3><p><img src="c2cef373c2f44d3ea87a33b3bc7a13e1.png" alt="" /></p><p>å‡ºç°äº†ä¸­æ–‡ä¹±ç é—®é¢˜ï¼Œå°šæœªè§£å†³ï¼Œçœ‹è¿‡ä¸€äº›æ•™ç¨‹ï¼Œè¯´æ˜¯Qtè‡ªå¸¦çš„ä¸‰ç§å­—ä½“å¹¶ä¸æ”¯æŒä¸­æ–‡ï¼Œæ‰€ä»¥éœ€è¦è‡ªå·±åŠ è½½å­—ä½“ã€‚</p><p><a href="https://www.bilibili.com/video/BV1i2GXevE14/?vd_source=d54595318cc166b1531dbf48ce7a6b2a" title="Qt å­—ä½“åŠ è½½ã€å›¾æ ‡å­—ä½“çš„ä½¿ç”¨ | è§£å†³ Qt for WebAssembly ä¸­æ–‡å­—ä½“é—®é¢˜_å“”å“©å“”å“©_bilibili">Qt å­—ä½“åŠ è½½ã€å›¾æ ‡å­—ä½“çš„ä½¿ç”¨ | è§£å†³ Qt for WebAssembly ä¸­æ–‡å­—ä½“é—®é¢˜_å“”å“©å“”å“©_bilibili</a></p><p>å¸Œæœ›çŸ¥é“æ€ä¹ˆè§£å†³çš„æœ‹å‹å¯ä»¥åˆ†äº«ä¸€ä¸‹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEè™šåŒ–ä½¿ç”¨Cesiumæ’ä»¶FlyToé—®é¢˜</title>
      <link href="/2025/06/11/UE/UE%E8%99%9A%E5%8C%96%E4%BD%BF%E7%94%A8Cesium%E6%8F%92%E4%BB%B6FlyTo%E9%97%AE%E9%A2%98/"/>
      <url>/2025/06/11/UE/UE%E8%99%9A%E5%8C%96%E4%BD%BF%E7%94%A8Cesium%E6%8F%92%E4%BB%B6FlyTo%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h3 id="é—®é¢˜"><a class="markdownIt-Anchor" href="#é—®é¢˜"></a> é—®é¢˜</h3><p>åœ¨åšUE5é¡¹ç›®æ—¶ï¼Œä½¿ç”¨äº†Cesiumæ’ä»¶ï¼Œå°†æ’ä»¶è‡ªå¸¦çš„DynamicPawnï¼Œä»ä¸€ä¸ªç»çº¬åœ°ç‚¹ç§»åŠ¨åˆ°å¦å¤–åœ°ç‚¹ï¼Œä½¿ç”¨äº†FlyToæ–¹æ³•ï¼š</p><p><img src="img1.png" alt="" /></p><p>ä½†æ˜¯æ˜¯ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå®æ—¶é£è¡Œæ—¶ï¼Œä¸¤ç‚¹çš„æ•°æ®ä¹‹é—´è¾ƒè¿œï¼Œå°±ä¼šå‡ºç°è·³è·ƒæˆ–ä¸è¿è´¯çš„é£è¡Œã€‚</p><h3 id="è§£å†³"><a class="markdownIt-Anchor" href="#è§£å†³"></a> è§£å†³</h3><p><img src="img.png" alt="" /></p><p>é€šè¿‡è®¾ç½®DynamicPawnçš„FlyToå±æ€§ï¼Œå°†Durationé»˜è®¤å€¼5æ”¹ä¸º0.01ï¼ŒProgress Curveã€Height Percentage Curveå’ŒMaximum Height by Distance Curveçš„æ›²çº¿æ ¹æ®ä¸šåŠ¡éœ€æ±‚ä¿®æ”¹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git ä½¿ç”¨å¤§å…¨ï¼šä»å…¥é—¨åˆ°ç²¾é€š</title>
      <link href="/2025/06/11/Other/Git%20%E4%BD%BF%E7%94%A8%E5%A4%A7%E5%85%A8%EF%BC%9A%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/"/>
      <url>/2025/06/11/Other/Git%20%E4%BD%BF%E7%94%A8%E5%A4%A7%E5%85%A8%EF%BC%9A%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/</url>
      
        <content type="html"><![CDATA[<p>Gitæ˜¯ç›®å‰æœ€æµè¡Œçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œè¢«å¹¿æ³›åº”ç”¨äºè½¯ä»¶å¼€å‘ä¸­ã€‚æœ¬æ–‡å°†å…¨é¢ä»‹ç» Git çš„å„ç§åŠŸèƒ½å’Œä½¿ç”¨æ–¹æ³•ï¼ŒåŒ…å«å¤§é‡ä»£ç ç¤ºä¾‹å’Œå®è·µå»ºè®®ã€‚</p><h3 id="git-åŸºç¡€æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#git-åŸºç¡€æ¦‚å¿µ"></a> Git åŸºç¡€æ¦‚å¿µ</h3><h4 id="ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ"></a> ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ</h4><p>ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ (Version Control System, VCS) æ˜¯è®°å½•æ–‡ä»¶å†…å®¹å˜åŒ–ï¼Œä»¥ä¾¿å°†æ¥æŸ¥é˜…ç‰¹å®šç‰ˆæœ¬ä¿®è®¢æƒ…å†µçš„ç³»ç»Ÿã€‚</p><h4 id="git-çš„ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#git-çš„ç‰¹ç‚¹"></a> Git çš„ç‰¹ç‚¹</h4><ol><li><strong>åˆ†å¸ƒå¼</strong>ï¼šæ¯ä¸ªå¼€å‘è€…éƒ½æœ‰å®Œæ•´çš„ä»“åº“å‰¯æœ¬</li><li><strong>é«˜æ•ˆ</strong>ï¼šå¤§éƒ¨åˆ†æ“ä½œåœ¨æœ¬åœ°å®Œæˆ</li><li><strong>å®Œæ•´æ€§</strong>ï¼šä½¿ç”¨ SHA-1 å“ˆå¸Œä¿è¯æ•°æ®å®Œæ•´æ€§</li><li><strong>çµæ´»æ€§</strong>ï¼šæ”¯æŒå¤šç§éçº¿æ€§å¼€å‘æµç¨‹</li></ol><h4 id="git-çš„ä¸‰ä¸ªåŒºåŸŸ"><a class="markdownIt-Anchor" href="#git-çš„ä¸‰ä¸ªåŒºåŸŸ"></a> Git çš„ä¸‰ä¸ªåŒºåŸŸ</h4><ol><li><strong>å·¥ä½œç›®å½• (Working Directory)</strong>ï¼šå®é™…æ–‡ä»¶æ‰€åœ¨ç›®å½•</li><li><strong>æš‚å­˜åŒº (Staging Area)</strong>ï¼šå‡†å¤‡æäº¤çš„æ–‡ä»¶å¿«ç…§</li><li><strong>Git ä»“åº“ (Repository)</strong>ï¼šæ°¸ä¹…å­˜å‚¨çš„æ–‡ä»¶å¿«ç…§</li></ol><h4 id="git-æ–‡ä»¶çŠ¶æ€"><a class="markdownIt-Anchor" href="#git-æ–‡ä»¶çŠ¶æ€"></a> Git æ–‡ä»¶çŠ¶æ€</h4><ol><li><strong>æœªè·Ÿè¸ª (Untracked)</strong>ï¼šæ–°æ–‡ä»¶ï¼Œæœªè¢« Git ç®¡ç†</li><li><strong>å·²ä¿®æ”¹ (Modified)</strong>ï¼šæ–‡ä»¶å·²ä¿®æ”¹ä½†æœªæš‚å­˜</li><li><strong>å·²æš‚å­˜ (Staged)</strong>ï¼šæ–‡ä»¶å·²ä¿®æ”¹å¹¶æ ‡è®°ä¸ºä¸‹æ¬¡æäº¤</li><li><strong>å·²æäº¤ (Committed)</strong>ï¼šæ–‡ä»¶å·²å®‰å…¨ä¿å­˜åœ¨æœ¬åœ°æ•°æ®åº“</li></ol><h3 id="git-å®‰è£…ä¸é…ç½®"><a class="markdownIt-Anchor" href="#git-å®‰è£…ä¸é…ç½®"></a> Git å®‰è£…ä¸é…ç½®</h3><h4 id="å®‰è£…-git"><a class="markdownIt-Anchor" href="#å®‰è£…-git"></a> å®‰è£… Git</h4><h4 id="linux"><a class="markdownIt-Anchor" href="#linux"></a> Linux</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Debian/Ubuntu</span></span><br><span class="line">sudo apt-get install git</span><br><span class="line"></span><br><span class="line"><span class="comment"># Fedora</span></span><br><span class="line">sudo dnf install git</span><br><span class="line"></span><br><span class="line"><span class="comment"># CentOS</span></span><br><span class="line">sudo yum install git</span><br></pre></td></tr></table></figure><h4 id="macos"><a class="markdownIt-Anchor" href="#macos"></a> macOS</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ Homebrew</span></span><br><span class="line">brew install git</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–ä¸‹è½½å®˜æ–¹å®‰è£…åŒ…</span></span><br><span class="line">https://git-scm.com/download/mac</span><br></pre></td></tr></table></figure><h4 id="windows"><a class="markdownIt-Anchor" href="#windows"></a> Windows</h4><p>ä¸‹è½½ Git for Windows: <a href="https://git-scm.com/download/win">https://git-scm.com/download/win</a></p><h4 id="åˆå§‹é…ç½®"><a class="markdownIt-Anchor" href="#åˆå§‹é…ç½®"></a> åˆå§‹é…ç½®</h4><p>é…ç½®ç”¨æˆ·ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;Your Name&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;your.email@example.com&quot;</span></span><br></pre></td></tr></table></figure><p>é…ç½®é»˜è®¤ç¼–è¾‘å™¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.editor <span class="string">&quot;vim&quot;</span></span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --list</span><br></pre></td></tr></table></figure><p>å¸¸ç”¨åˆ«åé…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.co checkout</span><br><span class="line">git config --global alias.br branch</span><br><span class="line">git config --global alias.ci commit</span><br><span class="line">git config --global alias.st status</span><br><span class="line">git config --global alias.unstage <span class="string">&#x27;reset HEAD --&#x27;</span></span><br><span class="line">git config --global alias.last <span class="string">&#x27;log -1 HEAD&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="git-ä»“åº“åˆ›å»ºä¸ç®¡ç†"><a class="markdownIt-Anchor" href="#git-ä»“åº“åˆ›å»ºä¸ç®¡ç†"></a> Git ä»“åº“åˆ›å»ºä¸ç®¡ç†</h3><h4 id="åˆå§‹åŒ–æ–°ä»“åº“"><a class="markdownIt-Anchor" href="#åˆå§‹åŒ–æ–°ä»“åº“"></a> åˆå§‹åŒ–æ–°ä»“åº“</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> my-project</span><br><span class="line"><span class="built_in">cd</span> my-project</span><br><span class="line">git init</span><br></pre></td></tr></table></figure><h4 id="å…‹éš†ç°æœ‰ä»“åº“"><a class="markdownIt-Anchor" href="#å…‹éš†ç°æœ‰ä»“åº“"></a> å…‹éš†ç°æœ‰ä»“åº“</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/user/repo.git</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/user/repo.git my-local-folder  <span class="comment"># æŒ‡å®šæœ¬åœ°ç›®å½•å</span></span><br><span class="line">git <span class="built_in">clone</span> --depth 1 https://github.com/user/repo.git  <span class="comment"># æµ…å…‹éš†ï¼Œåªè·å–æœ€æ–°ç‰ˆæœ¬</span></span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹ä»“åº“çŠ¶æ€"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹ä»“åº“çŠ¶æ€"></a> æŸ¥çœ‹ä»“åº“çŠ¶æ€</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br><span class="line">git status -s  <span class="comment"># ç®€æ´è¾“å‡º</span></span><br></pre></td></tr></table></figure><h4 id="å¿½ç•¥æ–‡ä»¶"><a class="markdownIt-Anchor" href="#å¿½ç•¥æ–‡ä»¶"></a> å¿½ç•¥æ–‡ä»¶</h4><p>åˆ›å»º <code>.gitignore</code> æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¿½ç•¥æ‰€æœ‰ .a æ–‡ä»¶</span></span><br><span class="line">*.a</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½†è·Ÿè¸ªæ‰€æœ‰çš„ lib.aï¼Œå³ä¾¿ä½ åœ¨å‰é¢å¿½ç•¥äº† .a æ–‡ä»¶</span></span><br><span class="line">!lib.a</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¿½ç•¥å½“å‰ç›®å½•ä¸‹çš„ TODO æ–‡ä»¶</span></span><br><span class="line">/TODO</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¿½ç•¥ build/ ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">build/</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¿½ç•¥ doc/notes.txtï¼Œä½†ä¸å¿½ç•¥ doc/server/arch.txt</span></span><br><span class="line">doc/*.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¿½ç•¥ doc/ ç›®å½•ä¸‹æ‰€æœ‰ .pdf æ–‡ä»¶</span></span><br><span class="line">doc/**/*.pdf</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¿½ç•¥æ‰€æœ‰ .log æ–‡ä»¶</span></span><br><span class="line">*.<span class="built_in">log</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¿½ç•¥ node_modules ç›®å½•</span></span><br><span class="line">node_modules/</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¿½ç•¥ .env ç¯å¢ƒæ–‡ä»¶</span></span><br><span class="line">.<span class="built_in">env</span></span><br></pre></td></tr></table></figure><h3 id="git-åŸºæœ¬å·¥ä½œæµç¨‹"><a class="markdownIt-Anchor" href="#git-åŸºæœ¬å·¥ä½œæµç¨‹"></a> Git åŸºæœ¬å·¥ä½œæµç¨‹</h3><h4 id="æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº"><a class="markdownIt-Anchor" href="#æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº"></a> æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git add file1.txt  <span class="comment"># æ·»åŠ å•ä¸ªæ–‡ä»¶</span></span><br><span class="line">git add file2.txt file3.txt  <span class="comment"># æ·»åŠ å¤šä¸ªæ–‡ä»¶</span></span><br><span class="line">git add .  <span class="comment"># æ·»åŠ æ‰€æœ‰ä¿®æ”¹å’Œæ–°æ–‡ä»¶</span></span><br><span class="line">git add -A  <span class="comment"># æ·»åŠ æ‰€æœ‰ä¿®æ”¹ã€æ–°æ–‡ä»¶å’Œåˆ é™¤æ“ä½œ</span></span><br><span class="line">git add -u  <span class="comment"># æ·»åŠ æ‰€æœ‰ä¿®æ”¹å’Œåˆ é™¤ï¼Œä½†ä¸åŒ…æ‹¬æ–°æ–‡ä»¶</span></span><br><span class="line">git add -p  <span class="comment"># äº¤äº’å¼æ·»åŠ </span></span><br></pre></td></tr></table></figure><h4 id="æäº¤æ›´æ”¹"><a class="markdownIt-Anchor" href="#æäº¤æ›´æ”¹"></a> æäº¤æ›´æ”¹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">&quot;Initial commit&quot;</span>  <span class="comment"># ç®€å•æäº¤</span></span><br><span class="line">git commit -a -m <span class="string">&quot;Commit all changes&quot;</span>  <span class="comment"># è·³è¿‡æš‚å­˜åŒºï¼Œç›´æ¥æäº¤æ‰€æœ‰å·²è·Ÿè¸ªæ–‡ä»¶çš„ä¿®æ”¹</span></span><br><span class="line">git commit --amend  <span class="comment"># ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤</span></span><br><span class="line">git commit --amend --no-edit  <span class="comment"># ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤ä½†ä¸ä¿®æ”¹æäº¤ä¿¡æ¯</span></span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹æäº¤å†å²"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹æäº¤å†å²"></a> æŸ¥çœ‹æäº¤å†å²</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span></span><br><span class="line">git <span class="built_in">log</span> -p  <span class="comment"># æ˜¾ç¤ºæ¯æ¬¡æäº¤çš„å†…å®¹å·®å¼‚</span></span><br><span class="line">git <span class="built_in">log</span> -2  <span class="comment"># æ˜¾ç¤ºæœ€è¿‘2æ¬¡æäº¤</span></span><br><span class="line">git <span class="built_in">log</span> --<span class="built_in">stat</span>  <span class="comment"># æ˜¾ç¤ºç®€ç•¥ç»Ÿè®¡ä¿¡æ¯</span></span><br><span class="line">git <span class="built_in">log</span> --pretty=oneline  <span class="comment"># å•è¡Œæ˜¾ç¤º</span></span><br><span class="line">git <span class="built_in">log</span> --pretty=format:<span class="string">&quot;%h - %an, %ar : %s&quot;</span></span><br><span class="line">git <span class="built_in">log</span> --since=2.weeks  <span class="comment"># æ˜¾ç¤ºä¸¤å‘¨å†…çš„æäº¤</span></span><br><span class="line">git <span class="built_in">log</span> --author=<span class="string">&quot;John&quot;</span>  <span class="comment"># æŒ‰ä½œè€…ç­›é€‰</span></span><br><span class="line">git <span class="built_in">log</span> --grep=<span class="string">&quot;bug fix&quot;</span>  <span class="comment"># æŒ‰æäº¤ä¿¡æ¯ç­›é€‰</span></span><br><span class="line">git <span class="built_in">log</span> -S<span class="string">&quot;function_name&quot;</span>  <span class="comment"># æŒ‰ä»£ç å†…å®¹ç­›é€‰</span></span><br><span class="line">git <span class="built_in">log</span> -- path/to/file  <span class="comment"># æŸ¥çœ‹ç‰¹å®šæ–‡ä»¶çš„ä¿®æ”¹å†å²</span></span><br><span class="line">git <span class="built_in">log</span> --graph --pretty=format:<span class="string">&#x27;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#x27;</span> --abbrev-commit  <span class="comment"># æ¼‚äº®çš„å›¾å½¢åŒ–è¾“å‡º</span></span><br></pre></td></tr></table></figure><h4 id="æ¯”è¾ƒå·®å¼‚"><a class="markdownIt-Anchor" href="#æ¯”è¾ƒå·®å¼‚"></a> æ¯”è¾ƒå·®å¼‚</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git diff  <span class="comment"># å·¥ä½œç›®å½•ä¸æš‚å­˜åŒºçš„å·®å¼‚</span></span><br><span class="line">git diff --staged  <span class="comment"># æš‚å­˜åŒºä¸æœ€åä¸€æ¬¡æäº¤çš„å·®å¼‚</span></span><br><span class="line">git diff HEAD  <span class="comment"># å·¥ä½œç›®å½•ä¸æœ€åä¸€æ¬¡æäº¤çš„å·®å¼‚</span></span><br><span class="line">git diff branch1..branch2  <span class="comment"># ä¸¤ä¸ªåˆ†æ”¯é—´çš„å·®å¼‚</span></span><br><span class="line">git diff commit1 commit2  <span class="comment"># ä¸¤æ¬¡æäº¤é—´çš„å·®å¼‚</span></span><br><span class="line">git diff --name-only commit1 commit2  <span class="comment"># åªæ˜¾ç¤ºæœ‰å·®å¼‚çš„æ–‡ä»¶å</span></span><br><span class="line">git diff --word-diff  <span class="comment"># å•è¯çº§åˆ«çš„å·®å¼‚</span></span><br></pre></td></tr></table></figure><h3 id="git-åˆ†æ”¯ç®¡ç†"><a class="markdownIt-Anchor" href="#git-åˆ†æ”¯ç®¡ç†"></a> Git åˆ†æ”¯ç®¡ç†</h3><h4 id="åˆ›å»ºä¸åˆ‡æ¢åˆ†æ”¯"><a class="markdownIt-Anchor" href="#åˆ›å»ºä¸åˆ‡æ¢åˆ†æ”¯"></a> åˆ›å»ºä¸åˆ‡æ¢åˆ†æ”¯</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">git branch  <span class="comment"># æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">git branch -a  <span class="comment"># æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ï¼ˆåŒ…æ‹¬è¿œç¨‹ï¼‰</span></span><br><span class="line">git branch new-branch  <span class="comment"># åˆ›å»ºæ–°åˆ†æ”¯</span></span><br><span class="line">git checkout branch-name  <span class="comment"># åˆ‡æ¢åˆ†æ”¯</span></span><br><span class="line">git checkout -b new-branch  <span class="comment"># åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯</span></span><br><span class="line">git checkout -b new-branch origin/remote-branch  <span class="comment"># åŸºäºè¿œç¨‹åˆ†æ”¯åˆ›å»ºæœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">git branch -d branch-name  <span class="comment"># åˆ é™¤å·²åˆå¹¶çš„åˆ†æ”¯</span></span><br><span class="line">git branch -D branch-name  <span class="comment"># å¼ºåˆ¶åˆ é™¤åˆ†æ”¯</span></span><br><span class="line">git branch -m old-name new-name  <span class="comment"># é‡å‘½ååˆ†æ”¯</span></span><br><span class="line">git branch --merged  <span class="comment"># æŸ¥çœ‹å·²åˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯</span></span><br><span class="line">git branch --no-merged  <span class="comment"># æŸ¥çœ‹æœªåˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯</span></span><br></pre></td></tr></table></figure><h4 id="åˆå¹¶åˆ†æ”¯"><a class="markdownIt-Anchor" href="#åˆå¹¶åˆ†æ”¯"></a> åˆå¹¶åˆ†æ”¯</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git merge branch-name  <span class="comment"># åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯</span></span><br><span class="line">git merge --no-ff branch-name  <span class="comment"># ç¦ç”¨å¿«è¿›åˆå¹¶</span></span><br><span class="line">git merge --squash branch-name  <span class="comment"># å‹ç¼©åˆå¹¶</span></span><br><span class="line">git merge --abort  <span class="comment"># ä¸­æ­¢åˆå¹¶</span></span><br></pre></td></tr></table></figure><h4 id="è§£å†³å†²çª"><a class="markdownIt-Anchor" href="#è§£å†³å†²çª"></a> è§£å†³å†²çª</h4><p>å½“åˆå¹¶å‘ç”Ÿå†²çªæ—¶ï¼ŒGit ä¼šåœ¨å†²çªæ–‡ä»¶ä¸­æ ‡è®°å†²çªéƒ¨åˆ†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; <span class="string">HEAD</span></span><br><span class="line"><span class="string">å½“å‰åˆ†æ”¯çš„å†…å®¹</span></span><br><span class="line"><span class="string">=======</span></span><br><span class="line"><span class="string">è¦åˆå¹¶çš„åˆ†æ”¯çš„å†…å®¹</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;&gt;&gt;&gt;&gt; branch-name</span></span><br></pre></td></tr></table></figure><p>æ‰‹åŠ¨è§£å†³å†²çªåï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add resolved-file.txt</span><br><span class="line">git commit</span><br></pre></td></tr></table></figure><h4 id="å˜åŸº-rebase"><a class="markdownIt-Anchor" href="#å˜åŸº-rebase"></a> å˜åŸº (Rebase)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git rebase branch-name  <span class="comment"># å°†å½“å‰åˆ†æ”¯å˜åŸºåˆ°æŒ‡å®šåˆ†æ”¯</span></span><br><span class="line">git rebase --<span class="built_in">continue</span>  <span class="comment"># è§£å†³å†²çªåç»§ç»­å˜åŸº</span></span><br><span class="line">git rebase --abort  <span class="comment"># ä¸­æ­¢å˜åŸº</span></span><br><span class="line">git rebase -i HEAD~3  <span class="comment"># äº¤äº’å¼å˜åŸºï¼Œä¿®æ”¹æœ€è¿‘3æ¬¡æäº¤</span></span><br></pre></td></tr></table></figure><p>äº¤äº’å¼å˜åŸºå¸¸ç”¨æ“ä½œï¼š</p><ul><li>pick: ä½¿ç”¨æäº¤</li><li>reword: ä½¿ç”¨æäº¤ä½†ä¿®æ”¹æäº¤ä¿¡æ¯</li><li>edit: ä½¿ç”¨æäº¤ä½†æš‚åœä¿®æ”¹</li><li>squash: å°†æäº¤åˆå¹¶åˆ°å‰ä¸€ä¸ªæäº¤</li><li>fixup: ç±»ä¼¼ squash ä½†ä¸¢å¼ƒæäº¤ä¿¡æ¯</li><li>drop: åˆ é™¤æäº¤</li></ul><h3 id="git-è¿œç¨‹ä»“åº“æ“ä½œ"><a class="markdownIt-Anchor" href="#git-è¿œç¨‹ä»“åº“æ“ä½œ"></a> Git è¿œç¨‹ä»“åº“æ“ä½œ</h3><h4 id="æŸ¥çœ‹è¿œç¨‹ä»“åº“"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹è¿œç¨‹ä»“åº“"></a> æŸ¥çœ‹è¿œç¨‹ä»“åº“</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git remote  <span class="comment"># åˆ—å‡ºè¿œç¨‹ä»“åº“</span></span><br><span class="line">git remote -v  <span class="comment"># æ˜¾ç¤ºè¿œç¨‹ä»“åº“URL</span></span><br><span class="line">git remote show origin  <span class="comment"># æ˜¾ç¤ºè¿œç¨‹ä»“åº“è¯¦ç»†ä¿¡æ¯</span></span><br></pre></td></tr></table></figure><h4 id="æ·»åŠ ç§»é™¤è¿œç¨‹ä»“åº“"><a class="markdownIt-Anchor" href="#æ·»åŠ ç§»é™¤è¿œç¨‹ä»“åº“"></a> æ·»åŠ /ç§»é™¤è¿œç¨‹ä»“åº“</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin https://github.com/user/repo.git  <span class="comment"># æ·»åŠ è¿œç¨‹ä»“åº“</span></span><br><span class="line">git remote rename origin new-name  <span class="comment"># é‡å‘½åè¿œç¨‹ä»“åº“</span></span><br><span class="line">git remote remove origin  <span class="comment"># ç§»é™¤è¿œç¨‹ä»“åº“</span></span><br><span class="line">git remote set-url origin https://github.com/user/new-repo.git  <span class="comment"># ä¿®æ”¹è¿œç¨‹ä»“åº“URL</span></span><br></pre></td></tr></table></figure><h4 id="è·å–ä¸æ‹‰å–"><a class="markdownIt-Anchor" href="#è·å–ä¸æ‹‰å–"></a> è·å–ä¸æ‹‰å–</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git fetch origin  <span class="comment"># ä»è¿œç¨‹è·å–æœ€æ–°ä¿¡æ¯ä½†ä¸åˆå¹¶</span></span><br><span class="line">git fetch --prune  <span class="comment"># æ¸…ç†å·²ä¸å­˜åœ¨çš„è¿œç¨‹åˆ†æ”¯çš„æœ¬åœ°å¼•ç”¨</span></span><br><span class="line">git pull origin master  <span class="comment"># è·å–å¹¶åˆå¹¶è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">git pull --rebase  <span class="comment"># ä½¿ç”¨å˜åŸºæ–¹å¼æ‹‰å–</span></span><br></pre></td></tr></table></figure><h4 id="æ¨é€"><a class="markdownIt-Anchor" href="#æ¨é€"></a> æ¨é€</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git push origin master  <span class="comment"># æ¨é€æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹</span></span><br><span class="line">git push -u origin master  <span class="comment"># æ¨é€å¹¶è®¾ç½®ä¸Šæ¸¸åˆ†æ”¯</span></span><br><span class="line">git push origin --delete branch-name  <span class="comment"># åˆ é™¤è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">git push origin --tags  <span class="comment"># æ¨é€æ‰€æœ‰æ ‡ç­¾</span></span><br><span class="line">git push origin HEAD  <span class="comment"># æ¨é€å½“å‰åˆ†æ”¯</span></span><br><span class="line">git push --force  <span class="comment"># å¼ºåˆ¶æ¨é€ï¼ˆæ…ç”¨ï¼‰</span></span><br><span class="line">git push --force-with-lease  <span class="comment"># æ›´å®‰å…¨çš„å¼ºåˆ¶æ¨é€</span></span><br></pre></td></tr></table></figure><h3 id="git-æ’¤é”€ä¸å›é€€"><a class="markdownIt-Anchor" href="#git-æ’¤é”€ä¸å›é€€"></a> Git æ’¤é”€ä¸å›é€€</h3><h4 id="æ’¤é”€å·¥ä½œç›®å½•ä¿®æ”¹"><a class="markdownIt-Anchor" href="#æ’¤é”€å·¥ä½œç›®å½•ä¿®æ”¹"></a> æ’¤é”€å·¥ä½œç›®å½•ä¿®æ”¹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout -- file.txt  <span class="comment"># æ’¤é”€å·¥ä½œç›®å½•ä¸­æ–‡ä»¶çš„ä¿®æ”¹</span></span><br><span class="line">git checkout -- .  <span class="comment"># æ’¤é”€æ‰€æœ‰å·¥ä½œç›®å½•ä¿®æ”¹</span></span><br></pre></td></tr></table></figure><h4 id="æ’¤é”€æš‚å­˜åŒºä¿®æ”¹"><a class="markdownIt-Anchor" href="#æ’¤é”€æš‚å­˜åŒºä¿®æ”¹"></a> æ’¤é”€æš‚å­˜åŒºä¿®æ”¹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD file.txt  <span class="comment"># å°†æ–‡ä»¶ä»æš‚å­˜åŒºç§»å‡º</span></span><br></pre></td></tr></table></figure><h4 id="ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤"><a class="markdownIt-Anchor" href="#ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤"></a> ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git commit --amend  <span class="comment"># ä¿®æ”¹æäº¤ä¿¡æ¯æˆ–å†…å®¹</span></span><br><span class="line">git commit --amend --no-edit  <span class="comment"># ä¿®æ”¹æäº¤å†…å®¹ä½†ä¸ä¿®æ”¹ä¿¡æ¯</span></span><br></pre></td></tr></table></figure><h4 id="å›é€€æäº¤"><a class="markdownIt-Anchor" href="#å›é€€æäº¤"></a> å›é€€æäº¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git reset --soft HEAD~1  <span class="comment"># å›é€€æäº¤ä½†ä¿ç•™ä¿®æ”¹åœ¨æš‚å­˜åŒº</span></span><br><span class="line">git reset --mixed HEAD~1  <span class="comment"># å›é€€æäº¤å¹¶ä¿ç•™ä¿®æ”¹åœ¨å·¥ä½œç›®å½•ï¼ˆé»˜è®¤ï¼‰</span></span><br><span class="line">git reset --hard HEAD~1  <span class="comment"># å½»åº•å›é€€æäº¤ï¼Œä¸¢å¼ƒæ‰€æœ‰ä¿®æ”¹</span></span><br><span class="line">git revert HEAD  <span class="comment"># åˆ›å»ºæ–°æäº¤æ¥æ’¤é”€ä¹‹å‰çš„æäº¤</span></span><br></pre></td></tr></table></figure><h4 id="æ¢å¤åˆ é™¤çš„æ–‡ä»¶"><a class="markdownIt-Anchor" href="#æ¢å¤åˆ é™¤çš„æ–‡ä»¶"></a> æ¢å¤åˆ é™¤çš„æ–‡ä»¶</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout HEAD -- deleted-file.txt  <span class="comment"># æ¢å¤å·²åˆ é™¤çš„æ–‡ä»¶</span></span><br><span class="line">git checkout $(git rev-list -n 1 HEAD -- deleted-file.txt)^ -- deleted-file.txt  <span class="comment"># æ¢å¤åœ¨ä¹‹å‰æäº¤ä¸­åˆ é™¤çš„æ–‡ä»¶</span></span><br></pre></td></tr></table></figure><h3 id="git-æ ‡ç­¾ç®¡ç†"><a class="markdownIt-Anchor" href="#git-æ ‡ç­¾ç®¡ç†"></a> Git æ ‡ç­¾ç®¡ç†</h3><h4 id="åˆ›å»ºæ ‡ç­¾"><a class="markdownIt-Anchor" href="#åˆ›å»ºæ ‡ç­¾"></a> åˆ›å»ºæ ‡ç­¾</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git tag v1.0  <span class="comment"># è½»é‡æ ‡ç­¾</span></span><br><span class="line">git tag -a v1.0 -m <span class="string">&quot;Version 1.0&quot;</span>  <span class="comment"># é™„æ³¨æ ‡ç­¾</span></span><br><span class="line">git tag -a v1.0 9fceb02  <span class="comment"># ç»™ç‰¹å®šæäº¤æ‰“æ ‡ç­¾</span></span><br><span class="line">git tag -s v1.0 -m <span class="string">&quot;Signed version 1.0&quot;</span>  <span class="comment"># ç­¾åæ ‡ç­¾</span></span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹æ ‡ç­¾"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹æ ‡ç­¾"></a> æŸ¥çœ‹æ ‡ç­¾</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git tag  <span class="comment"># åˆ—å‡ºæ‰€æœ‰æ ‡ç­¾</span></span><br><span class="line">git show v1.0  <span class="comment"># æŸ¥çœ‹æ ‡ç­¾è¯¦æƒ…</span></span><br><span class="line">git tag -l <span class="string">&quot;v1.*&quot;</span>  <span class="comment"># è¿‡æ»¤æ ‡ç­¾</span></span><br></pre></td></tr></table></figure><h4 id="æ¨é€æ ‡ç­¾"><a class="markdownIt-Anchor" href="#æ¨é€æ ‡ç­¾"></a> æ¨é€æ ‡ç­¾</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push origin v1.0  <span class="comment"># æ¨é€å•ä¸ªæ ‡ç­¾</span></span><br><span class="line">git push origin --tags  <span class="comment"># æ¨é€æ‰€æœ‰æ ‡ç­¾</span></span><br></pre></td></tr></table></figure><h4 id="åˆ é™¤æ ‡ç­¾"><a class="markdownIt-Anchor" href="#åˆ é™¤æ ‡ç­¾"></a> åˆ é™¤æ ‡ç­¾</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git tag -d v1.0  <span class="comment"># åˆ é™¤æœ¬åœ°æ ‡ç­¾</span></span><br><span class="line">git push origin --delete v1.0  <span class="comment"># åˆ é™¤è¿œç¨‹æ ‡ç­¾</span></span><br><span class="line">git push origin :refs/tags/v1.0  <span class="comment"># å¦ä¸€ç§åˆ é™¤è¿œç¨‹æ ‡ç­¾çš„æ–¹å¼</span></span><br></pre></td></tr></table></figure><h4 id="æ£€å‡ºæ ‡ç­¾"><a class="markdownIt-Anchor" href="#æ£€å‡ºæ ‡ç­¾"></a> æ£€å‡ºæ ‡ç­¾</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout v1.0  <span class="comment"># æ£€å‡ºæ ‡ç­¾ï¼ˆè¿›å…¥åˆ†ç¦»å¤´æŒ‡é’ˆçŠ¶æ€ï¼‰</span></span><br><span class="line">git checkout -b version1 v1.0  <span class="comment"># åŸºäºæ ‡ç­¾åˆ›å»ºæ–°åˆ†æ”¯</span></span><br></pre></td></tr></table></figure><h3 id="git-é«˜çº§æ“ä½œ"><a class="markdownIt-Anchor" href="#git-é«˜çº§æ“ä½œ"></a> Git é«˜çº§æ“ä½œ</h3><h4 id="å‚¨è—æ›´æ”¹"><a class="markdownIt-Anchor" href="#å‚¨è—æ›´æ”¹"></a> å‚¨è—æ›´æ”¹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">git stash  <span class="comment"># å‚¨è—å½“å‰å·¥ä½œç›®å½•å’Œæš‚å­˜åŒºçš„ä¿®æ”¹</span></span><br><span class="line">git stash save <span class="string">&quot;message&quot;</span>  <span class="comment"># å¸¦æ¶ˆæ¯çš„å‚¨è—</span></span><br><span class="line">git stash list  <span class="comment"># åˆ—å‡ºæ‰€æœ‰å‚¨è—</span></span><br><span class="line">git stash apply  <span class="comment"># åº”ç”¨æœ€è¿‘çš„å‚¨è—</span></span><br><span class="line">git stash apply stash@&#123;1&#125;  <span class="comment"># åº”ç”¨ç‰¹å®šå‚¨è—</span></span><br><span class="line">git stash pop  <span class="comment"># åº”ç”¨å¹¶ç§»é™¤æœ€è¿‘çš„å‚¨è—</span></span><br><span class="line">git stash drop stash@&#123;1&#125;  <span class="comment"># åˆ é™¤ç‰¹å®šå‚¨è—</span></span><br><span class="line">git stash clear  <span class="comment"># æ¸…é™¤æ‰€æœ‰å‚¨è—</span></span><br><span class="line">git stash branch new-branch  <span class="comment"># ä»å‚¨è—åˆ›å»ºæ–°åˆ†æ”¯</span></span><br><span class="line">git stash -u  <span class="comment"># å‚¨è—åŒ…æ‹¬æœªè·Ÿè¸ªæ–‡ä»¶</span></span><br><span class="line">git stash -a  <span class="comment"># å‚¨è—åŒ…æ‹¬æ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬.gitignoreå¿½ç•¥çš„ï¼‰</span></span><br></pre></td></tr></table></figure><h4 id="äºŒåˆ†æŸ¥æ‰¾"><a class="markdownIt-Anchor" href="#äºŒåˆ†æŸ¥æ‰¾"></a> äºŒåˆ†æŸ¥æ‰¾</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git bisect start  <span class="comment"># å¼€å§‹äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line">git bisect bad  <span class="comment"># å½“å‰ç‰ˆæœ¬æœ‰é—®é¢˜</span></span><br><span class="line">git bisect good v1.0  <span class="comment"># v1.0ç‰ˆæœ¬æ˜¯å¥½çš„</span></span><br><span class="line">git bisect reset  <span class="comment"># ç»“æŸäºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line">git bisect run test-script.sh  <span class="comment"># è‡ªåŠ¨è¿è¡Œæµ‹è¯•è„šæœ¬è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾</span></span><br></pre></td></tr></table></figure><h4 id="å­æ¨¡å—"><a class="markdownIt-Anchor" href="#å­æ¨¡å—"></a> å­æ¨¡å—</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git submodule add https://github.com/user/repo.git path/to/submodule  <span class="comment"># æ·»åŠ å­æ¨¡å—</span></span><br><span class="line">git submodule init  <span class="comment"># åˆå§‹åŒ–å­æ¨¡å—</span></span><br><span class="line">git submodule update  <span class="comment"># æ›´æ–°å­æ¨¡å—</span></span><br><span class="line">git submodule update --init --recursive  <span class="comment"># é€’å½’åˆå§‹åŒ–å¹¶æ›´æ–°æ‰€æœ‰å­æ¨¡å—</span></span><br><span class="line">git submodule foreach <span class="string">&#x27;git checkout master&#x27;</span>  <span class="comment"># å¯¹æ‰€æœ‰å­æ¨¡å—æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">git <span class="built_in">clone</span> --recurse-submodules https://github.com/user/repo.git  <span class="comment"># å…‹éš†åŒ…å«å­æ¨¡å—çš„ä»“åº“</span></span><br></pre></td></tr></table></figure><h4 id="é‡å†™å†å²"><a class="markdownIt-Anchor" href="#é‡å†™å†å²"></a> é‡å†™å†å²</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">git filter-branch --tree-filter <span class="string">&#x27;rm -f passwords.txt&#x27;</span> HEAD  <span class="comment"># ä»æ‰€æœ‰æäº¤ä¸­åˆ é™¤æ–‡ä»¶</span></span><br><span class="line">git filter-branch --commit-filter <span class="string">&#x27;</span></span><br><span class="line"><span class="string">    if [ &quot;$GIT_AUTHOR_EMAIL&quot; = &quot;old@email.com&quot; ];</span></span><br><span class="line"><span class="string">    then</span></span><br><span class="line"><span class="string">        GIT_AUTHOR_NAME=&quot;New Name&quot;;</span></span><br><span class="line"><span class="string">        GIT_AUTHOR_EMAIL=&quot;new@email.com&quot;;</span></span><br><span class="line"><span class="string">        git commit-tree &quot;$@&quot;;</span></span><br><span class="line"><span class="string">    else</span></span><br><span class="line"><span class="string">        git commit-tree &quot;$@&quot;;</span></span><br><span class="line"><span class="string">    fi&#x27;</span> HEAD  <span class="comment"># ä¿®æ”¹ä½œè€…ä¿¡æ¯</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šé‡å†™å†å²ä¼šæ”¹å˜æäº¤å“ˆå¸Œï¼Œåªé€‚ç”¨äºå°šæœªå…±äº«çš„æäº¤ã€‚</p><h4 id="æ‰“åŒ…ä¸å½’æ¡£"><a class="markdownIt-Anchor" href="#æ‰“åŒ…ä¸å½’æ¡£"></a> æ‰“åŒ…ä¸å½’æ¡£</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git bundle create repo.bundle HEAD master  <span class="comment"># åˆ›å»ºåŒ…å«masteråˆ†æ”¯çš„bundleæ–‡ä»¶</span></span><br><span class="line">git <span class="built_in">clone</span> repo.bundle repo -b master  <span class="comment"># ä»bundleæ–‡ä»¶å…‹éš†</span></span><br><span class="line">git archive --format=zip HEAD &gt; archive.zip  <span class="comment"># åˆ›å»ºå½“å‰æäº¤çš„zipå½’æ¡£</span></span><br><span class="line">git archive --format=tar --prefix=project/ HEAD | gzip &gt; project.tar.gz  <span class="comment"># åˆ›å»ºå¸¦å‰ç¼€çš„tar.gzå½’æ¡£</span></span><br></pre></td></tr></table></figure><h3 id="git-åä½œå·¥ä½œæµ"><a class="markdownIt-Anchor" href="#git-åä½œå·¥ä½œæµ"></a> Git åä½œå·¥ä½œæµ</h3><h4 id="é›†ä¸­å¼å·¥ä½œæµ"><a class="markdownIt-Anchor" href="#é›†ä¸­å¼å·¥ä½œæµ"></a> é›†ä¸­å¼å·¥ä½œæµ</h4><ol><li>å¼€å‘è€…å…‹éš†ä¸­å¤®ä»“åº“</li><li>åœ¨æœ¬åœ°æäº¤æ›´æ”¹</li><li>æ¨é€æ›´æ”¹åˆ°ä¸­å¤®ä»“åº“</li><li>è§£å†³å†²çªï¼ˆå¦‚æœæœ‰ï¼‰</li></ol><h4 id="åŠŸèƒ½åˆ†æ”¯å·¥ä½œæµ"><a class="markdownIt-Anchor" href="#åŠŸèƒ½åˆ†æ”¯å·¥ä½œæµ"></a> åŠŸèƒ½åˆ†æ”¯å·¥ä½œæµ</h4><ol><li>ä¸ºæ¯ä¸ªæ–°åŠŸèƒ½åˆ›å»ºç‹¬ç«‹åˆ†æ”¯</li><li>åœ¨åŠŸèƒ½åˆ†æ”¯ä¸Šå¼€å‘</li><li>å®Œæˆååˆå¹¶åˆ°ä¸»åˆ†æ”¯</li><li>åˆ é™¤åŠŸèƒ½åˆ†æ”¯</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b new-feature</span><br><span class="line"><span class="comment"># å¼€å‘åŠŸèƒ½...</span></span><br><span class="line">git commit -a -m <span class="string">&quot;Implement new feature&quot;</span></span><br><span class="line">git checkout master</span><br><span class="line">git merge new-feature</span><br><span class="line">git branch -d new-feature</span><br></pre></td></tr></table></figure><h4 id="git-flow"><a class="markdownIt-Anchor" href="#git-flow"></a> Git Flow</h4><p>Git Flow æ˜¯ä¸€ç§æµè¡Œçš„åˆ†æ”¯æ¨¡å‹ï¼Œå®šä¹‰ä¸¥æ ¼çš„åˆ†æ”¯è§’è‰²å’Œäº¤äº’æ–¹å¼ã€‚</p><p>ä¸»è¦åˆ†æ”¯ï¼š</p><ul><li>master: ç”Ÿäº§ä»£ç </li><li>develop: é›†æˆå¼€å‘åˆ†æ”¯</li></ul><p>æ”¯æŒåˆ†æ”¯ï¼š</p><ul><li>feature/*: åŠŸèƒ½å¼€å‘åˆ†æ”¯</li><li>release/*: å‡†å¤‡å‘å¸ƒåˆ†æ”¯</li><li>hotfix/*: ç´§æ€¥ä¿®å¤åˆ†æ”¯</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆå§‹åŒ–Git Flow</span></span><br><span class="line">git flow init</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å§‹æ–°åŠŸèƒ½</span></span><br><span class="line">git flow feature start myfeature</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®ŒæˆåŠŸèƒ½</span></span><br><span class="line">git flow feature finish myfeature</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘å¸ƒæ–°ç‰ˆæœ¬</span></span><br><span class="line">git flow release start 1.0.0</span><br><span class="line">git flow release finish 1.0.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç´§æ€¥ä¿®å¤</span></span><br><span class="line">git flow hotfix start 1.0.1</span><br><span class="line">git flow hotfix finish 1.0.1</span><br></pre></td></tr></table></figure><h4 id="forking-å·¥ä½œæµ"><a class="markdownIt-Anchor" href="#forking-å·¥ä½œæµ"></a> Forking å·¥ä½œæµ</h4><ol><li>å¼€å‘è€…forkä¸­å¤®ä»“åº“</li><li>å…‹éš†è‡ªå·±çš„forkåˆ°æœ¬åœ°</li><li>åˆ›å»ºåŠŸèƒ½åˆ†æ”¯å¼€å‘</li><li>æ¨é€æ›´æ”¹åˆ°è‡ªå·±çš„fork</li><li>åˆ›å»ºPull Requestè¯·æ±‚åˆå¹¶åˆ°ä¸­å¤®ä»“åº“</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…‹éš†forkçš„ä»“åº“</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/yourname/repo.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ ä¸Šæ¸¸ä»“åº“</span></span><br><span class="line">git remote add upstream https://github.com/original/repo.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–ä¸Šæ¸¸æ›´æ”¹</span></span><br><span class="line">git fetch upstream</span><br><span class="line">git merge upstream/master</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºåŠŸèƒ½åˆ†æ”¯</span></span><br><span class="line">git checkout -b new-feature</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å‘å®Œæˆåæ¨é€åˆ°è‡ªå·±çš„fork</span></span><br><span class="line">git push origin new-feature</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç„¶ååœ¨GitHubä¸Šåˆ›å»ºPull Request</span></span><br></pre></td></tr></table></figure><h3 id="git-é—®é¢˜æ’æŸ¥"><a class="markdownIt-Anchor" href="#git-é—®é¢˜æ’æŸ¥"></a> Git é—®é¢˜æ’æŸ¥</h3><h4 id="æŸ¥çœ‹æ–‡ä»¶ä¿®æ”¹å†å²"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹æ–‡ä»¶ä¿®æ”¹å†å²"></a> æŸ¥çœ‹æ–‡ä»¶ä¿®æ”¹å†å²</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git blame file.txt  <span class="comment"># æŸ¥çœ‹æ–‡ä»¶çš„é€è¡Œä¿®æ”¹å†å²</span></span><br><span class="line">git blame -L 10,20 file.txt  <span class="comment"># æŸ¥çœ‹ç‰¹å®šè¡Œçš„ä¿®æ”¹å†å²</span></span><br><span class="line">git <span class="built_in">log</span> -p file.txt  <span class="comment"># æŸ¥çœ‹æ–‡ä»¶çš„å®Œæ•´ä¿®æ”¹å†å²</span></span><br><span class="line">git show commit-id:file.txt  <span class="comment"># æŸ¥çœ‹ç‰¹å®šæäº¤ä¸­çš„æ–‡ä»¶å†…å®¹</span></span><br></pre></td></tr></table></figure><h4 id="æŸ¥æ‰¾é—®é¢˜æäº¤"><a class="markdownIt-Anchor" href="#æŸ¥æ‰¾é—®é¢˜æäº¤"></a> æŸ¥æ‰¾é—®é¢˜æäº¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git bisect start  <span class="comment"># å¼€å§‹äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line">git bisect bad  <span class="comment"># æ ‡è®°å½“å‰ç‰ˆæœ¬æœ‰é—®é¢˜</span></span><br><span class="line">git bisect good v1.0  <span class="comment"># æ ‡è®°v1.0ç‰ˆæœ¬æ˜¯å¥½çš„</span></span><br><span class="line"><span class="comment"># Gitä¼šè‡ªåŠ¨æ£€å‡ºä¸­é—´ç‰ˆæœ¬ï¼Œä½ æµ‹è¯•åæ ‡è®°goodæˆ–bad</span></span><br><span class="line">git bisect reset  <span class="comment"># ç»“æŸäºŒåˆ†æŸ¥æ‰¾</span></span><br></pre></td></tr></table></figure><h4 id="æ¢å¤ä¸¢å¤±çš„æäº¤"><a class="markdownIt-Anchor" href="#æ¢å¤ä¸¢å¤±çš„æäº¤"></a> æ¢å¤ä¸¢å¤±çš„æäº¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git reflog  <span class="comment"># æŸ¥çœ‹æ‰€æœ‰HEADæŒ‡å‘çš„å†å²</span></span><br><span class="line">git fsck --lost-found  <span class="comment"># æŸ¥æ‰¾æ‚¬ç©ºå¯¹è±¡</span></span><br><span class="line">git show commit-id  <span class="comment"># æ£€æŸ¥æ‰¾åˆ°çš„æäº¤</span></span><br><span class="line">git merge commit-id  <span class="comment"># æ¢å¤ä¸¢å¤±çš„æäº¤</span></span><br></pre></td></tr></table></figure><h4 id="æ¸…ç†ä»“åº“"><a class="markdownIt-Anchor" href="#æ¸…ç†ä»“åº“"></a> æ¸…ç†ä»“åº“</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git gc  <span class="comment"># æ¸…ç†ä¸å¿…è¦çš„æ–‡ä»¶å¹¶ä¼˜åŒ–æœ¬åœ°ä»“åº“</span></span><br><span class="line">git clean -n  <span class="comment"># æ˜¾ç¤ºå°†è¢«åˆ é™¤çš„æœªè·Ÿè¸ªæ–‡ä»¶ï¼ˆå¹²è·‘ï¼‰</span></span><br><span class="line">git clean -f  <span class="comment"># åˆ é™¤æœªè·Ÿè¸ªæ–‡ä»¶</span></span><br><span class="line">git clean -fd  <span class="comment"># åˆ é™¤æœªè·Ÿè¸ªæ–‡ä»¶å’Œç›®å½•</span></span><br><span class="line">git prune  <span class="comment"># åˆ é™¤æ‚¬ç©ºå¯¹è±¡</span></span><br></pre></td></tr></table></figure><h3 id="git-æœ€ä½³å®è·µ"><a class="markdownIt-Anchor" href="#git-æœ€ä½³å®è·µ"></a> Git æœ€ä½³å®è·µ</h3><h4 id="æäº¤è§„èŒƒ"><a class="markdownIt-Anchor" href="#æäº¤è§„èŒƒ"></a> æäº¤è§„èŒƒ</h4><ol><li>æäº¤ä¿¡æ¯åº”æ¸…æ™°æè¿°ä¿®æ”¹å†…å®¹</li><li>ç¬¬ä¸€è¡Œä¸è¶…è¿‡50å­—ç¬¦ï¼Œä½œä¸ºæ‘˜è¦</li><li>ç¬¬äºŒè¡Œç©ºè¡Œ</li><li>ç¬¬ä¸‰è¡Œå¼€å§‹è¯¦ç»†è¯´æ˜ï¼ˆå¦‚æœ‰å¿…è¦ï¼‰</li><li>ä½¿ç”¨ç°åœ¨æ—¶æ€ã€å‘½ä»¤è¯­æ°”ï¼ˆå¦‚&quot;Fix bug&quot;è€Œé&quot;Fixed bug&quot;ï¼‰</li></ol><p>ç¤ºä¾‹ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Summarize changes in around 50 characters or less</span><br><span class="line"></span><br><span class="line">More detailed explanatory text, if necessary. Wrap it to about 72</span><br><span class="line">characters or so. In some contexts, the first line is treated as the</span><br><span class="line">subject of the commit and the rest of the text as the body. The</span><br><span class="line">blank line separating the summary from the body is critical (unless</span><br><span class="line">you omit the body entirely); various tools like `log`, `shortlog`</span><br><span class="line">and `rebase` can get confused if you run the two together.</span><br><span class="line"></span><br><span class="line">Explain the problem that this commit is solving. Focus on why you</span><br><span class="line">are making this change as opposed to how (the code explains that).</span><br><span class="line">Are there side effects or other unintuitive consequences of this</span><br><span class="line">change? Here&#x27;s the place to explain them.</span><br><span class="line"></span><br><span class="line">Further paragraphs come after blank lines.</span><br><span class="line"></span><br><span class="line">- Bullet points are okay, too</span><br><span class="line"></span><br><span class="line">- Typically a hyphen or asterisk is used for the bullet, preceded</span><br><span class="line">  by a single space, with blank lines in between, but conventions</span><br><span class="line">  vary here</span><br></pre></td></tr></table></figure><h4 id="åˆ†æ”¯å‘½åè§„èŒƒ"><a class="markdownIt-Anchor" href="#åˆ†æ”¯å‘½åè§„èŒƒ"></a> åˆ†æ”¯å‘½åè§„èŒƒ</h4><ol><li>feature/*: æ–°åŠŸèƒ½å¼€å‘</li><li>bugfix/*: é”™è¯¯ä¿®å¤</li><li>hotfix/*: ç´§æ€¥ä¿®å¤</li><li>release/*: ç‰ˆæœ¬å‘å¸ƒå‡†å¤‡</li><li>docs/*: æ–‡æ¡£æ›´æ–°</li><li>test/*: æµ‹è¯•ç›¸å…³</li></ol><h4 id="å·¥ä½œæµç¨‹å»ºè®®"><a class="markdownIt-Anchor" href="#å·¥ä½œæµç¨‹å»ºè®®"></a> å·¥ä½œæµç¨‹å»ºè®®</h4><ol><li>é¢‘ç¹æäº¤ï¼ŒåŸå­æ€§æäº¤ï¼ˆæ¯ä¸ªæäº¤åªåšä¸€ä»¶äº‹ï¼‰</li><li>åœ¨æ¨é€å‰æ•´ç†æœ¬åœ°æäº¤å†å²</li><li>ä½¿ç”¨åˆ†æ”¯è¿›è¡ŒåŠŸèƒ½å¼€å‘å’Œé—®é¢˜ä¿®å¤</li><li>å®šæœŸä»ä¸Šæ¸¸æ‹‰å–æ›´æ”¹</li><li>ä½¿ç”¨Pull Requestè¿›è¡Œä»£ç å®¡æŸ¥</li></ol><h4 id="å¤§å‹é¡¹ç›®å»ºè®®"><a class="markdownIt-Anchor" href="#å¤§å‹é¡¹ç›®å»ºè®®"></a> å¤§å‹é¡¹ç›®å»ºè®®</h4><ol><li>ä½¿ç”¨å­æ¨¡å—æˆ–å­æ ‘ç®¡ç†ä¾èµ–</li><li>ä½¿ç”¨æµ…å…‹éš†å‡å°‘ä¸‹è½½é‡</li><li>ä½¿ç”¨ç¨€ç–æ£€å‡ºåªè·å–éœ€è¦çš„æ–‡ä»¶</li><li>ä½¿ç”¨Git LFSç®¡ç†å¤§æ–‡ä»¶</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æµ…å…‹éš†</span></span><br><span class="line">git <span class="built_in">clone</span> --depth 1 https://github.com/user/repo.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¨€ç–æ£€å‡º</span></span><br><span class="line">git init repo</span><br><span class="line"><span class="built_in">cd</span> repo</span><br><span class="line">git remote add origin https://github.com/user/repo.git</span><br><span class="line">git config core.sparseCheckout <span class="literal">true</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;some/dir/&quot;</span> &gt;&gt; .git/info/sparse-checkout</span><br><span class="line">git pull origin master</span><br></pre></td></tr></table></figure><h4 id="å®‰å…¨æ€§å»ºè®®"><a class="markdownIt-Anchor" href="#å®‰å…¨æ€§å»ºè®®"></a> å®‰å…¨æ€§å»ºè®®</h4><ol><li>ä¸è¦æäº¤æ•æ„Ÿä¿¡æ¯ï¼ˆå¯†ç ã€å¯†é’¥ç­‰ï¼‰</li><li>ä½¿ç”¨.gitignoreå¿½ç•¥ä¸å¿…è¦çš„æ–‡ä»¶</li><li>å®šæœŸæ£€æŸ¥æäº¤å†å²ä¸­çš„æ•æ„Ÿä¿¡æ¯</li><li>å¿…è¦æ—¶é‡å†™å†å²åˆ é™¤æ•æ„Ÿä¿¡æ¯</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥å†å²ä¸­æ˜¯å¦åŒ…å«æ•æ„Ÿä¿¡æ¯</span></span><br><span class="line">git <span class="built_in">log</span> -p | grep <span class="string">&quot;password&quot;</span></span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h3><p>Git æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä¸”çµæ´»çš„å·¥å…·ï¼ŒæŒæ¡å®ƒå¯ä»¥æå¤§æé«˜å¼€å‘æ•ˆç‡ã€‚æœ¬æ–‡æ¶µç›–äº† Git çš„å„ä¸ªæ–¹é¢ï¼Œä»åŸºç¡€æ“ä½œåˆ°é«˜çº§æŠ€å·§ï¼Œä»ä¸ªäººä½¿ç”¨åˆ°å›¢é˜Ÿåä½œã€‚å»ºè®®è¯»è€…åœ¨å®é™…é¡¹ç›®ä¸­å¤šåŠ ç»ƒä¹ ï¼Œé€æ­¥æŒæ¡ Git çš„å„ç§åŠŸèƒ½ã€‚</p><p>è®°ä½ï¼ŒGit çš„æ ¸å¿ƒæ¦‚å¿µæ˜¯å¿«ç…§è€Œéå·®å¼‚ï¼Œç†è§£è¿™ä¸€ç‚¹æœ‰åŠ©äºæ›´å¥½åœ°ä½¿ç”¨ Gitã€‚åŒæ—¶ï¼Œéµå¾ªæœ€ä½³å®è·µå¯ä»¥ä½¿ç‰ˆæœ¬æ§åˆ¶æ›´åŠ é«˜æ•ˆå’Œå®‰å…¨ã€‚</p><p>Git çš„å­¦ä¹ æ›²çº¿å¯èƒ½è¾ƒé™¡å³­ï¼Œä½†ä¸€æ—¦æŒæ¡ï¼Œå®ƒå°†æˆä¸ºä½ å¼€å‘å·¥ä½œä¸­ä¸å¯æˆ–ç¼ºçš„åˆ©å™¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker ä¸ kubectl å‘½ä»¤å¯¹æ¯”</title>
      <link href="/2025/05/31/kubernetes/Docker%20%E4%B8%8E%20kubectl%20%E5%91%BD%E4%BB%A4%E5%AF%B9%E6%AF%94/"/>
      <url>/2025/05/31/kubernetes/Docker%20%E4%B8%8E%20kubectl%20%E5%91%BD%E4%BB%A4%E5%AF%B9%E6%AF%94/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨ Kubernetes å‘½ä»¤è¡Œå·¥å…· kubectl ä¸ API æœåŠ¡å™¨è¿›è¡Œäº¤äº’ã€‚å¦‚æœæ‚¨ç†Ÿæ‚‰ Docker å‘½ä»¤è¡Œå·¥å…·ï¼Œåˆ™ä½¿ç”¨ kubectl éå¸¸ç®€å•ã€‚ä½†æ˜¯ï¼Œdocker å‘½ä»¤å’Œ kubectl å‘½ä»¤ä¹‹é—´æœ‰ä¸€äº›åŒºåˆ«ã€‚ä»¥ä¸‹æ˜¾ç¤ºäº† docker å­å‘½ä»¤ï¼Œå¹¶æè¿°äº†ç­‰æ•ˆçš„ kubectl å‘½ä»¤ã€‚</p><h2 id="è¿è¡Œ-nginx-éƒ¨ç½²å¹¶å°†å…¶æš´éœ²"><a class="markdownIt-Anchor" href="#è¿è¡Œ-nginx-éƒ¨ç½²å¹¶å°†å…¶æš´éœ²"></a> <strong>è¿è¡Œ Nginx éƒ¨ç½²å¹¶å°†å…¶æš´éœ²</strong></h2><h2 id="docker-ps"><a class="markdownIt-Anchor" href="#docker-ps"></a> <strong>docker ps</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --restart=always -e DOMAIN=cluster --name nginx-app -p 80:80 nginx</span><br><span class="line">55c103fa129692154a7652490236fee9be47d70a8dd562281ae7d2f9a339a6db</span><br><span class="line"></span><br><span class="line">docker ps</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                NAMES</span><br><span class="line">55c103fa1296        nginx               <span class="string">&quot;nginx -g &#x27;daemon ofâ€¦&quot;</span>   9 seconds ago       Up 9 seconds        0.0.0.0:80-&gt;80/tcp   nginx-app</span><br></pre></td></tr></table></figure><h2 id="kubectl-create-deployment"><a class="markdownIt-Anchor" href="#kubectl-create-deployment"></a> <strong>kubectl create deployment</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨è¿è¡Œ nginx çš„ Pod</span></span><br><span class="line">kubectl create deployment --image=nginx nginx-app</span><br><span class="line">deployment.apps/nginx-app created</span><br><span class="line"></span><br><span class="line"><span class="comment"># add env to nginx-app</span></span><br><span class="line">kubectl <span class="built_in">set</span> <span class="built_in">env</span> deployment/nginx-app  DOMAIN=cluster</span><br><span class="line">deployment.apps/nginx-app <span class="built_in">env</span> updated</span><br></pre></td></tr></table></figure><blockquote><p>è¯´æ˜ï¼š<br />kubectl å‘½ä»¤æ‰“å°åˆ›å»ºæˆ–çªå˜èµ„æºçš„ç±»å‹å’Œåç§°ï¼Œç„¶åå¯ä»¥åœ¨åç»­å‘½ä»¤ä¸­ä½¿ç”¨ã€‚éƒ¨ç½²åï¼Œæ‚¨å¯ä»¥å…¬å¼€æ–°æœåŠ¡ã€‚</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é€šè¿‡æœåŠ¡å…¬å¼€ç«¯å£</span></span><br><span class="line">kubectl expose deployment nginx-app --port=80 --name=nginx-http</span><br><span class="line">service <span class="string">&quot;nginx-http&quot;</span> exposed</span><br></pre></td></tr></table></figure><p>åœ¨ kubectl å‘½ä»¤ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªÂ Deploymentï¼Œè¿™å°†ä¿è¯æœ‰ N ä¸ªè¿è¡Œ nginx çš„ pod(N ä»£è¡¨ spec ä¸­å£°æ˜çš„ replica æ•°ï¼Œé»˜è®¤ä¸º 1)ã€‚æˆ‘ä»¬è¿˜åˆ›å»ºäº†ä¸€ä¸ªÂ serviceï¼Œå…¶é€‰æ‹©å™¨ä¸å®¹å™¨æ ‡ç­¾åŒ¹é…ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹é•œåƒä¼šåœ¨åå°è¿è¡Œï¼Œä¸Â docker run -d â€¦Â ç±»ä¼¼ï¼Œå¦‚æœæ‚¨æƒ³åœ¨å‰å°è¿è¡Œï¼Œä½¿ç”¨Â kubectl runÂ åœ¨å‰å°è¿è¡Œ Pod:</p><p>kubectlÂ runÂ [-i]Â [â€“tty]Â --attachÂ <name>Â --image=<image></p><p>ä¸ docker run â€¦ ä¸åŒçš„æ˜¯ï¼Œå¦‚æœæŒ‡å®šäº†Â --attach ï¼Œæˆ‘ä»¬å°†è¿æ¥åˆ° stdinï¼Œstdout å’Œ stderrï¼Œè€Œä¸èƒ½æ§åˆ¶å…·ä½“è¿æ¥åˆ°å“ªä¸ªè¾“å‡ºæµï¼ˆdocker -a â€¦ï¼‰ã€‚è¦ä»å®¹å™¨ä¸­é€€å‡ºï¼Œå¯ä»¥è¾“å…¥ Ctrl + Pï¼Œç„¶åæŒ‰ Ctrl + Qã€‚</p><p>å› ä¸ºæˆ‘ä»¬ä½¿ç”¨ Deployment å¯åŠ¨äº†å®¹å™¨ï¼Œå¦‚æœæ‚¨ç»ˆæ­¢è¿æ¥åˆ°çš„è¿›ç¨‹ï¼ˆä¾‹å¦‚ ctrl-cï¼‰ï¼Œå®¹å™¨å°†ä¼šé‡å¯ï¼Œè¿™è·Ÿ docker run -it ä¸åŒã€‚å¦‚æœæƒ³é”€æ¯è¯¥ Deploymentï¼ˆå’Œå®ƒçš„ podï¼‰ï¼Œæ‚¨éœ€è¦è¿è¡Œ kubectl delete deployment <name>ã€‚</p><blockquote><p>æ³¨æ„ï¼š<br />æ‰§è¡Œçš„å‘½ä»¤ kubectl expose deployment nginx-app --port=80 --name=nginx-http åˆ›å»ºäº†ä¸€ä¸ª Kubernetes Serviceï¼Œä½†é»˜è®¤æƒ…å†µä¸‹å®ƒçš„ç±»å‹æ˜¯ ClusterIPï¼ˆä»…é›†ç¾¤å†…éƒ¨å¯è®¿é—®ï¼‰ã€‚è‹¥è¦ä»å¤–éƒ¨è®¿é—® Nginxï¼Œéœ€å°†æœåŠ¡ç±»å‹æ”¹ä¸º NodePort æˆ– LoadBalancerã€‚<br />kubectl get svc nginx-http -o wide<br />NAME         TYPE        CLUSTER-IP     PORT(S)   AGE   SELECTOR<br />nginx-http   ClusterIP   10.96.0.1      80/TCP    5m    app=nginx<br />ä¿®æ”¹æœåŠ¡ç±»å‹ä¸º NodePort<br />kubectl edit svc nginx-http</p></blockquote><h2 id="åˆ—å‡ºæ­£åœ¨è¿è¡Œçš„å®¹å™¨"><a class="markdownIt-Anchor" href="#åˆ—å‡ºæ­£åœ¨è¿è¡Œçš„å®¹å™¨"></a> <strong>åˆ—å‡ºæ­£åœ¨è¿è¡Œçš„å®¹å™¨</strong></h2><h2 id="docker-ps-2"><a class="markdownIt-Anchor" href="#docker-ps-2"></a> <strong>docker ps</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker ps -a</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED              STATUS                     PORTS                NAMES</span><br><span class="line">14636241935f        ubuntu:16.04        <span class="string">&quot;echo test&quot;</span>              5 seconds ago        Exited (0) 5 seconds ago                        cocky_fermi</span><br><span class="line">55c103fa1296        nginx               <span class="string">&quot;nginx -g &#x27;daemon ofâ€¦&quot;</span>   About a minute ago   Up About a minute          0.0.0.0:80-&gt;80/tcp   nginx-app</span><br></pre></td></tr></table></figure><h2 id="kubectl-get"><a class="markdownIt-Anchor" href="#kubectl-get"></a> <strong>kubectl get</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">kubectl get po</span><br><span class="line">NAME                        READY     STATUS      RESTARTS   AGE</span><br><span class="line">nginx-app-8df569cb7-4gd89   1/1       Running     0          3m</span><br><span class="line">ubuntu                      0/1       Completed   0          20s</span><br></pre></td></tr></table></figure><h2 id="è¿æ¥å·²è¿è¡Œåœ¨å®¹å™¨ä¸­çš„è¿›ç¨‹"><a class="markdownIt-Anchor" href="#è¿æ¥å·²è¿è¡Œåœ¨å®¹å™¨ä¸­çš„è¿›ç¨‹"></a> <strong>è¿æ¥å·²è¿è¡Œåœ¨å®¹å™¨ä¸­çš„è¿›ç¨‹</strong></h2><h2 id="docker-attach"><a class="markdownIt-Anchor" href="#docker-attach"></a> <strong>docker attach</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                NAMES</span><br><span class="line">55c103fa1296        nginx               <span class="string">&quot;nginx -g &#x27;daemon ofâ€¦&quot;</span>   5 minutes ago       Up 5 minutes        0.0.0.0:80-&gt;80/tcp   nginx-app</span><br><span class="line"></span><br><span class="line">docker attach 55c103fa1296</span><br></pre></td></tr></table></figure><h2 id="kubectl-attach"><a class="markdownIt-Anchor" href="#kubectl-attach"></a> <strong>kubectl attach</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pods</span><br><span class="line">NAME              READY     STATUS    RESTARTS   AGE</span><br><span class="line">nginx-app-5jyvm   1/1       Running   0          10m</span><br><span class="line"></span><br><span class="line">kubectl attach -it nginx-app-5jyvm</span><br></pre></td></tr></table></figure><p>è¦ä»å®¹å™¨ä¸­åˆ†ç¦»ï¼Œå¯ä»¥è¾“å…¥ Ctrl + Pï¼Œç„¶åæŒ‰ Ctrl + Qã€‚</p><h2 id="åœ¨å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤"><a class="markdownIt-Anchor" href="#åœ¨å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤"></a> <strong>åœ¨å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤</strong></h2><h2 id="docker-exec"><a class="markdownIt-Anchor" href="#docker-exec"></a> <strong>docker exec</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                NAMES</span><br><span class="line">55c103fa1296        nginx               <span class="string">&quot;nginx -g &#x27;daemon ofâ€¦&quot;</span>   6 minutes ago       Up 6 minutes        0.0.0.0:80-&gt;80/tcp   nginx-app</span><br><span class="line"></span><br><span class="line">docker <span class="built_in">exec</span> 55c103fa1296 <span class="built_in">cat</span> etc/hostname</span><br><span class="line">55c103fa1296</span><br></pre></td></tr></table></figure><h2 id="kubectl-exec"><a class="markdownIt-Anchor" href="#kubectl-exec"></a> <strong>kubectl exec</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">kubectl get po</span><br><span class="line">NAME              READY     STATUS    RESTARTS   AGE</span><br><span class="line">nginx-app-5jyvm   1/1       Running   0          10m</span><br><span class="line"></span><br><span class="line">kubectl <span class="built_in">exec</span> nginx-app-5jyvm -- <span class="built_in">cat</span> etc/hostname</span><br><span class="line">nginx-app-5jyvm</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œäº¤äº’å¼å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ docker å‘½ä»¤ï¼š</span></span><br><span class="line">docker <span class="built_in">exec</span> -ti 55c103fa1296 bin/sh</span><br><span class="line"><span class="comment"># exit</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># kubectl:</span></span><br><span class="line">kubectl <span class="built_in">exec</span> -ti nginx-app-5jyvm -- bin/sh</span><br><span class="line"><span class="comment"># exit</span></span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹è¿è¡Œä¸­è¿›ç¨‹çš„-stdoutstderr"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹è¿è¡Œä¸­è¿›ç¨‹çš„-stdoutstderr"></a> <strong>æŸ¥çœ‹è¿è¡Œä¸­è¿›ç¨‹çš„ stdout/stderr</strong></h2><h2 id="docker-logs"><a class="markdownIt-Anchor" href="#docker-logs"></a> <strong>docker logs</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker logs -f a9e</span><br><span class="line">192.168.9.1 - - [14/Jul/2015:01:04:02 +0000] <span class="string">&quot;GET  HTTP/1.1&quot;</span> 200 612 <span class="string">&quot;-&quot;</span> <span class="string">&quot;curl/7.35.0&quot;</span> <span class="string">&quot;-&quot;</span></span><br><span class="line">192.168.9.1 - - [14/Jul/2015:01:04:03 +0000] <span class="string">&quot;GET / HTTP/1.1&quot;</span> 200 612 <span class="string">&quot;-&quot;</span> <span class="string">&quot;curl/7.35.0&quot;</span> <span class="string">&quot;-&quot;</span></span><br></pre></td></tr></table></figure><h2 id="kubectl-logs"><a class="markdownIt-Anchor" href="#kubectl-logs"></a> <strong>kubectl logs</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kubectl logs -f nginx-app-zibvs</span><br><span class="line">10.240.63.110 - - [14/Jul/2015:01:09:01 +0000] <span class="string">&quot;GET  HTTP/1.1&quot;</span> 200 612 <span class="string">&quot;-&quot;</span> <span class="string">&quot;curl/7.26.0&quot;</span> <span class="string">&quot;-&quot;</span></span><br><span class="line">10.240.63.110 - - [14/Jul/2015:01:09:02 +0000] <span class="string">&quot;GET / HTTP/1.1&quot;</span> 200 612 <span class="string">&quot;-&quot;</span> <span class="string">&quot;curl/7.26.0&quot;</span> <span class="string">&quot;-&quot;</span></span><br></pre></td></tr></table></figure><p>ç°åœ¨æ˜¯æ—¶å€™æä¸€ä¸‹ pod å’Œå®¹å™¨ä¹‹é—´çš„ç»†å¾®å·®åˆ«äº†ï¼›é»˜è®¤æƒ…å†µä¸‹å¦‚æœ pod ä¸­çš„è¿›ç¨‹é€€å‡º pod ä¹Ÿä¸ä¼šç»ˆæ­¢ï¼Œç›¸åå®ƒå°†ä¼šé‡å¯è¯¥è¿›ç¨‹ã€‚è¿™ç±»ä¼¼äº docker run æ—¶çš„Â --restart=always é€‰é¡¹ï¼Œ è¿™æ˜¯ä¸»è¦å·®åˆ«ã€‚åœ¨ docker ä¸­ï¼Œè¿›ç¨‹çš„æ¯ä¸ªè°ƒç”¨çš„è¾“å‡ºéƒ½æ˜¯è¢«è¿æ¥èµ·æ¥çš„ï¼Œä½†æ˜¯å¯¹äº kubernetesï¼Œæ¯ä¸ªè°ƒç”¨éƒ½æ˜¯åˆ†å¼€çš„ã€‚è¦æŸ¥çœ‹ä»¥å‰åœ¨ kubernetes ä¸­æ‰§è¡Œçš„è¾“å‡ºï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kubectl logs --previous nginx-app-zibvs</span><br><span class="line">10.240.63.110 - - [14/Jul/2015:01:09:01 +0000] <span class="string">&quot;GET  HTTP/1.1&quot;</span> 200 612 <span class="string">&quot;-&quot;</span> <span class="string">&quot;curl/7.26.0&quot;</span> <span class="string">&quot;-&quot;</span></span><br><span class="line">10.240.63.110 - - [14/Jul/2015:01:09:02 +0000] <span class="string">&quot;GET / HTTP/1.1&quot;</span> 200 612 <span class="string">&quot;-&quot;</span> <span class="string">&quot;curl/7.26.0&quot;</span> <span class="string">&quot;-&quot;</span></span><br></pre></td></tr></table></figure><h2 id="åœæ­¢å’Œåˆ é™¤è¿è¡Œä¸­çš„è¿›ç¨‹"><a class="markdownIt-Anchor" href="#åœæ­¢å’Œåˆ é™¤è¿è¡Œä¸­çš„è¿›ç¨‹"></a> <strong>åœæ­¢å’Œåˆ é™¤è¿è¡Œä¸­çš„è¿›ç¨‹ï¼Ÿ</strong></h2><h2 id="docker-stop-and-docker-rm"><a class="markdownIt-Anchor" href="#docker-stop-and-docker-rm"></a> <strong>docker stop and docker rm</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                CREATED             STATUS              PORTS                         NAMES</span><br><span class="line">a9ec34d98787        nginx               <span class="string">&quot;nginx -g &#x27;daemon of&quot;</span>  22 hours ago        Up 22 hours         0.0.0.0:80-&gt;80/tcp, 443/tcp   nginx-app</span><br><span class="line"></span><br><span class="line">docker stop a9ec34d98787</span><br><span class="line">a9ec34d98787</span><br><span class="line"></span><br><span class="line">docker <span class="built_in">rm</span> a9ec34d98787</span><br><span class="line">a9ec34d98787</span><br></pre></td></tr></table></figure><h2 id="kubectl"><a class="markdownIt-Anchor" href="#kubectl"></a> <strong>kubectl</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">kubectl get deployment nginx-app</span><br><span class="line">NAME        DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">nginx-app   1         1         1            1           2m</span><br><span class="line"></span><br><span class="line">kubectl get po -l run=nginx-app</span><br><span class="line">NAME                         READY     STATUS    RESTARTS   AGE</span><br><span class="line">nginx-app-2883164633-aklf7   1/1       Running   0          2m</span><br><span class="line"></span><br><span class="line">kubectl delete deployment nginx-app</span><br><span class="line">deployment <span class="string">&quot;nginx-app&quot;</span> deleted</span><br><span class="line"></span><br><span class="line">kubectl get po -l run=nginx-app</span><br><span class="line"><span class="comment"># Return nothing</span></span><br></pre></td></tr></table></figure><blockquote><p>è¯´æ˜ï¼š<br />è¯·æ³¨æ„ï¼Œæˆ‘ä»¬ä¸ç›´æ¥åˆ é™¤ podã€‚ä½¿ç”¨ kubectl å‘½ä»¤ï¼Œæˆ‘ä»¬è¦åˆ é™¤æ‹¥æœ‰è¯¥ pod çš„ Deploymentã€‚å¦‚æœæˆ‘ä»¬ç›´æ¥åˆ é™¤ podï¼ŒDeployment å°†ä¼šé‡æ–°åˆ›å»ºè¯¥ podã€‚</p></blockquote><h2 id="docker-login"><a class="markdownIt-Anchor" href="#docker-login"></a> <strong>docker login</strong></h2><p>åœ¨ kubectl ä¸­æ²¡æœ‰å¯¹ docker login çš„ç›´æ¥æ¨¡æ‹Ÿã€‚</p><h2 id="æŸ¥çœ‹å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„ç‰ˆæœ¬"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„ç‰ˆæœ¬"></a> <strong>æŸ¥çœ‹å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„ç‰ˆæœ¬</strong></h2><h2 id="docker"><a class="markdownIt-Anchor" href="#docker"></a> <strong>docker</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">docker version</span><br><span class="line"></span><br><span class="line">Client version: 1.7.0</span><br><span class="line">Client API version: 1.19</span><br><span class="line">Go version (client): go1.4.2</span><br><span class="line">Git commit (client): 0baf609</span><br><span class="line">OS/Arch (client): linux/amd64</span><br><span class="line">Server version: 1.7.0</span><br><span class="line">Server API version: 1.19</span><br><span class="line">Go version (server): go1.4.2</span><br><span class="line">Git commit (server): 0baf609</span><br><span class="line">OS/Arch (server): linux/amd64</span><br></pre></td></tr></table></figure><p><strong>kubectl</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">kubectl version</span><br><span class="line"></span><br><span class="line">Client Version: version.Info&#123;Major:<span class="string">&quot;1&quot;</span>, Minor:<span class="string">&quot;6&quot;</span>, GitVersion:<span class="string">&quot;v1.6.9+a3d1dfa6f4335&quot;</span>, GitCommit:<span class="string">&quot;9b77fed11a9843ce3780f70dd251e92901c43072&quot;</span>, GitTreeState:<span class="string">&quot;dirty&quot;</span>, BuildDate:<span class="string">&quot;2017-08-29T20:32:58Z&quot;</span>, OpenPaasKubernetesVersion:<span class="string">&quot;v1.03.02&quot;</span>, GoVersion:<span class="string">&quot;go1.7.5&quot;</span>, Compiler:<span class="string">&quot;gc&quot;</span>, Platform:<span class="string">&quot;linux/amd64&quot;</span>&#125;</span><br><span class="line">Server Version: version.Info&#123;Major:<span class="string">&quot;1&quot;</span>, Minor:<span class="string">&quot;6&quot;</span>, GitVersion:<span class="string">&quot;v1.6.9+a3d1dfa6f4335&quot;</span>, GitCommit:<span class="string">&quot;9b77fed11a9843ce3780f70dd251e92901c43072&quot;</span>, GitTreeState:<span class="string">&quot;dirty&quot;</span>, BuildDate:<span class="string">&quot;2017-08-29T20:32:58Z&quot;</span>, OpenPaasKubernetesVersion:<span class="string">&quot;v1.03.02&quot;</span>, GoVersion:<span class="string">&quot;go1.7.5&quot;</span>, Compiler:<span class="string">&quot;gc&quot;</span>, Platform:<span class="string">&quot;linux/amd64&quot;</span>&#125;</span><br></pre></td></tr></table></figure><h2 id="è·å–æœ‰å…³ç¯å¢ƒå’Œé…ç½®çš„å„ç§ä¿¡æ¯"><a class="markdownIt-Anchor" href="#è·å–æœ‰å…³ç¯å¢ƒå’Œé…ç½®çš„å„ç§ä¿¡æ¯"></a> <strong>è·å–æœ‰å…³ç¯å¢ƒå’Œé…ç½®çš„å„ç§ä¿¡æ¯</strong></h2><h2 id="docker-2"><a class="markdownIt-Anchor" href="#docker-2"></a> <strong>docker</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">docker info</span><br><span class="line"></span><br><span class="line">Containers: 40</span><br><span class="line">Images: 168</span><br><span class="line">Storage Driver: aufs</span><br><span class="line">Root Dir: /usr/local/google/docker/aufs</span><br><span class="line">Backing Filesystem: extfs</span><br><span class="line">Dirs: 248</span><br><span class="line">Dirperm1 Supported: <span class="literal">false</span></span><br><span class="line">Execution Driver: native-0.2</span><br><span class="line">Logging Driver: json-file</span><br><span class="line">Kernel Version: 3.13.0-53-generic</span><br><span class="line">Operating System: Ubuntu 14.04.2 LTS</span><br><span class="line">CPUs: 12</span><br><span class="line">Total Memory: 31.32 GiB</span><br><span class="line">Name: k8s-is-fun.mtv.corp.google.com</span><br><span class="line">ID: ADUV:GCYR:B3VJ:HMPO:LNPQ:KD5S:YKFQ:76VN:IANZ:7TFV:ZBF4:BYJO</span><br><span class="line">WARNING: No swap <span class="built_in">limit</span> support</span><br></pre></td></tr></table></figure><h2 id="kubectl-2"><a class="markdownIt-Anchor" href="#kubectl-2"></a> <strong>kubectl</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">kubectl cluster-info</span><br><span class="line"></span><br><span class="line">Kubernetes master is running at https://108.59.85.141</span><br><span class="line">KubeDNS is running at https://108.59.85.141/api/v1/namespaces/kube-system/services/kube-dns/proxy</span><br><span class="line">kubernetes-dashboard is running at https://108.59.85.141/api/v1/namespaces/kube-system/services/kubernetes-dashboard/proxy</span><br><span class="line">Grafana is running at https://108.59.85.141/api/v1/namespaces/kube-system/services/monitoring-grafana/proxy</span><br><span class="line">Heapster is running at https://108.59.85.141/api/v1/namespaces/kube-system/services/monitoring-heapster/proxy</span><br><span class="line">InfluxDB is running at https://108.59.85.141/api/v1/namespaces/kube-system/services/monitoring-influxdb/proxy</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kubernetes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>K8sè¿ç»´ç®¡ç†å¹³å°ï¼šDashboard_kubernetes-dashboard</title>
      <link href="/2025/05/31/kubernetes/K8s%E8%BF%90%E7%BB%B4%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%EF%BC%9ADashboard_kubernetes-dashboard/"/>
      <url>/2025/05/31/kubernetes/K8s%E8%BF%90%E7%BB%B4%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%EF%BC%9ADashboard_kubernetes-dashboard/</url>
      
        <content type="html"><![CDATA[<h3 id="1-åˆ›å»ºå‘½åç©ºé—´"><a class="markdownIt-Anchor" href="#1-åˆ›å»ºå‘½åç©ºé—´"></a> 1ã€åˆ›å»ºå‘½åç©ºé—´</h3><p>åœ¨ Kubernetes ä¸­ï¼Œå‘½åç©ºé—´ï¼ˆNamespaceï¼‰æ˜¯ä¸€ç§éå¸¸é‡è¦çš„èµ„æºç®¡ç†æ–¹å¼ï¼Œå®ƒèƒ½å¤Ÿå°†ä¸åŒçš„ä¸šåŠ¡ã€é¡¹ç›®æˆ–è€…å›¢é˜Ÿçš„èµ„æºéš”ç¦»å¼€æ¥ï¼Œé¿å…èµ„æºä¹‹é—´çš„å†²çªã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåä¸º <strong>kubernetes-dashboard</strong> çš„å‘½åç©ºé—´ï¼Œç”¨äºéƒ¨ç½² Kubernetes Dashboardã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kubectl create ns kubernetes-dashboard</span><br><span class="line"><span class="built_in">alias</span> kd=<span class="string">&#x27;kubectl -n kubernetes-dashboard&#x27;</span></span><br></pre></td></tr></table></figure><p>ä¸Šè¿°å‘½ä»¤ä¸­ï¼Œkubectl create ns kubernetes-dashboard ç”¨äºåˆ›å»º kubernetes-dashboard å‘½åç©ºé—´ã€‚è€Œ alias kd=â€˜kubectl -n kubernetes-dashboardâ€™ åˆ™æ˜¯ä¸ºäº†æ–¹ä¾¿åç»­æ“ä½œï¼Œåˆ›å»ºäº†ä¸€ä¸ªåˆ«å kdï¼Œè¿™æ ·åœ¨åç»­çš„å‘½ä»¤ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ kd æ¥ä»£è¡¨åœ¨ kubernetes-dashboard å‘½åç©ºé—´ä¸‹æ‰§è¡Œå‘½ä»¤ã€‚æ›´å¤šå…³äºå‘½åç©ºé—´çš„è¯¦ç»†ä»‹ç»ï¼Œå¯ä»¥å‚è€ƒ<a href="https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/namespaces/">Kubernetes å‘½åç©ºé—´å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><h3 id="2-ç¼–è¾‘yaml"><a class="markdownIt-Anchor" href="#2-ç¼–è¾‘yaml"></a> 2ã€ç¼–è¾‘YAML</h3><p>åœ¨éƒ¨ç½² Kubernetes Dashboard ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç¼–è¾‘ä¸€ä¸ª YAML æ–‡ä»¶æ¥å®šä¹‰ç›¸å…³çš„èµ„æºã€‚YAML æ–‡ä»¶æ˜¯ Kubernetes ä¸­ç”¨äºæè¿°èµ„æºé…ç½®çš„å¸¸ç”¨æ–‡ä»¶æ ¼å¼ï¼Œé€šè¿‡å®ƒå¯ä»¥ç²¾ç¡®åœ°å®šä¹‰æˆ‘ä»¬éœ€è¦éƒ¨ç½²çš„èµ„æºçš„å„ç§å±æ€§ã€‚</p><p>æ‰§è¡Œä¸Šè¿°å‘½ä»¤åï¼Œä¼šæ‰“å¼€ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¶ä¸­ç¼–å†™æˆ–è€…ä¿®æ”¹ kubernetes-dashboard.yaml æ–‡ä»¶çš„å†…å®¹ã€‚ä¸‹é¢æ˜¯ç¼–è¾‘è¯¥æ–‡ä»¶æ—¶å¯èƒ½æ¶‰åŠçš„ä¸€äº›å…³é”®å†…å®¹åŠå¯¹åº”çš„é…ç½®ç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi kubernetes-dashboard.yaml</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘è¿‡ç¨‹ä¸­å¯èƒ½ä¼šé‡åˆ°å„ç§é—®é¢˜ï¼Œä¾‹å¦‚è¯­æ³•é”™è¯¯ç­‰ï¼Œä½ å¯ä»¥å‚è€ƒ<a href="https://kubernetes.io/zh-cn/docs/concepts/configuration/overview/">Kubernetes YAML è¯­æ³•æŒ‡å—</a>æ¥ç¡®ä¿æ–‡ä»¶çš„æ­£ç¡®æ€§ã€‚ç¼–è¾‘å®Œæˆåçš„æ–‡ä»¶ç¤ºä¾‹æˆªå›¾å¦‚ä¸‹ï¼š</p><p><img src="ddeb4787c31b02bb884d133c7e4a450b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="2607ccaa5da629abf0d67730a0e64826.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="3-éƒ¨ç½²pod"><a class="markdownIt-Anchor" href="#3-éƒ¨ç½²pod"></a> 3ã€éƒ¨ç½²Pod</h3><p>å½“ YAML æ–‡ä»¶ç¼–è¾‘å®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ kubectl apply å‘½ä»¤æ¥éƒ¨ç½²ç›¸å…³çš„èµ„æºäº†ã€‚è¯¥å‘½ä»¤ä¼šæ ¹æ® YAML æ–‡ä»¶ä¸­çš„å®šä¹‰ï¼Œåœ¨ Kubernetes é›†ç¾¤ä¸­åˆ›å»ºæˆ–æ›´æ–°ç›¸åº”çš„èµ„æºã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f kubernetes-dashboard.yaml</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä¸Šè¿°å‘½ä»¤åï¼Œå¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹æç¤ºä¿¡æ¯ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Warning: kubectl apply should be used on resource created by either kubectl create --save-config or kubectl apply</span><br><span class="line">namespace/kubernetes-dashboard configured</span><br><span class="line">serviceaccount/kubernetes-dashboard created</span><br><span class="line">service/kubernetes-dashboard created</span><br><span class="line">secret/kubernetes-dashboard-certs created</span><br><span class="line">secret/kubernetes-dashboard-csrf created</span><br><span class="line">secret/kubernetes-dashboard-key-holder created</span><br><span class="line">configmap/kubernetes-dashboard-settings created</span><br><span class="line">role.rbac.authorization.k8s.io/kubernetes-dashboard created</span><br><span class="line">clusterrole.rbac.authorization.k8s.io/kubernetes-dashboard created</span><br><span class="line">rolebinding.rbac.authorization.k8s.io/kubernetes-dashboard created</span><br><span class="line">clusterrolebinding.rbac.authorization.k8s.io/kubernetes-dashboard created</span><br><span class="line">deployment.apps/kubernetes-dashboard created</span><br><span class="line">service/dashboard-metrics-scraper created</span><br><span class="line">deployment.apps/dashboard-metrics-scraper created</span><br></pre></td></tr></table></figure><p>ä»è¾“å‡ºä¿¡æ¯ä¸­å¯ä»¥çœ‹åˆ°ï¼ŒKubernetes ä¾æ¬¡åˆ›å»ºæˆ–é…ç½®äº†å‘½åç©ºé—´ã€æœåŠ¡è´¦æˆ·ã€æœåŠ¡ã€å¯†é’¥ã€é…ç½®æ˜ å°„ã€è§’è‰²ã€é›†ç¾¤è§’è‰²ã€è§’è‰²ç»‘å®šã€é›†ç¾¤è§’è‰²ç»‘å®šã€éƒ¨ç½²å’ŒæŒ‡æ ‡æ”¶é›†æœåŠ¡ç­‰èµ„æºã€‚æ›´å¤šå…³äº kubectl apply å‘½ä»¤çš„è¯¦ç»†ç”¨æ³•ï¼Œå¯ä»¥å‚è€ƒKubectl å‘½ä»¤å®˜æ–¹æ–‡æ¡£ã€‚</p><h3 id="4-æŸ¥çœ‹èµ„æº"><a class="markdownIt-Anchor" href="#4-æŸ¥çœ‹èµ„æº"></a> 4ã€æŸ¥çœ‹èµ„æº</h3><p>éƒ¨ç½²å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ kubectl get å‘½ä»¤æ¥æŸ¥çœ‹åœ¨ kubernetes-dashboard å‘½åç©ºé—´ä¸‹éƒ¨ç½²çš„ Pod å’ŒæœåŠ¡çš„è¯¦ç»†ä¿¡æ¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pod,svc -n kubernetes-dashboard -o wide</span><br></pre></td></tr></table></figure><p>è¯¥å‘½ä»¤ä¼šä»¥è¯¦ç»†çš„æ ¼å¼è¾“å‡º kubernetes-dashboard å‘½åç©ºé—´ä¸‹çš„æ‰€æœ‰ Pod å’ŒæœåŠ¡çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ Pod çš„åç§°ã€çŠ¶æ€ã€æ‰€åœ¨èŠ‚ç‚¹ã€IP åœ°å€ï¼Œä»¥åŠæœåŠ¡çš„åç§°ã€ç±»å‹ã€IP åœ°å€ã€ç«¯å£ç­‰ä¿¡æ¯ã€‚é€šè¿‡æŸ¥çœ‹è¿™äº›ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®è®¤èµ„æºæ˜¯å¦æˆåŠŸéƒ¨ç½²ï¼Œä»¥åŠèµ„æºçš„è¿è¡ŒçŠ¶æ€æ˜¯å¦æ­£å¸¸ã€‚</p><h3 id="5-ç”Ÿäº§token"><a class="markdownIt-Anchor" href="#5-ç”Ÿäº§token"></a> 5ã€ç”Ÿäº§Token</h3><p>ä¸ºäº†èƒ½å¤Ÿç™»å½• Kubernetes Dashboard çš„ Web ç•Œé¢ï¼Œæˆ‘ä»¬éœ€è¦ç”Ÿæˆä¸€ä¸ªæœ‰æ•ˆçš„ Tokenã€‚Token æ˜¯ä¸€ç§èº«ä»½éªŒè¯çš„å‡­è¯ï¼Œç”¨äºéªŒè¯ç”¨æˆ·çš„èº«ä»½ï¼Œç¡®ä¿åªæœ‰æˆæƒçš„ç”¨æˆ·èƒ½å¤Ÿè®¿é—® Dashboardã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl describe -n kube-system  $(kubectl -n  kube-system get secret -n kube-system  -o name  | grep namespace) | grep token</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°å‘½ä»¤ä¼šåœ¨ kube-system å‘½åç©ºé—´ä¸‹æŸ¥æ‰¾ä¸å‘½åç©ºé—´ç›¸å…³çš„å¯†é’¥ï¼Œå¹¶ä»ä¸­æå–å‡º Token ä¿¡æ¯ã€‚ç”Ÿæˆçš„ Token æ˜¯ä¸€ä¸²é•¿å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬éœ€è¦å¦¥å–„ä¿å­˜ï¼Œåç»­ç™»å½• Dashboard æ—¶ä¼šç”¨åˆ°ã€‚æ›´å¤šå…³äº Kubernetes èº«ä»½éªŒè¯å’Œ Token çš„è¯¦ç»†å†…å®¹ï¼Œå¯ä»¥å‚è€ƒ<a href="https://kubernetes.io/zh-cn/docs/reference/access-authn-authz/authentication/">Kubernetes èº«ä»½éªŒè¯</a>å®˜æ–¹æ–‡æ¡£ã€‚</p><h3 id="6-webç•Œé¢è®¿é—®"><a class="markdownIt-Anchor" href="#6-webç•Œé¢è®¿é—®"></a> 6ã€Webç•Œé¢è®¿é—®</h3><h4 id="æ³¨æ„ä¸€å®šæ˜¯httpså¦åˆ™æ— æ³•è®¿é—®"><a class="markdownIt-Anchor" href="#æ³¨æ„ä¸€å®šæ˜¯httpså¦åˆ™æ— æ³•è®¿é—®"></a> æ³¨æ„ï¼šä¸€å®šæ˜¯httpsï¼Œå¦åˆ™æ— æ³•è®¿é—®</h4><p>åœ¨è®¿é—® Kubernetes Dashboard çš„ Web ç•Œé¢æ—¶ï¼Œéœ€è¦æ³¨æ„ä¸€å®šè¦ä½¿ç”¨ https åè®®ï¼Œå¦åˆ™å°†æ— æ³•æ­£å¸¸è®¿é—®ã€‚è¿™æ˜¯å› ä¸º Dashboard é»˜è®¤é…ç½®äº†å®‰å…¨çš„è®¿é—®æ–¹å¼ï¼Œä½¿ç”¨ https å¯ä»¥ç¡®ä¿æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­çš„å®‰å…¨æ€§ã€‚</p><p>åœ¨è®¿é—®ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæ£€æŸ¥ä¸€ä¸‹ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹ Pod çš„è¯¦ç»†ä¿¡æ¯å’Œç«¯å£ç›‘å¬æƒ…å†µ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">kd get pod -o wide</span><br><span class="line"></span><br><span class="line">netstat -aptn|grep 311</span><br><span class="line"></span><br><span class="line">telnet ipåœ°å€ 31111</span><br></pre></td></tr></table></figure><p>kd get pod -o wide å‘½ä»¤ç”¨äºæŸ¥çœ‹ kubernetes-dashboard å‘½åç©ºé—´ä¸‹æ‰€æœ‰ Pod çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬ Pod çš„ IP åœ°å€ã€æ‰€åœ¨èŠ‚ç‚¹ç­‰ã€‚netstat -aptn|grep 311 å‘½ä»¤ç”¨äºæŸ¥çœ‹ç³»ç»Ÿä¸­æ˜¯å¦æœ‰è¿›ç¨‹ç›‘å¬ 311 ç›¸å…³çš„ç«¯å£ã€‚telnet ipåœ°å€ 31111 å‘½ä»¤ç”¨äºæµ‹è¯•ä¸æŒ‡å®š IP åœ°å€å’Œç«¯å£çš„ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸ã€‚å¦‚æœè¿™äº›å‘½ä»¤æ‰§è¡Œåæ²¡æœ‰å‡ºç°é”™è¯¯ï¼Œè¯´æ˜ç½‘ç»œè¿æ¥æ­£å¸¸ï¼Œå¯ä»¥å°è¯•è®¿é—® Dashboard çš„ Web ç•Œé¢ã€‚</p><h4 id="è®¿é—®ç™»å½•é¡µé¢"><a class="markdownIt-Anchor" href="#è®¿é—®ç™»å½•é¡µé¢"></a> è®¿é—®ç™»å½•é¡µé¢</h4><p>æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ <a href="https://xn--ip-im8ckc:31111/">https://ipåœ°å€:31111/</a> ï¼ˆå°†ipåœ°å€ æ›¿æ¢ä¸ºå®é™…çš„ IP åœ°å€ï¼‰ï¼Œå³å¯æ‰“å¼€ Kubernetes Dashboard çš„ç™»å½•é¡µé¢ã€‚åœ¨ç™»å½•é¡µé¢ä¸­ï¼Œè¾“å…¥ä¹‹å‰ç”Ÿæˆçš„ Tokenï¼Œç„¶åç‚¹å‡»ç™»å½•æŒ‰é’®ï¼Œå³å¯ç™»å½•åˆ° Dashboardã€‚</p><p><img src="d0c2e4487d41eb72c5f4754accd7ea1e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="æŸ¥çœ‹èµ„æº"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹èµ„æº"></a> æŸ¥çœ‹èµ„æº</h4><p>ç™»å½•æˆåŠŸåï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Dashboard ä¸­æŸ¥çœ‹å„ç§èµ„æºçš„è¯¦ç»†ä¿¡æ¯ã€‚Dashboard æä¾›äº†ç›´è§‚çš„ç•Œé¢ï¼Œæ–¹ä¾¿æˆ‘ä»¬æŸ¥çœ‹ Podã€æœåŠ¡ã€éƒ¨ç½²ç­‰èµ„æºçš„çŠ¶æ€ã€é…ç½®ä¿¡æ¯ç­‰ã€‚<br /><img src="19a11ef4feb8429289a996336f03a734.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="ç¼–è¾‘èµ„æº"><a class="markdownIt-Anchor" href="#ç¼–è¾‘èµ„æº"></a> ç¼–è¾‘èµ„æº</h4><p>é™¤äº†æŸ¥çœ‹èµ„æºï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨ Dashboard ä¸­ç›´æ¥ç¼–è¾‘èµ„æºçš„é…ç½®ä¿¡æ¯ã€‚é€šè¿‡ç‚¹å‡»ç›¸åº”èµ„æºçš„ç¼–è¾‘æŒ‰é’®ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹èµ„æºçš„å„ç§å±æ€§ï¼Œä¾‹å¦‚ Pod çš„å‰¯æœ¬æ•°é‡ã€æœåŠ¡çš„ç«¯å£é…ç½®ç­‰ã€‚<br /><img src="d6a37f816144d0a8fc0dd6918434ea2b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="æŸ¥çœ‹æ—¥å¿—"><a class="markdownIt-Anchor" href="#æŸ¥çœ‹æ—¥å¿—"></a> æŸ¥çœ‹æ—¥å¿—</h4><p>åœ¨æ’æŸ¥é—®é¢˜æˆ–è€…ç›‘æ§åº”ç”¨ç¨‹åºè¿è¡ŒçŠ¶æ€æ—¶ï¼ŒæŸ¥çœ‹ Pod çš„æ—¥å¿—ä¿¡æ¯æ˜¯éå¸¸é‡è¦çš„ã€‚åœ¨ Dashboard ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°æŸ¥çœ‹æ¯ä¸ª Pod çš„æ—¥å¿—å†…å®¹ï¼Œå¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®šä½å’Œè§£å†³é—®é¢˜ã€‚<br /><img src="ad4209e52249270885f1c728f47abef1.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="7-ä½¿ç”¨ä½“éªŒ"><a class="markdownIt-Anchor" href="#7-ä½¿ç”¨ä½“éªŒ"></a> 7ã€ä½¿ç”¨ä½“éªŒ</h3><h4 id="ä¼˜ç‚¹"><a class="markdownIt-Anchor" href="#ä¼˜ç‚¹"></a> ä¼˜ç‚¹ï¼š</h4><h5 id="1-åŠŸèƒ½ç›¸å¯¹å…¨é¢"><a class="markdownIt-Anchor" href="#1-åŠŸèƒ½ç›¸å¯¹å…¨é¢"></a> 1ã€åŠŸèƒ½ç›¸å¯¹å…¨é¢</h5><p>Kubernetes Dashboard æä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ï¼Œæ¶µç›–äº†èµ„æºçš„æŸ¥çœ‹ã€ç¼–è¾‘ã€ç›‘æ§ã€æ—¥å¿—æŸ¥çœ‹ç­‰å¤šä¸ªæ–¹é¢ï¼Œèƒ½å¤Ÿæ»¡è¶³æˆ‘ä»¬æ—¥å¸¸å¯¹ Kubernetes é›†ç¾¤è¿›è¡Œç®¡ç†å’Œè¿ç»´çš„å¤§éƒ¨åˆ†éœ€æ±‚ã€‚æ— è®ºæ˜¯æŸ¥çœ‹ Pod çš„è¿è¡ŒçŠ¶æ€ï¼Œè¿˜æ˜¯å¯¹éƒ¨ç½²è¿›è¡Œæ»šåŠ¨æ›´æ–°ï¼Œéƒ½å¯ä»¥åœ¨ Dashboard ä¸­æ–¹ä¾¿åœ°å®Œæˆã€‚</p><h5 id="2-uiç®€ä»‹"><a class="markdownIt-Anchor" href="#2-uiç®€ä»‹"></a> 2ã€UIç®€ä»‹</h5><p>Dashboard çš„ç”¨æˆ·ç•Œé¢è®¾è®¡ç®€æ´æ˜äº†ï¼Œæ˜“äºä¸Šæ‰‹ã€‚å³ä½¿æ˜¯å¯¹ Kubernetes ä¸å¤ªç†Ÿæ‚‰çš„ç”¨æˆ·ï¼Œä¹Ÿèƒ½å¤Ÿå¿«é€Ÿæ‰¾åˆ°è‡ªå·±éœ€è¦çš„åŠŸèƒ½å…¥å£ï¼Œé€šè¿‡ç›´è§‚çš„ç•Œé¢æ“ä½œæ¥å®Œæˆå„ç§ç®¡ç†ä»»åŠ¡ã€‚</p><h3 id="8-é™„å½•éƒ¨ç½²æ–‡ä»¶"><a class="markdownIt-Anchor" href="#8-é™„å½•éƒ¨ç½²æ–‡ä»¶"></a> 8ã€é™„å½•ï¼šéƒ¨ç½²æ–‡ä»¶</h3><p>ä»¥ä¸‹æ˜¯å®Œæ•´çš„ kubernetes-dashboard.yaml éƒ¨ç½²æ–‡ä»¶ç¤ºä¾‹ï¼Œä½ å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚è¿›è¡Œè°ƒæ•´å’Œä¿®æ”¹ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br></pre></td><td class="code"><pre><span class="line"># Copyright 2017 The Kubernetes Authors.</span><br><span class="line">#</span><br><span class="line"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span><br><span class="line"># you may not use this file except in compliance with the License.</span><br><span class="line"># You may obtain a copy of the License at</span><br><span class="line">#</span><br><span class="line">#     http://www.apache.org/licenses/LICENSE-2.0</span><br><span class="line">#</span><br><span class="line"># Unless required by applicable law or agreed to in writing, software</span><br><span class="line"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span><br><span class="line"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span><br><span class="line"># See the License for the specific language governing permissions and</span><br><span class="line"># limitations under the License.</span><br><span class="line"></span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Namespace</span><br><span class="line">metadata:</span><br><span class="line">  name: kubernetes-dashboard</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: ServiceAccount</span><br><span class="line">metadata:</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: kubernetes-dashboard</span><br><span class="line">  name: kubernetes-dashboard</span><br><span class="line">  namespace: kubernetes-dashboard</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">kind: Service</span><br><span class="line">apiVersion: v1</span><br><span class="line">metadata:</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: kubernetes-dashboard</span><br><span class="line">  name: kubernetes-dashboard</span><br><span class="line">  namespace: kubernetes-dashboard</span><br><span class="line">spec:</span><br><span class="line">  type: NodePort</span><br><span class="line">  ports:</span><br><span class="line">    - port: 443</span><br><span class="line">      targetPort: 8443</span><br><span class="line">      nodePort: 31111</span><br><span class="line">  selector:</span><br><span class="line">    k8s-app: kubernetes-dashboard</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Secret</span><br><span class="line">metadata:</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: kubernetes-dashboard</span><br><span class="line">  name: kubernetes-dashboard-certs</span><br><span class="line">  namespace: kubernetes-dashboard</span><br><span class="line">type: Opaque</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Secret</span><br><span class="line">metadata:</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: kubernetes-dashboard</span><br><span class="line">  name: kubernetes-dashboard-csrf</span><br><span class="line">  namespace: kubernetes-dashboard</span><br><span class="line">type: Opaque</span><br><span class="line">data:</span><br><span class="line">  csrf: &quot;&quot;</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Secret</span><br><span class="line">metadata:</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: kubernetes-dashboard</span><br><span class="line">  name: kubernetes-dashboard-key-holder</span><br><span class="line">  namespace: kubernetes-dashboard</span><br><span class="line">type: Opaque</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">kind: ConfigMap</span><br><span class="line">apiVersion: v1</span><br><span class="line">metadata:</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: kubernetes-dashboard</span><br><span class="line">  name: kubernetes-dashboard-settings</span><br><span class="line">  namespace: kubernetes-dashboard</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">kind: Role</span><br><span class="line">apiVersion: rbac.authorization.k8s.io/v1</span><br><span class="line">metadata:</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: kubernetes-dashboard</span><br><span class="line">  name: kubernetes-dashboard</span><br><span class="line">  namespace: kubernetes-dashboard</span><br><span class="line">rules:</span><br><span class="line">  # Allow Dashboard to get, update and delete Dashboard exclusive secrets.</span><br><span class="line">  - apiGroups: [&quot;&quot;]</span><br><span class="line">    resources: [&quot;secrets&quot;]</span><br><span class="line">    resourceNames: [&quot;kubernetes-dashboard-key-holder&quot;, &quot;kubernetes-dashboard-certs&quot;, &quot;kubernetes-dashboard-csrf&quot;]</span><br><span class="line">    verbs: [&quot;get&quot;, &quot;update&quot;, &quot;delete&quot;]</span><br><span class="line">    # Allow Dashboard to get and update &#x27;kubernetes-dashboard-settings&#x27; config map.</span><br><span class="line">  - apiGroups: [&quot;&quot;]</span><br><span class="line">    resources: [&quot;configmaps&quot;]</span><br><span class="line">    resourceNames: [&quot;kubernetes-dashboard-settings&quot;]</span><br><span class="line">    verbs: [&quot;get&quot;, &quot;update&quot;]</span><br><span class="line">    # Allow Dashboard to get metrics.</span><br><span class="line">  - apiGroups: [&quot;&quot;]</span><br><span class="line">    resources: [&quot;services&quot;]</span><br><span class="line">    resourceNames: [&quot;heapster&quot;, &quot;dashboard-metrics-scraper&quot;]</span><br><span class="line">    verbs: [&quot;proxy&quot;]</span><br><span class="line">  - apiGroups: [&quot;&quot;]</span><br><span class="line">    resources: [&quot;services/proxy&quot;]</span><br><span class="line">    resourceNames: [&quot;heapster&quot;, &quot;http:heapster:&quot;, &quot;https:heapster:&quot;, &quot;dashboard-metrics-scraper&quot;, &quot;http:dashboard-metrics-scraper&quot;]</span><br><span class="line">    verbs: [&quot;get&quot;]</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">kind: ClusterRole</span><br><span class="line">apiVersion: rbac.authorization.k8s.io/v1</span><br><span class="line">metadata:</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: kubernetes-dashboard</span><br><span class="line">  name: kubernetes-dashboard</span><br><span class="line">rules:</span><br><span class="line">  # Allow Metrics Scraper to get metrics from the Metrics server</span><br><span class="line">  - apiGroups: [&quot;metrics.k8s.io&quot;]</span><br><span class="line">    resources: [&quot;pods&quot;, &quot;nodes&quot;]</span><br><span class="line">    verbs: [&quot;get&quot;, &quot;list&quot;, &quot;watch&quot;]</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">apiVersion: rbac.authorization.k8s.io/v1</span><br><span class="line">kind: RoleBinding</span><br><span class="line">metadata:</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: kubernetes-dashboard</span><br><span class="line">  name: kubernetes-dashboard</span><br><span class="line">  namespace: kubernetes-dashboard</span><br><span class="line">roleRef:</span><br><span class="line">  apiGroup: rbac.authorization.k8s.io</span><br><span class="line">  kind: Role</span><br><span class="line">  name: kubernetes-dashboard</span><br><span class="line">subjects:</span><br><span class="line">  - kind: ServiceAccount</span><br><span class="line">    name: kubernetes-dashboard</span><br><span class="line">    namespace: kubernetes-dashboard</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">apiVersion: rbac.authorization.k8s.io/v1</span><br><span class="line">kind: ClusterRoleBinding</span><br><span class="line">metadata:</span><br><span class="line">  name: kubernetes-dashboard</span><br><span class="line">roleRef:</span><br><span class="line">  apiGroup: rbac.authorization.k8s.io</span><br><span class="line">  kind: ClusterRole</span><br><span class="line">  name: kubernetes-dashboard</span><br><span class="line">subjects:</span><br><span class="line">  - kind: ServiceAccount</span><br><span class="line">    name: kubernetes-dashboard</span><br><span class="line">    namespace: kubernetes-dashboard</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">kind: Deployment</span><br><span class="line">apiVersion: apps/v1</span><br><span class="line">metadata:</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: kubernetes-dashboard</span><br><span class="line">  name: kubernetes-dashboard</span><br><span class="line">  namespace: kubernetes-dashboard</span><br><span class="line">spec:</span><br><span class="line">  replicas: 1</span><br><span class="line">  revisionHistoryLimit: 10</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      k8s-app: kubernetes-dashboard</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        k8s-app: kubernetes-dashboard</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">        - name: kubernetes-dashboard</span><br><span class="line">          image: registry.cn-beijing.aliyuncs.com/qingfeng666/dashboard:v2.0.4</span><br><span class="line">          imagePullPolicy: Always</span><br><span class="line">          ports:</span><br><span class="line">            - containerPort: 8443</span><br><span class="line">              protocol: TCP</span><br><span class="line">          args:</span><br><span class="line">            - --auto-generate-certificates</span><br><span class="line">            - --namespace=kubernetes-dashboard</span><br><span class="line">            # Uncomment the following line to manually specify Kubernetes API server Host</span><br><span class="line">            # If not specified, Dashboard will attempt to auto discover the API server and connect</span><br><span class="line">            # to it. Uncomment only if the default does not work.</span><br><span class="line">            # - --apiserver-host=http://my-address:port</span><br><span class="line">          volumeMounts:</span><br><span class="line">            - name: kubernetes-dashboard-certs</span><br><span class="line">              mountPath: /certs</span><br><span class="line">              # Create on-disk volume to store exec logs</span><br><span class="line">            - mountPath: /tmp</span><br><span class="line">              name: tmp-volume</span><br><span class="line">          livenessProbe:</span><br><span class="line">            httpGet:</span><br><span class="line">              scheme: HTTPS</span><br><span class="line">              path: /</span><br><span class="line">              port: 8443</span><br><span class="line">            initialDelaySeconds: 30</span><br><span class="line">            timeoutSeconds: 30</span><br><span class="line">          securityContext:</span><br><span class="line">            allowPrivilegeEscalation: false</span><br><span class="line">            readOnlyRootFilesystem: true</span><br><span class="line">            runAsUser: 1001</span><br><span class="line">            runAsGroup: 2001</span><br><span class="line">      volumes:</span><br><span class="line">        - name: kubernetes-dashboard-certs</span><br><span class="line">          secret:</span><br><span class="line">            secretName: kubernetes-dashboard-certs</span><br><span class="line">        - name: tmp-volume</span><br><span class="line">          emptyDir: &#123;&#125;</span><br><span class="line">      serviceAccountName: kubernetes-dashboard</span><br><span class="line">      nodeSelector:</span><br><span class="line">        &quot;kubernetes.io/os&quot;: linux</span><br><span class="line">      # Comment the following tolerations if Dashboard must not be deployed on master</span><br><span class="line">      tolerations:</span><br><span class="line">        - key: node-role.kubernetes.io/master</span><br><span class="line">          effect: NoSchedule</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">kind: Service</span><br><span class="line">apiVersion: v1</span><br><span class="line">metadata:</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: dashboard-metrics-scraper</span><br><span class="line">  name: dashboard-metrics-scraper</span><br><span class="line">  namespace: kubernetes-dashboard</span><br><span class="line">spec:</span><br><span class="line">  ports:</span><br><span class="line">    - port: 8000</span><br><span class="line">      targetPort: 8000</span><br><span class="line">  selector:</span><br><span class="line">    k8s-app: dashboard-metrics-scraper</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">kind: Deployment</span><br><span class="line">apiVersion: apps/v1</span><br><span class="line">metadata:</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: dashboard-metrics-scraper</span><br><span class="line">  name: dashboard-metrics-scraper</span><br><span class="line">  namespace: kubernetes-dashboard</span><br><span class="line">spec:</span><br><span class="line">  replicas: 1</span><br><span class="line">  revisionHistoryLimit: 10</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      k8s-app: dashboard-metrics-scraper</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        k8s-app: dashboard-metrics-scraper</span><br><span class="line">      annotations:</span><br><span class="line">        seccomp.security.alpha.kubernetes.io/pod: &#x27;runtime/default&#x27;</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">        - name: dashboard-metrics-scraper</span><br><span class="line">          image: registry.cn-beijing.aliyuncs.com/qingfeng666/metrics-scraper:v1.0.4</span><br><span class="line">          ports:</span><br><span class="line">            - containerPort: 8000</span><br><span class="line">              protocol: TCP</span><br><span class="line">          livenessProbe:</span><br><span class="line">            httpGet:</span><br><span class="line">              scheme: HTTP</span><br><span class="line">              path: /</span><br><span class="line">              port: 8000</span><br><span class="line">            initialDelaySeconds: 30</span><br><span class="line">            timeoutSeconds: 30</span><br><span class="line">          volumeMounts:</span><br><span class="line">          - mountPath: /tmp</span><br><span class="line">            name: tmp-volume</span><br><span class="line">          securityContext:</span><br><span class="line">            allowPrivilegeEscalation: false</span><br><span class="line">            readOnlyRootFilesystem: true</span><br><span class="line">            runAsUser: 1001</span><br><span class="line">            runAsGroup: 2001</span><br><span class="line">      serviceAccountName: kubernetes-dashboard</span><br><span class="line">      nodeSelector:</span><br><span class="line">        &quot;kubernetes.io/os&quot;: linux</span><br><span class="line">      # Comment the following tolerations if Dashboard must not be deployed on master</span><br><span class="line">      tolerations:</span><br><span class="line">        - key: node-role.kubernetes.io/master</span><br><span class="line">          effect: NoSchedule</span><br><span class="line">      volumes:</span><br><span class="line">        - name: tmp-volume</span><br><span class="line">          emptyDir: &#123;&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kubernetes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>K8sè¿ç»´ç®¡ç†å¹³å° - KubeSphere 3.x å’Œ4.x ä½¿ç”¨åˆ†æï¼šåŠŸèƒ½è¾ƒå¼ºï¼ŒUIç¾è§‚</title>
      <link href="/2025/05/31/kubernetes/K8s%E8%BF%90%E7%BB%B4%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%20-%20KubeSphere%203.x%20%E5%92%8C4.x%20%E4%BD%BF%E7%94%A8%E5%88%86%E6%9E%90%EF%BC%9A%E5%8A%9F%E8%83%BD%E8%BE%83%E5%BC%BA%EF%BC%8CUI%E7%BE%8E%E8%A7%82/"/>
      <url>/2025/05/31/kubernetes/K8s%E8%BF%90%E7%BB%B4%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%20-%20KubeSphere%203.x%20%E5%92%8C4.x%20%E4%BD%BF%E7%94%A8%E5%88%86%E6%9E%90%EF%BC%9A%E5%8A%9F%E8%83%BD%E8%BE%83%E5%BC%BA%EF%BC%8CUI%E7%BE%8E%E8%A7%82/</url>
      
        <content type="html"><![CDATA[<h2 id="lic"><a class="markdownIt-Anchor" href="#lic"></a> Lic</h2><p><a href="https://github.com/kubesphere/kubesphere?tab=License-1-ov-file">License-1-ov-file</a><br /><img src="2142a0deccd141dfa035d889d16ebb77.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h2 id="ä½¿ç”¨æ„Ÿå—"><a class="markdownIt-Anchor" href="#ä½¿ç”¨æ„Ÿå—"></a> ä½¿ç”¨æ„Ÿå—</h2><h3 id="ä¼˜ç‚¹"><a class="markdownIt-Anchor" href="#ä¼˜ç‚¹"></a> ä¼˜ç‚¹ï¼š</h3><p>1ã€éƒ¨ç½²ç®€å•<br />2ã€æœ‰è®¿é—®æ§åˆ¶åŠŸèƒ½<br />3ã€UIç¾è§‚<br />4ã€3.x å…è´¹å¼€æº<br />5ã€ç›‘æ§å¯è§‚æµ‹æ€§å¼º<br />6ã€è¿ç»´æ“ä½œä¾¿æ·</p><h3 id="ä¼˜åŒ–ç‚¹"><a class="markdownIt-Anchor" href="#ä¼˜åŒ–ç‚¹"></a> ä¼˜åŒ–ç‚¹ï¼š</h3><p>1ã€ç¼ºå°‘æœåŠ¡ç½‘æ ¼ï¼ˆEndpointã€Ingressesç­‰ç®¡ç†ï¼‰<br />2ã€ç¼ºå°‘Storage Classes<br />3ã€ç¼ºå°‘RBACæƒé™ç®¡ç†ï¼ˆClusterRoleBindingã€ClusterRolesã€RoleBindingã€Rolesï¼‰ - è®¤è¯æˆæƒ<br />4ã€ç¼ºå°‘Events<br />5ã€ç¼ºå°‘Network Policies<br />6ã€ç¼ºå°‘Replica Sets<br />7ã€ç¼ºå°‘Podå®¹å™¨è¿ç»´åŠŸèƒ½ï¼ˆç™»å½•ã€æ—¥å¿—æŸ¥çœ‹ï¼‰<br />8ã€ç¼ºå°‘Nodesè´Ÿè½½ã€ç£ç›˜å»¶è¿Ÿã€æ–‡ä»¶å¥æŸ„ã€ç½‘ç»œä¸¢åŒ…å’Œé”™è¯¯ã€Kubernetes API Serverç›‘æ§<br />9ã€ç¼ºå°‘Etcdé›†ç¾¤ç›‘æ§</p><h2 id="å®æ“"><a class="markdownIt-Anchor" href="#å®æ“"></a> å®æ“</h2><h3 id="é¦–é¡µ"><a class="markdownIt-Anchor" href="#é¦–é¡µ"></a> é¦–é¡µ</h3><p>4.x é›†ç¾¤é…é¢ç»Ÿè®¡æ¸…æ™°ï¼Œå®¹å™¨ç»„çŠ¶æ€ç»Ÿè®¡å’ŒQoSåŠŸèƒ½è¾ƒå¥½<br /><img src="6175256e4ef1458dbe3e1f8a77a7956a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p><img src="1409b88138d547eeb7555209b168d7d3.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p><img src="7aeb8857067a4b0ea0582f2af8207880.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="é¡¹ç›®-åº”ç”¨è´Ÿè½½-é…ç½®-å®šåˆ¶èµ„æºå®šä¹‰"><a class="markdownIt-Anchor" href="#é¡¹ç›®-åº”ç”¨è´Ÿè½½-é…ç½®-å®šåˆ¶èµ„æºå®šä¹‰"></a> é¡¹ç›® | åº”ç”¨è´Ÿè½½ | é…ç½® | å®šåˆ¶èµ„æºå®šä¹‰</h3><p><strong>åŠŸèƒ½ç±»ä¼¼</strong></p><p>å®¹å™¨ç»„æ— æ³•æŸ¥çœ‹æ—¥å¿—å’Œç™»å½•<br /><img src="037f697829fc4502a89e2ef4cd9702c4.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="9933532c3ba34f6c8348a7ea4be4b20e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>å®šåˆ¶èµ„æºå®šä¹‰ï¼ˆCustom Resource Definitionï¼ŒCRDï¼‰æ˜¯ä¸€ç§ Kubernetes å®ç°è‡ªå®šä¹‰èµ„æºç±»å‹çš„æ‰©å±•æ–¹å¼ï¼Œæ‚¨å¯ä»¥åƒæ“ä½œå†…ç½®èµ„æºå¯¹è±¡ä¸€æ ·æ“ä½œå®šåˆ¶èµ„æºå®šä¹‰å¯¹è±¡ã€‚</p><p><img src="c09f5b5a2cb24ee48d6dfa93d63a01f4.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="64087ebdd0a64699add54a17ae7d8761.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>ç¼–è¾‘æ ‡ç­¾ã€æ±¡ç‚¹</p><p><img src="a7ce4b546fb94c0f8060f68228b8b9f8.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="å­˜å‚¨"><a class="markdownIt-Anchor" href="#å­˜å‚¨"></a> å­˜å‚¨</h3><p>3.x æœ‰å·å¿«ç…§å’Œå·å¿«ç…§ç±»<br /><img src="cc93ae5696d1419ab767002a9e0e5a61.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="c160a473414d4de39a2eba5b3efef0bc.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="ç›‘æ§å‘Šè­¦"><a class="markdownIt-Anchor" href="#ç›‘æ§å‘Šè­¦"></a> ç›‘æ§å‘Šè­¦</h3><p>é›†ç¾¤çŠ¶æ€ 3.x å¤šäº†1ä¸ªç»„ä»¶çŠ¶æ€<br /><img src="4bfe92f4490946f6bc9b92dd2ad5281a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="898db9e84c61499a99002a560f958822.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p><img src="7f48668288f946c8b0f66844d1ee2e48.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="é›†ç¾¤è®¾ç½®"><a class="markdownIt-Anchor" href="#é›†ç¾¤è®¾ç½®"></a> é›†ç¾¤è®¾ç½®</h3><p>3.x æœ‰1ä¸ªç½‘å…³è®¾ç½®<br /><img src="538d397466234917870c8a25cd026123.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="9c3b441b6d3c45ef9809a15ae50e9663.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p><img src="539e7721f5a04048bf4cede630dc9f29.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="8f46e361c32f4ae895d155e4eb7726a6.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h2 id="kubesphere-3x-å’Œ-4x"><a class="markdownIt-Anchor" href="#kubesphere-3x-å’Œ-4x"></a> <strong>KubeSphere 3.x</strong> å’Œ <strong>4.x</strong></h2><p>åœ¨ Kubernetes ç”Ÿæ€ç³»ç»Ÿä¸­ï¼Œ<strong>KubeSphere</strong> æ˜¯ä¸€ä¸ªå¼€æºçš„ä¼ä¸šçº§å®¹å™¨ç®¡ç†å¹³å°ï¼Œå®ƒæä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ï¼Œä»¥ä¾¿ç®€åŒ– Kubernetes é›†ç¾¤çš„ç®¡ç†å’Œåº”ç”¨éƒ¨ç½²ã€‚åœ¨ <strong>KubeSphere 3.x</strong> å’Œ <strong>4.x</strong> ç‰ˆæœ¬ä¹‹é—´ï¼Œç¡®å®å­˜åœ¨ä¸€äº›æ˜¾è‘—çš„å·®å¼‚ï¼Œä¸»è¦ä½“ç°åœ¨åŠŸèƒ½æ‰©å±•ã€æ¶æ„è®¾è®¡ã€ç”¨æˆ·ä½“éªŒã€æ€§èƒ½ä¼˜åŒ–ç­‰æ–¹é¢ã€‚ä¸‹é¢æˆ‘å°†è¯¦ç»†è¯´æ˜è¿™ä¸¤ä¸ªç‰ˆæœ¬çš„åŒºåˆ«ï¼š</p><h4 id="1-æ¶æ„å˜åŒ–"><a class="markdownIt-Anchor" href="#1-æ¶æ„å˜åŒ–"></a> 1. <strong>æ¶æ„å˜åŒ–</strong>ï¼š</h4><ul><li><p><strong>KubeSphere 3.x</strong>ï¼š</p><ul><li>KubeSphere 3.x åŸºäº Kubernetes å¹³å°æ„å»ºï¼Œå¹¶é€šè¿‡å¤šä¸ªå¾®æœåŠ¡æ¨¡å—å®ç°å…¶åŠŸèƒ½ï¼Œå¦‚å¤šç§Ÿæˆ·ã€åº”ç”¨éƒ¨ç½²ã€ç›‘æ§ç­‰ã€‚</li><li>é‡‡ç”¨äº†è¾ƒä¸ºä¼ ç»Ÿçš„ Kubernetes åŠ å¼ºç‰ˆæ¶æ„ï¼ŒåŠŸèƒ½æ¨¡å—è¾ƒä¸ºåˆ†æ•£ï¼Œé…ç½®å’Œç®¡ç†å¯èƒ½è¾ƒä¸ºå¤æ‚ã€‚</li><li>åœ¨ç‰ˆæœ¬ 3.x ä¸­ï¼Œå¾ˆå¤šåŠŸèƒ½éœ€è¦ä¾èµ–å¤–éƒ¨ç»„ä»¶ï¼ˆä¾‹å¦‚ Prometheusã€Alertmanagerï¼‰æ¥å®ç°ç›‘æ§ã€æ—¥å¿—æ”¶é›†ç­‰åŠŸèƒ½ã€‚</li></ul></li><li><p><strong>KubeSphere 4.x</strong>ï¼š</p><ul><li>KubeSphere 4.x å¼•å…¥äº†<strong>å…¨æ–°å¾®æœåŠ¡æ¶æ„</strong>ï¼Œæ›´æ³¨é‡å¯¹å¤šç§Ÿæˆ·ã€å¤šé›†ç¾¤çš„ç»Ÿä¸€ç®¡ç†ã€‚</li><li>é‡‡ç”¨äº† Kubernetes åŸç”Ÿçš„æ§åˆ¶å¹³é¢ï¼Œè¿›ä¸€æ­¥ç®€åŒ–äº† KubeSphere ä¸ Kubernetes ä¹‹é—´çš„é›†æˆã€‚</li><li>å¢å¼ºäº†å¯¹å¤šé›†ç¾¤ã€å¤šäº‘ç¯å¢ƒçš„æ”¯æŒï¼Œå¯ä»¥åœ¨ä¸åŒé›†ç¾¤é—´å®ç°æ›´å¼ºçš„èµ„æºå…±äº«å’ŒååŒã€‚</li></ul></li></ul><h4 id="2-å¤šé›†ç¾¤ç®¡ç†"><a class="markdownIt-Anchor" href="#2-å¤šé›†ç¾¤ç®¡ç†"></a> 2. <strong>å¤šé›†ç¾¤ç®¡ç†</strong>ï¼š</h4><ul><li><p><strong>KubeSphere 3.x</strong>ï¼š</p><ul><li>è™½ç„¶ KubeSphere 3.x æ”¯æŒå¤šé›†ç¾¤ç®¡ç†ï¼Œä½†ç›¸è¾ƒäº 4.x ç‰ˆæœ¬ï¼Œå…¶å¤šé›†ç¾¤åŠŸèƒ½ç›¸å¯¹è¾ƒä¸ºåŸºç¡€ï¼Œéœ€è¦æ›´å¤šçš„æ‰‹åŠ¨é…ç½®å’Œç®¡ç†ã€‚</li><li>æ”¯æŒä»å•ä¸€ç•Œé¢ç®¡ç†ä¸åŒé›†ç¾¤ï¼Œä½†åŠŸèƒ½æœ‰é™ï¼Œè·¨é›†ç¾¤çš„æœåŠ¡å‘ç°å’Œè°ƒåº¦è¾ƒä¸ºå¤æ‚ã€‚</li></ul></li><li><p><strong>KubeSphere 4.x</strong>ï¼š</p><ul><li>KubeSphere 4.x åœ¨å¤šé›†ç¾¤ç®¡ç†æ–¹é¢åšäº†å¾ˆå¤§æå‡ã€‚ç”¨æˆ·å¯ä»¥åœ¨ KubeSphere æ§åˆ¶å°ä¸­ç›´æ¥ç®¡ç†å¤šä¸ªé›†ç¾¤ï¼Œæ— è®ºæ˜¯æœ¬åœ°é›†ç¾¤è¿˜æ˜¯äº‘ç«¯é›†ç¾¤ã€‚</li><li>é€šè¿‡å¤šé›†ç¾¤ç®¡ç†ï¼ŒKubeSphere 4.x å¯ä»¥å®ç°è·¨é›†ç¾¤çš„åº”ç”¨éƒ¨ç½²ã€æœåŠ¡å‘ç°ã€æ—¥å¿—å’Œç›‘æ§ç»Ÿä¸€å±•ç¤ºï¼Œæ”¯æŒè·¨é›†ç¾¤çš„ç»Ÿä¸€ç­–ç•¥å’Œæƒé™ç®¡ç†ã€‚</li></ul></li></ul><h4 id="3-å¢å¼ºçš„-devops-åŠŸèƒ½"><a class="markdownIt-Anchor" href="#3-å¢å¼ºçš„-devops-åŠŸèƒ½"></a> 3. <strong>å¢å¼ºçš„ DevOps åŠŸèƒ½</strong>ï¼š</h4><ul><li><p><strong>KubeSphere 3.x</strong>ï¼š</p><ul><li>KubeSphere 3.x æä¾›äº†åŸºæœ¬çš„ DevOps åŠŸèƒ½ï¼Œæ”¯æŒ CI/CD ç®¡é“ã€ä»£ç æ„å»ºã€é•œåƒæ„å»ºç­‰ã€‚</li><li>ä½†è¿™äº›åŠŸèƒ½åœ¨ä¸€äº›æ–¹é¢ï¼ˆå¦‚ç¬¬ä¸‰æ–¹é›†æˆå’Œè‡ªå®šä¹‰åŒ–ï¼‰å¯èƒ½å­˜åœ¨ä¸€å®šé™åˆ¶ã€‚</li></ul></li><li><p><strong>KubeSphere 4.x</strong>ï¼š</p><ul><li>4.x ç‰ˆæœ¬è¿›ä¸€æ­¥å¼ºåŒ–äº† DevOps æ”¯æŒï¼Œæä¾›äº†æ›´å¤šçš„é›†æˆå·¥å…·å’ŒåŠŸèƒ½ï¼Œæ”¯æŒæ›´åŠ çµæ´»çš„ CI/CD æµç¨‹ã€‚</li><li>æ›´å¥½åœ°æ”¯æŒ Jenkinsã€GitLab ç­‰ç¬¬ä¸‰æ–¹å·¥å…·é›†æˆï¼Œå¹¶ä¸”åœ¨ DevOps æ§åˆ¶å°çš„ç”¨æˆ·ä½“éªŒä¸Šåšäº†è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿæ›´åŠ é«˜æ•ˆåœ°ç®¡ç†å’Œè‡ªåŠ¨åŒ–åº”ç”¨éƒ¨ç½²ã€‚</li></ul></li></ul><h4 id="4-ç›‘æ§ä¸æ—¥å¿—"><a class="markdownIt-Anchor" href="#4-ç›‘æ§ä¸æ—¥å¿—"></a> 4. <strong>ç›‘æ§ä¸æ—¥å¿—</strong>ï¼š</h4><ul><li><p><strong>KubeSphere 3.x</strong>ï¼š</p><ul><li>é»˜è®¤é›†æˆäº† Prometheus å’Œ Grafana ä½œä¸ºç›‘æ§å·¥å…·ï¼Œå¹¶ä½¿ç”¨ Elasticsearch + Fluentd + Kibanaï¼ˆEFKï¼‰è¿›è¡Œæ—¥å¿—ç®¡ç†ã€‚</li><li>ç›‘æ§å’Œæ—¥å¿—ç®¡ç†çš„é…ç½®éœ€è¦ä¸€äº›é¢å¤–çš„æ“ä½œï¼Œä¸”ç”¨æˆ·éœ€è¦è‡ªè¡Œé…ç½®å’Œç»´æŠ¤è¿™äº›é›†æˆå·¥å…·ã€‚</li></ul></li><li><p><strong>KubeSphere 4.x</strong>ï¼š</p><ul><li>KubeSphere 4.x åœ¨ç›‘æ§å’Œæ—¥å¿—ç®¡ç†æ–¹é¢åšäº†æ›´å¤šä¼˜åŒ–ï¼Œæä¾›äº†æ›´å¥½çš„é»˜è®¤é›†æˆï¼Œç®€åŒ–äº†é…ç½®å’Œç»´æŠ¤è¿‡ç¨‹ã€‚</li><li>å¢å¼ºäº† Prometheus å’Œ Grafana çš„é›†æˆï¼Œæä¾›äº†æ›´å¤šçš„å®æ—¶ç›‘æ§å’Œå‘Šè­¦åŠŸèƒ½ï¼ŒåŒæ—¶ç®€åŒ–äº†æ—¥å¿—æ”¶é›†ã€å­˜å‚¨å’ŒæŸ¥è¯¢çš„é…ç½®è¿‡ç¨‹ã€‚</li><li>å¯ä»¥é€šè¿‡ KubeSphere æ§åˆ¶å°ç›´æ¥æŸ¥çœ‹é›†ç¾¤ã€åº”ç”¨å’ŒæœåŠ¡çš„ç›‘æ§æ•°æ®ï¼Œå¹¶ä¸”æ”¯æŒè·¨é›†ç¾¤çš„ç›‘æ§æ•°æ®æ±‡æ€»ã€‚</li></ul></li></ul><h4 id="5-æ€§èƒ½å’Œå¯æ‰©å±•æ€§"><a class="markdownIt-Anchor" href="#5-æ€§èƒ½å’Œå¯æ‰©å±•æ€§"></a> 5. <strong>æ€§èƒ½å’Œå¯æ‰©å±•æ€§</strong>ï¼š</h4><ul><li><p><strong>KubeSphere 3.x</strong>ï¼š</p><ul><li>æ€§èƒ½æ–¹é¢å·²ç»è¾ƒä¸ºä¼˜åŒ–ï¼Œä½†ç”±äºå¤šç§åŠŸèƒ½æ¨¡å—è¾ƒä¸ºç‹¬ç«‹ï¼Œæ•´ä½“çš„å¯æ‰©å±•æ€§å’Œæ€§èƒ½å¯èƒ½åœ¨å¤§è§„æ¨¡é›†ç¾¤ä¸­è¡¨ç°ä¸å¦‚é¢„æœŸã€‚</li><li>å¯¹äºéå¸¸å¤§çš„é›†ç¾¤æˆ–åº”ç”¨è§„æ¨¡ï¼Œå¯èƒ½éœ€è¦é¢å¤–çš„è°ƒæ•´å’Œä¼˜åŒ–ã€‚</li></ul></li><li><p><strong>KubeSphere 4.x</strong>ï¼š</p><ul><li>KubeSphere 4.x åœ¨æ€§èƒ½å’Œå¯æ‰©å±•æ€§ä¸Šåšäº†æ˜¾è‘—ä¼˜åŒ–ï¼Œç‰¹åˆ«æ˜¯åœ¨å¯¹å¤§è§„æ¨¡é›†ç¾¤å’Œé«˜å¹¶å‘åœºæ™¯ä¸‹çš„æ”¯æŒã€‚å…¶æ¶æ„è®¾è®¡æ›´åŠ æ¨¡å—åŒ–å’Œçµæ´»ï¼Œèƒ½å¤Ÿé€‚åº”æ›´å¤§çš„é›†ç¾¤è§„æ¨¡ã€‚</li><li>4.x ç‰ˆæœ¬å¯¹äºèµ„æºçš„ç®¡ç†æ›´åŠ é«˜æ•ˆï¼Œèƒ½å¤Ÿåœ¨å¤šé›†ç¾¤çš„åœºæ™¯ä¸‹æä¾›æ›´å¥½çš„èµ„æºè°ƒåº¦å’Œç®¡ç†èƒ½åŠ›ã€‚</li></ul></li></ul><h4 id="6-ç”¨æˆ·ä½“éªŒ"><a class="markdownIt-Anchor" href="#6-ç”¨æˆ·ä½“éªŒ"></a> 6. <strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼š</h4><ul><li><p><strong>KubeSphere 3.x</strong>ï¼š</p><ul><li>ç•Œé¢ç›¸å¯¹è¾ƒä¸ºåŸºç¡€ï¼Œä½†åŠŸèƒ½å®Œæ•´ï¼Œé€‚åˆä¸€äº›æ ‡å‡†çš„ Kubernetes ä½¿ç”¨åœºæ™¯ã€‚</li><li>ç”¨æˆ·æ“ä½œè¿‡ç¨‹ä¸­å¯èƒ½éœ€è¦æ›´å¤šçš„æ‰‹åŠ¨é…ç½®å’Œè°ƒæ•´ã€‚</li></ul></li><li><p><strong>KubeSphere 4.x</strong>ï¼š</p><ul><li>4.x ç‰ˆæœ¬åœ¨ç”¨æˆ·ä½“éªŒæ–¹é¢åšäº†å¾ˆå¤šæå‡ï¼Œæä¾›äº†æ›´åŠ å‹å¥½çš„ UIï¼Œæ”¯æŒæ›´ç›´è§‚çš„æ“ä½œã€‚</li><li>å¢å¼ºäº†å¯¹ Kubernetes åŸç”Ÿèµ„æºï¼ˆå¦‚ Custom Resource Definitions, CRDsï¼‰çš„æ”¯æŒï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡æ§åˆ¶å°æ–¹ä¾¿åœ°ç®¡ç†å’Œé…ç½®ã€‚</li></ul></li></ul><h4 id="7-å®‰å…¨æ€§"><a class="markdownIt-Anchor" href="#7-å®‰å…¨æ€§"></a> 7. <strong>å®‰å…¨æ€§</strong>ï¼š</h4><ul><li><p><strong>KubeSphere 3.x</strong>ï¼š</p><ul><li>æä¾›åŸºç¡€çš„å®‰å…¨æ€§æ§åˆ¶ï¼Œå¦‚è§’è‰²æƒé™ç®¡ç†ï¼ˆRBACï¼‰ã€å¤šç§Ÿæˆ·éš”ç¦»ç­‰ï¼Œä½†åœ¨å®‰å…¨æ€§æ–¹é¢çš„å¢å¼ºåŠŸèƒ½è¾ƒä¸ºåŸºç¡€ã€‚</li></ul></li><li><p><strong>KubeSphere 4.x</strong>ï¼š</p><ul><li>åœ¨å®‰å…¨æ€§æ–¹é¢è¿›ä¸€æ­¥å¢å¼ºï¼Œæ”¯æŒæ›´å¤šçš„å®‰å…¨ç­–ç•¥å’Œæƒé™ç®¡ç†é€‰é¡¹ï¼Œå°¤å…¶æ˜¯åœ¨å¤šé›†ç¾¤ç¯å¢ƒä¸‹çš„å®‰å…¨æ§åˆ¶å’Œå®¡è®¡åŠŸèƒ½ã€‚</li><li>æä¾›äº†å¯¹æ›´å¤šå®‰å…¨æ’ä»¶å’Œå·¥å…·çš„æ”¯æŒï¼Œå¦‚å¯¹å®¹å™¨è¿è¡Œæ—¶å®‰å…¨ã€ç½‘ç»œå®‰å…¨ç­‰æ–¹é¢çš„å¢å¼ºã€‚</li></ul></li></ul><h4 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“ï¼š</h4><p>KubeSphere 3.x å’Œ 4.x ä¹‹é—´çš„ä¸»è¦åŒºåˆ«ä½“ç°åœ¨æ¶æ„ã€åŠŸèƒ½å’Œç”¨æˆ·ä½“éªŒçš„å…¨é¢æå‡ä¸Šã€‚4.x ç‰ˆæœ¬åœ¨å¤šé›†ç¾¤ç®¡ç†ã€DevOpsã€ç›‘æ§ã€æ—¥å¿—ã€æ€§èƒ½å’Œå®‰å…¨æ€§ç­‰æ–¹é¢è¿›è¡Œäº†æ˜¾è‘—çš„å¢å¼ºï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§è§„æ¨¡ç¯å¢ƒä¸‹çš„é€‚åº”æ€§å’Œç®¡ç†èƒ½åŠ›ä¸Šæœ‰äº†å¤§å¹…æ”¹å–„ã€‚å¦‚æœä½ çš„éœ€æ±‚æ¶‰åŠå¤šä¸ªé›†ç¾¤ç®¡ç†ã€é«˜æ•ˆçš„ DevOps æµç¨‹ã€ä»¥åŠæ›´å¼ºçš„ç›‘æ§å’Œæ—¥å¿—é›†æˆåŠŸèƒ½ï¼Œé‚£ä¹ˆå‡çº§åˆ° KubeSphere 4.x å°†æ˜¯ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kubernetes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>K8sè¿ç»´ç®¡ç†å¹³å° - xkubeä½“éªŒï¼šåŠŸèƒ½è¾ƒå¤š_xkubeç®¡ç†å¹³å°</title>
      <link href="/2025/05/31/kubernetes/K8s%E8%BF%90%E7%BB%B4%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%20-%20xkube%E4%BD%93%E9%AA%8C%EF%BC%9A%E5%8A%9F%E8%83%BD%E8%BE%83%E5%A4%9A_xkube%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0/"/>
      <url>/2025/05/31/kubernetes/K8s%E8%BF%90%E7%BB%B4%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%20-%20xkube%E4%BD%93%E9%AA%8C%EF%BC%9A%E5%8A%9F%E8%83%BD%E8%BE%83%E5%A4%9A_xkube%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="ç®€ä»‹"><a class="markdownIt-Anchor" href="#ç®€ä»‹"></a> ç®€ä»‹</h2><p>ä¸€æ¬¾åŸºäºclient-goã€layuiã€layuiminiã€beegoå¼€å‘çš„kuberneteså¤šé›†ç¾¤ç®¡ç†ç³»ç»Ÿï¼Œè¯¥ç³»ç»Ÿå…·å¤‡å°†å¤šä¸ªIDCã€å…¬æœ‰äº‘çš„K8sè¿›è¡Œç»Ÿä¸€è¿›è¡Œç®¡ç†ã€‚æ¯”Kubernetes Dashboardçš„åŠŸèƒ½æ›´ä¸°å¯Œï¼Œç•Œé¢æ›´å‹å¥½æ›´ç›´è§‚ã€‚</p><p><a href="https://gitee.com/eeenet/xkube">gitee</a></p><h2 id="lic"><a class="markdownIt-Anchor" href="#lic"></a> Lic</h2><p><img src="c89ef08593624354911217b39d791a25.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h2 id="å®‰è£…"><a class="markdownIt-Anchor" href="#å®‰è£…"></a> å®‰è£…</h2><h3 id="1-éœ€è¦æ‰‹åŠ¨å®‰è£…mysqlå»ºåº“"><a class="markdownIt-Anchor" href="#1-éœ€è¦æ‰‹åŠ¨å®‰è£…mysqlå»ºåº“"></a> 1ã€éœ€è¦æ‰‹åŠ¨å®‰è£…MySQLï¼Œ<strong>å»ºåº“</strong></h3><p>8.0éœ€è¦ä¿®æ”¹2ä¸ªåœ°æ–¹</p><p>1ï¼‰åœ¨ MySQL ä¸­ï¼ŒINT(11) ä¸­çš„ (11) æ˜¯æ˜¾ç¤ºå®½åº¦ï¼Œç”¨äºæŒ‡å®šæ˜¾ç¤ºæ—¶çš„å­—ç¬¦å®½åº¦ï¼Œä½†è¿™å¹¶ä¸ä¼šé™åˆ¶å®é™…å­˜å‚¨çš„æ•°å­—å¤§å°ã€‚ä¾‹å¦‚ï¼ŒINT(11) å’Œ INT åœ¨å­˜å‚¨å’Œå¤„ç†ä¸Šæ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œåªæ˜¯æ˜¾ç¤ºå®½åº¦ä¸åŒã€‚åœ¨ MySQL 8.0 åŠæ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œæ˜¾ç¤ºå®½åº¦è¢«è®¤ä¸ºæ˜¯æ²¡æœ‰å®é™…æ„ä¹‰çš„ï¼Œå› æ­¤è¢«å¼ƒç”¨ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&#x27;s/\(int\|bigint\|tinyint\|smallint\|mediumint\)([0-9]*\( unsigned\)\?)/\1/g&#x27;</span> db_xkube.sql</span><br></pre></td></tr></table></figure><p>2ï¼‰utf8 å­—ç¬¦é›†åœ¨ MySQL 8.0 ä¸­è¢«é€æ­¥æ›¿æ¢ä¸º utf8mb4ï¼Œä»¥æ”¯æŒæ›´å¹¿æ³›çš„ Unicode å­—ç¬¦ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&#x27;s/utf8/utf8mb4/g&#x27;</span> xkube/db_xkube.sql</span><br><span class="line">sed -i <span class="string">&#x27;s/utf8mb4mb4/utf8mb4/g&#x27;</span> xkube/db_xkube.sql</span><br></pre></td></tr></table></figure><h3 id="2-å¯åŠ¨å‘½ä»¤"><a class="markdownIt-Anchor" href="#2-å¯åŠ¨å‘½ä»¤"></a> 2ã€å¯åŠ¨å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 755 xkube</span><br><span class="line"><span class="built_in">nohup</span> ./xkube &amp;</span><br></pre></td></tr></table></figure><p><img src="e4d7fb4017904811b10b4ba309306d08.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="3-error-getnodemetric-failthe-server-is-currently-unable-to-handle-the-request-get-nodesmetricsk8sio-qfusion-1"><a class="markdownIt-Anchor" href="#3-error-getnodemetric-failthe-server-is-currently-unable-to-handle-the-request-get-nodesmetricsk8sio-qfusion-1"></a> 3ã€[ERROR] GetNodeMetric Fail:the server is currently unable to handle the request (get <a href="http://nodes.metrics.k8s.io">nodes.metrics.k8s.io</a> qfusion-1)</h3><p>metrics-server æœåŠ¡å®‰è£…</p><h2 id="ä½¿ç”¨æ€»ç»“"><a class="markdownIt-Anchor" href="#ä½¿ç”¨æ€»ç»“"></a> ä½¿ç”¨æ€»ç»“</h2><h3 id="ä¼˜ç‚¹"><a class="markdownIt-Anchor" href="#ä¼˜ç‚¹"></a> ä¼˜ç‚¹</h3><ul><li>1ã€å¼€æºå…è´¹</li><li>2ã€åŠŸèƒ½å¼ºå¤§å…¨é¢ï¼Œç»†èŠ‚å®Œå–„ï¼ˆå¯¼å‡ºåŠŸèƒ½ï¼‰<br /><img src="0d86e4afb0b046f986c06c117dbaedd4.png" alt="   " /></li><li>3ã€æ–‡æ¡£ä¸­å¿ƒåŠŸèƒ½</li></ul><h3 id="ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#ä¼˜åŒ–"></a> ä¼˜åŒ–</h3><ul><li><p>1ã€å®‰è£…æ­¥éª¤</p></li><li><p>2ã€ç‚¹å¼€ä¸€ä¸ªèœå•æ æ˜¯è·³è½¬ä¸€ä¸ªé“¾æ¥çš„æ„Ÿè§‰ï¼Œä¸ç¾è§‚ä¸”æœ‰ä¸Šé™<br /><img src="d258ec3419134378bdeb5c2934e0cbf3.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="01cf62ea58624859b396ed5a5b3b33cf.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>3ã€sshç»ˆç«¯æŠ¥é”™<br />sockjs: session not in open state<br /><img src="41ec8f498b2e4995b87e7917070149f8.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />-4ã€CRDä¸èƒ½ç¼–è¾‘CR<br /><img src="22840fb517ec4badacf4e22c3deb245d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>5ã€äº‹ä»¶ä¸­å¿ƒå¯¹è±¡ç±»å‹é€‰æ‹©è¾ƒå°‘ï¼Œnsã€äº‹ä»¶ç±»å‹ä¸èƒ½é€‰æ‹©<br /><img src="c5316aae45d44578a61cf1c5100bbe10.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>6ã€æ“ä½œå®Œé¡µé¢åº”è¯¥å…³é—­<br /><img src="801025f069714a23ba5e752211dcb64c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li></ul><h2 id="è¡¥å……1layui-layuiminiå’Œbeegoçš„è¯¦ç»†ä»‹ç»"><a class="markdownIt-Anchor" href="#è¡¥å……1layui-layuiminiå’Œbeegoçš„è¯¦ç»†ä»‹ç»"></a> è¡¥å……1ï¼šlayuiã€layuiminiå’Œbeegoçš„è¯¦ç»†ä»‹ç»</h2><h4 id="1-layui"><a class="markdownIt-Anchor" href="#1-layui"></a> 1. Layui</h4><p>Layuiæ˜¯ä¸€æ¬¾ç”±å›½äººå¼€å‘çš„è½»é‡çº§å‰ç«¯UIæ¡†æ¶ï¼Œäº2016å¹´é¦–æ¬¡å‘å¸ƒã€‚å…¶è®¾è®¡ç†å¿µæ˜¯â€œè¿”ç’å½’çœŸâ€ï¼Œé€šè¿‡æ¨¡å—åŒ–å¼€å‘å’ŒåŸç”ŸHTML/CSS/JSçš„å¼€å‘æ–¹å¼ï¼Œä¸ºå¼€å‘è€…æä¾›ç®€æ´ã€æ˜“ç”¨ä¸”åŠŸèƒ½ä¸°å¯Œçš„ç•Œé¢ç»„ä»¶ã€‚Layuiçš„æ ¸å¿ƒç‰¹ç‚¹åŒ…æ‹¬ï¼š</p><ul><li><strong>æ¨¡å—åŒ–è®¾è®¡</strong>ï¼šæ”¯æŒæŒ‰éœ€åŠ è½½ï¼Œä¾‹å¦‚è¡¨å•ã€æŒ‰é’®ã€è¡¨æ ¼ã€å¯¼èˆªæ¡ç­‰ç»„ä»¶ï¼Œæå¤§æé«˜äº†å¼€å‘æ•ˆç‡ã€‚</li><li><strong>ç®€æ´è½»ç›ˆ</strong>ï¼šä»£ç ä½“ç§¯å°ï¼ŒåŠ è½½é€Ÿåº¦å¿«ï¼Œé€‚åˆå¿«é€Ÿå“åº”å¼ç½‘é¡µå¼€å‘ã€‚</li><li><strong>æ˜“ä¸Šæ‰‹</strong>ï¼šæ— éœ€å¤æ‚é…ç½®ï¼Œç›´æ¥é€šè¿‡æµè§ˆå™¨å³å¯æ“ä½œå…ƒç´ ï¼Œé€‚åˆåç«¯å¼€å‘è€…å¿«é€Ÿæ„å»ºç•Œé¢ã€‚</li><li><strong>ä¸°å¯Œçš„ç»„ä»¶åº“</strong>ï¼šæä¾›ä»åŸºç¡€åˆ°å¤æ‚çš„æ ·å¼ç»„ä»¶ï¼Œæ»¡è¶³ä¸åŒéœ€æ±‚ï¼ŒåŒæ—¶æ”¯æŒè‡ªå®šä¹‰ä¸»é¢˜å’Œæ‰©å±•ã€‚</li></ul><p>Layuiå¹¿æ³›åº”ç”¨äºå„ç§ç±»å‹çš„é¡¹ç›®ä¸­ï¼Œä»å°å‹ç½‘ç«™åˆ°å¤§å‹åº”ç”¨éƒ½èƒ½è½»æ¾åº”å¯¹ã€‚è™½ç„¶å®˜ç½‘åœ¨2021å¹´10æœˆå·²å…³é—­ï¼Œä½†å…¶ç¤¾åŒºä»åœ¨æŒç»­ç»´æŠ¤å’Œæ›´æ–°ã€‚</p><h4 id="2-layuimini"><a class="markdownIt-Anchor" href="#2-layuimini"></a> 2. Layuimini</h4><p>Layuiminiæ˜¯åŸºäºLayuiæ¡†æ¶å¼€å‘çš„åå°ç®¡ç†æ¨¡æ¿ï¼Œä¸“ä¸ºé«˜æ•ˆã€ç®€æ´çš„åå°ç®¡ç†ç•Œé¢è®¾è®¡ã€‚å…¶ä¸»è¦ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><ul><li><strong>æç®€é£æ ¼</strong>ï¼šä»¥æ¸…çˆ½ã€ç®€æ´ã€æ˜“ç”¨ä¸ºè®¾è®¡ç†å¿µï¼Œä¸“æ³¨äºæå‡ç”¨æˆ·ä½“éªŒã€‚</li><li><strong>å“åº”å¼è®¾è®¡</strong>ï¼šæ”¯æŒPCç«¯å’Œç§»åŠ¨ç«¯ï¼Œç¡®ä¿åœ¨å„ç§è®¾å¤‡ä¸Šéƒ½èƒ½è‰¯å¥½å±•ç¤ºã€‚</li><li><strong>ä¸°å¯Œçš„ç»„ä»¶åº“</strong>ï¼šç»§æ‰¿äº†Layuiçš„ç»„ä»¶ä¼˜åŠ¿ï¼ŒåŒæ—¶ä¼˜åŒ–äº†ç•Œé¢å¸ƒå±€å’Œå“åº”å¼é€‚é…ï¼Œæå‡äº†ç§»åŠ¨ç«¯çš„ç”¨æˆ·ä½“éªŒã€‚</li><li><strong>è½»é‡çº§æ¡†æ¶</strong>ï¼šä»…éœ€å¼•å…¥å°‘é‡æ ¸å¿ƒæ–‡ä»¶å³å¯ä½¿ç”¨ï¼Œæ— éœ€å¤æ‚é…ç½®ã€‚</li><li><strong>å®‰å…¨æ€§</strong>ï¼šä¸æ¶‰åŠåŠ¨æ€åŠŸèƒ½ï¼Œå¦‚æ•°æ®å­˜å‚¨æˆ–ç”¨æˆ·éšç§ä¼ è¾“ï¼Œä»…æä¾›UIç»„ä»¶æˆ–ç´ æã€‚</li></ul><p>Layuiminié€‚ç”¨äºä¼ä¸šå†…éƒ¨ç³»ç»Ÿã€CMSåå°ç½‘ç«™ä»¥åŠæ•°æ®åˆ†æå¹³å°ç­‰åœºæ™¯ï¼Œç‰¹åˆ«é€‚åˆéœ€è¦å¿«é€Ÿå¼€å‘åå°ç®¡ç†ç³»ç»Ÿçš„é¡¹ç›®ã€‚</p><h4 id="3-beego"><a class="markdownIt-Anchor" href="#3-beego"></a> 3. Beego</h4><p>Beegoæ˜¯ä¸€ä¸ªç”¨Goè¯­è¨€ç¼–å†™çš„Webæ¡†æ¶ï¼Œæ—¨åœ¨æä¾›é«˜æ•ˆã€æ˜“ç”¨çš„å¼€å‘ä½“éªŒã€‚å…¶ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š</p><ul><li><strong>å¿«é€Ÿå¼€å‘</strong>ï¼šBeegoé€šè¿‡æ¨¡å—åŒ–è®¾è®¡å’Œå†…ç½®è·¯ç”±åŠŸèƒ½ï¼Œç®€åŒ–äº†Webåº”ç”¨çš„å¼€å‘æµç¨‹ã€‚</li><li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šæ”¯æŒå¤šè¯­è¨€æ”¯æŒã€æ€§èƒ½è°ƒè¯•å·¥å…·ï¼ˆå¦‚pprofï¼‰ä»¥åŠé™æ€æ–‡ä»¶æœåŠ¡ã€‚</li><li><strong>ä¸°å¯Œçš„åŠŸèƒ½</strong>ï¼šæ”¯æŒè¡¨å•å¤„ç†ã€ç”¨æˆ·è®¤è¯ã€æ•°æ®åº“æ“ä½œï¼ˆå¦‚ORMï¼‰ã€è·¯ç”±åˆ†å‘ç­‰åŠŸèƒ½ã€‚</li><li><strong>æ‰©å±•æ€§</strong>ï¼šBeegoå…è®¸ç”¨æˆ·æ ¹æ®éœ€æ±‚è¿›è¡Œå®šåˆ¶åŒ–å¼€å‘ï¼Œä¾‹å¦‚é€šè¿‡æ‰©å±•æ’ä»¶æˆ–è‡ªå®šä¹‰æ§åˆ¶å™¨æ¥å¢å¼ºåŠŸèƒ½ã€‚</li></ul><p>Beegoè¿˜æ”¯æŒå¤šç§éƒ¨ç½²æ–¹å¼ï¼ŒåŒ…æ‹¬ä¸€é”®éƒ¨ç½²åˆ°äº‘å¹³å°ï¼ˆå¦‚é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—ï¼‰ã€‚å®ƒé€‚åˆå¿«é€Ÿæ„å»ºé«˜æ€§èƒ½çš„ä¼ä¸šçº§Webåº”ç”¨ï¼Œå¹¶ä¸”ç”±äºå…¶ç®€æ´çš„è®¾è®¡å’Œå¼ºå¤§çš„åŠŸèƒ½ï¼Œå—åˆ°äº†è®¸å¤šå¼€å‘è€…çš„é’çã€‚</p><h4 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h4><ul><li><strong>Layui</strong> æ˜¯ä¸€æ¬¾è½»é‡çº§å‰ç«¯UIæ¡†æ¶ï¼Œé€‚åˆå¿«é€Ÿå¼€å‘å“åº”å¼ç½‘é¡µï¼Œç‰¹åˆ«é€‚åˆåç«¯å¼€å‘è€…ä½¿ç”¨ã€‚</li><li><strong>Layuimini</strong> æ˜¯åŸºäºLayuiçš„åå°ç®¡ç†æ¨¡æ¿ï¼Œä¸“æ³¨äºæä¾›ç®€æ´é«˜æ•ˆçš„åå°ç®¡ç†ç•Œé¢ã€‚</li><li><strong>Beego</strong> æ˜¯ä¸€ä¸ªé«˜æ•ˆã€æ˜“ç”¨çš„Goè¯­è¨€Webæ¡†æ¶ï¼Œé€‚ç”¨äºå¿«é€Ÿæ„å»ºé«˜æ€§èƒ½çš„ä¼ä¸šçº§Webåº”ç”¨ã€‚</li></ul><p>è¿™ä¸‰è€…å„æœ‰ç‰¹è‰²ï¼Œå¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„å·¥å…·è¿›è¡Œå¼€å‘ã€‚</p><p>Layuiçš„æ¨¡å—åŒ–è®¾è®¡å…·ä½“å®ç°æ–¹å¼å¦‚ä¸‹ï¼š</p><ol><li><p><strong>æ¨¡å—åŒ–å¼€å‘æ€æƒ³</strong>ï¼šLayuié‡‡ç”¨æ¨¡å—åŒ–å¼€å‘æ€æƒ³ï¼Œæ¯ä¸ªç»„ä»¶å’Œå·¥å…·éƒ½æ˜¯ç‹¬ç«‹çš„æ¨¡å—ï¼Œæ ¸å¿ƒæ–‡ä»¶ä¸ºLay.js ï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½åŒ…å«åœ¨Lay.js ä¸­ã€‚è¿™ç§è®¾è®¡ä½¿å¾—å¼€å‘è€…å¯ä»¥æ ¹æ®éœ€è¦å¼•å…¥ç‰¹å®šçš„æ¨¡å—ï¼Œé¿å…ä¸å¿…è¦çš„èµ„æºåŠ è½½ï¼Œä»è€Œæé«˜é¡µé¢åŠ è½½é€Ÿåº¦ã€‚</p></li><li><p><strong>AMDè§„èŒƒç®¡ç†</strong>ï¼šLayuiä½¿ç”¨AMDï¼ˆAsynchronous Module Definitionï¼‰è§„èŒƒæ¥ç®¡ç†æ¨¡å—ã€‚AMDè§„èŒƒå…è®¸å¼€å‘è€…å°†æ¨¡å—å®šä¹‰ä¸ºç‹¬ç«‹çš„æ–‡ä»¶ï¼Œå¹¶é€šè¿‡<code>define</code>å‡½æ•°æ³¨å†Œæ¨¡å—ã€‚è¿™ç§æ–¹å¼ä½¿å¾—æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»æ¸…æ™°ï¼Œä¾¿äºç®¡ç†å’Œç»´æŠ¤ã€‚</p></li><li><p><strong>æŒ‰éœ€åŠ è½½</strong>ï¼šLayuiæ”¯æŒæŒ‰éœ€åŠ è½½æ¨¡å—ï¼Œå³åªæœ‰åœ¨éœ€è¦æ—¶æ‰åŠ è½½ç‰¹å®šçš„æ¨¡å—ã€‚è¿™ç§æ–¹å¼å¯ä»¥è¿›ä¸€æ­¥å‡å°‘åˆå§‹åŠ è½½æ—¶é—´ï¼Œæé«˜é¡µé¢æ€§èƒ½ã€‚</p></li><li><p><strong>æ¨¡å—è§„èŒƒ</strong>ï¼šLayuiæä¾›äº†ä¸€å¥—æ¨¡å—è§„èŒƒï¼Œå¸®åŠ©å¼€å‘è€…å»ºç«‹è‡ªå·±çš„æ¨¡å—ä½œä¸ºå…¥å£ï¼Œç®€åŒ–æ¨¡å—åŒ–ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥é€šè¿‡åˆ›å»ºå…¥å£æ–‡ä»¶å¹¶ä½¿ç”¨<code>layui.use ()</code>æ–¹æ³•åŠ è½½æ‰€éœ€æ¨¡å—ã€‚</p></li><li><p><strong>å†…ç½®æ¨¡å—</strong>ï¼šLayuiæä¾›äº†ä¸°å¯Œçš„å†…ç½®æ¨¡å—ï¼Œå¦‚è¡¨æ ¼ã€æŒ‰é’®ã€å¼¹å‡ºå±‚ã€è¡¨å•å…ƒç´ å’Œå›¾æ ‡ç­‰ï¼Œè¿™äº›æ¨¡å—éƒ½æ˜¯åŸºäºHTMLã€CSSå’ŒJavaScriptå®ç°çš„ï¼Œé«˜åº¦å¯å®šåˆ¶ã€‚æ­¤å¤–ï¼ŒLayuiè¿˜æä¾›äº†æ‰©å±•ç»„ä»¶ï¼Œå¦‚å›¾ç‰‡æ‡’åŠ è½½ã€æ–‡ä»¶ä¸Šä¼ ç­‰ï¼Œè¿›ä¸€æ­¥å¢å¼ºäº†æ¡†æ¶çš„åŠŸèƒ½ã€‚</p></li><li><p><strong>è½»é‡çº§è®¾è®¡</strong>ï¼šLayuié‡‡ç”¨ç±»AMDç®¡ç†æ–¹å¼ï¼Œè½»é‡ä¸”ç®€å•ï¼Œé¿å…äº†CommonJSçš„å¤æ‚æ€§ã€‚è¿™ç§è®¾è®¡ä½¿å¾—Layuiåœ¨ä¿æŒé«˜æ•ˆçš„åŒæ—¶ï¼Œä¹Ÿæ˜“äºä¸Šæ‰‹å’Œä½¿ç”¨ã€‚</p></li><li><p><strong>å“åº”å¼å¸ƒå±€</strong>ï¼šLayuiå†…ç½®å“åº”å¼å¸ƒå±€ï¼Œèƒ½å¤Ÿè‡ªåŠ¨é€‚åº”ä¸åŒå±å¹•å°ºå¯¸ï¼Œç¡®ä¿åœ¨æ¡Œé¢å’Œç§»åŠ¨ç«¯éƒ½èƒ½æä¾›è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</p></li><li><p><strong>åŸç”Ÿå¼€å‘æ¨¡å¼</strong>ï¼šLayuiéµå¾ªåŸç”ŸHTML/CSS/JSçš„ä¹¦å†™ä¸ç»„ç»‡æ–¹å¼ï¼Œé—¨æ§›ä½ï¼Œæ˜“äºä½¿ç”¨ã€‚è¿™ç§è®¾è®¡ä½¿å¾—å¼€å‘è€…æ— éœ€å¤æ‚é…ç½®ï¼Œç›´æ¥åœ¨æµè§ˆå™¨ä¸­å®ç°æ‰€éœ€å…ƒç´ ä¸äº¤äº’ã€‚</p></li></ol><h5 id="layuiminiåœ¨ç§»åŠ¨ç«¯ç”¨æˆ·ä½“éªŒä¼˜åŒ–ä¸­é‡‡ç”¨äº†å“ªäº›æŠ€æœ¯æ‰‹æ®µ"><a class="markdownIt-Anchor" href="#layuiminiåœ¨ç§»åŠ¨ç«¯ç”¨æˆ·ä½“éªŒä¼˜åŒ–ä¸­é‡‡ç”¨äº†å“ªäº›æŠ€æœ¯æ‰‹æ®µ"></a> Layuiminiåœ¨ç§»åŠ¨ç«¯ç”¨æˆ·ä½“éªŒä¼˜åŒ–ä¸­é‡‡ç”¨äº†å“ªäº›æŠ€æœ¯æ‰‹æ®µï¼Ÿ</h5><p>Layuiminiåœ¨ç§»åŠ¨ç«¯ç”¨æˆ·ä½“éªŒä¼˜åŒ–ä¸­é‡‡ç”¨äº†ä»¥ä¸‹æŠ€æœ¯æ‰‹æ®µï¼š</p><ol><li><p><strong>å“åº”å¼å¸ƒå±€</strong>ï¼šLayuiminiæ”¯æŒå“åº”å¼å¸ƒå±€ï¼Œèƒ½å¤Ÿè‡ªåŠ¨é€‚åº”å±å¹•å°ºå¯¸å˜åŒ–ï¼Œç¡®ä¿åœ¨ä¸åŒè®¾å¤‡ä¸Šéƒ½èƒ½æä¾›è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</p></li><li><p><strong>è½»é‡çº§è®¾è®¡</strong>ï¼šLayuiminiçš„è®¾è®¡æ›´åŠ è½»é‡ï¼Œä¸“æ³¨äºå°å±å¹•è®¾å¤‡çš„ä½¿ç”¨ä½“éªŒï¼Œç•Œé¢ç®€æ´ï¼ŒåŠ è½½é€Ÿåº¦å¿«ã€‚</p></li><li><p><strong>æ¨¡å—åŒ–è®¾è®¡</strong>ï¼šLayuiminié‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œæä¾›ç‹¬ç«‹çš„ç»„ä»¶å’Œé¡µé¢ï¼Œä¾¿äºä»£ç å¤ç”¨å’Œå®šåˆ¶å¼€å‘ã€‚</p></li><li><p><strong>ä¸°å¯Œçš„ç»„ä»¶åº“</strong>ï¼šLayuiminiæ‹¥æœ‰ä¸°å¯Œçš„ç»„ä»¶åº“ï¼ŒåŒ…æ‹¬å¼¹å‡ºå±‚ã€æ»‘åŠ¨èœå•ã€åˆ—è¡¨ã€è¡¨å•ç­‰ï¼Œæ»¡è¶³ç§»åŠ¨ç«¯å¸¸è§éœ€æ±‚ã€‚</p></li><li><p><strong>è§¦å±è®¾å¤‡äº¤äº’ä¼˜åŒ–</strong>ï¼šé’ˆå¯¹è§¦å±è®¾å¤‡çš„äº¤äº’ç‰¹æ€§ï¼ŒLayuiminiå¢åŠ äº†ç‚¹å‡»äº‹ä»¶çš„ä¼˜åŒ–ï¼Œæ‰©å¤§äº†ç‚¹å‡»åŒºåŸŸï¼Œä½¿æŒ‰é’®å’Œé“¾æ¥æ›´å®¹æ˜“è¢«æ‰‹æŒ‡è§¦ç¢°ã€‚åŒæ—¶ï¼Œå¼•å…¥äº†touchäº‹ä»¶ç›‘å¬æœºåˆ¶ï¼Œæ”¯æŒé•¿æŒ‰ã€æ»‘åŠ¨ç­‰å¤šç§æ‰‹åŠ¿è¯†åˆ«åŠŸèƒ½ã€‚</p></li><li><p><strong>è‡ªåŠ¨èšç„¦æŠ€æœ¯</strong>ï¼šåœ¨è¾“å…¥æ¡†ç­‰éœ€è¦é¢‘ç¹è¾“å…¥ä¿¡æ¯çš„åœ°æ–¹ï¼ŒLayuiminié‡‡ç”¨äº†è‡ªåŠ¨èšç„¦æŠ€æœ¯ï¼Œæé«˜ç”¨æˆ·æ“ä½œçš„ä¾¿æ·æ€§ã€‚</p></li><li><p><strong>å¤šä¸»é¢˜é¢œè‰²åˆ‡æ¢å’Œä¸ªæ€§åŒ–å›¾æ ‡é€‰æ‹©</strong>ï¼šLayuiminiæ”¯æŒé«˜åº¦å®šåˆ¶åŒ–çš„å¤šä¸»é¢˜é¢œè‰²åˆ‡æ¢å’Œä¸ªæ€§åŒ–å›¾æ ‡é€‰æ‹©ï¼Œè¿›ä¸€æ­¥æå‡ç”¨æˆ·çš„ä¸ªæ€§åŒ–ä½“éªŒã€‚</p></li><li><p><strong>æŒç»­æ›´æ–°ä¸ç»´æŠ¤</strong>ï¼šLayuiminiå›¢é˜Ÿæ‰¿è¯ºå®šæœŸè¿›è¡ŒåŠŸèƒ½æ›´æ–°å’Œæ€§èƒ½ä¼˜åŒ–ï¼Œç¡®ä¿é¡¹ç›®çš„é•¿æœŸç¨³å®šæ€§å’Œç”¨æˆ·ä½“éªŒçš„æŒç»­æå‡ã€‚</p></li></ol><h5 id="beegoæ¡†æ¶ä¸­pprofå·¥å…·å¦‚ä½•å¸®åŠ©å¼€å‘è€…è¿›è¡Œæ€§èƒ½è°ƒè¯•"><a class="markdownIt-Anchor" href="#beegoæ¡†æ¶ä¸­pprofå·¥å…·å¦‚ä½•å¸®åŠ©å¼€å‘è€…è¿›è¡Œæ€§èƒ½è°ƒè¯•"></a> Beegoæ¡†æ¶ä¸­pprofå·¥å…·å¦‚ä½•å¸®åŠ©å¼€å‘è€…è¿›è¡Œæ€§èƒ½è°ƒè¯•ï¼Ÿ</h5><p>æ ¹æ®æä¾›çš„ä¿¡æ¯ï¼Œæ— æ³•å›ç­”é—®é¢˜ã€‚æˆ‘æœç´¢åˆ°çš„èµ„æ–™ä¸­æ²¡æœ‰è¯¦ç»†è¯´æ˜Beegoæ¡†æ¶ä¸­pprofå·¥å…·å¦‚ä½•å¸®åŠ©å¼€å‘è€…è¿›è¡Œæ€§èƒ½è°ƒè¯•çš„å…·ä½“æ­¥éª¤å’Œæ–¹æ³•ã€‚è™½ç„¶æœ‰å‡ ç¯‡æ–‡çŒ®æåˆ°Beegoæ¡†æ¶é›†æˆäº†pprofå·¥å…·ï¼Œä½†æ²¡æœ‰æä¾›å…·ä½“çš„ä½¿ç”¨ç¤ºä¾‹æˆ–è¯¦ç»†çš„æ“ä½œæ­¥éª¤ã€‚</p><p>ä¾‹å¦‚ï¼Œ æåˆ°Beegoæ¡†æ¶é›†æˆäº†pprofå·¥å…·ï¼Œä½†æ²¡æœ‰è¯¦ç»†è¯´æ˜å¦‚ä½•ä½¿ç”¨ã€‚ ä»‹ç»äº†pprofå·¥å…·çš„åŸºæœ¬åŠŸèƒ½å’ŒBeegoæ¡†æ¶çš„æ”¹é€ ï¼Œä½†ä¹Ÿæ²¡æœ‰æä¾›å…·ä½“çš„ä½¿ç”¨æ–¹æ³•ã€‚å…¶ä»–èµ„æ–™ä¹Ÿä¸»è¦é›†ä¸­åœ¨pprofå·¥å…·çš„ä»‹ç»å’Œä¸€èˆ¬ä½¿ç”¨æ–¹æ³•ä¸Šï¼Œæ²¡æœ‰é’ˆå¯¹Beegoæ¡†æ¶çš„å…·ä½“æ“ä½œæ­¥éª¤ã€‚</p><p>å› æ­¤ï¼Œæ ¹æ®ç°æœ‰çš„è¯æ®ï¼Œæ— æ³•å›ç­”Beegoæ¡†æ¶ä¸­pprofå·¥å…·å¦‚ä½•å¸®åŠ©å¼€å‘è€…è¿›è¡Œæ€§èƒ½è°ƒè¯•çš„é—®é¢˜ã€‚</p><h5 id="layuiç¤¾åŒºç›®å‰çš„ç»´æŠ¤å’Œæ›´æ–°æƒ…å†µå¦‚ä½•"><a class="markdownIt-Anchor" href="#layuiç¤¾åŒºç›®å‰çš„ç»´æŠ¤å’Œæ›´æ–°æƒ…å†µå¦‚ä½•"></a> Layuiç¤¾åŒºç›®å‰çš„ç»´æŠ¤å’Œæ›´æ–°æƒ…å†µå¦‚ä½•ï¼Ÿ</h5><p>Layuiç¤¾åŒºç›®å‰çš„ç»´æŠ¤å’Œæ›´æ–°æƒ…å†µå¦‚ä¸‹ï¼š</p><ol><li><p><strong>å®˜ç½‘ä¸‹çº¿ä¸è¿ç§»</strong>ï¼šLayuiçš„å®˜ç½‘äº2021å¹´10æœˆ13æ—¥å®£å¸ƒä¸‹çº¿ï¼Œæ‰€æœ‰æ¡†æ¶ç»´æŠ¤å·¥ä½œè¿ç§»åˆ°äº†GitHubå’ŒGiteeä¸Šã€‚å°½ç®¡å®˜ç½‘ä¸‹çº¿ï¼Œä½†Layuié¡¹ç›®å¹¶æœªåœæ­¢æ›´æ–°ï¼Œä»åœ¨GitHubå’ŒGiteeä¸ŠæŒç»­è¿›è¡Œã€‚</p></li><li><p><strong>æ–‡æ¡£ç«™çš„å›å½’</strong>ï¼šLayuiåœ¨2023å¹´4æœˆ27æ—¥å‘å¸ƒäº†2.8.0ç‰ˆæœ¬ï¼Œå¹¶æ¨å‡ºäº†å…¨æ–°çš„æ–‡æ¡£ç«™ã€‚è¿™ä¸ªæ–°æ–‡æ¡£ç«™åŸºäºlaytplå’Œmarkdowné©±åŠ¨ï¼Œè¿›è¡Œäº†å¤§é‡ä¼˜åŒ–ï¼Œå†…å®¹ç²¾ç®€ï¼Œæ—¨åœ¨ä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„ä½¿ç”¨ä½“éªŒã€‚æ–°ç‰ˆæ–‡æ¡£ç«™ä¸ä»…è§£å†³äº†åŸå®˜ç½‘ä¸‹çº¿åç¬¬ä¸‰æ–¹æ–‡æ¡£é•œåƒç«™ç‚¹å†…å®¹æ»åçš„é—®é¢˜ï¼Œè¿˜æä¾›äº†æ›´ä¼˜è´¨çš„å†…å®¹å’Œä½¿ç”¨ä½“éªŒã€‚</p></li><li><p><strong>ç¤¾åŒºæ”¯æŒ</strong>ï¼šå°½ç®¡Layuiçš„æ›´æ–°é¢‘ç‡æœ‰æ‰€å‡ç¼“ï¼Œä½†å…¶æ ¸å¿ƒåŠŸèƒ½ä¾ç„¶ç¨³å®šï¼Œç¤¾åŒºä¾ç„¶æ´»è·ƒã€‚å¼€å‘è€…å¯ä»¥åœ¨GitHubæˆ–å…¶ä»–æŠ€æœ¯è®ºå›ä¸­æ‰¾åˆ°è§£å†³æ–¹æ¡ˆæˆ–å¯»æ±‚å¸®åŠ©ã€‚Layuiç¤¾åŒºé€šè¿‡çº¿ä¸Šå’Œçº¿ä¸‹æ´»åŠ¨ï¼Œå¦‚æŠ€æœ¯æ²™é¾™å’Œé»‘å®¢æ¾ï¼Œä¿ƒè¿›äº†æŠ€æœ¯äº¤æµï¼Œå¢å¼ºäº†ç¤¾åŒºçš„å‡èšåŠ›ã€‚</p></li><li><p><strong>å¼€æºé¡¹ç›®</strong>ï¼šLayuiä½œä¸ºä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå¾—åˆ°äº†è®¸å¤šå¼€å‘è€…çš„æ”¯æŒå’Œè´¡çŒ®ã€‚Layuiæ–‡æ¡£ä¹Ÿå·²ä¸é¡¹ç›®ä¸€åŒå¼€æºï¼Œæ”¯æŒåœ¨çº¿å’Œç¦»çº¿é˜…è¯»åŠååŒç»´æŠ¤ã€‚</p></li></ol><h5 id="beegoæ¡†æ¶æ”¯æŒçš„æ‰©å±•æ’ä»¶æˆ–è‡ªå®šä¹‰æ§åˆ¶å™¨æœ‰å“ªäº›ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#beegoæ¡†æ¶æ”¯æŒçš„æ‰©å±•æ’ä»¶æˆ–è‡ªå®šä¹‰æ§åˆ¶å™¨æœ‰å“ªäº›ç¤ºä¾‹"></a> Beegoæ¡†æ¶æ”¯æŒçš„æ‰©å±•æ’ä»¶æˆ–è‡ªå®šä¹‰æ§åˆ¶å™¨æœ‰å“ªäº›ç¤ºä¾‹ï¼Ÿ</h5><p>Beegoæ¡†æ¶æ”¯æŒçš„æ‰©å±•æ’ä»¶æˆ–è‡ªå®šä¹‰æ§åˆ¶å™¨æœ‰ä»¥ä¸‹ç¤ºä¾‹ï¼š</p><ol><li><p><strong>é™æ€æ–‡ä»¶æ”¯æŒ</strong>ï¼šBeegoæ¡†æ¶å†…ç½®äº†é™æ€æ–‡ä»¶æœåŠ¡ï¼Œå¯ä»¥è½»æ¾åœ°æä¾›é™æ€èµ„æºï¼Œå¦‚CSSã€JavaScriptå’Œå›¾ç‰‡ç­‰ã€‚</p></li><li><p><strong>SessionManager</strong>ï¼šBeegoæ¡†æ¶æ”¯æŒsessionç®¡ç†ï¼Œå¯ä»¥ç”¨äºç”¨æˆ·è®¤è¯å’Œä¼šè¯è·Ÿè¸ªã€‚</p></li><li><p><strong>è¡¨å•å’ŒéªŒè¯</strong>ï¼šBeegoæ¡†æ¶æä¾›äº†å¼ºå¤§çš„è¡¨å•å¤„ç†å’ŒéªŒè¯åŠŸèƒ½ï¼Œå¯ä»¥ç¡®ä¿ç”¨æˆ·è¾“å…¥çš„æ•°æ®ç¬¦åˆé¢„æœŸæ ¼å¼ã€‚</p></li><li><p><strong>å¤šè¯­è¨€æ”¯æŒ</strong>ï¼šBeegoæ¡†æ¶æ”¯æŒå¤šè¯­è¨€ï¼Œå¯ä»¥æ ¹æ®ç”¨æˆ·é€‰æ‹©çš„è¯­è¨€æ˜¾ç¤ºç›¸åº”çš„ç•Œé¢å†…å®¹ã€‚</p></li><li><p><strong>ç”¨æˆ·è®¤è¯</strong>ï¼šBeegoæ¡†æ¶é›†æˆäº†ç”¨æˆ·è®¤è¯åŠŸèƒ½ï¼Œå¯ä»¥å®ç°ç”¨æˆ·ç™»å½•ã€ç™»å‡ºå’Œæƒé™ç®¡ç†ã€‚</p></li><li><p><strong>è‡ªå®šä¹‰æ§åˆ¶å™¨</strong>ï¼šBeegoæ¡†æ¶å…è®¸ç”¨æˆ·é€šè¿‡é‡å†™æ§åˆ¶å™¨ç±»æ¥å®ç°è‡ªå®šä¹‰é€»è¾‘ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥é€šè¿‡ç»§æ‰¿<code>beego.Controller</code>å¹¶å®ç°<code>ControllerInterface</code>æ¥å£æ¥åˆ›å»ºè‡ªå®šä¹‰æ§åˆ¶å™¨ã€‚æ­¤å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡åµŒå…¥æ–¹å¼è®©è‡ªå®šä¹‰çš„æ§åˆ¶å™¨ç»§æ‰¿<code>beego.Controller</code>ï¼Œåˆ©ç”¨å…¶å†…ç½®çš„æ–¹æ³•å¦‚<code>Init</code>ã€<code>Prepare</code>ã€<code>Finish</code>å’Œ<code>Render</code>ç­‰ã€‚</p></li><li><p><strong>è‡ªå®šä¹‰è·¯ç”±</strong>ï¼šBeegoæ¡†æ¶æ”¯æŒè‡ªå®šä¹‰è·¯ç”±ï¼Œå¯ä»¥é€šè¿‡åˆ›å»ºRouteå¯¹è±¡å¹¶å°†å…¶æ·»åŠ åˆ°è·¯ç”±æ•°ç»„ä¸­æ¥å®ç°ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥åœ¨<code>router.go</code> ä¸­æ·»åŠ æ–°çš„è·¯ç”±å’Œå¯¹åº”çš„æ§åˆ¶å™¨ã€‚</p></li><li><p><strong>çƒ­æ›´æ–°</strong>ï¼šBeegoæ¡†æ¶æ”¯æŒçƒ­æ›´æ–°åŠŸèƒ½ï¼Œå¼€å‘è¿‡ç¨‹ä¸­å¯ä»¥å®æ—¶æŸ¥çœ‹ä¿®æ”¹åçš„ä»£ç æ•ˆæœã€‚</p></li><li><p><strong>ä¸­é—´ä»¶å’Œæ’ä»¶</strong>ï¼šBeegoæ¡†æ¶æä¾›äº†ä¸°å¯Œçš„å†…ç½®ä¸­é—´ä»¶å’Œæ’ä»¶ï¼Œå¦‚æ—¥å¿—ã€ç¼“å­˜ã€ä¼šè¯ã€é‰´æƒã€é™æµç­‰ã€‚æ­¤å¤–ï¼Œè¿˜æ”¯æŒè‡ªå®šä¹‰ä¸­é—´ä»¶å’Œæ’ä»¶ï¼Œä»¥æ‰©å±•æ¡†æ¶çš„åŠŸèƒ½ã€‚</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kubernetes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>K8sè¿ç»´ç®¡ç†å¹³å° - Kuboardä½“éªŒï¼šçœŸå¿ƒå¥½ç”¨ï¼Œå¼ºåŠ›å®‰åˆ©ä¸€æ³¢</title>
      <link href="/2025/05/31/kubernetes/K8s%E8%BF%90%E7%BB%B4%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%20-%20Kuboard%E4%BD%93%E9%AA%8C%EF%BC%9A%E7%9C%9F%E5%BF%83%E5%A5%BD%E7%94%A8%EF%BC%8C%E5%BC%BA%E5%8A%9B%E5%AE%89%E5%88%A9%E4%B8%80%E6%B3%A2/"/>
      <url>/2025/05/31/kubernetes/K8s%E8%BF%90%E7%BB%B4%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%20-%20Kuboard%E4%BD%93%E9%AA%8C%EF%BC%9A%E7%9C%9F%E5%BF%83%E5%A5%BD%E7%94%A8%EF%BC%8C%E5%BC%BA%E5%8A%9B%E5%AE%89%E5%88%A9%E4%B8%80%E6%B3%A2/</url>
      
        <content type="html"><![CDATA[<h2 id="ç®€ä»‹"><a class="markdownIt-Anchor" href="#ç®€ä»‹"></a> ç®€ä»‹</h2><p>Kuboard æ˜¯ä¸€æ¬¾å…è´¹çš„ Kubernetes ç®¡ç†å·¥å…·ï¼Œæä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ï¼Œç»“åˆå·²æœ‰æˆ–æ–°å»ºçš„ä»£ç ä»“åº“ã€é•œåƒä»“åº“ã€CI/CDå·¥å…·ç­‰ï¼Œå¯ä»¥ä¾¿æ·çš„æ­å»ºä¸€ä¸ªç”Ÿäº§å¯ç”¨çš„ Kubernetes å®¹å™¨äº‘å¹³å°ï¼Œè½»æ¾ç®¡ç†å’Œè¿è¡Œäº‘åŸç”Ÿåº”ç”¨ã€‚æ‚¨ä¹Ÿå¯ä»¥ç›´æ¥å°† Kuboard å®‰è£…åˆ°ç°æœ‰çš„ Kubernetes é›†ç¾¤ï¼Œé€šè¿‡ Kuboard æä¾›çš„ Kubernetes RBAC ç®¡ç†ç•Œé¢ï¼Œå°† Kubernetes æä¾›çš„èƒ½åŠ›å¼€æ”¾ç»™æ‚¨çš„å¼€å‘/æµ‹è¯•å›¢é˜Ÿã€‚</p><p><img src="b78498e9041e4f7296e6693aa896a428.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p><img src="7e1b28fc636e402f988704bf87c0e532.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="5e953f9423e0499c8efa11bc15c9e740.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p><a href="https://www.kuboard.cn/">Kuboard for K8S<br /></a></p><h2 id="å®‰è£…"><a class="markdownIt-Anchor" href="#å®‰è£…"></a> å®‰è£…</h2><p>1ã€hostPort: 280<br />2ã€image: â€˜<a href="http://swr.cn-east-2.myhuaweicloud.com/kuboard/kuboard:v3%E2%80%99">swr.cn-east-2.myhuaweicloud.com/kuboard/kuboard:v3â€™</a><br />3ã€æ³¨æ„ä¼šé‡å¯kubelet</p><p><img src="8f11827aeda547e38e011acb9ed98234.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p><a href="https://www.kuboard.cn/install/v3/install.html">å®‰è£… Kubernetes å¤šé›†ç¾¤ç®¡ç†å·¥å…· - Kuboard v3</a></p><h3 id="æ‰©å±•questdb"><a class="markdownIt-Anchor" href="#æ‰©å±•questdb"></a> æ‰©å±•ï¼šQuestDB</h3><p><img src="d8375ccbdfec48aba2da40807c3a6500.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="57cdd819021a41fdad6f2a7ef53324a3.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p><img src="56d1c5b21bcb44fa9795db3e72d646b3.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p><img src="a3016dd59666402db3984048cf8bed67.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="d729d564916e4b4e97b4d37bc74a897d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><blockquote><p><a href="https://questdb.com/blog/2024/02/26/questdb-versus-influxdb/">questdb-versus-influxdb</a></p></blockquote><h2 id="ä½¿ç”¨ä½“éªŒ"><a class="markdownIt-Anchor" href="#ä½¿ç”¨ä½“éªŒ"></a> ä½¿ç”¨ä½“éªŒ</h2><h3 id="ä¼˜ç‚¹"><a class="markdownIt-Anchor" href="#ä¼˜ç‚¹"></a> ä¼˜ç‚¹</h3><h4 id="1-ui-äº¤äº’å¼åšçš„éå¸¸å¥½"><a class="markdownIt-Anchor" href="#1-ui-äº¤äº’å¼åšçš„éå¸¸å¥½"></a> 1ã€UIã€äº¤äº’å¼åšçš„éå¸¸å¥½</h4><p><img src="3bae6f1c37d348d59b0187afd78d85d1.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="2-ç•Œé¢logo-æ”¯æŒè®¾ç½®å¸¸è§é—®é¢˜æ–‡æ¡£"><a class="markdownIt-Anchor" href="#2-ç•Œé¢logo-æ”¯æŒè®¾ç½®å¸¸è§é—®é¢˜æ–‡æ¡£"></a> 2ã€ç•Œé¢Logo æ”¯æŒè®¾ç½®ï¼Œå¸¸è§é—®é¢˜æ–‡æ¡£</h4><p><img src="3ea999ef137d48cdb1a24365bf00c756.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="3-å¥—ä»¶å­˜å‚¨å·æµè§ˆå™¨-å¾ˆå¥½ç”¨"><a class="markdownIt-Anchor" href="#3-å¥—ä»¶å­˜å‚¨å·æµè§ˆå™¨-å¾ˆå¥½ç”¨"></a> 3ã€å¥—ä»¶ï¼šå­˜å‚¨å·æµè§ˆå™¨ å¾ˆå¥½ç”¨</h4><p><img src="c8c20856c8eb47dbbe3ff929839738a5.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="24e692981cfa484fbd0dc354a0426a76.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="16012953ac5f4285ab8afef65241befe.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="67b120350ca748ef97f2e240e40cf4f1.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="1bcd6754c97045e285e0fbd151ebff00.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p><img src="3e905cfe7b2f4b43b272b5fa388a3252.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="4-é›†ç¾¤ç®¡ç†-æ¦‚è¦"><a class="markdownIt-Anchor" href="#4-é›†ç¾¤ç®¡ç†-æ¦‚è¦"></a> 4ã€é›†ç¾¤ç®¡ç†-&gt; æ¦‚è¦</h4><p><img src="7be3036b972c408c9e0a513aeb39ee0e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="5-é›†ç¾¤ç®¡ç†-èŠ‚ç‚¹"><a class="markdownIt-Anchor" href="#5-é›†ç¾¤ç®¡ç†-èŠ‚ç‚¹"></a> 5ã€é›†ç¾¤ç®¡ç†-&gt; èŠ‚ç‚¹</h4><p><img src="3a8cc3e583bf49f7b712d6163c946295.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="6-å­˜å‚¨åŠŸèƒ½"><a class="markdownIt-Anchor" href="#6-å­˜å‚¨åŠŸèƒ½"></a> 6ã€å­˜å‚¨åŠŸèƒ½</h4><p><img src="2ac1c18488824649ba7eaee2e8a02ddf.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="f4299c6b147540149552310b3c1fb5b1.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="7-ceph-csi"><a class="markdownIt-Anchor" href="#7-ceph-csi"></a> 7ã€Ceph CSI</h4><p><img src="47f248863e3e439086575d4b9bf096d9.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="8-è‡ªå®šä¹‰èµ„æºcrç¼–è¾‘åŠŸèƒ½å¼ºå¤§"><a class="markdownIt-Anchor" href="#8-è‡ªå®šä¹‰èµ„æºcrç¼–è¾‘åŠŸèƒ½å¼ºå¤§"></a> 8ã€è‡ªå®šä¹‰èµ„æºï¼ŒCRç¼–è¾‘åŠŸèƒ½å¼ºå¤§</h4><p><img src="41b8133a5dc04f26a6eb9d6aa39b4aee.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="9-ingressclass"><a class="markdownIt-Anchor" href="#9-ingressclass"></a> 9ã€IngressClass</h4><p><img src="86c2b058c4334fcdbdfe42feb4e3ac05.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="10-åç§°ç©ºé—´"><a class="markdownIt-Anchor" href="#10-åç§°ç©ºé—´"></a> 10ã€åç§°ç©ºé—´</h4><p><img src="0e635e83e16d46d2a5fd494373db62da.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="29b3e364be9d44819afb7603b3b596ee.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p><img src="4b77fa5d54ae4257b2e2fb8a1d90d9c4.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="11-å·¥ä½œè´Ÿè½½"><a class="markdownIt-Anchor" href="#11-å·¥ä½œè´Ÿè½½"></a> 11ã€å·¥ä½œè´Ÿè½½</h4><p><img src="80662b75be2c41d9acb8b18f63662841.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="12-å®¹å™¨ç»„"><a class="markdownIt-Anchor" href="#12-å®¹å™¨ç»„"></a> 12ã€å®¹å™¨ç»„</h4><p><img src="83f1d0594f434aa48bb3580e119200cb.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p><img src="f03162c580f546b08de98456916e6b46.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="13-hpa"><a class="markdownIt-Anchor" href="#13-hpa"></a> 13ã€HPA</h4><p><img src="92d184921a0f400187d2a51eba308516.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="14-ç½‘ç»œç­–ç•¥"><a class="markdownIt-Anchor" href="#14-ç½‘ç»œç­–ç•¥"></a> 14ã€ç½‘ç»œç­–ç•¥</h4><p><img src="ad25b760fa5341b6ad6a7a8ccff4f2c3.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="15-äº‹ä»¶"><a class="markdownIt-Anchor" href="#15-äº‹ä»¶"></a> 15ã€äº‹ä»¶</h4><p><img src="629cf11852bf4a0b994d8335357a473c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="17-è®¿é—®æ§åˆ¶"><a class="markdownIt-Anchor" href="#17-è®¿é—®æ§åˆ¶"></a> 17ã€è®¿é—®æ§åˆ¶</h4><p><img src="eadfb3486d754e0d8f37bd01f05f2405.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="18-æ“ä½œå®¡è®¡"><a class="markdownIt-Anchor" href="#18-æ“ä½œå®¡è®¡"></a> 18ã€æ“ä½œå®¡è®¡</h4><p><img src="740d7d93ad55446896abe0a238c9459b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kubernetes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‡ ç§K8sè¿ç»´ç®¡ç†å¹³å°å¯¹æ¯”è¯´æ˜</title>
      <link href="/2025/05/31/kubernetes/%E5%87%A0%E7%A7%8DK8s%E8%BF%90%E7%BB%B4%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%E5%AF%B9%E6%AF%94%E8%AF%B4%E6%98%8E/"/>
      <url>/2025/05/31/kubernetes/%E5%87%A0%E7%A7%8DK8s%E8%BF%90%E7%BB%B4%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%E5%AF%B9%E6%AF%94%E8%AF%B4%E6%98%8E/</url>
      
        <content type="html"><![CDATA[<h2 id="æ·±å…¥ä½“éªŒ"><a class="markdownIt-Anchor" href="#æ·±å…¥ä½“éªŒ"></a> æ·±å…¥ä½“éªŒ</h2><ul><li><a href="/2025/05/31/kubernetes/K8s%E8%BF%90%E7%BB%B4%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%20-%20Kuboard%E4%BD%93%E9%AA%8C%EF%BC%9A%E7%9C%9F%E5%BF%83%E5%A5%BD%E7%94%A8%EF%BC%8C%E5%BC%BA%E5%8A%9B%E5%AE%89%E5%88%A9%E4%B8%80%E6%B3%A2/">Kuboard</a></li><li><a href="/2025/05/31/kubernetes/K8s%E8%BF%90%E7%BB%B4%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%20-%20xkube%E4%BD%93%E9%AA%8C%EF%BC%9A%E5%8A%9F%E8%83%BD%E8%BE%83%E5%A4%9A_xkube%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0/">xkube</a></li><li><a href="/2025/05/31/kubernetes/K8s%E8%BF%90%E7%BB%B4%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%20-%20KubeSphere%203.x%20%E5%92%8C4.x%20%E4%BD%BF%E7%94%A8%E5%88%86%E6%9E%90%EF%BC%9A%E5%8A%9F%E8%83%BD%E8%BE%83%E5%BC%BA%EF%BC%8CUI%E7%BE%8E%E8%A7%82/">KubeSphere</a></li><li><a href="/2025/05/31/kubernetes/K8s%E8%BF%90%E7%BB%B4%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%EF%BC%9ADashboard_kubernetes-dashboard/">Dashboard</a></li></ul><h2 id="ç»“è®º"><a class="markdownIt-Anchor" href="#ç»“è®º"></a> <strong>ç»“è®º</strong></h2><ul><li>å¦‚æœæ‚¨éœ€è¦ä¸€ä¸ªåŠŸèƒ½å…¨é¢ä¸”é€‚åˆä¼ä¸šçº§åº”ç”¨çš„å¹³å°ï¼ŒKubeSphereæ˜¯æœ€ä½³é€‰æ‹©ï¼Œå…¶å¼ºå¤§çš„å¤šç§Ÿæˆ·ç®¡ç†å’ŒDevOpsæ”¯æŒä½¿å…¶åœ¨2025å¹´ä¾ç„¶å æ®ä¸»å¯¼åœ°ä½ã€‚</li><li>å¦‚æœæ‚¨çš„éœ€æ±‚è¾ƒä¸ºç®€å•ï¼Œéœ€å¿«é€Ÿä¸Šæ‰‹çš„é›†ç¾¤ç®¡ç†å·¥å…·ï¼Œå¯ä»¥é€‰æ‹©Kuboardã€‚</li><li>Dashboardé€‚åˆå¯¹Kubernetesæœ‰æ·±å…¥äº†è§£çš„ç”¨æˆ·ï¼Œç”¨äºåŸºç¡€çš„é›†ç¾¤ç®¡ç†ä»»åŠ¡ã€‚</li></ul><h2 id="å¯¹æ¯”åˆ†æè¡¨æ ¼"><a class="markdownIt-Anchor" href="#å¯¹æ¯”åˆ†æè¡¨æ ¼"></a> å¯¹æ¯”åˆ†æè¡¨æ ¼</h2><p>ä»¥ä¸‹æ˜¯å…³äº2025å¹´Kuboardã€xkubeã€KubeSphereå’ŒDashboardåœ¨æœ€æ–°åŠŸèƒ½ã€ç”¨æˆ·ç•Œé¢ã€å¤šç§Ÿæˆ·æ”¯æŒå’ŒDevOpsæ”¯æŒæ–¹é¢çš„è¯¦ç»†å¯¹æ¯”åˆ†æè¡¨æ ¼ï¼š</p><h3 id="1-åŠŸèƒ½å¯¹æ¯”"><a class="markdownIt-Anchor" href="#1-åŠŸèƒ½å¯¹æ¯”"></a> <strong>1. åŠŸèƒ½å¯¹æ¯”</strong></h3><table><thead><tr><th>åŠŸèƒ½æ–¹é¢</th><th>Kuboard</th><th>xkube</th><th>KubeSphere</th><th>Dashboard</th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒåŠŸèƒ½</strong></td><td>åŸºäºKubernetesçš„å¾®æœåŠ¡ç®¡ç†ç•Œé¢ï¼Œæ— éœ€ç¼–å†™YAMLæ–‡ä»¶ï¼Œæ”¯æŒå¾®æœåŠ¡æ¶æ„è®¾è®¡ã€‚</td><td>åŠŸèƒ½è¾ƒå…¨é¢</td><td>æä¾›å…¨é¢çš„ä¼ä¸šçº§åŠŸèƒ½ï¼ŒåŒ…æ‹¬å¤šäº‘ç®¡ç†ã€DevOpså·¥å…·é“¾é›†æˆã€å¯è§‚æµ‹æ€§ã€å­˜å‚¨ç®¡ç†ç­‰ã€‚</td><td>Kuberneteså®˜æ–¹åŸºç¡€Webç•Œé¢ï¼Œç”¨äºæŸ¥çœ‹å’Œç®¡ç†é›†ç¾¤èµ„æºã€‚</td></tr><tr><td><strong>ç›‘æ§ä¸æ—¥å¿—</strong></td><td>æ”¯æŒä¸Šä¸‹æ–‡ç›¸å…³çš„ç›‘æ§å’Œæ—¥å¿—ã€‚</td><td>-</td><td>å¼ºå¤§çš„ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿï¼Œæ”¯æŒè‡ªå®šä¹‰æŒ‡æ ‡å’Œå‘Šè­¦è§„åˆ™ã€‚</td><td>æä¾›åŸºæœ¬çš„é›†ç¾¤ç›‘æ§åŠŸèƒ½ã€‚</td></tr><tr><td><strong>DevOpsæ”¯æŒ</strong></td><td>æ”¯æŒå¾®æœåŠ¡éƒ¨ç½²å’Œç¼–æ’</td><td>æ”¯æŒå¯¹æ¥é˜¿é‡Œäº‘æµæ°´çº¿</td><td>å®Œæ•´çš„DevOpså·¥å…·é“¾æ”¯æŒï¼ŒåŒ…æ‹¬CI/CDæµæ°´çº¿ã€Jenkinsé›†æˆã€GitLab CIç­‰ã€‚</td><td>æ— DevOpsæ”¯æŒã€‚</td></tr><tr><td><strong>å¤šç§Ÿæˆ·ç®¡ç†</strong></td><td>æ”¯æŒå¤šç§Ÿæˆ·ï¼Œç”¨æˆ·ã€ç”¨æˆ·ç»„ã€è§’è‰²ã€‚</td><td>æ”¯æŒ</td><td>æä¾›äºŒå±‚ç§Ÿæˆ·ç®¡ç†æ¡†æ¶ï¼Œæ”¯æŒçµæ´»çš„æƒé™ç­–ç•¥ã€‚</td><td>æ”¯æŒå¤šç§Ÿæˆ·ï¼Œä½†åŠŸèƒ½è¾ƒä¸ºåŸºç¡€ã€‚</td></tr></tbody></table><h3 id="2-ç”¨æˆ·ç•Œé¢"><a class="markdownIt-Anchor" href="#2-ç”¨æˆ·ç•Œé¢"></a> <strong>2. ç”¨æˆ·ç•Œé¢</strong></h3><table><thead><tr><th>å·¥å…·åç§°</th><th>ç”¨æˆ·ç•Œé¢ç‰¹ç‚¹</th><th>ä¼˜åŠ¿</th><th>åŠ£åŠ¿</th></tr></thead><tbody><tr><td>Kuboard</td><td>å›¾å½¢åŒ–ç•Œé¢ï¼Œç›´è§‚å±•ç¤ºå¾®æœåŠ¡æ¶æ„å’Œå·¥ä½œè´Ÿè½½ï¼Œæ”¯æŒå‘å¯¼å¼æ“ä½œå’Œä¸°å¯Œçš„äº¤äº’åŠŸèƒ½ï¼Œ<strong>ä¸”æœ‰å…³æ¦‚å¿µä»‹ç»é“¾æ¥</strong>ï¼Œé€‚åˆå¿«é€Ÿä¸Šæ‰‹ã€‚</td><td>ç•Œé¢å‹å¥½ï¼Œé€‚åˆä¸­å°å‹å›¢é˜Ÿã€‚</td><td>åŠŸèƒ½æ·±åº¦æœ‰é™</td></tr><tr><td>xkube</td><td>ç®€æ´</td><td>å¯¼å‡ºåŠŸèƒ½</td><td>èœå•æ æ˜¯è·³è½¬ä¸å¥½</td></tr><tr><td>KubeSphere</td><td>æä¾›åŸºäºWebçš„å›¾å½¢åŒ–æ“ä½œç•Œé¢ï¼Œæ”¯æŒå‘å¯¼å¼æ“ä½œå’Œä¸°å¯Œçš„äº¤äº’åŠŸèƒ½ã€‚</td><td>ç•Œé¢å‹å¥½ï¼ŒåŠŸèƒ½ä¸°å¯Œï¼Œé€‚åˆå¤æ‚åœºæ™¯ã€‚</td><td>éƒ¨ç½²å¤æ‚åº¦è¾ƒé«˜ã€‚</td></tr><tr><td>Dashboard</td><td>ç®€æ´çš„åŠŸèƒ½ç•Œé¢ï¼Œé€‚åˆåŸºç¡€æ“ä½œã€‚</td><td>ç•Œé¢ç®€æ´ï¼Œæ˜“äºä¸Šæ‰‹ã€‚</td><td>åŠŸèƒ½æ·±åº¦æœ‰é™</td></tr></tbody></table><h3 id="3-å¤šç§Ÿæˆ·æ”¯æŒ"><a class="markdownIt-Anchor" href="#3-å¤šç§Ÿæˆ·æ”¯æŒ"></a> <strong>3. å¤šç§Ÿæˆ·æ”¯æŒ</strong></h3><table><thead><tr><th>å·¥å…·åç§°</th><th>å¤šç§Ÿæˆ·æ”¯æŒç‰¹ç‚¹</th><th>ä¼˜åŠ¿</th><th>åŠ£åŠ¿</th></tr></thead><tbody><tr><td>Kuboard</td><td>æ”¯æŒå¤šç§Ÿæˆ·ï¼Œä½†åŠŸèƒ½è¾ƒä¸ºåŸºç¡€ã€‚</td><td>ç®€å•æ˜“ç”¨ï¼Œé€‚åˆå°å‹å›¢é˜Ÿã€‚</td><td>åŠŸèƒ½æ·±åº¦ä¸è¶³ï¼Œæ— æ³•æ»¡è¶³å¤æ‚åœºæ™¯éœ€æ±‚ã€‚</td></tr><tr><td>xkube</td><td>æ”¯æŒ</td><td>-</td><td>-</td></tr><tr><td>KubeSphere</td><td>æä¾›äºŒå±‚ç§Ÿæˆ·ç®¡ç†æ¡†æ¶ï¼Œæ”¯æŒçµæ´»çš„æƒé™ç­–ç•¥ã€‚</td><td>æ”¯æŒå¤æ‚çš„æƒé™ç®¡ç†å’Œèµ„æºéš”ç¦»ã€‚</td><td>éƒ¨ç½²å¤æ‚åº¦è¾ƒé«˜ã€‚</td></tr><tr><td>Dashboard</td><td>æ”¯æŒå¤šç§Ÿæˆ·ï¼Œä½†åŠŸèƒ½è¾ƒä¸ºåŸºç¡€ã€‚</td><td>ç®€å•æ˜“ç”¨ï¼Œé€‚åˆåŸºç¡€éœ€æ±‚ã€‚</td><td>åŠŸèƒ½æ·±åº¦ä¸è¶³ï¼Œæ— æ³•æ»¡è¶³å¤æ‚åœºæ™¯éœ€æ±‚ã€‚</td></tr></tbody></table><h3 id="4-devopsæ”¯æŒ"><a class="markdownIt-Anchor" href="#4-devopsæ”¯æŒ"></a> <strong>4. DevOpsæ”¯æŒ</strong></h3><table><thead><tr><th>å·¥å…·åç§°</th><th>DevOpsæ”¯æŒç‰¹ç‚¹</th><th>ä¼˜åŠ¿</th><th>åŠ£åŠ¿</th></tr></thead><tbody><tr><td>Kuboard</td><td>æ”¯æŒå¾®æœåŠ¡éƒ¨ç½²å’Œç¼–æ’ï¼Œä½†åŠŸèƒ½æœ‰é™ã€‚</td><td>ç®€å•æ˜“ç”¨ï¼Œé€‚åˆå¿«é€Ÿä¸Šæ‰‹ã€‚</td><td>åŠŸèƒ½æ·±åº¦ä¸è¶³ï¼Œæ— æ³•æ»¡è¶³å¤æ‚åœºæ™¯éœ€æ±‚ã€‚</td></tr><tr><td>xkube</td><td>æ”¯æŒ</td><td>-</td><td>-</td></tr><tr><td>KubeSphere</td><td>å®Œæ•´çš„DevOpså·¥å…·é“¾æ”¯æŒï¼ŒåŒ…æ‹¬CI/CDæµæ°´çº¿ã€Jenkinsé›†æˆã€GitLab CIç­‰ã€‚</td><td>åŠŸèƒ½å…¨é¢ï¼Œé€‚åˆå¤æ‚åœºæ™¯ã€‚</td><td>éƒ¨ç½²å¤æ‚åº¦è¾ƒé«˜ã€‚</td></tr><tr><td>Dashboard</td><td>æ— DevOpsæ”¯æŒã€‚</td><td>-</td><td>-</td></tr></tbody></table><h2 id="ç»†å¯¹æ¯”åˆ†æ"><a class="markdownIt-Anchor" href="#ç»†å¯¹æ¯”åˆ†æ"></a> ç»†å¯¹æ¯”åˆ†æ</h2><p>å…³äºKuboardã€xkubeã€KubeSphereå’ŒDashboardåœ¨2025å¹´çš„æœ€æ–°åŠŸèƒ½ã€ç”¨æˆ·ç•Œé¢ã€å¤šç§Ÿæˆ·æ”¯æŒå’ŒDevOpsæ”¯æŒçš„è¯¦ç»†å¯¹æ¯”åˆ†æï¼š</p><h3 id="1-kuboard"><a class="markdownIt-Anchor" href="#1-kuboard"></a> 1. <strong>Kuboard</strong></h3><ul><li><strong>æœ€æ–°åŠŸèƒ½</strong>ï¼šKuboardæ˜¯ä¸€æ¬¾åŸºäºKubernetesçš„å¾®æœåŠ¡ç®¡ç†å·¥å…·ï¼Œå¼ºè°ƒç®€åŒ–Kubernetesé›†ç¾¤çš„ç®¡ç†å’Œæ“ä½œã€‚å…¶æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬é›†ç¾¤ç®¡ç†ã€æ—¥å¿—æŸ¥è¯¢ä¸æ”¶é›†ã€å‘Šè­¦é€šçŸ¥ã€å®¡è®¡ã€åº”ç”¨ç¨‹åºç®¡ç†å’Œé•œåƒç®¡ç†ç­‰ã€‚</li><li><strong>ç”¨æˆ·ç•Œé¢</strong>ï¼šKuboardæä¾›äº†ä¸€ä¸ªç›´è§‚çš„Webç•Œé¢ï¼Œæ”¯æŒç”¨æˆ·é€šè¿‡å›¾å½¢åŒ–ç•Œé¢è¿›è¡Œé›†ç¾¤ç®¡ç†ï¼Œé™ä½äº†å­¦ä¹ æˆæœ¬ã€‚</li><li><strong>å¤šç§Ÿæˆ·æ”¯æŒ</strong>ï¼šæš‚æ— æ˜ç¡®è¯æ®è¡¨æ˜Kuboardæ”¯æŒå¤šç§Ÿæˆ·åŠŸèƒ½ï¼Œä½†å…¶è®¾è®¡ç›®æ ‡æ˜¯ç®€åŒ–Kubernetesæ“ä½œï¼Œå¯èƒ½æ›´é€‚åˆå°å‹å›¢é˜Ÿæˆ–å•ç§Ÿæˆ·ç¯å¢ƒã€‚</li><li><strong>DevOpsæ”¯æŒ</strong>ï¼šKuboardæœªæ˜ç¡®æåŠå¯¹DevOpsçš„æ”¯æŒï¼Œä½†å…¶å¼ºè°ƒäº†å¯¹æ—¥å¿—ã€ç›‘æ§å’Œå‘Šè­¦çš„é›†æˆï¼Œè¿™å¯èƒ½é—´æ¥æ”¯æŒéƒ¨åˆ†DevOpsæµç¨‹ã€‚<br /><img src="bb37f49472494a99979b3e8519f08522.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></li></ul><h3 id="2-xkube"><a class="markdownIt-Anchor" href="#2-xkube"></a> 2. <strong>xkube</strong></h3><ul><li><strong>æœ€æ–°åŠŸèƒ½</strong>ï¼šè¾ƒå®Œå–„ã€‚</li><li><strong>ç”¨æˆ·ç•Œé¢</strong>ï¼šç®€æ´ã€‚</li><li><strong>å¤šç§Ÿæˆ·æ”¯æŒ</strong>ï¼šæ”¯æŒã€‚</li><li><strong>DevOpsæ”¯æŒ</strong>ï¼šæ”¯æŒå¯¹æ¥é˜¿é‡Œäº‘æµæ°´çº¿ã€‚</li></ul><p><img src="d1239defe38d47509f3bb994a6153883.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="f7496fbb66c549d187a980dfa4920852.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="3-kubesphere"><a class="markdownIt-Anchor" href="#3-kubesphere"></a> 3. <strong>KubeSphere</strong></h3><ul><li><p><strong>æœ€æ–°åŠŸèƒ½</strong>ï¼š</p><ul><li>KubeSphere æ–°å¢äº†åŸºäºGitOpsçš„æŒç»­éƒ¨ç½²æ–¹æ¡ˆï¼Œæ”¯æŒArgo CDä½œä¸ºCDåç«¯ï¼Œå®ç°æŒç»­éƒ¨ç½²çŠ¶æ€çš„å®æ—¶ç»Ÿè®¡ã€‚</li><li>æ”¯æŒGPUèµ„æºè°ƒåº¦å’Œç®¡ç†ï¼Œä¼˜åŒ–äº†GPUä½¿ç”¨ç›‘æ§ã€‚</li><li>å¢å¼ºäº†å­˜å‚¨ç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬PVCè‡ªåŠ¨æ‰©å±•ç­–ç•¥å’Œç§Ÿæˆ·çº§åˆ«çš„å­˜å‚¨æƒé™ç®¡ç†ã€‚</li><li>æ”¯æŒè¾¹ç¼˜è®¡ç®—å’Œå¤šäº‘ç®¡ç†ï¼Œæä¾›æ›´çµæ´»çš„ç½‘ç»œå’Œå­˜å‚¨è§£å†³æ–¹æ¡ˆã€‚</li><li>æ”¯æŒå¾®æœåŠ¡æ²»ç†ã€å¯è§‚æµ‹æ€§ã€åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ç­‰åŠŸèƒ½ã€‚</li></ul></li><li><p><strong>ç”¨æˆ·ç•Œé¢</strong>ï¼šKubeSphereæä¾›å¼€å‘è€…å‹å¥½çš„å‘å¯¼å¼æ“ä½œç•Œé¢ï¼Œç•Œé¢ç®€æ´ä¸”æ˜“äºä¸Šæ‰‹ã€‚<br /><img src="371ef930b7ce44fa96e5574b919ad980.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p><strong>å¤šç§Ÿæˆ·æ”¯æŒ</strong>ï¼šKubeSphereæ”¯æŒå¤šç§Ÿæˆ·éš”ç¦»ï¼Œå…è®¸ä¸åŒå›¢é˜Ÿå’Œé¡¹ç›®ç‹¬ç«‹ç®¡ç†èµ„æºï¼Œå¹¶æä¾›ç»†ç²’åº¦çš„æƒé™æ§åˆ¶ã€‚<br /><img src="68cb1c75f5179a7b96a8da74c735369f.jpeg" alt="ä¸Šäº‘è®°ï½œé‡‘èçº§äº‘åŸç”Ÿï¼Œçœ‹é’äº‘Qiâ€¦ caifuhao.eastmoney.com" /></p></li><li><p><strong>DevOpsæ”¯æŒ</strong>ï¼š</p><ul><li>æä¾›å®Œæ•´çš„DevOpså·¥å…·é“¾ï¼ŒåŒ…æ‹¬CI/CDã€æŒç»­é›†æˆã€æŒç»­äº¤ä»˜ã€å¾®æœåŠ¡æ²»ç†ç­‰ã€‚</li><li>æ”¯æŒJenkinsæ’ä»¶å’Œæµæ°´çº¿æ¨¡æ¿ï¼Œä¼˜åŒ–äº†CI/CDæµç¨‹ã€‚</li><li>é›†æˆäº†Istioç­‰æŠ€æœ¯ï¼Œæ”¯æŒç°åº¦å‘å¸ƒã€ç†”æ–­ç­‰é«˜çº§åŠŸèƒ½ã€‚</li></ul></li></ul><h3 id="4-dashboard"><a class="markdownIt-Anchor" href="#4-dashboard"></a> 4. <strong>Dashboard</strong></h3><ul><li><p><strong>æœ€æ–°åŠŸèƒ½</strong>ï¼šDashboardæ˜¯Kuberneteså®˜æ–¹æä¾›çš„Web UIå·¥å…·ï¼Œç”¨äºç®¡ç†Kubernetesé›†ç¾¤ã€‚å…¶ä¸»è¦åŠŸèƒ½åŒ…æ‹¬èµ„æºç›‘æ§ã€æ—¥å¿—æŸ¥çœ‹ã€æœåŠ¡ç®¡ç†ç­‰ã€‚<br /><img src="1adc4f4796684b5084e3ad0b36d49500.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p><strong>ç”¨æˆ·ç•Œé¢</strong>ï¼šDashboardæä¾›äº†ä¸€ä¸ªåŸºäºæµè§ˆå™¨çš„å›¾å½¢åŒ–ç•Œé¢ï¼Œä½†å…¶ç•Œé¢è¾ƒä¸ºåŸºç¡€ï¼Œé€‚åˆå¿«é€ŸæŸ¥çœ‹é›†ç¾¤çŠ¶æ€ã€‚</p></li><li><p><strong>å¤šç§Ÿæˆ·æ”¯æŒ</strong>ï¼šDashboardæœ¬èº«ä¸æ”¯æŒå¤šç§Ÿæˆ·åŠŸèƒ½ï¼Œéœ€è¦ç»“åˆå…¶ä»–å·¥å…·ï¼ˆå¦‚RBACï¼‰å®ç°å¤šç§Ÿæˆ·ç®¡ç†ã€‚</p></li><li><p><strong>DevOpsæ”¯æŒ</strong>ï¼šDashboardä¸ç›´æ¥æ”¯æŒDevOpsåŠŸèƒ½ï¼Œä½†å¯ä»¥é€šè¿‡é›†æˆç¬¬ä¸‰æ–¹å·¥å…·ï¼ˆå¦‚Jenkinsï¼‰å®ç°éƒ¨åˆ†CI/CDæµç¨‹ã€‚</p></li></ul><h3 id="å¯¹æ¯”æ€»ç»“"><a class="markdownIt-Anchor" href="#å¯¹æ¯”æ€»ç»“"></a> <strong>å¯¹æ¯”æ€»ç»“</strong></h3><ol><li><p><strong>åŠŸèƒ½ä¸°å¯Œåº¦</strong>ï¼š</p><ul><li>KubeSphereæä¾›äº†æœ€å…¨é¢çš„åŠŸèƒ½é›†ï¼ŒåŒ…æ‹¬å¤šäº‘ç®¡ç†ã€GPUè°ƒåº¦ã€å­˜å‚¨ç®¡ç†ã€å¾®æœåŠ¡æ²»ç†ç­‰ã€‚</li><li>KuboardåŠŸèƒ½è¾ƒä¸ºåŸºç¡€ï¼Œé€‚åˆå°å‹å›¢é˜Ÿæˆ–å•ç§Ÿæˆ·ç¯å¢ƒã€‚</li><li>DashboardåŠŸèƒ½è¾ƒä¸ºæœ‰é™ï¼Œä»…é€‚ç”¨äºåŸºç¡€çš„é›†ç¾¤ç®¡ç†ã€‚</li></ul></li><li><p><strong>ç”¨æˆ·ç•Œé¢å‹å¥½æ€§</strong>ï¼š</p><ul><li>KubeSphereæä¾›å‘å¯¼å¼æ“ä½œç•Œé¢ï¼Œæ–°æ‰‹å‹å¥½ã€‚</li><li>Kuboardç•Œé¢ç®€æ´ç›´è§‚ï¼Œé€‚åˆå¿«é€Ÿä¸Šæ‰‹ã€‚</li><li>Dashboardç•Œé¢è¾ƒä¸ºåŸºç¡€ï¼Œé€‚åˆç†Ÿæ‚‰Kubernetesçš„ç”¨æˆ·ã€‚</li></ul></li><li><p><strong>å¤šç§Ÿæˆ·æ”¯æŒ</strong>ï¼š</p><ul><li>KubeSphereæ”¯æŒå¤šç§Ÿæˆ·éš”ç¦»å’Œç»†ç²’åº¦æƒé™æ§åˆ¶ï¼Œé€‚åˆä¼ä¸šçº§åº”ç”¨ã€‚</li><li>Kuboardæš‚æ— æ˜ç¡®çš„å¤šç§Ÿæˆ·æ”¯æŒä¿¡æ¯ã€‚</li><li>Dashboardéœ€è¦ç»“åˆå…¶ä»–å·¥å…·å®ç°å¤šç§Ÿæˆ·ç®¡ç†ã€‚</li></ul></li><li><p><strong>DevOpsæ”¯æŒ</strong>ï¼š</p><ul><li>KubeSphereæä¾›å®Œæ•´çš„DevOpså·¥å…·é“¾ï¼ŒåŒ…æ‹¬CI/CDã€æŒç»­äº¤ä»˜ã€å¾®æœåŠ¡æ²»ç†ç­‰ã€‚</li><li>Kuboardæœªæ˜ç¡®æåŠDevOpsæ”¯æŒã€‚</li><li>Dashboardä¸ç›´æ¥æ”¯æŒDevOpsåŠŸèƒ½ã€‚</li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kubernetes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Piniaï¼ˆåŸºæœ¬ç”¨æ³•ï¼‰_piniaçš„ä½¿ç”¨</title>
      <link href="/2025/05/28/VUE/Pinia%EF%BC%88%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95%EF%BC%89_pinia%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2025/05/28/VUE/Pinia%EF%BC%88%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95%EF%BC%89_pinia%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h2 id=""><a class="markdownIt-Anchor" href="#"></a> ğŸğŸğŸ</h2><h3 id="ä»‹ç»æ‘˜è‡ªå®˜æ–¹æ–‡æ¡£"><a class="markdownIt-Anchor" href="#ä»‹ç»æ‘˜è‡ªå®˜æ–¹æ–‡æ¡£"></a> ä»‹ç»ï¼ˆæ‘˜è‡ªå®˜æ–¹æ–‡æ¡£ï¼‰</h3><p>Pinia æ˜¯ Vue çš„å­˜å‚¨åº“ï¼Œå®ƒå…è®¸æ‚¨è·¨ç»„ä»¶/é¡µé¢å…±äº«çŠ¶æ€ã€‚ å¦‚æœæ‚¨ç†Ÿæ‚‰ Composition APIï¼Œæ‚¨å¯èƒ½ä¼šè®¤ä¸ºæ‚¨å·²ç»å¯ä»¥é€šè¿‡ä¸€ä¸ªç®€å•çš„ export const state = reactive({}). è¿™å¯¹äºå•é¡µåº”ç”¨ç¨‹åºæ¥è¯´æ˜¯æ­£ç¡®çš„ï¼Œä½†å¦‚æœå®ƒæ˜¯æœåŠ¡å™¨ç«¯å‘ˆç°çš„ï¼Œä¼šä½¿æ‚¨çš„åº”ç”¨ç¨‹åºæš´éœ²äºå®‰å…¨æ¼æ´ã€‚ ä½†å³ä½¿åœ¨å°å‹å•é¡µåº”ç”¨ç¨‹åºä¸­ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä»ä½¿ç”¨ Pinia ä¸­è·å¾—å¾ˆå¤šå¥½å¤„ï¼š</p><ul><li><p>dev-tools æ”¯æŒ</p></li><li><p>è·Ÿè¸ªåŠ¨ä½œã€çªå˜çš„æ—¶é—´çº¿</p></li><li><p>Store å‡ºç°åœ¨ä½¿ç”¨å®ƒä»¬çš„ç»„ä»¶ä¸­</p></li><li><p>time travel å’Œ æ›´å®¹æ˜“çš„è°ƒè¯•</p></li><li><p>çƒ­æ¨¡å—æ›´æ¢</p></li><li><p>åœ¨ä¸é‡æ–°åŠ è½½é¡µé¢çš„æƒ…å†µä¸‹ä¿®æ”¹æ‚¨çš„ Store</p></li><li><p>åœ¨å¼€å‘æ—¶ä¿æŒä»»ä½•ç°æœ‰çŠ¶æ€</p></li><li><p>æ’ä»¶ï¼šä½¿ç”¨æ’ä»¶æ‰©å±• Pinia åŠŸèƒ½</p></li><li><p>ä¸º JS ç”¨æˆ·æä¾›é€‚å½“çš„ TypeScript æ”¯æŒæˆ– autocompletion</p></li><li><p>æœåŠ¡å™¨ç«¯æ¸²æŸ“æ”¯æŒ</p></li></ul><hr /><h3 id="ä¸-vuex-çš„æ¯”è¾ƒæ‘˜è‡ªå®˜æ–¹æ–‡æ¡£"><a class="markdownIt-Anchor" href="#ä¸-vuex-çš„æ¯”è¾ƒæ‘˜è‡ªå®˜æ–¹æ–‡æ¡£"></a> ä¸ Vuex çš„æ¯”è¾ƒï¼ˆæ‘˜è‡ªå®˜æ–¹æ–‡æ¡£ï¼‰</h3><p>Pinia æœ€åˆæ˜¯ä¸ºäº†æ¢ç´¢ Vuex çš„ä¸‹ä¸€æ¬¡è¿­ä»£ä¼šæ˜¯ä»€ä¹ˆæ ·å­ï¼Œç»“åˆäº† Vuex 5 æ ¸å¿ƒå›¢é˜Ÿè®¨è®ºä¸­çš„è®¸å¤šæƒ³æ³•ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬æ„è¯†åˆ° Pinia å·²ç»å®ç°äº†æˆ‘ä»¬åœ¨ Vuex 5 ä¸­æƒ³è¦çš„å¤§éƒ¨åˆ†å†…å®¹ï¼Œå¹¶å†³å®šå®ç°å®ƒ å–è€Œä»£ä¹‹çš„æ˜¯æ–°çš„å»ºè®®ã€‚</p><p>ä¸ Vuex ç›¸æ¯”ï¼ŒPinia æä¾›äº†ä¸€ä¸ªæ›´ç®€å•çš„ APIï¼Œå…·æœ‰æ›´å°‘çš„è§„èŒƒï¼Œæä¾›äº† Composition-API é£æ ¼çš„ APIï¼Œæœ€é‡è¦çš„æ˜¯ï¼Œåœ¨ä¸ TypeScript ä¸€èµ·ä½¿ç”¨æ—¶å…·æœ‰å¯é çš„ç±»å‹æ¨æ–­æ”¯æŒã€‚</p><hr /><h3 id="å¼€å§‹"><a class="markdownIt-Anchor" href="#å¼€å§‹"></a> å¼€å§‹</h3><h3 id="å®‰è£…"><a class="markdownIt-Anchor" href="#å®‰è£…"></a> å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yarn add pinia</span><br><span class="line"><span class="comment"># æˆ–è€…ä½¿ç”¨ npm</span></span><br><span class="line">npm install pinia</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºä¸€ä¸ª-piniaæ ¹å­˜å‚¨å¹¶å°†å…¶ä¼ é€’ç»™åº”ç”¨ç¨‹åº"><a class="markdownIt-Anchor" href="#åˆ›å»ºä¸€ä¸ª-piniaæ ¹å­˜å‚¨å¹¶å°†å…¶ä¼ é€’ç»™åº”ç”¨ç¨‹åº"></a> åˆ›å»ºä¸€ä¸ª piniaï¼ˆæ ¹å­˜å‚¨ï¼‰å¹¶å°†å…¶ä¼ é€’ç»™åº”ç”¨ç¨‹åº</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">createPinia</span>())</span><br></pre></td></tr></table></figure><h3 id="ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨-store"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨-store"></a> ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨ Store</h3><p>å­˜å‚¨åº”è¯¥åŒ…å«å¯ä»¥åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­è®¿é—®çš„æ•°æ®ã€‚è¿™åŒ…æ‹¬åœ¨è®¸å¤šåœ°æ–¹ä½¿ç”¨çš„æ•°æ®ï¼Œä¾‹å¦‚å¯¼èˆªæ ä¸­æ˜¾ç¤ºçš„ç”¨æˆ·ä¿¡æ¯ï¼Œä»¥åŠéœ€è¦é€šè¿‡é¡µé¢ä¿ç•™çš„æ•°æ®ï¼Œä¾‹å¦‚ä¸€ä¸ªéå¸¸å¤æ‚çš„å¤šæ­¥éª¤è¡¨æ ¼ã€‚</p><p>å¦ä¸€æ–¹é¢ï¼Œæ‚¨åº”è¯¥é¿å…åœ¨å­˜å‚¨ä¸­åŒ…å«å¯ä»¥æ‰˜ç®¡åœ¨ç»„ä»¶ä¸­çš„æœ¬åœ°æ•°æ®ï¼Œä¾‹å¦‚é¡µé¢æœ¬åœ°å…ƒç´ çš„å¯è§æ€§ã€‚</p><p>å¹¶éæ‰€æœ‰åº”ç”¨ç¨‹åºéƒ½éœ€è¦è®¿é—®å…¨å±€çŠ¶æ€ï¼Œä½†å¦‚æœæ‚¨éœ€è¦ä¸€ä¸ªï¼ŒPania å°†ä½¿æ‚¨çš„ç”Ÿæ´»æ›´è½»æ¾ã€‚</p><hr /><h3 id="å®šä¹‰ä¸€ä¸ª-store"><a class="markdownIt-Anchor" href="#å®šä¹‰ä¸€ä¸ª-store"></a> å®šä¹‰ä¸€ä¸ª Store</h3><p>åœ¨é¡¹ç›®çš„srcç›®å½•åˆ›å»ºä¸€ä¸ªåä¸ºstoreçš„æ–‡ä»¶å¤¹ï¼Œå†…éƒ¨åˆ›å»ºtsæ–‡ä»¶åä¸ºindex.ts</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// usePinia å¯ä»¥æ˜¯ useUserã€useCart ä¹‹ç±»çš„ä»»ä½•ä¸œè¥¿ï¼ˆä¸€èˆ¬æƒ…å†µä¸ºuseå¼€å¤´ï¼‰</span></span><br><span class="line"><span class="comment">// ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åº”ç”¨ç¨‹åºä¸­ piniaDemo çš„å”¯ä¸€ id</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> usePinia = <span class="title function_">defineStore</span>(<span class="string">&quot;piniaDemo&quot;</span>, &#123;</span><br><span class="line">    <span class="comment">// other options...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="ç»„ä»¶å†…ä½¿ç”¨store"><a class="markdownIt-Anchor" href="#ç»„ä»¶å†…ä½¿ç”¨store"></a> ç»„ä»¶å†…ä½¿ç”¨store</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup lang=<span class="string">&quot;ts&quot;</span>&gt;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> &#123; usePinia &#125; <span class="keyword">from</span> <span class="string">&#x27;@/store/index&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">usePinia</span>();</span><br><span class="line"> </span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="å¦‚éœ€è§£æ„storeå†…å±æ€§"><a class="markdownIt-Anchor" href="#å¦‚éœ€è§£æ„storeå†…å±æ€§"></a> å¦‚éœ€è§£æ„storeå†…å±æ€§</h3><p>éœ€è¦å¼•å…¥storeToRefsåŒ…è£¹storeå†è¿›è¡Œè§£æ„å±æ€§ï¼Œä¸ºå“åº”å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é”™è¯¯</span></span><br><span class="line"><span class="keyword">const</span> &#123; name &#125; = store; <span class="comment">//nameå±æ€§å¤±å»å“åº”å¼</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//æ­£ç¡®</span></span><br><span class="line"><span class="keyword">import</span> &#123; storeToRefs &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> &#123; name &#125; = <span class="title function_">storeToRefs</span>(store); <span class="comment">//nameä¸ºå“åº”å¼å±æ€§</span></span><br></pre></td></tr></table></figure><hr /><h3 id="state"><a class="markdownIt-Anchor" href="#state"></a> State</h3><h3 id="å®šä¹‰stateåˆå§‹å±æ€§"><a class="markdownIt-Anchor" href="#å®šä¹‰stateåˆå§‹å±æ€§"></a> å®šä¹‰stateåˆå§‹å±æ€§</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> usePinia = <span class="title function_">defineStore</span>(<span class="string">&quot;piniaDemo&quot;</span>, &#123;</span><br><span class="line">    <span class="comment">// æ¨èä½¿ç”¨ å®Œæ•´ç±»å‹æ¨æ–­çš„ç®­å¤´å‡½æ•°</span></span><br><span class="line">    <span class="attr">state</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="comment">// æ‰€æœ‰è¿™äº›å±æ€§éƒ½å°†è‡ªåŠ¨æ¨æ–­å…¶ç±»å‹</span></span><br><span class="line">            <span class="attr">counter</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;å¤©å¤©&#x27;</span>,</span><br><span class="line">            <span class="attr">isAdmin</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="è®¿é—®stateå±æ€§ä¿®æ”¹å±æ€§å€¼"><a class="markdownIt-Anchor" href="#è®¿é—®stateå±æ€§ä¿®æ”¹å±æ€§å€¼"></a> è®¿é—®Stateå±æ€§&amp;ä¿®æ”¹å±æ€§å€¼</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup lang=<span class="string">&quot;ts&quot;</span>&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; usePinia &#125; <span class="keyword">from</span> <span class="string">&#x27;@/store/index&#x27;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">usePinia</span>();</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> <span class="title function_">changeName</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  store.<span class="property">name</span> = <span class="string">&#x27;çœŸç™½&#x27;</span>;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"> </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; store.name &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeName&quot;</span>&gt;</span>ä¿®æ”¹name<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="é‡ç½®stateçŠ¶æ€"><a class="markdownIt-Anchor" href="#é‡ç½®stateçŠ¶æ€"></a> é‡ç½®StateçŠ¶æ€</h3><p>æ‚¨å¯ä»¥é€šè¿‡è°ƒç”¨ store ä¸Šçš„ $reset() æ–¹æ³•å°†çŠ¶æ€ é‡ç½® åˆ°å…¶åˆå§‹å€¼ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> store = <span class="title function_">useStore</span>()</span><br><span class="line">store.$reset()</span><br></pre></td></tr></table></figure><h3 id="æ”¹å˜çŠ¶æ€"><a class="markdownIt-Anchor" href="#æ”¹å˜çŠ¶æ€"></a> æ”¹å˜çŠ¶æ€</h3><p>é™¤äº†ç›´æ¥ç”¨ store.counter++ ä¿®æ”¹ storeï¼Œä½ è¿˜å¯ä»¥è°ƒç”¨ $patch æ–¹æ³•ã€‚ å®ƒå…è®¸æ‚¨ä½¿ç”¨éƒ¨åˆ†â€œstateâ€å¯¹è±¡åŒæ—¶åº”ç”¨å¤šä¸ªæ›´æ”¹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">changeStore</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  store.$patch(&#123;</span><br><span class="line">    <span class="attr">counter</span>: store.<span class="property">counter</span> + <span class="number">1</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;å¤©å¤©&#x27;</span>,</span><br><span class="line">    <span class="attr">isAdmin</span>: !store.<span class="property">isAdmin</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>$patchæ–¹æ³•é™¤äº†æ¥æ”¶å¯¹è±¡ä»¥å¤–ï¼Œè¿˜å¯ä»¥æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">changeStore</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  store.$patch(<span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//å‚æ•°stateä¸ºStateè¿”å›çš„å“åº”å¼å¯¹è±¡</span></span><br><span class="line">    st.<span class="property">name</span> = <span class="string">&#x27;å¤©å¤©&#x27;</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="æ›¿æ¢state"><a class="markdownIt-Anchor" href="#æ›¿æ¢state"></a> æ›¿æ¢state</h3><p>å¯ä»¥é€šè¿‡å°†å…¶ $state å±æ€§è®¾ç½®ä¸ºæ–°å¯¹è±¡æ¥æ›¿æ¢ Store çš„æ•´ä¸ªçŠ¶æ€ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">changeStore</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  store.<span class="property">$state</span> = &#123;</span><br><span class="line">    <span class="attr">counter</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;xxx&#x27;</span>,</span><br><span class="line">    <span class="attr">isAdmin</span>: <span class="literal">false</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="è®¢é˜…çŠ¶æ€"><a class="markdownIt-Anchor" href="#è®¢é˜…çŠ¶æ€"></a> è®¢é˜…çŠ¶æ€</h3><p>æ¯å½“stateè¢«ä¿®æ”¹åï¼Œ$subscribe()æ–¹æ³•å°±ä¼šè¢«è°ƒç”¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">store.$subscribe(<span class="function">(<span class="params">mutation, state</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸš€ ~ file: App.vue:15 ~ store.$subscribe ~ state&#x27;</span>, state);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸš€ ~ file: App.vue:15 ~ store.$subscribe ~ mutation&#x27;</span>, mutation);</span><br><span class="line">  <span class="comment">// æ¯å½“å®ƒå‘ç”Ÿå˜åŒ–æ—¶ï¼Œå°†æ•´ä¸ªçŠ¶æ€æŒä¹…åŒ–åˆ°æœ¬åœ°å­˜å‚¨</span></span><br><span class="line">  <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;pinia&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(state));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><hr /><h2 id="getters"><a class="markdownIt-Anchor" href="#getters"></a> Getters</h2><p>Getter å®Œå…¨ç­‰åŒäº Store çŠ¶æ€çš„è®¡ç®—å€¼ã€‚ å®ƒä»¬å¯ä»¥ç”¨ defineStore() ä¸­çš„ getters å±æ€§å®šä¹‰ã€‚ ä»–ä»¬æ¥æ”¶â€œçŠ¶æ€â€ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°</p><h3 id="å®šä¹‰getters"><a class="markdownIt-Anchor" href="#å®šä¹‰getters"></a> å®šä¹‰getters</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> usePinia = <span class="title function_">defineStore</span>(<span class="string">&quot;piniaDemo&quot;</span>, &#123;</span><br><span class="line">    <span class="comment">// æ¨èä½¿ç”¨ å®Œæ•´ç±»å‹æ¨æ–­çš„ç®­å¤´å‡½æ•°</span></span><br><span class="line">    <span class="attr">state</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="comment">// æ‰€æœ‰è¿™äº›å±æ€§éƒ½å°†è‡ªåŠ¨æ¨æ–­å…¶ç±»å‹</span></span><br><span class="line">            <span class="attr">counter</span>: <span class="number">999</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;çœŸç™½&#x27;</span>,</span><br><span class="line">            <span class="attr">isAdmin</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">getters</span>: &#123;</span><br><span class="line">        <span class="comment">//æ¥æ”¶ &quot;çŠ¶æ€&quot; state å¯ä»¥è‡ªåŠ¨åˆ¤æ–­è¿”å›å€¼ç±»å‹</span></span><br><span class="line">        <span class="title function_">getName</span>(<span class="params">state</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> state.<span class="property">name</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// å¦‚æœä½¿ç”¨thisè®¿é—®ï¼Œåˆ™éœ€è¦æ‰‹å†™è¿”å›å€¼ç±»å‹</span></span><br><span class="line">        <span class="title function_">doubleCount</span>(): number &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">counter</span> * <span class="number">2</span></span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="è®¿é—®getters"><a class="markdownIt-Anchor" href="#è®¿é—®getters"></a> è®¿é—®getters</h3><p>å¯ä»¥é€šè¿‡storeå®ä¾‹ ç›´æ¥è®¿é—®getters</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; store.getName &#125;&#125;---&#123;&#123; store.doubleCount &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><h3 id="è®¿é—®å…¶ä»–getters"><a class="markdownIt-Anchor" href="#è®¿é—®å…¶ä»–getters"></a> è®¿é—®å…¶ä»–getters</h3><p>ä¸è®¡ç®—å±æ€§ä¸€æ ·ï¼Œå¯ä»¥ç»„åˆå¤šä¸ª getterã€‚ é€šè¿‡ this è®¿é—®ä»»ä½•å…¶ä»– getterã€‚ å³ä½¿æ‚¨ä¸ä½¿ç”¨ TypeScriptï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ JSDoc æç¤ºæ‚¨çš„ IDE ç±»å‹</p><h6 id="gettersæ¥æ”¶å‚æ•°"><a class="markdownIt-Anchor" href="#gettersæ¥æ”¶å‚æ•°"></a> gettersæ¥æ”¶å‚æ•°</h6><p>è¿™é‡Œéœ€è¦ç”¨åˆ°å‡½æ•°æŸ¯é‡ŒåŒ–çš„å†…å®¹ï¼Œé€šè¿‡è¿”å›å‡½æ•°çš„å½¢å¼æ¥æ¥æ”¶ä»»ä½•å‚æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">getters</span>: &#123;</span><br><span class="line">  <span class="title function_">doubleCount</span>(<span class="params">state</span>) &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="function">(<span class="params">num: number</span>) =&gt;</span> state.<span class="property">counter</span> + num</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»„ä»¶ä¸­ä½¿ç”¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;&#123;&#123; store.<span class="title function_">doubleCount</span>(<span class="number">99</span>) &#125;&#125;&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šè¯·æ³¨æ„ï¼Œåœ¨æ‰§è¡Œæ­¤æ“ä½œæ—¶ï¼Œgetter ä¸å†ç¼“å­˜ï¼Œå®ƒä»¬åªæ˜¯æ‚¨è°ƒç”¨çš„å‡½æ•°ã€‚ ä½†æ˜¯ï¼Œæ‚¨å¯ä»¥åœ¨ getter æœ¬èº«å†…éƒ¨ç¼“å­˜ä¸€äº›ç»“æœã€‚</p><h3 id="è®¿é—®å…¶ä»–-store-çš„getter"><a class="markdownIt-Anchor" href="#è®¿é—®å…¶ä»–-store-çš„getter"></a> è®¿é—®å…¶ä»– Store çš„getter</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useOtherStore &#125; <span class="keyword">from</span> <span class="string">&#x27;./otherStore&#x27;</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> usePinia = <span class="title function_">defineStore</span>(<span class="string">&quot;piniaDemo&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">getters</span>: &#123;</span><br><span class="line">        <span class="title function_">doubleCount</span>(<span class="params">state</span>) &#123;</span><br><span class="line">            <span class="comment">//é€šè¿‡å®ä¾‹ è°ƒç”¨å…¶ä»–storeä¸Šé¢çš„getters</span></span><br><span class="line">            <span class="keyword">const</span> otherStore = <span class="title function_">useOtherStore</span>()</span><br><span class="line">            <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;otherStore.changeName&#125;</span>---<span class="subst">$&#123;state.name&#125;</span>`</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><hr /><h3 id="actions"><a class="markdownIt-Anchor" href="#actions"></a> Actions</h3><h3 id="å®šä¹‰actions"><a class="markdownIt-Anchor" href="#å®šä¹‰actions"></a> å®šä¹‰actions</h3><p>Actions ç›¸å½“äºç»„ä»¶ä¸­çš„ methodsã€‚ å®ƒä»¬å¯ä»¥ä½¿ç”¨ defineStore() ä¸­çš„ actions å±æ€§å®šä¹‰ï¼Œå¹¶ä¸”å®ƒä»¬éå¸¸é€‚åˆå®šä¹‰ä¸šåŠ¡é€»è¾‘ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> usePinia = <span class="title function_">defineStore</span>(<span class="string">&quot;piniaDemo&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">state</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">counter</span>: <span class="number">999</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">actions</span>: &#123;</span><br><span class="line">        <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="comment">//é€šè¿‡thisè®¿é—®stateä¸­çš„å±æ€§</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">counter</span>++</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>actions å¯ä»¥æ˜¯å¼‚æ­¥çš„ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­await ä»»ä½• API è°ƒç”¨ç”šè‡³å…¶ä»–æ“ä½œ</p><p>æ¨¡æ‹Ÿä¸€ä¸‹async awaitçš„ä½¿ç”¨ï¼Œç®€å•å®šä¹‰ä¸ªè¿”å›promiseçš„å‡½æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//å®šä¹‰ä¸€ä¸ªdemoè¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œæ¨¡æ‹Ÿä¸€ä¸‹å¼‚æ­¥ä»»åŠ¡</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">proDemo</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>&lt;string&gt;(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&quot;åˆ°æ—¶é—´äº†&quot;</span>)</span><br><span class="line">        &#125;, <span class="number">2000</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> usePinia = <span class="title function_">defineStore</span>(<span class="string">&quot;piniaDemo&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">state</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">counter</span>: <span class="number">999</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">actions</span>: &#123;</span><br><span class="line">        <span class="comment">//ä½¿ç”¨async await è¯­æ³•ç³–ï¼Œå¤„ç†ä¸€ä¸‹Promise</span></span><br><span class="line">        <span class="keyword">async</span> <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">let</span> data = <span class="keyword">await</span> <span class="title function_">proDemo</span>()</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ file: index.ts:22 ~ increment ~ data&quot;</span>, data)</span><br><span class="line">            &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æŠ¥é”™äº†&quot;</span>, error);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åœ¨ç»„ä»¶ä¸­è°ƒç”¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup lang=<span class="string">&quot;ts&quot;</span>&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; usePinia &#125; <span class="keyword">from</span> <span class="string">&#x27;@/store/index&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">usePinia</span>();</span><br><span class="line">store.<span class="title function_">increment</span>();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="è®¿é—®å…¶ä»–-store-æ“ä½œ"><a class="markdownIt-Anchor" href="#è®¿é—®å…¶ä»–-store-æ“ä½œ"></a> è®¿é—®å…¶ä»– store æ“ä½œ</h3><p>è¦ä½¿ç”¨å¦ä¸€ä¸ª store ï¼Œå¯ä»¥ç›´æ¥åœ¨æ“ä½œå†…éƒ¨ä½¿ç”¨å®ƒ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useOtherStore &#125; <span class="keyword">from</span> <span class="string">&#x27;./otherStore&#x27;</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> usePinia = <span class="title function_">defineStore</span>(<span class="string">&quot;piniaDemo&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">actions</span>: &#123;</span><br><span class="line">        <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> otherStore = <span class="title function_">useOtherStore</span>()</span><br><span class="line">            <span class="keyword">let</span> name = otherStore.<span class="title function_">getName</span>()</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ file: index.ts:22 ~ increment ~ name&quot;</span>, name)</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="è®¢é˜…-actions"><a class="markdownIt-Anchor" href="#è®¢é˜…-actions"></a> è®¢é˜… Actions</h3><p>å¯ä»¥ä½¿ç”¨ store.$onAction() è®¢é˜… action åŠå…¶ç»“æœã€‚ ä¼ é€’ç»™å®ƒçš„å›è°ƒåœ¨ action ä¹‹å‰æ‰§è¡Œã€‚ after å¤„ç† Promise å¹¶å…è®¸æ‚¨åœ¨ action å®Œæˆåæ‰§è¡Œå‡½æ•°ã€‚ ä»¥ç±»ä¼¼çš„æ–¹å¼ï¼ŒonError å…è®¸æ‚¨åœ¨å¤„ç†ä¸­æŠ›å‡ºé”™è¯¯ã€‚ è¿™äº›å¯¹äºåœ¨è¿è¡Œæ—¶è·Ÿè¸ªé”™è¯¯å¾ˆæœ‰ç”¨ï¼Œç±»ä¼¼äº Vue æ–‡æ¡£ä¸­çš„è¿™ä¸ªæç¤ºã€‚</p><p>è¿™æ˜¯ä¸€ä¸ªåœ¨è¿è¡Œ action ä¹‹å‰å’Œå®ƒä»¬ resolve/reject ä¹‹åè®°å½•çš„ç¤ºä¾‹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> unsubscribe = someStore.$onAction(</span><br><span class="line">  <span class="function">(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    name, // action çš„åå­—</span></span></span><br><span class="line"><span class="params"><span class="function">    store, // store å®ä¾‹</span></span></span><br><span class="line"><span class="params"><span class="function">    args, // è°ƒç”¨è¿™ä¸ª action çš„å‚æ•°</span></span></span><br><span class="line"><span class="params"><span class="function">    after, // åœ¨è¿™ä¸ª action æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œæ‰§è¡Œè¿™ä¸ªå‡½æ•°</span></span></span><br><span class="line"><span class="params"><span class="function">    onError, // åœ¨è¿™ä¸ª action æŠ›å‡ºå¼‚å¸¸çš„æ—¶å€™ï¼Œæ‰§è¡Œè¿™ä¸ªå‡½æ•°</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// è®°å½•å¼€å§‹çš„æ—¶é—´å˜é‡</span></span><br><span class="line">    <span class="keyword">const</span> startTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">    <span class="comment">// è¿™å°†åœ¨ `store` ä¸Šçš„æ“ä½œæ‰§è¡Œä¹‹å‰è§¦å‘</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Start &quot;<span class="subst">$&#123;name&#125;</span>&quot; with params [<span class="subst">$&#123;args.join(<span class="string">&#x27;, &#x27;</span>)&#125;</span>].`</span>)</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// å¦‚æœ action æˆåŠŸå¹¶ä¸”å®Œå…¨è¿è¡Œåï¼Œafter å°†è§¦å‘ã€‚</span></span><br><span class="line">    <span class="comment">// å®ƒå°†ç­‰å¾…ä»»ä½•è¿”å›çš„ promise</span></span><br><span class="line">    <span class="title function_">after</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">        <span class="string">`Finished &quot;<span class="subst">$&#123;name&#125;</span>&quot; after <span class="subst">$&#123;</span></span></span><br><span class="line"><span class="subst"><span class="string">          <span class="built_in">Date</span>.now() - startTime</span></span></span><br><span class="line"><span class="subst"><span class="string">        &#125;</span>ms.\nResult: <span class="subst">$&#123;result&#125;</span>.`</span></span><br><span class="line">      )</span><br><span class="line">    &#125;)</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// å¦‚æœ action æŠ›å‡ºæˆ–è¿”å› Promise.reject ï¼ŒonError å°†è§¦å‘</span></span><br><span class="line">    <span class="title function_">onError</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">warn</span>(</span><br><span class="line">        <span class="string">`Failed &quot;<span class="subst">$&#123;name&#125;</span>&quot; after <span class="subst">$&#123;<span class="built_in">Date</span>.now() - startTime&#125;</span>ms.\nError: <span class="subst">$&#123;error&#125;</span>.`</span></span><br><span class="line">      )</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æ‰‹åŠ¨ç§»é™¤è®¢é˜…</span></span><br><span class="line"><span class="title function_">unsubscribe</span>()</span><br></pre></td></tr></table></figure><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œaction subscriptions ç»‘å®šåˆ°æ·»åŠ å®ƒä»¬çš„ç»„ä»¶ï¼ˆå¦‚æœ store ä½äºç»„ä»¶çš„ setup() å†…ï¼‰ã€‚ æ„æ€æ˜¯ï¼Œå½“ç»„ä»¶è¢«å¸è½½æ—¶ï¼Œå®ƒä»¬å°†è¢«è‡ªåŠ¨åˆ é™¤ã€‚ å¦‚æœè¦åœ¨å¸è½½ç»„ä»¶åä¿ç•™å®ƒä»¬ï¼Œè¯·å°† true ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ç»™å½“å‰ç»„ä»¶çš„ detach action subscriptionï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> someStore = <span class="title function_">useSomeStore</span>()</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// æ­¤è®¢é˜…å°†åœ¨ç»„ä»¶å¸è½½åä¿ç•™</span></span><br><span class="line">    someStore.$onAction(callback, <span class="literal">true</span>)</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VUE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é è¿™ä¹æ¬¾å›½äº§AIå¤§æ¨¡å‹ï¼Œå°±å®ç°äº†6äº¿äººçš„AIæ¢¦</title>
      <link href="/2025/05/28/LLM/%E9%9D%A0%E8%BF%99%E4%B9%9D%E6%AC%BE%E5%9B%BD%E4%BA%A7AI%E5%A4%A7%E6%A8%A1%E5%9E%8B%EF%BC%8C%E5%B0%B1%E5%AE%9E%E7%8E%B0%E4%BA%866%E4%BA%BF%E4%BA%BA%E7%9A%84AI%E6%A2%A6/"/>
      <url>/2025/05/28/LLM/%E9%9D%A0%E8%BF%99%E4%B9%9D%E6%AC%BE%E5%9B%BD%E4%BA%A7AI%E5%A4%A7%E6%A8%A1%E5%9E%8B%EF%BC%8C%E5%B0%B1%E5%AE%9E%E7%8E%B0%E4%BA%866%E4%BA%BF%E4%BA%BA%E7%9A%84AI%E6%A2%A6/</url>
      
        <content type="html"><![CDATA[<p><strong>2024å¹´ 10 æœˆ 13 æ—¥</strong>ï¼Œå·¥ä¸šå’Œä¿¡æ¯åŒ–éƒ¨æ€»å·¥ç¨‹å¸ˆï¼Œèµµç«‹å›½å‘è¡¨è®²è¯ï¼šâ€œæˆ‘å›½äººå·¥æ™ºèƒ½æ ¸å¿ƒäº§ä¸šçš„è§„æ¨¡åœ¨ä¸æ–­æå‡ï¼Œ<strong>ä¼ä¸šæ•°é‡è¶…è¿‡äº† 4500 å®¶</strong>ï¼Œå®Œæˆæ³¨å†Œå¹¶æä¾›æœåŠ¡çš„<strong>ç”Ÿæˆå¼äººå·¥æ™ºèƒ½æœåŠ¡å¤§æ¨¡å‹æ•°é‡å·²ç»è¶…è¿‡200ä¸ª</strong>ï¼Œ<strong>æ³¨å†Œç”¨æˆ·æ•°è¶…è¿‡äº† 6 äº¿</strong>ã€‚â€</p><p>è¿™äº›å¤§æ¨¡å‹åœ¨å„ä¸ªé¢†åŸŸä¸­å‘æŒ¥ç€é‡è¦ä½œç”¨ï¼Œæ¨åŠ¨äº†æŠ€æœ¯åˆ›æ–°å’Œäº§ä¸šå˜é©ã€‚</p><p><img src="14b4cc0530003f26b009ab8bb22bd279.png" alt="" /></p><p>å¯ä»¥çœ‹å‡º 2024 å¹´ï¼Œä¸­å›½çš„äººå·¥æ™ºèƒ½æŠ€æœ¯å‘å±•é€Ÿåº¦çœŸå¯è°“æ˜¯æ—¥æ–°æœˆå¼‚ï¼Œå›½äº§AIå¤§æ¨¡å‹å¦‚é›¨åæ˜¥ç¬‹èˆ¬æ¶Œç°ï¼Œä» 1 æœˆä»½çš„ 80 å¤šä¸ªåˆ° 10 æœˆä»½å·²ç»çªç ´è¶…è¿‡ 200 ä¸ªï¼Œ<strong>ä¸åˆ°åä¸ªæœˆæ—¶é—´å°±æ¿€å¢äº† 100 å¤šä¸ªå¤§æ¨¡å‹</strong>ã€‚</p><p>è¿™äº›å¤§æ¨¡å‹ä¸­ä¸»è¦ä»¥é€šç”¨å¤§æ¨¡å‹ Kimiã€æ™ºè°±æ¸…è¨€ã€é€šä¹‰åƒé—®ã€æ–‡å¿ƒä¸€è¨€ã€è±†åŒ…ã€å¤©å·¥AIã€è®¯é£æ˜Ÿç«ã€ç§˜å¡”å’Œè…¾è®¯å…ƒå®è¿™ä¹å¤§æ¨¡å‹æ ¼å¤–å¼•äººæ³¨ç›®ã€‚</p><p>åœ¨ç§‘æŠ€å¤§å›½èµ°å‘ç§‘æŠ€å¼ºå›½çš„å·å¬ä¸‹ï¼ŒAI å¤§æ¨¡å‹çš„é‡è¦æ€§å°¤å…¶å‡¸æ˜¾ï¼Œè¿™ä¹æ¬¾å›½äº§å¤§æ¨¡å‹å‘å±•ç›¸å½“å‡ºè‰²ï¼Œå®ƒä»¬é“¸å°±äº†ä¸­å›½äººæˆ‘ä»¬ä¸­å›½äººçš„ AI æ¢¦ã€‚</p><p>ä¸‹é¢ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ¢ç´¢è¿™äº›å¤§æ¨¡å‹çš„ç‰¹ç‚¹å’Œé¢ä¸´çš„æŒ‘æˆ˜ï¼Œæ™®åŠå’Œäº†è§£å®ƒä»¬åœ¨AIé¢†åŸŸçš„åœ°ä½å’Œæ½œåŠ›ã€‚</p><h3 id="ä¸€-åŸç†æ¦‚è¿°"><a class="markdownIt-Anchor" href="#ä¸€-åŸç†æ¦‚è¿°"></a> ä¸€ã€åŸç†æ¦‚è¿°</h3><p>AIå¤§æ¨¡å‹éƒ½å»ºç«‹åœ¨æ·±åº¦å­¦ä¹ æŠ€æœ¯ä¹‹ä¸Šï¼Œä¸»è¦åˆ©ç”¨ç¥ç»ç½‘ç»œæ¶æ„ã€‚å®ƒä»¬é€šè¿‡åˆ†ææµ·é‡æ•°æ®æ¥å­¦ä¹ è¯­è¨€æ¨¡å¼ã€çŸ¥è¯†è¡¨ç¤ºå’Œä»»åŠ¡æ‰§è¡Œç­–ç•¥ã€‚</p><p>æ¯ä¸ªæ¨¡å‹çš„ç‹¬ç‰¹ä¹‹å¤„ä½“ç°åœ¨å…¶ç½‘ç»œç»“æ„ã€è®­ç»ƒæ•°æ®çš„é€‰æ‹©å’Œä¼˜åŒ–æ–¹æ³•ä¸Šï¼Œè¿™äº›å› ç´ å†³å®šäº†å®ƒä»¬åœ¨ä¸åŒä»»åŠ¡ä¸­çš„è¡¨ç°ã€‚</p><h3 id="äºŒ-ä¹å¤§æ™ºèƒ½æ¨¡å‹è¯¦è§£"><a class="markdownIt-Anchor" href="#äºŒ-ä¹å¤§æ™ºèƒ½æ¨¡å‹è¯¦è§£"></a> äºŒã€ä¹å¤§æ™ºèƒ½æ¨¡å‹è¯¦è§£</h3><h4 id="1-kimiæ¨¡å‹"><a class="markdownIt-Anchor" href="#1-kimiæ¨¡å‹"></a> 1. Kimiæ¨¡å‹</h4><p>åœ°å€ï¼š<a href="https://kimi.moonshot.cn/">https://kimi.moonshot.cn/</a></p><p>Kimiåœ¨è‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸè¡¨ç°å‡ºè‰²ï¼Œæ“…é•¿æƒ…æ„Ÿåˆ†æå’Œæ–‡æœ¬åˆ†ç±»ä»»åŠ¡ã€‚</p><p>å®ƒå‡†ç¡®æ•æ‰æ–‡æœ¬ä¸­çš„ç»†å¾®æƒ…æ„Ÿå’Œä¸»é¢˜ï¼Œè¿™å¾—ç›Šäºå…¶æ¨¡å‹ä¸­çš„ç‰¹æ®Šæ³¨æ„åŠ›æœºåˆ¶ã€‚</p><p>Kimiåœ¨å¤„ç†é•¿æ–‡æœ¬æ—¶æ€§èƒ½å¯èƒ½ä¼šä¸‹é™ï¼Œå®ƒæ›´é€‚åˆå¤„ç†<strong>ç®€çŸ­ã€ç²¾ç‚¼çš„ä¿¡æ¯</strong>ã€‚</p><p><img src="241508d8139b6bad5aeacb6a6958b765.png" alt="" /></p><h4 id="2-æ™ºè°±æ¸…è¨€"><a class="markdownIt-Anchor" href="#2-æ™ºè°±æ¸…è¨€"></a> 2. æ™ºè°±æ¸…è¨€</h4><p>åœ°å€ï¼š<a href="https://chatglm.cn/main/alltoolsdetail?lang=zh">https://chatglm.cn/main/alltoolsdetail?lang=zh</a></p><p>æ™ºè°±æ¸…è¨€ä»¥å¼ºå¤§çš„è¯­è¨€ç”Ÿæˆèƒ½åŠ›è‘—ç§°ã€‚</p><p>æ™ºè°±æ¸…è¨€é‡‡ç”¨å¤šå±‚æ¬¡ç¼–ç å™¨-è§£ç å™¨æ¡†æ¶ï¼Œbetterç†è§£å’Œç”Ÿæˆå¤æ‚çš„è¯­è¨€ç»“æ„ã€‚</p><p>å®ƒç”Ÿæˆæµç•…ã€è‡ªç„¶çš„æ–‡æœ¬ï¼Œåœ¨<strong>å¯¹è¯ç³»ç»Ÿå’Œå†…å®¹åˆ›ä½œæ–¹é¢</strong>è¡¨ç°ä¼˜å¼‚ã€‚</p><p>åœ¨å¤„ç†éœ€è¦æ·±å…¥ä¸“ä¸šçŸ¥è¯†çš„é—®é¢˜æ—¶ï¼Œæ™ºè°±æ¸…è¨€å¯èƒ½ä¼šé‡åˆ°æŒ‘æˆ˜ã€‚</p><p><img src="b1f18f338aeb203538e61f85c2a92099.png" alt="" /></p><h4 id="3-é€šä¹‰åƒé—®"><a class="markdownIt-Anchor" href="#3-é€šä¹‰åƒé—®"></a> 3. é€šä¹‰åƒé—®</h4><p>åœ°å€ï¼š<a href="https://tongyi.aliyun.com/qianwen/">https://tongyi.aliyun.com/qianwen/</a></p><p>é€šä¹‰åƒé—®<strong>ä¸“æ³¨äºé—®ç­”ç³»ç»Ÿ</strong>ï¼Œé€šè¿‡é¢„è®­ç»ƒå’Œå¾®è°ƒï¼Œåœ¨å¹¿æ³›çš„ä¸»é¢˜ä¸Šæä¾›å‡†ç¡®ç­”æ¡ˆã€‚</p><p>å®ƒå¼ºå¤§çš„çŸ¥è¯†æ£€ç´¢èƒ½åŠ›ä½¿å…¶èƒ½å¿«é€Ÿä»æµ·é‡æ•°æ®ä¸­æ‰¾åˆ°ç›¸å…³ä¿¡æ¯ã€‚</p><p>æ¶‰åŠå¤æ‚æ¨ç†æˆ–è§£é‡ŠæŠ½è±¡æ¦‚å¿µæ—¶ï¼Œé€šä¹‰åƒé—®çš„è¡¨ç°å¯èƒ½ä¸å°½å¦‚äººæ„ã€‚</p><p><img src="e7d608503d0fdf22676d812f60c8d187.png" alt="" /></p><h4 id="4-æ–‡å¿ƒä¸€è¨€"><a class="markdownIt-Anchor" href="#4-æ–‡å¿ƒä¸€è¨€"></a> 4. æ–‡å¿ƒä¸€è¨€</h4><p>åœ°å€ï¼š<a href="https://yiyan.baidu.com/?utm%5C_source=ai-bot.cn">https://yiyan.baidu.com/?utm\_source=ai-bot.cn</a></p><p>æ–‡å¿ƒä¸€è¨€æ˜¯å¤šåŠŸèƒ½AIæ¨¡å‹ï¼Œåœ¨æ–‡æœ¬ç”Ÿæˆã€æ‘˜è¦å’Œç¿»è¯‘ç­‰å¤šä¸ªä»»åŠ¡ä¸Šè¡¨ç°å‡ºè‰²ã€‚</p><p>å®ƒçš„ä¼˜åŠ¿åœ¨äºæ¨¡å‹çš„<strong>å¤šä»»åŠ¡å­¦ä¹ èƒ½åŠ›</strong>ï¼ŒåŒæ—¶å¤„ç†å¤šç§è¯­è¨€ä»»åŠ¡ã€‚</p><p>å¤„ç†ç‰¹å®šé¢†åŸŸçš„ä¸“ä¸šé—®é¢˜æ—¶ï¼Œæ–‡å¿ƒä¸€è¨€å¯èƒ½éœ€è¦æ›´å¤šçš„é¢†åŸŸç‰¹å®šæ•°æ®æ¥æé«˜å‡†ç¡®æ€§ã€‚</p><p><img src="a5b03e3a19e5a7d3e892909fc15f54ec.png" alt="" /></p><h4 id="5-è±†åŒ…"><a class="markdownIt-Anchor" href="#5-è±†åŒ…"></a> 5. è±†åŒ…</h4><p>åœ°å€ï¼š<a href="https://www.doubao.com/chat/">https://www.doubao.com/chat/</a></p><p>è±†åŒ…é¢å‘ç‰¹å®šé¢†åŸŸï¼Œé€šè¿‡å¤§é‡é¢†åŸŸæ•°æ®é¢„è®­ç»ƒï¼Œä¸ºè¯¥é¢†åŸŸæä¾›ä¸“ä¸šæœåŠ¡å’Œæ”¯æŒã€‚</p><p>å®ƒåœ¨<strong>ä¸“ç²¾é¢†åŸŸ</strong>å†…è¡¨ç°å“è¶Šï¼Œæä¾›æ·±å…¥ã€å‡†ç¡®çš„çŸ¥è¯†ã€‚</p><p>è¿™ç§ä¸“æ³¨ä¹Ÿä½¿å®ƒåœ¨å¤„ç†è·¨é¢†åŸŸé—®é¢˜æ—¶å¯èƒ½é‡åˆ°å›°éš¾ã€‚</p><p><img src="b8bf331256ed0714b1f8666c94b74b1a.png" alt="" /></p><h4 id="6-è…¾è®¯å…ƒå®"><a class="markdownIt-Anchor" href="#6-è…¾è®¯å…ƒå®"></a> 6. è…¾è®¯å…ƒå®</h4><p>åœ°å€ï¼š<a href="https://yuanbao.tencent.com/chat/naQivTmsDa">https://yuanbao.tencent.com/chat/naQivTmsDa</a></p><p>è…¾è®¯å…ƒå®åœ¨æ¸¸æˆAIé¢†åŸŸç‹¬å…·ç‰¹è‰²ï¼Œè®¾è®¡å‡ºå¸å¼•äººçš„æ¸¸æˆç©æ³•ï¼Œåœ¨è™šæ‹Ÿä¸–ç•Œå’Œå¢å¼ºç°å®æ–¹é¢æœ‰ç‹¬åˆ°ä¹‹å¤„ã€‚</p><p>å®ƒåœ¨<strong>æ¸¸æˆå¼€å‘å’Œäº’åŠ¨å¨±ä¹æ–¹é¢ä¼˜åŠ¿æ˜æ˜¾</strong>ï¼Œä½†åœ¨ä¸¥è‚ƒçš„å•†ä¸šåº”ç”¨ä¸Šè¿˜éœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–å’Œè°ƒæ•´ã€‚</p><p><img src="4beed8b42688f520429000215a0e9a7b.png" alt="" /></p><h4 id="7-è®¯é£æ˜Ÿç«"><a class="markdownIt-Anchor" href="#7-è®¯é£æ˜Ÿç«"></a> 7. è®¯é£æ˜Ÿç«</h4><p>åœ°å€ï¼š<a href="https://xinghuo.xfyun.cn/desk">https://xinghuo.xfyun.cn/desk</a></p><p>è®¯é£æ˜Ÿç«åœ¨è¯­éŸ³è¯†åˆ«å’Œè¯­éŸ³åˆæˆé¢†åŸŸè¡¨ç°çªå‡ºï¼Œæä¾›å‡†ç¡®ä¸”è‡ªç„¶çš„è¯­éŸ³äº¤äº’ä½“éªŒã€‚</p><p>å®ƒåœ¨<strong>è¯­éŸ³å¤„ç†æ–¹é¢</strong>çš„ä¼˜åŠ¿ä½¿å…¶æˆä¸ºè¯­éŸ³åŠ©æ‰‹å’Œè¯­éŸ³äº¤äº’ç³»ç»Ÿçš„ç†æƒ³é€‰æ‹©ã€‚</p><p>åœ¨çº¯æ–‡æœ¬å¤„ç†å’Œç†è§£å¤æ‚æ–‡å­—è¯­å¢ƒæ–¹é¢ï¼Œè®¯é£æ˜Ÿç«è¿˜æœ‰æå‡ç©ºé—´ã€‚</p><p><img src="85db652ce33008da41fa264985d60690.png" alt="" /></p><h4 id="8-ç§˜å¡”"><a class="markdownIt-Anchor" href="#8-ç§˜å¡”"></a> 8. ç§˜å¡”</h4><p>åœ°å€ï¼š<a href="https://metaso.cn/">https://metaso.cn/</a></p><p>ç§˜å¡”åœ¨ä¿æŠ¤ç”¨æˆ·éšç§æ–¹é¢è¡¨ç°å‡ºè‰²ï¼Œå®Œæˆä»»åŠ¡çš„åŒæ—¶ç¡®ä¿ç”¨æˆ·ä¿¡æ¯å®‰å…¨ã€‚</p><p>å®ƒ<strong>æ“…é•¿å¤„ç†æ•æ„Ÿæ•°æ®</strong>ï¼Œä¿è¯æ•°æ®å®‰å…¨çš„åŒæ—¶ä¿æŒé«˜æ•ˆç‡ã€‚</p><p>è¿™ç§é«˜åº¦å®‰å…¨æ€§æœ‰æ—¶å¯èƒ½å½±å“æ¨¡å‹åœ¨æŸäº›ç®€å•ä»»åŠ¡ä¸Šçš„è¡¨ç°æ•ˆç‡ã€‚</p><p><img src="d8d37aca10de27a66109d85469dc12fd.png" alt="" /></p><h4 id="9-å¤©å·¥ai"><a class="markdownIt-Anchor" href="#9-å¤©å·¥ai"></a> 9. å¤©å·¥AI</h4><p>åœ°å€ï¼š<a href="https://www.tiangong.cn/">https://www.tiangong.cn/</a></p><p>å¤©å·¥AIåŸºäºå¼ºåŒ–å­¦ä¹ ï¼Œå…·æœ‰è‡ªæˆ‘å­¦ä¹ å’Œä¼˜åŒ–èƒ½åŠ›ã€‚</p><p>å®ƒé€šè¿‡ä¸æ–­è‡ªæˆ‘æ”¹è¿›åœ¨ç‰¹å®šä»»åŠ¡ä¸Šè¾¾åˆ°å‡ºè‰²è¡¨ç°ã€‚</p><p>å¤©å·¥AIæ½œåŠ›å·¨å¤§ï¼Œä½†è®­ç»ƒè¿‡ç¨‹éœ€è¦å¤§é‡è®¡ç®—èµ„æºå’Œæ—¶é—´ï¼Œè¿™å¯èƒ½é™åˆ¶å…¶åœ¨æŸäº›åº”ç”¨åœºæ™¯ä¸­çš„å®ç”¨æ€§ã€‚</p><p><img src="447c0b29c6ae86197902cc0cdfc17212.png" alt="" /></p><h3 id="ä¸‰-æ€»ç»“ä¸å±•æœ›"><a class="markdownIt-Anchor" href="#ä¸‰-æ€»ç»“ä¸å±•æœ›"></a> ä¸‰ã€æ€»ç»“ä¸å±•æœ›</h3><p>è¿™ä¹å¤§AIæ¨¡å‹å„æœ‰æ‰€é•¿ï¼š</p><ul><li><p>Kimiã€æ™ºè°±æ¸…è¨€ã€é€šä¹‰åƒé—®å’Œæ–‡å¿ƒä¸€è¨€åœ¨é€šç”¨AIèƒ½åŠ›æ–¹é¢è¡¨ç°çªå‡ºï¼Œåº”å¯¹å¹¿æ³›çš„è¯­è¨€å¤„ç†ä»»åŠ¡ã€‚</p></li><li><p>è±†åŒ…ã€ç§˜å¡”å’Œè…¾è®¯å…ƒå®åœ¨å„è‡ªçš„ä¸“ä¸šé¢†åŸŸï¼ˆå¦‚ç‰¹å®šè¡Œä¸šçŸ¥è¯†ã€éšç§ä¿æŠ¤ã€æ¸¸æˆAIï¼‰æœ‰ç‹¬ç‰¹ä¼˜åŠ¿ã€‚</p></li><li><p>å¤©å·¥AIå’Œè®¯é£æ˜Ÿç«åœ¨è‡ªæˆ‘ä¼˜åŒ–å’Œè¯­éŸ³å¤„ç†ç­‰é¢†åŸŸå±•ç°å‡ºå·¨å¤§æ½œåŠ›ã€‚</p></li></ul><p><img src="cf81649eef595c24ae04521a96dc5a0f.png" alt="" /></p><p>è¿™äº›æ¨¡å‹åæ˜ äº†æˆ‘å›½AIæŠ€æœ¯çš„å¿«é€Ÿè¿›æ­¥ï¼Œä¹Ÿå±•ç¤ºäº†ä¸åŒç ”ç©¶æ–¹å‘å’Œåº”ç”¨é¢†åŸŸçš„å¤šæ ·æ€§ã€‚æœªæ¥ï¼Œè¿™äº›æ¨¡å‹ä¼šä¸æ–­ä¼˜åŒ–ï¼Œå¼¥è¡¥å„è‡ªçš„ä¸è¶³ï¼Œä¸ºç”¨æˆ·æä¾›æ›´æ™ºèƒ½ã€æ›´å…¨é¢çš„æœåŠ¡ã€‚</p><p>è¿™äº›AIæ¨¡å‹ä¹‹é—´çš„åä½œå°†æˆä¸ºé‡è¦è¶‹åŠ¿ã€‚é€šè¿‡ä¼˜åŠ¿äº’è¡¥ï¼Œå®ƒä»¬æœ‰æœ›åœ¨æ›´å¹¿æ³›çš„é¢†åŸŸå‘æŒ¥ä½œç”¨ï¼Œæ¨åŠ¨AIæŠ€æœ¯åœ¨å„è¡Œå„ä¸šçš„æ·±å…¥åº”ç”¨ã€‚</p><p>å›½äº§AIå¤§æ¨¡å‹çš„å‘å±•æ­£å¤„äºæ¿€åŠ¨äººå¿ƒçš„é˜¶æ®µã€‚å®ƒä»¬å±•ç¤ºäº†æˆ‘å›½åœ¨AIé¢†åŸŸçš„åˆ›æ–°èƒ½åŠ›ï¼Œä¹Ÿä¸ºæœªæ¥æ™ºèƒ½æŠ€æœ¯çš„å‘å±•æç»˜äº†å……æ»¡å¯èƒ½æ€§çš„è“å›¾ã€‚</p><p>éšç€è¿™äº›æ¨¡å‹çš„ä¸æ–­è¿›åŒ–å’Œæ–°æŠ€æœ¯çš„æ¶Œç°ï¼ŒAIå°†ä¸ºæˆ‘ä»¬çš„ç”Ÿæ´»å’Œå·¥ä½œæ–¹å¼å¸¦æ¥æ›´å¤šä»¤äººæƒŠå¹çš„å˜é©ã€‚</p><h3 id="å¦‚ä½•å­¦ä¹ å¤§æ¨¡å‹-ai"><a class="markdownIt-Anchor" href="#å¦‚ä½•å­¦ä¹ å¤§æ¨¡å‹-ai"></a> å¦‚ä½•å­¦ä¹ å¤§æ¨¡å‹ AI ï¼Ÿ</h3><p>ç”±äºæ–°å²—ä½çš„ç”Ÿäº§æ•ˆç‡ï¼Œè¦ä¼˜äºè¢«å–ä»£å²—ä½çš„ç”Ÿäº§æ•ˆç‡ï¼Œæ‰€ä»¥å®é™…ä¸Šæ•´ä¸ªç¤¾ä¼šçš„ç”Ÿäº§æ•ˆç‡æ˜¯æå‡çš„ã€‚</p><p>ä½†æ˜¯å…·ä½“åˆ°ä¸ªäººï¼Œåªèƒ½è¯´æ˜¯ï¼š</p><p><strong>â€œæœ€å…ˆæŒæ¡AIçš„äººï¼Œå°†ä¼šæ¯”è¾ƒæ™šæŒæ¡AIçš„äººæœ‰ç«äº‰ä¼˜åŠ¿â€ã€‚</strong></p><p>è¿™å¥è¯ï¼Œæ”¾åœ¨è®¡ç®—æœºã€äº’è”ç½‘ã€ç§»åŠ¨äº’è”ç½‘çš„å¼€å±€æ—¶æœŸï¼Œéƒ½æ˜¯ä¸€æ ·çš„é“ç†ã€‚</p><p><img src="80dfd54ec491457faa956c46afad1163.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LLM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEè®¾ç½®åˆ†è¾¨ç‡ä»¥åŠå…¨å±æ¨¡å¼</title>
      <link href="/2025/05/22/UE/UE%E8%AE%BE%E7%BD%AE%E5%88%86%E8%BE%A8%E7%8E%87%E4%BB%A5%E5%8F%8A%E5%85%A8%E5%B1%8F%E6%A8%A1%E5%BC%8F/"/>
      <url>/2025/05/22/UE/UE%E8%AE%BE%E7%BD%AE%E5%88%86%E8%BE%A8%E7%8E%87%E4%BB%A5%E5%8F%8A%E5%85%A8%E5%B1%8F%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h3 id="æ–¹æ³•ä¸€-é€šè¿‡è“å›¾è®¾ç½®"><a class="markdownIt-Anchor" href="#æ–¹æ³•ä¸€-é€šè¿‡è“å›¾è®¾ç½®"></a> æ–¹æ³•ä¸€ã€é€šè¿‡è“å›¾è®¾ç½®</h3><p><img src="8f554f4c8189214ef95f6ec47359a38a.png" alt="" /></p><h3 id="æ–¹æ³•äºŒ-é€šè¿‡æ‰“åŒ…é¡¹ç›®çš„é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹"><a class="markdownIt-Anchor" href="#æ–¹æ³•äºŒ-é€šè¿‡æ‰“åŒ…é¡¹ç›®çš„é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹"></a> æ–¹æ³•äºŒã€é€šè¿‡æ‰“åŒ…é¡¹ç›®çš„é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹</h3><p><img src="e5572d5a0e5bf9ade884aecaca7d0b24.png" alt="" /><img src="77e11fb0668f28d1db0c65edd1156193.png" alt="" /></p><p>æ³¨ï¼šå›¾ä¸­çš„FullscreenMode  å…¶ä¸­ï¼š0=çª—å£åŒ–ï¼Œ1=æ— è¾¹æ¡†çª—å£ï¼Œ2=ç‹¬å å…¨å±</p><h3 id="æ–¹æ³•ä¸‰-é€šè¿‡æ§åˆ¶å°å‘½ä»¤ä¿®æ”¹"><a class="markdownIt-Anchor" href="#æ–¹æ³•ä¸‰-é€šè¿‡æ§åˆ¶å°å‘½ä»¤ä¿®æ”¹"></a> æ–¹æ³•ä¸‰ã€é€šè¿‡æ§åˆ¶å°å‘½ä»¤ä¿®æ”¹</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">r.SetRes 1920x720wÂ  ï¼š&quot;x&quot;æ˜¯è‹±æ–‡å­—æ¯xï¼Œw:çª—å£</span><br><span class="line">r.SetRes 1920x720fÂ  Â ï¼š&quot;x&quot;æ˜¯è‹±æ–‡å­—æ¯xï¼Œ f:å…¨å±</span><br></pre></td></tr></table></figure><h3 id="æ–¹æ³•å››-é€šè¿‡æ‰“åŒ…åæ‰§è¡Œå‘½ä»¤"><a class="markdownIt-Anchor" href="#æ–¹æ³•å››-é€šè¿‡æ‰“åŒ…åæ‰§è¡Œå‘½ä»¤"></a> æ–¹æ³•å››ã€é€šè¿‡æ‰“åŒ…åæ‰§è¡Œå‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">YourGame.exe -ResX=1920 -ResY=720 -fullscreen</span><br></pre></td></tr></table></figure><h3 id="å…³äºå±å¹•å·¦å³æˆ–ä¸Šä¸‹æœ‰å¤šä½™é»‘è¾¹é—®é¢˜"><a class="markdownIt-Anchor" href="#å…³äºå±å¹•å·¦å³æˆ–ä¸Šä¸‹æœ‰å¤šä½™é»‘è¾¹é—®é¢˜"></a> å…³äºå±å¹•å·¦å³æˆ–ä¸Šä¸‹æœ‰å¤šä½™é»‘è¾¹é—®é¢˜</h3><p>ä¸»è¦é—®é¢˜æ˜¯å½“å‰æ‘„åƒå¤´çº¦æŸäº†æ¯”ä¾‹ï¼Œéœ€è¦å°†éœ€è¦è®¾ç½®çš„â€œæ‘„åƒå¤´é€‰é¡¹â€å»é™¤â€œçº¦æŸé«˜å®½æ¯”â€ï¼Œå¦‚æœé¡¹ç›®æ˜¯ç¬¬ä¸€äººç§°è§†è§’çš„ï¼Œå†é€‰ä¸­â€œé‡è½½é«˜å®½æ¯”è½´çº¦æŸâ€ï¼Œå¹¶å°†é«˜å®½æ¯”è½´çº¦æŸé€‰ä¸ºâ€œç»´æŒYè½´è§†é‡â€ã€‚</p><p><img src="e5572d5a0e5bf9ade884aecaca7d0b25.png" alt="" /></p><h3 id="å…³äºcesiumåœ¨å®½å±æ˜¾ç¤ºæ—¶åœ°å›¾åŠ è½½éƒ¨åˆ†é—®é¢˜"><a class="markdownIt-Anchor" href="#å…³äºcesiumåœ¨å®½å±æ˜¾ç¤ºæ—¶åœ°å›¾åŠ è½½éƒ¨åˆ†é—®é¢˜"></a> å…³äºCesiumåœ¨å®½å±æ˜¾ç¤ºæ—¶ï¼Œåœ°å›¾åŠ è½½éƒ¨åˆ†é—®é¢˜</h3><p>åœ¨ä½¿ç”¨å¸¦é±¼å®½å±æ—¶ï¼Œå‘ç°å±å¹•ä¸¤ä¾§çš„åœ°å›¾åªèƒ½åŠ è½½éƒ¨åˆ†ï¼Œç”¨äº†å¾ˆå¤šçš„æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š</p><p>åŠ å¤§ Maximum Screen Space Error çš„å€¼ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="e5572d5a0e5bf9ade884aecaca7d0b28.png" alt="" /></p><p>ä½†é—®é¢˜æ ¹æœ¬æ²¡æœ‰è§£å†³</p><p>æœ€åæ˜¯é€šè¿‡ä¿®æ”¹æ‘„åƒå¤´çš„å¯è§†èŒƒå›´</p><p><img src="e5572d5a0e5bf9ade884aecaca7d0b29.png" alt="" /></p><p>å°†ä¸Šå›¾çš„çº¦æŸé«˜å®½æ¯”é€‰ä¸­æ‰“å¼€ï¼Œå°†è¾“å…¥å½“å‰å¸¦é±¼å±çš„åˆ†è¾¨ç‡æ¯”å€¼ï¼Œæœ€åå†å°†çº¦æŸé«˜å®½æ¯”é€‰ä¸­å–æ¶ˆï¼ˆæ³¨æ„ï¼‰ï¼Œå³å¯è¾¾åˆ°å¯è§†èŒƒå›´å†…çš„åœ°å›¾åŠ è½½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEä¸­é€šè¿‡æ¸¸æˆå®ä¾‹(Game Instance) å®ç°UIä¸å…³å¡è“å›¾å˜é‡äº¤äº’çš„è¯¦ç»†æ­¥éª¤</title>
      <link href="/2025/05/19/UE/UE%E4%B8%AD%E9%80%9A%E8%BF%87%E6%B8%B8%E6%88%8F%E5%AE%9E%E4%BE%8B(Game%20Instance)%20%E5%AE%9E%E7%8E%B0UI%E4%B8%8E%E5%85%B3%E5%8D%A1%E8%93%9D%E5%9B%BE%E5%8F%98%E9%87%8F%E4%BA%A4%E4%BA%92%E7%9A%84%E8%AF%A6%E7%BB%86%E6%AD%A5%E9%AA%A4/"/>
      <url>/2025/05/19/UE/UE%E4%B8%AD%E9%80%9A%E8%BF%87%E6%B8%B8%E6%88%8F%E5%AE%9E%E4%BE%8B(Game%20Instance)%20%E5%AE%9E%E7%8E%B0UI%E4%B8%8E%E5%85%B3%E5%8D%A1%E8%93%9D%E5%9B%BE%E5%8F%98%E9%87%8F%E4%BA%A4%E4%BA%92%E7%9A%84%E8%AF%A6%E7%BB%86%E6%AD%A5%E9%AA%A4/</url>
      
        <content type="html"><![CDATA[<p>æ¸¸æˆå®ä¾‹ï¼ˆGame Instanceï¼‰æ˜¯UE5ä¸­è·¨å…³å¡æŒä¹…åŒ–çš„å…¨å±€å¯¹è±¡ï¼Œé€‚åˆå­˜å‚¨éœ€è¦åœ¨å¤šä¸ªUIæˆ–å…³å¡é—´å…±äº«çš„å˜é‡ï¼ˆå¦‚ç©å®¶åˆ†æ•°ã€è®¾ç½®å‚æ•°ç­‰ï¼‰ã€‚é€šè¿‡å°†å˜é‡å­˜å‚¨åœ¨æ¸¸æˆå®ä¾‹ä¸­ï¼ŒUIè“å›¾å’Œå…³å¡è“å›¾å‡å¯ç›´æ¥è®¿é—®å’Œä¿®æ”¹ã€‚</p><h3 id="æ­¥éª¤1-åœ¨æ¸¸æˆå®ä¾‹ä¸­å®šä¹‰å˜é‡"><a class="markdownIt-Anchor" href="#æ­¥éª¤1-åœ¨æ¸¸æˆå®ä¾‹ä¸­å®šä¹‰å˜é‡"></a> æ­¥éª¤1ã€åœ¨æ¸¸æˆå®ä¾‹ä¸­å®šä¹‰å˜é‡</h3><h4 id="1åˆ›å»ºè‡ªå®šä¹‰æ¸¸æˆå®ä¾‹ç±»è‹¥æœªåˆ›å»º"><a class="markdownIt-Anchor" href="#1åˆ›å»ºè‡ªå®šä¹‰æ¸¸æˆå®ä¾‹ç±»è‹¥æœªåˆ›å»º"></a> 1.åˆ›å»ºè‡ªå®šä¹‰æ¸¸æˆå®ä¾‹ç±»ï¼ˆè‹¥æœªåˆ›å»ºï¼‰</h4><ul><li>åœ¨å†…å®¹æµè§ˆå™¨ä¸­å³é”® â†’ Blueprint Class â†’ é€‰æ‹© Game Instanceã€‚</li><li>å‘½åä¸ºBP_MyGameInstanceï¼ˆç¤ºä¾‹ï¼‰ã€‚</li></ul><h4 id="2æ·»åŠ å˜é‡"><a class="markdownIt-Anchor" href="#2æ·»åŠ å˜é‡"></a> 2.æ·»åŠ å˜é‡</h4><ul><li>æ‰“å¼€BP_MyGameInstanceè“å›¾ã€‚</li><li>åœ¨æˆ‘çš„è“å›¾(My Blueprint)é¢æ¿ä¸­ï¼Œç‚¹å‡»å˜é‡(Variables) â†’ æ·»åŠ å˜é‡ã€‚</li><li>å‘½åå˜é‡ï¼ˆå¦‚PlayerScoreï¼‰ï¼Œè®¾ç½®ç±»å‹ï¼ˆå¦‚Integerï¼‰ï¼Œå¹¶å‹¾é€‰å¯ç¼–è¾‘å®ä¾‹(Editable Instance)ï¼ˆå¯é€‰ï¼Œä¾¿äºè°ƒè¯•ï¼‰ã€‚</li></ul><h3 id="æ­¥éª¤2-åœ¨å…³å¡è“å›¾ä¸­æ›´æ–°æ¸¸æˆå®ä¾‹å˜é‡"><a class="markdownIt-Anchor" href="#æ­¥éª¤2-åœ¨å…³å¡è“å›¾ä¸­æ›´æ–°æ¸¸æˆå®ä¾‹å˜é‡"></a> æ­¥éª¤2ã€åœ¨å…³å¡è“å›¾ä¸­æ›´æ–°æ¸¸æˆå®ä¾‹å˜é‡</h3><h4 id="1è·å–æ¸¸æˆå®ä¾‹å¼•ç”¨"><a class="markdownIt-Anchor" href="#1è·å–æ¸¸æˆå®ä¾‹å¼•ç”¨"></a> 1.è·å–æ¸¸æˆå®ä¾‹å¼•ç”¨</h4><ul><li>åœ¨å…³å¡è“å›¾ä¸­ï¼Œå³é”®æ·»åŠ èŠ‚ç‚¹ â†’ Get Game Instanceã€‚</li><li>å°†è¿”å›çš„Game Instanceå¼•ç”¨è½¬æ¢ä¸ºè‡ªå®šä¹‰ç±»BP_MyGameInstanceï¼ˆé€šè¿‡Cast To BP_MyGameInstanceèŠ‚ç‚¹ï¼‰ã€‚</li></ul><h4 id="2è®¾ç½®å˜é‡å€¼"><a class="markdownIt-Anchor" href="#2è®¾ç½®å˜é‡å€¼"></a> 2.è®¾ç½®å˜é‡å€¼</h4><ul><li>ä»è½¬æ¢åçš„å¼•ç”¨æ‹–å‡ºï¼Œé€‰æ‹©å˜é‡ï¼ˆå¦‚PlayerScoreï¼‰å¹¶æ·»åŠ SetèŠ‚ç‚¹ã€‚</li><li>è¾“å…¥è¦è®¾ç½®çš„å€¼ï¼ˆä¾‹å¦‚é€šè¿‡å…³å¡é€»è¾‘è§¦å‘ï¼‰ã€‚</li></ul><h3 id="æ­¥éª¤3-åœ¨uiè“å›¾ä¸­è¯»å–æ¸¸æˆå®ä¾‹å˜é‡"><a class="markdownIt-Anchor" href="#æ­¥éª¤3-åœ¨uiè“å›¾ä¸­è¯»å–æ¸¸æˆå®ä¾‹å˜é‡"></a> æ­¥éª¤3ã€åœ¨UIè“å›¾ä¸­è¯»å–æ¸¸æˆå®ä¾‹å˜é‡</h3><h4 id="1è·å–æ¸¸æˆå®ä¾‹å¼•ç”¨-2"><a class="markdownIt-Anchor" href="#1è·å–æ¸¸æˆå®ä¾‹å¼•ç”¨-2"></a> 1.è·å–æ¸¸æˆå®ä¾‹å¼•ç”¨</h4><ul><li>åœ¨UIè“å›¾ä¸­ï¼Œå³é”®æ·»åŠ Get Game InstanceèŠ‚ç‚¹ã€‚</li><li>å°†è¿”å›çš„Game Instanceå¼•ç”¨è½¬æ¢ä¸ºBP_MyGameInstanceã€‚</li></ul><h4 id="2è·å–å˜é‡å€¼"><a class="markdownIt-Anchor" href="#2è·å–å˜é‡å€¼"></a> 2.è·å–å˜é‡å€¼</h4><ul><li>ä»è½¬æ¢åçš„å¼•ç”¨æ‹–å‡ºï¼Œé€‰æ‹©å˜é‡ï¼ˆå¦‚PlayerScoreï¼‰å¹¶æ·»åŠ GetèŠ‚ç‚¹ã€‚</li><li>å°†è·å–çš„å€¼è¿æ¥åˆ°UIæ§ä»¶ï¼ˆå¦‚æ–‡æœ¬æ¡†ï¼‰çš„æ˜¾ç¤ºèŠ‚ç‚¹ã€‚</li></ul><h3 id="æ­¥éª¤4-åœ¨uiè“å›¾ä¸­ä¿®æ”¹æ¸¸æˆå®ä¾‹å˜é‡"><a class="markdownIt-Anchor" href="#æ­¥éª¤4-åœ¨uiè“å›¾ä¸­ä¿®æ”¹æ¸¸æˆå®ä¾‹å˜é‡"></a> æ­¥éª¤4ã€åœ¨UIè“å›¾ä¸­ä¿®æ”¹æ¸¸æˆå®ä¾‹å˜é‡</h3><h4 id="1é€šè¿‡uiäº‹ä»¶è§¦å‘ä¿®æ”¹"><a class="markdownIt-Anchor" href="#1é€šè¿‡uiäº‹ä»¶è§¦å‘ä¿®æ”¹"></a> 1.é€šè¿‡UIäº‹ä»¶è§¦å‘ä¿®æ”¹</h4><ul><li>ä¾‹å¦‚ï¼Œåœ¨æŒ‰é’®ç‚¹å‡»äº‹ä»¶ä¸­ï¼Œè·å–æ¸¸æˆå®ä¾‹å¼•ç”¨å¹¶è°ƒç”¨SetèŠ‚ç‚¹æ›´æ–°å˜é‡ã€‚</li></ul><h4 id="2å®æ—¶æ›´æ–°ui"><a class="markdownIt-Anchor" href="#2å®æ—¶æ›´æ–°ui"></a> 2.å®æ—¶æ›´æ–°UI</h4><ul><li>åœ¨å˜é‡å€¼æ”¹å˜åï¼Œé‡æ–°è°ƒç”¨GetèŠ‚ç‚¹å¹¶æ›´æ–°UIæ˜¾ç¤ºã€‚</li></ul><h3 id="å…³é”®æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#å…³é”®æ³¨æ„äº‹é¡¹"></a> å…³é”®æ³¨æ„äº‹é¡¹</h3><h4 id="1å˜é‡ä½œç”¨åŸŸ"><a class="markdownIt-Anchor" href="#1å˜é‡ä½œç”¨åŸŸ"></a> 1.å˜é‡ä½œç”¨åŸŸ</h4><ul><li>æ¸¸æˆå®ä¾‹å˜é‡æ˜¯å…¨å±€çš„ï¼Œé€‚åˆå­˜å‚¨è·¨å…³å¡æ•°æ®ï¼ˆå¦‚ç©å®¶çŠ¶æ€ã€è®¾ç½®å‚æ•°ï¼‰ã€‚</li><li>å±€éƒ¨å˜é‡åº”å­˜å‚¨åœ¨å…³å¡è“å›¾æˆ–Actorä¸­ã€‚</li></ul><h4 id="2ç±»å‹ä¸€è‡´æ€§"><a class="markdownIt-Anchor" href="#2ç±»å‹ä¸€è‡´æ€§"></a> 2.ç±»å‹ä¸€è‡´æ€§</h4><ul><li>ç¡®ä¿UIå’Œå…³å¡è“å›¾ä¸­ä½¿ç”¨çš„å˜é‡ç±»å‹ä¸€è‡´ï¼ˆå¦‚Integerã€Floatç­‰ï¼‰ã€‚</li></ul><h4 id="3ç©ºå¼•ç”¨æ£€æŸ¥"><a class="markdownIt-Anchor" href="#3ç©ºå¼•ç”¨æ£€æŸ¥"></a> 3.ç©ºå¼•ç”¨æ£€æŸ¥</h4><ul><li>åœ¨è½¬æ¢æ¸¸æˆå®ä¾‹å¼•ç”¨æ—¶ï¼Œä½¿ç”¨BranchèŠ‚ç‚¹æ£€æŸ¥æ˜¯å¦è½¬æ¢æˆåŠŸï¼Œé¿å…ç©ºå¼•ç”¨é”™è¯¯ã€‚</li></ul><h4 id="4æ€§èƒ½ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#4æ€§èƒ½ä¼˜åŒ–"></a> 4.æ€§èƒ½ä¼˜åŒ–</h4><ul><li>é¿å…é¢‘ç¹è¯»å–/å†™å…¥æ¸¸æˆå®ä¾‹å˜é‡ï¼Œå¿…è¦æ—¶å¯ä½¿ç”¨äº‹ä»¶åˆ†å‘å™¨æˆ–ç»‘å®šæœºåˆ¶ã€‚</li></ul><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ å¯ä»¥é«˜æ•ˆåœ°åˆ©ç”¨æ¸¸æˆå®ä¾‹å®ç°UIä¸å…³å¡è“å›¾ä¹‹é—´çš„å˜é‡å…±äº«ï¼Œç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UE5å…¥é—¨æ•™ç¨‹ï¼šè“å›¾å˜é‡_ue5å…¨å±€å˜é‡</title>
      <link href="/2025/05/18/UE/UE5%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%EF%BC%9A%E8%93%9D%E5%9B%BE%E5%8F%98%E9%87%8F_ue5%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/"/>
      <url>/2025/05/18/UE/UE5%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%EF%BC%9A%E8%93%9D%E5%9B%BE%E5%8F%98%E9%87%8F_ue5%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€-å˜é‡ä»‹ç»"><a class="markdownIt-Anchor" href="#ä¸€-å˜é‡ä»‹ç»"></a> ä¸€ã€å˜é‡ä»‹ç»</h3><ul><li><strong>å®šä¹‰</strong>ï¼šå˜é‡æ˜¯ä¿å­˜ä¸€ä¸ªå€¼ã€æˆ–å¼•ç”¨ä¸€ä¸ªå¯¹è±¡æˆ–Actorçš„å±æ€§ã€‚è¿™äº›å±æ€§å¯è¢«è“å›¾å†…éƒ¨è®¿é—®ï¼Œä¹Ÿå¯è¢«è®¾ç½®ä¸ºå¤–éƒ¨è®¿é—®ï¼ˆåœ¨å…³å¡ä¸­çš„è“å›¾å®ä¾‹å†…ï¼Œä»¥ä¾¿ç”¨æˆ·ä¿®æ”¹å…¶å€¼ï¼‰ã€‚</li><li><strong>æ˜¾ç¤ºå½¢å¼</strong>ï¼šå˜é‡ä»¥åœ†å½¢æ¡†çš„å½¢å¼æ˜¾ç¤ºï¼Œåœ¨è“å›¾å†…Variablesä¸‹æ‹‰åˆ—è¡¨ä¸­ï¼Œä¼šæ˜¾ç¤ºæ‰€æœ‰å·²å­˜åœ¨çš„å˜é‡ï¼ŒåŒ…æ‹¬ç»„ä»¶å®ä¾‹å˜é‡åŠè‡ªå®šä¹‰å˜é‡ã€‚</li></ul><h3 id="äºŒ-å˜é‡ç±»å‹"><a class="markdownIt-Anchor" href="#äºŒ-å˜é‡ç±»å‹"></a> äºŒã€å˜é‡ç±»å‹</h3><p>è“å›¾å˜é‡æœ‰å¤šç§ç±»å‹ï¼Œç”¨äºä¿å­˜ä¸åŒç±»å‹çš„æ•°æ®ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„å˜é‡ç±»å‹ï¼š</p><ul><li><strong>å¸ƒå°”å€¼ï¼ˆBooleanï¼‰</strong>ï¼šåªèƒ½ä¿å­˜çœŸæˆ–å‡ã€‚</li><li><strong>æ•´æ•°ï¼ˆIntegerï¼‰</strong>ï¼šå¯ä»¥å­˜å‚¨æ•´æ•°å€¼ã€‚</li><li><strong>æµ®ç‚¹ï¼ˆFloatï¼‰</strong>ï¼šå¯ä»¥å­˜å‚¨å¸¦å°æ•°éƒ¨åˆ†çš„æ•°å€¼ã€‚</li><li><strong>å­—ç¬¦ä¸²ï¼ˆStringï¼‰</strong>ï¼šå¯ä»¥å­˜å‚¨ä¸€ç»„å­—æ¯æ•°å­—å­—ç¬¦ã€‚</li><li><strong>å‘é‡ï¼ˆVectorï¼‰</strong>ï¼šåŒ…å«ä»£è¡¨3Då‘é‡çš„Xã€Yå’ŒZæµ®ç‚¹å€¼ã€‚</li><li><strong>æ—‹è½¬ä½“ï¼ˆRotatorï¼‰</strong>ï¼šåŒ…å«Xï¼ˆæ»šåŠ¨ï¼‰ã€Yï¼ˆä¿¯ä»°ï¼‰å’ŒZï¼ˆåèˆªï¼‰æµ®ç‚¹å€¼ï¼Œè¡¨ç¤º3Dç©ºé—´ä¸­çš„æ—‹è½¬ã€‚</li><li><strong>è½¬å˜ï¼ˆTransformï¼‰</strong>ï¼šå¯ä»¥å­˜å‚¨ä½ç½®ã€æ—‹è½¬å’Œç¼©æ”¾ã€‚</li></ul><h3 id="ä¸‰-åˆ›å»ºå˜é‡"><a class="markdownIt-Anchor" href="#ä¸‰-åˆ›å»ºå˜é‡"></a> ä¸‰ã€åˆ›å»ºå˜é‡</h3><p>åœ¨UE5ä¸­ï¼Œåˆ›å»ºå˜é‡çš„æ–¹æ³•æœ‰å¤šç§ï¼š</p><ul><li><strong>ç›´æ¥åˆ›å»º</strong>ï¼šåœ¨è“å›¾ç¼–è¾‘å™¨çš„Variablesé¢æ¿ä¸­ï¼Œç‚¹å‡»â€œ+â€æŒ‰é’®ï¼Œç„¶åè¾“å…¥å˜é‡åç§°å’Œé€‰æ‹©å˜é‡ç±»å‹ã€‚</li><li><strong>æå‡ä¸ºå˜é‡</strong>ï¼šåœ¨è“å›¾ç¼–è¾‘å™¨çš„å›¾è¡¨ä¸­ï¼Œé€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆå¦‚å¸¸é‡èŠ‚ç‚¹æˆ–å±æ€§èŠ‚ç‚¹ï¼‰ï¼Œç„¶åå³é”®é€‰æ‹©â€œPromote to Variableâ€ï¼Œå°†å…¶æå‡ä¸ºå˜é‡ã€‚</li></ul><h3 id="å››-è®¿é—®å˜é‡"><a class="markdownIt-Anchor" href="#å››-è®¿é—®å˜é‡"></a> å››ã€è®¿é—®å˜é‡</h3><p>åœ¨è“å›¾ç¼–è¾‘å™¨ä¸­ï¼Œå¯ä»¥é€šè¿‡Getå’ŒSetæ“ä½œæ¥è®¿é—®å’Œä¿®æ”¹å˜é‡çš„å€¼ï¼š</p><ul><li><strong>è·å–å˜é‡å€¼ï¼ˆGetï¼‰</strong>ï¼šå°†å˜é‡ä»Variablesé¢æ¿ä¸­æ‹–å…¥å›¾è¡¨ä¸­ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªGetèŠ‚ç‚¹ï¼Œç”¨äºè·å–å˜é‡çš„å½“å‰å€¼ã€‚</li><li><strong>è®¾ç½®å˜é‡å€¼ï¼ˆSetï¼‰</strong>ï¼šå°†å˜é‡ä»Variablesé¢æ¿ä¸­æ‹–å…¥å›¾è¡¨ä¸­ï¼Œå¹¶æŒ‰ä½Alté”®å†æ‹–ä¸€æ¬¡ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªSetèŠ‚ç‚¹ï¼Œç”¨äºè®¾ç½®å˜é‡çš„æ–°å€¼ã€‚</li></ul><h3 id="äº”-å˜é‡ç»†èŠ‚è®¾ç½®"><a class="markdownIt-Anchor" href="#äº”-å˜é‡ç»†èŠ‚è®¾ç½®"></a> äº”ã€å˜é‡ç»†èŠ‚è®¾ç½®</h3><p>åœ¨å˜é‡çš„ç»†èŠ‚é¢æ¿ä¸­ï¼Œå¯ä»¥è®¾ç½®å˜é‡çš„å„ç§å±æ€§å’Œè®¿é—®æƒé™ï¼š</p><ul><li><strong>é»˜è®¤å€¼</strong>ï¼šè®¾ç½®å˜é‡çš„åˆå§‹å€¼ã€‚æ³¨æ„ï¼Œåœ¨è®¾ç½®é»˜è®¤å€¼ä¹‹å‰ï¼Œéœ€è¦å…ˆç¼–è¯‘è“å›¾ã€‚</li><li><strong>è®¿é—®æƒé™</strong>ï¼šå¯ä»¥è®¾ç½®å˜é‡ä¸ºå…¬å¼€ï¼ˆPublicï¼‰æˆ–ç§æœ‰ï¼ˆPrivateï¼‰ã€‚å…¬å¼€å˜é‡å¯ä»¥åœ¨è“å›¾å¤–éƒ¨è®¿é—®å’Œä¿®æ”¹ï¼Œè€Œç§æœ‰å˜é‡åªèƒ½åœ¨è“å›¾å†…éƒ¨è®¿é—®ã€‚</li><li><strong>å¯ç¼–è¾‘å®ä¾‹</strong>ï¼šå¦‚æœå‹¾é€‰æ­¤é€‰é¡¹ï¼Œåˆ™å¯ä»¥åœ¨å…³å¡ç¼–è¾‘å™¨ä¸­ç¼–è¾‘æ”¾ç½®åœ¨å…³å¡ä¸­çš„æ­¤è“å›¾çš„æ¯ä¸ªå‰¯æœ¬çš„å˜é‡å€¼ã€‚</li><li><strong>ç”Ÿæˆæ—¶å…¬å¼€</strong>ï¼šå¦‚æœå‹¾é€‰æ­¤é€‰é¡¹ï¼Œåˆ™å¯ä»¥åœ¨ç”Ÿæˆè“å›¾æ—¶è®¾ç½®å˜é‡çš„å€¼ã€‚</li></ul><h3 id="å…­-åº”ç”¨ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#å…­-åº”ç”¨ç¤ºä¾‹"></a> å…­ã€åº”ç”¨ç¤ºä¾‹</h3><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„åº”ç”¨ç¤ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•åœ¨UE5ä¸­ä½¿ç”¨è“å›¾å˜é‡æ¥æ§åˆ¶ä¸€ä¸ªç‰©ä½“çš„ç§»åŠ¨é€Ÿåº¦ï¼š</p><ol><li>åœ¨è“å›¾ä¸­åˆ›å»ºä¸¤ä¸ªæµ®ç‚¹å‹å˜é‡ï¼Œåˆ†åˆ«å‘½åä¸ºâ€œMoveSpeedXâ€å’Œâ€œMoveSpeedYâ€ï¼Œç”¨äºæ§åˆ¶ç‰©ä½“åœ¨Xè½´å’ŒYè½´ä¸Šçš„ç§»åŠ¨é€Ÿåº¦ã€‚</li><li>åœ¨äº‹ä»¶å›¾è¡¨ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªâ€œEvent Tickâ€äº‹ä»¶ï¼Œè¯¥äº‹ä»¶æ¯å¸§éƒ½ä¼šæ‰§è¡Œã€‚</li><li>åœ¨â€œEvent Tickâ€äº‹ä»¶ä¸­ï¼Œä½¿ç”¨â€œSet Actor Locationâ€èŠ‚ç‚¹æ¥è®¾ç½®ç‰©ä½“çš„ä½ç½®ã€‚å°†ç‰©ä½“çš„å½“å‰ä½ç½®åŠ ä¸Šâ€œMoveSpeedXâ€å’Œâ€œMoveSpeedYâ€çš„å€¼ï¼ˆä¹˜ä»¥æ—¶é—´æ­¥é•¿Delta Timeï¼‰ï¼Œä»¥å®ç°å¹³æ»‘ç§»åŠ¨ã€‚</li><li>åœ¨å…³å¡ç¼–è¾‘å™¨ä¸­ï¼Œå°†ç‰©ä½“æ”¾ç½®åœ¨åœºæ™¯ä¸­ï¼Œå¹¶é€‰ä¸­è¯¥ç‰©ä½“çš„è“å›¾å®ä¾‹ã€‚åœ¨ç»†èŠ‚é¢æ¿ä¸­ï¼Œæ‰¾åˆ°â€œMoveSpeedXâ€å’Œâ€œMoveSpeedYâ€å˜é‡ï¼Œå¹¶è®¾ç½®å®ƒä»¬çš„å€¼ä»¥æ§åˆ¶ç‰©ä½“çš„ç§»åŠ¨é€Ÿåº¦ã€‚</li></ol><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œå°±å¯ä»¥ä½¿ç”¨è“å›¾å˜é‡æ¥æ§åˆ¶ç‰©ä½“åœ¨UE5åœºæ™¯ä¸­çš„ç§»åŠ¨é€Ÿåº¦äº†ã€‚è¿™åªæ˜¯è“å›¾å˜é‡åº”ç”¨çš„ä¸€ä¸ªç®€å•ç¤ºä¾‹ï¼Œå®é™…ä¸Šè“å›¾å˜é‡å¯ä»¥åœ¨å„ç§å¤æ‚çš„æ¸¸æˆé€»è¾‘å’Œäº¤äº’ä¸­å‘æŒ¥é‡è¦ä½œç”¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UE4_UE5 å¦‚ä½•æ˜¾ç¤º/è°ƒæ•´æ¸¸æˆè¿è¡Œå¸§ç‡</title>
      <link href="/2025/05/18/UE/UE4_UE5%20%E5%A6%82%E4%BD%95%E6%98%BE%E7%A4%BA%E8%B0%83%E6%95%B4%E6%B8%B8%E6%88%8F%E8%BF%90%E8%A1%8C%E5%B8%A7%E7%8E%87_ue5%E6%98%BE%E7%A4%BA%E5%B8%A7%E7%8E%87/"/>
      <url>/2025/05/18/UE/UE4_UE5%20%E5%A6%82%E4%BD%95%E6%98%BE%E7%A4%BA%E8%B0%83%E6%95%B4%E6%B8%B8%E6%88%8F%E8%BF%90%E8%A1%8C%E5%B8%A7%E7%8E%87_ue5%E6%98%BE%E7%A4%BA%E5%B8%A7%E7%8E%87/</url>
      
        <content type="html"><![CDATA[<p>åœ¨åˆ›ä½œä¸­ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦æŸ¥çœ‹æ¸¸æˆè¿è¡Œçš„å¸§ç‡ï¼Œç”¨äºåˆ¤æ–­ç¨‹åºè¿è¡Œçš„æµç•…åº¦ã€‚é‚£ä¹ˆå¦‚ä½•è°ƒå–å¸§ç‡å‘¢ï¼Œæ¥ä¸‹æ¥æˆ‘å°±ç®€å•ä»‹ç»å‡ ç§æ–¹æ³•ï¼š</p><h3 id="1åœ¨æ§åˆ¶å°å‘½ä»¤ä¸­è¾“å…¥stat-fps"><a class="markdownIt-Anchor" href="#1åœ¨æ§åˆ¶å°å‘½ä»¤ä¸­è¾“å…¥stat-fps"></a> 1.åœ¨æ§åˆ¶å°å‘½ä»¤ä¸­è¾“å…¥stat fps</h3><p><img src="258692133f98758b9704c9d676ef9ecf.png" alt="" /></p><p>å¯ä»¥çœ‹åˆ°ï¼Œæ¸¸æˆå¸§ç‡å·²ç»æ˜¾ç¤ºåœ¨å±å¹•å³ä¸Šè§’ã€‚</p><p><img src="5d2b227fc9d7c47e33d9b2260fd954f1.png" alt="" /></p><h3 id="2åœ¨æ§åˆ¶å°å‘½ä»¤ä¸­è¾“å…¥tmaxfps-å¸§æ•°ä»¥ä¿®æ”¹æœ€å¤§å¸§ç‡"><a class="markdownIt-Anchor" href="#2åœ¨æ§åˆ¶å°å‘½ä»¤ä¸­è¾“å…¥tmaxfps-å¸§æ•°ä»¥ä¿®æ”¹æœ€å¤§å¸§ç‡"></a> 2.åœ¨æ§åˆ¶å°å‘½ä»¤ä¸­è¾“å…¥â€œt.maxfps å¸§æ•°â€ä»¥ä¿®æ”¹æœ€å¤§å¸§ç‡</h3><p><img src="6f1504ab1c722a16894c2810daf3cf88.png" alt="" /></p><h3 id="3é€šè¿‡get-world-delta-secondsæ¥è·å–å¸§ç‡å¹¶æ‰“å°åˆ°å±å¹•ä¸Š"><a class="markdownIt-Anchor" href="#3é€šè¿‡get-world-delta-secondsæ¥è·å–å¸§ç‡å¹¶æ‰“å°åˆ°å±å¹•ä¸Š"></a> 3.é€šè¿‡Get World Delta Secondsæ¥è·å–å¸§ç‡å¹¶æ‰“å°åˆ°å±å¹•ä¸Š</h3><p>Delta Secondså…¶å®å°±æ˜¯æ¸¸æˆä¸­æ¯å¸§åˆ·æ–°æ‰€ç”¨çš„æ—¶é—´ï¼Œç”¨1é™¤ä»¥Delta Seconds,å¾—åˆ°çš„å°±æ˜¯æ¯ç§’ä¸­åˆ·æ–°çš„å¸§æ•°ã€‚<br />ä¸‹å›¾çš„èŠ‚ç‚¹é€»è¾‘ä¸­ï¼Œæˆ‘é€šè¿‡æŒ‰ä¸‹æ•°å­—é”®3ï¼Œæ¥å‘å±å¹•æ‰“å°è®¡ç®—æ‰€å¾—çš„FPSã€‚ï¼ˆAppenèŠ‚ç‚¹æ˜¯å­—ç¬¦ä¸²ç»„åˆèŠ‚ç‚¹ï¼Œç±»ä¼¼C++ä¸­å¯¹å­—ç¬¦ä¸²çš„â€œ+â€é‡è½½ï¼‰<br /><img src="192d01f723ac535e337ae770b615892e.png" alt="" /></p><p>å¯ä»¥çœ‹åˆ°ï¼Œå½“æˆ‘æŒ‰ä¸‹æ•°å­—é”®3ï¼Œæˆ‘çš„å¸§æ•°è¢«æ‰“å°åˆ°å±å¹•ä¸Šã€‚</p><p><img src="20d1767d7313e42d85369f9c1ac700d2.png" alt="" /></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows+vs2017 C++ç¼–è¯‘gRPC</title>
      <link href="/2025/05/08/RPC/windows+vs2017%20C++%E7%BC%96%E8%AF%91gRPC/"/>
      <url>/2025/05/08/RPC/windows+vs2017%20C++%E7%BC%96%E8%AF%91gRPC/</url>
      
        <content type="html"><![CDATA[<h4 id="1-éœ€æ±‚"><a class="markdownIt-Anchor" href="#1-éœ€æ±‚"></a> 1ã€éœ€æ±‚</h4><p>å› ä¸ºé¡¹ç›®éœ€è¦ï¼Œæƒ³è¦åœ¨windows+vs2017ç¯å¢ƒä½¿ç”¨C<ins>ä¸‹ç¼–ç¨‹gRPCå¹¶ç¼–å†™demoç¨‹åºï¼Œä½¿å¾—èƒ½å¤Ÿæ ¹æ®protoæ–‡ä»¶ç”Ÿæˆå¯¹åº”çš„c</ins>æ–‡ä»¶ã€‚</p><h4 id="2-èµ„æ–™æŸ¥é˜…"><a class="markdownIt-Anchor" href="#2-èµ„æ–™æŸ¥é˜…"></a> 2ã€èµ„æ–™æŸ¥é˜…</h4><p>èµ·åˆæ ¹æ®ç½‘ç»œèµ„æ–™æŸ¥é˜…ï¼Œä½¿ç”¨gitä»githubä¸­ä¸‹è½½äº†gRPC<strong>æœ€æ–°çš„</strong>å¼€æºä»£ç ï¼Œå¹¶é€šè¿‡CMakeç¼–è¯‘ï¼Œä¹‹åä½¿ç”¨vs2017è¿›è¡Œæœ€ç»ˆçš„ç¼–è¯‘ç”Ÿæˆï¼Œä½†åœ¨<strong>vs2017</strong>ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œ<strong>æç¤ºç‰ˆæœ¬ä¸åŒ¹é…</strong>ï¼Œéœ€è¦vs2019åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œæœ¬æƒ³è¿›è¡Œvsçš„ç‰ˆæœ¬å‡çº§ï¼Œä½†è€ƒè™‘åˆ°é¡¹ç›®ä»£ç ç‰ˆæœ¬é—®é¢˜ï¼Œæœ€ç»ˆé€‰æ‹©ä½ç‰ˆæœ¬çš„gRPCè¿›è¡Œç¼–è¯‘ä¸ä½¿ç”¨ï¼Œå†æ¬¡æŸ¥é˜…èµ„æ–™ï¼Œæœ€ç»ˆï¼Œæ ¹æ®å¤§ä½¬çš„è¿™ç¯‡æ–‡ä»¶<a href="https://zhuanlan.zhihu.com/p/552331260" title="åœ¨Windowsæ­å»ºgRPC C++å¼€å‘ç¯å¢ƒ">åœ¨Windowsæ­å»ºgRPC C++å¼€å‘ç¯å¢ƒ!</a>ï¼Œå®Œæˆäº†<strong>vs2017+gRPC1.48</strong>ç‰ˆæœ¬çš„ç¼–è¯‘ã€‚</p><h4 id="3-ç¼–è¯‘å·¥å…·"><a class="markdownIt-Anchor" href="#3-ç¼–è¯‘å·¥å…·"></a> 3ã€ç¼–è¯‘å·¥å…·</h4><p>ï¼ˆ1ï¼‰Gitï¼›ç”¨äºä»githubä¸­å°†ä»£ç æ‹‰ä¸‹</p><p>ï¼ˆ2ï¼‰CMakeï¼›ç¼–è¯‘gRPC</p><p>ï¼ˆ3ï¼‰Nasmï¼›ä¼¼ä¹æ˜¯ç¼–è¯‘è¿‡ç¨‹ä¸­opensslç”¨åˆ°ï¼Œä¸å¤ªäº†è§£ï¼Œä½†ç½‘ä¸Šæœç´¢ä¸‹è½½äº†ä¸€ä¸ª</p><p>ï¼ˆ4ï¼‰VS2017 Professionalï¼›</p><h4 id="4-ç¼–è¯‘æ­¥éª¤å°±æ˜¯æŠŠå¤§ä½¬çš„æ–‡ç« å¤åˆ¶äº†ä¸€éä¸ºäº†é˜²æ­¢å¤§ä½¬çš„æ–‡ç« é“¾æ¥å¤±æ•ˆ"><a class="markdownIt-Anchor" href="#4-ç¼–è¯‘æ­¥éª¤å°±æ˜¯æŠŠå¤§ä½¬çš„æ–‡ç« å¤åˆ¶äº†ä¸€éä¸ºäº†é˜²æ­¢å¤§ä½¬çš„æ–‡ç« é“¾æ¥å¤±æ•ˆ"></a> 4ã€ç¼–è¯‘æ­¥éª¤ï¼ˆå°±æ˜¯æŠŠå¤§ä½¬çš„æ–‡ç« å¤åˆ¶äº†ä¸€éï¼Œä¸ºäº†é˜²æ­¢å¤§ä½¬çš„æ–‡ç« é“¾æ¥å¤±æ•ˆï¼‰</h4><h4 id="1ä¸‹è½½grpcæºç "><a class="markdownIt-Anchor" href="#1ä¸‹è½½grpcæºç "></a> ï¼ˆ1ï¼‰ä¸‹è½½gRPCæºç </h4><p>ä½¿ç”¨gitå‘½ä»¤è¡Œåœ¨é¢„å¤‡å­˜æ”¾grpcæºç çš„ç›®å½•ä¸‹æ‰§è¡Œ, æ­¤å¤„æˆ‘ä»¬ä¸‹è½½çš„æ˜¯ grpc 1.48.0</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b v1.48.0 https://github.com/grpc/grpc</span><br></pre></td></tr></table></figure><p>è¿›å…¥æºç ç›®å½•</p><p>ä¸‹è½½ä¾èµ–åº“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git submodule update --init</span><br></pre></td></tr></table></figure><p>*æ­¤å¤„æ³¨æ„ï¼Œç¡®ä¿æ‰€æœ‰ä¾èµ–åº“ä¸‹è½½æˆåŠŸ</p><p>ï¼ˆ<strong>å¯ä»¥é‡å¤æ‰§è¡ŒÂ  Â git submodule update --init --recursiveÂ  Â  å‘½ä»¤ï¼Œç›´åˆ°æ²¡æœ‰é”™è¯¯æç¤º</strong>ï¼‰ã€‚</p><h4 id="2ä½¿ç”¨cmakeç”Ÿæˆå·¥ç¨‹æ–‡ä»¶"><a class="markdownIt-Anchor" href="#2ä½¿ç”¨cmakeç”Ÿæˆå·¥ç¨‹æ–‡ä»¶"></a> ï¼ˆ2ï¼‰ä½¿ç”¨CMakeç”Ÿæˆå·¥ç¨‹æ–‡ä»¶</h4><p>åœ¨ç”Ÿæˆå·¥ç¨‹æ–‡ä»¶æ—¶åšï¼Œåšå¦‚ä¸‹è°ƒæ•´ï¼š</p><p>l æ·»åŠ ABSL_PROPAGATE_CXX_STDé€‰é¡¹ï¼Œç±»å‹ä¸ºboolè®¾ç½®ä¸ºtrueï¼›</p><p>l å°†æºç ç›®å½•ä¸‹third_party\zlib\CMakeList.txtçš„ç¬¬ä¸€è¡Œä¾èµ–çš„CMakeç‰ˆæœ¬ä¿®æ”¹ä¸º2.8.12ï¼›</p><p>l æ·»åŠ CMAKE_INSTALL_PREFIXé€‰é¡¹ï¼Œç±»å‹ä¸ºPathï¼Œè®¾ç½®ä¸ºgRPCç¼–è¯‘åçš„å®‰è£…ç›®å½•ã€‚</p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="9f4d8613e0cdf92b0b1f5df5fac4b4e6.png" alt="" /></p><p>ç‚¹å‡»ã€Configureã€‘è®¾ç½®éœ€è¦çš„ç¼–è¯‘ç¯å¢ƒï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="b6e27049845468a6c1ce1578251c3a0a.png" alt="" /></p><p>ç‚¹å‡»ã€Finishã€‘åé…ç½®ç¯å¢ƒæ—¥å¿—ä¸­æ²¡æœ‰æŠ¥é”™åï¼Œç‚¹å‡»ã€Generateã€‘ç”Ÿæˆå·¥ç¨‹æ–‡ä»¶ã€‚</p><h4 id="3ç¼–è¯‘-å®‰è£…grpc"><a class="markdownIt-Anchor" href="#3ç¼–è¯‘-å®‰è£…grpc"></a> ï¼ˆ3ï¼‰ç¼–è¯‘ã€å®‰è£…gRPC</h4><p>ä½¿ç”¨ç®¡ç†å‘˜è¿è¡ŒVisual Studio 2017ï¼Œå¹¶æ‰“å¼€ä¸Šä¸€æ­¥ç”Ÿæˆçš„å·¥ç¨‹grpc.slnã€‚</p><p>å°†ç¯å¢ƒè®¾ç½®ä¸º<strong>Release x64</strong>ç”ŸæˆALL_BUILDé¡¹ç›®ã€‚</p><p>ç”ŸæˆINSTALLé¡¹ç›®ï¼Œæ­¤æ—¶ä¼šå°†ç”Ÿæˆçš„æ–‡ä»¶å®‰è£…åˆ°ç¬¬2æ­¥ä¸­CMAKE_INSTALL_PREFIXé…ç½®çš„è·¯å¾„ä¸­ã€‚</p><p>å°†å®‰è£…ç›®å½•ä¸‹çš„binç›®å½•è·¯å¾„æ·»åŠ åˆ°ç¯å¢ƒå˜é‡Pathä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="6bc42b4bab4bb8847417cd75af140570.png" alt="" /></p><p>è‡³æ­¤ï¼ŒgRPCçš„c++ç¯å¢ƒå·²ç»é…ç½®å¥½ã€‚</p><h4 id="5-åˆ›å»ºæµ‹è¯•å·¥ç¨‹"><a class="markdownIt-Anchor" href="#5-åˆ›å»ºæµ‹è¯•å·¥ç¨‹"></a> 5ã€åˆ›å»ºæµ‹è¯•å·¥ç¨‹</h4><p>å¤§ä½¬è¿™é‡Œåˆ›å»ºçš„C#é¡¹ç›®ï¼Œæˆ‘çš„æ˜¯C++é¡¹ç›®ï¼Œç•¥æœ‰ä¸åŒï¼Œæ­¤å¤„ç•¥ã€‚</p><p><img src="4b6e6971ef161fb9435ae206baaa87eb.png" alt="" /></p><h4 id="1ç¼–è¯‘protoæ–‡ä»¶"><a class="markdownIt-Anchor" href="#1ç¼–è¯‘protoæ–‡ä»¶"></a> ï¼ˆ1ï¼‰ç¼–è¯‘protoæ–‡ä»¶</h4><p>åœ¨protosæ–‡ä»¶å¤¹çš„<strong>ä¸Šçº§ç›®å½•Project2ä¸­</strong>æ‰“å¼€å‘½ä»¤è¡Œç»ˆç«¯ï¼Œå¹¶è¾“å…¥ä¸¤æ¡æŒ‡ä»¤ï¼Œ<a href="http://xn--6kqy04ag3b53e8o5arb.xn--proto-qn2h216kdo2a.grpc.pb.cc/.h%E4%BB%A5%E5%8F%8A.pb.cc/.h%E6%96%87%E4%BB%B6%E3%80%82">ç”¨äºç”Ÿæˆå¯¹åº”.protoæ–‡ä»¶çš„.grpc.pb.cc/.hä»¥åŠ.pb.cc/.hæ–‡ä»¶ã€‚</a></p><p><img src="3f411d7da2d8967096ece924698dd02f.png" alt="" /><img src="96c56920f27826b11e1b2a5ceea30ad1.png" alt="" /></p><blockquote><p><strong>protoc -I=â€œ./protosâ€ --grpc_out=â€œ./protosâ€ --plugin=protoc-gen-grpc=â€œD:\Project\GRPCProject\TestProject\Project2\Project2\Project2\grpc_cpp_plugin.exeâ€ â€œ./protos\route_guide.protoâ€</strong></p></blockquote><blockquote><p><strong>protoc -I=â€œ./protosâ€ --cpp_out=â€œ./protosâ€ â€œ./protos\route_guide.protoâ€</strong></p></blockquote><p>æ³¨æ„ï¼šå…¶ä¸­ï¼šgrpc_cpp_plugin.exeæ‰€åœ¨è·¯å¾„æ›¿æ¢ä¸ºæ‚¨å®‰è£…çš„è·¯å¾„ã€‚ä¸”protoè·¯å¾„æ ¹æ®è‡ªå·²çš„è·¯å¾„ä¿®æ”¹ï¼Œå¦‚æœä¸æƒ³ä¿®æ”¹ï¼Œåªéœ€è¦æ ¹æ®æˆ‘çš„è·¯å¾„å­˜æ”¾protoæ–‡ä»¶å³å¯ã€‚</p><h4 id="2ç”Ÿæˆé¡¹ç›®"><a class="markdownIt-Anchor" href="#2ç”Ÿæˆé¡¹ç›®"></a> ï¼ˆ2ï¼‰ç”Ÿæˆé¡¹ç›®</h4><p>å°†ç”Ÿæˆçš„ .grpc.pb.cc/.hÂ  .pb.cc/.hä»¥åŠprotoæ–‡ä»¶æ·»åŠ åˆ°vsä¸­ï¼Œvsåˆ‡æ¢ä¸º<strong>Release x64</strong>ç‰ˆæœ¬ï¼ˆå¯¹åº”gRPCç¼–è¯‘çš„ç‰ˆæœ¬ï¼Œä¸çŸ¥é“Debugç‰ˆæœ¬æ˜¯å¦æœ‰é—®é¢˜ï¼Œæš‚æœªå°è¯•ï¼‰ã€‚</p><p>æ³¨æ„ï¼šæ­¤å¤„å·²æœ‰xxx_client.ccå®¢æˆ·ç«¯æ–‡ä»¶ä¸xxx_server.ccæœåŠ¡ç«¯æ–‡ä»¶ï¼Œæ˜¯ä»grpcæºä»£ç çš„èŒƒä¾‹ä¸­æ‹·è´å‡ºæ¥çš„ï¼Œå¹¶ç¨åšäº†ä¿®æ”¹ï¼Œè·¯å¾„ä¸ºâ€œxxx\grpc\examples\cpp\route_guideâ€</p><p><img src="634b592055a4fba1e4f3442a3ab31b4d.png" alt="" /></p><p><strong>æ³¨æ„ï¼šéœ€è¦æŸ¥çœ‹ç”Ÿæˆçš„grpc.pb.hæ–‡ä»¶ä¸­æ˜¯å¦åŒ…å«ä¸­æ–‡æ³¨é‡Šï¼Œå¦‚æœåŒ…å«åˆ™éœ€è¦åˆ é™¤ä¸­æ–‡æ³¨é‡Šï¼Œå¦åˆ™ç¼–è¯‘æ—¶å°†ä¼šå‡ºç°</strong></p><p><img src="2d7f48252e8de4499d265e2e644792bb.png" alt="" /></p><p>æ·»åŠ <strong>åŒ…å«ç›®å½•</strong>ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè·¯å¾„ä¸º<strong>grpcçš„includeå®‰è£…è·¯å¾„</strong>ï¼š</p><p><img src="cba44772ecca194536884b383453cc45.png" alt="" /></p><p>æ·»åŠ <strong>é™„åŠ åº“ç›®å½•</strong>ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè·¯å¾„ä¸º<strong>grpcçš„libå®‰è£…è·¯å¾„</strong>ï¼š</p><p><img src="884ad950a514a99e2cd427a720dd782e.png" alt="" /></p><p>æ·»åŠ é™„åŠ ä¾èµ–é¡¹ï¼š</p><p><img src="f3f1942a32bfcf7c1c1fccb5c3d70dfc.png" alt="" /></p><blockquote><p>absl_bad_optional_access.lib</p><p>absl_bad_variant_access.lib</p><p>absl_base.lib</p><p>absl_city.lib</p><p>absl_civil_time.lib</p><p>absl_cord.lib</p><p>absl_cordz_functions.lib</p><p>absl_cordz_handle.lib</p><p>absl_cordz_info.lib</p><p>absl_cordz_sample_token.lib</p><p>absl_cord_internal.lib</p><p>absl_debugging_internal.lib</p><p>absl_demangle_internal.lib</p><p>absl_examine_stack.lib</p><p>absl_exponential_biased.lib</p><p>absl_failure_signal_handler.lib</p><p>absl_flags.lib</p><p>absl_flags_commandlineflag.lib</p><p>absl_flags_commandlineflag_internal.lib</p><p>absl_flags_config.lib</p><p>absl_flags_internal.lib</p><p>absl_flags_marshalling.lib</p><p>absl_flags_parse.lib</p><p>absl_flags_private_handle_accessor.lib</p><p>absl_flags_program_name.lib</p><p>absl_flags_reflection.lib</p><p>absl_flags_usage.lib</p><p>absl_flags_usage_internal.lib</p><p>absl_graphcycles_internal.lib</p><p>absl_hash.lib</p><p>absl_hashtablez_sampler.lib</p><p>absl_int128.lib</p><p>absl_leak_check.lib</p><p>absl_log_severity.lib</p><p>absl_low_level_hash.lib</p><p>absl_malloc_internal.lib</p><p>absl_periodic_sampler.lib</p><p>absl_random_distributions.lib</p><p>absl_random_internal_distribution_test_util.lib</p><p>absl_random_internal_platform.lib</p><p>absl_random_internal_pool_urbg.lib</p><p>absl_random_internal_randen.lib</p><p>absl_random_internal_randen_hwaes.lib</p><p>absl_random_internal_randen_hwaes_impl.lib</p><p>absl_random_internal_randen_slow.lib</p><p>absl_random_internal_seed_material.lib</p><p>absl_random_seed_gen_exception.lib</p><p>absl_random_seed_sequences.lib</p><p>absl_raw_hash_set.lib</p><p>absl_raw_logging_internal.lib</p><p>absl_scoped_set_env.lib</p><p>absl_spinlock_wait.lib</p><p>absl_stacktrace.lib</p><p>absl_status.lib</p><p>absl_statusor.lib</p><p>absl_strerror.lib</p><p>absl_strings.lib</p><p>absl_strings_internal.lib</p><p>absl_str_format_internal.lib</p><p>absl_symbolize.lib</p><p>absl_synchronization.lib</p><p>absl_throw_delegate.lib</p><p>absl_time.lib</p><p>absl_time_zone.lib</p><p>address_sorting.lib</p><p>cares.lib</p><p>crypto.lib</p><p>gpr.lib</p><p>grpc++.lib</p><p>grpc++_alts.lib</p><p>grpc++_error_details.lib</p><p>grpc++_reflection.lib</p><p>grpc++_unsecure.lib</p><p>grpc.lib</p><p>grpcpp_channelz.lib</p><p>grpc_plugin_support.lib</p><p>grpc_unsecure.lib</p><p>libprotobuf-lite.lib</p><p>libprotobuf.lib</p><p>libprotoc.lib</p><p>re2.lib</p><p>ssl.lib</p><p>upb.lib</p><p>zlib.lib</p></blockquote><h4 id="3è¿è¡Œé¡¹ç›®"><a class="markdownIt-Anchor" href="#3è¿è¡Œé¡¹ç›®"></a> ï¼ˆ3ï¼‰è¿è¡Œé¡¹ç›®</h4><p>åˆ†åˆ«æ³¨é‡Šxxx_client.ccä¸xxx_server.ccæ–‡ä»¶ä¸­çš„mainå‡½æ•°ï¼Œå¹¶ç¼–è¾‘ï¼Œå³å¯ç”Ÿæˆå¯¹åº”çš„clientä¸serverç¨‹åºï¼Œå…ˆè¿è¡Œserverç¨‹åºï¼Œåœ¨è¿è¡Œclientç¨‹åºï¼Œè¿›è¡Œé€šè®¯å°è¯•ï¼ŒæˆåŠŸé€šè®¯ã€‚</p><p><img src="5aad47251fcbc290ea6a5e8628becbd9.png" alt="" /></p><h4 id="6-æ„Ÿè°¢å¤§ä½¬åˆ†äº«"><a class="markdownIt-Anchor" href="#6-æ„Ÿè°¢å¤§ä½¬åˆ†äº«"></a> 6ã€æ„Ÿè°¢å¤§ä½¬åˆ†äº«</h4><p>æœ€åï¼Œå†æ¬¡æ„Ÿè°¢å¤§ä½¬çš„åˆ†äº«</p><p><a href="https://zhuanlan.zhihu.com/p/552331260">åœ¨Windowsæ­å»ºgRPC C++å¼€å‘ç¯å¢ƒ!</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> C </tag>
            
            <tag> RPC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRPCï¼‰å…¥é—¨</title>
      <link href="/2025/05/07/RPC/%E8%BF%9C%E7%A8%8B%E8%BF%87%E7%A8%8B%E8%B0%83%E7%94%A8%EF%BC%88RPC%EF%BC%89%E5%85%A5%E9%97%A8/"/>
      <url>/2025/05/07/RPC/%E8%BF%9C%E7%A8%8B%E8%BF%87%E7%A8%8B%E8%B0%83%E7%94%A8%EF%BC%88RPC%EF%BC%89%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡ç®€è¦ä»‹ç»RPCçš„ç›¸å…³çŸ¥è¯†ã€‚</p><h2 id="1-æ¦‚è¿°"><a class="markdownIt-Anchor" href="#1-æ¦‚è¿°"></a> 1Â æ¦‚è¿°</h2><p>RPC(Remote Procedure Call)ï¼Œå³è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼Œæ˜¯ä¸€ç§é€šè¿‡ç½‘ç»œä»è¿œç¨‹è®¡ç®—æœºç¨‹åºä¸Šè¯·æ±‚æœåŠ¡ã€è€Œä¸éœ€è¦äº†è§£åº•å±‚ç½‘ç»œæŠ€æœ¯çš„åè®®ã€‚RPCåè®®å‡å®šæŸäº›ä¼ è¾“åè®®ï¼ˆå¦‚TCPæˆ–UDPï¼‰çš„å­˜åœ¨ï¼Œä¸ºé€šä¿¡ç¨‹åºä¹‹é—´æºå¸¦ä¿¡æ¯æ•°æ®ã€‚åœ¨OSIç½‘ç»œé€šä¿¡æ¨¡å‹ä¸­ï¼ŒRPCè·¨è¶Šäº†ä¼ è¾“å±‚å’Œåº”ç”¨å±‚ã€‚RPCä½¿å¾—å¼€å‘åº”ç”¨ç¨‹åºï¼ˆåŒ…æ‹¬ç½‘ç»œåˆ†å¸ƒå¼å¤šç¨‹åºåœ¨å†…ï¼‰æ›´åŠ å®¹æ˜“ã€‚</p><p>ä¾‹å¦‚ï¼Œæœ‰ä¸¤å°æœåŠ¡å™¨Aå’ŒBï¼Œä¸€ä¸ªåº”ç”¨éƒ¨ç½²åœ¨æœåŠ¡å™¨Aä¸Šï¼Œæƒ³è¦è°ƒç”¨æœåŠ¡å™¨Bä¸Šçš„åº”ç”¨æä¾›çš„å‡½æ•°/æ–¹æ³•ã€‚ç”±äºæœåŠ¡å™¨Aå’ŒæœåŠ¡å™¨Bçš„åº”ç”¨ç¨‹åºä¸åœ¨ä¸€ä¸ªå†…å­˜ç©ºé—´ï¼Œä¸èƒ½ç›´æ¥è°ƒç”¨ï¼Œå°±éœ€è¦é€šè¿‡ç½‘ç»œæ¥ä¼ è¾¾è°ƒç”¨çš„è¯­ä¹‰å’Œè°ƒç”¨çš„æ•°æ®ï¼Œè¿™å°±æ˜¯RPCåè®®ã€‚</p><h2 id="2-èƒŒæ™¯"><a class="markdownIt-Anchor" href="#2-èƒŒæ™¯"></a> 2Â èƒŒæ™¯</h2><p>åœ¨å•æœºæ—¶ä»£ï¼Œä¸€å°ç”µè„‘ä¸Šè¿è¡Œå¤šä¸ªè¿›ç¨‹ï¼Œä¸ºäº†å®ç°è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œå°±å‡ºç°äº†IPCï¼ˆInter-process communicationï¼Œå•æœºä¸­è¿è¡Œçš„è¿›ç¨‹ä¹‹é—´çš„ç›¸äº’é€šä¿¡ï¼‰ã€‚</p><p>è€Œåˆ°äº†ç½‘ç»œæ—¶ä»£ï¼Œå¤§å®¶çš„ç”µè„‘éƒ½äº’ç›¸è¿èµ·æ¥äº†ï¼Œä»¥å‰ç¨‹åºåªèƒ½è°ƒç”¨è‡ªå·±ç”µè„‘ä¸Šçš„è¿›ç¨‹ï¼Œèƒ½ä¸èƒ½è°ƒç”¨å…¶ä»–æœºå™¨ä¸Šçš„è¿›ç¨‹å‘¢ï¼Ÿä¸ºäº†å®ç°è¿™ä¸ªç›®çš„ï¼ŒæŠŠIPCæ‰©å±•åˆ°ç½‘ç»œä¸Šï¼Œå°±æ˜¯RPCï¼ˆè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼‰äº†ã€‚</p><h2 id="3-åŸç†"><a class="markdownIt-Anchor" href="#3-åŸç†"></a> 3Â åŸç†</h2><p>æœ¬èŠ‚é€šè¿‡æœ¬åœ°è¿‡ç¨‹è°ƒç”¨å’Œè¿œç¨‹è¿‡ç¨‹è°ƒç”¨æ¥ä»‹ç»RPCçš„åŸç†ã€‚</p><h3 id="31-æœ¬åœ°è¿‡ç¨‹è°ƒç”¨"><a class="markdownIt-Anchor" href="#31-æœ¬åœ°è¿‡ç¨‹è°ƒç”¨"></a> 3.1Â æœ¬åœ°è¿‡ç¨‹è°ƒç”¨</h3><p>åœ¨ç ”ç©¶RPCå‰ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹æœ¬åœ°è°ƒç”¨æ˜¯æ€ä¹ˆè°ƒçš„ã€‚</p><p>å‡è®¾æˆ‘ä»¬è¦è°ƒç”¨å‡½æ•°Multiplyæ¥è®¡ç®—â€œlvalue * rvalueâ€çš„ç»“æœï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">Multiply</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">   <span class="type">int</span> y = l * r;</span><br><span class="line">   <span class="keyword">return</span> y;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="type">int</span> lvalue = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> rvalue = <span class="number">20</span>;</span><br><span class="line"><span class="type">int</span> l_times_r = <span class="built_in">Multiply</span>(lvalue, rvalue);</span><br></pre></td></tr></table></figure><p>åœ¨ç¨‹åºæ‰§è¡Œåˆ°ç¬¬8è¡Œæ—¶ï¼Œå®é™…ä¸Šæ‰§è¡Œäº†ä»¥ä¸‹æ“ä½œï¼š</p><ol><li>å°†lvalueå’Œrvalueçš„å€¼å‹æ ˆï¼›</li><li>è¿›å…¥Multiplyå‡½æ•°ï¼Œå–å‡ºæ ˆä¸­çš„å€¼10å’Œ20ï¼Œå°†å…¶èµ‹äºˆlå’Œrï¼›</li><li>æ‰§è¡Œç¬¬2è¡Œä»£ç ï¼Œè®¡ç®—â€œl * râ€ï¼Œå¹¶å°†ç»“æœå­˜åœ¨yï¼›</li><li>å°†yçš„å€¼å‹æ ˆï¼Œç„¶åä»Multiplyè¿”å›ï¼›</li><li>å›åˆ°ç¬¬8è¡Œï¼Œä»æ ˆä¸­å–å‡ºè¿”å›å€¼200ï¼Œå¹¶èµ‹å€¼ç»™l_times_rã€‚</li></ol><p>ä¸Šè¿°5æ­¥å°±æ˜¯æ‰§è¡Œæœ¬åœ°è°ƒç”¨çš„è¿‡ç¨‹ã€‚</p><h3 id="32-è¿œç¨‹è¿‡ç¨‹è°ƒç”¨rpc"><a class="markdownIt-Anchor" href="#32-è¿œç¨‹è¿‡ç¨‹è°ƒç”¨rpc"></a> 3.2 è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRPCï¼‰</h3><p>å®é™…ä¸ŠRPCå°±æ˜¯è¦åƒè°ƒç”¨æœ¬åœ°çš„å‡½æ•°ä¸€æ ·å»è°ƒè¿œç¨‹å‡½æ•°ã€‚</p><p>åœ¨è¿›è¡Œè¿œç¨‹è¿‡ç¨‹è°ƒç”¨æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ‰§è¡Œçš„å‡½æ•°ä½“æ˜¯åœ¨è¿œç¨‹çš„æœºå™¨ä¸Šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ3.1èŠ‚ä¸­æåˆ°çš„Multiplyå‡½æ•°æ˜¯åœ¨å¦ä¸€ä¸ªæœºå™¨ä¸Šçš„è¿›ç¨‹ä¸­æ‰§è¡Œçš„ã€‚è¿™å°±å¸¦æ¥äº†ä¸‹é¢å‡ ä¸ªé—®é¢˜ã€‚</p><p>1. æˆ‘ä»¬æ€ä¹ˆå‘Šè¯‰è¿œç¨‹æœºå™¨æˆ‘ä»¬è¦è°ƒç”¨Multiplyï¼Œè€Œä¸æ˜¯Addæˆ–è€…å…¶ä»–å‡½æ•°å‘¢ï¼Ÿ</p><p><strong>è§£å†³æ–¹æ³•ï¼šCall IDæ˜ å°„ã€‚</strong></p><p>åœ¨æœ¬åœ°è°ƒç”¨ä¸­ï¼Œå‡½æ•°ä½“æ˜¯ç›´æ¥é€šè¿‡å‡½æ•°æŒ‡é’ˆæ¥æŒ‡å®šçš„ã€‚æˆ‘ä»¬è°ƒç”¨Multiplyï¼Œç¼–è¯‘å™¨å°±è‡ªåŠ¨å¸®æˆ‘ä»¬è°ƒç”¨å®ƒå¯¹åº”çš„å‡½æ•°æŒ‡é’ˆã€‚ä½†æ˜¯åœ¨è¿œç¨‹è°ƒç”¨ä¸­ï¼Œè°ƒç”¨å‡½æ•°æŒ‡é’ˆçš„æ–¹æ³•æ˜¯è¡Œä¸é€šçš„ï¼Œå› ä¸ºä¸¤ä¸ªæœºå™¨çš„ä¸¤ä¸ªè¿›ç¨‹çš„åœ°å€ç©ºé—´æ˜¯å®Œå…¨ä¸ä¸€æ ·çš„ã€‚æ‰€ä»¥ï¼Œåœ¨RPCä¸­ï¼Œ**æ‰€æœ‰çš„å‡½æ•°éƒ½å¿…é¡»æœ‰è‡ªå·±çš„ä¸€ä¸ªIDï¼Œ**è¿™ä¸ªIDåœ¨æ‰€æœ‰è¿›ç¨‹ä¸­éƒ½æ˜¯å”¯ä¸€ç¡®å®šçš„ã€‚å®¢æˆ·ç«¯åœ¨åšè¿œç¨‹è¿‡ç¨‹è°ƒç”¨æ—¶ï¼Œå¿…é¡»é™„ä¸Šè¿™ä¸ªIDã€‚åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åˆ†åˆ«ç»´æŠ¤ä¸€ä¸ªâ€œå‡½æ•°ä¸Call IDâ€çš„å¯¹åº”è¡¨ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¸Šçš„å¯¹åº”è¡¨ä¸ä¸€å®šéœ€è¦å®Œå…¨ç›¸åŒï¼Œä½†ç›¸åŒçš„å‡½æ•°å¯¹åº”çš„Call IDå¿…é¡»ç›¸åŒã€‚å½“å®¢æˆ·ç«¯éœ€è¦è¿›è¡Œè¿œç¨‹è¿‡ç¨‹è°ƒç”¨æ—¶ï¼Œå®ƒå°±æŸ¥ä¸€ä¸‹è¿™ä¸ªè¡¨ï¼Œæ‰¾å‡ºæƒ³è¦è°ƒç”¨çš„å‡½æ•°ç›¸åº”çš„Call IDï¼Œç„¶åæŠŠå®ƒï¼ˆCall IDï¼‰ä¼ ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¹Ÿé€šè¿‡æŸ¥è¡¨ï¼Œæ¥ç¡®å®šå®¢æˆ·ç«¯éœ€è¦è°ƒç”¨çš„å‡½æ•°ï¼Œç„¶åæ‰§è¡Œç›¸åº”å‡½æ•°çš„ä»£ç ã€‚</p><p>2. å®¢æˆ·ç«¯æ€ä¹ˆæŠŠå‚æ•°å€¼ä¼ ç»™è¿œç¨‹çš„å‡½æ•°å‘¢ï¼Ÿ</p><p><strong>è§£å†³æ–¹æ³•ï¼šåºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚</strong></p><p>åœ¨æœ¬åœ°è°ƒç”¨ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠå‚æ•°å‹åˆ°æ ˆé‡Œï¼Œç„¶åè®©å‡½æ•°è‡ªå·±å»æ ˆé‡Œè¯»å°±è¡Œã€‚ä½†æ˜¯åœ¨è¿œç¨‹è¿‡ç¨‹è°ƒç”¨æ—¶ï¼Œå®¢æˆ·ç«¯è·ŸæœåŠ¡ç«¯æ˜¯ä¸åŒçš„ï¼ˆæœºå™¨çš„ï¼‰è¿›ç¨‹ï¼Œä¸èƒ½é€šè¿‡å†…å­˜æ¥ä¼ é€’å‚æ•°ï¼Œç”šè‡³æœ‰æ—¶å€™å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä½¿ç”¨çš„éƒ½ä¸æ˜¯åŒä¸€ç§è¯­è¨€ï¼ˆæ¯”å¦‚æœåŠ¡ç«¯ç”¨C++ï¼Œå®¢æˆ·ç«¯ç”¨Javaæˆ–è€…Pythonï¼‰ï¼Œè¿™æ—¶å€™å°±éœ€è¦å®¢æˆ·ç«¯æŠŠå‚æ•°å…ˆè½¬æˆä¸€ä¸ª<strong>å­—èŠ‚æµ</strong>ï¼Œä¼ ç»™æœåŠ¡ç«¯åï¼ŒæœåŠ¡ç«¯å†æŠŠè¿™ä¸ª<strong>å­—èŠ‚æµ</strong>è½¬æˆè‡ªå·±èƒ½è¯»å–çš„æ ¼å¼ï¼Œè¿™ä¸ªè¿‡ç¨‹å«<strong>åºåˆ—åŒ–å’Œååºåˆ—åŒ–</strong>ã€‚åŒç†ï¼Œä»æœåŠ¡ç«¯è¿”å›çš„å€¼ä¹Ÿéœ€è¦åºåˆ—åŒ–ååºåˆ—åŒ–çš„è¿‡ç¨‹ã€‚</p><p>3. ç½‘ç»œä¼ è¾“é—®é¢˜</p><p>è¿œç¨‹è¿‡ç¨‹è°ƒç”¨å¾€å¾€ç”¨åœ¨ç½‘ç»œä¸Šï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ˜¯é€šè¿‡ç½‘ç»œè¿æ¥çš„ã€‚æ‰€æœ‰çš„æ•°æ®éƒ½éœ€è¦é€šè¿‡ç½‘ç»œä¼ è¾“ï¼Œå› æ­¤å°±éœ€è¦æœ‰ä¸€ä¸ªç½‘ç»œä¼ è¾“å±‚ã€‚ç½‘ç»œä¼ è¾“å±‚éœ€è¦æŠŠâ€œCall IDâ€å’Œâ€œåºåˆ—åŒ–åçš„å‚æ•°å­—èŠ‚æµâ€ä¼ ç»™æœåŠ¡ç«¯ï¼Œç„¶åå†æŠŠâ€œåºåˆ—åŒ–åçš„è°ƒç”¨ç»“æœâ€ä¼ å›å®¢æˆ·ç«¯ï¼Œåªè¦èƒ½å®Œæˆè¿™ä¸¤ä¸ªåŠŸèƒ½çš„ï¼Œéƒ½å¯ä»¥ä½œä¸ºä¼ è¾“å±‚ä½¿ç”¨ã€‚å› æ­¤ï¼ŒRPCæ‰€ä½¿ç”¨çš„åè®®å…¶å®æ˜¯ä¸é™çš„ï¼Œåªè¦èƒ½å®Œæˆä¼ è¾“å°±è¡Œã€‚å°½ç®¡å¤§éƒ¨åˆ†RPCæ¡†æ¶éƒ½ä½¿ç”¨TCPåè®®ï¼Œä½†å…¶å®UDPä¹Ÿå¯ä»¥ï¼Œè€ŒgRPCå¹²è„†å°±ç”¨äº†HTTP2ã€‚</p><p>ç»¼ä¸Šæ‰€è¿°ï¼Œè¦å®ç°ä¸€ä¸ªRPCæ¡†æ¶ï¼Œå…¶å®åªéœ€è¦æŠŠä»¥ä¸Šä¸‰ç‚¹å®ç°äº†å°±åŸºæœ¬å®Œæˆäº†ã€‚Call IDæ˜ å°„å¯ä»¥ç›´æ¥ä½¿ç”¨å‡½æ•°å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ•´æ•°IDï¼Œæ˜ å°„è¡¨ä¸€èˆ¬å°±æ˜¯ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼›åºåˆ—åŒ–ååºåˆ—åŒ–å¯ä»¥è‡ªå·±å†™ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨Protobufæˆ–è€…FlatBuffersä¹‹ç±»çš„ï¼›ç½‘ç»œä¼ è¾“åº“å¯ä»¥è‡ªå·±å†™Socketï¼Œæˆ–è€…ç”¨Asioï¼ŒZeroMQï¼ŒNettyä¹‹ç±»ã€‚</p><h2 id="4-ç®€è¦æµç¨‹"><a class="markdownIt-Anchor" href="#4-ç®€è¦æµç¨‹"></a> 4Â ç®€è¦æµç¨‹</h2><p>ä¸€æ¬¡è¿œç¨‹è¿‡ç¨‹è°ƒç”¨çš„ç®€è¦æµç¨‹å¦‚ä¸‹ï¼ˆå¯¹ç…§æµç¨‹å›¾ç†è§£ä¸‹åˆ—çš„å…·ä½“æµç¨‹ï¼‰ï¼š</p><p><img src="d5d8c2b5dd7fd46763983af069a02f55.jpeg" alt="" /></p><p>1. é¦–å…ˆï¼Œè¦è§£å†³é€šä¿¡çš„é—®é¢˜ã€‚ä¸»è¦æ˜¯é€šè¿‡åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å»ºç«‹è¿æ¥ï¼ˆå¦‚TCPè¿æ¥ï¼‰ï¼Œè¿œç¨‹è¿‡ç¨‹è°ƒç”¨çš„æ‰€æœ‰æ•°æ®éƒ½åœ¨è¿™ä¸ªè¿æ¥ä¸­ä¼ è¾“ã€‚æ­¤è¿æ¥å¯ä»¥æ˜¯æŒ‰éœ€è¿æ¥ï¼Œè°ƒç”¨ç»“æŸåå°±æ–­æ‰ï¼Œå³çŸ­è¿æ¥ï¼›ä¹Ÿå¯ä»¥æ˜¯é•¿è¿æ¥ï¼Œå¤šä¸ªè¿œç¨‹è¿‡ç¨‹å…±äº«åŒä¸€ä¸ªè¿æ¥ã€‚</p><p>2. å…¶æ¬¡ï¼Œè¦è§£å†³å¯»å€é—®é¢˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæœåŠ¡å™¨ä¸Šçš„åº”ç”¨æ€ä¹ˆå‘Šè¯‰åº•å±‚çš„RPCæ¡†æ¶ï¼Œå¦‚ä½•è¿æ¥åˆ°BæœåŠ¡å™¨ï¼ˆå¦‚ä¸»æœºæˆ–IPåœ°å€ï¼‰ä»¥åŠç‰¹å®šçš„ç«¯å£ã€æ–¹æ³•åç§°ï¼ˆIP+ç«¯å£+æ–¹æ³•åï¼‰ï¼Œè¿™æ ·æ‰èƒ½å®Œæˆè°ƒç”¨ã€‚</p><p>3. ç„¶åï¼Œclientä¸Šçš„åº”ç”¨å‘èµ·è¿œç¨‹è¿‡ç¨‹è°ƒç”¨æ—¶ï¼Œæ–¹æ³•çš„å‚æ•°éœ€è¦é€šè¿‡åº•å±‚çš„ç½‘ç»œåè®®ï¼ˆå¦‚TCPï¼‰ä¼ é€’åˆ°serverä¸Šã€‚ç”±äºç½‘ç»œåè®®æ˜¯åŸºäºäºŒè¿›åˆ¶çš„ï¼Œå†…å­˜ä¸­çš„å‚æ•°ä¹Ÿè¦åºåˆ—åŒ–æˆäºŒè¿›åˆ¶çš„å½¢å¼ï¼Œè¿™å°±æ˜¯åºåˆ—åŒ–è¿‡ç¨‹ï¼ˆSerizlizeï¼‰ï¼Œé€šè¿‡è¿æ¥å¯»å€ï¼Œå°†åºåˆ—åŒ–çš„äºŒè¿›åˆ¶å‘é€ç»™serverã€‚</p><p>4. å†ç„¶åï¼Œserveræ”¶åˆ°è¯·æ±‚åï¼Œéœ€è¦å¯¹å‚æ•°è¿›è¡Œååºåˆ—åŒ–ï¼Œæ¢å¤ä¸ºå†…å­˜ä¸­çš„è¡¨è¾¾å½¢å¼ï¼Œç„¶åæ‰¾åˆ°å¯¹åº”çš„æ–¹æ³•ï¼ˆæ ¹æ®CALL IDä¸å‡½æ•°çš„å¯¹åº”è¡¨ï¼‰ï¼Œè¿›è¡Œæœ¬åœ°è°ƒç”¨ï¼Œç„¶åå¾—åˆ°å‡½æ•°çš„è¿”å›å€¼ã€‚</p><p>5. æœ€åï¼Œserveréœ€è¦å°†å‡½æ•°è¿”å›å€¼å‘é€ç»™clientä¸Šçš„åº”ç”¨ã€‚è¯¥è¿”å›å€¼ä¹Ÿéœ€è¦ç»è¿‡åºåˆ—åŒ–åå‘é€ï¼Œclientæ¥åˆ°serverå‘é€çš„æ¶ˆæ¯åï¼Œå†å¯¹è¯¥æ¶ˆæ¯è¿›è¡Œååºåˆ—åŒ–ï¼Œæ¢å¤ä¸ºå†…å­˜ä¸­çš„è¡¨è¾¾å½¢å¼ï¼Œäº¤ç»™clientä¸Šçš„åº”ç”¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> RPC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windowsé…ç½®grpc</title>
      <link href="/2025/05/07/RPC/Windows%E9%85%8D%E7%BD%AEgrpc/"/>
      <url>/2025/05/07/RPC/Windows%E9%85%8D%E7%BD%AEgrpc/</url>
      
        <content type="html"><![CDATA[<h2 id="æ–¹æ³•ä¸€"><a class="markdownIt-Anchor" href="#æ–¹æ³•ä¸€"></a> æ–¹æ³•ä¸€</h2><h3 id="1-ä½¿ç”¨gitä¸‹è½½grph"><a class="markdownIt-Anchor" href="#1-ä½¿ç”¨gitä¸‹è½½grph"></a> 1. ä½¿ç”¨gitä¸‹è½½grph</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b v1.70.0 --recurse-submodules https://github.com/grpc/grpc.git</span><br><span class="line"><span class="comment"># æŒ‡å®šç‰ˆæœ¬ä¸‹è½½</span></span><br><span class="line"><span class="comment"># git clone -b v1.41.0 https://github.com/grpc/grpc</span></span><br></pre></td></tr></table></figure><h4 id="ä¸‹è½½é€Ÿåº¦æ…¢å¯ä»¥ä½¿ç”¨å›½å†…é•œåƒ"><a class="markdownIt-Anchor" href="#ä¸‹è½½é€Ÿåº¦æ…¢å¯ä»¥ä½¿ç”¨å›½å†…é•œåƒ"></a> ä¸‹è½½é€Ÿåº¦æ…¢å¯ä»¥ä½¿ç”¨å›½å†…é•œåƒ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --recurse-submodules https://gitclone.com/github.com/grpc/grpc.git</span><br></pre></td></tr></table></figure><h4 id="11-æ›´æ–°å­æ¨¡å—"><a class="markdownIt-Anchor" href="#11-æ›´æ–°å­æ¨¡å—"></a> 1.1 æ›´æ–°å­æ¨¡å—</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git submodule update --init --recursive</span><br></pre></td></tr></table></figure><h3 id="2-ä½¿ç”¨cmakeè¿›è¡Œç¼–è¯‘"><a class="markdownIt-Anchor" href="#2-ä½¿ç”¨cmakeè¿›è¡Œç¼–è¯‘"></a> 2. ä½¿ç”¨Cmakeè¿›è¡Œç¼–è¯‘</h3><h4 id="21-guiç¼–è¯‘"><a class="markdownIt-Anchor" href="#21-guiç¼–è¯‘"></a> 2.1 GUIç¼–è¯‘</h4><p>é€‰è‡ªå·±çš„vsç‰ˆæœ¬<br />é»˜è®¤è®¾ç½® ï¼ˆå¯ä¿®æ”¹æ–‡ä»¶å­˜æ”¾ä½ç½®ï¼‰<br /><img src="2b84e5b012a740cfb19e7918bf9d26b4.png" alt="é»˜è®¤è®¾ç½®" /></p><h4 id="22-å‘½ä»¤è¡Œç›´æ¥ç¼–è¯‘"><a class="markdownIt-Anchor" href="#22-å‘½ä»¤è¡Œç›´æ¥ç¼–è¯‘"></a> 2.2 å‘½ä»¤è¡Œç›´æ¥ç¼–è¯‘</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p cmake/build</span><br><span class="line"><span class="built_in">cd</span> cmake/build</span><br><span class="line">cmake ../..</span><br></pre></td></tr></table></figure><h3 id="3-ä½¿ç”¨visual-studio-ç”Ÿæˆè§£å†³æ–¹æ³•"><a class="markdownIt-Anchor" href="#3-ä½¿ç”¨visual-studio-ç”Ÿæˆè§£å†³æ–¹æ³•"></a> 3. ä½¿ç”¨Visual Studio ç”Ÿæˆè§£å†³æ–¹æ³•</h3><p>æ‰“å¼€é¡¹ç›®ä¸­<br /><img src="ae64a27355754ec0a7f7b0c9f01d3d7d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />å³å‡»é‡æ–°ç”Ÿæˆè§£å†³æ–¹æ³•<br /><img src="5f7b8aeac4ed477a94cb3603e88910ee.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h2 id="æ–¹æ³•äºŒ"><a class="markdownIt-Anchor" href="#æ–¹æ³•äºŒ"></a> æ–¹æ³•äºŒ</h2><h3 id="1-å®‰è£…vcpkg"><a class="markdownIt-Anchor" href="#1-å®‰è£…vcpkg"></a> 1. å®‰è£…vcpkg</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/microsoft/vcpkg.git</span><br><span class="line"><span class="built_in">cd</span> vcpkg</span><br><span class="line">bootstrap-vcpkg.bat</span><br></pre></td></tr></table></figure><h3 id="3é…ç½®vckgçš„ç¯å¢ƒå˜é‡"><a class="markdownIt-Anchor" href="#3é…ç½®vckgçš„ç¯å¢ƒå˜é‡"></a> 3.é…ç½®vckgçš„ç¯å¢ƒå˜é‡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setx Path <span class="string">&quot;%Path%;C:\new_path&quot;</span></span><br></pre></td></tr></table></figure><h3 id="2-ä½¿ç”¨-vcpkg-å®‰è£…-grpc"><a class="markdownIt-Anchor" href="#2-ä½¿ç”¨-vcpkg-å®‰è£…-grpc"></a> 2. ä½¿ç”¨ vcpkg å®‰è£… gRPC</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vcpkg install grpc:x64-windows</span><br></pre></td></tr></table></figure><h3 id="3-å®‰è£…-protobuf"><a class="markdownIt-Anchor" href="#3-å®‰è£…-protobuf"></a> 3. å®‰è£… Protobuf</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vcpkg install protobuf:x64-windows</span><br></pre></td></tr></table></figure><h3 id="4-é…ç½®-cmake"><a class="markdownIt-Anchor" href="#4-é…ç½®-cmake"></a> 4. é…ç½® CMake</h3><p>åœ¨ CMakeLists.txt ä¸­æ·»åŠ ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">find_package(Protobuf REQUIRED)</span><br><span class="line">find_package(gRPC CONFIG REQUIRED)</span><br><span class="line"></span><br><span class="line">add_executable(my_server server.cpp)</span><br><span class="line">target_link_libraries(my_server PRIVATE gRPC::grpc++ protobuf::libprotobuf)</span><br></pre></td></tr></table></figure><h3 id="5-è®©-vcpkg-è‡ªåŠ¨é›†æˆ"><a class="markdownIt-Anchor" href="#5-è®©-vcpkg-è‡ªåŠ¨é›†æˆ"></a> 5. è®© vcpkg è‡ªåŠ¨é›†æˆ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vcpkg integrate install</span><br></pre></td></tr></table></figure><h3 id="6-ç¼–è¯‘-grpc-é¡¹ç›®"><a class="markdownIt-Anchor" href="#6-ç¼–è¯‘-grpc-é¡¹ç›®"></a> 6. ç¼–è¯‘ gRPC é¡¹ç›®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> build &amp;&amp; <span class="built_in">cd</span> build</span><br><span class="line">cmake .. -DCMAKE_TOOLCHAIN_FILE=D:/vcpkg/scripts/buildsystems/vcpkg.cmake</span><br><span class="line"><span class="comment"># ç”ŸæˆReleaseç‰ˆæœ¬ï¼šcmake --build . --config Release -j 4</span></span><br><span class="line">cmake --build . </span><br></pre></td></tr></table></figure><h2 id="æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ"><a class="markdownIt-Anchor" href="#æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ"></a> æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ</h2><p>è¿›å…¥ ç¤ºä¾‹ç›®å½• å¹¶è¿è¡Œ greeter_server å’Œ greeter_clientï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> examples/cpp/helloworld</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ ä½¿ç”¨ CMakeï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> build &amp;&amp; <span class="built_in">cd</span> build</span><br><span class="line">cmake ..</span><br><span class="line">make -j<span class="comment"># æˆ–è€…ä½¿ç”¨VSç”Ÿæˆè§£å†³æ–¹æ³•</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä½ ä½¿ç”¨ vcpkgï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> build &amp;&amp; <span class="built_in">cd</span> build</span><br><span class="line">cmake .. -DCMAKE_TOOLCHAIN_FILE=D:/vcpkg/scripts/buildsystems/vcpkg.cmake</span><br><span class="line"><span class="comment"># ç”ŸæˆReleaseç‰ˆæœ¬ï¼šcmake --build . --config Release -j 4</span></span><br><span class="line">cmake --build .<span class="comment"># # æˆ–è€…ä½¿ç”¨VSç”Ÿæˆè§£å†³æ–¹æ³•</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œ gRPC ç¤ºä¾‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> Debug</span><br><span class="line">./greeter_server</span><br><span class="line">./greeter_client</span><br></pre></td></tr></table></figure><h2 id="visual-studio-é…ç½®-grpc"><a class="markdownIt-Anchor" href="#visual-studio-é…ç½®-grpc"></a> Visual Studio é…ç½® grpc</h2><ol><li><p>é…ç½®åŒ…å«ç›®å½•<br /><img src="03d4a692cde44456aef2f73e5a36e3f5.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>é…ç½®åº“ç›®å½•<br /><img src="7295091472e94941935514dd7bb0aaad.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p>é…ç½®ä¾èµ–é¡¹<br /><img src="fbf8cfe689804461b1b8bce9aa47f4eb.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>abseil_dll.lib<br />absl_decode_rust_punycode.lib<br />absl_demangle_rust.lib<br />absl_flags_commandlineflag.lib<br />absl_flags_commandlineflag_internal.lib<br />absl_flags_config.lib<br />absl_flags_internal.lib<br />absl_flags_marshalling.lib<br />absl_flags_parse.lib<br />absl_flags_private_handle_accessor.lib<br />absl_flags_program_name.lib<br />absl_flags_reflection.lib<br />absl_flags_usage.lib<br />absl_flags_usage_internal.lib<br />absl_log_flags.lib<br />absl_poison.lib<br />absl_utf8_for_code_point.lib<br />cares.lib<br />address_sorting.lib<br />gpr.lib<br />grpc.lib<br />grpc_authorization_provider.lib<br />grpc_plugin_support.lib<br />grpc_unsecure.lib<br />grpc++.lib<br />grpc++_alts.lib<br />grpc++_error_details.lib<br />grpc++_reflection.lib<br />grpc++_unsecure.lib<br />grpcpp_channelz.lib<br />upb_base_lib.lib<br />upb_json_lib.lib<br />upb_mem_lib.lib<br />upb_message_lib.lib<br />upb_mini_descriptor_lib.lib<br />upb_textformat_lib.lib<br />upb_wire_lib.lib<br />re2.lib<br />zlibd.lib<br />libprotobufd.lib<br />libprotobuf-lited.lib<br />libprotocd.lib</p></li></ol><h3 id="ç¬¬ä¸€ä¸ªgrpc-demo"><a class="markdownIt-Anchor" href="#ç¬¬ä¸€ä¸ªgrpc-demo"></a> ç¬¬ä¸€ä¸ªgrpc demo</h3><h4 id="1-åˆ›å»ºdemoprotoæ–‡ä»¶å†™å…¥ä¸€ä¸‹å†…å®¹"><a class="markdownIt-Anchor" href="#1-åˆ›å»ºdemoprotoæ–‡ä»¶å†™å…¥ä¸€ä¸‹å†…å®¹"></a> 1. åˆ›å»ºdemo.protoæ–‡ä»¶ï¼Œå†™å…¥ä¸€ä¸‹å†…å®¹ï¼š</h4><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">syntax = &quot;proto3&quot;;</span><br><span class="line">package hello;</span><br><span class="line">service Greeter &#123;</span><br><span class="line">  rpc SayHello (HelloRequest) returns (HelloReply) &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">message HelloRequest &#123;</span><br><span class="line">  string message = 1;</span><br><span class="line">&#125;</span><br><span class="line">message HelloReply &#123;</span><br><span class="line">  string message = 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-ç¼–è¯‘demoprotoæ–‡ä»¶ç”Ÿæˆçš„procexeç”Ÿæˆprotoçš„å¤´æ–‡ä»¶å’Œæºæ–‡ä»¶"><a class="markdownIt-Anchor" href="#2-ç¼–è¯‘demoprotoæ–‡ä»¶ç”Ÿæˆçš„procexeç”Ÿæˆprotoçš„å¤´æ–‡ä»¶å’Œæºæ–‡ä»¶"></a> 2. ç¼–è¯‘demo.protoæ–‡ä»¶ï¼Œç”Ÿæˆçš„proc.exeç”Ÿæˆprotoçš„å¤´æ–‡ä»¶å’Œæºæ–‡ä»¶</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">protoc  -I=<span class="string">&quot;.&quot;</span> --grpc_out=<span class="string">&quot;.&quot;</span> --plugin=protoc-gen-grpc=<span class="string">&quot;D:\OpenSource\vcpkg-2025.01.13\packages\grpc_x64-windows\tools\grpc\grpc_cpp_plugin.exe&quot;</span> <span class="string">&quot;demo.proto&quot;</span></span><br></pre></td></tr></table></figure><h4 id="3-ç”Ÿæˆgrpcç±»éœ€è¦çš„pbæ–‡ä»¶å› ä¸ºè¦åºåˆ—åŒ–æ•°æ®"><a class="markdownIt-Anchor" href="#3-ç”Ÿæˆgrpcç±»éœ€è¦çš„pbæ–‡ä»¶å› ä¸ºè¦åºåˆ—åŒ–æ•°æ®"></a> 3. ç”Ÿæˆgrpcç±»éœ€è¦çš„pbæ–‡ä»¶ï¼Œå› ä¸ºè¦åºåˆ—åŒ–æ•°æ®ã€‚</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">protoc  -I=<span class="string">&quot;.&quot;</span> --grpc_out=<span class="string">&quot;.&quot;</span> <span class="string">&quot;demo.proto&quot;</span></span><br></pre></td></tr></table></figure><h4 id="5-åˆ†åˆ«å»ºç«‹serverå’Œclientçš„é¡¹ç›®"><a class="markdownIt-Anchor" href="#5-åˆ†åˆ«å»ºç«‹serverå’Œclientçš„é¡¹ç›®"></a> 5. åˆ†åˆ«å»ºç«‹serverå’Œclientçš„é¡¹ç›®</h4><p>server.cpp</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;grpcpp/grpcpp.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;D:\Workshops\vs_shop\grpc_learning\demo_server\demo.grpc.pb.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> grpc::Server;</span><br><span class="line"><span class="keyword">using</span> grpc::ServerBuilder;</span><br><span class="line"><span class="keyword">using</span> grpc::ServerContext;</span><br><span class="line"><span class="keyword">using</span> grpc::Status;</span><br><span class="line"><span class="keyword">using</span> hello::HelloRequest;</span><br><span class="line"><span class="keyword">using</span> hello::HelloReply;</span><br><span class="line"><span class="keyword">using</span> hello::Greeter;</span><br><span class="line"><span class="comment">// Logic and data behind the server&#x27;s behavior.</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GreeterServiceImpl</span> <span class="keyword">final</span> : <span class="keyword">public</span> Greeter::Service &#123;</span><br><span class="line">    <span class="function">Status <span class="title">SayHello</span><span class="params">(ServerContext* context, <span class="type">const</span> HelloRequest* request,</span></span></span><br><span class="line"><span class="params"><span class="function">        HelloReply* reply)</span> <span class="keyword">override</span> </span>&#123;</span><br><span class="line">        <span class="function">std::string <span class="title">prefix</span><span class="params">(<span class="string">&quot;llfc grpc server has received :  &quot;</span>)</span></span>;</span><br><span class="line">        reply-&gt;<span class="built_in">set_message</span>(prefix + request-&gt;<span class="built_in">message</span>());</span><br><span class="line">        <span class="keyword">return</span> Status::OK;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">RunServer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">std::string <span class="title">server_address</span><span class="params">(<span class="string">&quot;127.0.0.1:50051&quot;</span>)</span></span>;</span><br><span class="line">    GreeterServiceImpl service;</span><br><span class="line">    ServerBuilder builder;</span><br><span class="line">    <span class="comment">// Listen on the given address without any authentication mechanism.</span></span><br><span class="line">    <span class="comment">// ç›‘å¬ç»™å®šçš„åœ°å€</span></span><br><span class="line">    builder.<span class="built_in">AddListeningPort</span>(server_address, grpc::<span class="built_in">InsecureServerCredentials</span>());</span><br><span class="line">    <span class="comment">// Register &quot;service&quot; as the instance through which we&#x27;ll communicate with</span></span><br><span class="line">    <span class="comment">// clients. In this case it corresponds to an *synchronous* service.</span></span><br><span class="line">    builder.<span class="built_in">RegisterService</span>(&amp;service);</span><br><span class="line">    <span class="comment">// Finally assemble the server.</span></span><br><span class="line">    <span class="function">std::unique_ptr&lt;Server&gt; <span class="title">server</span><span class="params">(builder.BuildAndStart())</span></span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Server listening on &quot;</span> &lt;&lt; server_address &lt;&lt; std::endl;</span><br><span class="line">    <span class="comment">// Wait for the server to shutdown. Note that some other thread must be</span></span><br><span class="line">    <span class="comment">// responsible for shutting down the server for this call to ever return.</span></span><br><span class="line">    server-&gt;<span class="built_in">Wait</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span>** argv)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">RunServer</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>client.cpp</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;grpcpp/grpcpp.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;D:\Workshops\vs_shop\grpc_learning\demo_server\demo.grpc.pb.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> grpc::ClientContext;</span><br><span class="line"><span class="keyword">using</span> grpc::Channel;</span><br><span class="line"><span class="keyword">using</span> grpc::Status;</span><br><span class="line"><span class="keyword">using</span> hello::HelloReply;</span><br><span class="line"><span class="keyword">using</span> hello::HelloRequest;</span><br><span class="line"><span class="keyword">using</span> hello::Greeter;</span><br><span class="line"><span class="comment">// static method : Greeter::NewStub</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FCClient</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">FCClient</span>(std::shared_ptr&lt;Channel&gt; channel)</span><br><span class="line">        :<span class="built_in">stub_</span>(Greeter::<span class="built_in">NewStub</span>(channel)) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">std::string <span class="title">SayHello</span><span class="params">(std::string name)</span> </span>&#123;</span><br><span class="line">        ClientContext context;</span><br><span class="line">        HelloReply reply;</span><br><span class="line">        HelloRequest request;</span><br><span class="line">        request.<span class="built_in">set_message</span>(name);</span><br><span class="line">        Status status = stub_-&gt;<span class="built_in">SayHello</span>(&amp;context, request, &amp;reply);</span><br><span class="line">        <span class="keyword">if</span> (status.<span class="built_in">ok</span>()) &#123;</span><br><span class="line">            <span class="keyword">return</span> reply.<span class="built_in">message</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;failure &quot;</span> + status.<span class="built_in">error_message</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::unique_ptr&lt;Greeter::Stub&gt; stub_;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span>* argv[])</span> </span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> channel = grpc::<span class="built_in">CreateChannel</span>(<span class="string">&quot;127.0.0.1:50051&quot;</span>, grpc::<span class="built_in">InsecureChannelCredentials</span>());</span><br><span class="line">    <span class="function">FCClient <span class="title">client</span><span class="params">(channel)</span></span>;</span><br><span class="line">    <span class="comment">// block until get result from RPC server</span></span><br><span class="line">    std::string result = client.<span class="built_in">SayHello</span>(<span class="string">&quot;hello , llfc.club !&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;get result [%s]\n&quot;</span>, result.<span class="built_in">c_str</span>());</span><br><span class="line">    std::<span class="built_in">getchar</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-å°†ç”Ÿæˆçš„protoçš„å¤´æ–‡ä»¶å’Œæºæ–‡ä»¶grpcç±»éœ€è¦çš„pbæ–‡ä»¶æ‹·è´åˆ°serverå’Œclientçš„é¡¹ç›®"><a class="markdownIt-Anchor" href="#4-å°†ç”Ÿæˆçš„protoçš„å¤´æ–‡ä»¶å’Œæºæ–‡ä»¶grpcç±»éœ€è¦çš„pbæ–‡ä»¶æ‹·è´åˆ°serverå’Œclientçš„é¡¹ç›®"></a> 4. å°†ç”Ÿæˆçš„protoçš„å¤´æ–‡ä»¶å’Œæºæ–‡ä»¶ï¼Œgrpcç±»éœ€è¦çš„pbæ–‡ä»¶æ‹·è´åˆ°serverå’Œclientçš„é¡¹ç›®</h4><p>serveré¡¹ç›®<br /><img src="9aaa7548f4174d5183793bc03f37f30d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />clientçš„é¡¹ç›®<br /><img src="1f8f61c583ba4485be1fb8eee0c7adcf.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
            <tag> RPC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windowsç³»ç»Ÿä¸‹GRPCåœ¨C++ä¸­çš„ä½¿ç”¨</title>
      <link href="/2025/05/06/RPC/Windows%E7%B3%BB%E7%BB%9F%E4%B8%8BGRPC%E5%9C%A8C++%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2025/05/06/RPC/Windows%E7%B3%BB%E7%BB%9F%E4%B8%8BGRPC%E5%9C%A8C++%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<p><strong>1. å‡†å¤‡å·¥ä½œ</strong></p><p>æŒ‰ç…§grpcå®˜ç½‘çš„æŒ‡å¼•å…ˆåšç¯å¢ƒé…ç½®ï¼Œé€‰å¥½ç‰ˆæœ¬ï¼Œä¸åŒç‰ˆæœ¬è¦æ±‚ä¸‹è½½çš„è½¯ä»¶ä¸ä¸€æ ·ï¼Œå…ˆé€‰çš„1.15.1ç‰ˆæœ¬ï¼Œä½†æ˜¯å®‰è£…Â <a href="https://www.activestate.com/activeperl/" title="Active State Perl">Active State Perl</a>Â æ€»æ˜¯å®‰è£…å¤±è´¥ï¼Œäºæ˜¯åè¾¹æ¢äº†æ–°ä¸€ç‚¹çš„ç‰ˆæœ¬ã€‚å…ˆè¯´1.15.1ç‰ˆæœ¬çš„å®‰è£…å†ç¨‹ï¼Œç½‘å€ï¼š<a href="https://github.com/grpc/grpc/blob/v1.15.1/BUILDING.md" title="https://github.com/grpc/grpc/blob/v1.15.1/BUILDING.md">https://github.com/grpc/grpc/blob/v1.15.1/BUILDING.md</a></p><p><img src="19d5dd5e7a6ab1333f210349af49e517.png" alt="" /></p><p>ï¼ˆ1ï¼‰ å®‰è£…vs2017</p><p>ç½‘å€ï¼š<a href="https://my.visualstudio.com/Downloads?q=visual%20studio%202017&amp;wt.mc_id=o~msft~vscom~older-downloads" title="https://my.visualstudio.com/Downloads?q=visual%20studio%202017&amp;wt.mc_id=o~msft~vscom~older-downloads">https://my.visualstudio.com/Downloads?q=visual%20studio%202017&amp;wt.mc_id=o<sub>msft</sub>vscom~older-downloads</a></p><p>ç¤¾åŒºç‰ˆä¸èƒ½ä¸‹è½½ï¼Œä¸‹è½½çš„ä¸“ä¸šç‰ˆ</p><p><img src="bb8f878afe7daae14a24577b7b291ed9.png" alt="" /></p><p>ç‚¹å‡»ä¸‹è½½ï¼Œç„¶åå®‰è£…ï¼Œå®‰è£…æ—¶é€‰æ‹©ä¸C++ç›¸å…³çš„é¡¹ã€‚</p><p>ï¼ˆ2ï¼‰å®‰è£…Git</p><p>ç›´æ¥ç´¢å¼•åˆ°ä¸Šé¢çš„é“¾æ¥<a href="https://git-scm.com/" title="Git">Git</a>ï¼Œä¸‹è½½å®‰è£…å³å¯ã€‚</p><p>ï¼ˆ3ï¼‰å®‰è£…CMake</p><p>ç´¢å¼•åˆ°é“¾æ¥<a href="https://cmake.org/download/" title="Download CMake">Download CMake</a>ï¼Œæˆ‘é€‰æ‹©çš„æ˜¯äºŒè¿›åˆ¶åˆ†å¸ƒä¸­çš„windows x64ç‰ˆæœ¬ã€‚</p><p><img src="eb7d1a8dfbbc029066f3f35c6f33eadd.png" alt="" /></p><p>ï¼ˆ4ï¼‰å®‰è£…<a href="https://www.activestate.com/activeperl/" title="Active State Perl">Active State Perl</a></p><p>1ï¼‰é¦–å…ˆç´¢å¼•åˆ°ç½‘å€<a href="https://www.activestate.com/products/perl/" title="Download &amp; Install Perl - ActiveState">Download &amp; Install Perl - ActiveState</a>å®‰è£…ï¼Œä¸èƒ½ç›´æ¥ä¸‹è½½å®‰è£…åŒ…ï¼Œå¾—æ³¨å†Œè´¦å·ï¼Œæ–°å»ºé¡¹ç›®ï¼Œç„¶åå®‰è£…æŒ‡å¼•è¿›è¡Œå®‰è£…</p><p><img src="b4e1c79eba30ae206689adf2aa0f0f11.png" alt="" /></p><p>ç‚¹å‡»Install</p><p><img src="5efbf7fb4fd2f2a5f333ed3c4ead97a9.png" alt="" /></p><p>æœ‰è¿™æ ·ä¸‰ä¸ªæ­¥éª¤ï¼Œç¬¬ä¸€æ­¥ä¸‹è½½ä½¿ç”¨stateå‘½ä»¤çš„å·¥å…·å®‰è£…ï¼Œ</p><p><img src="3a07439107ec45dfa7c4a6bf5b351b9c.png" alt="" /></p><p>ç¬¬äºŒæ­¥å°†å‘½ä»¤è¡Œç²˜è´´ï¼Œåœ¨cmdä¸­æ‰§è¡Œï¼Œä½†æ˜¯ä¼šæŠ¥é”™ï¼Œä¸çŸ¥å¦‚ä½•è§£å†³ã€‚å¦å¤–ï¼Œæ‰§è¡Œè¿™æ¡å‘½ä»¤æˆåŠŸçš„è¯ä¼šåœ¨C:\Users\Adminæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºMyFirstProjectï¼Œå¤±è´¥ä¼šç”Ÿæˆä¸€ä¸ªactivestate.yamlçš„æ–‡ä»¶ã€‚</p><p><img src="02a07724a7ee3d063b492d13ecfaccec.png" alt="" /></p><p>2ï¼‰åè¾¹æ‹¬å·ä¸­çš„choco install activeperl çš„æ„æ€æ˜¯å¯ä»¥åœ¨å®‰è£…è½¯ä»¶å®‰è£…å·¥å…·åŒ…åä½¿ç”¨å‘½ä»¤è¡Œå®‰è£…ã€‚</p><p>å®‰è£…chocolateyè½¯ä»¶å®‰è£…åŒ…ç®¡ç†å™¨ï¼Œå¯ä»¥åˆ°å®˜ç½‘ä¸‹è½½<a href="https://chocolatey.org/install" title="Chocolatey Software | Installing Chocolatey">Chocolatey Software | Installing Chocolatey</a>ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯å‘½ä»¤è¡Œå®‰è£…ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@<span class="string">&quot;%SystemRoot%\System32\WindowsPowerShell\v1.0\powershell.exe&quot;</span> -NoProfile -InputFormat None -ExecutionPolicy Bypass -Command <span class="string">&quot;iex ((New-Object System.Net.WebClient).DownloadString(&#x27;https://chocolatey.org/install.ps1&#x27;))&quot;</span> &amp;&amp; SET <span class="string">&quot;PATH=%PATH%;%ALLUSERSPROFILE%\chocolatey\bin&quot;</span></span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæ¯•ï¼Œå¯ä»¥ä½¿ç”¨choco install activeperlå‘½ä»¤äº†ï¼Œä½†æ˜¯ä¼šæŠ¥é”™ï¼Œæ¢äº†ç”µè„‘ä¹Ÿæ²¡æˆåŠŸã€‚</p><p><img src="3d0efb70b0e1378009609fce370131ae.png" alt="" /></p><p>ï¼ˆ5ï¼‰å®‰è£…<a href="https://golang.org/dl/" title="Go">Go</a></p><p>åŒæ ·ä½¿ç”¨å‘½ä»¤è¡Œchoco install golangå®‰è£…ï¼Œæ­¤æ—¶ä¼šæŠ¥ä¸€ä¸ªé”™è¯¯</p><p>ERROR: The term â€˜Write-ChocolateyFailureâ€™ is not recognized as the name of a cmdlet, function, script file, or operable program. Check the spelling of the name, or if a path was included, verify that the path is correct and try again. The install of yasm was NOT successful. Error while running â€˜C:\ProgramData\chocolatey\lib\yasm\tools\chocolateyInstall.ps1â€™. See log for details.</p><p>äºæ˜¯åˆå®‰è£…äº†ä¸€ä¸ªchocolateyçš„æ‰©å±•åŒ…choco install chocolatey-compatibility.extensionï¼Œç„¶åå®‰è£…GoæˆåŠŸäº†ã€‚</p><p>ï¼ˆ6ï¼‰å®‰è£…<a href="http://yasm.tortall.net/" title="yasm">yasm</a>ï¼Œä½¿ç”¨å‘½ä»¤è¡Œchoco install yasmå®‰è£…æˆåŠŸã€‚</p><p>ç”±äºPerlå®‰è£…å¤±è´¥ï¼Œåœ¨ç¼–è¯‘æºä»£ç æ—¶ä¼šæŠ¥ç¼ºå°‘perlçš„é”™è¯¯ï¼Œæ‰€ä»¥è¿›è¡Œä¸ä¸‹å»äº†ï¼ŒçŒœæµ‹æ˜¯ç”±äº1.15.1ç‰ˆæœ¬å¤ªè€ï¼Œæ˜¯2018å¹´çš„ï¼Œç¯å¢ƒä¾èµ–ä¹Ÿä¸é€‚ç”¨äºç°åœ¨çš„ç”µè„‘ç³»ç»Ÿæˆ–è€…ä¸ç”µè„‘ä¸­å®‰è£…çš„æŸäº›ç¯å¢ƒå†²çªï¼Œæ‰€ä»¥æ¢æ–°ä¸€ç‚¹çš„ç‰ˆæœ¬è¯•è¯•ã€‚</p><p><img src="034b7ac6ce370ea58a706ddf132f5a07.png" alt="" /></p><p>1.28.0ç‰ˆæœ¬ï¼Œç½‘å€ï¼š<a href="https://github.com/grpc/grpc/blob/v1.28.0/BUILDING.md" title="https://github.com/grpc/grpc/blob/v1.28.0/BUILDING.md">https://github.com/grpc/grpc/blob/v1.28.0/BUILDING.md</a></p><p><img src="22e9f69ce391844ab2a98c77269b3a81.png" alt="" /></p><p>å‰ä¸‰æ­¥ä¸1.15.1ç‰ˆæœ¬çš„å®‰è£…ä¸€è‡´ï¼Œç¬¬å››æ­¥ä½¿ç”¨å‘½ä»¤è¡Œå®‰è£…<a href="https://www.nasm.us/" title="nasm">nasm</a>ï¼Œå®‰è£…æˆåŠŸã€‚</p><p><strong>2. å…‹éš†æºä»£ç </strong></p><p>é€‰å¥½å­˜æ”¾æºä»£ç çš„æ–‡ä»¶å¤¹ï¼Œå³é”®é€‰æ‹©Git bash hereï¼Œå°†ä¸‹åˆ—å‘½ä»¤ç²˜è´´ï¼Œç„¶åEnter.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --recurse-submodules -b v1.28.0 --depth 1 --shallow-submodules https://github.com/grpc/grpc</span><br></pre></td></tr></table></figure><p>&quot;â€“recurse-submodules&quot;ä¼šå°†third_partyä¸­çš„å­æ¨¡å—ä¹Ÿä¸‹è½½ä¸‹æ¥ï¼Œä½†æ˜¯1.15.1ç‰ˆæœ¬ç”¨åŒæ ·çš„æ–¹æ³•å°±åªä¸‹è½½åˆ°third_partyä¸‹çš„ä¸€å±‚ï¼Œå†ä¸‹ä¸€å±‚æ–‡ä»¶å¤¹å°±ä¸‹è½½ä¸åˆ°äº†ï¼Œå¾—è‡ªå·±æ‰‹åŠ¨ä¸‹è½½ã€‚æ›´æ–°å­æ¨¡å—ä¹Ÿå¯ç”¨â€œgit submodule update --initâ€ã€‚</p><p><strong>3. ä»£ç ç¼–è¯‘</strong></p><p>ï¼ˆ1ï¼‰å‘½ä»¤è¡Œç¼–è¯‘</p><p>åœ¨grpcæ–‡ä»¶å¤¹ä¸‹ï¼Œgitåˆ†åˆ«æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">md .build //æ–°å»º.build æ–‡ä»¶å¤¹(<span class="built_in">mkdir</span> .build)</span><br><span class="line"><span class="built_in">cd</span> .build //å®šä½åˆ°.buildä¸‹(<span class="built_in">pushd</span> .build)</span><br><span class="line">cmake .. -G <span class="string">&quot;Visual Studio 15 2017 Win64&quot;</span> //ä½¿ç”¨vs2017æ‰“å¼€ï¼Œä¼šç”Ÿæˆgrpc.slnç­‰å·¥ç¨‹ï¼ˆä¸çŸ¥é“ç®—ä¸ç®—ç¼–è¯‘ï¼Œç®—çš„è¯è·Ÿä¸‹ä¸€å¥çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼‰32ä½çš„è¯ä¸éœ€è¦å†™Win64</span><br><span class="line">cmake --build . --config Release //ç¼–è¯‘Releaseç‰ˆæœ¬,å¦‚æœä¸åŠ Releaseåˆ™é»˜è®¤ä¸ºDebugç‰ˆæœ¬</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰ç”¨vsç¼–è¯‘</p><p>æ‰“å¼€vs2017ï¼Œé€‰æ‹©æ‰“å¼€æ–‡ä»¶å¤¹ï¼Œé€‰æ‹©grpcæ–‡ä»¶å¤¹ï¼Œä¼šè‡ªåŠ¨ç¼–è¯‘ã€‚</p><p><strong>4. æ­å»ºC++ ç¤ºä¾‹å·¥ç¨‹</strong></p><p>ï¼ˆ1ï¼‰VS2017ä¸­æ–°å»ºç©ºçš„C++å·¥ç¨‹TestCPPï¼›</p><p>ï¼ˆ2ï¼‰ä»grpc\examples\protosæ–‡ä»¶å¤¹æ‹·è´helloworld.protoåˆ°å·¥ç¨‹ç›®å½•TestCPPä¸‹ ï¼Œä».build\third_party\protobuf\Releaseæ–‡ä»¶å¤¹æ‹·è´protoc.exeåˆ°å·¥ç¨‹ç›®å½•ä¸‹ï¼Œä».build\Releaseæ‹·è´grpc_cpp_plugin.exeåˆ°å·¥ç¨‹ç›®å½•ä¸‹ï¼Œä»grpc\examples\cpp\helloworldæ‹·è´greeter_client.ccï¼Œgreeter_server.ccåˆ°å·¥ç¨‹ç›®å½•ä¸‹ï¼›</p><p>ï¼ˆ3ï¼‰æ‰“å¼€cmdï¼Œcdåˆ°å·¥ç¨‹ç›®å½•TestCPPä¸‹ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼ŒEnterï¼Œ<a href="http://xn--helloworld-vj8tf88o.grpc.pb.cc">ç”Ÿæˆhelloworld.grpc.pb.cc</a>ã€helloworld.grpc.pb.hï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">protoc.exe -I=. --grpc_out=. --plugin=protoc-gen-grpc=.\grpc_cpp_plugin.exe helloworld.proto</span><br></pre></td></tr></table></figure><p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œ<a href="http://xn--helloworld-vj8tf88o.pb.cc">ç”Ÿæˆhelloworld.pb.cc</a>ã€helloworld.pb.hï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">protoc.exe -I=. --cpp_out=. helloworld.proto</span><br></pre></td></tr></table></figure><p>ï¼ˆ4ï¼‰åœ¨è§£å†³æ–¹æ¡ˆèµ„æºç®¡ç†å™¨å³é”®æ·»åŠ ç°æœ‰é¡¹ï¼Œ<a href="http://xn--helloworld-2h0ux413b.pb.cc">é€‰æ‹©helloworld.pb.cc</a>ã€helloworld.pb.hã€<a href="http://helloworld.pb.cc">helloworld.pb.cc</a>ã€helloworld.pb.hï¼Œgreeter_server.ccï¼ˆgreeter_client.ccä¸è¦åŒæ—¶æ·»åŠ ï¼Œç¼–è¯‘æ—¶ä¼šå‡ºé”™ï¼‰ã€‚</p><p><img src="2eab677eff6c13cd09f27071571195f2.png" alt="" /></p><p>ï¼ˆ5ï¼‰åœ¨vså·¥ç¨‹ä¸­ï¼Œèœå•æ è®¾ç½®é…ç½®å’Œå¹³å°ï¼Œæˆ‘è®¾ç½®çš„æ˜¯Releaseã€x64ã€‚æ³¨æ„ä¸€å®šè¦å’Œé€‰æ‹©çš„ç±»åº“ç‰ˆæœ¬ä¸€è‡´ï¼ŒReleaseå’ŒDebugä¸ä¸€è‡´ç¼–è¯‘ä¼šæŠ¥é”™ã€‚</p><p><img src="d778de081127ff47936bf4c93f2a0247.png" alt="" /></p><p>åœ¨è§£å†³æ–¹æ¡ˆèµ„æºç®¡ç†å™¨å³é”®TestCPPé€‰æ‹©å±æ€§ï¼Œ</p><p>1ï¼‰é€‰æ‹©è°ƒè¯•ï¼Œè®¾ç½®ç¯å¢ƒPATH=E:\Others\GRPC28\grpc\.allbuild\third_party\zlib\Release æ³¨ï¼šæ­¤å¤„çš„.allbuildå³ä¸Šæ–‡ä¸­æåˆ°çš„.buildï¼Œå› ä¸ºæˆ‘é‡æ–°ç¼–è¯‘åœ¨äº†.allbuildä¸­ï¼›</p><p><img src="4a4cdd5b83b2f3d8560a971135f64de0.png" alt="" /></p><p>2ï¼‰é€‰æ‹©C/C++ å¸¸è§„ï¼Œè®¾ç½®é™„åŠ åŒ…å«ç›®å½•ï¼ŒE:\Others\GRPC28\grpc\includeï¼›E:\Others\GRPC28\grpc\third_party\protobuf\src</p><p><img src="96e485a32c9acc50cb76aba1f3dd224b.png" alt="" /></p><p>3ï¼‰é€‰æ‹©é¢„å¤„ç†å™¨ï¼Œé…ç½®é¢„å¤„ç†å™¨å®šä¹‰_WIN32_WINNT=0x600</p><p><img src="cf469dd302f832ea4ebce9c1674ede41.png" alt="" /></p><p>4ï¼‰é€‰æ‹©å‘½ä»¤è¡Œï¼Œå…¶ä»–é€‰é¡¹ä¸­å¡«å†™-D_WIN32_WINNT=0x600</p><p><img src="9096055a06a7efcce8026756b80fad2a.png" alt="" /></p><p>5ï¼‰é€‰æ‹©é“¾æ¥å™¨å¸¸è§„ï¼Œè®¾ç½®é™„åŠ åº“ç›®å½•ï¼Œç¬¬ä¸‰æ–¹åº“ä¸­ç¼–è¯‘å‡ºReleaseçš„éƒ½é€‰æ‹©ï¼Œæ‰‹åŠ¨å»é€‰ï¼Œæ ¹æ®è‡ªå·±ç”Ÿæˆçš„æ–‡ä»¶å¤¹è®¾ç½®ï¼Œä¸è¦å®Œå…¨æŒ‰æˆ‘çš„æ‹·è´ï¼Œå› ä¸ºä¸åŒç‰ˆæœ¬ç”Ÿæˆçš„æ–‡ä»¶ä¼šä¸ä¸€æ ·ï¼›</p><p>E:\Others\GRPC28\grpc.allbuild\third_party\protobuf\Release<br />E:\Others\GRPC28\grpc.allbuild\Release<br />E:\Others\GRPC28\grpc.allbuild\third_party\zlib\Release<br />E:\Others\GRPC28\grpc.allbuild\third_party\cares\cares\lib\Release<br />E:\Others\GRPC28\grpc.allbuild\third_party\boringssl-with-bazel\Release<br />E:\Others\GRPC28\grpc.allbuild\third_party\boringssl-with-bazel\bssl.dir\Release<br />E:\Others\GRPC28\grpc.allbuild\third_party\boringssl-with-bazel\crypto.dir\Release<br />E:\Others\GRPC28\grpc.allbuild\third_party\abseil-cpp\absl\base\Release<br />E:\Others\GRPC28\grpc.allbuild\third_party\abseil-cpp\absl\container\Release<br />E:\Others\GRPC28\grpc.allbuild\third_party\abseil-cpp\absl\flags\Release<br />E:\Others\GRPC28\grpc.allbuild\third_party\abseil-cpp\absl\hash\Release<br />E:\Others\GRPC28\grpc.allbuild\third_party\abseil-cpp\absl\numeric\Release<br />E:\Others\GRPC28\grpc.allbuild\third_party\abseil-cpp\absl\random\Release<br />E:\Others\GRPC28\grpc.allbuild\third_party\abseil-cpp\absl\strings\Release<br />E:\Others\GRPC28\grpc.allbuild\third_party\abseil-cpp\absl\synchronization\Release<br />E:\Others\GRPC28\grpc.allbuild\third_party\abseil-cpp\absl\time\Release<br />E:\Others\GRPC28\grpc.allbuild\third_party\abseil-cpp\absl\types\Release</p><p><img src="6a474190409f5173201a3d8ea1a7412f.png" alt="" /></p><p>6ï¼‰é€‰æ‹©è¾“å…¥ï¼Œè®¾ç½®é™„åŠ ä¾èµ–é¡¹ï¼Œæ³¨æ„Debugç‰ˆæœ¬å’ŒReleaseç”Ÿæˆçš„ä¸ä¸€æ ·ï¼Œæ¯”å¦‚zlib.libï¼ŒDebugç”Ÿæˆçš„æ˜¯zlibd.libï¼Œæ‰€ä»¥æŒ‰ç…§è‡ªå·±çš„ç”Ÿæˆåº“å¡«å†™ã€‚</p><p>grpc++_unsecure.lib<br />zlib.lib<br />ssl.lib<br />libprotobuf.lib<br />libprotobuf-lite.lib<br />libprotoc.lib<br />WS2_32.Lib<br />cares.lib<br />upb.lib<br />grpcpp_channelz.lib<br />grpc_csharp_ext.lib<br />grpc++_reflection.lib<br />grpc++_error_details.lib<br />grpc_plugin_support.lib<br />grpc++_alts.lib<br />address_sorting.lib<br />grpc.lib<br />grpc++.lib<br />grpc_unsecure.lib<br />zlibstatic.lib<br />crypto.lib<br />gpr.lib<br />grpc_cronet.lib<br />absl_base.lib<br />absl_dynamic_annotations.lib<br />absl_exponential_biased.lib<br />absl_log_severity.lib<br />absl_malloc_internal.lib<br />absl_periodic_sampler.lib<br />absl_raw_logging_internal.lib<br />absl_scoped_set_env.lib<br />absl_spinlock_wait.lib<br />absl_throw_delegate.lib<br />absl_hashtablez_sampler.lib<br />absl_raw_hash_set.lib<br />absl_flags.lib<br />absl_flags_config.lib<br />absl_flags_internal.lib<br />absl_flags_marshalling.lib<br />absl_flags_program_name.lib<br />absl_flags_parse.lib<br />absl_flags_registry.lib<br />absl_flags_usage.lib<br />absl_flags_usage_internal.lib<br />absl_city.lib<br />absl_hash.lib<br />absl_int128.lib<br />absl_random_distributions.lib<br />absl_random_internal_distribution_test_util.lib<br />absl_random_internal_pool_urbg.lib<br />absl_random_internal_randen.lib<br />absl_random_internal_randen_hwaes.lib<br />absl_random_internal_randen_hwaes_impl.lib<br />absl_random_internal_randen_slow.lib<br />absl_random_internal_seed_material.lib<br />absl_random_seed_gen_exception.lib<br />absl_random_seed_sequences.lib<br />absl_str_format_internal.lib<br />absl_strings.lib<br />absl_strings_internal.lib<br />absl_graphcycles_internal.lib<br />absl_synchronization.lib<br />absl_civil_time.lib<br />absl_time.lib<br />absl_time_zone.lib<br />absl_bad_any_cast_impl.lib<br />absl_bad_optional_access.lib<br />absl_bad_variant_access.lib</p><p><img src="6618cc2003efefd52a099a260b80721b.png" alt="" /></p><p>ï¼ˆ6ï¼‰ç¼–è¯‘å·¥ç¨‹</p><p>å³é”®TestCPPï¼Œç”Ÿæˆï¼Œä¼šåœ¨TestCPP\x64\Releaseæ–‡ä»¶å¤¹ä¸­ç”ŸæˆTestCPP.exeï¼Œå°†Releaseæ–‡ä»¶å¤¹æ”¹åä¸ºReleaseServerï¼Œå°†TestCPP.exeå¯åŠ¨ï¼›</p><p>åœ¨èµ„æºç®¡ç†å™¨ä¸­é€‰æ‹©greeter_server.ccå³é”®ç§»é™¤ï¼Œå†æ·»åŠ greeter_client.ccï¼Œåœ¨mainå‡½æ•°ä¸­æ·»åŠ std::cin.get();é¿å…è°ƒè¯•æ—¶å¯åŠ¨çª—å£ä¸€é—ªè€Œé€€ï¼Œ</p><p><img src="3599041ce3c195ad2d6ce0a72de52c65.png" alt="" /></p><p>ç¼–è¯‘ï¼Œä¼šåœ¨TestCPP\x64\Releaseæ–‡ä»¶å¤¹ä¸­ç”ŸæˆTestCPP.exeï¼Œå¯åŠ¨æˆ–åœ¨vsä¸­è°ƒè¯•ï¼Œå‡ºç°ä¸‹å›¾ä¸­çš„æ¶ˆæ¯è¡¨ç¤ºé€šä¿¡æˆåŠŸã€‚</p><p><img src="72e55e2c4e43e31b18b921c605f124a9.png" alt="" /></p><p>ç¼–è¯‘æ—¶å‡ºç°çš„é”™è¯¯ï¼š</p><p>LNK2038 æ£€æµ‹åˆ°â€œ_ITERATOR_DEBUG_LEVELâ€çš„ä¸åŒ¹é…é¡¹: å€¼â€œ0â€ä¸åŒ¹é…å€¼â€œ2â€ï¼Œå› ä¸ºæˆ‘ç¼–è¯‘grpcæºç æ—¶ç¼–è¯‘çš„æ˜¯Releaseç‰ˆæœ¬ï¼Œç”Ÿæˆçš„åº“æ˜¯Releaseç‰ˆæœ¬çš„ï¼Œè°ƒè¯•ç”¨çš„Debugæ¨¡å¼ï¼Œä¸¤è€…è¯¥ç»Ÿä¸€ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
            <tag> RPC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨Windowsæ­å»ºgRPC C++å¼€å‘ç¯å¢ƒ</title>
      <link href="/2025/05/06/RPC/%E5%9C%A8Windows%E6%90%AD%E5%BB%BAgRPC%20C++%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/"/>
      <url>/2025/05/06/RPC/%E5%9C%A8Windows%E6%90%AD%E5%BB%BAgRPC%20C++%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€-ç¯å¢ƒæ„å»º"><a class="markdownIt-Anchor" href="#ä¸€-ç¯å¢ƒæ„å»º"></a> ä¸€ã€ç¯å¢ƒæ„å»º</h3><h4 id="1-cmake"><a class="markdownIt-Anchor" href="#1-cmake"></a> 1.Â CMake</h4><p><a href="https://cmake.org/download/" title="Download CMake">Download CMake</a></p><h4 id="2-git"><a class="markdownIt-Anchor" href="#2-git"></a> 2.Â Git</h4><p><a href="https://gitforwindows.org/" title="Git for Windows">Git for Windows</a></p><h4 id="3-grpcæºç "><a class="markdownIt-Anchor" href="#3-grpcæºç "></a> 3. gRPCæºç </h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b v1.48.0 https://github.com/grpc/grpc</span><br></pre></td></tr></table></figure><p>è¿›å…¥æºç ç›®å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> grpc</span><br></pre></td></tr></table></figure><p>ä¸‹è½½ä¾èµ–åº“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git submodule update --init</span><br></pre></td></tr></table></figure><h3 id="äºŒ-ä½¿ç”¨cmakeç”Ÿæˆå·¥ç¨‹æ–‡ä»¶"><a class="markdownIt-Anchor" href="#äºŒ-ä½¿ç”¨cmakeç”Ÿæˆå·¥ç¨‹æ–‡ä»¶"></a> äºŒã€ä½¿ç”¨CMakeç”Ÿæˆå·¥ç¨‹æ–‡ä»¶</h3><p><img src="cd08cb9fbd5a4748bbc8c641e07df2bb.png" alt="" /></p><h3 id="ä¸‰-ä½¿ç”¨vs2019ç¼–è¯‘grpcåº“æ–‡ä»¶"><a class="markdownIt-Anchor" href="#ä¸‰-ä½¿ç”¨vs2019ç¼–è¯‘grpcåº“æ–‡ä»¶"></a> ä¸‰ã€ä½¿ç”¨vs2019ç¼–è¯‘grpcåº“æ–‡ä»¶</h3><p><img src="a4b18a45f27c4cfdbefec971a654a260.png" alt="" /></p><h3 id="å››-ä½¿ç”¨vs2019ç¼–è¯‘grpcåº“æ–‡ä»¶"><a class="markdownIt-Anchor" href="#å››-ä½¿ç”¨vs2019ç¼–è¯‘grpcåº“æ–‡ä»¶"></a> å››ã€ä½¿ç”¨vs2019ç¼–è¯‘grpcåº“æ–‡ä»¶</h3><p>å°†åº“æ–‡ä»¶å’Œå¤´æ–‡ä»¶æå–å‡ºæ¥æ”¾å…¥includeå’Œlib</p><p><img src="4bec250c65cf4b68ac4a2c9112f88da4.png" alt="" /></p><p>å¤´æ–‡ä»¶éœ€è¦</p><p><img src="f38dc316262d45a4ba50f9e2d99ec58f.png" alt="" /></p><p>è¿˜æœ‰absl,grpc-1.4.8\grpc\third_party\protobuf\src</p><p>åº“æ–‡ä»¶éœ€è¦çš„æœ‰ä¸‹é¢è¿™äº›</p><p>absl_bad_optional_access.lib</p><p>absl_bad_variant_access.lib</p><p>absl_base.lib</p><p>absl_city.lib</p><p>absl_civil_time.lib</p><p>absl_cord.lib</p><p>absl_cordz_functions.lib</p><p>absl_cordz_handle.lib</p><p>absl_cordz_info.lib</p><p>absl_cordz_sample_token.lib</p><p>absl_cord_internal.lib</p><p>absl_debugging_internal.lib</p><p>absl_demangle_internal.lib</p><p>absl_examine_stack.lib</p><p>absl_exponential_biased.lib</p><p>absl_failure_signal_handler.lib</p><p>absl_flags.lib</p><p>absl_flags_commandlineflag.lib</p><p>absl_flags_commandlineflag_internal.lib</p><p>absl_flags_config.lib</p><p>absl_flags_internal.lib</p><p>absl_flags_marshalling.lib</p><p>absl_flags_parse.lib</p><p>absl_flags_private_handle_accessor.lib</p><p>absl_flags_program_name.lib</p><p>absl_flags_reflection.lib</p><p>absl_flags_usage.lib</p><p>absl_flags_usage_internal.lib</p><p>absl_graphcycles_internal.lib</p><p>absl_hash.lib</p><p>absl_hashtablez_sampler.lib</p><p>absl_int128.lib</p><p>absl_leak_check.lib</p><p>absl_log_severity.lib</p><p>absl_low_level_hash.lib</p><p>absl_malloc_internal.lib</p><p>absl_periodic_sampler.lib</p><p>absl_random_distributions.lib</p><p>absl_random_internal_distribution_test_util.lib</p><p>absl_random_internal_platform.lib</p><p>absl_random_internal_pool_urbg.lib</p><p>absl_random_internal_randen.lib</p><p>absl_random_internal_randen_hwaes.lib</p><p>absl_random_internal_randen_hwaes_impl.lib</p><p>absl_random_internal_randen_slow.lib</p><p>absl_random_internal_seed_material.lib</p><p>absl_random_seed_gen_exception.lib</p><p>absl_random_seed_sequences.lib</p><p>absl_raw_hash_set.lib</p><p>absl_raw_logging_internal.lib</p><p>absl_scoped_set_env.lib</p><p>absl_spinlock_wait.lib</p><p>absl_stacktrace.lib</p><p>absl_status.lib</p><p>absl_statusor.lib</p><p>absl_strerror.lib</p><p>absl_strings.lib</p><p>absl_strings_internal.lib</p><p>absl_str_format_internal.lib</p><p>absl_symbolize.lib</p><p>absl_synchronization.lib</p><p>absl_throw_delegate.lib</p><p>absl_time.lib</p><p>absl_time_zone.lib</p><p>address_sorting.lib</p><p>cares.lib</p><p>crypto.lib</p><p>gpr.lib</p><p>grpc++.lib</p><p>grpc++_alts.lib</p><p>grpc++_error_details.lib</p><p>grpc++_reflection.lib</p><p>grpc++_unsecure.lib</p><p>grpc.lib</p><p>grpcpp_channelz.lib</p><p>grpc_plugin_support.lib</p><p>grpc_unsecure.lib</p><p>libprotobuf-lite.lib</p><p>libprotobuf.lib</p><p>libprotoc.lib</p><p>re2.lib</p><p>ssl.lib</p><p>upb.lib</p><p>zlib.lib</p><h3 id="äº”-ç¼–è¯‘protoæ–‡ä»¶"><a class="markdownIt-Anchor" href="#äº”-ç¼–è¯‘protoæ–‡ä»¶"></a> äº”ã€ç¼–è¯‘protoæ–‡ä»¶</h3><p>æ³¨æ„ï¼šå…¶ä¸­ï¼šgrpc_cpp_plugin.exeæ‰€åœ¨è·¯å¾„æ›¿æ¢ä¸ºæ‚¨å®‰è£…çš„è·¯å¾„ã€‚</p><p>ä¸”protoè·¯å¾„æ ¹æ®è‡ªå·²çš„è·¯å¾„ä¿®æ”¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">protoc -I=<span class="string">&quot;./protos&quot;</span> --grpc_out=<span class="string">&quot;./protos&quot;</span> --plugin=protoc-gen-grpc=<span class="string">&quot;D:\workplace\grpc-1.4.8\grpc\cmake_build\Release\grpc_cpp_plugin.exe&quot;</span> <span class="string">&quot;./protos\greet.proto&quot;</span></span><br><span class="line">protoc -I=<span class="string">&quot;./protos&quot;</span> --cpp_out=<span class="string">&quot;./protos&quot;</span> <span class="string">&quot;./protos\greet.proto&quot;</span></span><br></pre></td></tr></table></figure><h3 id="å…­-ç”Ÿæˆgprcå®¢æˆ·ç«¯æœåŠ¡ç«¯"><a class="markdownIt-Anchor" href="#å…­-ç”Ÿæˆgprcå®¢æˆ·ç«¯æœåŠ¡ç«¯"></a> å…­ã€ç”Ÿæˆgprcå®¢æˆ·ç«¯æœåŠ¡ç«¯</h3><p>å°†ç”Ÿæˆçš„ .grpc.pb.cc/.hÂ   .pb.cc/.h ä»¥åŠprotoæ–‡ä»¶æ·»åŠ åˆ°vsä¸­ï¼Œvsåˆ‡æ¢ä¸º<strong>Release x64</strong>ç‰ˆæœ¬ï¼ˆå¯¹åº”gRPCç¼–è¯‘çš„ç‰ˆæœ¬ï¼Œä¸çŸ¥é“Debugç‰ˆæœ¬æ˜¯å¦æœ‰é—®é¢˜ï¼Œæš‚æœªå°è¯•ï¼‰ã€‚</p><p><img src="f81c1226eae642fcb29930b644d55a7f.png" alt="" /></p><p>æ·»åŠ ä¸Šé¢çš„åº“æ–‡ä»¶å’Œå¤´æ–‡ä»¶ç›®å½•ï¼Œè¿˜æœ‰libæ–‡ä»¶è¿›å·¥ç¨‹</p><h3 id=""><a class="markdownIt-Anchor" href="#"></a> <img src="7a7839786f43458cab2683f59c7f3239.png" alt="" /></h3>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
            <tag> RPC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºVS2022åœ¨Windowsä¸Šé¦–æ¬¡å°è¯•å¼€å‘C++ gRPCæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„è¯¦ç»†æ­¥éª¤</title>
      <link href="/2025/04/30/RPC/%E5%9F%BA%E4%BA%8EVS2022%E5%9C%A8Windows%E4%B8%8A%E9%A6%96%E6%AC%A1%E5%B0%9D%E8%AF%95%E5%BC%80%E5%8F%91C++%20gRPC%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%92%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9A%84%E8%AF%A6%E7%BB%86%E6%AD%A5%E9%AA%A4/"/>
      <url>/2025/04/30/RPC/%E5%9F%BA%E4%BA%8EVS2022%E5%9C%A8Windows%E4%B8%8A%E9%A6%96%E6%AC%A1%E5%B0%9D%E8%AF%95%E5%BC%80%E5%8F%91C++%20gRPC%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%92%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9A%84%E8%AF%A6%E7%BB%86%E6%AD%A5%E9%AA%A4/</url>
      
        <content type="html"><![CDATA[<h3 id="0-å®‰è£…vcpkg"><a class="markdownIt-Anchor" href="#0-å®‰è£…vcpkg"></a> <strong>0. å®‰è£…vcpkg</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/microsoft/vcpkg.git</span><br><span class="line">.\bootstrap-vcpkg.bat </span><br><span class="line">vcpkg --version</span><br></pre></td></tr></table></figure><p>1.grpcå®‰è£…ä¸ç¼–è¯‘</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vcpkg install grpc:x64-windows</span><br></pre></td></tr></table></figure><p>2.protocbufå®‰è£…ä¸ç¼–è¯‘</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vcpkg install protobuf protobuf:x64-windows</span><br></pre></td></tr></table></figure><p>å®‰è£…åï¼Œæ‚¨å¯ä»¥åœ¨æ–‡ä»¶å¤¹ &lt;vcpkg_installed_path&gt;\packages ä¸‹çš„ vcpkg ç›®å½•ä¸­æ‰¾åˆ°å·²å®‰è£…çš„è½¯ä»¶åŒ…ã€‚ ä¸ºäº†ä½¿è½¯ä»¶åŒ…åœ¨ç³»ç»ŸèŒƒå›´å†…å¯ç”¨ï¼Œæ‚¨éœ€è¦ä½¿ç”¨å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vcpkg integrate install</span><br></pre></td></tr></table></figure><p>æ³¨ï¼šä»¥ä¸Šå®‰è£…å®Œå¤§çº¦47GB</p><h3 id="1-åˆ›å»ºè§£å†³æ–¹æ¡ˆä¸é¡¹ç›®"><a class="markdownIt-Anchor" href="#1-åˆ›å»ºè§£å†³æ–¹æ¡ˆä¸é¡¹ç›®"></a> <strong>1. åˆ›å»ºè§£å†³æ–¹æ¡ˆä¸é¡¹ç›®</strong></h3><ol><li>æ‰“å¼€VS2022 â†’ åˆ›å»ºæ–°é¡¹ç›® â†’ é€‰æ‹© <strong>â€œç©ºé¡¹ç›®â€</strong> ï¼Œåˆ†åˆ«åˆ›å»ºæœåŠ¡ç«¯ï¼ˆå¦‚<code>gRPCServer</code>ï¼‰å’Œå®¢æˆ·ç«¯ï¼ˆå¦‚<code>gRPCClient</code>ï¼‰é¡¹ç›®</li><li>å³é”®è§£å†³æ–¹æ¡ˆ â†’ æ·»åŠ  â†’ æ–°å»ºé¡¹ â†’ <strong>â€œå¤´æ–‡ä»¶(.h)â€ å’Œ â€œæºæ–‡ä»¶(.cpp)â€</strong> ï¼Œåˆ†åˆ«ç”¨äºæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä»£ç </li></ol><hr /><h3 id="2-ç¼–å†™protoæ–‡ä»¶"><a class="markdownIt-Anchor" href="#2-ç¼–å†™protoæ–‡ä»¶"></a> <strong>2. ç¼–å†™protoæ–‡ä»¶</strong></h3><ol><li>åœ¨è§£å†³æ–¹æ¡ˆç›®å½•ä¸‹åˆ›å»º<code>protos</code>æ–‡ä»¶å¤¹ï¼Œæ–°å»º<code>greet.proto</code>æ–‡ä»¶ï¼ˆç¤ºä¾‹å†…å®¹å¦‚ä¸‹ï¼‰ï¼š</li></ol><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">syntax = &quot;proto3&quot;;</span><br><span class="line">service Greeter &#123;</span><br><span class="line">  rpc SayHello (HelloRequest) returns (HelloReply) &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">message HelloRequest &#123; string name = 1; &#125;</span><br><span class="line">message HelloReply &#123; string message = 1; &#125;</span><br></pre></td></tr></table></figure><hr /><h3 id="3-ç”Ÿæˆgrpcä»£ç "><a class="markdownIt-Anchor" href="#3-ç”Ÿæˆgrpcä»£ç "></a> <strong>3. ç”ŸæˆgRPCä»£ç </strong></h3><ol><li>æ‰“å¼€å¼€å‘è€…å‘½ä»¤è¡Œå·¥å…·ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ˆæ³¨æ„è·¯å¾„æ›¿æ¢ï¼‰ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”Ÿæˆæ¶ˆæ¯åºåˆ—åŒ–ä»£ç </span></span><br><span class="line">protoc -I=protos/ --cpp_out=protos/ protos/greet.proto</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”ŸæˆgRPCæœåŠ¡ä»£ç ï¼ˆæ³¨æ„grpc_cpp_pluginè·¯å¾„ï¼‰</span></span><br><span class="line">protoc -I=protos/ --grpc_out=protos/ --plugin=protoc-gen-grpc=<span class="string">&quot;C:\vcpkg\vcpkg\installed\x64-windows\tools\grpc\grpc_cpp_plugin.exe&quot;</span> protos/greet.proto</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆ<code>greet.pb.h</code>ã€<code>greet.pb.cc</code> ã€<code>greet.grpc.pb.h</code>ã€<code>greet.grpc.pb.cc</code> å››ä¸ªæ–‡ä»¶</p><hr /><h3 id="4-é…ç½®é¡¹ç›®å±æ€§"><a class="markdownIt-Anchor" href="#4-é…ç½®é¡¹ç›®å±æ€§"></a> <strong>4. é…ç½®é¡¹ç›®å±æ€§</strong></h3><h4 id="æœåŠ¡ç«¯é¡¹ç›®grpcserver"><a class="markdownIt-Anchor" href="#æœåŠ¡ç«¯é¡¹ç›®grpcserver"></a> <strong>æœåŠ¡ç«¯é¡¹ç›®ï¼ˆgRPCServerï¼‰</strong></h4><ol><li><strong>C/C++ â†’ å¸¸è§„ â†’ é™„åŠ åŒ…å«ç›®å½•</strong> æ·»åŠ ï¼š</li></ol><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C:\vcpkg\vcpkg\installed\x64-windows\include</span><br><span class="line">$(ProjectDir)\protos</span><br></pre></td></tr></table></figure><ol start="2"><li><strong>é“¾æ¥å™¨ â†’ å¸¸è§„ â†’ é™„åŠ åº“ç›®å½•</strong> æ·»åŠ ï¼š</li></ol><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\vcpkg\vcpkg\installed\x64-windows\lib</span><br></pre></td></tr></table></figure><ol start="3"><li><strong>é“¾æ¥å™¨ â†’ è¾“å…¥ â†’ é™„åŠ ä¾èµ–é¡¹</strong> æ·»åŠ ï¼š</li></ol><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grpc++.lib;grpc++_reflection.lib;grpc.lib;gpr.lib;libprotobuf.lib;libprotoc.lib</span><br></pre></td></tr></table></figure><ol start="4"><li><strong>C/C++ â†’ è¯­è¨€ â†’ C++ è¯­è¨€æ ‡å‡†</strong> è®¾ç½®ä¸º <strong>â€œISO C++17 æ ‡å‡†â€</strong></li></ol><h4 id="å®¢æˆ·ç«¯é¡¹ç›®grpcclient"><a class="markdownIt-Anchor" href="#å®¢æˆ·ç«¯é¡¹ç›®grpcclient"></a> <strong>å®¢æˆ·ç«¯é¡¹ç›®ï¼ˆgRPCClientï¼‰</strong></h4><p>é…ç½®æ­¥éª¤åŒä¸Šï¼Œä¸æœåŠ¡ç«¯å®Œå…¨ä¸€è‡´</p><hr /><h3 id="5-å®ç°æœåŠ¡ç«¯ä»£ç "><a class="markdownIt-Anchor" href="#5-å®ç°æœåŠ¡ç«¯ä»£ç "></a> <strong>5. å®ç°æœåŠ¡ç«¯ä»£ç </strong></h3><p>åœ¨<code>gRPCServer</code>é¡¹ç›®ä¸­æ·»åŠ <code>server.cpp</code>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;grpcpp/grpcpp.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;protos/greet.grpc.pb.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GreeterServiceImpl</span> <span class="keyword">final</span> : <span class="keyword">public</span> Greeter::Service &#123;</span><br><span class="line">  <span class="function">grpc::Status <span class="title">SayHello</span><span class="params">(grpc::ServerContext* context, </span></span></span><br><span class="line"><span class="params"><span class="function">                       <span class="type">const</span> HelloRequest* request, </span></span></span><br><span class="line"><span class="params"><span class="function">                       HelloReply* reply)</span> <span class="keyword">override</span> </span>&#123;</span><br><span class="line">    reply-&gt;<span class="built_in">set_message</span>(<span class="string">&quot;Hello &quot;</span> + request-&gt;<span class="built_in">name</span>());</span><br><span class="line">    <span class="keyword">return</span> grpc::Status::OK;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">RunServer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="function">std::string <span class="title">server_address</span><span class="params">(<span class="string">&quot;0.0.0.0:50051&quot;</span>)</span></span>;</span><br><span class="line">  GreeterServiceImpl service;</span><br><span class="line">  </span><br><span class="line">  grpc::ServerBuilder builder;</span><br><span class="line">  builder.<span class="built_in">AddListeningPort</span>(server_address, grpc::<span class="built_in">InsecureServerCredentials</span>());</span><br><span class="line">  builder.<span class="built_in">RegisterService</span>(&amp;service);</span><br><span class="line">  </span><br><span class="line">  <span class="function">std::unique_ptr&lt;grpc::Server&gt; <span class="title">server</span><span class="params">(builder.BuildAndStart())</span></span>;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;Server listening on &quot;</span> &lt;&lt; server_address &lt;&lt; std::endl;</span><br><span class="line">  server-&gt;<span class="built_in">Wait</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">RunServer</span>();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr /><h3 id="6-å®ç°å®¢æˆ·ç«¯ä»£ç "><a class="markdownIt-Anchor" href="#6-å®ç°å®¢æˆ·ç«¯ä»£ç "></a> <strong>6. å®ç°å®¢æˆ·ç«¯ä»£ç </strong></h3><p>åœ¨<code>gRPCClient</code>é¡¹ç›®ä¸­æ·»åŠ <code>client.cpp</code>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;grpcpp/grpcpp.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;protos/greet.grpc.pb.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GreeterClient</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">GreeterClient</span>(std::shared_ptr&lt;grpc::Channel&gt; channel) </span><br><span class="line">    : <span class="built_in">stub_</span>(Greeter::<span class="built_in">NewStub</span>(channel)) &#123;&#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function">std::string <span class="title">SayHello</span><span class="params">(<span class="type">const</span> std::string&amp; name)</span> </span>&#123;</span><br><span class="line">    HelloRequest request;</span><br><span class="line">    request.<span class="built_in">set_name</span>(name);</span><br><span class="line">    </span><br><span class="line">    HelloReply reply;</span><br><span class="line">    grpc::ClientContext context;</span><br><span class="line">    grpc::Status status = stub_-&gt;<span class="built_in">SayHello</span>(&amp;context, request, &amp;reply);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (status.<span class="built_in">ok</span>()) <span class="keyword">return</span> reply.<span class="built_in">message</span>();</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="string">&quot;RPC failed&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  std::unique_ptr&lt;Greeter::Stub&gt; stub_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="function">GreeterClient <span class="title">client</span><span class="params">(grpc::CreateChannel(<span class="string">&quot;localhost:50051&quot;</span>, </span></span></span><br><span class="line"><span class="params"><span class="function">                      grpc::InsecureChannelCredentials()))</span></span>;</span><br><span class="line">  std::cout &lt;&lt; client.<span class="built_in">SayHello</span>(<span class="string">&quot;World&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr /><h3 id="7-ç¼–è¯‘ä¸è¿è¡Œ"><a class="markdownIt-Anchor" href="#7-ç¼–è¯‘ä¸è¿è¡Œ"></a> <strong>7. ç¼–è¯‘ä¸è¿è¡Œ</strong></h3><ol><li><strong>ç”Ÿæˆè§£å†³æ–¹æ¡ˆ</strong>ï¼šå³é”®è§£å†³æ–¹æ¡ˆ â†’ ç”Ÿæˆè§£å†³æ–¹æ¡ˆ</li><li><strong>å¯åŠ¨æœåŠ¡ç«¯</strong>ï¼šå³é”®<code>gRPCServer</code> â†’ è°ƒè¯• â†’ å¯åŠ¨æ–°å®ä¾‹</li><li><strong>å¯åŠ¨å®¢æˆ·ç«¯</strong>ï¼šå³é”®<code>gRPCClient</code> â†’ è°ƒè¯• â†’ å¯åŠ¨æ–°å®ä¾‹<ul><li>æ­£ç¡®è¾“å‡ºåº”ä¸ºï¼š<code>Hello World</code></li></ul></li></ol><hr /><h3 id="æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#æ³¨æ„äº‹é¡¹"></a> <strong>æ³¨æ„äº‹é¡¹</strong></h3><ol><li>è‹¥å‡ºç° <strong>â€œæ— æ³•æ‰“å¼€ grpc++/impl/codegen/config.hâ€</strong> é”™è¯¯ï¼Œæ£€æŸ¥vcpkgæ˜¯å¦å®‰è£…å®Œæ•´ï¼ˆæ‰§è¡Œ<code>vcpkg install grpc:x64-windows</code>ï¼‰</li><li>è‹¥é“¾æ¥å¤±è´¥ï¼Œç¡®è®¤æ‰€æœ‰<code>.lib</code>æ–‡ä»¶æ˜¯å¦å­˜åœ¨äº<code>C:\vcpkg\vcpkg\installed\x64-windows\lib</code>ç›®å½•</li></ol><p>æœåŠ¡å™¨ç«¯è¾“å‡ºï¼š<br />Server listening on 0.0.0.0:50051</p><p>å®¢æˆ·ç«¯è¾“å‡ºï¼š<br />Hello World<br />Press Enter to exitâ€¦</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> RPC </tag>
            
            <tag> VS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GRPC å¿«é€Ÿå…¥é—¨</title>
      <link href="/2025/04/30/RPC/GRPC%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"/>
      <url>/2025/04/30/RPC/GRPC%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="1-èƒŒæ™¯ä»‹ç»"><a class="markdownIt-Anchor" href="#1-èƒŒæ™¯ä»‹ç»"></a> 1. èƒŒæ™¯ä»‹ç»</h2><p><a href="https://grpc.org.cn/docs/what-is-grpc/introduction/">gRPC</a>å…¨ç§°Google Remote Procedure Call. å®ƒæ˜¯ä¸€ç§åŸºäº<a href="https://protobuf.com.cn/overview/">Protobuf buffer</a> æ ¼å¼çš„é«˜æ•ˆçš„é€šè®¯åè®®ã€‚ä¸è®¸å¤š RPC ç³»ç»Ÿä¸€æ ·ï¼ŒgRPC åŸºäºå®šä¹‰æœåŠ¡çš„ç†å¿µï¼ŒæŒ‡å®šå¯ä»¥è¿œç¨‹è°ƒç”¨çš„æ–¹æ³•åŠå…¶å‚æ•°å’Œè¿”å›ç±»å‹ã€‚åœ¨æœåŠ¡å™¨ç«¯ï¼ŒæœåŠ¡å™¨å®ç°æ­¤æ¥å£å¹¶è¿è¡Œ gRPC æœåŠ¡å™¨ä»¥å¤„ç†å®¢æˆ·ç«¯è°ƒç”¨ã€‚åœ¨å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å…·æœ‰ä¸€ä¸ªå­˜æ ¹ï¼ˆåœ¨æŸäº›è¯­è¨€ä¸­ç§°ä¸ºå®¢æˆ·ç«¯ï¼‰ï¼Œå®ƒæä¾›ä¸æœåŠ¡å™¨ç›¸åŒçš„ æ–¹æ³•ã€‚</p><h2 id="2-å¿«é€Ÿå…¥é—¨"><a class="markdownIt-Anchor" href="#2-å¿«é€Ÿå…¥é—¨"></a> 2. å¿«é€Ÿå…¥é—¨</h2><h3 id="å®‰è£…-cmake"><a class="markdownIt-Anchor" href="#å®‰è£…-cmake"></a> å®‰è£… cmake</h3><p>æ‚¨éœ€è¦ cmake çš„ 3.13 ç‰ˆæˆ–æ›´é«˜ç‰ˆæœ¬ã€‚è¯·æŒ‰ç…§ä»¥ä¸‹è¯´æ˜è¿›è¡Œå®‰è£…</p><ul><li>Linux</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install -y cmake</span><br></pre></td></tr></table></figure><ul><li>macOS</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install cmake</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…å…¶ä»–å¿…éœ€å·¥å…·"><a class="markdownIt-Anchor" href="#å®‰è£…å…¶ä»–å¿…éœ€å·¥å…·"></a> å®‰è£…å…¶ä»–å¿…éœ€å·¥å…·</h3><ul><li>Linux</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install -y build-essential autoconf libtool pkg-config</span><br></pre></td></tr></table></figure><ul><li>macOS</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install autoconf automake libtool pkg-config</span><br></pre></td></tr></table></figure><h3 id="å…‹éš†-grpc-ä»“åº“"><a class="markdownIt-Anchor" href="#å…‹éš†-grpc-ä»“åº“"></a> å…‹éš† <a href="https://github.com/grpc/grpc">grpc</a> ä»“åº“</h3><p>è®¾ç½®å®‰è£…è·¯å¾„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> MY_INSTALL_DIR=<span class="variable">$HOME</span>/.local</span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$MY_INSTALL_DIR</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;<span class="variable">$MY_INSTALL_DIR</span>/bin:<span class="variable">$PATH</span>&quot;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨cmakeè¿›è¡Œæºç ç¼–è¯‘</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --recurse-submodules -b v1.62.0 --depth 1 --shallow-submodules https://github.com/grpc/grpc</span><br><span class="line"><span class="built_in">cd</span> grpc</span><br><span class="line"><span class="built_in">mkdir</span> -p cmake/build</span><br><span class="line"><span class="built_in">cd</span> cmake/build</span><br><span class="line">cmake -DgRPC_INSTALL=ON \</span><br><span class="line">      -DgRPC_BUILD_TESTS=OFF \</span><br><span class="line">      -DCMAKE_INSTALL_PREFIX=<span class="variable">$MY_INSTALL_DIR</span> \</span><br><span class="line">      ../..</span><br><span class="line">make -j32</span><br><span class="line">make insatll</span><br><span class="line"><span class="built_in">cd</span> -</span><br></pre></td></tr></table></figure><p><strong>é‡è¦</strong><br />æˆ‘ä»¬å¼ºçƒˆå»ºè®®æ‚¨æœ¬åœ°å®‰è£… gRPCâ€”â€”ä½¿ç”¨é€‚å½“è®¾ç½®çš„ CMAKE_INSTALL_PREFIXâ€”â€”å› ä¸ºåœ¨æ‚¨å…¨å±€å®‰è£… gRPC åï¼Œæ²¡æœ‰ç®€å•çš„æ–¹æ³•å°†å…¶å¸è½½ã€‚</p><h3 id="ç”¨ä¾‹æµ‹è¯•"><a class="markdownIt-Anchor" href="#ç”¨ä¾‹æµ‹è¯•"></a> ç”¨ä¾‹æµ‹è¯•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> examples/cpp/helloworld</span><br><span class="line"><span class="built_in">mkdir</span> -p cmake/build</span><br><span class="line"><span class="built_in">pushd</span> cmake/build</span><br><span class="line">cmake ../..</span><br><span class="line">make -j 4</span><br></pre></td></tr></table></figure><p>è¿è¡ŒæœåŠ¡å™¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./greeter_server</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»ˆç«¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./greeter_client</span><br><span class="line">&gt;&gt;&gt; Greeter received: Hello world</span><br></pre></td></tr></table></figure><p>æ­å–œï¼æ‚¨åˆšåˆšä½¿ç”¨ gRPC è¿è¡Œäº†ä¸€ä¸ªå®¢æˆ·ç«¯-æœåŠ¡å™¨åº”ç”¨ç¨‹åºã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
            <tag> RPC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gRPCå®ç°ç¬¬ä¸€ä¸ªC++æœåŠ¡å™¨</title>
      <link href="/2025/04/30/RPC/gRPC%E5%AE%9E%E7%8E%B0%E7%AC%AC%E4%B8%80%E4%B8%AAC++%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2025/04/30/RPC/gRPC%E5%AE%9E%E7%8E%B0%E7%AC%AC%E4%B8%80%E4%B8%AAC++%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="1-å‰è¨€"><a class="markdownIt-Anchor" href="#1-å‰è¨€"></a> 1. å‰è¨€</h2><p>æœ¬ç« èŠ‚å°†å®ç°C++ç‰ˆæœ¬çš„ä¸ªäººæ³¨å†Œé¡µé¢çš„gRPCæœåŠ¡å™¨<br />æ›´å¤šåŸºç¡€çŸ¥è¯†å¯ä»¥å‚è€ƒä¸Šä¸€èŠ‚: GRPC å¿«é€Ÿå…¥é—¨</p><h2 id="2-å®šä¹‰æœåŠ¡"><a class="markdownIt-Anchor" href="#2-å®šä¹‰æœåŠ¡"></a> 2. å®šä¹‰æœåŠ¡</h2><p>è¦å®šä¹‰æœåŠ¡ï¼Œéœ€è¦åœ¨login.protoæ–‡ä»¶ä¸­æŒ‡å®šä¸€ä¸ªåä¸ºserviceçš„å†…å®¹ï¼Œå¦å¤–æˆ‘ä»¬è¿˜éœ€è¦å®šä¹‰ä¸€ä¸ªLoginInfoçš„æ¶ˆæ¯ä½“ç”¨æ¥ä¼ é€’ä¿¡æ¯</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">syntax = &quot;proto3&quot;; //æŒ‡å®šç‰ˆæœ¬ä¿¡æ¯ï¼Œä¸æŒ‡å®šä¼šæŠ¥é”™</span><br><span class="line"></span><br><span class="line">package tutorial; //packageå£°æ˜ç¬¦ï¼Œç”¨æ¥é˜²æ­¢ä¸åŒçš„æ¶ˆæ¯ç±»å‹æœ‰å‘½åå†²çª</span><br><span class="line"></span><br><span class="line">// æ³¨å†Œæ¶ˆæ¯ä½“</span><br><span class="line">message LoginInfo &#123;</span><br><span class="line">  string usrname = 1;</span><br><span class="line">  string password = 2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// login response</span><br><span class="line">message LoginResponse &#123;</span><br><span class="line">    // çŠ¶æ€ç ï¼Œ0è¡¨ç¤ºæˆåŠŸ</span><br><span class="line">    int32 status_code = 1;</span><br><span class="line">    // è¿”å›ä¿¡æ¯ï¼ŒåŒ…å«æˆåŠŸæˆ–é”™è¯¯æè¿°</span><br><span class="line">    string message = 2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å®šä¹‰æœåŠ¡</span><br><span class="line">service LoginService &#123;</span><br><span class="line">  rpc login(LoginInfo) returns (LoginResponse);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°†.proto ç¿»è¯‘æˆC++æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">protoc -I . --grpc_out=. --plugin=protoc-gen-grpc=`<span class="built_in">which</span> grpc_cpp_plugin` login.proto</span><br><span class="line">protoc -I . --cpp_out=. login.proto</span><br></pre></td></tr></table></figure><p>è¿è¡Œæ­¤å‘½ä»¤å°†åœ¨æ‚¨çš„å½“å‰ç›®å½•ä¸­ç”Ÿæˆä»¥ä¸‹æ–‡ä»¶:</p><ul><li>login.pb.h: å£°æ˜ç”Ÿæˆçš„å®¢æˆ·ç«¯çš„å¤´æ–‡ä»¶</li><li><a href="http://login.pb.cc">login.pb.cc</a>: åŒ…å«å®¢æˆ·ç«¯çš„å®ç°</li><li>login.grpc.pb.h: å£°æ˜ç”Ÿæˆçš„æœåŠ¡å™¨ç«¯çš„å¤´æ–‡ä»¶</li><li><a href="http://login.grpc.pb.cc">login.grpc.pb.cc</a>: åŒ…å«æœåŠ¡å™¨ç«¯çš„å®ç°</li></ul><p>å¦‚æœè¦ç”Ÿæˆpython æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment"># å®‰è£…ä¾èµ–</span></span><br><span class="line">pip3 install grpcio-tools</span><br><span class="line">python -m grpc_tools.protoc -I. --python_out=. --grpc_python_out=. login.proto</span><br></pre></td></tr></table></figure><h2 id="3-æœåŠ¡å™¨ä»£ç "><a class="markdownIt-Anchor" href="#3-æœåŠ¡å™¨ä»£ç "></a> 3. æœåŠ¡å™¨ä»£ç </h2><p>ä¸‹é¢æˆ‘ä»¬æ¥ç¼–å†™æœåŠ¡å™¨ä»£ç </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;grpcpp/grpcpp.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;login.pb.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;login.grpc.pb.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LoginServiceImpl</span> <span class="keyword">final</span> : <span class="keyword">public</span> tutorial::LoginService::Service</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function">grpc::Status <span class="title">login</span><span class="params">(::grpc::ServerContext *context, <span class="type">const</span> ::tutorial::LoginInfo *request, ::tutorial::LoginResponse *response)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot; usrname: &quot;</span> &lt;&lt; request-&gt;<span class="built_in">usrname</span>() &lt;&lt; <span class="string">&quot; password: &quot;</span> &lt;&lt; request-&gt;<span class="built_in">password</span>() &lt;&lt; std::endl;</span><br><span class="line">        <span class="function">std::string <span class="title">msg</span><span class="params">(<span class="string">&quot;Login successfully!&quot;</span>)</span></span>;</span><br><span class="line">        response-&gt;<span class="built_in">set_status_code</span>(<span class="number">0</span>);</span><br><span class="line">        response-&gt;<span class="built_in">set_message</span>(msg);</span><br><span class="line">        <span class="keyword">return</span> grpc::Status::OK;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argv, <span class="type">char</span> **argc)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">const</span> std::string server_address = <span class="string">&quot;localhost:50051&quot;</span>;</span><br><span class="line">    LoginServiceImpl service = <span class="built_in">LoginServiceImpl</span>();</span><br><span class="line"></span><br><span class="line">    grpc::ServerBuilder builder;</span><br><span class="line">    builder.<span class="built_in">AddListeningPort</span>(server_address, grpc::<span class="built_in">InsecureServerCredentials</span>());</span><br><span class="line">    builder.<span class="built_in">RegisterService</span>(&amp;service);</span><br><span class="line"></span><br><span class="line">    <span class="function">std::unique_ptr&lt;grpc::Server&gt; <span class="title">server</span><span class="params">(builder.BuildAndStart())</span></span>;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Server listening on &quot;</span> &lt;&lt; server_address &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    server-&gt;<span class="built_in">Wait</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-å®¢æˆ·ç«¯ä»£ç "><a class="markdownIt-Anchor" href="#4-å®¢æˆ·ç«¯ä»£ç "></a> 4. å®¢æˆ·ç«¯ä»£ç </h2><p>ä¸‹é¢æˆ‘ä»¬æ¥ç¼–å†™å®¢æˆ·ç«¯ä»£ç </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;grpcpp/grpcpp.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;login.pb.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;login.grpc.pb.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"></span><br><span class="line">std::unordered_map&lt;std::string, std::string&gt; user_maps = &#123;</span><br><span class="line">    &#123;<span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="string">&quot;123456&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;æå››&quot;</span>, <span class="string">&quot;666666&quot;</span>&#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">const</span> std::string server_address = <span class="string">&quot;localhost:50051&quot;</span>;</span><br><span class="line">    grpc::ChannelArguments channel_args;</span><br><span class="line">    channel_args.<span class="built_in">SetMaxReceiveMessageSize</span>(<span class="number">1024</span> * <span class="number">1024</span> * <span class="number">1024</span>); <span class="comment">// 1GB</span></span><br><span class="line">    channel_args.<span class="built_in">SetMaxSendMessageSize</span>(<span class="number">1024</span> * <span class="number">1024</span> * <span class="number">1024</span>);</span><br><span class="line">    <span class="keyword">auto</span> channel = grpc::<span class="built_in">CreateCustomChannel</span>(</span><br><span class="line">        server_address,</span><br><span class="line">        grpc::<span class="built_in">InsecureChannelCredentials</span>(),</span><br><span class="line">        channel_args);</span><br><span class="line">    std::unique_ptr&lt;tutorial::LoginService::Stub&gt; stub = tutorial::LoginService::<span class="built_in">NewStub</span>(channel);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> user : user_maps)</span><br><span class="line">    &#123;</span><br><span class="line">        tutorial::LoginInfo info;</span><br><span class="line">        tutorial::LoginResponse res;</span><br><span class="line">        info.<span class="built_in">set_usrname</span>(user.first);</span><br><span class="line">        info.<span class="built_in">set_password</span>(user.second);</span><br><span class="line">        grpc::ClientContext context;</span><br><span class="line">        grpc::Status status = stub-&gt;<span class="built_in">login</span>(&amp;context, info, &amp;res);</span><br><span class="line">        <span class="keyword">if</span> (!status.<span class="built_in">ok</span>())</span><br><span class="line">        &#123;</span><br><span class="line">            std::cerr &lt;&lt; <span class="string">&quot;æ£€æŸ¥ç½‘ç»œæ˜¯å¦å‘ç”Ÿé”™è¯¯: &quot;</span> &lt;&lt; status.<span class="built_in">error_message</span>() &lt;&lt; std::endl;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!res.<span class="built_in">status_code</span>() == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            std::cerr &lt;&lt; user.first &lt;&lt; <span class="string">&quot;æ³¨å†Œå¤±è´¥: &quot;</span> &lt;&lt; res.<span class="built_in">message</span>() &lt;&lt; std::endl;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        std::cerr &lt;&lt; user.first &lt;&lt; <span class="string">&quot;æ³¨å†ŒæˆåŠŸ: &quot;</span> &lt;&lt; res.<span class="built_in">message</span>() &lt;&lt; std::endl;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-ç¼–è¯‘"><a class="markdownIt-Anchor" href="#5-ç¼–è¯‘"></a> 5. ç¼–è¯‘</h2><p>æµ‹è¯•è¿‡Makefileï¼Œç¼–è¯‘ä¾èµ–åº“å¤ªå¤šï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚å»ºè®®ä½¿ç”¨cmakeæ¯”è¾ƒå¥½å¤„ç†ï¼Œ CMakeLists.txt å¦‚ä¸‹ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">cmake_minimum_required(VERSION 3.8)</span><br><span class="line"></span><br><span class="line">project(Tutorial C CXX)</span><br><span class="line"></span><br><span class="line">set(_PROTOBUF_LIBPROTOBUF protobuf::libprotobuf)</span><br><span class="line">find_package(Threads REQUIRED)</span><br><span class="line">set(_REFLECTION gRPC::grpc++_reflection)</span><br><span class="line">find_package(Protobuf CONFIG REQUIRED)</span><br><span class="line">set(_GRPC_GRPCPP gRPC::grpc++)</span><br><span class="line">find_package(gRPC CONFIG REQUIRED)</span><br><span class="line"></span><br><span class="line">set(PROTO_SRCS login.grpc.pb.cc login.pb.cc)</span><br><span class="line"></span><br><span class="line">set(CMAKE_CXX_STANDARD 17)</span><br><span class="line"></span><br><span class="line">add_executable(login_client $&#123;PROTO_SRCS&#125; client.cpp)</span><br><span class="line">add_executable(login_server $&#123;PROTO_SRCS&#125; server.cpp)</span><br><span class="line"></span><br><span class="line">target_link_libraries(login_client</span><br><span class="line">    absl::flags</span><br><span class="line">    absl::flags_parse</span><br><span class="line">    $&#123;_REFLECTION&#125;</span><br><span class="line">    $&#123;_GRPC_GRPCPP&#125;</span><br><span class="line">    $&#123;_PROTOBUF_LIBPROTOBUF&#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">target_link_libraries(login_server</span><br><span class="line">    absl::flags</span><br><span class="line">    absl::flags_parse</span><br><span class="line">    $&#123;_REFLECTION&#125;</span><br><span class="line">    $&#123;_GRPC_GRPCPP&#125;</span><br><span class="line">    $&#123;_PROTOBUF_LIBPROTOBUF&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> build &amp;&amp; <span class="built_in">cd</span> build</span><br><span class="line">cmake ..</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make login_server login_client</span><br></pre></td></tr></table></figure><p>å…ˆè¿è¡ŒæœåŠ¡å™¨ï¼Œå†è¿è¡Œå®¢æˆ·ç«¯ï¼ŒæœåŠ¡å™¨ç«¯çœ‹åˆ°æ­£å¸¸æ‰“å°æ—¶ï¼Œæ­å–œä½ å®Œæˆäº†ç¬¬ä¸€ä¸ªC++é€šè®¯ç¨‹åº</p><h2 id="6-æ•…éšœè§£å†³"><a class="markdownIt-Anchor" href="#6-æ•…éšœè§£å†³"></a> 6. æ•…éšœè§£å†³</h2><p>æ•…éšœä¸€ï¼š<br />åœ¨ç¼–è¯‘æ—¶å¯èƒ½ä¼šé‡åˆ°protocolç‰ˆæœ¬å†²çªï¼Œå‡ºç°å¦‚ä¸‹æŠ¥é”™(<code>error: #error PROTOBUF_VERSION was previously defined</code>)ï¼š<br /><img src="457ddd3209dd448ea72244a3f94a5564.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />è¯´æ˜grpcä¸­ä½¿ç”¨çš„protocolå’Œæœ¬åœ°ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œéœ€è¦ä¿è¯ä¸¤ä¸ªç‰ˆæœ¬ä¸€è‡´ï¼Œä¸¤ä¸ªè§£å†³æ–¹æ³•</p><ol><li>æ–¹æ³•ä¸€ï¼š<br />æˆ–è€…å¸è½½æ‰æœ¬åœ°ç‰ˆæœ¬ï¼Œå¸è½½æŒ‡ä»¤<br />å…ˆæŸ¥çœ‹ä½ç½®</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">which</span> protoc</span><br><span class="line"><span class="comment"># protoc: /usr/local/bin/protoc</span></span><br></pre></td></tr></table></figure><p>åˆ é™¤å¯æ‰§è¡Œå’Œåº“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -rf /usr/local/bin/protoc <span class="comment">#å¯æ‰§è¡Œ</span></span><br><span class="line">sudo <span class="built_in">rm</span> -rf /usr/local/include/google/protobuf <span class="comment">#å¤´æ–‡ä»¶</span></span><br><span class="line">sudo <span class="built_in">rm</span> -rf /usr/local/lib/libproto* <span class="comment"># åº“æ–‡ä»¶</span></span><br></pre></td></tr></table></figure><p>é…ç½®grpcçš„binåˆ°pathä¸­</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:&lt;your grpc install path&gt;/bin</span><br></pre></td></tr></table></figure><p>ç„¶åæŸ¥çœ‹protocæ˜¯å¦æ˜¯ä½¿ç”¨çš„grpcä¸­çš„protoc</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">which</span> protoc </span><br></pre></td></tr></table></figure><ol start="2"><li>æ–¹æ³•äºŒ<br />å…ˆæ£€æŸ¥ä½ çš„grpcä½¿ç”¨çš„protocç‰ˆæœ¬ï¼Œç„¶åå®‰è£…ç›¸åº”ç‰ˆæœ¬</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;your grpc install path&gt;/bin/protoc --version</span><br><span class="line"><span class="comment"># libprotoc 25.1</span></span><br></pre></td></tr></table></figure><p>æ•…éšœäºŒï¼š<br /><img src="2ca1a519fdfc49b2845b790cf68c01aa.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ä½¿ç”¨C++17å¯ä»¥è§£å†³</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
            <tag> RPC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windowså®‰è£…vcpkgæ•™ç¨‹ï¼ˆVS2022ï¼‰</title>
      <link href="/2025/04/30/VS/Windows%E5%AE%89%E8%A3%85vcpkg%E6%95%99%E7%A8%8B%EF%BC%88VS2022%EF%BC%89/"/>
      <url>/2025/04/30/VS/Windows%E5%AE%89%E8%A3%85vcpkg%E6%95%99%E7%A8%8B%EF%BC%88VS2022%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€-å…³äºvcpkg"><a class="markdownIt-Anchor" href="#ä¸€-å…³äºvcpkg"></a> ä¸€ã€å…³äºvcpkg</h3><p><strong>vcpkg</strong> æ˜¯ä¸€ä¸ªå¼€æºçš„ C++ åŒ…ç®¡ç†å·¥å…·ï¼Œæ—¨åœ¨ç®€åŒ– C++ åº“çš„ç®¡ç†ã€å®‰è£…å’Œé›†æˆã€‚å®ƒå¸®åŠ©å¼€å‘è€…è½»æ¾åœ°å°†ç¬¬ä¸‰æ–¹ C++ åº“é›†æˆåˆ°è‡ªå·±çš„é¡¹ç›®ä¸­ï¼Œå¹¶æä¾›äº†ä¸€ç§è·¨å¹³å°çš„æ–¹å¼æ¥ç®¡ç†å’Œåˆ†å‘ C++ åº“ã€‚vcpkg æ”¯æŒ Windowsã€Linux å’Œ macOSï¼Œèƒ½å¤Ÿè‡ªåŠ¨å¤„ç†åº“çš„ä¸‹è½½ã€æ„å»ºå’Œä¾èµ–å…³ç³»ï¼Œæå¤§åœ°ç®€åŒ–äº† C++ å¼€å‘ä¸­çš„å¤–éƒ¨åº“ç®¡ç†é—®é¢˜ã€‚</p><p><img src="c84979b4ac4149cfa1f837000086e65b.png" alt="" /></p><p>vcpkgä¸å…¶å®ƒç®¡ç†å·¥å…·çš„å¯¹æ¯”ï¼š</p><ol><li><p><strong>vcpkg vs Conan</strong>ï¼š</p><ul><li><strong>Conan</strong> æ˜¯å¦ä¸€ä¸ªæµè¡Œçš„ C++ åŒ…ç®¡ç†å·¥å…·ï¼Œæ—¨åœ¨ç®€åŒ– C++ é¡¹ç›®çš„ä¾èµ–ç®¡ç†ã€‚Conan æä¾›æ›´å¼ºå¤§çš„è·¨å¹³å°æ”¯æŒï¼Œæ”¯æŒä¸å¤šç§æ„å»ºç³»ç»Ÿï¼ˆå¦‚ CMakeã€Visual Studioã€Make ç­‰ï¼‰é›†æˆã€‚</li><li><strong>vcpkg</strong> æ›´æ³¨é‡ä¸ Visual Studio å’Œ CMake çš„æ— ç¼é›†æˆï¼Œå¹¶æä¾›äº†æ›´ä¸ºç®€å•çš„å‘½ä»¤è¡Œç•Œé¢å’Œå®‰è£…æ–¹å¼ã€‚</li><li><strong>å·®å¼‚</strong>ï¼švcpkg ä¸»è¦ç”¨äºç®¡ç†ç”± Microsoft å’Œå…¶ä»–å¼€æºç¤¾åŒºæä¾›çš„ C++ åº“ï¼Œå¹¶ä¸”é€šå¸¸æ”¯æŒ Windows å’Œ Linux/macOS å¹³å°ã€‚è€Œ Conan æ”¯æŒæ›´å¤šçš„æ„å»ºç³»ç»Ÿã€ç‰ˆæœ¬å’Œé…ç½®ï¼Œå¯ä»¥ä¸ºå¤šç§å¹³å°æä¾›æ›´å¤šå®šåˆ¶é€‰é¡¹ã€‚</li></ul></li><li><p><strong>vcpkg vs è‡ªè¡Œç®¡ç†ä¾èµ–</strong>ï¼š åœ¨æ²¡æœ‰ vcpkg çš„æƒ…å†µä¸‹ï¼Œå¼€å‘è€…éœ€è¦æ‰‹åŠ¨ä¸‹è½½ã€æ„å»ºå’Œé›†æˆå¤–éƒ¨åº“ï¼Œç®¡ç†æ‰€æœ‰çš„ä¾èµ–å…³ç³»ã€‚è¿™ä¸ä»…è€—æ—¶ï¼Œè€Œä¸”å®¹æ˜“å‡ºé”™ã€‚vcpkg æä¾›äº†ä¸€ä¸ªç®€å•ã€é«˜æ•ˆçš„æ–¹å¼æ¥è‡ªåŠ¨å¤„ç†è¿™äº›ä»»åŠ¡ï¼Œå‡å°‘äº†äººå·¥é”™è¯¯çš„å‘ç”Ÿã€‚</p></li></ol><p>vcpkgçš„ä¼˜ç‚¹ï¼š</p><ul><li><strong>æ˜“ç”¨æ€§</strong>ï¼šé€šè¿‡å‘½ä»¤è¡Œä¸€è¡Œå‘½ä»¤å®‰è£…ã€å¸è½½åº“ï¼Œç®€åŒ–äº† C++ é¡¹ç›®ä¸­åº“çš„ç®¡ç†ã€‚</li><li><strong>è·¨å¹³å°æ”¯æŒ</strong>ï¼šæ”¯æŒ Windowsã€Linux å’Œ macOSï¼Œè®©åŒä¸€ä¸ªé¡¹ç›®å¯ä»¥åœ¨å¤šä¸ªå¹³å°ä¸Šä½¿ç”¨ç›¸åŒçš„ä¾èµ–ã€‚</li><li><strong>è‡ªåŠ¨åŒ–ä¾èµ–ç®¡ç†</strong>ï¼šè‡ªåŠ¨å¤„ç†åº“çš„æ„å»ºå’Œä¾èµ–å…³ç³»ï¼Œä¸éœ€è¦æ‰‹åŠ¨è§£å†³ç‰ˆæœ¬å’Œä¾èµ–å†²çªã€‚</li><li><strong>ä¸ CMake å®Œç¾é›†æˆ</strong>ï¼šé€šè¿‡ <code>CMAKE_TOOLCHAIN_FILE</code> é…ç½®ï¼Œvcpkg èƒ½è‡ªåŠ¨é…ç½® CMake é¡¹ç›®ï¼Œçœå»äº†æ‰‹åŠ¨é…ç½®è·¯å¾„çš„éº»çƒ¦ã€‚</li></ul><h3 id="äºŒ-å¼€å‘ç¯å¢ƒ"><a class="markdownIt-Anchor" href="#äºŒ-å¼€å‘ç¯å¢ƒ"></a> äºŒã€å¼€å‘ç¯å¢ƒ</h3><p>1.æ“ä½œç³»ç»Ÿï¼šWin10/Win11</p><p>2.å¼€å‘å·¥å…·ï¼šVisual Studio 2022</p><p>3.å¼€å‘è¯­è¨€ï¼šC/C++</p><p>4.Gitç‰ˆæœ¬ï¼š2.47.0.2</p><h3 id="ä¸‰-å®‰è£…git"><a class="markdownIt-Anchor" href="#ä¸‰-å®‰è£…git"></a> ä¸‰ã€å®‰è£…Git</h3><p>åœ¨å®‰è£… vcpkg ä¹‹å‰ï¼Œ<strong>Git</strong> æ˜¯ä¸€ä¸ªå¿…è¦çš„å·¥å…·ï¼Œå› ä¸º vcpkg æ˜¯é€šè¿‡ Git ä» GitHub ä»“åº“å…‹éš†ä¸‹æ¥çš„ã€‚Git æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå…è®¸ä½ ä»è¿œç¨‹ä»“åº“ï¼ˆä¾‹å¦‚ GitHubï¼‰ä¸‹è½½æºä»£ç å¹¶ç®¡ç†ç‰ˆæœ¬ã€‚</p><p>1.ä¸‹è½½åœ°å€ï¼š</p><p>Gitå®˜æ–¹ç½‘å€ï¼šÂ <a href="http://git-scm.com/" title="http://git-scm.com">http://git-scm.com</a>ï¼ˆåŒ…å«ä¸åŒç³»ç»Ÿä¸åŒå¹³å°çš„å®‰è£…åŒ…å’Œæºä»£ç ï¼‰</p><p>é€‚ç”¨äºWindowsçš„Gitä¸‹è½½ç½‘å€ï¼š<a href="http://gitforwindows.org/" title="http://gitforwindows.org">http://gitforwindows.org</a>Â ï¼ˆåªæœ‰ windows ç³»ç»Ÿçš„å®‰è£…åŒ…ï¼‰</p><p>2.å®‰è£…æ­¥éª¤ï¼š</p><p>ä¸‹è½½ååŒå‡»exeè¿›è¡Œå®‰è£…ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="28c14f7445d24f3faf9459ae6dcfc3dd.png" alt="" /></p><p>ç‚¹å‡»nextï¼Œç¬”è€…è®¾ç½®å®‰è£…ä½ç½®ä¸ºD:\METIS\GITã€‚</p><p>æ ¹æ®è‡ªå·±çš„éœ€è¦é€‰æ‹©ç»„ä»¶è¿›è¡Œä¸‹è½½ï¼Œé»˜è®¤å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="dd09defc7f9545c09ec9d03d45d4e931.png" alt="" /></p><p>æ–¹æ¡†å†… <strong>Git</strong> ä¸ºå®‰è£…ç»„ä»¶çš„æ–‡ä»¶å¤¹åç§°ï¼Œå¯æ”¹ä¸ºå…¶ä»–åå­—ï¼Œä¹Ÿå¯ç‚¹å‡» â€œBrowseâ€¦â€ é€‰æ‹©å…¶ä»–æ–‡ä»¶å¤¹æˆ–è€…ç»™&quot;<code>Don't create a Start Menu folder</code>&quot; æ‰“å‹¾ä¸è¦æ–‡ä»¶å¤¹ã€‚</p><p><img src="4972720e4a30408cb5bee5cb79d89daa.png" alt="" /></p><p>åç»­ä¸€ç›´ç‚¹å‡»nextï¼Œé€‰æ‹©é»˜è®¤è®¾ç½®å³å¯ï¼Œå®‰è£…å®Œæˆåç‚¹å‡»finishã€‚</p><p>3.é…ç½®ç¯å¢ƒï¼š</p><p>å®‰è£…å¥½åå°†git.exeçš„è·¯å¾„æ·»åŠ åˆ°ç³»ç»ŸÂ <strong>path</strong>Â ç¯å¢ƒå˜é‡å½“ä¸­å»ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨Windowsç³»ç»Ÿ<strong>Win+R</strong>çš„ç³»ç»Ÿcmdå‘½ä»¤è¡Œä¸­ä½¿ç”¨vcpkgã€‚æˆ‘ä»¬ä¸»è¦ä½¿ç”¨çš„æ˜¯Â <strong>Git CMD</strong>Â ï¼Œå½“æ·»åŠ å®ŒGtiç¯å¢ƒå˜é‡åï¼Œä½ ä¹Ÿå°±å¯ä»¥ä½¿ç”¨Windosç³»ç»Ÿè‡ªå¸¦çš„cmdå‘½ä»¤è¡Œå·¥å…·ã€‚</p><p>å³é”®æ­¤ç”µè„‘-&gt;å±æ€§-&gt;é«˜çº§ç³»ç»Ÿè®¾ç½®-&gt;ç¯å¢ƒå˜é‡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="7072b2abeb7949ed940404d2c8fd3d35.png" alt="" /></p><p>åœ¨ç³»ç»Ÿå˜é‡ä¸­åŒå‡»Pathï¼Œç‚¹å‡»æ–°å»ºï¼Œå°†binæ–‡ä»¶å¤¹çš„åœ°å€å¡«å…¥ï¼Œç¬”è€…åœ°å€ä¸º<strong>D:\METIS\GIT\Git\bin</strong>ï¼Œç‚¹å‡»ç¡®å®šã€‚</p><p><img src="e2ce1eb23fe344fe82829329059208cf.png" alt="" /></p><p>å…¶ä¸­D:\METIS\GITä¸ºå®‰è£…ä½ç½®ï¼ŒGitä¸ºå®‰è£…ç»„ä»¶çš„æ–‡ä»¶å¤¹åã€‚</p><p>4.æ£€æµ‹å®‰è£…æ˜¯å¦æˆåŠŸï¼š</p><p>ä½¿ç”¨å¿«æ·é”®Win+Rï¼Œè¾“å…¥cmdæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git --version</span><br></pre></td></tr></table></figure><p>å¦‚æœ Git å·²æˆåŠŸå®‰è£…å¹¶ä¸”ç¯å¢ƒå˜é‡å·²æ­£ç¡®é…ç½®ï¼Œä½ åº”è¯¥çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„è¾“å‡ºï¼š</p><p><img src="84aa0937230d4e28892dbc2609ce06e9.png" alt="" /></p><p>è¿™è¡¨ç¤ºä½ å®‰è£…çš„ Git ç‰ˆæœ¬ï¼ˆä¾‹å¦‚ç‰ˆæœ¬ <code>2.47.1.windows.2</code>ï¼‰ã€‚å¦‚æœä½ çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„ç‰ˆæœ¬å·è¾“å‡ºï¼Œè¯´æ˜ Git å·²ç»æˆåŠŸå®‰è£…å¹¶é…ç½®å¥½ç¯å¢ƒå˜é‡ã€‚</p><p><img src="f30ce08343964fe6a3576b1e368d3e1d.png" alt="" /></p><h3 id="å››-ä½¿ç”¨-git-å…‹éš†-vcpkg-ä»“åº“"><a class="markdownIt-Anchor" href="#å››-ä½¿ç”¨-git-å…‹éš†-vcpkg-ä»“åº“"></a> å››ã€ä½¿ç”¨ Git å…‹éš† vcpkg ä»“åº“</h3><p>1.ä¸‹è½½åœ°å€ï¼š</p><ul><li><strong>vcpkg å®˜æ–¹ç½‘ç«™</strong>ï¼š<a href="https://vcpkg.io/" title="https://vcpkg.io">https://vcpkg.io</a></li></ul><p>è¿™ä¸ªç½‘ç«™æä¾›äº† vcpkg çš„è¯¦ç»†æ–‡æ¡£ã€å®‰è£…æŒ‡å—ã€ä½¿ç”¨æ•™ç¨‹ä»¥åŠå¦‚ä½•ä¸º vcpkg æ·»åŠ æ–°çš„åº“ç­‰å†…å®¹ï¼Œå¯ä»¥åœ¨è¿™ä¸ªç½‘ç«™ä¸Šæ‰¾åˆ°å…³äº vcpkg çš„æ‰€æœ‰èµ„æºã€‚</p><ul><li><strong>vcpkg GitHub ä»“åº“</strong>ï¼š<a href="https://github.com/microsoft/vcpkg" title="https://github.com/microsoft/vcpkg">https://github.com/microsoft/vcpkg</a></li></ul><p>vcpkg çš„æºä»£ç å’Œè´¡çŒ®æŒ‡å—éƒ½æ‰˜ç®¡åœ¨ GitHub ä¸Šï¼Œåœ¨ GitHub ä¸Šå¯ä»¥æ‰¾åˆ° vcpkg çš„æºä»£ç ã€å‘å¸ƒå†å²ä»¥åŠå…¶ä»–å¼€å‘è€…çš„è´¡çŒ®ã€‚ï¼ˆæœ¬æ–‡å®‰è£…æ–¹æ³•ä½¿ç”¨è¯¥ç½‘å€ï¼‰</p><p>2.å‡†å¤‡å·¥ä½œï¼š</p><p>æ–°å»ºç©ºæ–‡ä»¶å¤¹ï¼Œå»ºè®®ä½¿ç”¨<strong>çŸ­è·¯å¾„åç§°ï¼ˆä¸å«ç©ºæ ¼ï¼‰</strong>ï¼ˆå¦‚Â <code>C:\src\win32\</code>Â æˆ–Â <code>C:\dev\iot\</code>ï¼‰ï¼Œç¬”è€…ä»¥D:\vcpkgä¸ºä¾‹ã€‚é¦–å…ˆä¸‹è½½å¼•å¯¼vcpkgï¼Œå®‰è£…ä½ç½®éšæ„ï¼Œä½†æ˜¯ä¸ºäº†ä¹‹åæ–¹ä¾¿ä¸Visual Studioä»¥åŠå…¶ä»–C/C++ç¼–è¯‘å™¨é“¾æ¥ï¼Œå»ºè®®ä½¿ç”¨ç±»ä¼¼ C:\src æˆ–è€… C:\dev ï¼Œå¯ä»¥ç†è§£ä¸ºåœ¨æœ¬åœ°å»ºç«‹ä¸€ä¸ªåº“çš„ä»“åº“ï¼Œä¹‹åæ‰€æœ‰çš„å®‰è£…éƒ½åœ¨è¯¥ç›®å½•ä¸‹ï¼Œå¦åˆ™ä¼šç”±äºè·¯å¾„çš„ç¼˜æ•…ä¼šé‡åˆ°æŸäº›ç«¯å£æ„å»ºç³»ç»Ÿçš„è·¯å¾„é—®é¢˜ã€‚</p><p>3.ä½¿ç”¨ Git å…‹éš† vcpkg ä»“åº“ï¼š</p><p>æ‰“å¼€<strong>Git CMD</strong>å‘½ä»¤è¡Œå·¥å…·ï¼Œä½¿ç”¨Â <strong>cd</strong>Â åˆ°å»ºç«‹çš„ç›®æ ‡è·¯å¾„ï¼ˆæœ¬æ–‡ä»¥D:\vcpkgä¸ºä¾‹ï¼‰</p><p>ä½¿ç”¨ Git å…‹éš† vcpkg ä»“åº“ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/Microsoft/vcpkg</span><br></pre></td></tr></table></figure><p>ç»ˆç«¯å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="dddfb70c211a4490a6836653ab24d4d9.png" alt="" /></p><p>è¿™å°†ä¼šæŠŠ vcpkg ä»“åº“å…‹éš†åˆ°å½“å‰ç›®å½•ä¸­ï¼Œå¹¶åˆ›å»ºä¸€ä¸ª <code>vcpkg</code> æ–‡ä»¶å¤¹ã€‚vcpkg çš„æ‰€æœ‰æºä»£ç å’Œå·¥å…·éƒ½ä¼šè¢«ä¸‹è½½åˆ°è¯¥æ–‡ä»¶å¤¹ä¸­ã€‚</p><p>ä¸‹è½½å®Œæˆå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="4efc6ff128e843c68451b62802abe64e.png" alt="" /></p><p>å†æ¬¡ä½¿ç”¨Â <strong>cd</strong>Â å‘½ä»¤åˆ°vcpkgæ–‡ä»¶è·¯å¾„å†…ï¼ˆæœ¬æ–‡ä»¥D:\vcpkg\vcpkgä¸ºä¾‹ï¼‰</p><p>è¿è¡Œæ„å»ºè„šæœ¬æ¥ç¼–è¯‘ vcpkgï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\bootstrap-vcpkg.bat </span><br></pre></td></tr></table></figure><p>ç»ˆç«¯å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="7e6f7c2f0cea44798ccdd967b074b14f.png" alt="" /></p><p>ä¸‹è½½å®Œæˆåä¼šç¼–è¯‘å¹¶ç”Ÿæˆ <code>vcpkg.exe</code> å·¥å…·ã€‚</p><p>4.é…ç½®ç¯å¢ƒï¼š</p><p>ä¸ºäº†æ–¹ä¾¿åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ vcpkg å‘½ä»¤ï¼Œå¯ä»¥å°† vcpkg çš„è·¯å¾„æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼Œä½¿å…¶åœ¨å‘½ä»¤è¡Œä¸­å…¨å±€å¯ç”¨ã€‚å³é”®æ­¤ç”µè„‘-&gt;å±æ€§-&gt;é«˜çº§ç³»ç»Ÿè®¾ç½®-&gt;ç¯å¢ƒå˜é‡ï¼Œåœ¨ç³»ç»Ÿå˜é‡ä¸­åŒå‡»Pathï¼Œç‚¹å‡»æ–°å»ºï¼Œå°†binæ–‡ä»¶å¤¹çš„åœ°å€å¡«å…¥ï¼Œç¬”è€…åœ°å€ä¸º<strong>D:\vcpkg\vcpkg</strong>ï¼Œç‚¹å‡»ç¡®å®šã€‚</p><p>5.æ£€æµ‹å®‰è£…æ˜¯å¦æˆåŠŸï¼š</p><p>ä½¿ç”¨å¿«æ·é”®Win+Rï¼Œè¾“å…¥cmdæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vcpkg --version</span><br></pre></td></tr></table></figure><p>å¦‚æœvcpkgå·²æˆåŠŸå®‰è£…å¹¶ä¸”ç¯å¢ƒå˜é‡å·²æ­£ç¡®é…ç½®ï¼Œä½ åº”è¯¥çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„è¾“å‡ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vcpkg package management program version 2024-11-12-eb492805e92a2c14a230f5c3deb3e89f6771c321</span><br><span class="line"></span><br><span class="line">See LICENSE.txt <span class="keyword">for</span> license information.</span><br></pre></td></tr></table></figure><p>è¿™è¡¨ç¤º <strong>vcpkg</strong> å·²æˆåŠŸå®‰è£…å¹¶æ­£ç¡®è¿è¡Œã€‚è¾“å‡ºçš„å†…å®¹åŒ…æ‹¬ä»¥ä¸‹ä¿¡æ¯ï¼š</p><p>vcpkgç‰ˆæœ¬å·ï¼š</p><p>è¾“å‡ºä¸­çš„ <code>2024-11-12-eb492805e92a2c14a230f5c3deb3e89f6771c321</code> éƒ¨åˆ†æ˜¯ vcpkg çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚ç‰ˆæœ¬å·åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼š</p><ul><li><strong>æ—¥æœŸ</strong>ï¼š<code>2024-11-12</code> è¡¨ç¤º vcpkg çš„ç‰ˆæœ¬å‘å¸ƒæ—¥æœŸã€‚</li><li><strong>æäº¤å“ˆå¸Œ</strong>ï¼š<code>eb492805e92a2c14a230f5c3deb3e89f6771c321</code> æ˜¯å½“å‰ vcpkg ç‰ˆæœ¬çš„ Git æäº¤å“ˆå¸Œï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰ã€‚</li></ul><p>è¿™æ„å‘³ç€å®‰è£…çš„ vcpkg æ˜¯ä¸€ä¸ªç‰¹å®šæ—¥æœŸå’Œç‰ˆæœ¬çš„æ„å»ºã€‚</p><p>LICENSE.txt æç¤ºï¼š</p><p><code>See LICENSE.txt for license information</code> è¡¨ç¤ºä½ å¯ä»¥æŸ¥çœ‹ vcpkg é¡¹ç›®çš„ <strong>LICENSE.txt</strong> æ–‡ä»¶ï¼Œäº†è§£ vcpkg çš„è®¸å¯åè®®ã€‚</p><p>6.é“¾æ¥Visual Studio 2022ï¼š</p><p>ç»§ç»­åœ¨Git CMDçš„<strong>D:\vcpkg\vcpkg</strong>åœ°å€ä¸‹è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\vcpkg integrate install</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼Œå³é“¾æ¥æˆåŠŸã€‚</p><p><img src="487672f0032248c6a61020e228546702.png" alt="" /></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UE/è™šå¹» è“å›¾å®ç°é€šè¿‡httpè·å–æ•°æ®ï¼ˆä»¥é«˜å¾·åœ°å›¾APIä¸ºä¾‹ï¼‰&amp;Jsonæ ¼å¼æ•°æ®çš„è¯»å–</title>
      <link href="/2025/04/27/UE/UE%E8%99%9A%E5%B9%BB%20%E8%93%9D%E5%9B%BE%E5%AE%9E%E7%8E%B0%E9%80%9A%E8%BF%87http%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%88%E4%BB%A5%E9%AB%98%E5%BE%B7%E5%9C%B0%E5%9B%BEAPI%E4%B8%BA%E4%BE%8B%EF%BC%89&amp;Json%E6%A0%BC%E5%BC%8F%E6%95%B0%E6%8D%AE%E7%9A%84%E8%AF%BB%E5%8F%96/"/>
      <url>/2025/04/27/UE/UE%E8%99%9A%E5%B9%BB%20%E8%93%9D%E5%9B%BE%E5%AE%9E%E7%8E%B0%E9%80%9A%E8%BF%87http%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%88%E4%BB%A5%E9%AB%98%E5%BE%B7%E5%9C%B0%E5%9B%BEAPI%E4%B8%BA%E4%BE%8B%EF%BC%89&amp;Json%E6%A0%BC%E5%BC%8F%E6%95%B0%E6%8D%AE%E7%9A%84%E8%AF%BB%E5%8F%96/</url>
      
        <content type="html"><![CDATA[<p><strong>å‡†å¤‡å·¥ä½œ</strong></p><p><strong>å®‰è£…æ’ä»¶_VictoryPlugin_ä¸_vaRest_</strong></p><p>__VictoryPluginæ’ä»¶åˆ†äº«ï¼š</p><pre><code>é“¾æ¥: https://pan.baidu.com/s/1w4CBf6xK25U0HHzolAFMyQ?pwd=8888 æå–ç : 8888</code></pre><p><em>vaRestå¯åœ¨EPICä¸­è‡ªè¡Œå®‰è£…</em></p><p><strong>æ³¨å†Œé«˜å¾·å¼€å‘å¹³å°è´¦æˆ·</strong></p><p>æ³¨å†Œå®Œæˆåé€‰æ‹©WebæœåŠ¡API</p><p><img src="2238312-20230526092152899-808869936.png" alt="" /></p><p>åœ¨ä½¿ç”¨ä¹‹å‰éœ€è¦è·å–Keyå€¼ï¼Œå…·ä½“å‚è€ƒé«˜å¾·åœ°å›¾æ–‡æ¡£</p><p><img src="2238312-20230526092637364-2125436593.png" alt="" /></p><p>è¿™é‡Œä½¿ç”¨çš„æ˜¯å¤©æ°”æŸ¥è¯¢API</p><p><img src="2238312-20230526092350833-1859759609.png" alt="" /></p><p><strong>ç½‘é¡µä¸­æµ‹è¯•é«˜å¾·APIæ˜¯å¦èƒ½å°†è·å–æˆåŠŸ</strong></p><p>è·å–å¤©æ°”æŸ¥APIåœ°å€ï¼Œè­¬å¦‚æŸ¥è¯¢å—æ˜Œå¸‚å¤©æ°”ï¼š<a href="https://restapi.amap.com/v3/weather/weatherInfo?key=%E4%BD%A0%E7%9A%84%E5%BA%94%E7%94%A8Key%E5%80%BC&amp;city=360100">https://restapi.amap.com/v3/weather/weatherInfo?key=ä½ çš„åº”ç”¨Keyå€¼&amp;city=360100</a></p><p>ä¸­é—´ä½¿ç”¨&amp;è¿æ¥ï¼ŒåŸå¸‚ç å¯ä»¥ç›´æ¥é€šè¿‡æ–‡æ¡£è§„æ ¼è¯´æ˜ä¸‹è½½ç›¸å…³è¡¨æ ¼</p><p><img src="2238312-20230526092905102-1610339631.png" alt="" /></p><p>æŸ¥è¯¢ç»“æœï¼š</p><p><img src="2238312-20230526093206396-1547324137.png" alt="" /></p><p><strong>åœ¨è™šå¹»ä¸­é€šè¿‡HTTPè·å–æ•°æ®</strong></p><p><img src="2238312-20230526093740947-397904837.png" alt="" /></p><p><em>éœ€è¦ä½¿ç”¨vaRestæ’ä»¶ï¼Œéœ€è¦ä½¿ç”¨éœ€è¦åœ¨æ’ä»¶ä¸­å¼€å¯æ’ä»¶ï¼Œå¹¶å°†èŠ‚ç‚¹ç›¸å…³æ€§å…³é—­</em></p><p>å°†åœ°å€ç²˜è´´åˆ°URLä¸­ï¼Œé€‰æ‹©è·å–æ–¹å¼ä¸ºGETï¼Œå†…å®¹ç±»å‹ä¸ºx-www-from-urlencoded(URl)ï¼Œå¦‚æœé€‰æ‹©JSONä¼šè·å–å¤±è´¥</p><p>æœ€åä¼šå°†è·å–çš„æ•°æ®è¿”å›åˆ°å›è°ƒå‡½æ•°ä¸­ï¼Œè¿™é‡Œç›´æ¥å°†å…¶æ‰“å°</p><p><img src="2238312-20230526094156598-1932175623.png" alt="" /></p><p><strong>JSONæ•°æ®çš„è¯»å–</strong></p><p><strong>å­˜å‚¨JSONæ•°æ®</strong></p><p><img src="2238312-20230526095209022-927059663.png" alt="" /></p><p>FileIOSaveStringArraytoFileæœ€ä¸‹é¢ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯å…è®¸å†™è¦†ç›–å’Œå…è®¸æ·»åŠ ï¼Œå¦‚æœå‹¾é€‰å…è®¸æ·»åŠ ï¼Œé‚£æ¯æ¬¡æ›´æ–°æ•°æ®éƒ½ä¼šä»¥æ–°çš„ä¸€æ¡æ•°æ®å‡ºç°åœ¨æ–‡ä»¶ä¸­ï¼Œ</p><p>æ–¹ä¾¿æµ‹è¯•ç›´æ¥è·å–ä¸¤ä¸ªåŸå¸‚çš„æ•°æ®è¿›è¡Œå­˜å‚¨</p><p><img src="2238312-20230526095521554-962428796.png" alt="" /></p><p>æŸ¥çœ‹ç»“æœï¼Œå¯ä»¥ç”Ÿæˆç›¸å¯¹åº”jsonæ–‡ä»¶ï¼Œå¹¶ä¸”æ–‡ä»¶ä¸­æˆåŠŸå­˜å‚¨äº†è·å–çš„æ•°æ®ï¼š</p><p><img src="2238312-20230526095709414-456022415.png" alt="" /></p><p><strong>è¯»å–JSONæ–‡ä»¶æ•°æ®</strong></p><p><img src="2238312-20230526100017194-1128595294.png" alt="" /></p><p>è¯»å–å¾—åˆ°æ–‡ä»¶ä¸­çš„æ•°æ®</p><p><img src="2238312-20230526100123209-308099802.png" alt="" /></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++ ä¼šè¯æš´éœ²ç»™è“å›¾ ï¼Œæ— æ³•è¯†åˆ«ä¼šè¯ç›¸å…³ç±»å‹</title>
      <link href="/2025/04/27/UE/UEC++%20%E4%BC%9A%E8%AF%9D%E6%9A%B4%E9%9C%B2%E7%BB%99%E8%93%9D%E5%9B%BE%20%EF%BC%8C%E6%97%A0%E6%B3%95%E8%AF%86%E5%88%AB%E4%BC%9A%E8%AF%9D%E7%9B%B8%E5%85%B3%E7%B1%BB%E5%9E%8B/"/>
      <url>/2025/04/27/UE/UEC++%20%E4%BC%9A%E8%AF%9D%E6%9A%B4%E9%9C%B2%E7%BB%99%E8%93%9D%E5%9B%BE%20%EF%BC%8C%E6%97%A0%E6%B3%95%E8%AF%86%E5%88%AB%E4%BC%9A%E8%AF%9D%E7%9B%B8%E5%85%B3%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<p>åœ¨å®åœ¨è”ç½‘åŠŸèƒ½æ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦è·å–åˆ°ä¼šè¯ç±»å‹ï¼Œå½“æˆ‘ä»¬éœ€è¦åœ¨è“å›¾ä¸­ä½¿ç”¨è¿™äº›ç±»å‹çš„æ—¶å€™ã€‚å¦‚æœæˆ‘ä»¬ç›´æ¥åœ¨å¤´æ–‡ä»¶ä¸­ç›´æ¥ä½¿ç”¨ä¼šè¯ç›¸å…³ç±»å‹åœ¨ç¼–è¯‘æ—¶å°±ä¼šæŠ¥é”™</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Unrecognized type â€œä½ æ‰€å¼•ç”¨çš„ç±»â€ - type must be a UCLASSï¼ŒUSTRUCT or UENUM</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™å°±éœ€è¦åˆ©ç”¨ç»“æ„ä½“å¯¹éœ€è¦ä½¿ç”¨çš„ä¼šè¯ç±»å‹è¿›è¡Œä¸€ä¸ªåŒ…è£…ï¼Œå…·ä½“çš„å®ç°æ–¹å¼æˆ‘ä»¬å¯ä»¥å€Ÿé‰´ï¼ˆ<strong>å¯¹ï¼Œæ˜¯å€Ÿé‰´ä¸æ˜¯æŠ„</strong>ï¼‰ BlueprintSession çš„å®ç°å½¢å¼ã€‚æ‰¾åˆ°ç›¸å…³å¤´æ–‡ä»¶</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\å¼•æ“å®‰è£…è·¯å¾„\Engine\Plugins\Online\OnlineSubsystemUtils\Source\OnlineSubsystemUtils\Classes\FindSessionsCallbackProxy.h</span><br></pre></td></tr></table></figure><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\å¼•æ“å®‰è£…è·¯å¾„\Engine\Plugins\Online\OnlineSubsystemUtils\Source\OnlineSubsystemUtils\Private\FindSessionsCallbackProxy.cpp</span><br></pre></td></tr></table></figure><p>è¿™é‡Œåªä»–ä»¬çš„å±•ç¤ºéƒ¨åˆ†ä»£ç ï¼Œå…·ä½“å¯ä»¥è‡ªå·±å»æ‰¾è¿™ä¸¤ä¸ªæ–‡ä»¶çœ‹</p><p>FindSessionsCallbackProxy.h ç›¸å…³ç±»å‹çš„å°è£…</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">USTRUCT</span>(BlueprintType)</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">FBlueprintSessionResult</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">GENERATED_USTRUCT_BODY</span>()</span><br><span class="line"></span><br><span class="line">    FOnlineSessionSearchResult OnlineResult;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ç»¼ä¸Šï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾—å‡ºæˆ‘ä»¬éœ€è¦çš„ä»£ç </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">USTRUCT</span>(BlueprintType)</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">FSearchResultSession</span> &#123;</span><br><span class="line">    <span class="built_in">GENERATED_USTRUCT_BODY</span>()</span><br><span class="line">    FOnlineSessionSearchResult OnlineResult; <span class="comment">// æ³¨æ„æ­¤å¤„ä¸è¦æ·»åŠ UPROPERTY ä¸ç„¶åˆå¾—æ‰¾ä¸åˆ°äº†</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// ä»¥ä¸‹ä¸ºç±»å‹å®ç°ï¼Œæ³¨æ„åœ¨ç»“æ„ä½“å†…æ˜¯æ— æ³•ä½¿ç”¨ UFUNCTION çš„</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">UFUNCTION</span>(BlueprintPure)</span><br><span class="line"><span class="function"><span class="type">static</span> int32 <span class="title">GetPingInMs</span><span class="params">(<span class="type">const</span> FSearchResultSession&amp; ResultSession)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ResultSession.OnlineResult.PingInMs;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">UFUNCTION</span>(BlueprintPure)</span><br><span class="line"><span class="function"><span class="type">static</span> FString <span class="title">GetServerName</span><span class="params">(<span class="type">const</span> FSearchResultSession&amp; ResultSession)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ResultSession.OnlineResult.Session.OwningUserName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">UFUNCTION</span>(BlueprintPure)</span><br><span class="line"><span class="function"><span class="type">static</span> int32 <span class="title">GetCurrentPlayer</span><span class="params">(<span class="type">const</span> FSearchResultSession&amp; ResultSession)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ResultSession.OnlineResult.Session.SessionSettings.NumPublicConnections - ResultSession.OnlineResult.Session.NumOpenPublicConnections;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">UFUNCTION</span>(BlueprintPure)</span><br><span class="line"><span class="function"><span class="type">static</span> int32 <span class="title">GetMaxPlayer</span><span class="params">(<span class="type">const</span> FSearchResultSession&amp; ResultSession)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ResultSession.OnlineResult.Session.SessionSettings.NumPublicConnections;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éœ€è¦å…¶ä»–ä»€ä¹ˆåŠŸèƒ½å¯ä»¥å¦è¡Œæ·»åŠ ï¼Œæ³¨æ„å‡½æ•°çš„å½¢å‚ç±»å‹æ˜¯è‡ªå·±å®šä¹‰çš„ç»“æ„ä½“åç§°</p><p>è¯•ä¸€è¯•~ emmmmm éå¸¸~å¥½ç”¨ï¼</p><p><img src="2238312-20221206150337097-845521811.png" alt="" /></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UE/è™šå¹» Widget Blueprint could not be loaded because it derives from an invalid class</title>
      <link href="/2025/04/27/UE/UE%E8%99%9A%E5%B9%BB%20Widget%20Blueprint%20could%20not%20be%20loaded%20because%20it%20derives%20from%20an%20invalid%20class/"/>
      <url>/2025/04/27/UE/UE%E8%99%9A%E5%B9%BB%20Widget%20Blueprint%20could%20not%20be%20loaded%20because%20it%20derives%20from%20an%20invalid%20class/</url>
      
        <content type="html"><![CDATA[<p><img src="2238312-20221201191157149-1584620994.png" alt="" /></p><p>Widget Blueprint could not be loaded because it derives from an invalid class</p><p>è“å›¾æ§ä»¶æ— æ³•åŠ è½½ï¼Œå› ä¸ºå®ƒæ¥è‡ªæ— æ•ˆçš„ç±»</p><p><img src="2238312-20221201191324941-608788368.png" alt="" /></p><p>ç”ŸæˆèŠ‚ç‚¹éƒ¨ä»¶å¿…é¡»åˆ›å»ºä¸€ä¸ªç±»</p><p>è¿™æ˜¯æˆ‘åœ¨æ‰“åŒ…ä¸€ä¸ªå«è‡ªå®šä¹‰æ’ä»¶çš„é¡¹ç›®æ—¶å‡ºç°çš„é—®é¢˜</p><p>å‡ºç°é—®é¢˜çš„åŸå› ï¼šåœ¨æ‰“å¼€ç¼–è¯‘å™¨çš„æ—¶å€™ï¼Œæ’ä»¶æ˜¯é»˜è®¤åœ¨ç¼–è¯‘å™¨åŠ è½½å®Œä¹‹åå†å»åŠ è½½æ’ä»¶çš„</p><p>è§£å†³åŠæ³•ï¼š</p><p>åœ¨.upluginæ–‡ä»¶ä¸­å°†</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;LoadingPhase&quot; : &quot;Default&quot;</span><br></pre></td></tr></table></figure><p>æ”¹æˆ</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;LoadingPhase&quot; : &quot;PreDefault&quot;</span><br></pre></td></tr></table></figure><p>æ„æ€æ˜¯å°†æ’ä»¶çš„åŠ è½½é¡ºåºæåˆ°ç¼–è¯‘å™¨åŠ è½½ä¹‹å‰ï¼Œè¿™æ ·å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UE/è™šå¹» é€šè¿‡åœ¨çº¿å­ç³»ç»Ÿè®¿é—®çº¿ä¸ŠæœåŠ¡ï¼ˆOnlineSubsystem/OnlineSubsystemSteamï¼‰</title>
      <link href="/2025/04/27/UE/UE%E8%99%9A%E5%B9%BB%20%E9%80%9A%E8%BF%87%E5%9C%A8%E7%BA%BF%E5%AD%90%E7%B3%BB%E7%BB%9F%E8%AE%BF%E9%97%AE%E7%BA%BF%E4%B8%8A%E6%9C%8D%E5%8A%A1%EF%BC%88OnlineSubsystemOnlineSubsystemSteam%EF%BC%89/"/>
      <url>/2025/04/27/UE/UE%E8%99%9A%E5%B9%BB%20%E9%80%9A%E8%BF%87%E5%9C%A8%E7%BA%BF%E5%AD%90%E7%B3%BB%E7%BB%9F%E8%AE%BF%E9%97%AE%E7%BA%BF%E4%B8%8A%E6%9C%8D%E5%8A%A1%EF%BC%88OnlineSubsystemOnlineSubsystemSteam%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘ä»¬é€šè¿‡Steamè®¿é—®çº¿ä¸ŠæœåŠ¡ä¸çŸ¥é“æ€ä¹ˆé…ç½®çš„å¯ä»¥çœ‹æˆ‘çš„å¦ä¸€ç¯‡Â <strong>[UE /è™šå¹» Steamé…ç½®]</strong></p><p>é…ç½®å®Œæˆååœ¨è§’è‰²ç±»çš„å¤´æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªå˜é‡ç”¨äºå­˜å‚¨è·å–åˆ°çš„ä¼šè¯æ¥å£</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// æŒ‡å‘åœ¨çº¿ä¼šè¯æ¥å£çš„æŒ‡é’ˆ</span></span><br><span class="line">    <span class="comment">// #include &quot;Interfaces/OnlineSessionInterface.h&quot; æ·»åŠ å¤´æ–‡ä»¶</span></span><br><span class="line">    IOnlineSessionPtr OnlineSessionInterface; </span><br><span class="line">    <span class="comment">// IOnlineSessionPtr å°±æ˜¯ TSharedPtr&lt;class IOnlineSession, ESPMode::ThreadSafe&gt;</span></span><br><span class="line">    <span class="comment">// TSharedPtr&lt;class IOnlineSession, ESPMode::ThreadSafe&gt; OnlineSessionInterface;</span></span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨è§’è‰²ç±»çš„æ„é€ å‡½æ•°ä¸­è·å–åˆ°åœ¨çº¿å­ç³»ç»Ÿï¼Œå¹¶é€šè¿‡åœ¨çº¿å­ç³»ç»Ÿè·å–ä¼šè¯æ¥å£ï¼Œç„¶åæ‰“å°å‡ºåœ¨çº¿å­ç³»ç»Ÿçš„åç§°</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// #include &quot;OnlineSubsystem.h&quot;</span></span><br><span class="line">IOnlineSubsystem* OnlineSubsystem = IOnlineSubsystem::<span class="built_in">Get</span>();</span><br><span class="line"><span class="keyword">if</span> (OnlineSubsystem)</span><br><span class="line">&#123;</span><br><span class="line">    OnlineSessionInterface = OnlineSubsystem-&gt;<span class="built_in">GetSessionInterface</span>();</span><br><span class="line">    <span class="keyword">if</span> (GEngine) &#123;</span><br><span class="line">        GEngine-&gt;<span class="built_in">AddOnScreenDebugMessage</span>(<span class="number">-1</span>, <span class="number">15.f</span>, FColor::Red,</span><br><span class="line">            FString::<span class="built_in">Printf</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;Found Subsystem %s&quot;</span>), *OnlineSubsystem-&gt;<span class="built_in">GetSubsystemName</span>().<span class="built_in">ToString</span>()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›´æ¥åˆ©ç”¨UEç¼–è¯‘å™¨è¿è¡Œï¼Œæ— è®ºä½¿ç”¨é‚£ç§è¿è¡Œæ–¹å¼ï¼Œå‘ç°æ‰“å°æ˜¾ç¤ºéƒ½ä¸ºNULL</p><p>è¿™ä¸æ˜¯NULLæŒ‡é’ˆï¼Œè€Œæ˜¯è™šå¹»ä¸­æœ‰ä¸€ä¸ªåä¸ºNULLçš„åœ¨çº¿å­ç³»ç»Ÿï¼Œå®ƒæ˜¯ä¸ºé™†åœ°è¿æ¥è®¾è®¡çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡é™†åœ°è¿æ¥æµ‹è¯•åœ¨çº¿å­ç³»ç»Ÿ</p><p>ç»“æœæ˜¾ç¤ºï¼š<br />Found Subsystem NULL</p><p>æˆ‘ä»¬å°†é¡¹ç›®æ‰“åŒ…è¿è¡Œï¼Œå‘ç°è¿™æ—¶ï¼Œæ‰“å°æ˜¾ç¤ºä¸ºSteamè¿æ¥ï¼Œå¹¶ä¸”å³ä¸‹è§’æœ‰Steamå¼¹çª—ï¼Œè¿™è¡¨ç¤ºæˆ‘ä»¬å·²ç»æ‰¾åˆ°äº†Steaåœ¨çº¿å­ç³»ç»Ÿ</p><p>ç»“æœæ˜¾ç¤ºï¼š<br />Found Subsystem Steam</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UE /è™šå¹» Steamé…ç½®</title>
      <link href="/2025/04/27/UE/UE%20%E8%99%9A%E5%B9%BB%20Steam%E9%85%8D%E7%BD%AE/"/>
      <url>/2025/04/27/UE/UE%20%E8%99%9A%E5%B9%BB%20Steam%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>ç¬¬ä¸€æ­¥ï¼šåœ¨é¡¹ç›®æ’ä»¶ä¸­ï¼Œæ‰“å¼€Online Subsystem Steam</p><p><img src="2238312-20221120204818414-213547672.png" alt="" />Â <img src="2238312-20221120204846585-565047821.png" alt="" /></p><p>ç¬¬äºŒæ­¥ï¼šæ‰“å¼€é¡¹ç›®C++æ–‡ä»¶ï¼Œåœ¨ .Build.csæ–‡ä»¶ä¸‹çš„å…¬å…±ä¾èµ–æ¨¡å—åç§°ä¸­æ·»åŠ  OnlineSubsystem å’Œ OnlineSubsystem</p><p><img src="2238312-20221120205237724-1622561636.png" alt="" /></p><p>ç¬¬ä¸‰æ­¥ï¼šæ‰¾åˆ°å®˜æ–¹æ–‡æ¡£çš„OnlineSubsystemSteamçš„DefaultEngine.iniä¸­éœ€è¦æ·»åŠ çš„é…ç½®ï¼Œå¹¶æ‰¾åˆ°å½“å‰é¡¹ç›®æ–‡ä»¶å¤¹å†…çš„è¯¥æ–‡ä»¶ï¼Œå°†é…ç½®å†…å®¹æ·»åŠ ä¸Šå»ï¼Œå…¶ä¸­ SteamDevAppId æ—¢å¼€å‘è€…åº”ç”¨IDéœ€è¦è‡ªå·±å»Steamç”³è¯·ï¼Œè¿™é‡Œ480æ˜¯Steamâ€œå¤ªç©ºæˆ˜â€ä½¿ç”¨çš„å¼€å‘ID</p><p><img src="2238312-20221120205355495-1576906574.png" alt="" /></p><p><img src="2238312-20221120205440407-1834051971.png" alt="" /></p><p><img src="2238312-20221120205610565-1645388222.png" alt="" /></p><p>ç¬¬å››æ­¥ï¼šå…³é—­é¡¹ç›®ç¼–è¯‘å™¨å’ŒVisualStudioï¼Œæ‰¾åˆ°é¡¹ç›®æ–‡ä»¶ä¸‹ä¸‰ä¸ªæ–‡ä»¶ï¼Œå°†å…¶åˆ é™¤åé‡æ–°ç”ŸæˆVisualStudioæ–‡ä»¶</p><p><img src="2238312-20221120205652761-1018039057.png" alt="" /></p><p><img src="2238312-20221120205815492-2051352431.png" alt="" /></p><p>ä»¥ä¸Šå°±å®Œæˆäº†UEä¸­çš„Steamé…ç½®</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UE/è™šå¹» ç®€å•å±€åŸŸç½‘è¿æ¥</title>
      <link href="/2025/04/25/UE/UE%E8%99%9A%E5%B9%BB%20%E7%AE%80%E5%8D%95%E5%B1%80%E5%9F%9F%E7%BD%91%E8%BF%9E%E6%8E%A5/"/>
      <url>/2025/04/25/UE/UE%E8%99%9A%E5%B9%BB%20%E7%AE%80%E5%8D%95%E5%B1%80%E5%9F%9F%E7%BD%91%E8%BF%9E%E6%8E%A5/</url>
      
        <content type="html"><![CDATA[<p><strong>è“å›¾å®ç°</strong></p><p>åˆ›å»ºä¸€ä¸ªè”æœºåœ°å›¾ï¼Œæˆ‘å‘½åä¸º â€œÂ onlineMap01 â€ ï¼Œç„¶ååœ¨è§’è‰²è“å›¾ä¸­åˆ›å»ºä¸¤ä¸ªæŒ‰é’®äº‹ä»¶ï¼Œä¸€ä¸ªç”¨äºæ‰“å¼€åœ°å›¾ï¼Œå¦ä¸€ä¸ªç”¨äºåŠ å…¥åˆ›å»ºçš„åœ°å›¾</p><p><img src="2238312-20221120181938683-1527876026.png" alt="" /></p><p>OpenLevelçš„optionsä¸­çš„listenæ˜¯æŒ‡å®šç›‘å¬æœåŠ¡å™¨ï¼Œç®€å•æ¥è¯´å°±æ˜¯å°†å½“å‰ç«¯è®¾ä¸ºæœåŠ¡ç«¯</p><p>å¯ä»¥åˆ©ç”¨UEç¼–è¾‘å™¨ç›´æ¥å¼€ä¸¤ä¸ªæ ‡å‡†çª—å£æµ‹è¯•ï¼Œæˆ–è€…æ‰“åŒ…åˆ°åŒå±€åŸŸç½‘ä¸‹è¿›è¡Œæµ‹è¯•ï¼Œä¸è¿‡å¦‚æœæ˜¯ä¸åŒç”µè„‘ï¼Œåˆ™éœ€è¦ä¿®æ”¹ipåœ°å€ï¼Œä¸€ç«¯å…ˆæŒ‰1é”®ï¼Œåˆ›å»ºåœ°å›¾ï¼Œå¹¶å°†å½“å‰ç«¯è®¾ç½®ä¸ºç›‘å¬æœåŠ¡å™¨ï¼Œç„¶åé€šè¿‡å¦ä¸€ç«¯æŒ‰2é”®åŠ å…¥è¯¥åœ°å›¾</p><p><strong>UECå®ç°</strong></p><p>åˆ›å»ºä¸€ä¸ªè”æœºåœ°å›¾ï¼Œæˆ‘å‘½åä¸º â€œÂ onlineMap01Â â€ ï¼Œç„¶åå»åˆ°è§’è‰²ç±»ä¸­ï¼Œåˆ›å»ºç›¸å…³å‡½æ•°è¿›è¡Œå¼€å¯æœåŠ¡å’ŒåŠ å…¥æœåŠ¡</p><p>è¿™é‡Œæœ‰ä¸¤ç§æ–¹å¼åŠ å…¥æœåŠ¡</p><p>ç¬¬ä¸€ç§æ˜¯é€šè¿‡OpenLevelå‡½æ•°åˆ©ç”¨ipåŠ å…¥</p><p>ç¬¬äºŒç§æ˜¯é€šè¿‡è·å–å½“å‰ç©å®¶çš„ç©å®¶æ§åˆ¶å™¨ï¼Œåœ¨åˆ©ç”¨ç©å®¶æ§åˆ¶å™¨çš„Client Travel å‡½æ•°é€šè¿‡ipåŠ å…¥</p><p>å¤´æ–‡ä»¶ï¼Œç”³æ˜æ‰€éœ€è¦çš„è‡ªå®šä¹‰å‡½æ•°</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UFUNCTION</span>(BlueprintCallable)</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">OpenOnlineMap</span><span class="params">()</span></span>;</span><br><span class="line"><span class="built_in">UFUNCTION</span>(BlueprintCallable)</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">CallOpenLevel</span><span class="params">(<span class="type">const</span> FString&amp; Adr)</span></span>;</span><br><span class="line"><span class="built_in">UFUNCTION</span>(BlueprintCallable)</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">CallClientTravel</span><span class="params">(<span class="type">const</span> FString&amp; Adr)</span></span>;</span><br></pre></td></tr></table></figure><p>æºä»£ç æ–‡ä»¶ï¼Œå®ç°å‡½æ•°åŠŸèƒ½</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºæœåŠ¡</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AOnLineTestingCharacter::OpenOnlineMap</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    UWorld* world = <span class="built_in">GetWorld</span>();</span><br><span class="line">    <span class="keyword">if</span> (world) &#123;</span><br><span class="line">        <span class="comment">// listen ä¸ºæœåŠ¡ç›‘å¬å™¨</span></span><br><span class="line">        world-&gt;<span class="built_in">ServerTravel</span>(<span class="string">&quot;/Game/Maps/onlineMap01?listen&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç¬¬ä¸€ç§é€šè¿‡OpenLevelåŠ å…¥</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AOnLineTestingCharacter::CallOpenLevel</span><span class="params">(<span class="type">const</span> FString&amp; Adr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    UGameplayStatics::<span class="built_in">OpenLevel</span>(<span class="keyword">this</span>, *Adr);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç¬¬äºŒç§é€šè¿‡è§’è‰²æ§åˆ¶å™¨åŠ å…¥</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AOnLineTestingCharacter::CallClientTravel</span><span class="params">(<span class="type">const</span> FString&amp; Adr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    APlayerController* PlayerController = <span class="built_in">GetGameInstance</span>()-&gt;<span class="built_in">GetFirstLocalPlayerController</span>();</span><br><span class="line">    <span class="keyword">if</span> (PlayerController) &#123;</span><br><span class="line">        <span class="comment">// é€šè¿‡ç»å¯¹è·¯å¾„åŠ å…¥</span></span><br><span class="line">        PlayerController-&gt;<span class="built_in">ClientTravel</span>(Adr, ETravelType::TRAVEL_Absolute);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨åŒè“å›¾éƒ¨åˆ†ï¼Œåˆ©ç”¨æŒ‰é”®äº‹ä»¶è§¦å‘å†™å¥½çš„è‡ªå®šä¹‰å‡½æ•°ï¼Œä½¿ç”¨ä¸¤ç§æ–¹å¼çš†å¯è¿›å…¥ï¼Œä¸”ä¸¤ä¸ªå‡½æ•°ä¸­çš„ Adr æ˜¯æœåŠ¡ç«¯çš„ipåœ°å€</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UE/è™šå¹» è“„åŠ›æ”»å‡»æ€è·¯</title>
      <link href="/2025/04/25/UE/UE%E8%99%9A%E5%B9%BB%20%E8%93%84%E5%8A%9B%E6%94%BB%E5%87%BB%E6%80%9D%E8%B7%AF/"/>
      <url>/2025/04/25/UE/UE%E8%99%9A%E5%B9%BB%20%E8%93%84%E5%8A%9B%E6%94%BB%E5%87%BB%E6%80%9D%E8%B7%AF/</url>
      
        <content type="html"><![CDATA[<p>è“„åŠ›æ”»å‡»ï¼šæŒ‰ä½æ”»å‡»é”®ä¸€æ®µæ—¶é—´åè‡ªåŠ¨æˆ–æ¾å¼€æ—¶é‡Šæ”¾æ”»å‡»</p><p>è¿™é‡Œå†™çš„æ˜¯æŒ‰ä½æ”»å‡»é”®ä¸€æ®µæ—¶é—´åè‡ªåŠ¨æ”»å‡»ã€‚</p><p>é€šè¿‡ä¸¤ä¸ªå¸ƒå°”å€¼è¿›è¡Œåˆ¤æ–­ï¼Œä¸€ä¸ªåˆ¤æ–­æ˜¯å¦æ­£åœ¨æ”»å‡»ï¼ˆIsAttackï¼‰ï¼Œä¸€ä¸ªåˆ¤æ–­æ˜¯å¦è“„åŠ›å®Œæˆï¼ˆIsFocoEenrgiaï¼‰ï¼Œè¿™é‡Œå½“è“„åŠ›éƒ¨åˆ†å®Œæˆæ—¶ï¼Œé‚£ä¹ˆè¿™ä¸€æ¬¡æ”»å‡»å°±æ˜¯è“„åŠ›æ”»å‡»ï¼Œåœ¨æ¾å¼€æ—¶å°±ä¸éœ€è¦è¿›è¡Œæ™®é€šæ”»å‡»äº†ã€‚ç„¶ååœ¨æ¯æ¬¡æŒ‰ä¸‹æ”»å‡»é”®æ—¶ï¼Œé‡ç½®ä¸€ä¸‹è“„åŠ›çš„åˆ¤æ–­ã€‚</p><p>æ²¡æœ‰è“„åŠ›æ”»å‡»ï¼ˆIsFocoEenrgiaï¼‰è¿™ä¸ªå¸ƒå°”å€¼ï¼Œä¹Ÿèƒ½è¾¾åˆ°è“„åŠ›æ”»å‡»çš„æ•ˆæœï¼Œä¸è¿‡è¿™æ—¶å¦‚æœä¸€ç›´æŒ‰ä½æ”»å‡»é”®åˆ°è“„åŠ›æ”»å‡»ç»“æŸï¼Œå†æ¾å¼€æ”»å‡»é”®ï¼Œå°±ä¼šè¿›è¡Œä¸€æ¬¡é¢å¤–çš„æ™®é€šæ”»å‡»</p><p>ä½†æ˜¯å¦‚æœè“„åŠ›æ”»å‡»æ˜¯åœ¨é‡Šæ”¾æ”»å‡»é”®æ—¶è¿›è¡Œçš„æ”»å‡»éƒ¨åˆ†å°±ä¸éœ€è¦è€ƒè™‘è¿™ä¸ªé—®é¢˜</p><p><img src="2238312-20221115155731908-2066915548.png" alt="" /></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UE/è™šå¹» ç»„åˆé”®æ”»å‡»æ€è·¯</title>
      <link href="/2025/04/25/UE/UE%E8%99%9A%E5%B9%BB%20%E7%BB%84%E5%90%88%E9%94%AE%E6%94%BB%E5%87%BB%E6%80%9D%E8%B7%AF/"/>
      <url>/2025/04/25/UE/UE%E8%99%9A%E5%B9%BB%20%E7%BB%84%E5%90%88%E9%94%AE%E6%94%BB%E5%87%BB%E6%80%9D%E8%B7%AF/</url>
      
        <content type="html"><![CDATA[<p>é€šè¿‡ç¬¬ä¸€æ¬¡æŒ‰é”®æ”¹å˜ä¸€ä¸ªå¸ƒå°”å€¼å½“æ¾å¼€æˆ–æŒ‰ä¸‹ä¸€æ®µæ—¶é—´åé‡ç½®è¯¥å€¼ï¼Œåœ¨çŸ­æ—¶é—´å†…å€¼é‡ç½®ä¹‹å‰æŒ‰ä¸‹ç¬¬äºŒä¸ªæŒ‰é’®ï¼Œè¾¾åˆ°ç»„åˆé”®çš„æ•ˆæœ</p><p>è¿™æ˜¯åªæœ‰ä¸¤ä¸ªé”®çš„ç»„åˆé”®ï¼Œå¦‚æœéœ€è¦å¢åŠ ç»„åˆé”®çš„æ•°é‡ï¼Œåªéœ€è¦é‡å¤å¢åŠ åˆ¤æ–­å€¼ï¼Œå’Œ1é”®æŒ‰ä¸‹çš„æ“ä½œå³å¯</p><p><img src="2238312-20221115152210510-1630880101.png" alt="" /></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEè“å›¾ åˆ©ç”¨è½´è¾“å…¥è®¡ç®—è¿åŠ¨æ–¹å‘</title>
      <link href="/2025/04/25/UE/UE%E8%93%9D%E5%9B%BE%20%E5%88%A9%E7%94%A8%E8%BD%B4%E8%BE%93%E5%85%A5%E8%AE%A1%E7%AE%97%E8%BF%90%E5%8A%A8%E6%96%B9%E5%90%91/"/>
      <url>/2025/04/25/UE/UE%E8%93%9D%E5%9B%BE%20%E5%88%A9%E7%94%A8%E8%BD%B4%E8%BE%93%E5%85%A5%E8%AE%A1%E7%AE%97%E8%BF%90%E5%8A%A8%E6%96%B9%E5%90%91/</url>
      
        <content type="html"><![CDATA[<p>é¦–å…ˆè·å–åˆ°è½´è¾“å…¥ï¼Œå‰åä¸º Y è½´è¾“å…¥ï¼Œå·¦å³ä¸º X è½´è¾“å…¥ï¼Œå°†è¿™ä¸¤ä¸ªå€¼å­˜ä¸ºä¸€ä¸ªÂ <strong>å‘é‡2D</strong></p><p><img src="2238312-20221105140801900-1501957673.png" alt="" /></p><p>å†é€šè¿‡è·å–åˆ°çš„å‘é‡2Dçš„å€¼è®¡ç®—å‡ºè¿åŠ¨çš„æ–¹å‘å€¼</p><p><img src="2238312-20221105141751672-339974113.png" alt="" /></p><p>å…¶ä¸­Directionå¾—åˆ°çš„å€¼ä¸ºä¸å…·ä½“æ–¹å‘å¦‚ä¸‹å›¾</p><p><img src="2238312-20221105141705725-99853673.png" alt="" /></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++ åˆ©ç”¨ä»£ç†/å§”æ‰˜å†™ä¸€ä¸ªç”Ÿå‘½ç»„ä»¶</title>
      <link href="/2025/04/25/UE/UEC++%20%E5%88%A9%E7%94%A8%E4%BB%A3%E7%90%86%E5%A7%94%E6%89%98%E5%86%99%E4%B8%80%E4%B8%AA%E7%94%9F%E5%91%BD%E7%BB%84%E4%BB%B6%20/"/>
      <url>/2025/04/25/UE/UEC++%20%E5%88%A9%E7%94%A8%E4%BB%A3%E7%90%86%E5%A7%94%E6%89%98%E5%86%99%E4%B8%80%E4%B8%AA%E7%94%9F%E5%91%BD%E7%BB%84%E4%BB%B6%20/</url>
      
        <content type="html"><![CDATA[<p>é¦–å…ˆåŸºäºActorComponentåˆ›å»ºä¸€ä¸ªç»„ä»¶ HealthComponentï¼Œå°†éœ€è¦çš„å˜é‡ä¸å‡½æ•°åˆ›å»º</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;CoreMinimal.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Components/ActorComponent.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;HealthComponent.generated.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="built_in">UCLASS</span>( ClassGroup=(Custom), meta=(BlueprintSpawnableComponent) )</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PVETPC_API</span> UHealthComponent : <span class="keyword">public</span> UActorComponent</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">GENERATED_BODY</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:    </span><br><span class="line">    <span class="comment">// Sets default values for this component&#x27;s properties</span></span><br><span class="line">    <span class="built_in">UHealthComponent</span>();</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–å¥åº·å€¼</span></span><br><span class="line">    <span class="built_in">UFUNCTION</span>(BlueprintCallable)</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">Init</span><span class="params">(<span class="type">int</span> taotalHealth,<span class="type">int</span> currentHealth)</span></span>;</span><br><span class="line">    <span class="comment">// é€ æˆä¼¤å®³</span></span><br><span class="line">    <span class="built_in">UFUNCTION</span>(BlueprintCallable)</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">HanldTakeAnyDamaged</span><span class="params">(AActor* DamagedActor, <span class="type">float</span> Damage, <span class="type">const</span> <span class="keyword">class</span> UDamageType* DamageType, <span class="keyword">class</span> AController* InstigatedBy, AActor* DamageCauser)</span></span>;</span><br><span class="line">    <span class="comment">// æ¢å¤å¥åº·å€¼</span></span><br><span class="line">    <span class="built_in">UFUNCTION</span>(BlueprintCallable)</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">RestoreHealth</span><span class="params">(<span class="type">int</span> restoreValue)</span></span>;</span><br><span class="line">    <span class="built_in">UFUNCTION</span>(BlueprintPure)</span><br><span class="line">        <span class="function"><span class="type">float</span> <span class="title">GetHealth</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> CurrentHealth; &#125;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="comment">// æ€»å¥åº·å€¼</span></span><br><span class="line">    <span class="type">float</span> TotalHealth;</span><br><span class="line">    <span class="comment">// å½“å‰å¥åº·å€¼</span></span><br><span class="line">    <span class="type">float</span> CurrentHealth;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Called when the game starts</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">BeginPlay</span><span class="params">()</span> <span class="keyword">override</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:    </span><br><span class="line">    <span class="comment">// Called every frame</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">TickComponent</span><span class="params">(<span class="type">float</span> DeltaTime, ELevelTick TickType, FActorComponentTickFunction* ThisTickFunction)</span> <span class="keyword">override</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„Â HanldTakeAnyDamaged å‡½æ•°æ˜¯é€šè¿‡ä»£ç†ç»‘å®šåˆ°æ‹¥æœ‰è€…èº«ä¸Š</p><p>HanldTakeAnyDamaged éœ€è¦çš„å½¢å‚éœ€è¦ä¸ <strong>OnTakeAnyDamage</strong> çš„å®å®šä¹‰ä¸€è‡´</p><p>é™¤æ­¤ä¹‹å¤–è¿˜æœ‰<strong>OnTakePointDamage</strong> å’Œ <strong>OnTakeRadialDamage</strong> ä¹Ÿæ˜¯ä¸€æ ·çš„æ“ä½œ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Components/HealthComponent.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Engine.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Kismet/KismetSystemLibrary.h&quot;</span></span></span><br><span class="line"><span class="comment">// Sets default values for this component&#x27;s properties</span></span><br><span class="line">UHealthComponent::<span class="built_in">UHealthComponent</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Set this component to be initialized when the game starts, and to be ticked every frame.  You can turn these features</span></span><br><span class="line">    <span class="comment">// off to improve performance if you don&#x27;t need them.</span></span><br><span class="line">    PrimaryComponentTick.bCanEverTick = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UHealthComponent::Init</span><span class="params">(<span class="type">int</span> taotalHealth, <span class="type">int</span> currentHealth)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    TotalHealth = taotalHealth;</span><br><span class="line">    CurrentHealth = currentHealth;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UHealthComponent::HanldTakeAnyDamaged</span><span class="params">(AActor* DamagedActor, <span class="type">float</span> Damage, <span class="type">const</span> <span class="keyword">class</span> UDamageType* DamageType, <span class="keyword">class</span> AController* InstigatedBy, AActor* DamageCauser)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (Damage &lt;= <span class="number">0</span>) &#123; <span class="keyword">return</span>; &#125;</span><br><span class="line">    CurrentHealth = FMath::<span class="built_in">Clamp</span>( CurrentHealth - Damage , <span class="number">0.f</span>, TotalHealth);</span><br><span class="line">    <span class="built_in">UE_LOG</span>(LogTemp, Warning, <span class="built_in">TEXT</span>(<span class="string">&quot;I am Demaged! CurrentHealth = %f&quot;</span>), CurrentHealth);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UHealthComponent::RestoreHealth</span><span class="params">(<span class="type">int</span> restoreValue)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    CurrentHealth = FMath::<span class="built_in">Clamp</span>(CurrentHealth + restoreValue, <span class="number">0.f</span>, TotalHealth);</span><br><span class="line">    GEngine-&gt;<span class="built_in">AddOnScreenDebugMessage</span>(<span class="number">-1</span>, <span class="number">20</span>, FColor::Red, <span class="built_in">FString</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;I am RestoreHealth!&quot;</span>)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Called when the game starts</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UHealthComponent::BeginPlay</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Super::<span class="built_in">BeginPlay</span>();</span><br><span class="line">    <span class="comment">// è·å–æ‹¥æœ‰è€…</span></span><br><span class="line">    AActor* MyOwner = <span class="built_in">GetOwner</span>();</span><br><span class="line">    <span class="comment">// å¦‚æœå­˜åœ¨å°±å°†ä¼¤å®³æ¥æ”¶å‡½æ•°ç»‘å®š</span></span><br><span class="line">    <span class="keyword">if</span> (MyOwner)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">UE_LOG</span>(LogTemp, Warning, <span class="built_in">TEXT</span>(<span class="string">&quot;I am bound!&quot;</span>));</span><br><span class="line">        MyOwner-&gt;OnTakeAnyDamage.<span class="built_in">AddDynamic</span>(<span class="keyword">this</span>, &amp;UHealthComponent::HanldTakeAnyDamaged);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Init</span>(<span class="number">100</span>,<span class="number">100</span>);</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Called every frame</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UHealthComponent::TickComponent</span><span class="params">(<span class="type">float</span> DeltaTime, ELevelTick TickType, FActorComponentTickFunction* ThisTickFunction)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Super::<span class="built_in">TickComponent</span>(DeltaTime, TickType, ThisTickFunction);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™æˆ‘ä»¬å°†è¯¥ç»„ä»¶æŒ‚è½½åœ¨è§’è‰²èº«ä¸Šï¼Œå·²ç»æœ‰äº†æ•ˆæœï¼Œä½†æ˜¯è§’è‰²ä¸çŸ¥é“ç»„ä»¶ç”Ÿå‘½å€¼æ˜¯å¦æ”¹å˜</p><p>æ¥ç€æˆ‘ä»¬åœ¨ç»„ä»¶å¤´æ–‡ä»¶çš„å¤´æ–‡ä»¶ç”³æ˜ä¸‹æ·»åŠ ä»£ç†çš„å®å®šä¹‰ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªä»£ç†å¯¹è±¡</p><p>å¹¶åœ¨éœ€è¦å“åº”çš„å‡½æ•°ä¸­æ·»åŠ å¹¿æ’­</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;CoreMinimal.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Components/ActorComponent.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;HealthComponent.generated.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è‡ªå®šä¹‰å…­å‚æ•°ä»£ç†äº‹ä»¶</span></span><br><span class="line"><span class="built_in">DECLARE_DYNAMIC_MULTICAST_DELEGATE_SixParams</span>(FOnHealthChangedSignature, UHealthComponent*, HealthComp, <span class="type">float</span>, Health, <span class="type">float</span>, HealthDelta, <span class="type">const</span> <span class="keyword">class</span> UDamageType*, DamageType, <span class="keyword">class</span> AController*, InstigatedBy, AActor*, DamageCauser);</span><br><span class="line">......</span><br><span class="line">    <span class="comment">// æ¢å¤å¥åº·å€¼</span></span><br><span class="line">    <span class="built_in">UFUNCTION</span>(BlueprintCallable)</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">RestoreHealth</span><span class="params">(<span class="type">int</span> restoreValue)</span></span>;</span><br><span class="line">    <span class="built_in">UFUNCTION</span>(BlueprintPure)</span><br><span class="line">        <span class="function"><span class="type">float</span> <span class="title">GetHealth</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> CurrentHealth; &#125;</span><br><span class="line">       <span class="comment">// å®šä¹‰ä»£ç†</span></span><br><span class="line">    <span class="built_in">UPROPERTY</span>(BlueprintAssignable, Category = <span class="string">&quot;Events&quot;</span>)</span><br><span class="line">        FOnHealthChangedSignature OnHealthChanged;</span><br><span class="line"></span><br><span class="line">......</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">UHealthComponent::HanldTakeAnyDamaged</span><span class="params">(AActor* DamagedActor, <span class="type">float</span> Damage, <span class="type">const</span> <span class="keyword">class</span> UDamageType* DamageType, <span class="keyword">class</span> AController* InstigatedBy, AActor* DamageCauser)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (Damage &lt;= <span class="number">0</span>) &#123; <span class="keyword">return</span>; &#125;</span><br><span class="line">    CurrentHealth = FMath::<span class="built_in">Clamp</span>( CurrentHealth - Damage , <span class="number">0.f</span>, TotalHealth);</span><br><span class="line">    <span class="built_in">UE_LOG</span>(LogTemp, Warning, <span class="built_in">TEXT</span>(<span class="string">&quot;I am Demaged! CurrentHealth = %f&quot;</span>), CurrentHealth);</span><br><span class="line">    <span class="comment">// æ¯å½“è¯¥å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œå°±å°†è°ƒç”¨ä¸€æ¬¡ä»£ç†å‡½æ•°</span></span><br><span class="line">    OnHealthChanged.<span class="built_in">Broadcast</span>(<span class="keyword">this</span>, CurrentHealth, Damage, DamageType, InstigatedBy, DamageCauser);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åå†åˆ°æ‹¥æœ‰è€…ç±»ä¸­æ·»åŠ ä¸€ä¸ªç”¨äºå›è°ƒçš„æ“ä½œå‡½æ•°ï¼Œå…¶ä¸­å½¢å‚å¯¹åº”åœ¨ç”Ÿå‘½ç»„ä»¶ä¸­å®šä¹‰çš„é‚£æ ·ï¼ˆæ³¨æ„å‘½åæ˜¯å¦é‡å¤ï¼‰</p><p>å¤´æ–‡ä»¶</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»£ç†äº‹ä»¶</span></span><br><span class="line"><span class="built_in">UFUNCTION</span>()</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">OnHealthChanged</span><span class="params">(UHealthComponent* OnwerHealthComp, <span class="type">float</span> Health, <span class="type">float</span> HealthDelta,</span></span></span><br><span class="line"><span class="params"><span class="function"><span class="type">const</span> <span class="keyword">class</span> UDamageType* DamageType, <span class="keyword">class</span> AController* InstigatedBy, AActor* DamageCauser)</span></span>;</span><br></pre></td></tr></table></figure><p>cppæ–‡ä»¶</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">APCharacter::OnHealthChanged</span><span class="params">(UHealthComponent* OnwerHealthComp, <span class="type">float</span> Health, <span class="type">float</span> HealthDelta, <span class="type">const</span> <span class="keyword">class</span> UDamageType* DamageType, <span class="keyword">class</span> AController* InstigatedBy, AActor* DamageCauser)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (IsDeath) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">UE_LOG</span>(LogTemp, Warning, <span class="built_in">TEXT</span>(<span class="string">&quot;I know I was hurt! &quot;</span>));</span><br><span class="line">    <span class="keyword">if</span> (Health &lt;= <span class="number">0</span> &amp;&amp; !IsDeath)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">UE_LOG</span>(LogTemp, Warning, <span class="built_in">TEXT</span>(<span class="string">&quot;I am Death! &quot;</span>));</span><br><span class="line">        IsDeath = <span class="literal">true</span>;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€<span class="built_in">Death</span>();</span><br><span class="line">        <span class="built_in">GetMovementComponent</span>()-&gt;<span class="built_in">StopMovementImmediately</span>();</span><br><span class="line">        <span class="built_in">GetCapsuleComponent</span>()-&gt;<span class="built_in">SetCollisionEnabled</span>(ECollisionEnabled::NoCollision);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ†ç¦»æ§åˆ¶å™¨</span></span><br><span class="line">        <span class="built_in">DetachFromControllerPendingDestroy</span>();</span><br><span class="line">        <span class="comment">// 3ç§’åæ‰§è¡Œ</span></span><br><span class="line">        <span class="built_in">SetLifeSpan</span>(<span class="number">3.0f</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">APCharacter::BeginPlay</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Super::<span class="built_in">BeginPlay</span>();</span><br><span class="line">    HealthComp-&gt;OnHealthChanged.<span class="built_in">AddDynamic</span>(<span class="keyword">this</span>, &amp;APCharacter::OnHealthChanged);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åæµ‹è¯•ï¼Œç»“æœæ— è¯¯</p><p>LogWorld:Bringing up level for play took:0.000830<br />LogOnline:0SS:Creating online subsystem instance for: :Context 29<br />LogTemp: Warning: I am bound!<br />PIE:Server logged in<br />PIE:Play in editor total start time 0.184 seconds.<br />LogTemp: Warning:I am Demaged! CurrentHealth=80.000000<br />LogTemp: Warning:I know I was hurt!<br />LogTemp: Warning:I am Demaged! CurrentHealth=60.000000<br />LogTemp: Warning:I know I was hurt!<br />LogTemp: Warning:I am Demaged! CurrentHealth=40.000000<br />LogTemp: Warning:I know I was hurt!<br />LogTemp: Warning:I am Demaged! CurrentHealth=20.000000<br />LogTemp: Warning:I know I was hurt!<br />LogTemp: Warning:I am Demaged! CurrentHealth=0.000000<br />LogTemp: Warning:I know I was hurt!<br />LogTemp: Warning:I am Death!</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++ æ’­æ”¾è’™å¤ªå¥‡åŠ¨ç”»</title>
      <link href="/2025/04/25/UE/UEC++%20%E6%92%AD%E6%94%BE%E8%92%99%E5%A4%AA%E5%A5%87%E5%8A%A8%E7%94%BB/"/>
      <url>/2025/04/25/UE/UEC++%20%E6%92%AD%E6%94%BE%E8%92%99%E5%A4%AA%E5%A5%87%E5%8A%A8%E7%94%BB/</url>
      
        <content type="html"><![CDATA[<p>åœ¨è“å›¾ä¸­æ’­æ”¾è’™å¤ªå¥‡åŠ¨ç”»ï¼Œå¯ä»¥ä½¿ç”¨ PlayAnimMontage å’Œ PlayMontageï¼Œå¹¶ä¸”PlayMontageå¯ä»¥åœ¨ï¼Œè’™å¤ªå¥‡åŠ¨ç”»æ’­æ”¾å®Œçš„æ—¶å€™æ‰§è¡Œæƒ³è¦æ‰§è¡Œçš„ç¨‹åº</p><p><img src="2238312-20221027200718423-1416176089.png" alt="" /></p><p>ä½†æ˜¯åœ¨UEC++ä¸­ï¼Œæ²¡æœ‰PlayMontageï¼ˆemmmmæœ‰å¯èƒ½åªæ˜¯æˆ‘æ²¡æ‰¾åˆ°ï¼‰</p><p>è¿™æ—¶å€™éœ€è¦å®ç°åœ¨æ’­æ”¾è’™å¤ªå¥‡åŠ¨ç”»ä¹‹åéœ€è¦çš„ç¨‹åºæ—¶é—´ï¼Œå¯ä»¥åœ¨è’™å¤ªå¥‡åŠ¨ç”»ä¸­æ·»åŠ ä¸€ä¸ªé€šçŸ¥ï¼Œé€šè¿‡é€šçŸ¥æ‰§è¡Œéœ€è¦çš„ç¨‹åº</p><p>è­¬å¦‚åˆ©ç”¨è’™å¤ªå¥‡æ’­æ”¾ä¸€ä¸ªæ”»å‡»åŠ¨ç”»</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¤´æ–‡ä»¶å£°æ˜å˜é‡ä¸æ”»å‡»å‡½æ•°</span></span><br><span class="line"><span class="comment">// æ˜¯å¦æ­£åœ¨æ”»å‡»</span></span><br><span class="line"><span class="type">bool</span> IsAttack = <span class="literal">false</span>;</span><br><span class="line"><span class="built_in">UFUNCTION</span>(BlueprintCallable)</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Notify_EndAttack</span><span class="params">()</span> </span>&#123; IsAttack = <span class="literal">false</span>; &#125;</span><br><span class="line"><span class="comment">// éœ€è¦æ’­æ”¾çš„è’™å¤ªå¥‡åŠ¨ç”»èµ„æº</span></span><br><span class="line"><span class="built_in">UPROPERTY</span>(EditAnywhere, Category = <span class="string">&quot;Anim&quot;</span>)</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">UAnimMontage</span>* AttackMontage;</span><br><span class="line"><span class="comment">// æ”»å‡»</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Attack</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure><p>å®ç°æ”»å‡»å‡½æ•°ï¼ˆè®°å¾—ç»‘å®šè¾“å…¥å’Œæ·»åŠ æ“ä½œæ˜ å°„ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">APCharacter::Attack</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!IsAttack) &#123;</span><br><span class="line">        IsAttack = <span class="literal">true</span>;</span><br><span class="line">        <span class="built_in">PlayAnimMontage</span>(AttackMontage, <span class="number">1.f</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™ä½¿ç”¨æ”»å‡»å‡½æ•°æ’­æ”¾æ”»å‡»åŠ¨ç”»ï¼Œåªèƒ½æ’­æ”¾ä¸€æ¬¡ï¼Œå½“æ’­æ”¾å®Œä¹‹åå°±æ— æ³•å†æ’­æ”¾ç¬¬äºŒæ¬¡ï¼Œè€Œå¦‚æœåœ¨Attack() ä¸­Â PlayAnimMontage(AttackMontage, 1.f) ä¸‹æ·»åŠ IsAttack = false; å°±ä¼šç«‹å³é‡ç½®ï¼Œæ— æ³•è¾¾åˆ°æƒ³è¦çš„æ•ˆæœï¼Œè€Œå¯¼è‡´æ”»å‡»é¬¼ç•œ</p><p>å†å»è§’è‰²ç±»ä¸­æ·»åŠ ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºå®ç°ç»“æŸæ”»å‡»éœ€è¦æ‰§è¡Œçš„åŠŸèƒ½</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UFUNCTION</span>(BlueprintCallable)</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Notify_EndAttack</span><span class="params">()</span> </span>&#123; IsAttack = <span class="literal">false</span>; &#125;</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨åŠ¨ç”»è“å›¾ä¸­æ‰§è¡Œæ·»åŠ çš„é€šçŸ¥</p><p><img src="2238312-20221027202633602-752214739.png" alt="" /></p><p><img src="2238312-20221027202618874-310572134.png" alt="" /></p><p>ç°åœ¨å»æ‰§è¡Œå°±å¯ä»¥ï¼</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UE C++å®ç°ç¬¬ä¸‰äººç§°è§’è‰²åŸºæœ¬åŠŸèƒ½</title>
      <link href="/2025/04/25/UE/UE%20C++%E5%AE%9E%E7%8E%B0%E7%AC%AC%E4%B8%89%E4%BA%BA%E7%A7%B0%E8%A7%92%E8%89%B2%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/"/>
      <url>/2025/04/25/UE/UE%20C++%E5%AE%9E%E7%8E%B0%E7%AC%AC%E4%B8%89%E4%BA%BA%E7%A7%B0%E8%A7%92%E8%89%B2%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/</url>
      
        <content type="html"><![CDATA[<p>é¦–å…ˆåŸºäºCharacteråˆ›å»ºä¸€ä¸ªè§’è‰²ç±»ï¼Œåœ¨å¤´æ–‡ä»¶ä¸ºå…¶æ·»åŠ å¼¹ç°§è‡‚å’Œæ‘„åƒæœºç»„ä»¶</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UPROPERTY</span>(VisibleAnywhere, Category = <span class="string">&quot;Comp&quot;</span>)</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">UCameraComponent</span>* CameraComp;</span><br><span class="line"><span class="built_in">UPROPERTY</span>(VisibleAnywhere, Category = <span class="string">&quot;Comp&quot;</span>)</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">USpringArmComponent</span>* SpringComp;</span><br></pre></td></tr></table></figure><p>åœ¨æ„é€ å‡½æ•°ä¸­å°†ç›¸å…³ç»„ä»¶åˆ›å»ºå‡ºæ¥</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰€éœ€è¦æ·»åŠ çš„å¤´æ–‡ä»¶</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Camera/CameraComponent.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;GameFramework/SpringArmComponent.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;GameFramework/CharacterMovementComponent.h&quot;</span></span></span><br><span class="line">        <span class="comment">// åˆ›å»ºæ‘„åƒæœºç»„ä»¶</span></span><br><span class="line">    CameraComp = <span class="built_in">CreateDefaultSubobject</span>&lt;UCameraComponent&gt;(<span class="built_in">TEXT</span>(<span class="string">&quot;CameraComp&quot;</span>));</span><br><span class="line">    <span class="comment">// åˆ›å»ºå¼¹ç°§è‡‚ç»„ä»¶</span></span><br><span class="line">    SpringComp = <span class="built_in">CreateDefaultSubobject</span>&lt;USpringArmComponent&gt;(<span class="built_in">TEXT</span>(<span class="string">&quot;SpringComp&quot;</span>));</span><br><span class="line">    <span class="comment">// å°†å¼¹ç°§è‡‚é™„åŠ åˆ°æ ¹ç»„ä»¶ä¸Š</span></span><br><span class="line">    SpringComp-&gt;<span class="built_in">SetupAttachment</span>(RootComponent);</span><br><span class="line">    <span class="comment">// å°†æ‘„åƒæœºç»„ä»¶é™„åŠ åˆ°å¼¹ç°§è‡‚ç»„ä»¶ä¸Š</span></span><br><span class="line">    CameraComp-&gt;<span class="built_in">SetupAttachment</span>(SpringComp);</span><br><span class="line">    <span class="comment">// ä½¿ç”¨Pawnæ§åˆ¶æ—‹è½¬</span></span><br><span class="line">    SpringComp-&gt;bUsePawnControlRotation = <span class="literal">true</span>;</span><br><span class="line">    CameraComp-&gt;bUsePawnControlRotation = <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">// å¦‚æœä¸ºçœŸ ä¼šè·Ÿéšæ§åˆ¶å™¨ç§»åŠ¨</span></span><br><span class="line">    bUseControllerRotationRoll = <span class="literal">false</span>;</span><br><span class="line">    bUseControllerRotationYaw = <span class="literal">false</span>;</span><br><span class="line">    bUseControllerRotationPitch = <span class="literal">false</span>;</span><br><span class="line">    <span class="comment">// æ—‹è½¬æœå‘ç§»åŠ¨</span></span><br><span class="line">    <span class="built_in">GetCharacterMovement</span>()-&gt;bOrientRotationToMovement = <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">//GetCharacterMovement()-&gt;RotationRate = FRotator(0.f, 500.f, 0.f);    </span></span><br></pre></td></tr></table></figure><p>å›åˆ°è§’è‰²ç±»å¤´æ–‡ä»¶ä¸­ï¼Œç”³æ˜æ‰€éœ€çš„ç§»åŠ¨ã€è§†è§’æ—‹è½¬å‡½æ•°</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">MoveForward</span><span class="params">(<span class="type">float</span> value)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MoveRight</span><span class="params">(<span class="type">float</span> value)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Turn</span><span class="params">(<span class="type">float</span> value)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">LookUp</span><span class="params">(<span class="type">float</span> value)</span></span>;</span><br></pre></td></tr></table></figure><p>å®ç°ç§»åŠ¨ã€è§†è§’æ—‹è½¬å‡½æ•°ï¼Œå¹¶ä¸”ç»‘å®šè¾“å…¥</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">APCharacter::MoveForward</span><span class="params">(<span class="type">float</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (Controller != <span class="literal">NULL</span> &amp;&amp; value != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// è·å–æ§åˆ¶å™¨æ—‹è½¬</span></span><br><span class="line">        <span class="type">const</span> FRotator ControllerRotator = Controller-&gt;<span class="built_in">GetControlRotation</span>();</span><br><span class="line">        <span class="comment">// åˆ¶é€ ä¸€ä¸ªåªæœ‰Zè½´çš„æ—‹è½¬</span></span><br><span class="line">        <span class="function"><span class="type">const</span> FRotator <span class="title">YawRotator</span><span class="params">(<span class="number">0.f</span>, ControllerRotator.Yaw, <span class="number">0.f</span>)</span></span>;</span><br><span class="line">        <span class="comment">// è·å–æ§åˆ¶å™¨å‘å‰çš„æ–¹å‘å‘é‡ å³è·å–YawRotatorçš„å•ä½é•¿åº¦è½´</span></span><br><span class="line">        <span class="type">const</span> FVector Direction = <span class="built_in">FRotationMatrix</span>(YawRotator).<span class="built_in">GetUnitAxis</span>(EAxis::X);</span><br><span class="line">        <span class="built_in">AddMovementInput</span>(Direction, value);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">APCharacter::MoveRight</span><span class="params">(<span class="type">float</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (Controller != <span class="literal">NULL</span> &amp;&amp; value != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="type">const</span> FRotator ControllerRotator = Controller-&gt;<span class="built_in">GetControlRotation</span>();</span><br><span class="line">        <span class="function"><span class="type">const</span> FRotator <span class="title">YawRotator</span><span class="params">(<span class="number">0.f</span>, ControllerRotator.Yaw, <span class="number">0.f</span>)</span></span>;</span><br><span class="line">        <span class="type">const</span> FVector Direction = <span class="built_in">FRotationMatrix</span>(YawRotator).<span class="built_in">GetUnitAxis</span>(EAxis::Y);</span><br><span class="line">        <span class="built_in">AddMovementInput</span>(Direction, value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">APCharacter::Turn</span><span class="params">(<span class="type">float</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (Controller != <span class="literal">NULL</span> &amp;&amp; value != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">AddControllerYawInput</span>(value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">APCharacter::LookUp</span><span class="params">(<span class="type">float</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (Controller != <span class="literal">NULL</span> &amp;&amp; value != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">AddControllerPitchInput</span>(value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Called to bind functionality to input</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">APCharacter::SetupPlayerInputComponent</span><span class="params">(UInputComponent* PlayerInputComponent)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Super::<span class="built_in">SetupPlayerInputComponent</span>(PlayerInputComponent);</span><br><span class="line"></span><br><span class="line">    PlayerInputComponent-&gt;<span class="built_in">BindAxis</span>(<span class="string">&quot;MoveForward&quot;</span>, <span class="keyword">this</span>, &amp;APCharacter::MoveForward);</span><br><span class="line">    PlayerInputComponent-&gt;<span class="built_in">BindAxis</span>(<span class="string">&quot;MoveRight&quot;</span>, <span class="keyword">this</span>, &amp;APCharacter::MoveRight);</span><br><span class="line">    PlayerInputComponent-&gt;<span class="built_in">BindAxis</span>(<span class="string">&quot;Turn&quot;</span>, <span class="keyword">this</span>, &amp;APCharacter::Turn);</span><br><span class="line">    PlayerInputComponent-&gt;<span class="built_in">BindAxis</span>(<span class="string">&quot;LookUp&quot;</span>, <span class="keyword">this</span>, &amp;APCharacter::LookUp);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å›åˆ°è™šå¹»ç¼–è¾‘å™¨ä¸­ï¼Œåœ¨é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ï¼Œç›¸å…³çš„æ“ä½œæ˜ å°„</p><p>Axis Mappings<br />Â Â Â Â MoveForward<br />Â Â Â Â Â Â Â Â WÂ Â Â Â  Scale   1.0<br />Â Â Â Â Â Â Â Â SÂ Â Â Â Scale  -1.0<br />Â Â Â Â MoveRight<br />Â Â Â Â Â Â Â Â DÂ Â Â Â Scale   1.0<br />Â Â Â Â Â Â Â Â AÂ Â Â Â Scale  -1.0<br />Â Â Â Â Turn<br />Â Â Â Â Â Â Â Â Mouse XÂ Â Â Â Scale   1.0<br />Â Â Â Â LookUp<br />Â Â Â Â Â Â Â Â Mouse YÂ Â Â Â Scale  -1.0</p><p>å†åˆ›å»ºä¸€ä¸ªç›¸å…³è“å›¾ç±»ï¼Œå°†æ¨¡å‹ä¸åŠ¨ç”»è“å›¾è®¾ç½®ä¸Šå°±å®Œæˆäº†</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UE æ–‡ä»¶ç›®å½•ç»“æ„</title>
      <link href="/2025/04/25/UE/UE%20%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/"/>
      <url>/2025/04/25/UE/UE%20%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<p>åœ¨æœ€é«˜ä¸€çº§ç›®å½•ä¸­ï¼Œæ˜¯ä½ çš„å¼•æ“ï¼ˆEngineï¼‰ç›®å½•ä»¥åŠä½ çš„æ‰€æœ‰æ¸¸æˆé¡¹ç›®ç›®å½•ã€‚Engineç›®å½•åŒ…å«å¼•æ“è‡ªèº«åŠå…¶éšé™„å·¥å…·ã€‚æ¯ä¸ªæ¸¸æˆç›®å½•éƒ½åŒ…å«ä¸è¯¥æ¸¸æˆæœ‰å…³çš„æ‰€æœ‰æ–‡ä»¶ã€‚ä¸å…ˆå‰çš„å¼•æ“ç‰ˆæœ¬ç›¸æ¯”ï¼ŒUE4ä¸­çš„å¼•æ“å’Œæ¸¸æˆåœ¨ç›®å½•ç»“æ„ä¸Šæœ‰äº†æ›´æ˜æ˜¾çš„åŒºåˆ†ã€‚</p><h2 id="æ ¹ç›®å½•"><a class="markdownIt-Anchor" href="#æ ¹ç›®å½•"></a> æ ¹ç›®å½•</h2><ul><li><p><strong>Engine</strong>Â - åŒ…å«æ„æˆå¼•æ“çš„æ‰€æœ‰æºä»£ç ã€å†…å®¹ç­‰ã€‚</p></li><li><p><strong>Templates</strong>Â -</p><p>[åˆ›å»ºæ–°é¡¹ç›®](Basics/Projects/Browser)</p><p>æ—¶å¯ç”¨çš„é¡¹ç›®æ¨¡æ¿é›†åˆã€‚</p></li><li><p><strong>GenerateProjectFiles.bat</strong>Â - ç”¨äºåˆ›å»ºåœ¨Visual Studioä¸­ä½¿ç”¨å¼•æ“å’Œæ¸¸æˆæ‰€éœ€çš„UE4è§£å†³æ–¹æ¡ˆå’Œé¡¹ç›®æ–‡ä»¶ã€‚è¯·å‚é˜…</p><p>[](ProductionPipelines/BuildTools/UnrealBuildTool/ProjectFilesForIDEs)</p><p>ä»¥äº†è§£è¯¦ç»†ä¿¡æ¯ã€‚</p></li><li><p><strong>UE4Games.uprojectdirs</strong>Â - è¾…åŠ©æ–‡ä»¶ï¼Œå¸®åŠ©å¼•æ“æ‰¾åˆ°å­ç›®å½•ä¸­çš„é¡¹ç›®ã€‚</p></li></ul><h2 id="é€šç”¨ç›®å½•"><a class="markdownIt-Anchor" href="#é€šç”¨ç›®å½•"></a> é€šç”¨ç›®å½•</h2><p>æŸäº›å­ç›®å½•åœ¨å¼•æ“ç›®å½•å’Œæ¸¸æˆé¡¹ç›®ç›®å½•ä¸­éƒ½èƒ½æ‰¾åˆ°ï¼š</p><ul><li><p><strong>Binaries</strong>Â - åŒ…å«å¯æ‰§è¡Œæ–‡ä»¶æˆ–ç¼–è¯‘æœŸé—´åˆ›å»ºçš„å…¶ä»–æ–‡ä»¶ã€‚</p></li><li><p><strong>Build</strong>Â - åŒ…å«ç¼–è¯‘å¼•æ“æˆ–æ¸¸æˆæ‰€éœ€çš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬ä¸ºæŸäº›ç‰¹å®šå¹³å°åˆ›å»ºé¡¹ç›®ç‰ˆæœ¬æ—¶æ‰€éœ€çš„æ–‡ä»¶ã€‚</p></li><li><p><strong>Config</strong>Â - é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«çš„å‚æ•°å¯ç”¨äºæ§åˆ¶å¼•æ“çš„è¡Œä¸ºã€‚ä½ åœ¨æ¸¸æˆé¡¹ç›®Configæ–‡ä»¶ä¸­è®¾ç½®çš„å€¼ä¼šè¦†ç›–Â <code>Engine\Config</code>Â ç›®å½•ä¸­è®¾ç½®çš„å€¼ã€‚</p></li><li><p><strong>Content</strong>Â - ä¿å­˜å¼•æ“æˆ–æ¸¸æˆä¸­çš„å†…å®¹ï¼Œä¾‹å¦‚èµ„äº§åŒ…ã€è´´å›¾ã€‚</p></li><li><p><strong>DerivedDataCache</strong>Â - åŒ…å«æ´¾ç”Ÿæ•°æ®æ–‡ä»¶ã€‚è¿™ç±»æ•°æ®ä¸“ä¸ºè¢«å¼•ç”¨å†…å®¹ç”Ÿæˆï¼Œå¹¶ä¸”åœ¨åŠ è½½æ—¶ç”Ÿæˆã€‚å‡å¦‚è¢«å¼•ç”¨å†…å®¹æœªç”Ÿæˆè¿‡ç¼“å­˜æ–‡ä»¶ï¼Œåˆ™åŠ è½½æ—¶é—´ä¼šæ˜¾è‘—å¢åŠ ã€‚</p></li><li><p><strong>Intermediate</strong>Â - åŒ…å«ç¼–è¯‘å¼•æ“æˆ–æ¸¸æˆæ—¶ç”Ÿæˆçš„ä¸´æ—¶æ–‡ä»¶ã€‚åœ¨æ¸¸æˆç›®å½•ä¸­ï¼Œç€è‰²å™¨ä¹Ÿä¿å­˜åœ¨Intermediateç›®å½•ä¸­ã€‚</p></li><li><p><strong>Saved</strong>Â - åŒ…å«è‡ªåŠ¨ä¿å­˜æ–‡ä»¶ã€é…ç½®ï¼ˆ<code>.ini</code>ï¼‰æ–‡ä»¶å’Œæ—¥å¿—æ–‡ä»¶ã€‚æ­¤å¤–ï¼Œ<strong>Engine &gt; Saved</strong>Â ç›®å½•è¿˜åŒ…å«å´©æºƒæ—¥å¿—ã€ç¡¬ä»¶ä¿¡æ¯å’ŒSwarmé€‰é¡¹ä¸æ•°æ®ã€‚</p></li><li><p><strong>Source</strong>Â - åŒ…å«å¼•æ“æˆ–æ¸¸æˆçš„æ‰€æœ‰æºæ–‡ä»¶ï¼ŒåŒ…æ‹¬å¼•æ“æºä»£ç ã€å·¥å…·å’Œæ¸¸æˆç±»ç­‰ã€‚</p><ul><li><p><strong>Engine</strong>Â - Engineç›®å½•ä¸­çš„æºæ–‡ä»¶ç»„ç»‡ç»“æ„å¦‚ä¸‹ï¼š</p><ul><li><p><strong>Developer</strong>Â - ç¼–è¾‘å™¨å’Œå¼•æ“å…±åŒä½¿ç”¨çš„æ–‡ä»¶ã€‚</p></li><li><p><strong>Editor</strong>Â - ä»…ä¾›ç¼–è¾‘å™¨ä½¿ç”¨çš„æ–‡ä»¶ã€‚</p></li><li><p><strong>Programs</strong>Â - å¼•æ“æˆ–ç¼–è¾‘å™¨ä½¿ç”¨çš„å¤–éƒ¨å·¥å…·ã€‚</p></li><li><p><strong>Runtime</strong>Â - ä»…ä¾›å¼•æ“ä½¿ç”¨çš„æ–‡ä»¶ã€‚</p></li></ul></li><li><p><strong>Game</strong>Â - æ¸¸æˆé¡¹ç›®ç›®å½•ä¸­çš„æºæ–‡ä»¶æŒ‰æ¨¡å—åˆ†ç»„ï¼Œä¸€ä¸ªæ¨¡å—ä¸€ä¸ªç›®å½•ã€‚æ¯ä¸ªæ¨¡å—åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š</p><ul><li><p><strong>Classes</strong>Â - åŒ…å«æ‰€æœ‰çš„å¤´æ–‡ä»¶ï¼ˆ<code>.h</code>ï¼‰ã€‚</p></li><li><p><strong>Private</strong>Â - åŒ…å«æ‰€æœ‰Â <code>.cpp</code>Â æ–‡ä»¶ï¼ŒåŒ…æ‹¬æ¸¸æˆé€»è¾‘ç±»ä»¥åŠå„ç§æ¨¡å—çš„å®ç°æ–‡ä»¶ã€‚</p></li><li><p><strong>Public</strong>Â - åŒ…å«æ¨¡å—çš„å¤´æ–‡ä»¶ã€‚</p></li></ul></li></ul></li></ul><h2 id="å¼•æ“ä¸“æœ‰ç›®å½•"><a class="markdownIt-Anchor" href="#å¼•æ“ä¸“æœ‰ç›®å½•"></a> å¼•æ“ä¸“æœ‰ç›®å½•</h2><p>éƒ¨åˆ†å­ç›®å½•åªå­˜åœ¨äºEngineç›®å½•ä¸­ã€‚</p><ul><li><p><strong>Documentation</strong>Â - åŒ…å«å¼•æ“æ–‡æ¡£ï¼ŒåŒ…æ‹¬æºæ–‡ä»¶å’Œå‘å¸ƒçš„æ–‡ä»¶ã€‚</p><ul><li><p><strong>HTML</strong>Â - å‘å¸ƒçš„HTMLæ–‡æ¡£æ–‡ä»¶ã€‚</p></li><li><p><strong>Source</strong>Â - æºmarkdownæ–‡æ¡£æ–‡ä»¶ã€‚</p></li></ul></li><li><p><strong>Extras</strong>Â - å…¶ä»–è¾…åŠ©å’Œå·¥å…·æ–‡ä»¶ã€‚</p></li><li><p><strong>Plugins</strong>Â - åŒ…å«å¼•æ“ä¸­ä½¿ç”¨çš„æ’ä»¶ã€‚</p></li><li><p><strong>Programs</strong>Â - åŒ…å«UE4æ ¹ç›®å½•ä¸­å„ä¸ªé¡¹ç›®åŠå…¶ä»–è™šå¹»ç¨‹åºï¼ˆå¦‚UnrealFrontendå’ŒUnrealHeaderToolï¼‰çš„é…ç½®æ–‡ä»¶å’Œæ—¥å¿—æ–‡ä»¶ã€‚</p></li><li><p><strong>Shaders</strong>Â - ä¿å­˜å¼•æ“çš„ç€è‰²å™¨æºæ–‡ä»¶ï¼ˆ<code>.usf</code>ï¼‰ã€‚</p></li></ul><h2 id="æ¸¸æˆé¡¹ç›®ç›®å½•"><a class="markdownIt-Anchor" href="#æ¸¸æˆé¡¹ç›®ç›®å½•"></a> æ¸¸æˆé¡¹ç›®ç›®å½•</h2><p></p><table><thead><tr><th>ç›®å½•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>Binaries</strong></td><td>åŒ…å«å¯æ‰§è¡Œæ–‡ä»¶æˆ–ç¼–è¯‘æœŸé—´åˆ›å»ºçš„å…¶ä»–æ–‡ä»¶ã€‚</td></tr><tr><td><strong>Config</strong></td><td>æ¸¸æˆçš„é»˜è®¤é¡¹ç›®è®¾ç½®ã€‚</td></tr><tr><td><strong>Content</strong></td><td>åŒ…å«å¼•æ“æˆ–æ¸¸æˆçš„å†…å®¹ï¼ŒåŒ…æ‹¬èµ„äº§åŒ…å’Œè´´å›¾ã€‚</td></tr><tr><td><strong>External dependencies</strong></td><td>æ˜¾ç¤ºå…¬æœ‰çš„å¼•æ“å¤´æ–‡ä»¶ï¼ˆä»…åœ¨Visual Studioä¸­å¯è§ï¼‰ã€‚</td></tr><tr><td><strong>Intermediate</strong></td><td>åŒ…å«UnrealBuildToolç”Ÿæˆçš„æ–‡ä»¶ï¼Œå¦‚Visual Studioé¡¹ç›®æ–‡ä»¶ã€‚è¿™äº›æ–‡ä»¶å¯ä»¥åˆ é™¤å¹¶é‡æ–°æ„å»ºã€‚</td></tr><tr><td><strong>Saved</strong></td><td>åŒ…å«å¼•æ“ç”Ÿæˆçš„æ–‡ä»¶ï¼Œå¦‚é…ç½®æ–‡ä»¶å’Œæ—¥å¿—ã€‚è¿™äº›æ–‡ä»¶å¯ä»¥åˆ é™¤å¹¶é‡æ–°æ„å»ºã€‚</td></tr><tr><td><strong>Source</strong></td><td>åŒ…å«æ¸¸æˆæ¨¡å—å¯¹è±¡ç±»æ–‡ä»¶ã€‚</td></tr></tbody></table><h2 id="è§£å†³æ–¹æ¡ˆç›®å½•"><a class="markdownIt-Anchor" href="#è§£å†³æ–¹æ¡ˆç›®å½•"></a> è§£å†³æ–¹æ¡ˆç›®å½•</h2><table><thead><tr><th>ç›®å½•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>Classes</strong></td><td>åŒ…å«æ¸¸æˆå¯¹è±¡çš„ç±»å®šä¹‰ï¼ˆ<code>.h</code>Â æ–‡ä»¶ï¼‰ã€‚</td></tr><tr><td><strong>Config</strong></td><td>æ¸¸æˆçš„é»˜è®¤é¡¹ç›®è®¾ç½®ã€‚</td></tr><tr><td><strong>External dependencies</strong></td><td>æ˜¾ç¤ºå…¬æœ‰å¼•æ“å¤´æ–‡ä»¶ï¼ˆä»…åœ¨Visual Studioä¸­å¯è§ï¼‰ã€‚</td></tr><tr><td><strong>Private</strong></td><td>åŒ…å«ç§æœ‰æ¸¸æˆå¯¹è±¡ç±»çš„å®ç°æ–‡ä»¶ï¼ˆ<code>.cpp</code>Â æ–‡ä»¶ï¼‰ã€‚</td></tr><tr><td><strong>Public</strong></td><td>åŒ…å«å…¬æœ‰æ¸¸æˆå¯¹è±¡ç±»çš„å®ç°æ–‡ä»¶ï¼ˆ<code>.cpp</code>Â æ–‡ä»¶ï¼‰ã€‚</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UE æœ¯è¯­</title>
      <link href="/2025/04/25/UE/UE%20%E6%9C%AF%E8%AF%AD/"/>
      <url>/2025/04/25/UE/UE%20%E6%9C%AF%E8%AF%AD/</url>
      
        <content type="html"><![CDATA[<h2 id="é¡¹ç›®"><a class="markdownIt-Anchor" href="#é¡¹ç›®"></a> é¡¹ç›®</h2><p><strong>è™šå¹»å¼•æ“é¡¹ç›®ï¼ˆProjectï¼‰</strong>Â ä¿å­˜ç€æ„æˆæ¸¸æˆæ‰€éœ€çš„æ‰€æœ‰å†…å®¹å’Œä»£ç ã€‚é¡¹ç›®åœ¨ä½ çš„ç”µè„‘ç¡¬ç›˜ä¸Šç”±è®¸å¤šç›®å½•æ„æˆï¼Œä¾‹å¦‚Â <code>è“å›¾</code>Â å’ŒÂ <code>æè´¨</code>ã€‚ä½ å¯ä»¥éšæ—¶ä¿®æ”¹é¡¹ç›®ç›®å½•çš„åç§°å’Œå±‚çº§å…³ç³»ã€‚</p><p><strong>è™šå¹»ç¼–è¾‘å™¨</strong>Â ä¸­çš„Â <strong>å†…å®¹æµè§ˆå™¨</strong>Â æ‰€å±•ç¤ºçš„ç›®å½•ç»“æ„å’Œä½ åœ¨ç¡¬ç›˜ä¸Šçœ‹åˆ°çš„Â <code>é¡¹ç›®</code>Â ç›®å½•ç»“æ„ç›¸åŒã€‚</p><p>_å†…å®¹æµè§ˆå™¨é¢æ¿ä¼šé•œåƒæ˜¾ç¤ºç£ç›˜ä¸Šçš„é¡¹ç›®ç›®å½•ç»“æ„ã€‚ç‚¹å‡»å›¾ç‰‡æŸ¥çœ‹å¤§å›¾ã€‚</p><p>æ¯ä¸ªé¡¹ç›®éƒ½æœ‰ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„Â <code>.uproject</code>Â æ–‡ä»¶ã€‚<code>.uproject</code>Â æ–‡ä»¶æ˜¯ä½ åˆ›å»ºã€æ‰“å¼€æˆ–ä¿å­˜é¡¹ç›®å¿…é¡»ç”¨åˆ°çš„æ–‡ä»¶ã€‚ä½ å¯ä»¥åˆ›å»ºä»»ä½•æ•°é‡çš„ä¸åŒé¡¹ç›®ï¼Œå¹¶åŒæ—¶æ“ä½œå®ƒä»¬ã€‚</p><h2 id="è“å›¾"><a class="markdownIt-Anchor" href="#è“å›¾"></a> è“å›¾</h2><p><strong>è“å›¾å¯è§†åŒ–è„šæœ¬ï¼ˆBlueprint Visual Scriptingï¼‰</strong>Â ç³»ç»Ÿï¼ˆæˆ–ç¼©å†™Â <strong>è“å›¾ï¼ˆBlueprintsï¼‰</strong>ï¼‰æ˜¯ä¸€ç§åŠŸèƒ½é½å…¨çš„æ¸¸æˆè„šæœ¬ç³»ç»Ÿï¼Œå®ƒå…è®¸ä½ åœ¨è™šå¹»ç¼–è¾‘å™¨ï¼ˆUnreal Editorï¼‰ä¸­é€šè¿‡åŸºäºèŠ‚ç‚¹çš„ç•Œé¢æ¥åˆ›å»ºæ¸¸æˆå…ƒç´ ã€‚å’Œè®¸å¤šå¸¸è§è„šæœ¬è¯­è¨€ä¸€æ ·ï¼Œä½ å¯ä»¥ç”¨å®ƒåœ¨å¼•æ“ä¸­å®šä¹‰é¢å‘å¯¹è±¡çš„ç±»æˆ–objectã€‚åœ¨ä½¿ç”¨UE4æ—¶ï¼Œä½ ä¼šå‘ç°ä½¿ç”¨è“å›¾å®šä¹‰çš„ç±»ä¸€èˆ¬ä¹Ÿç»Ÿç§°è“å›¾ã€‚</p><h2 id="å¯¹è±¡"><a class="markdownIt-Anchor" href="#å¯¹è±¡"></a> å¯¹è±¡</h2><p>åœ¨è™šå¹»å¼•æ“ä¸­ï¼Œæœ€åŸºæœ¬çš„ç±»å«åšÂ <strong>Object</strong>ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒå°±åƒæœ€åŸºæœ¬çš„æ„å»ºå•ä½ï¼ŒåŒ…å«äº†èµ„äº§çš„åŸºæœ¬åŠŸèƒ½ã€‚è™šå¹»å¼•æ“ä¸­çš„å¤§å¤šæ•°ç±»éƒ½ç»§æ‰¿è‡ªObjectï¼ˆæˆ–ä»ä¸­è·å–éƒ¨åˆ†åŠŸèƒ½ï¼‰ã€‚</p><p>åœ¨C++ä¸­ï¼Œ<code>UObject</code>Â æ˜¯æ‰€æœ‰Objectçš„åŸºç±»ï¼ŒåŒ…å«å„ç±»åŠŸèƒ½ï¼Œè¯¸å¦‚åƒåœ¾å›æ”¶ã€é€šè¿‡å…ƒæ•°æ®ï¼ˆUPropertyï¼‰å°†å˜é‡å…¬å¼€ç»™ç¼–è¾‘å™¨ï¼Œä»¥åŠä¿å­˜å’ŒåŠ è½½æ—¶çš„åºåˆ—åŒ–åŠŸèƒ½ã€‚</p><h2 id="ç±»"><a class="markdownIt-Anchor" href="#ç±»"></a> ç±»</h2><p><strong>ç±»ï¼ˆClassï¼‰</strong>Â ç”¨äºå®šä¹‰è™šå¹»å¼•æ“ä¸­Actoræˆ–å¯¹è±¡çš„è¡Œä¸ºå’Œå±æ€§ã€‚ç±»å¯ä»¥è¢«ç»§æ‰¿ï¼Œè¿™æ„å‘³ç€æŸä¸ªç±»å¯ä»¥ä»å…¶çˆ¶ç±»ï¼ˆè¡ç”Ÿæˆ–æ´¾ç”Ÿå‡ºè¯¥ç±»çš„ç±»ï¼‰è·å¾—ä¿¡æ¯ï¼Œç„¶åå†å°†ä¿¡æ¯ä¼ é€’ç»™å­ç±»ã€‚ç±»å¯ç”¨C++ä»£ç æˆ–è“å›¾åˆ›å»ºã€‚</p><h2 id="actor"><a class="markdownIt-Anchor" href="#actor"></a> Actor</h2><p>æ‰€æœ‰å¯ä»¥æ”¾å…¥å…³å¡çš„å¯¹è±¡éƒ½æ˜¯Â <strong>Actor</strong>ï¼Œæ¯”å¦‚æ‘„åƒæœºã€é™æ€ç½‘æ ¼ä½“ã€ç©å®¶èµ·å§‹ä½ç½®ã€‚Actoræ”¯æŒä¸‰ç»´å˜æ¢ï¼Œä¾‹å¦‚å¹³ç§»ã€æ—‹è½¬å’Œç¼©æ”¾ã€‚ä½ å¯ä»¥é€šè¿‡æ¸¸æˆé€»è¾‘ä»£ç ï¼ˆC++æˆ–è“å›¾ï¼‰åˆ›å»ºï¼ˆç”Ÿæˆï¼‰æˆ–é”€æ¯Actorã€‚</p><p>åœ¨C++ä¸­ï¼ŒAActoræ˜¯æ‰€æœ‰Actorçš„åŸºç±»ã€‚</p><h2 id="ç±»å‹è½¬æ¢"><a class="markdownIt-Anchor" href="#ç±»å‹è½¬æ¢"></a> ç±»å‹è½¬æ¢</h2><p><strong>ç±»å‹è½¬æ¢ï¼ˆCastingï¼‰</strong>Â æœ¬è´¨ä¸Šæ˜¯è·å–æŸä¸ªç‰¹å®šActorï¼ˆæˆ–ç±»ï¼‰ï¼Œç„¶åå°†å®ƒè§†ä¸ºå¦ä¸€ç§ç±»è¿›è¡Œå¤„ç†ã€‚ç±»å‹è½¬æ¢å¯ä»¥æˆåŠŸï¼Œä¹Ÿå¯ä»¥å¤±è´¥ã€‚å¦‚æœè½¬æ¢æˆåŠŸï¼Œä½ å°±èƒ½è®¿é—®ç›®æ ‡Actorçš„ç‰¹æœ‰å‡½æ•°å’ŒåŠŸèƒ½ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œä½ å¸Œæœ›åœ¨æ¸¸æˆä¸­åˆ›å»ºå¤šç§ä½“ç§¯ï¼Œè®©å®ƒä»¬ä»¥ä¸åŒæ–¹å¼å½±å“ç©å®¶ã€‚å…¶ä¸­ä¸€ä¸ªä½“ç§¯æ˜¯Â <strong>ç«ç„°</strong>ï¼Œå®ƒä¼šä¸æ–­ä¼¤å®³ç©å®¶ç”Ÿå‘½å€¼ã€‚å½“ç©å®¶é‡åˆ°å…³å¡ä¸­çš„ä½“ç§¯æ—¶ï¼Œä½ å¯ä»¥å°†è¯¥ä½“ç§¯Â <strong>è½¬æ¢</strong>Â æˆÂ <strong>ç«ç„°</strong>ï¼Œä»¥æ­¤è®¿é—®å®ƒçš„&quot;ä¼¤å®³ç©å®¶&quot;å‡½æ•°ã€‚</p><ul><li><p>å¦‚æœè½¬æ¢æˆåŠŸï¼Œè¡¨ç¤ºç©å®¶ç«™åœ¨ç«ä¸­ï¼Œé‚£ä¹ˆç©å®¶ç”Ÿå‘½å€¼å°±ä¼šå¼€å§‹å‡å°‘ã€‚</p></li><li><p>å¦‚æœè½¬æ¢å¤±è´¥ï¼Œè¡¨ç¤ºç©å®¶ç«™åœ¨å…¶ä»–ä½“ç§¯ä¸­ï¼Œé‚£ä¹ˆç”Ÿå‘½å€¼ä¸ä¼šå‡å°‘ã€‚</p></li></ul><p>ç±»å‹è½¬æ¢ä¸åŒäºå•çº¯åœ°æ£€æŸ¥æŸä¸ªActoræ˜¯å¦å±äºæŸä¸ªç±»ï¼Œç„¶åè¿”å›ä¸€ä¸ªäºŒå…ƒå€¼ï¼ˆæ˜¯æˆ–å¦ï¼‰ï¼›è¿™ç§æƒ…å†µä¸‹ï¼Œä½ æ— æ³•è®¿é—®è¯¥ç±»çš„å‡½æ•°ã€‚</p><h2 id="ç»„ä»¶"><a class="markdownIt-Anchor" href="#ç»„ä»¶"></a> ç»„ä»¶</h2><p><strong>ç»„ä»¶ï¼ˆComponentï¼‰</strong>Â æ˜¯å¯ä»¥æ·»åŠ åˆ°Actorä¸Šçš„ä¸€é¡¹åŠŸèƒ½ã€‚</p><p>å½“ä½ ä¸ºActoræ·»åŠ ç»„ä»¶åï¼Œè¯¥Actorä¾¿è·å¾—äº†è¯¥ç»„ä»¶æ‰€æä¾›çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼š</p><ul><li><p>èšå…‰ç¯ç»„ä»¶ï¼ˆSpot Light Componentï¼‰å…è®¸ä½ çš„Actoråƒèšå…‰ç¯ä¸€æ ·å‘å…‰ï¼Œ</p></li><li><p>æ—‹è½¬ç§»åŠ¨ç»„ä»¶ï¼ˆRotating Movement Componentï¼‰èƒ½ä½¿ä½ çš„Actorå››å¤„æ—‹è½¬ï¼Œ</p></li><li><p>éŸ³é¢‘ç»„ä»¶ï¼ˆAudio Componentï¼‰å°†ä½¿ä½ çš„Actorèƒ½å¤Ÿæ’­æ”¾å£°éŸ³ã€‚</p></li></ul><p>ç»„ä»¶å¿…é¡»ç»‘å®šåœ¨Actorèº«ä¸Šï¼Œå®ƒä»¬æ— æ³•å•ç‹¬å­˜åœ¨ã€‚</p><h2 id="pawn"><a class="markdownIt-Anchor" href="#pawn"></a> Pawn</h2><p><strong>Pawn</strong>Â æ˜¯Actorçš„å­ç±»ï¼Œå®ƒå¯ä»¥å……å½“æ¸¸æˆä¸­çš„åŒ–èº«æˆ–äººç‰©ï¼ˆä¾‹å¦‚æ¸¸æˆä¸­çš„è§’è‰²ï¼‰ã€‚Pawnå¯ä»¥ç”±ç©å®¶æ§åˆ¶ï¼Œä¹Ÿå¯ä»¥ç”±æ¸¸æˆAIæ§åˆ¶å¹¶ä»¥éç©å®¶è§’è‰²ï¼ˆNPCï¼‰çš„å½¢å¼å­˜åœ¨äºæ¸¸æˆä¸­ã€‚</p><p>å½“Pawnè¢«äººç±»ç©å®¶æˆ–AIç©å®¶æ§åˆ¶æ—¶ï¼Œå®ƒè¢«è§†ä¸ºÂ <strong>å·²è¢«æ§åˆ¶ï¼ˆPossessedï¼‰</strong>ã€‚ç›¸åï¼Œå½“Pawnæœªè¢«äººç±»ç©å®¶æˆ–AIç©å®¶æ§åˆ¶æ—¶ï¼Œå®ƒè¢«è§†ä¸ºÂ <strong>æœªè¢«æ§åˆ¶ï¼ˆUnpossessedï¼‰</strong>ã€‚</p><h2 id="è§’è‰²"><a class="markdownIt-Anchor" href="#è§’è‰²"></a> è§’è‰²</h2><p><strong>è§’è‰²ï¼ˆCharacterï¼‰</strong>Â æ˜¯Pawn Actorçš„å­ç±»ï¼Œæ—¨åœ¨ç”¨ä½œç©å®¶è§’è‰²ã€‚è§’è‰²å­ç±»åŒ…æ‹¬ç¢°æ’è®¾ç½®ã€åŒè¶³è¿åŠ¨çš„è¾“å…¥ç»‘å®šï¼Œä»¥åŠç”¨äºæ§åˆ¶è¿åŠ¨çš„é™„åŠ ä»£ç ã€‚</p><h2 id="ç©å®¶æ§åˆ¶å™¨"><a class="markdownIt-Anchor" href="#ç©å®¶æ§åˆ¶å™¨"></a> ç©å®¶æ§åˆ¶å™¨</h2><p><strong>ç©å®¶æ§åˆ¶å™¨ï¼ˆPlayer Controllerï¼‰</strong>Â ä¼šè·å–æ¸¸æˆä¸­ç©å®¶çš„è¾“å…¥ä¿¡æ¯ï¼Œç„¶åè½¬æ¢ä¸ºäº¤äº’æ•ˆæœï¼Œæ¯ä¸ªæ¸¸æˆä¸­è‡³å°‘æœ‰ä¸€ä¸ªç©å®¶æ§åˆ¶å™¨ã€‚ç©å®¶æ§åˆ¶å™¨é€šå¸¸ä¼šæ§åˆ¶ä¸€ä¸ªPawnæˆ–è§’è‰²ï¼Œå°†å…¶ä½œä¸ºç©å®¶åœ¨æ¸¸æˆä¸­çš„åŒ–èº«ã€‚</p><p>ç©å®¶æ§åˆ¶å™¨è¿˜æ˜¯å¤šäººæ¸¸æˆä¸­çš„ä¸»è¦ç½‘ç»œäº¤äº’èŠ‚ç‚¹ã€‚åœ¨å¤šäººæ¸¸æˆä¸­ï¼ŒæœåŠ¡å™¨ä¼šä¸ºæ¸¸æˆä¸­çš„æ¯ä¸ªç©å®¶ç”Ÿæˆä¸€ä¸ªç©å®¶æ§åˆ¶å™¨å®ä¾‹ï¼Œå› ä¸ºå®ƒå¿…é¡»å¯¹æ¯ä¸ªç©å®¶è¿›è¡Œç½‘ç»œå‡½æ•°è°ƒç”¨ã€‚æ¯ä¸ªå®¢æˆ·ç«¯åªæ‹¥æœ‰ä¸å…¶ç©å®¶ç›¸å¯¹åº”çš„ç©å®¶æ§åˆ¶å™¨ï¼Œå¹¶ä¸”åªèƒ½ä½¿ç”¨å…¶ç©å®¶æ§åˆ¶å™¨ä¸æœåŠ¡å™¨é€šä¿¡ã€‚</p><p>ç›¸å…³çš„C++ç±»æ˜¯Â <code>PlayerController</code>ã€‚</p><h2 id="aiæ§åˆ¶å™¨"><a class="markdownIt-Anchor" href="#aiæ§åˆ¶å™¨"></a> AIæ§åˆ¶å™¨</h2><p>ç©å®¶æ§åˆ¶å™¨é€šè¿‡æ§åˆ¶Pawnæ¥è¡¨ç¤ºæ¸¸æˆä¸­çš„ç©å®¶ï¼Œä¸æ­¤ç±»ä¼¼ï¼Œ<strong>AIæ§åˆ¶å™¨</strong>Â é€šè¿‡æ§åˆ¶Pawnæ¥è¡¨ç¤ºæ¸¸æˆä¸­çš„éç©å®¶è§’è‰²ï¼ˆNPCï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒPawnå’Œè§’è‰²æœ€ç»ˆéƒ½ä¼šç”±åŸºæœ¬çš„AIæ§åˆ¶å™¨æ§åˆ¶ï¼Œé™¤éå®ƒä»¬è¢«æŒ‡å®šé€šè¿‡ç©å®¶æ§åˆ¶å™¨æ§åˆ¶ï¼Œæˆ–è¢«å‘ŠçŸ¥ä¸éœ€è¦ä¸ºå®ƒä»¬è‡ªå·±åˆ›å»ºAIæ§åˆ¶å™¨ã€‚</p><p>å…³è”çš„C++ç±»æ˜¯Â <code>AIController</code>ã€‚</p><h2 id="ç©å®¶çŠ¶æ€"><a class="markdownIt-Anchor" href="#ç©å®¶çŠ¶æ€"></a> ç©å®¶çŠ¶æ€</h2><p><strong>ç©å®¶çŠ¶æ€ï¼ˆPlayer Stateï¼‰</strong>Â è¡¨ç¤ºæŸä¸ªæ¸¸æˆå‚ä¸è€…çš„çŠ¶æ€ï¼Œå¯ä»¥æ˜¯äººç±»ç©å®¶ï¼Œä¹Ÿå¯ä»¥æ˜¯æ¨¡æ‹Ÿç©å®¶çš„æœºå™¨äººã€‚ä½œä¸ºæ¸¸æˆåœºæ™¯çš„ä¸€éƒ¨åˆ†è€Œå­˜åœ¨çš„éç©å®¶ç±»AIä¸ä¼šæœ‰ç©å®¶çŠ¶æ€ã€‚</p><p>ç©å®¶çŠ¶æ€ï¼ˆPlayer Stateï¼‰èƒ½åŒ…æ‹¬çš„ç©å®¶ä¿¡æ¯åŒ…æ‹¬ï¼š</p><ul><li><p>åç§°</p></li><li><p>å½“å‰å…³å¡</p></li><li><p>ç”Ÿå‘½å€¼</p></li><li><p>åˆ†æ•°</p></li><li><p>åœ¨æŸäº›æŠ¢æ——æ¸¸æˆä¸­ï¼Œç©å®¶å½“å‰æ˜¯å¦æºå¸¦æ——å­ã€‚</p></li></ul><p>åœ¨å¤šäººæ¸¸æˆä¸­ï¼Œæ‰€æœ‰ç”µè„‘éƒ½ä¿å­˜ç€æ‰€æœ‰ç©å®¶çš„ç©å®¶çŠ¶æ€ï¼Œå¹¶ä¸”ç©å®¶çŠ¶æ€å¯ä»¥å°†æ•°æ®ä»æœåŠ¡å™¨å¤åˆ¶åˆ°å®¢æˆ·ç«¯ä»¥ä¿æŒåŒæ­¥ã€‚è¿™ç‚¹ä¸ç©å®¶æ§åˆ¶å™¨ä¸åŒï¼Œå®ƒåªä¼šä¿å­˜åœ¨ç©å®¶æ‰€åœ¨çš„å®¢æˆ·ç«¯ä¸Šã€‚</p><p>å…³è”çš„C++ç±»æ˜¯Â <code>PlayerState</code>ã€‚</p><h2 id="æ¸¸æˆæ¨¡å¼"><a class="markdownIt-Anchor" href="#æ¸¸æˆæ¨¡å¼"></a> æ¸¸æˆæ¨¡å¼</h2><p><strong>æ¸¸æˆæ¨¡å¼ï¼ˆGameModeï¼‰</strong>Â ç±»è´Ÿè´£è®¾ç½®å½“å‰æ¸¸æˆçš„è§„åˆ™ã€‚è§„åˆ™åŒ…æ‹¬ï¼š</p><ul><li><p>ç©å®¶å¦‚ä½•åŠ å…¥æ¸¸æˆã€‚</p></li><li><p>æ˜¯å¦å¯ä»¥æš‚åœæ¸¸æˆã€‚</p></li><li><p>ä»»ä½•ä¸æ¸¸æˆç›¸å…³çš„è¡Œä¸ºï¼Œä¾‹å¦‚è·èƒœæ¡ä»¶ã€‚</p></li></ul><p>ä½ å¯ä»¥åœ¨Â é¡¹ç›®è®¾ç½®ä¸­è®¾ç½®é»˜è®¤çš„æ¸¸æˆæ¨¡å¼ï¼Œä¹Ÿå¯ä»¥å…³å¡ä¸­è¦†ç›–è¿™äº›è®¾ç½®ã€‚æ— è®ºä½ å¦‚ä½•å®ç°æ¸¸æˆæ¨¡å¼ï¼Œæ¯ä¸ªå…³å¡å§‹ç»ˆåªèƒ½æœ‰ä¸€ä¸ªæ¸¸æˆæ¨¡å¼ã€‚</p><p>åœ¨å¤šäººæ¸¸æˆä¸­ï¼Œæ¸¸æˆæ¨¡å¼åªå­˜åœ¨äºæœåŠ¡å™¨ä¸Šï¼Œè§„åˆ™ä¼šè¢«å¤åˆ¶ï¼ˆå‘é€ï¼‰ç»™æ‰€æœ‰è”ç½‘çš„å®¢æˆ·ç«¯ã€‚</p><p>ç›¸å…³çš„C++ç±»æ˜¯Â <code>GameMode</code>ã€‚</p><h2 id="æ¸¸æˆçŠ¶æ€"><a class="markdownIt-Anchor" href="#æ¸¸æˆçŠ¶æ€"></a> æ¸¸æˆçŠ¶æ€</h2><p><strong>æ¸¸æˆçŠ¶æ€ï¼ˆGameStateï¼‰</strong>Â æ˜¯ä¸€ç§å®¹å™¨ï¼Œä¿å­˜ç€ä½ å¸Œæœ›åœ¨æ¸¸æˆä¸­å¤åˆ¶ç»™æ¯ä¸ªå®¢æˆ·ç«¯çš„ä¿¡æ¯ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå®ƒè¡¨ç¤ºæ¯ä¸ªè”ç½‘ç©å®¶çš„&quot;æ¸¸æˆçŠ¶æ€&quot;ã€‚</p><p>æ¸¸æˆçŠ¶æ€åŒ…å«çš„éƒ¨åˆ†ä¿¡æ¯åŒ…æ‹¬ï¼š</p><ul><li><p>æ¸¸æˆåˆ†æ•°</p></li><li><p>æ¯”èµ›æ˜¯å¦å·²å¼€å§‹</p></li><li><p>æ ¹æ®åœºæ™¯ä¸­ç©å®¶çš„äººæ•°ï¼Œéœ€è¦ç”Ÿæˆå¤šå°‘AI</p></li></ul><p>å¦‚æœæ˜¯å¤šäººæ¸¸æˆï¼Œåˆ™æ¯ä¸ªç©å®¶çš„ç”µè„‘ä¸Šéƒ½åªæœ‰ä¸€ä¸ªæ¸¸æˆçŠ¶æ€å®ä¾‹ï¼Œè€ŒæœåŠ¡å™¨çš„å®ä¾‹ä¸ºæƒå¨å®ä¾‹ï¼ˆå³å®¢æˆ·ç«¯çš„ä¿¡æ¯æ›´æ–°æ¥æºï¼‰ã€‚</p><p>ç›¸å…³çš„C++ç±»æ˜¯Â <code>GameState</code>ã€‚</p><h2 id="ç¬”åˆ·"><a class="markdownIt-Anchor" href="#ç¬”åˆ·"></a> ç¬”åˆ·</h2><p><strong>ç¬”åˆ·ï¼ˆBrushï¼‰</strong>Â æ˜¯ä¸€ç§Actorï¼Œç”¨äºæè¿°ä¸€ä¸ª3Då‡ ä½•ä½“ï¼Œä¾‹å¦‚æ–¹å½¢æˆ–åœ†å½¢ã€‚ä½ å¯ä»¥åœ¨å…³å¡ä¸­åº”ç”¨ç¬”åˆ·ï¼Œä»¥ä¾¿å®šä¹‰å…³å¡å‡ ä½•ä½“ï¼ˆç§°ä¸ºäºŒå…ƒç©ºé—´åˆ’åˆ†ç¬”åˆ·ï¼Œç®€ç§°BSPç¬”åˆ·ï¼‰ã€‚å‡å¦‚ä½ æƒ³å¿«é€Ÿæ­å»ºå…³å¡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•ã€‚</p><h2 id="ä½“ç§¯"><a class="markdownIt-Anchor" href="#ä½“ç§¯"></a> ä½“ç§¯</h2><p><strong>ä½“ç§¯ï¼ˆVolumesï¼‰</strong>Â æ˜¯ä¸€ç§å­˜åœ¨è¾¹æ¡†çš„3Dç©ºé—´ï¼Œä¼šæ ¹æ®æ–½åŠ ç»™å®ƒä»¬çš„æ•ˆæœäº§ç”Ÿä¸åŒçš„ç”¨é€”ã€‚ä¾‹å¦‚ï¼š</p><ul><li><p><strong>é˜»æŒ¡ä½“ç§¯ï¼ˆBlocking Volumesï¼‰</strong>ï¼Œä¸€ç§ä¸å¯è§çš„ä½“ç§¯ï¼Œç”¨æ¥é˜²æ­¢Actorç©¿è¿‡å®ƒä»¬ã€‚</p></li><li><p><strong>ä¼¤å®³ç”Ÿæˆä½“ç§¯ï¼ˆPain Causing Volumesï¼‰</strong>ï¼Œä¼šå¯¹è¿›å…¥å®ƒä»¬çš„Actoräº§ç”ŸæŒç»­æ€§çš„ä¼¤å®³ã€‚</p></li><li><p><strong>è§¦å‘ä½“ç§¯ï¼ˆTrigger Volumesï¼‰</strong>ï¼Œå¯ä»¥é€šè¿‡ç¼–ç¨‹ï¼Œè®©Actoråœ¨è¿›å…¥æˆ–ç¦»å¼€å®ƒä»¬æ˜¯è§¦å‘äº‹ä»¶ã€‚</p></li></ul><h2 id="å…³å¡"><a class="markdownIt-Anchor" href="#å…³å¡"></a> å…³å¡</h2><p><strong>å…³å¡ï¼ˆLevelï¼‰</strong>Â æ˜¯ç”¨æˆ·å®šä¹‰çš„æ¸¸æˆåŒºåŸŸã€‚å…³å¡åŒ…å«äº†ç©å®¶èƒ½çœ‹åˆ°çš„æ‰€æœ‰å†…å®¹ï¼Œä¾‹å¦‚å‡ ä½•ä½“ã€Pawnå’ŒActorã€‚</p><p>åœ¨è™šå¹»ç¼–è¾‘å™¨ä¸­ï¼Œæ¯ä¸ªå…³å¡éƒ½è¢«ä¿å­˜ä¸ºå•ç‹¬çš„Â <code>.umap</code>Â æ–‡ä»¶ï¼Œå®ƒä»¬æœ‰æ—¶ä¹Ÿè¢«ç§°ä¸ºÂ <strong>åœ°å›¾</strong>ã€‚</p><h2 id="ä¸–ç•Œ"><a class="markdownIt-Anchor" href="#ä¸–ç•Œ"></a> ä¸–ç•Œ</h2><p><strong>ä¸–ç•Œåœºæ™¯ï¼ˆWorldï¼‰</strong>Â æ˜¯ä¸€ä¸ªå®¹å™¨ï¼ŒåŒ…å«äº†æ¸¸æˆä¸­çš„æ‰€æœ‰å…³å¡ã€‚å®ƒå¯ä»¥å¤„ç†å…³å¡æµé€ï¼Œè¿˜èƒ½ç”Ÿæˆï¼ˆåˆ›å»ºï¼‰åŠ¨æ€Actorã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++ æ™ºèƒ½æŒ‡é’ˆâ€”â€”å…±äº«æŒ‡é’ˆã€å…±äº«å¼•ç”¨ã€å¼±æŒ‡é’ˆ</title>
      <link href="/2025/04/25/UE/UEC++%20%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88%E2%80%94%E2%80%94%E5%85%B1%E4%BA%AB%E6%8C%87%E9%92%88%E3%80%81%E5%85%B1%E4%BA%AB%E5%BC%95%E7%94%A8%E3%80%81%E5%BC%B1%E6%8C%87%E9%92%88/"/>
      <url>/2025/04/25/UE/UEC++%20%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88%E2%80%94%E2%80%94%E5%85%B1%E4%BA%AB%E6%8C%87%E9%92%88%E3%80%81%E5%85%B1%E4%BA%AB%E5%BC%95%E7%94%A8%E3%80%81%E5%BC%B1%E6%8C%87%E9%92%88/</url>
      
        <content type="html"><![CDATA[<p>C++ ä¸­ï¼Œå¾€å¾€ä»¤äººå¤´ç—›çš„æ˜¯æŒ‡é’ˆçš„ç®¡ç†é—®é¢˜ï¼åœ¨å¯¹è±¡åŠ¨æ€æ„å»ºæ—¶ï¼Œæˆ‘ä»¬éœ€è¦å°†å¯¹è±¡æŒ‡é’ˆè¿›è¡Œå­˜å‚¨ï¼Œä¸€æ—¦å¿˜è®°é‡Šæ”¾ï¼Œé‚£ä¹ˆå°†ä¼šå¯¼è‡´ä¸å¯é¢„ä¼°çš„é”™è¯¯ã€‚åœ¨C++ä¸­æ’æŸ¥æŒ‡é’ˆå¯¼è‡´çš„å†…å­˜æ³„æ¼é—®é¢˜å®åœ¨ä»¤äººå¤´ç—›ï¼åœ¨è™šå¹»ä¸­ï¼Œä¸ºäº†è§£å†³æ­¤ç±»é—®é¢˜ï¼ŒåŠ å…¥äº†æ™ºèƒ½æŒ‡é’ˆï¼ˆå…±äº«æŒ‡é’ˆï¼Œå…±äº«å¼•ç”¨ï¼Œå¼±æŒ‡é’ˆï¼‰ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨åŠ¨æ€æ–¹å¼æ„å»ºå¯¹è±¡æ—¶ï¼Œå†ä¹Ÿä¸éœ€è¦æ‹…å¿ƒå†…å­˜é‡Šæ”¾é—®é¢˜ï¼æŒ‡é’ˆçš„é‡Šæ”¾è§„åˆ™ç”±å¼•æ“åˆ¶å®šï¼ŒåŒ…æ‹¬é‡Šæ”¾æ—¶æœºï¼</p><p><strong>1ã€è‡ªå®šä¹‰ç±»</strong></p><p>åœ¨æ„å»ºè‡ªå®šä¹‰ç±»æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°ä¸€ç§æƒ…å†µï¼Œå½“ç±»ä¸­æŒæœ‰Uç±»å¯¹è±¡æŒ‡é’ˆæ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›é˜»æ­¢åƒåœ¾å›æ”¶å™¨å¯¹å¯¹è±¡é‡Šæ”¾ã€‚ä½†æ˜¯è‡ªå®šä¹‰ç±»ä¸­åˆæ— æ³•ä½¿ç”¨UPROPERTYå®ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é‡‡å–å°†ç±»ç»§æ‰¿è‡ªFGCObjectï¼Œå¹¶é‡å†™çˆ¶ç±»å‡½æ•°AddReferencedObjectsã€‚å°†éœ€è¦é˜»æ­¢é‡Šæ”¾çš„æŒ‡é’ˆåŠ å…¥åˆ°æ“ä½œé˜Ÿåˆ—ï¼Œä»¥é˜²æ­¢å¯¹è±¡è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ï¼</p><p>æ³¨æ„ï¼šå½“æ„å»ºç±»è¢«é‡Šæ”¾æ—¶ï¼ˆéœ€è¦æˆ‘ä»¬ä¿è¯ï¼‰ï¼Œå¹¶ä¸”è°ƒç”¨å…¶ææ„å‡½æ•°ï¼ˆ<strong>ææ„å‡½æ•°éœ€è¦é‡å†™çˆ¶ç±»ææ„å‡½æ•°</strong>ï¼‰ï¼Œå¯¹è±¡å°†è‡ªåŠ¨æ¸…é™¤å…¶æ‰€æ·»åŠ çš„æ‰€æœ‰å¼•ç”¨ã€‚</p><p><strong>2ã€æ™ºèƒ½æŒ‡é’ˆ</strong></p><ul><li>è™šå¹»ä¸­å­˜åœ¨ä¸€å¥—éå¸¸å¼ºå¤§çš„åŠ¨æ€å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œè€Œè¿™å¥—æœºåˆ¶ä¸­æ ¹æœ¬åœ¨äºæ™ºèƒ½æŒ‡é’ˆï¼ˆéä¾µå…¥å¼ï¼‰ï¼Œå¹¶ä¸”UEçš„æ™ºèƒ½æŒ‡é’ˆé€Ÿåº¦ç›¸æ¯”STLæ›´å¿«ï¼Œé€Ÿåº¦å’Œæ™®é€šC++æŒ‡é’ˆé€Ÿåº¦ä¸€æ ·ã€‚</li><li>æ™ºèƒ½æŒ‡é’ˆæœ¬è´¨çš„ç›®çš„æ˜¯å°†é‡Šæ”¾å†…å­˜å·¥ä½œè¿›è¡Œæ‰˜ç®¡ã€‚å½“ä¸¤ä¸ªæ™ºèƒ½æŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªç©ºé—´ï¼Œä¸€ä¸ªè®¾ç½®ä¸ºç©ºï¼Œå¦ä¸€ä¸ªä¸ä¼šè·Ÿéšä¸ºç©ºï¼Œæ™ºèƒ½æŒ‡é’ˆè®¾ç½®ä¸ºç©ºå¹¶ä¸æ˜¯é‡Šæ”¾å†…å­˜ç©ºé—´ï¼Œåªæ˜¯åœ¨å‡å°‘ç©ºé—´å¼•ç”¨ã€‚</li></ul><p>æ³¨æ„ï¼šæ™ºèƒ½æŒ‡é’ˆåªèƒ½ä½¿ç”¨äºè‡ªå®šä¹‰ç±»ï¼ŒUç±»ç¦æ­¢ä½¿ç”¨</p><p><strong>å…±äº«æŒ‡é’ˆå’Œå…±äº«å¼•ç”¨çš„ä¼˜ç‚¹ï¼š</strong></p><p><img src="2238312-20220923121730645-1660921715.png" alt="" /></p><p><strong>ä¸‰ä¸ªæŒ‡é’ˆ</strong></p><p><img src="2238312-20220923121758248-88833753.png" alt="" /></p><p><strong>3ã€å…±äº«æŒ‡é’ˆ</strong></p><p>å…±äº«æŒ‡é’ˆæ˜¯è™šå¹»ä¸­æœ€å¸¸ç”¨çš„æ™ºèƒ½æŒ‡é’ˆï¼Œåœ¨æ“ä½œä¸Šå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ„å»ºæ‰˜ç®¡å†…å­˜æŒ‡é’ˆï¼å…±äº«æŒ‡é’ˆæœ¬èº«éä¾µå…¥å¼çš„ï¼Œè¿™ä½¿å¾—æŒ‡é’ˆçš„ä½¿ç”¨ä¸æ“ä½œå’Œæ™®é€šæŒ‡é’ˆä¸€è‡´ï¼å…±äº«æŒ‡é’ˆæ”¯æŒä¸»åŠ¨æŒ‡å‘ç©ºï¼Œå¹¶ä¸”å…±äº«æŒ‡é’ˆæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼ŒèŠ‚çœå†…å­˜ï¼Œæ€§èƒ½é«˜æ•ˆ</p><p>æ³¨æ„ï¼šæ„å»ºè‡ªå®šä¹‰ç±»æ—¶ï¼Œéœ€è¦ä½¿ç”¨Â <strong><em>F</em></strong>Â å¼€å¤´</p><p><img src="2238312-20220923121914509-1738925064.png" alt="" /></p><p><strong>åŸºæœ¬æ“ä½œè¯­æ³•ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è‡ªå®šä¹‰ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MX_API</span> FTestClass</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">FTestClass</span>();</span><br><span class="line">    ~<span class="built_in">FTestClass</span>();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">TestFun</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…¶ä»–ç±»</span></span><br><span class="line"><span class="comment">// æ„å»ºä¸€ä¸ªå…±äº«æŒ‡é’ˆï¼Œä½†æ˜¯æ²¡æœ‰ç»´æŠ¤ä»»ä½•ç©ºé—´</span></span><br><span class="line">TSharedPtr&lt;FTestClass&gt; Ftc01;<span class="comment">// ä¸æ¨è</span></span><br><span class="line"><span class="comment">// æ„å»ºä¸€ä¸ªå…±äº«æŒ‡é’ˆï¼Œå¹¶ç»´æŠ¤ä¸€å¿«å†…å­˜</span></span><br><span class="line"><span class="function">TSharedPtr&lt;FTestClass&gt; <span class="title">Ftc02</span><span class="params">(<span class="keyword">new</span> FTestClass())</span></span>;</span><br><span class="line"><span class="comment">//MakeShareableå‡½æ•°æ˜¯ç”¨æ¥æ„å»ºå…±äº«æŒ‡é’ˆçš„å¿«æ·æ–¹å¼</span></span><br><span class="line"><span class="comment">// æ„å»ºä¸€ä¸ªå…±äº«æŒ‡é’ˆï¼Œå¹¶ç»´æŠ¤ä¸€å¿«å†…å­˜</span></span><br><span class="line">TSharedPtr&lt;FTestClass&gt; Ftc03 = <span class="built_in">MakeShareable</span>(<span class="keyword">new</span> <span class="built_in">FTestClass</span>());</span><br><span class="line"><span class="comment">// è§£å¼•ç”¨å’Œæ“ä½œ</span></span><br><span class="line">Ftc02-&gt;<span class="built_in">TestFun</span>();</span><br><span class="line">Ftc02.<span class="built_in">Get</span>()-&gt;<span class="built_in">TestFun</span>();</span><br><span class="line">(*Ftc02).<span class="built_in">TestFun</span>();</span><br><span class="line"><span class="comment">// æ¯”è¾ƒä¸¤ä¸ªæ™ºèƒ½ç®¡ç†çš„å†…å­˜æ˜¯å¦æ˜¯åŒä¸€ä¸ª</span></span><br><span class="line"><span class="keyword">if</span> (Ftc02 == Ftc03) &#123;&#125;</span><br><span class="line"><span class="comment">// åˆ¤æ–­æ˜¯å¦ä¸ºç©º æ³¨æ„æ“ä½œå‡½æ•°æ˜¯å…±äº«æŒ‡é’ˆçš„æˆå‘˜å‡½æ•°</span></span><br><span class="line"><span class="keyword">if</span> (Ftc02.<span class="built_in">IsValid</span>()) &#123;&#125;</span><br><span class="line"><span class="comment">// æ³¨æ„æ“ä½œå‡½æ•°æ˜¯å…±äº«æŒ‡é’ˆçš„æˆå‘˜å‡½æ•°</span></span><br><span class="line"><span class="keyword">if</span> (Ftc02.<span class="built_in">Get</span>() == <span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line"><span class="comment">// è·å–å¼•ç”¨è®¡æ—¶å™¨ è·å¾—å½“å‰åœ°å€è¢«å¼•ç”¨ä¸ªæ•°</span></span><br><span class="line">Ftc02.<span class="built_in">GetSharedReferenceCount</span>();</span><br><span class="line"><span class="comment">// é‡Šæ”¾</span></span><br><span class="line">Ftc02.<span class="built_in">Reset</span>();</span><br><span class="line">Ftc03 = <span class="literal">nullptr</span>;</span><br></pre></td></tr></table></figure><p><strong>4ã€å…±äº«å¼•ç”¨</strong></p><ul><li>å…±äº«å¼•ç”¨ç¦æ­¢ä¸ºç©ºï¼Œè¡¨æ˜äº†å…±äº«å¼•ç”¨åˆ›å»ºåå¿…é¡»ç»™äºˆæœ‰æ•ˆåˆå§‹åŒ–ï¼Œå¯ä»¥ä½¿å¾—ä»£ç æ›´åŠ å®‰å…¨ç®€æ´ï¼Œä¿è¯äº†å¯¹è±¡è®¿é—®çš„å®‰å…¨æ€§ã€‚æ— æ³•ä¸»åŠ¨é‡Šæ”¾å…±äº«å¼•ç”¨ï¼Œå¯ä»¥è·Ÿéšå¯¹è±¡é‡Šæ”¾å‡å°‘å¼•ç”¨è®¡æ•°å™¨</li><li>å…±äº«å¼•ç”¨çš„å®‰å…¨æ€§ä½“ç°åœ¨ï¼Œå¦‚æœä½¿ç”¨å…±äº«å¼•ç”¨æ„å»ºçš„å¯¹è±¡ï¼Œæ— æ³•å°†å¯¹è±¡ç©ºé—´è®¾ç½®ä¸ºç©ºã€‚å¦‚æœæƒ³é‡Šæ”¾å†…å­˜ï¼Œå¯ä»¥å€ŸåŠ©æŒ‡å‘å…¶ä»–å…±äº«å¼•ç”¨æ¥å‡å°‘å¼•ç”¨è®¡æ•°ï¼Œæ¥é‡Šæ”¾ç©ºé—´</li><li>å…±äº«å¼•ç”¨æœ¬è´¨ï¼Œæ— æ³•ä¸»åŠ¨å‡å°‘å¼•ç”¨è®¡æ•°å™¨ï¼Œåªèƒ½é€šè¿‡è¢«åŠ¨æ–¹æ³•ï¼Œä¾‹å¦‚ç”Ÿå‘½å‘¨æœŸç»ˆç»“ï¼Œå…±äº«å¼•ç”¨æ˜“ä¸»</li></ul><p><strong>åŸºæœ¬è¯­æ³•æ“ä½œ</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰</span></span><br><span class="line">TSharedRef&lt;FTestClass&gt; Ftc01;<span class="comment">// é”™è¯¯æ‰§è¡Œå°†å¯¼è‡´å´©æºƒ</span></span><br><span class="line"><span class="function">TSharedRef&lt;FTestClass&gt; <span class="title">Ftc02</span><span class="params">(<span class="keyword">new</span> FTestClass)</span></span>;<span class="comment">// æ­£ç¡®</span></span><br><span class="line"><span class="comment">// è§£å¼•ç”¨æ“ä½œ</span></span><br><span class="line">Ftc02-&gt;<span class="built_in">TestFun</span>();</span><br><span class="line">(*Ftc02).<span class="built_in">TestFun</span>();</span><br><span class="line"><span class="comment">// è¿”å›cosnt å¼•ç”¨ ï¼Œç¦æ­¢å°†å¯¹è±¡ä¸»åŠ¨é‡Šæ”¾</span></span><br><span class="line"><span class="type">const</span> FTestClass&amp; Ftc03 = Ftc02.<span class="built_in">Get</span>();</span><br><span class="line"><span class="comment">// å’Œå…±äº«æŒ‡é’ˆè½¬æ¢</span></span><br><span class="line"><span class="comment">// å…±äº«å¼•ç”¨æ”¯æŒéšå¼è½¬æ¢ä¸ºå…±äº«æŒ‡é’ˆï¼Œç”±äºå…±äº«å¼•ç”¨æ˜¯å®‰å…¨çš„ï¼Œæ‰€ä»¥è½¬æ¢æ˜¯éšå¼è½¬æ¢</span></span><br><span class="line">TSharedPtr&lt;FTestClass&gt; Ftc04 = Ftc02;</span><br><span class="line"><span class="comment">// ä»å…±äº«æŒ‡é’ˆè½¬æ¢åˆ°å…±äº«å¼•ç”¨æ˜¯ä¸å®‰å…¨çš„ï¼Œæ‰€ä»¥éœ€è¦è°ƒç”¨TSå‡½æ•°</span></span><br><span class="line">TSharedRef&lt;FTestClass&gt; Ftc05 = Ftc04.<span class="built_in">ToSharedRef</span>();</span><br></pre></td></tr></table></figure><p><strong>5ã€å¼±æŒ‡é’ˆ</strong></p><ul><li>ä¸ä¼šé˜»æ­¢å¯¹è±¡çš„é”€æ¯ï¼Œå¦‚æœå¼•ç”¨å¯¹è±¡è¢«é”€æ¯ï¼Œåˆ™å¼±æŒ‡é’ˆä¹Ÿå°†è‡ªåŠ¨æ¸…ç©ºã€‚ä¸€èˆ¬å¼±æŒ‡é’ˆçš„æ“ä½œæ„å›¾æ˜¯ä¿å­˜äº†ä¸€ä¸ªåˆ°è¾¾ç›®æ ‡å¯¹è±¡çš„æŒ‡é’ˆï¼Œæ‹…ä¸ä¼šæ§åˆ¶è¯¥å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¼±æŒ‡é’ˆä¸ä¼šå¢åŠ å¼•ç”¨è®¡æ•°ï¼Œå¯ä»¥ç”¨æ¥æ–­å¼€å¼•ç”¨å¾ªç¯é—®é¢˜ã€‚ ã€</li><li>æ— è®ºè°é”€æ¯äº†å¯¹è±¡ï¼Œåªè¦å…¶å¯¹è±¡è¢«é”€æ¯ï¼Œå¼±æŒ‡é’ˆéƒ½å°†è‡ªåŠ¨æ¸…ç©ºï¼Œè¿™ä½¿ä½ èƒ½å¤Ÿå®‰å…¨ç¼“å­˜æŒ‡å‘å¯å˜å¯¹è±¡çš„æŒ‡é’ˆã€‚è¿™ä¹Ÿæ„å‘³ç€ï¼Œå¼±æŒ‡é’ˆå¯èƒ½ä¼šæ„å¤–æ¸…ç©ºï¼Œå¹¶ä¸”ï¼Œä½ å¯ä»¥ä½¿ç”¨å¼±æŒ‡é’ˆæ–­å¼€å¼•ç”¨å¾ªç¯ã€‚</li><li>å½“ä¸å†å­˜åœ¨å¯¹å¯¹è±¡çš„å…±äº«å¼•ç”¨æ—¶ï¼Œå¼±æŒ‡é’ˆçš„å¯¹è±¡å°†è¢«é”€æ¯ã€‚</li><li>å¼±æŒ‡é’ˆæœ‰åŠ©äºè¡¨æ˜æ„å›¾ã€‚å½“ä½ åœ¨æŸä¸ªç±»ä¸­çœ‹åˆ°ä¸€ä¸ªå¼±æŒ‡é’ˆæ—¶ï¼Œä½ å°±ä¼šæ˜ç™½è¯¥ç±»ä»…ç¼“å­˜æŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆï¼Œå®ƒå¹¶ä¸æ§åˆ¶å®ƒçš„ç”Ÿå‘½å‘¨æœŸã€‚</li></ul><p><strong>åŸºæœ¬è¯­æ³•æ“ä½œ</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰</span></span><br><span class="line"><span class="comment">// æ„å»ºç©ºçš„å¼±æŒ‡é’ˆ</span></span><br><span class="line">TWeakPtr&lt;FTestClass&gt; WpFtc01;</span><br><span class="line"><span class="comment">// åˆ©ç”¨å…±äº«æŒ‡é’ˆæ„å»ºå¼±æŒ‡é’ˆ</span></span><br><span class="line">TSharedPtr&lt;FTestClass&gt; PFtc;</span><br><span class="line"><span class="function">TWeakPtr&lt;FTestClass&gt; <span class="title">WpFtc02</span><span class="params">(PFtc)</span></span>;</span><br><span class="line"><span class="comment">// åˆ©ç”¨å…±äº«å¼•ç”¨æ„å»ºå¼±æŒ‡é’ˆ</span></span><br><span class="line">TSharedRef&lt;FTestClass&gt; RFtc;</span><br><span class="line"><span class="function">TWeakPtr&lt;FTestClass&gt; <span class="title">WpFtc03</span><span class="params">(RFtc)</span></span>;</span><br><span class="line"><span class="comment">// æ£€æŸ¥æ˜¯å¦æœ‰æ•ˆ</span></span><br><span class="line"><span class="comment">// æ£€æŸ¥å¼±æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡ç©ºé—´æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="keyword">if</span> (WpFtc01.<span class="built_in">IsValid</span>()) &#123;&#125;</span><br><span class="line"><span class="comment">// é‡Šæ”¾æ“ä½œ</span></span><br><span class="line"><span class="comment">// ä¸»åŠ¨é‡Šæ”¾ï¼Œä½†æ˜¯ä¸ä¼šå½±å“å¼•ç”¨è®¡æ•°</span></span><br><span class="line">WpFtc01 = <span class="literal">nullptr</span>;</span><br></pre></td></tr></table></figure><p><strong>æ€»ç»“</strong></p><ul><li>ä¸€å—å†…å­˜ï¼Œå¦‚æœå­˜åœ¨æœ‰æ•ˆå¼•ç”¨ï¼ˆå¯ç›´æ¥åˆ°è¾¾å†…å­˜çš„æ“ä½œæ–¹å¼ï¼‰ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥è®¤ä¸ºå½“å‰å†…å­˜æ˜¯æœ‰æ•ˆå¹¶ä¸”åˆç†çš„ï¼ä½†æ˜¯å½“ä¸€å—å†…å­˜ä¸å­˜åœ¨å¼•ç”¨ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥è§†ä¸ºæ­¤å—å†…å­˜ä¸ºè¢«å¼ƒç”¨æ— æ•ˆçš„ï¼Œåˆ™å¯ä»¥å›æ”¶é‡å¤åˆ©ç”¨ï¼Œè¿™å°±æ˜¯å†…å­˜åƒåœ¾å›æ”¶æœºåˆ¶çš„åŸºæœ¬åŸç†ã€‚</li><li>æ™ºèƒ½æŒ‡é’ˆå¼ºè°ƒçš„æ˜¯å½“å‰å†…å­˜çš„ä½¿ç”¨è€…å­˜åœ¨å¤šå°‘ï¼Œå½“ä¸å­˜åœ¨æ—¶ï¼Œè¿›è¡Œå›æ”¶ï¼</li><li>æ³¨æ„ï¼šæ™ºèƒ½æŒ‡é’ˆæ„å»ºçš„å‡æ˜¯æ ˆå¯¹è±¡æ•°æ®ç±»å‹</li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++ æ¥å£</title>
      <link href="/2025/04/25/UE/UEC++%20%E6%8E%A5%E5%8F%A3/"/>
      <url>/2025/04/25/UE/UEC++%20%E6%8E%A5%E5%8F%A3/</url>
      
        <content type="html"><![CDATA[<p>è¯ä¹‰å¹¿æ³›ï¼Œç”¨æ¥é™ˆè¿°åŠŸèƒ½ï¼Œé€‰é¡¹ï¼Œä¸å…¶ä»–ç¨‹åºç»“æ„è¿›è¡Œæ²Ÿé€šçš„æ–¹å¼ã€‚æ¥å£æŠ½è±¡å‡ºäº†äº¤äº’ç»“æ„ï¼Œæä¾›äº†ä¸¤ä¸ªæœªçŸ¥é€»è¾‘äº¤äº’çš„ä¾¿æ·æ€§ã€‚å¯¹äºç¼–ç¨‹ä¸­ï¼Œå¦‚ä½•æ›´å¥½çš„è®¾è®¡ä½è€¦åˆç¨‹åºèµ·åˆ°äº†è‡³å…³é‡è¦çš„ä½œç”¨ã€‚è®¾è®¡è€…å¯ä»¥åœ¨äº’ä¸å…³å¿ƒçš„æƒ…å†µä¸‹ï¼Œè¿›è¡Œå‹å¥½çš„ç¨‹åºè®¾è®¡ï¼Œå¹¶ä¸”é€šè¿‡æ¥å£æ¥å®Œæˆè®¾è®¡çš„æ•´åˆäº¤äº’ã€‚</p><p>è™šå¹»å¼•æ“ä¸­ï¼ŒåŠ å…¥äº†æ¥å£è®¾è®¡ï¼Œä»ä¸€å®šç¨‹åº¦ä¸Šâ€œå»æ‰äº†â€å¤šç»§æ‰¿ã€‚æ¥å£å¯ä»¥å¸®åŠ©æˆ‘ä»¬è§£å†³åœ¨ä¸åŒç±»å‹çš„ç±»ä¹‹é—´å´æœ‰ç›¸åŒè¡Œä¸ºçš„ç‰¹æ€§ã€‚æ¥å£çš„è®¾è®¡å¢åŠ äº†ä»£ç ç¼–å†™çš„ä¾¿æ·æ€§ã€‚</p><p>ä¾‹å¦‚åœ¨è®¾è®¡å°„å‡»ç±»æ¸¸æˆæ—¶ï¼Œæˆ‘ä»¬éœ€è¦å­å¼¹ä¸åœºæ™¯ä¸­çš„ç‰©ä½“è¿›è¡Œäº¤äº’ï¼Œåœºæ™¯ä¸­çš„æ¡Œæ¤…æ¿å‡³ï¼Œè§’è‰²ï¼Œæ€ªç‰©ï¼ˆéƒ½æ˜¯ç‹¬ç«‹çš„å¯¹è±¡ï¼‰éƒ½å¸Œæœ›å—åˆ°å­å¼¹çš„æ”»å‡»ä¼¤å®³ã€‚é‚£ä¹ˆå­å¼¹åœ¨æ‰“åˆ°ç›®æ ‡åè¦é€ä¸€æ’æŸ¥ï¼Œå®¡æŸ¥ç›®æ ‡æ˜¯å¦å±äºä¸Šè¿°çš„å¯¹è±¡ï¼è¿™å¾ˆéº»çƒ¦ï¼ä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡æ¥å£ï¼Œå¢åŠ ä¸Šè¿°ç›®æ ‡å…·æœ‰å—ä¼¤çš„èƒ½åŠ›ã€‚å½“å­å¼¹æ‰“åˆ°ç›®æ ‡æ—¶ï¼Œæˆ‘åªéœ€è¦æ£€æŸ¥ç›®æ ‡æ˜¯å¦ç»§æ‰¿å—ä¼¤çš„æ¥å£ï¼Œå¦‚æœæœ‰ï¼Œåˆ™è°ƒç”¨æ¥å£å‡½æ•°å³å¯ï¼</p><p><strong>æ„å»ºæ¥å£ç±»ï¼š</strong></p><p>æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨è™šå¹»ç¼–è¾‘å™¨ä¸­ç»§æ‰¿æ¥å£ç±»ï¼Œç„¶åå®Œæˆæ„å»º</p><p><strong>ç¼–å†™æ¥å£ï¼š</strong></p><ul><li>å¦‚æœåœ¨C++ä¸­å¸Œæœ›è·å¾—æ¥å£èƒ½åŠ›ï¼Œåˆ™éœ€è¦ç»§æ‰¿æ¥å£ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¿…é¡»ç»§æ‰¿Iå¼€å¤´çš„æ¥å£åç§°ï¼Œå¹¶ä¸”ç»§æ‰¿ä¿®é¥°ä¸ºpublicã€‚ä¸è¦å°è¯•é‡å†™æ¥å£ä¸­çš„å‡½æ•°ï¼</li><li>å¦‚æœæ¥å£ä¸­çš„å‡½æ•°ä½¿ç”¨<strong>BlueprintNativeEvent</strong>è¯´æ˜ï¼Œåˆ™åœ¨ç»§æ‰¿ç±»ä¸­å¯ä»¥ç¼–å†™åŒåå‡½æ•°ï¼Œå¹¶ç”¨åç¼€â€œ_Implementationâ€è¿›è¡Œæ ‡è®°ã€‚</li><li>å¦‚æœæ¥å£ä¸­çš„å‡½æ•°ä½¿ç”¨<strong>BlueprintImplementableEvent</strong>è¯´æ˜ï¼Œåˆ™æ— æ³•åœ¨C++çš„ç»§æ‰¿ç±»ä¸­å®ç°æ¥å£å‡½æ•°</li></ul><p><strong>å®ç°æ¥å£ï¼š</strong></p><p>ç»§æ‰¿Iç±»æ¥å£å®Œæ¯•åï¼Œå¯ä»¥é€‰æ‹©çš„å°†æ¥å£ä¸­çš„å‡½æ•°è¿›è¡Œå®šä¹‰ã€‚å¦‚æœéœ€è¦å®šä¹‰ï¼Œåˆ™éœ€è¦å°†æ¥å£ä¸­å‡½æ•°è¯´æ˜æ˜¯BlueprintNativeEventçš„å‡½æ•°è¿›è¡Œå®šä¹‰ã€‚</p><p>æ³¨æ„ï¼Œä¸è¦çœç•¥overrideï¼Œå‡½æ•°çš„è¿”å›å€¼ï¼Œå‚æ•°åˆ—è¡¨éœ€è¦å’Œæ¥å£çš„ä¸€è‡´</p><p><strong>è°ƒç”¨æ“ä½œï¼š</strong></p><p>è°ƒç”¨å‡½æ•°ï¼ŒæŒæœ‰ç»§æ‰¿æ¥å£å¯¹è±¡æŒ‡é’ˆï¼Œç¬¬ä¸€æ­¥å…ˆè½¬æ¢åˆ°Iç±»æŒ‡é’ˆï¼Œè°ƒç”¨Execute_æ¥å£å‡½æ•°åï¼Œå‚æ•°ç¬¬ä¸€ä½éœ€è¦ä¼ é€’åŸå¯¹è±¡æŒ‡é’ˆï¼Œåé¢ç›´æ¥æŒ‰ç…§åŸå‡½æ•°å‚æ•°å¡«å…¥å³å¯</p><p><strong>æ•´ä½“ä»£ç æ¼”ç¤ºï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  TestInterface.h</span></span><br><span class="line"><span class="built_in">UINTERFACE</span>(MinimalAPI)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UTestInterface</span> : <span class="keyword">public</span> UInterface</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">GENERATED_BODY</span>()</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1ã€Uç±»ä¸­ä¸èƒ½å»å†™æ¥å£å‡½æ•°ï¼Œåªèƒ½ç”¨æ¥æ£€æŸ¥æ˜¯å¦ç»§æ‰¿äº†æ¥å£ç±»</span></span><br><span class="line"><span class="comment"> * 2ã€æ¥å£å‡½æ•°ï¼Œå¿…é¡»å†™åœ¨Iç±»ä¸­ï¼Œå¹¶ä¸”å¿…é¡»å†™å…±æœ‰åŸŸä¸­</span></span><br><span class="line"><span class="comment"> * 3ã€æ¥å£å‡½æ•°åœ¨æ¥å£ç±»ä¸­ä¸èƒ½è¿›è¡Œå®šä¹‰</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MX_API</span> ITestInterface</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">GENERATED_BODY</span>()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Add interface functions to this class. This is the class that will be inherited to implement this interface.</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// å®šä¹‰æ¥å£å‡½æ•°</span></span><br><span class="line">    <span class="built_in">UFUNCTION</span>(BlueprintNativeEvent)</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Notify_None</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="built_in">UFUNCTION</span>(BlueprintNativeEvent)</span><br><span class="line">    <span class="function">int32 <span class="title">Notify_RetVal</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="built_in">UFUNCTION</span>(BlueprintNativeEvent)</span><br><span class="line">    <span class="function">int32 <span class="title">Notify_RetVal_Params</span><span class="params">(int32 Num)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">// Actor2.h</span></span><br><span class="line"><span class="keyword">public</span>:    </span><br><span class="line">    <span class="comment">// Called every frame</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Tick</span><span class="params">(<span class="type">float</span> DeltaTime)</span> <span class="keyword">override</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®ç°æ¥å£</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Notify_None_Implementation</span><span class="params">()</span> <span class="keyword">override</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> int32 <span class="title">Notify_RetVal_Implementation</span><span class="params">()</span> <span class="keyword">override</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> int32 <span class="title">Notify_RetVal_Params_Implementation</span><span class="params">(int32 Num)</span> <span class="keyword">override</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Actor2.cpp</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AActor2::Notify_None_Implementation</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    UKismetSystemLibrary::<span class="built_in">PrintString</span>(<span class="keyword">this</span>, <span class="built_in">TEXT</span>(<span class="string">&quot;----æ— å‚æ— è¿”å›å€¼----&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">int32 <span class="title">AActor2::Notify_RetVal_Implementation</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    UKismetSystemLibrary::<span class="built_in">PrintString</span>(<span class="keyword">this</span>, <span class="built_in">TEXT</span>(<span class="string">&quot;----æ— å‚æœ‰è¿”å›å€¼----&quot;</span>));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">int32 <span class="title">AActor2::Notify_RetVal_Params_Implementation</span><span class="params">(int32 Num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    UKismetSystemLibrary::<span class="built_in">PrintString</span>(<span class="keyword">this</span>, <span class="built_in">TEXT</span>(<span class="string">&quot;----æœ‰å‚æœ‰è¿”å›å€¼----&quot;</span>));</span><br><span class="line">    <span class="keyword">return</span> Num;</span><br><span class="line">&#125;<span class="function"><span class="type">void</span> <span class="title">AActor2::Notify_None_Implementation</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    UKismetSystemLibrary::<span class="built_in">PrintString</span>(<span class="keyword">this</span>, <span class="built_in">TEXT</span>(<span class="string">&quot;----æ— å‚æ— è¿”å›å€¼----&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">int32 <span class="title">AActor2::Notify_RetVal_Implementation</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    UKismetSystemLibrary::<span class="built_in">PrintString</span>(<span class="keyword">this</span>, <span class="built_in">TEXT</span>(<span class="string">&quot;----æ— å‚æœ‰è¿”å›å€¼----&quot;</span>));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">int32 <span class="title">AActor2::Notify_RetVal_Params_Implementation</span><span class="params">(int32 Num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    UKismetSystemLibrary::<span class="built_in">PrintString</span>(<span class="keyword">this</span>, <span class="built_in">TEXT</span>(<span class="string">&quot;----æœ‰å‚æœ‰è¿”å›å€¼----&quot;</span>));</span><br><span class="line">    <span class="keyword">return</span> Num;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">//Actor1.cpp</span></span><br><span class="line">    ac2 = <span class="built_in">GetWorld</span>()-&gt;<span class="built_in">SpawnActor</span>&lt;AActor2&gt;(AActor2::<span class="built_in">StaticClass</span>());</span><br><span class="line">    <span class="comment">// æ£€æŸ¥æ˜¯å¦ç»§æ‰¿äº†æ¥å£</span></span><br><span class="line">    ITestInterface* testInterface = <span class="built_in">Cast</span>&lt;ITestInterface&gt;(ac2);</span><br><span class="line">    <span class="comment">// å¦‚æœç»§æ‰¿äº†æ¥å£ï¼Œå°±æ‰§è¡Œæ¥å£å‡½æ•°</span></span><br><span class="line">    <span class="keyword">if</span> (testInterface) &#123;</span><br><span class="line">        testInterface-&gt;<span class="built_in">Execute_Notify_None</span>(ac2);</span><br><span class="line">        testInterface-&gt;<span class="built_in">Execute_Notify_RetVal</span>(ac2);</span><br><span class="line">        testInterface-&gt;<span class="built_in">Execute_Notify_RetVal_Params</span>(ac2,<span class="number">10</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ç»“æœï¼š</p><p>----æœ‰å‚æœ‰è¿”å›å€¼----<br />----æ— å‚æœ‰è¿”å›å€¼----<br />----æ— å‚æ— è¿”å›å€¼----</p><p><strong>åŒ…è£¹æ¥å£ï¼š</strong></p><p>å€ŸåŠ©æ¨¡æ¿ç±»TScriptInterfaceå¯ä»¥å°†æ¥å£åŒ…è£¹ï¼Œç”¨äºä½¿ç”¨UPROPERTYæè¿°ï¼Œå¹¶ä¸”å¯ä»¥æš´éœ²åˆ°è“å›¾ä¸­ã€‚ä½¿ç”¨æ—¶åŒæ™®é€šæ¥å£ä¸€æ ·ä½¿ç”¨ã€‚æ¥å£ä¸æ”¯æŒæ™ºèƒ½æŒ‡é’ˆçš„ç®¡ç†ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨TSç±»è¿›è¡Œç®¡ç†</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UPROPERTY</span>(EditAnywhere)</span><br><span class="line">TScriptInterface&lt;ITestInterface&gt; TestInterface;</span><br></pre></td></tr></table></figure><p><strong>è“å›¾ç»§æ‰¿æ¥å£ï¼š</strong></p><p>å¦‚æœæ¥å£åœ¨è“å›¾ä¸­è¢«ç»§æ‰¿ï¼Œåˆ™éœ€è¦æ³¨æ„ä¸‹é¢çš„é—®é¢˜</p><ul><li>å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›ç±»å‹ï¼Œåˆ™åœ¨è“å›¾ä¸­å½“ä½œäº‹ä»¶Eventä½¿ç”¨</li><li>å¦‚æœå‡½æ•°å­˜åœ¨è¿”å›ç±»å‹æˆ–æ˜¯å­˜åœ¨ä¼ é€’å¼•ç”¨å‚æ•°ï¼Œåˆ™åœ¨è“å›¾ä¸­å½“ä½œå‡½æ•°ä½¿ç”¨</li><li>æ¥å£å‡½æ•°è¯´æ˜ç¬¦ä½¿ç”¨BlueprintNativeEventæˆ–æ˜¯BlueprintImplementableEventæ ‡è®°éƒ½å¯ä»¥åœ¨è“å›¾ä¸­æ‰¾åˆ°</li></ul><p><strong>æ€»ç»“ï¼š</strong></p><ul><li>æ¥å£å‡½æ•°éœ€è¦å®šåœ¨Iå¼€å¤´çš„ç±»ä¸­ï¼Œä¸è¦ä¿®æ”¹è®¿é—®åŸŸpublicå…³é”®å­—ï¼Œå£°æ˜éœ€è¦ä½¿ç”¨å®æ ‡è®°BlueprintNativeEventæˆ–BlueprintImplementableEvent</li><li>å¦‚éœ€ç»§æ‰¿æ¥å£ï¼Œç»§æ‰¿Iç±»ï¼Œç»§æ‰¿å…³ç³»public</li><li>æ¥å£ä¸­çš„å‡½æ•°ç¦æ­¢é‡å†™</li><li>åœ¨ç»§æ‰¿ç±»ä¸­å®ç°æ¥å£å‡½æ•°ï¼Œå¹¶æ·»åŠ åç¼€_Implementationï¼Œéœ€è¦æ³¨æ„ï¼Œå‡½æ•°å‰åŠ å…¥è™šå‡½æ•°å…³é”®å­—virtualï¼Œå‡½æ•°ç»“å°¾åŠ overrideå…³é”®å­—ï¼ˆå¯ä»¥ä¸æ·»åŠ ï¼Œä½†æ˜¯å»ºè®®åŠ ä¸Šï¼ŒåŠ å¼ºå‡½æ•°ç¼–å†™æ­£ç¡®æ€§æ£€æŸ¥ï¼‰ï¼Œåœ¨CPPæ–‡ä»¶ä¸­å®ç°é€»è¾‘</li><li>è°ƒç”¨å‡½æ•°ï¼ŒæŒæœ‰ç»§æ‰¿æ¥å£å¯¹è±¡æŒ‡é’ˆï¼Œç¬¬ä¸€æ­¥å…ˆè½¬æ¢åˆ°Iç±»æŒ‡é’ˆï¼Œè°ƒç”¨Execute_æ¥å£å‡½æ•°åï¼Œå‚æ•°ç¬¬ä¸€ä½éœ€è¦ä¼ é€’åŸå¯¹è±¡æŒ‡é’ˆï¼Œåé¢ç›´æ¥æŒ‰ç…§åŸå‡½æ•°å‚æ•°å¡«å…¥å³å¯</li><li>æ£€æŸ¥æŸä¸€ä¸ªç±»æ˜¯å¦å®ç°äº†å¯¹åº”æ¥å£å¯ä»¥ä½¿ç”¨å¦‚ä¸‹è¯­æ³•è¿›è¡Œæ£€æŸ¥<ul><li>obj-&gt;GetClass()-&gt;ImplementsInterface(Uç±»å‹ï¼šï¼šStaticClassï¼ˆï¼‰);</li><li>act-&gt;GetClass()-&gt;ImplementsInterface(UMyInterface::StaticClass());</li><li>actæ˜¯å¯¹è±¡æŒ‡æŒ‡é’ˆ</li></ul></li></ul><p><strong>æ¥å£çš„ä¼˜ç¼ºç‚¹ï¼š</strong></p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>å…·å¤‡å¤šæ€ç‰¹æ€§ï¼Œæ¥å£è¡ç”Ÿç±»æ”¯æŒé‡Œæ°è½¬æ¢åŸåˆ™</li><li>æ¥å£å¯ä»¥ä½¿å¾—æ•´ä¸ªç»§æ‰¿ç³»ç»Ÿæ›´åŠ çš„å¹²å‡€å•ä¸€</li><li>æ¥å£å¯ä»¥è§„èŒƒç±»çš„å…·ä½“è¡Œä¸º</li><li>æ¥å£å¯ä»¥éš”ç¦»å¼€å‘ä¸­çš„å¼€å‘è€¦åˆï¼Œæˆ‘ä»¬åªéœ€è¦é’ˆå¯¹æ¥å£å»ç¼–ç ï¼Œæ— éœ€å…³å¿ƒå…·ä½“è¡Œä¸º</li><li>æ¥å£ç»§æ‰¿å¯ä»¥ä½¿å¾—ç»§æ‰¿å…³ç³»ä¸­å‡ºç°çœŸæ­£çš„æ“ä½œçˆ¶ç±»</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>ä¸¢å¤±äº†C++ä¸­çš„å¹¿æ³›ç»§æ‰¿ç‰¹æ€§</li><li>æ¥å£æ‹˜æŸäº†ç±»å‹çš„å±æ€§æ‹“å±•ï¼Œæ— æ³•è¿›è¡Œæ›´è¯¦ç»†çš„å†…å®¹å®šä¹‰</li><li>ç»§æ‰¿å…³ç³»ä¸­å®¹æ˜“è®©äººæ··æ·†ï¼Œæ¥å£æœ¬èº«ä¸å…·å¤‡çœŸæ­£çš„ç»§æ‰¿ç‰¹æ€§</li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++ äº‹ä»¶</title>
      <link href="/2025/04/25/UE/UEC++%20%E4%BA%8B%E4%BB%B6%20/"/>
      <url>/2025/04/25/UE/UEC++%20%E4%BA%8B%E4%BB%B6%20/</url>
      
        <content type="html"><![CDATA[<p>äº‹ä»¶æœ¬èº«å’Œå¤šæ’­ä»£ç†ä¸€æ ·ï¼Œä¸ºäº†æ“ä½œçš„å®‰å…¨æ€§ï¼Œäº‹ä»¶æä¾›äº†é¢å¤–çš„æ“ä½œé™å®šã€‚å³ç¦æ­¢åœ¨å£°æ˜äº‹ä»¶å¯¹è±¡çš„å¤–éƒ¨è°ƒç”¨äº‹ä»¶ä¼ æ’­ï¼Œæ¸…ç†ï¼Œæ£€æŸ¥ç­‰å‡½æ•°ã€‚é€šè¿‡æ“ä½œéš”ç¦»ï¼Œæœ€å¤§ç¨‹åº¦çš„å¢åŠ äº†äº‹ä»¶çš„å®‰å…¨æ€§ã€‚æ´¾ç”Ÿç±»å…è®¸è°ƒç”¨äº‹ä»¶çš„å¹¿æ’­ã€‚</p><p>åœ¨è™šå¹»C++ä¸­äº‹ä»¶å’Œå¤šæ’­å‡ ä¹ç›¸åŒã€‚åªæ˜¯æ„å»ºæ–¹å¼ç•¥ä¸åŒ</p><p><strong>æ„å»ºå®</strong></p><p>äº‹ä»¶ç±»å‹æ„å»ºå®ç”±äºéœ€è¦é™å®šäº‹ä»¶å¯¹è±¡è°ƒç”¨çº¦æŸå…³ç³»ï¼Œéœ€è¦æä¾›å£°æ˜æ‰€åœ¨ç±»å‹ï¼Œå¹¶ä¸”éœ€è¦åœ¨ç±»å†…éƒ¨è¿›è¡Œå£°æ˜ã€‚äº‹ä»¶æ²¡æœ‰è¿”å›å€¼ã€‚</p><table><thead><tr><th>å£°æ˜å®</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>DECLARE_EVENT( OwningType, EventName )</code></td><td>åˆ›å»ºä¸€ä¸ªäº‹ä»¶ã€‚</td></tr><tr><td><code>DECLARE_EVENT_OneParam( OwningType, EventName, Param1Type )</code></td><td>åˆ›å»ºå¸¦ä¸€ä¸ªå‚æ•°çš„äº‹ä»¶ã€‚</td></tr><tr><td><code>DECLARE_EVENT_TwoParams( OwningType, EventName, Param1Type, Param2Type )</code></td><td>åˆ›å»ºå¸¦ä¸¤ä¸ªå‚æ•°çš„äº‹ä»¶ã€‚</td></tr><tr><td><code>DECLARE_EVENT_&lt;Num&gt;Params( OwningType, EventName, Param1Type, Param2Type, ...)</code></td><td>åˆ›å»ºå¸¦ N ä¸ªå‚æ•°çš„äº‹ä»¶ã€‚</td></tr></tbody></table><p>æ³¨ï¼šOwningTypeå³å½“å‰å£°æ˜äº‹ä»¶çš„ç±»</p><p>ç»‘å®šå‡½æ•°ä¸å¹¿æ’­ï¼šä¸å¤šæ’­ä»£ç†çš„ç»‘å®šç›¸åŒ</p><table><thead><tr><th>å‡½æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>â€œAdd()â€</td><td>å°†å‡½æ•°å§”æ‰˜æ·»åŠ åˆ°è¯¥å¤šæ’­å§”æ‰˜çš„è°ƒç”¨åˆ—è¡¨ä¸­ã€‚</td></tr><tr><td>â€œAddStatic()â€</td><td>æ·»åŠ åŸå§‹C++æŒ‡é’ˆå…¨å±€å‡½æ•°å§”æ‰˜ã€‚</td></tr><tr><td>â€œAddRaw()â€</td><td>æ·»åŠ åŸå§‹C++æŒ‡é’ˆå§”æ‰˜ã€‚åŸå§‹æŒ‡é’ˆä¸ä½¿ç”¨ä»»ä½•ç±»å‹çš„å¼•ç”¨ï¼Œå› æ­¤å¦‚æœä»å§”æ‰˜ä¸‹é¢åˆ é™¤äº†å¯¹è±¡ï¼Œåˆ™è°ƒç”¨æ­¤å‡½æ•°å¯èƒ½ä¸å®‰å…¨ã€‚è°ƒç”¨Execute()æ—¶è¯·å°å¿ƒï¼</td></tr><tr><td>â€œAddSP()â€</td><td>æ·»åŠ åŸºäºå…±äº«æŒ‡é’ˆçš„ï¼ˆå¿«é€Ÿã€éçº¿ç¨‹å®‰å…¨ï¼‰æˆå‘˜å‡½æ•°å§”æ‰˜ã€‚å…±äº«æŒ‡é’ˆå§”æ‰˜ä¿ç•™å¯¹å¯¹è±¡çš„å¼±å¼•ç”¨ã€‚</td></tr><tr><td>â€œAddUObject()â€</td><td>æ·»åŠ åŸºäºUObjectçš„æˆå‘˜å‡½æ•°å§”æ‰˜ã€‚UObjectå§”æ‰˜ä¿ç•™å¯¹å¯¹è±¡çš„å¼±å¼•ç”¨ã€‚</td></tr><tr><td>â€œRemove()â€</td><td>ä»è¯¥å¤šæ’­å§”æ‰˜çš„è°ƒç”¨åˆ—è¡¨ä¸­åˆ é™¤å‡½æ•°ï¼ˆæ€§èƒ½ä¸ºO(N)ï¼‰ã€‚è¯·æ³¨æ„ï¼Œå§”æ‰˜çš„é¡ºåºå¯èƒ½ä¸ä¼šè¢«ä¿ç•™ï¼</td></tr><tr><td>â€œRemoveAll()â€</td><td>ä»è¯¥å¤šæ’­å§”æ‰˜çš„è°ƒç”¨åˆ—è¡¨ä¸­åˆ é™¤ç»‘å®šåˆ°æŒ‡å®šUserObjectçš„æ‰€æœ‰å‡½æ•°ã€‚è¯·æ³¨æ„ï¼Œå§”æ‰˜çš„é¡ºåºå¯èƒ½ä¸ä¼šè¢«ä¿ç•™ï¼</td></tr></tbody></table><p>æ‰§è¡Œï¼šè°ƒç”¨å‡½æ•°Broadcastï¼Œä½†æ˜¯è°ƒç”¨ä¸ä¿è¯æ‰§è¡Œé¡ºåºçš„æ­£ç¡®æ€§ã€‚äº‹ä»¶å¹¿æ’­æ— éœ€æ£€æŸ¥æ˜¯å¦å­˜åœ¨æœ‰æ•ˆçš„ç»‘å®šã€‚äº‹ä»¶å¹¿æ’­åº”å‘ç”Ÿåœ¨å£°æ˜äº‹ä»¶ç±»å‹çš„ç±»å†…éƒ¨ã€‚</p><p><strong>äº‹ä»¶æ„å»ºæ­¥éª¤ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Actor1.h</span></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">AActor2</span>* ac2;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">ã€€ã€€<span class="comment">// äº‹ä»¶åœ¨ç±»å†…å®šä¹‰</span></span><br><span class="line">    <span class="built_in">DECLARE_EVENT</span>(AActor1, FActorEvent)</span><br><span class="line">    <span class="function">FActorEvent&amp; <span class="title">OnChanged_FActorEvent</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> actorEvent; &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    FActorEvent actorEvent;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Actor1.cpp</span></span><br><span class="line">    ac2 = <span class="built_in">GetWorld</span>()-&gt;<span class="built_in">SpawnActor</span>&lt;AActor2&gt;(AActor2::<span class="built_in">StaticClass</span>());</span><br><span class="line">    <span class="built_in">OnChanged_FActorEvent</span>().<span class="built_in">AddUObject</span>(ac2, &amp;AActor2::CallBackNone);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">OnChanged_FActorEvent</span>().<span class="built_in">Broadcast</span>();</span><br><span class="line"><span class="comment">//////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">// Actor2.h</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">CallBackNone</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">// Actor2.cpp</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AActor2::CallBackNone</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    UKismetSystemLibrary::<span class="built_in">PrintString</span>(<span class="keyword">this</span>, <span class="built_in">TEXT</span>(<span class="string">&quot;æ— è¿”å›å€¼æ— å‚æ•°å‡½æ•°è°ƒç”¨ï¼&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ç»“æœï¼š</p><p>æ— è¿”å›å€¼æ— å‚æ•°å‡½æ•°è°ƒç”¨ï¼</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨Win7ä¸Šå®‰è£…VS2017çš„é—®é¢˜</title>
      <link href="/2025/04/24/VS/%E5%9C%A8Win7%E4%B8%8A%E5%AE%89%E8%A3%85VS2017%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>/2025/04/24/VS/%E5%9C%A8Win7%E4%B8%8A%E5%AE%89%E8%A3%85VS2017%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h3 id="åœ¨win7ä¸Šå®‰è£…vs2017çš„é—®é¢˜"><a class="markdownIt-Anchor" href="#åœ¨win7ä¸Šå®‰è£…vs2017çš„é—®é¢˜"></a> åœ¨Win7ä¸Šå®‰è£…VS2017çš„é—®é¢˜</h3><p>win7å®‰è£…2017éœ€è¦æˆä¿¡ä»»è¯ä¹¦</p><p>certificatesï¼Œæ‰¾åˆ°è¿™ä¸ªç›®å½•ï¼Œé‡Œé¢åº”è¯¥æœ‰ä¸‰ä¸ªæ–‡ä»¶éœ€è¦åŒå‡»æ“ä½œä¸€ä¸‹ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><p>éœ€è¦å®‰è£…certifiatesç›®å½•ä¸‹çš„3ä¸ªè¯ä¹¦<br />é€‰æ‹©ã€å°†æ‰€æœ‰è¯ä¹¦æ”¾å…¥ä¸‹åˆ—å­˜å‚¨ã€‘<br />è¯ä¹¦å­˜å‚¨ï¼šã€å—ä¿¡ä»»çš„æ ¹è¯ä¹¦é¢å‘æœºæ„ã€‘</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qtä¸­çš„ä¿¡å·ä¸æ§½æœºåˆ¶è¯¦è§£ï¼šè¿æ¥ã€è‡ªå®šä¹‰ä¸åº”ç”¨</title>
      <link href="/2025/04/24/Qt/Qt%E4%B8%AD%E7%9A%84%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD%E6%9C%BA%E5%88%B6%E8%AF%A6%E8%A7%A3%EF%BC%9A%E8%BF%9E%E6%8E%A5%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%8E%E5%BA%94%E7%94%A8/"/>
      <url>/2025/04/24/Qt/Qt%E4%B8%AD%E7%9A%84%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD%E6%9C%BA%E5%88%B6%E8%AF%A6%E8%A7%A3%EF%BC%9A%E8%BF%9E%E6%8E%A5%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%8E%E5%BA%94%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ä¿¡å·å’Œæ§½æ¦‚è¿°"><a class="markdownIt-Anchor" href="#ä¸€ä¿¡å·å’Œæ§½æ¦‚è¿°"></a> ï¼ˆä¸€ï¼‰ä¿¡å·å’Œæ§½æ¦‚è¿°</h2><p><strong>åœ¨Qtä¸­ï¼Œæ¯æ¬¡ç”¨æˆ·ä¸æ§ä»¶äº’åŠ¨çš„è¿‡ç¨‹éƒ½è¢«ç§°ä¸ºä¸€ä¸ªäº‹ä»¶</strong>ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œ&quot;ç”¨æˆ·ç‚¹å‡»æŒ‰é’®&quot;æ˜¯ä¸€ä¸ªäº‹ä»¶ï¼Œ&quot;ç”¨æˆ·å…³é—­çª—å£&quot;ä¹Ÿæ˜¯ä¸€ä¸ªäº‹ä»¶ã€‚<strong>æ¯ä¸ªäº‹ä»¶éƒ½ä¼šè§¦å‘ç›¸åº”çš„ä¿¡å·</strong>ï¼Œä¾‹å¦‚ï¼Œå½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œä¼šå‘å‡º&quot;æŒ‰é’®è¢«ç‚¹å‡»&quot;çš„ä¿¡å·ï¼›å½“ç”¨æˆ·å…³é—­çª—å£æ—¶ï¼Œä¼šå‘å‡º&quot;çª—å£è¢«å…³é—­&quot;çš„ä¿¡å·ã€‚è¿™ç§äº‹ä»¶å’Œä¿¡å·çš„æœºåˆ¶ä½¿å¾—åœ¨Qtåº”ç”¨ç¨‹åºä¸­èƒ½å¤Ÿæ–¹ä¾¿åœ°å¤„ç†ç”¨æˆ·äº¤äº’å’Œç›¸åº”çš„è¡Œä¸ºã€‚</p><p>åœ¨Qtä¸­ï¼Œæ¯ä¸ªæ§ä»¶éƒ½å…·å¤‡æ¥æ”¶ä¿¡å·çš„èƒ½åŠ›ï¼Œå¹¶ä¸”ä¸€ä¸ªæ§ä»¶å¯ä»¥åŒæ—¶æ¥æ”¶å¤šä¸ªä¸åŒçš„ä¿¡å·ã€‚æ¯å½“æ§ä»¶æ¥æ”¶åˆ°ä¿¡å·æ—¶ï¼Œå®ƒä¼šæ‰§è¡Œç›¸åº”çš„å“åº”åŠ¨ä½œã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå½“çª—å£ä¸­çš„æŒ‰é’®æ¥æ”¶åˆ°&quot;æŒ‰é’®è¢«ç‚¹å‡»&quot;çš„ä¿¡å·æ—¶ï¼Œå®ƒä¼šæ‰§è¡Œ&quot;å…³é—­è‡ªèº«&quot;çš„å“åº”åŠ¨ä½œï¼›åˆå¦‚ï¼Œå½“æ–‡æœ¬è¾“å…¥æ¡†æ¥æ”¶åˆ°&quot;æ–‡æœ¬æ¡†è¢«ç‚¹å‡»&quot;çš„ä¿¡å·æ—¶ï¼Œå®ƒä¼šæ‰§è¡Œ&quot;æ˜¾ç¤ºé—ªçƒçš„å…‰æ ‡ï¼Œç­‰å¾…ç”¨æˆ·è¾“å…¥æ•°æ®&quot;çš„å“åº”åŠ¨ä½œã€‚<strong>åœ¨Qtä¸­ï¼Œå¯¹ä¿¡å·æ‰€åšå‡ºçš„å“åº”åŠ¨ä½œè¢«ç§°ä¸ºæ§½å‡½æ•°</strong>ã€‚</p><p>ä¿¡å·å’Œæ§½æ˜¯Qtç‹¬æœ‰çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶ï¼Œå®ƒèƒ½å¤Ÿè¿æ¥ä¸åŒçš„æ§ä»¶å¹¶ä½¿å®ƒä»¬ç›¸äº’å½±å“ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œ&quot;æŒ‰é’®&quot;å’Œ&quot;çª—å£&quot;æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„æ§ä»¶ï¼Œå•çº¯ç‚¹å‡»æŒ‰é’®å¹¶ä¸ä¼šå¯¹çª—å£äº§ç”Ÿä»»ä½•å½±å“ã€‚é€šè¿‡ä¿¡å·å’Œæ§½æœºåˆ¶ï¼Œå¯ä»¥å°†æŒ‰é’®å’Œçª—å£è¿æ¥èµ·æ¥ï¼Œå®ç°&quot;ç‚¹å‡»æŒ‰é’®ä¼šå¯¼è‡´çª—å£å…³é—­&quot;çš„æ•ˆæœã€‚</p><p><img src="083ed4b97a0960433fda6edae7f6f8df.png" alt="" /></p><h3 id="11-ä¿¡å·çš„æœ¬è´¨"><a class="markdownIt-Anchor" href="#11-ä¿¡å·çš„æœ¬è´¨"></a> 1.1Â ä¿¡å·çš„æœ¬è´¨</h3><p>ä¿¡å·æ˜¯ç”±ç”¨æˆ·å¯¹çª—å£æˆ–æ§ä»¶è¿›è¡Œæ“ä½œæ‰€è§¦å‘çš„ç‰¹å®šäº‹ä»¶ï¼Œè¿™äº›äº‹ä»¶ä¼šå¯¼è‡´ç›¸åº”çš„çª—å£ç±»æˆ–æ§ä»¶ç±»å‘å‡ºç‰¹å®šçš„ä¿¡å·ï¼Œä»è€Œå¯¹ç”¨æˆ·çš„æ“ä½œä½œå‡ºå“åº”ã€‚å› æ­¤ï¼Œä»æœ¬è´¨ä¸Šè®²ï¼Œ<strong>ä¿¡å·å°±æ˜¯äº‹ä»¶çš„ä¸€ç§ä½“ç°</strong>ã€‚</p><p>ä¾‹å¦‚ï¼š</p><ul><li>æŒ‰é’®å•å‡»ã€åŒå‡»</li><li>çª—â¼åˆ·æ–°</li><li>â¿æ ‡ç§»åŠ¨ã€â¿æ ‡æŒ‰ä¸‹ã€â¿æ ‡é‡Šæ”¾</li><li>é”®ç›˜è¾“â¼Š</li></ul><p>é‚£ä¹ˆåœ¨Qtä¸­ä¿¡å·æ˜¯é€šè¿‡ä»€ä¹ˆå½¢å¼å‘ˆç°ç»™ä½¿â½¤è€…çš„å‘¢ï¼Ÿ</p><ul><li>æˆ‘ä»¬å¯¹å“ªä¸ªçª—â¼è¿›â¾æ“ä½œ,å“ªä¸ªçª—â¼å°±å¯ä»¥æ•æ‰åˆ°è¿™äº›è¢«è§¦å‘çš„äº‹ä»¶ã€‚</li><li>å¯¹äºä½¿â½¤è€…æ¥è¯´è§¦å‘äº†â¼€ä¸ªäº‹ä»¶æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°Qtæ¡†æ¶ç»™æˆ‘ä»¬å‘å‡ºçš„æŸä¸ªç‰¹å®šä¿¡å·ã€‚</li><li>ä¿¡å·çš„å‘ˆç°å½¢å¼å°±æ˜¯å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´æŸä¸ªäº‹ä»¶äº§â½£äº†ï¼ŒQtæ¡†æ¶å°±ä¼šè°ƒâ½¤æŸä¸ªå¯¹åº”çš„ä¿¡å·å‡½æ•°ï¼Œé€šçŸ¥ä½¿â½¤è€…ã€‚</li></ul><blockquote><p><strong>åœ¨Qtä¸­ä¿¡å·çš„å‘å‡ºè€…æ˜¯æŸä¸ªå®ä¾‹åŒ–çš„ç±»å¯¹è±¡</strong>ã€‚</p></blockquote><hr /><h3 id="12-æ§½çš„æœ¬è´¨"><a class="markdownIt-Anchor" href="#12-æ§½çš„æœ¬è´¨"></a> 1.2Â æ§½çš„æœ¬è´¨</h3><p><strong>æ§½</strong>ï¼ˆSlotï¼‰æ˜¯å¯¹ä¿¡å·è¿›è¡Œå“åº”çš„å‡½æ•°ã€‚æ§½å‡½æ•°ä¸ä¸€èˆ¬çš„C++å‡½æ•°ç±»ä¼¼ï¼Œå¯ä»¥å®šä¹‰åœ¨ç±»çš„ä»»ä½•ä½ç½®ï¼ˆpublicã€protectedæˆ–privateï¼‰ï¼Œå¯ä»¥å…·æœ‰ä»»æ„å‚æ•°ï¼Œå¯ä»¥è¢«é‡è½½ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨ï¼ˆä½†ä¸èƒ½æœ‰é»˜è®¤å‚æ•°ï¼‰ã€‚</p><ul><li>ä¸ä¸€èˆ¬å‡½æ•°ä¸åŒçš„æ˜¯ï¼š<strong>æ§½å‡½æ•°å¯ä»¥ä¸ä¸€ä¸ªä¿¡å·ç›¸å…³è”ã€‚å½“ä¿¡å·è¢«å‘å°„æ—¶ï¼Œä¸ä¹‹å…³è”çš„æ§½å‡½æ•°ä¼šè‡ªåŠ¨æ‰§è¡Œã€‚</strong></li></ul><blockquote><p>1ï¼‰ä¿¡å·å’Œæ§½æœºåˆ¶åœ¨åº•å±‚é€šè¿‡å‡½æ•°é—´çš„ç›¸äº’è°ƒç”¨æ¥å®ç°ã€‚æ¯ä¸ªä¿¡å·å¯ä»¥ç”¨å‡½æ•°è¡¨ç¤ºï¼Œç§°ä¸º<strong>ä¿¡å·å‡½æ•°</strong>ï¼›æ¯ä¸ªæ§½ä¹Ÿå¯ä»¥ç”¨å‡½æ•°è¡¨ç¤ºï¼Œç§°ä¸º<strong>æ§½å‡½æ•°</strong>ã€‚ä¾‹å¦‚ï¼Œ&quot;æŒ‰é’®è¢«æŒ‰ä¸‹&quot;è¿™ä¸ªä¿¡å·å¯ä»¥ç”¨clicked()å‡½æ•°è¡¨ç¤ºï¼Œè€Œ&quot;çª—å£å…³é—­&quot;è¿™ä¸ªæ§½å¯ä»¥ç”¨<strong>close</strong>()å‡½æ•°è¡¨ç¤ºã€‚å› æ­¤ï¼Œä½¿ç”¨ä¿¡å·å’Œæ§½æœºåˆ¶å®ç°&quot;ç‚¹å‡»æŒ‰é’®ä¼šå…³é—­çª—å£&quot;çš„åŠŸèƒ½å®è´¨ä¸Šæ˜¯<strong>clicked</strong>()å‡½æ•°è°ƒç”¨<strong>close</strong>()å‡½æ•°çš„æ•ˆæœã€‚</p><p>2ï¼‰ä¿¡å·å‡½æ•°å’Œæ§½å‡½æ•°é€šå¸¸ä½äºæŸä¸ªç±»ä¸­ã€‚ç›¸è¾ƒäºæ™®é€šçš„æˆå‘˜å‡½æ•°ï¼Œå®ƒä»¬çš„ç‰¹æ®Šä¹‹å¤„åœ¨äºï¼š</p><ul><li>ä¿¡å·å‡½æ•°ç”¨signalså…³é”®å­—ä¿®é¥°ï¼Œæ§½å‡½æ•°ç”¨public slotsã€protected slotsæˆ–private slotsä¿®é¥°ã€‚signalså’Œslotsæ˜¯Qtåœ¨C++åŸºç¡€ä¸Šæ‰©å±•çš„å…³é”®å­—ï¼Œä¸“é—¨ç”¨äºæŒ‡æ˜ä¿¡å·å‡½æ•°å’Œæ§½å‡½æ•°ï¼›</li><li>ä¿¡å·å‡½æ•°åªéœ€å£°æ˜ï¼Œæ— éœ€å®šä¹‰ï¼ˆå®ç°ï¼‰ï¼Œè€Œæ§½å‡½æ•°éœ€è¦å®šä¹‰ï¼ˆå®ç°ï¼‰ã€‚</li></ul></blockquote><ul><li>ä¿¡å·å‡½æ•°çš„å®šä¹‰æ˜¯Qtâ¾ƒåŠ¨åœ¨ç¼–è¯‘ç¨‹åºä¹‹å‰â½£æˆçš„.ç¼–å†™Qtåº”â½¤ç¨‹åºçš„ç¨‹åºçŒ¿â½†éœ€å…³æ³¨.</li><li>è¿™ç§â¾ƒåŠ¨â½£æˆä»£ç çš„æœºåˆ¶ç§°ä¸º<strong>å…ƒç¼–ç¨‹</strong>(Meta Programming).è¿™ç§æ“ä½œåœ¨å¾ˆå¤šåœºæ™¯ä¸­éƒ½èƒ½â»…åˆ°.</li></ul><hr /><h2 id="äºŒä¿¡å·å’Œæ§½çš„ä½¿ç”¨"><a class="markdownIt-Anchor" href="#äºŒä¿¡å·å’Œæ§½çš„ä½¿ç”¨"></a> ï¼ˆäºŒï¼‰ä¿¡å·å’Œæ§½çš„ä½¿ç”¨</h2><h3 id="21-ä¿¡å·å’Œæ§½çš„è¿æ¥"><a class="markdownIt-Anchor" href="#21-ä¿¡å·å’Œæ§½çš„è¿æ¥"></a> 2.1Â ä¿¡å·å’Œæ§½çš„è¿æ¥</h3><blockquote><p>ä¿¡å·ä¸æ§½çš„è¿æ¥æ˜¯Qtä¸­ç”¨äºå»ºç«‹ä¿¡å·ä¸æ§½å…³è”å…³ç³»çš„é‡è¦æœºåˆ¶ã€‚é€šè¿‡è¿æ¥ï¼Œä¸€ä¸ªä¿¡å·å¯ä»¥è§¦å‘ä¸€ä¸ªæˆ–å¤šä¸ªæ§½å‡½æ•°çš„æ‰§è¡Œï¼Œå®ç°å¯¹è±¡ä¹‹é—´çš„é€šä¿¡ã€‚</p></blockquote><p>åœ¨Qtä¸­ï¼ŒQObjectç±»ï¼ˆQObjectQtå†…ç½®çš„â½—ç±».Qtä¸­æä¾›çš„å¾ˆå¤šç±»éƒ½æ˜¯ç›´æ¥æˆ–è€…é—´æ¥ç»§æ‰¿â¾ƒQObjectï¼‰æä¾›äº†â¼€ä¸ªé™æ€æˆå‘˜å‡½æ•°<strong>connect</strong>()ï¼Œè¯¥å‡½æ•°ä¸“â»”â½¤æ¥å…³è”æŒ‡å®šçš„ä¿¡å·å‡½æ•°å’Œæ§½å‡½æ•°ã€‚</p><p>connect()å‡½æ•°åŸå‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">connect</span> (<span class="type">const</span> QObject *sender,<span class="type">const</span> <span class="type">char</span> * signal ,<span class="type">const</span> QObject * receiver ,<span class="type">const</span> <span class="type">char</span> * method ,        Qt::ConnectionType type = Qt::AutoConnection )</span><br></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><strong>sender</strong>ï¼šä¿¡å·çš„å‘é€è€…ï¼›</li><li><strong>signal</strong>ï¼šå‘é€çš„ä¿¡å·ï¼ˆä¿¡å·å‡½æ•°ï¼‰ï¼›</li><li><strong>receiver</strong>ï¼šä¿¡å·çš„æ¥æ”¶è€…ï¼›</li><li><strong>method</strong>ï¼šæ¥æ”¶ä¿¡å·çš„æ§½å‡½æ•°ï¼›</li><li><strong>type</strong>ï¼šâ½¤äºæŒ‡å®šå…³è”â½…å¼ï¼Œé»˜è®¤çš„å…³è”â½…å¼ä¸ºQt::AutoConnectionï¼Œé€šå¸¸ä¸éœ€è¦â¼¿åŠ¨è®¾å®šã€‚</li></ul><p><img src="62f0f752d722b65ec5e7a64e52ecff15.png" alt="" /></p><hr /><h3 id="22-æŸ¥çœ‹å†…ç½®ä¿¡å·å’Œæ§½"><a class="markdownIt-Anchor" href="#22-æŸ¥çœ‹å†…ç½®ä¿¡å·å’Œæ§½"></a> 2.2Â æŸ¥çœ‹å†…ç½®ä¿¡å·å’Œæ§½</h3><p>1ã€ç³»ç»Ÿâ¾ƒå¸¦çš„ä¿¡å·å’Œæ§½é€šå¸¸æ˜¯é€šè¿‡&quot;Qtå¸®åŠ©â½‚æ¡£&quot;æ¥æŸ¥è¯¢ã€‚<br />2ã€å¦‚ä¸Šè¿°â½°ä¾‹ï¼Œè¦æŸ¥è¯¢&quot;æŒ‰é’®&quot;çš„ä¿¡å·ï¼Œåœ¨å¸®åŠ©â½‚æ¡£ä¸­è¾“â¼Šï¼šQPushButton</p><ul><li>â¾¸å…ˆå¯ä»¥åœ¨&quot;Contents&quot;ä¸­å¯»æ‰¾å…³é”®å­—signalsï¼Œ</li><li>å¦‚æœæ²¡æœ‰æ‰¾åˆ°,ç»§ç»­å»â½—ç±»ä¸­æŸ¥æ‰¾.å› æ­¤æˆ‘ä»¬å»ä»–çš„â½—ç±»QAbstractButtonä¸­ç»§ç»­æŸ¥æ‰¾å…³é”®å­—signals</li></ul><p><img src="7bb6345b9920c00513ed1da373ed6ce8.png" alt="" /></p><p>è¿™â¾¥çš„clicked()å°±æ˜¯è¦æ‰¾çš„ä¿¡å·ã€‚æ§½å‡½æ•°çš„å¯»æ‰¾â½…å¼å’Œä¿¡å·â¼€æ ·ï¼Œåªä¸è¿‡å®ƒçš„å…³é”®å­—æ˜¯slotã€‚</p><h3 id="23-é€šè¿‡qt-creatorç”Ÿæˆä¿¡å·æ§½ä»£ç "><a class="markdownIt-Anchor" href="#23-é€šè¿‡qt-creatorç”Ÿæˆä¿¡å·æ§½ä»£ç "></a> 2.3Â é€šè¿‡Qt Creatorâ½£æˆä¿¡å·æ§½ä»£ç </h3><p>Qt Creatorå¯ä»¥å¿«é€Ÿå¸®åŠ©æˆ‘ä»¬â½£æˆä¿¡å·æ§½ç›¸å…³çš„ä»£ç ã€‚</p><blockquote><p><strong>ä»£ç ç¤ºä¾‹</strong>:åœ¨çª—â¼ä¸­è®¾ç½®â¼€ä¸ªæŒ‰é’®ï¼Œå½“ç‚¹å‡»&quot;æŒ‰é’®&quot;æ—¶å…³é—­&quot;çª—â¼&quot;.</p></blockquote><p>1ã€æ–°å»ºé¡¹â½¬ï¼Œå¦‚ä¸‹å›¾ä¸ºæ–°å»ºå®Œæˆä¹‹åæ‰€åŒ…å«çš„æ‰€æœ‰â½‚ä»¶ï¼ˆåˆ›å»ºæ—¶è¦â½£æˆ<strong>UI</strong>è®¾è®¡â½‚ä»¶ï¼‰</p><p><img src="e12b0179c8b831f0d87f3c2cb5b008d0.png" alt="" /></p><p>2ã€åŒå‡»widget.uiâ½‚ä»¶ï¼Œè¿›â¼ŠUIè®¾è®¡ç•Œâ¾¯ï¼›</p><p><img src="865ea8f8899c935af4968e043c6e9555.png" alt="" /></p><p>3ã€åœ¨UIè®¾è®¡çª—â¼ä¸­æ‹–â¼Šâ¼€ä¸ª&quot;æŒ‰é’®&quot;ï¼Œå¹¶ä¸”ä¿®æ”¹&quot;æŒ‰é’®&quot;çš„åç§°åŠå­—ä½“å¤§å°ç­‰ï¼›</p><p><img src="66699e75c9bf2240993fc2dbc967176b.png" alt="" /></p><p>4ã€å¯è§†åŒ–â½£æˆæ§½å‡½æ•°ï¼›</p><p><img src="2b5341687a31a58c53905a6323202934.png" alt="" /></p><ul><li>å½“å•å‡»&quot;è½¬åˆ°æ§½â€¦&quot;ä¹‹åï¼Œå‡ºç°å¦‚ä¸‹ç•Œâ¾¯ï¼šå¯¹äºæŒ‰é’®æ¥è¯´ï¼Œå½“ç‚¹å‡»æ—¶å‘é€çš„ä¿¡å·æ˜¯ï¼šclicked()ï¼Œæ‰€ä»¥æ­¤å¤„é€‰æ‹©ï¼šclicked()</li></ul><p><img src="146731556e7a05c4fa2d425b8b890195.png" alt="" /></p><ul><li>å¯¹äºæ™®é€šæŒ‰é’®æ¥è¯´,ä½¿â½¤Â clicked ä¿¡å·å³å¯.clicked(bool) æ²¡æœ‰æ„ä¹‰çš„.å…·æœ‰ç‰¹æ®ŠçŠ¶æ€çš„æŒ‰é’®(â½å¦‚å¤é€‰æŒ‰é’®)æ‰ä¼šâ½¤åˆ°Â clicked(bool) .</li></ul><p>5ã€â¾ƒåŠ¨â½£æˆæ§½å‡½æ•°åŸå‹æ¡†æ¶ï¼›<br />ï¼ˆ1ï¼‰åœ¨&quot;widget.h&quot;å¤´â½‚ä»¶ä¸­â¾ƒåŠ¨æ·»åŠ æ§½å‡½æ•°çš„å£°æ˜ï¼›</p><p><img src="10bf40795bc3d1c261ef681f0a5d07b9.png" alt="" /></p><p><strong>ã€è§£é‡Šè¯´æ˜ã€‘</strong><br />â¾ƒåŠ¨â½£æˆæ§½å‡½æ•°çš„åç§°æœ‰â¼€å®šçš„è§„åˆ™ã€‚æ§½å‡½æ•°çš„å‘½åè§„åˆ™ä¸ºï¼šon_XXX_SSSï¼Œå…¶ä¸­ï¼š</p><ul><li>1ã€ä»¥&quot;on&quot;å¼€å¤´ï¼Œä¸­é—´ä½¿â½¤ä¸‹åˆ’çº¿è¿æ¥èµ·æ¥ï¼›</li><li>2ã€&quot;XXX&quot;è¡¨â½°çš„æ˜¯å¯¹è±¡å(æ§ä»¶çš„Â objectName å±æ€§)ã€‚</li><li>3ã€&quot;SSS&quot;è¡¨â½°çš„æ˜¯å¯¹åº”çš„ä¿¡å·ã€‚</li></ul><p>å¦‚ï¼šâ€œon_pushButton_clicked()â€ï¼ŒpushButtonä»£è¡¨çš„æ˜¯å¯¹è±¡åï¼Œclickedæ˜¯å¯¹åº”çš„ä¿¡å·ã€‚</p><p>ï¼ˆ2ï¼‰åœ¨&quot;widget.cpp&quot;ä¸­â¾ƒåŠ¨â½£æˆæ§½å‡½æ•°å®šä¹‰.</p><p><img src="00ce69eb73517a858824b6d534f8e46e.png" alt="" /></p><hr /><p>6ã€åœ¨æ§½å‡½æ•°å‡½æ•°å®šä¹‰ä¸­æ·»åŠ è¦å®ç°çš„åŠŸèƒ½.å®ç°å…³é—­çª—â¼çš„æ•ˆæœï¼ˆå³å½“æˆ‘ä»¬è¿è¡Œä»£ç ç‚¹å‡»å…³é—­æŒ‰é’®ä¹‹åçª—å£å°±ä¼šè‡ªåŠ¨å…³é—­ï¼‰</p><p><img src="8fed1b6443da41901b895fbcb6f72057.png" alt="" /></p><hr /><h2 id="ä¸‰è‡ªå®šä¹‰ä¿¡å·å’Œæ§½"><a class="markdownIt-Anchor" href="#ä¸‰è‡ªå®šä¹‰ä¿¡å·å’Œæ§½"></a> ï¼ˆä¸‰ï¼‰è‡ªå®šä¹‰ä¿¡å·å’Œæ§½</h2><p></p><h3 id="31-åŸºæœ¬è¯­æ³•"><a class="markdownIt-Anchor" href="#31-åŸºæœ¬è¯­æ³•"></a> 3.1 åŸºæœ¬è¯­æ³•</h3><p></p><blockquote><p>åœ¨Qtä¸­ï¼Œå¯ä»¥è‡ªå®šä¹‰ä¿¡å·å’Œæ§½å‡½æ•°ä»¥æ»¡è¶³ç‰¹å®šéœ€æ±‚ã€‚ç„¶è€Œï¼Œè‡ªå®šä¹‰çš„ä¿¡å·å‡½æ•°å’Œæ§½å‡½æ•°åº”è¯¥éµå¾ªä¸€å®šçš„ä¹¦å†™è§„èŒƒã€‚</p></blockquote><p>1ã€â¾ƒå®šä¹‰ä¿¡å·å‡½æ•°ä¹¦å†™è§„èŒƒ</p><ul><li>â¾ƒå®šä¹‰ä¿¡å·å‡½æ•°å¿…é¡»å†™åˆ°&quot;signals&quot;ä¸‹ï¼›</li><li>è¿”å›å€¼ä¸ºvoidï¼Œåªéœ€è¦å£°æ˜ï¼Œä¸éœ€è¦å®ç°ï¼›</li><li>å¯ä»¥æœ‰å‚æ•°ï¼Œä¹Ÿå¯ä»¥å‘â½£é‡è½½ï¼›</li></ul><p>2ã€â¾ƒå®šä¹‰æ§½å‡½æ•°ä¹¦å†™è§„èŒƒ</p><ul><li>æ—©æœŸçš„Qtç‰ˆæœ¬è¦æ±‚æ§½å‡½æ•°å¿…é¡»å†™åˆ°&quot;publicslots&quot;ä¸‹ï¼Œä½†æ˜¯ç°åœ¨â¾¼çº§ç‰ˆæœ¬çš„Qtå…è®¸å†™åˆ°ç±»çš„&quot;public&quot;ä½œâ½¤åŸŸä¸­æˆ–è€…å…¨å±€ä¸‹ï¼›</li><li>è¿”å›å€¼ä¸ºvoidï¼Œéœ€è¦å£°æ˜ï¼Œä¹Ÿéœ€è¦å®ç°ï¼›</li><li>å¯ä»¥æœ‰å‚æ•°ï¼Œå¯ä»¥å‘â½£é‡è½½ï¼›</li></ul><p>3ã€å‘é€ä¿¡å·</p><ul><li>ä½¿â½¤&quot;emit&quot;å…³é”®å­—å‘é€ä¿¡å·ã€‚&quot;emit&quot;æ˜¯â¼€ä¸ªç©ºçš„å®ã€‚&quot;emit&quot;å…¶å®æ˜¯å¯é€‰çš„ï¼Œæ²¡æœ‰ä»€ä¹ˆå«ä¹‰ï¼Œåªæ˜¯ä¸ºäº†æé†’å¼€å‘â¼ˆå‘˜ã€‚</li></ul><p>â½°ä¾‹1ï¼š<br />1ã€åœ¨widget.hä¸­å£°æ˜â¾ƒå®šä¹‰çš„ä¿¡å·å’Œæ§½ï¼Œå¦‚å›¾æ‰€â½°;</p><p><img src="5d4e162de9b83a6bf601c1fb38d25278.png" alt="" /></p><p>2ã€åœ¨widget.cppä¸­å®ç°æ§½å‡½æ•°ï¼Œå¹¶ä¸”å…³è”ä¿¡å·å’Œæ§½</p><blockquote><p>æ³¨æ„ï¼š<strong>å›¾ä¸­çš„â‘ å’Œâ‘¡çš„é¡ºåºä¸èƒ½é¢ å€’</strong><br />åŸå› æ˜¯,â¾¸å…ˆå…³è”ä¿¡å·å’Œæ§½ï¼Œâ¼€æ—¦æ£€æµ‹åˆ°ä¿¡å·å‘å°„ä¹‹åå°±ä¼šâ½´â»¢æ‰§â¾å…³è”çš„æ§½å‡½æ•°ã€‚åä¹‹ï¼Œè‹¥å…ˆå‘å°„ä¿¡å·ï¼Œæ­¤æ—¶è¿˜æ²¡æœ‰å…³è”æ§½å‡½æ•°ï¼Œå½“ä¿¡å·å‘å°„ä¹‹åæ§½å‡½æ•°ä¸ä¼šå“åº”.</p></blockquote><p><img src="b1645c165490421decb3c0ec5f767536.png" alt="" /></p><hr /><h3 id="32-å¸¦å‚æ•°çš„ä¿¡å·å’Œæ§½"><a class="markdownIt-Anchor" href="#32-å¸¦å‚æ•°çš„ä¿¡å·å’Œæ§½"></a> 3.2 å¸¦å‚æ•°çš„ä¿¡å·å’Œæ§½</h3><blockquote><p>Qtçš„ä¿¡å·å’Œæ§½ä¹Ÿâ½€æŒå¸¦æœ‰å‚æ•°,åŒæ—¶ä¹Ÿå¯ä»¥â½€æŒé‡è½½.<br />æ­¤å¤„æˆ‘ä»¬è¦æ±‚,ä¿¡å·å‡½æ•°çš„å‚æ•°åˆ—è¡¨è¦å’Œå¯¹åº”è¿æ¥çš„æ§½å‡½æ•°å‚æ•°åˆ—è¡¨â¼€è‡´.<br />æ­¤æ—¶ä¿¡å·è§¦å‘,è°ƒâ½¤åˆ°æ§½å‡½æ•°çš„æ—¶å€™,ä¿¡å·å‡½æ•°ä¸­çš„å®å‚å°±èƒ½å¤Ÿè¢«ä¼ é€’åˆ°æ§½å‡½æ•°çš„å½¢å‚å½“ä¸­.</p><p>(ğŸ’¡ é€šè¿‡è¿™æ ·çš„æœºåˆ¶,å°±å¯ä»¥è®©ä¿¡å·ç»™æ§½ä¼ é€’æ•°æ®äº†.)</p></blockquote><p>ç¤ºä¾‹ï¼šé‡è½½ä¿¡å·æ§½<br />(1ï¼‰åœ¨&quot;widget.h&quot;å¤´â½‚ä»¶ä¸­å£°æ˜é‡è½½çš„ä¿¡å·å‡½æ•°ä»¥åŠé‡è½½çš„æ§½å‡½æ•°ï¼›å¦‚ä¸‹å›¾æ‰€â½°ï¼š</p><p><img src="279507feea95e56420b347d5f3463a3a.png" alt="" /></p><p>ï¼ˆ2ï¼‰åœ¨&quot;Widget.cpp&quot;â½‚ä»¶å®ç°é‡è½½æ§½å‡½æ•°ä»¥åŠè¿æ¥ä¿¡å·å’Œæ§½ã€‚</p><ul><li>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šåœ¨å®šä¹‰å‡½æ•°æŒ‡é’ˆæ—¶è¦æŒ‡æ˜å‡½æ•°æŒ‡é’ˆçš„ä½œâ½¤åŸŸã€‚</li></ul><p><img src="c01d2ab5ef895d9ea6a43ccf0ff86b54.png" alt="" /></p><p>ï¼ˆ3ï¼‰æ‰§â¾ç»“æœå¦‚ä¸‹å›¾æ‰€â½°ï¼š</p><p><img src="32220fb78e1028eb3dfc4225c2357b1d.png" alt="" /></p><hr /><h2 id="å››ä¿¡å·ä¸æ§½çš„è¿æ¥æ–¹å¼"><a class="markdownIt-Anchor" href="#å››ä¿¡å·ä¸æ§½çš„è¿æ¥æ–¹å¼"></a> ï¼ˆå››ï¼‰ä¿¡å·ä¸æ§½çš„è¿æ¥â½…å¼</h2><h3 id="41-ä¸€å¯¹ä¸€"><a class="markdownIt-Anchor" href="#41-ä¸€å¯¹ä¸€"></a> 4.1Â â¼€å¯¹â¼€</h3><p>ä¸»è¦æœ‰ä¸¤ç§å½¢å¼ï¼Œåˆ†åˆ«æ˜¯**ï¼šâ¼€ä¸ªä¿¡å·è¿æ¥â¼€ä¸ªæ§½<strong>å’Œ</strong>â¼€ä¸ªä¿¡å·è¿æ¥â¼€ä¸ªä¿¡å·**ã€‚<br />ï¼ˆ1ï¼‰â¼€ä¸ªä¿¡å·è¿æ¥â¼€ä¸ªæ§½</p><p><img src="7986ee68284bb4761311fbd64df9ebb5.png" alt="" /></p><p>ä»£ç â½°ä¾‹ï¼š<br />1ã€åœ¨&quot;widget.h&quot;ä¸­å£°æ˜ä¿¡å·å’Œæ§½ä»¥åŠä¿¡å·å‘å°„å‡½æ•°ï¼›</p><p><img src="4503ca16f3e087ccddb89892b0929d49.png" alt="" /></p><p>2ã€åœ¨&quot;widget.cpp&quot;ä¸­å®ç°æ§½å‡½æ•°ï¼Œä¿¡å·å‘å°„å‡½æ•°ä»¥åŠè¿æ¥ä¿¡å·å’Œæ§½ï¼›</p><p><img src="bd844a0cba7d123af525521cfb4f268b.png" alt="" /></p><p>ï¼ˆ2ï¼‰â¼€ä¸ªä¿¡å·è¿æ¥å¦â¼€ä¸ªä¿¡å·</p><p><img src="f9cc6910b8eaa38535007930344b4756.png" alt="" /></p><p>ä»£ç ç¤ºä¾‹ï¼š</p><p>åœ¨ä¸Šè¿°â½°ä¾‹çš„åŸºç¡€ä¸Šï¼Œåœ¨&quot;widget.cpp&quot;â½‚ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><p><img src="c271dba2f2ebd3ebe43679c6288804b8.png" alt="" /></p><hr /><h3 id="42-ä¸€å¯¹å¤š"><a class="markdownIt-Anchor" href="#42-ä¸€å¯¹å¤š"></a> 4.2Â â¼€å¯¹å¤š</h3><p>â¼€ä¸ªä¿¡å·è¿æ¥å¤šä¸ªæ§½</p><p><img src="a0521079118854de402722f5bf42394e.png" alt="" /></p><p>â½°ä¾‹ï¼š<br />ï¼ˆ1ï¼‰åœ¨&quot;widget.h&quot;å¤´â½‚ä»¶ä¸­å£°æ˜â¼€ä¸ªä¿¡å·å’Œä¸‰ä¸ªæ§½;</p><p><img src="272c017047202f126b5267898b51b4fc.png" alt="" /></p><p>ï¼ˆ2ï¼‰åœ¨&quot;widget.cpp&quot;â½‚ä»¶ä¸­å®ç°æ§½å‡½æ•°ä»¥åŠè¿æ¥ä¿¡å·å’Œæ§½ï¼›</p><p><img src="e7ecbcdd873a457e0dff7ef651020990.png" alt="" /></p><hr /><h3 id="43-å¤šå¯¹ä¸€"><a class="markdownIt-Anchor" href="#43-å¤šå¯¹ä¸€"></a> 4.3Â å¤šå¯¹â¼€</h3><p>å¤šä¸ªä¿¡å·è¿æ¥â¼€ä¸ªæ§½å‡½æ•°</p><p><img src="898910af8367b803ac5040fd41843a51.png" alt="" /></p><p>â½°ä¾‹ï¼š<br />ï¼ˆ1ï¼‰åœ¨&quot;widget.h&quot;å¤´â½‚ä»¶ä¸­å£°æ˜ä¸¤ä¸ªä¿¡å·ä»¥åŠâ¼€ä¸ªæ§½ï¼›</p><p><img src="8a74a0ab4496307227cc567e79280662.png" alt="" /></p><p>ï¼ˆ2ï¼‰åœ¨&quot;widget.cpp&quot;â½‚ä»¶ä¸­å®ç°æ§½å‡½æ•°ä»¥åŠè¿æ¥ä¿¡å·å’Œæ§½ï¼›</p><p><img src="334e5cceb23c179f1a003352098af0e4.png" alt="" /></p><hr /><h2 id="äº”ä¿¡å·å’Œæ§½çš„å…¶ä»–è¯´æ˜"><a class="markdownIt-Anchor" href="#äº”ä¿¡å·å’Œæ§½çš„å…¶ä»–è¯´æ˜"></a> ï¼ˆäº”ï¼‰ä¿¡å·å’Œæ§½çš„å…¶ä»–è¯´æ˜</h2><h3 id="51-ä¿¡å·ä¸æ§½çš„æ–­å¼€"><a class="markdownIt-Anchor" href="#51-ä¿¡å·ä¸æ§½çš„æ–­å¼€"></a> 5.1Â ä¿¡å·ä¸æ§½çš„æ–­å¼€</h3><blockquote><p>åœ¨Qtä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <strong>disconnect</strong> å‡½æ•°æ¥æ–­å¼€ä¿¡å·ä¸æ§½ä¹‹é—´çš„è¿æ¥ã€‚<strong>disconnect</strong> å‡½æ•°å…è®¸ä½ åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°æ–­å¼€è¿æ¥ï¼Œä»¥ä¾¿åœæ­¢ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´çš„ä¿¡å·å’Œæ§½çš„å…³è”ã€‚ï¼ˆdisconnectçš„â½¤æ³•å’ŒconnectåŸºæœ¬â¼€è‡´.ï¼‰</p></blockquote><p>ä»£ç ç¤ºä¾‹ï¼š</p><p><img src="d7d84f5aea270e12e22631d1afab7919.png" alt="" /></p><ul><li>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ–­å¼€è¿æ¥æ—¶ï¼Œå¿…é¡»æä¾›ä¸å»ºç«‹è¿æ¥æ—¶ç›¸åŒçš„å‚æ•°ï¼ŒåŒ…æ‹¬ä¿¡å·å‡½æ•°å’Œæ§½å‡½æ•°çš„æŒ‡é’ˆæˆ–å‡½æ•°æŒ‡é’ˆã€‚</li></ul><hr /><h3 id="52-qt4ç‰ˆæœ¬ä¿¡å·ä¸æ§½çš„è¿æ¥"><a class="markdownIt-Anchor" href="#52-qt4ç‰ˆæœ¬ä¿¡å·ä¸æ§½çš„è¿æ¥"></a> 5.2Â Qt4ç‰ˆæœ¬ä¿¡å·ä¸æ§½çš„è¿æ¥</h3><blockquote><p>Qt4ä¸­çš„connectâ½¤æ³•å’ŒQt5ç›¸â½æ˜¯æ›´å¤æ‚çš„.éœ€è¦æ­é…Â SIGNAL å’ŒÂ SLOT å®æ¥å®Œæˆã€‚â½½ä¸”ç¼ºå°‘å¿…è¦çš„å‡½æ•°ç±»å‹çš„æ£€æŸ¥ï¼Œä½¿ä»£ç æ›´å®¹æ˜“å‡ºé”™ã€‚</p></blockquote><p>ä»£ç ç¤ºä¾‹ï¼š</p><p>ï¼ˆ1ï¼‰åœ¨&quot;widget.h&quot;å¤´â½‚ä»¶ä¸­å£°æ˜ä¿¡å·å’Œæ§½</p><p><img src="79f8b5b6309ce49b41986094674c126f.png" alt="" /></p><p>ï¼ˆ2ï¼‰åœ¨&quot;widget.cpp&quot;â½‚ä»¶ä¸­å®ç°æ§½å‡½æ•°ä»¥åŠè¿æ¥ä¿¡å·ä¸æ§½ï¼›</p><p><img src="2f9a3eec38c3fb355c9a71dab7d6b561.png" alt="" /></p><p>Qt4ç‰ˆæœ¬ä¿¡å·ä¸æ§½è¿æ¥çš„ä¼˜ç¼ºç‚¹ï¼š</p><ul><li>ä¼˜ç‚¹ï¼šå‚æ•°ç›´è§‚ï¼›</li><li>ç¼ºç‚¹ï¼šå‚æ•°ç±»å‹ä¸åšæ£€æµ‹ï¼›</li></ul><p>ä»£ç ç¤ºä¾‹ï¼š</p><p><img src="3c56cee67c0f604b09745b3e64e1a917.png" alt="" /></p><hr /><h3 id="53-ä½¿ç”¨lambdaè¡¨è¾¾å¼å®šä¹‰æ§½å‡½æ•°"><a class="markdownIt-Anchor" href="#53-ä½¿ç”¨lambdaè¡¨è¾¾å¼å®šä¹‰æ§½å‡½æ•°"></a> 5.3 ä½¿â½¤Lambdaè¡¨è¾¾å¼å®šä¹‰æ§½å‡½æ•°</h3><p>Qt5åœ¨Qt4çš„åŸºç¡€ä¸Šæâ¾¼äº†ä¿¡å·ä¸æ§½çš„çµæ´»æ€§ï¼Œå…è®¸<strong>ä½¿â½¤ä»»æ„å‡½æ•°</strong>ä½œä¸ºæ§½å‡½æ•°ã€‚</p><p>ä½†å¦‚æœæƒ³â½…ä¾¿çš„ç¼–å†™æ§½å‡½æ•°ï¼Œâ½å¦‚åœ¨ç¼–å†™å‡½æ•°æ—¶è¿å‡½æ•°åéƒ½ä¸æƒ³å®šä¹‰ï¼Œåˆ™å¯ä»¥é€šè¿‡Lambdaè¡¨è¾¾å¼æ¥è¾¾åˆ°è¿™ä¸ªâ½¬çš„ã€‚</p><p>åœ¨Qtä¸­ï¼Œå¯ä»¥ä½¿ç”¨Lambdaè¡¨è¾¾å¼æ¥å®šä¹‰æ§½å‡½æ•°ï¼Œè¿™ä½¿å¾—ä»£ç æ›´åŠ ç®€æ´å’Œå¯è¯»ã€‚Lambdaè¡¨è¾¾å¼æ˜¯C++11å¼•å…¥çš„ä¸€ç§åŒ¿åå‡½æ•°å½¢å¼ï¼Œå…è®¸æˆ‘ä»¬åœ¨éœ€è¦å‡½æ•°çš„åœ°æ–¹å†…è”å®šä¹‰å‡½æ•°ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨Lambdaè¡¨è¾¾å¼å®šä¹‰æ§½å‡½æ•°çš„ç¤ºä¾‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">connect</span>(btn, &amp;QPushButton::clicked, [=]() &#123;<span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;æŒ‰é’®è¢«ç‚¹å‡»äº†&quot;</span>;&#125;);</span><br></pre></td></tr></table></figure><p><strong>ã€è§£é‡Šè¯´æ˜ã€‘</strong></p><ul><li>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†æŒ‰é’®çš„clickedä¿¡å·ä¸ä¸€ä¸ªLambdaè¡¨è¾¾å¼è¿æ¥èµ·æ¥ã€‚</li><li>Lambdaè¡¨è¾¾å¼ä½œä¸ºæ§½å‡½æ•°ï¼Œä½¿ç”¨äº†æ–¹æ‹¬å·[]æ¥æ•è·å¤–éƒ¨å˜é‡ï¼Œè¿™é‡Œä½¿ç”¨äº†æ•è·æ‰€æœ‰å¤–éƒ¨å˜é‡çš„æ–¹å¼[=]ã€‚</li><li>Lambdaè¡¨è¾¾å¼ä¸­çš„ä»£ç å°†ä¼šåœ¨æŒ‰é’®è¢«ç‚¹å‡»æ—¶æ‰§è¡Œã€‚</li></ul><hr /><h3 id="54-ä¿¡å·ä¸æ§½çš„ä¼˜ç¼ºç‚¹"><a class="markdownIt-Anchor" href="#54-ä¿¡å·ä¸æ§½çš„ä¼˜ç¼ºç‚¹"></a> 5.4 ä¿¡å·ä¸æ§½çš„ä¼˜ç¼ºç‚¹</h3><p>ä¼˜ç‚¹:<strong>æ¾æ•£è€¦åˆ</strong></p><ul><li>ä¿¡å·å‘é€è€…ä¸éœ€è¦çŸ¥é“å‘å‡ºçš„ä¿¡å·è¢«å“ªä¸ªå¯¹è±¡çš„æ§½å‡½æ•°æ¥æ”¶ï¼Œæ§½å‡½æ•°ä¹Ÿä¸éœ€è¦çŸ¥é“å“ªäº›ä¿¡å·å…³è”äº†â¾ƒâ¼°ï¼ŒQtçš„ä¿¡å·æ§½æœºåˆ¶ä¿è¯äº†ä¿¡å·ä¸æ§½å‡½æ•°çš„è°ƒâ½¤ã€‚â½€æŒä¿¡å·æ§½æœºåˆ¶çš„ç±»æˆ–è€…â½—ç±»å¿…é¡»ç»§æ‰¿äºQObjectç±»ã€‚</li></ul><p>ç¼ºç‚¹:<strong>æ•ˆç‡è¾ƒä½</strong></p><ul><li>ä¸å›è°ƒå‡½æ•°ç›¸â½ï¼Œä¿¡å·å’Œæ§½ç¨å¾®æ…¢â¼€äº›ï¼Œå› ä¸ºå®ƒä»¬æä¾›äº†æ›´â¾¼çš„çµæ´»æ€§ï¼Œå°½ç®¡åœ¨å®é™…åº”â½¤ç¨‹åºä¸­å·®åˆ«ä¸â¼¤ã€‚</li><li>é€šè¿‡ä¿¡å·è°ƒâ½¤çš„æ§½å‡½æ•°â½ç›´æ¥è°ƒâ½¤çš„é€Ÿåº¦æ…¢çº¦10å€ï¼ˆè¿™æ˜¯å®šä½ä¿¡å·çš„æ¥æ”¶å¯¹è±¡æ‰€éœ€çš„å¼€é”€ï¼›éå†æ‰€æœ‰å…³è”ï¼›ç¼–ç»„/è§£ç»„ä¼ é€’çš„å‚æ•°ï¼›å¤šçº¿ç¨‹æ—¶ï¼Œä¿¡å·å¯èƒ½éœ€è¦æ’é˜Ÿï¼‰ï¼Œè¿™ç§è°ƒâ½¤é€Ÿåº¦å¯¹æ€§èƒ½è¦æ±‚ä¸æ˜¯â¾®å¸¸â¾¼çš„åœºæ™¯æ˜¯å¯ä»¥å¿½ç•¥çš„ï¼Œæ˜¯å¯ä»¥æ»¡â¾œç»â¼¤éƒ¨åˆ†åœºæ™¯ã€‚</li></ul><hr /><h2 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h2><p>åœ¨Qtä¸­ï¼Œä¿¡å·ä¸æ§½æ˜¯ä¸€ç§å¼ºå¤§çš„é€šä¿¡æœºåˆ¶ï¼Œç”¨äºåœ¨å¯¹è±¡ä¹‹é—´è¿›è¡Œå¼‚æ­¥é€šä¿¡ã€‚ä»¥ä¸‹æ˜¯å…³äºä¿¡å·ä¸æ§½çš„ç®€è¦å°ç»“ï¼š</p><ol><li><p><strong>ä¿¡å·</strong>ï¼š</p><ul><li>ä¿¡å·æ˜¯Qtä¸­ç‰¹æœ‰çš„æ¦‚å¿µï¼Œæ˜¯ä¸€ç§ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼Œç”¨äºé€šçŸ¥å…¶ä»–å¯¹è±¡å‘ç”Ÿäº†æŸç§ç‰¹å®šçš„äº‹ä»¶ã€‚</li><li>ä¿¡å·ç”±<code>signals:</code>å…³é”®å­—å£°æ˜ï¼Œåœ¨ç±»çš„å£°æ˜éƒ¨åˆ†ä¸­å®šä¹‰ã€‚</li><li>ä¿¡å·å‡½æ•°é€šå¸¸ä¸åŒ…å«å®é™…çš„å®ç°ï¼Œåªæ˜¯ç”¨æ¥å‘å‡ºä¿¡å·ã€‚</li><li>ä¿¡å·å‡½æ•°å¯ä»¥æœ‰å‚æ•°ï¼Œå‚æ•°çš„ç±»å‹å¿…é¡»æ˜¯Qtå…ƒå¯¹è±¡ç³»ç»Ÿæ”¯æŒçš„æ•°æ®ç±»å‹ã€‚</li></ul></li><li><p><strong>æ§½</strong>ï¼š</p><ul><li>æ§½æ˜¯ç”¨äºå“åº”ä¿¡å·çš„å‡½æ•°ï¼Œå¯ä»¥æ‰§è¡Œç‰¹å®šçš„æ“ä½œä»¥å“åº”ä¿¡å·çš„å‘ç”Ÿã€‚</li><li>æ§½å‡½æ•°ç”±<code>slots:</code>å…³é”®å­—å£°æ˜ï¼Œåœ¨ç±»çš„å£°æ˜éƒ¨åˆ†ä¸­å®šä¹‰ã€‚</li><li>æ§½å‡½æ•°å¯ä»¥æ˜¯æ™®é€šæˆå‘˜å‡½æ•°ã€é™æ€æˆå‘˜å‡½æ•°æˆ–è€…Lambdaè¡¨è¾¾å¼ã€‚</li><li>æ§½å‡½æ•°çš„å‚æ•°ç±»å‹å¿…é¡»ä¸è¿æ¥çš„ä¿¡å·çš„å‚æ•°ç±»å‹åŒ¹é…ã€‚</li></ul></li><li><p><strong>è¿æ¥</strong>ï¼š</p><ul><li>è¿æ¥æ˜¯æŒ‡å»ºç«‹ä¿¡å·ä¸æ§½ä¹‹é—´çš„å…³è”ï¼Œä½¿å¾—å½“ä¿¡å·è¢«å‘å‡ºæ—¶ï¼Œç›¸å…³çš„æ§½å‡½æ•°ä¼šè¢«è°ƒç”¨ã€‚</li><li>è¿æ¥é€šè¿‡<code>QObject::connect()</code>å‡½æ•°æ¥å®ç°ï¼Œå¯ä»¥è¿æ¥ä¸¤ä¸ªQObjectå¯¹è±¡ä¹‹é—´çš„ä¿¡å·å’Œæ§½ã€‚</li><li>åœ¨è¿æ¥æ—¶ï¼Œéœ€è¦æŒ‡å®šå‘é€ä¿¡å·çš„å¯¹è±¡ã€ä¿¡å·å‡½æ•°ã€æ¥æ”¶ä¿¡å·çš„å¯¹è±¡ä»¥åŠæ§½å‡½æ•°ã€‚</li><li>è¿æ¥è¿˜å¯ä»¥ä½¿ç”¨Qt 5ä¸­å¼•å…¥çš„æ–°è¯­æ³•ï¼Œä½¿å¾—è¿æ¥æ›´åŠ ç±»å‹å®‰å…¨ã€‚</li></ul></li><li><p><strong>è‡ªå®šä¹‰ä¿¡å·ä¸æ§½</strong>ï¼š</p><ul><li>Qtå…è®¸è‡ªå®šä¹‰ä¿¡å·å’Œæ§½å‡½æ•°ï¼Œä»¥æ»¡è¶³ç‰¹å®šéœ€æ±‚ã€‚</li><li>è‡ªå®šä¹‰çš„ä¿¡å·å‡½æ•°å’Œæ§½å‡½æ•°åº”è¯¥éµå¾ªä¸€å®šçš„ä¹¦å†™è§„èŒƒï¼Œä¾‹å¦‚åœ¨ç±»çš„å£°æ˜éƒ¨åˆ†ä¸­ä½¿ç”¨<code>signals:</code>å’Œ<code>slots:</code>å…³é”®å­—å£°æ˜ã€‚</li><li>è‡ªå®šä¹‰çš„ä¿¡å·å‡½æ•°å’Œæ§½å‡½æ•°å¯ä»¥æœ‰å‚æ•°ï¼Œå‚æ•°çš„ç±»å‹å¿…é¡»æ˜¯Qtå…ƒå¯¹è±¡ç³»ç»Ÿæ”¯æŒçš„æ•°æ®ç±»å‹ã€‚</li></ul></li></ol><p>ä½¿ç”¨ä¿¡å·ä¸æ§½æœºåˆ¶å¯ä»¥å®ç°å¯¹è±¡ä¹‹é—´çš„æ¾è€¦åˆé€šä¿¡ï¼Œä½¿å¾—ä»£ç æ›´åŠ æ¨¡å—åŒ–ã€å¯ç»´æŠ¤å’Œå¯æ‰©å±•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++ ä»£ç†/å§”æ‰˜</title>
      <link href="/2025/04/23/UE/UEC++%20%E4%BB%A3%E7%90%86%E5%A7%94%E6%89%98/"/>
      <url>/2025/04/23/UE/UEC++%20%E4%BB%A3%E7%90%86%E5%A7%94%E6%89%98/</url>
      
        <content type="html"><![CDATA[<p><strong>ä»£ç†ï¼š</strong></p><ul><li>ä»£ç†å¯ä»¥å¸®åŠ©æˆ‘ä»¬è§£å†³ä¸€å¯¹ä¸€æˆ–æ˜¯ä¸€å¯¹å¤šçš„ä»»åŠ¡åˆ†é…å·¥ä½œã€‚ä¸»è¦å¯ä»¥å¸®åŠ©æˆ‘ä»¬è§£å†³é€šçŸ¥é—®é¢˜ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»£ç†å®Œæˆè°ƒç”¨æŸä¸€ä¸ªå¯¹è±¡çš„ä¸€ä¸ªå‡½æ•°ï¼Œè€Œä¸ç›´æ¥æŒæœ‰è¯¥å¯¹è±¡çš„ä»»ä½•æŒ‡é’ˆã€‚</li><li>ä»£ç†å°±æ˜¯ä¸ºä½ è·‘è…¿é€ä¿¡çš„ï¼Œä½ å¯ä»¥ä¸ç”¨å…³å¿ƒç»™é€ä¿¡çš„ç›®æ ‡äººå…·ä½“æ˜¯è°ï¼Œåªè¦æŒ‰ç…§çº¦å®šå¥½çš„ä¿¡ä»¶æ ¼å¼è¿›è¡Œé€ä¿¡å³å¯</li><li>æ›´ç®€å•ç†è§£ï¼Œæƒ³å»è°ƒç”¨æŸä¸ªå‡½æ•°ï¼Œä½†å¹¶ä¸æ˜¯ç›´æ¥å»è°ƒç”¨ï¼Œè€Œæ˜¯é€šè¿‡å¦ä¸€ä¸ªå…¥å£å»è°ƒç”¨ï¼ˆä»£ç†ï¼‰</li></ul><p>åˆ†ç±»ï¼š</p><ul><li>å•æ’­ä»£ç† åªèƒ½è¿›è¡Œé€šçŸ¥ä¸€ä¸ªäºº</li><li>å¤šæ’­ä»£ç† å¯ä»¥è¿›è¡Œå¤šäººé€šçŸ¥</li><li>åŠ¨æ€ä»£ç† å¯ä»¥è¢«åºåˆ—åŒ–ï¼ˆè¿™ä½“ç°åœ¨äºè“å›¾è¿›è¡Œäº¤äº’ï¼ŒC++ä¸­å¯ä»¥å°†é€šçŸ¥äº‹ä»¶è¿›è¡Œè“å›¾å¹¿æ’­ï¼‰</li></ul><p><strong>å•æ’­ä»£ç†ï¼š</strong></p><p>é€šè¿‡å®è¿›è¡Œæ„å»ºï¼Œå•æ’­ä»£ç†åªèƒ½ç»‘å®šä¸€ä¸ªé€šçŸ¥å¯¹è±¡ï¼Œæ— æ³•è¿›è¡Œå¤šä¸ªå¯¹è±¡é€šçŸ¥ã€</p><p>å•æ’­ä»£ç†åˆ†ä¸ºæœ‰è¿”å›å€¼ä¸æ— è¿”å›å€¼ä¸¤ç§</p><p><strong>ä»£ç†å¯ä½¿ç”¨å£°æ˜å®</strong></p><table><thead><tr><th>å‡½æ•°ç­¾å</th><th>å£°æ˜å®</th></tr></thead><tbody><tr><td><code>void Function()</code></td><td><code>DECLARE_DELEGATE(DelegateName)</code></td></tr><tr><td><code>void Function(Param1)</code></td><td><code>DECLARE_DELEGATE_OneParam(DelegateName, Param1Type)</code></td></tr><tr><td><code>void Function(Param1, Param2)</code></td><td><code>DECLARE_DELEGATE_TwoParams(DelegateName, Param1Type, Param2Type)</code></td></tr><tr><td><code>void Function(Param1, Param2, ...)</code></td><td><code>DECLARE_DELEGATE_&lt;Num&gt;Params(DelegateName, Param1Type, Param2Type, ...)</code></td></tr><tr><td><code>&lt;RetValType&gt; Function()</code></td><td><code>DECLARE_DELEGATE_RetVal(RetValType, DelegateName)</code></td></tr><tr><td><code>&lt;RetValType&gt; Function(Param1)</code></td><td><code>DECLARE_DELEGATE_RetVal_OneParam(RetValType, DelegateName, Param1Type)</code></td></tr><tr><td><code>&lt;RetValType&gt; Function(Param1, Param2)</code></td><td><code>DECLARE_DELEGATE_RetVal_TwoParams(RetValType, DelegateName, Param1Type, Param2Type)</code></td></tr><tr><td><code>&lt;RetValType&gt; Function(Param1, Param2, ...)</code></td><td><code>DECLARE_DELEGATE_RetVal_&lt;Num&gt;Params(RetValType, DelegateName, Param1Type, Param2Type, ...)</code></td></tr></tbody></table><p><strong>å¸¸ç”¨ç»‘å®šå‡½æ•°ï¼š</strong></p><ul><li>BindUObject ç»‘å®šUObjectç±»å‹å¯¹è±¡æˆå‘˜å‡½æ•°çš„ä»£ç†</li><li>BindSP ç»‘å®šåŸºäºå…±äº«å¼•ç”¨çš„æˆå‘˜å‡½æ•°ä»£ç†</li><li>BindRaw ç»‘å®šåŸå§‹è‡ªå®šä¹‰å¯¹è±¡æˆå‘˜å‡½æ•°çš„ä»£ç†ï¼Œæ“ä½œè°ƒç”¨éœ€è¦æ³¨æ„æ‰§è¡Œéœ€è¦æ£€æŸ¥</li><li>IsBound BindStatic ç»‘å®šå…¨å±€å‡½æ•°æˆä¸ºä»£ç†</li><li>UnBind è§£é™¤ç»‘å®šä»£ç†å…³ç³»</li></ul><p>æ³¨æ„ï¼šç»‘å®šä¸­ä¼ é€’çš„å¯¹è±¡ç±»å‹å¿…é¡»å’Œå‡½æ•°æŒ‡é’ˆæ‰€å±ç±»çš„ç±»å‹ç›¸åŒå¦åˆ™ç»‘å®šä¼šæŠ¥é”™</p><p><strong>è°ƒç”¨æ‰§è¡Œï¼š</strong></p><ul><li>ä¸ºäº†ä¿è¯è°ƒç”¨çš„å®‰å…¨æ€§ï¼Œæ‰§è¡ŒExecuteå‡½æ•°ä¹‹å‰éœ€è¦æ£€æŸ¥æ˜¯å¦å­˜åœ¨æœ‰æ•ˆç»‘å®šä½¿ç”¨å‡½æ•°ã€</li><li>IsBound Execute è°ƒç”¨ä»£ç†é€šçŸ¥ï¼Œä¸å®‰å…¨ï¼Œéœ€è¦æ³¨æ„</li><li>ExecuteIfBound è°ƒç”¨ä»£ç†é€šçŸ¥ï¼Œå®‰å…¨ï¼Œä½†æ˜¯æœ‰è¿”å›ç±»å‹çš„å›è°ƒå‡½æ•°æ— æ³•ä½¿ç”¨æ­¤å‡½æ•°æ‰§è¡Œå›è°ƒ</li><li>IsBound æ£€æŸ¥å½“å‰æ˜¯å¦å­˜åœ¨æœ‰æ•ˆä»£ç†ç»‘å®š</li></ul><p><strong>æ„å»ºæ­¥éª¤ï¼š</strong></p><ul><li>é€šè¿‡å®è¿›è¡Œå£°æ˜ä»£ç†å¯¹è±¡ç±»å‹ï¼ˆæ ¹æ®å›è°ƒå‡½æ•°é€‰æ‹©ä¸åŒçš„å®ï¼‰</li><li>ä½¿ç”¨ä»£ç†ç±»å‹è¿›è¡Œæ„å»ºä»£ç†å¯¹è±¡</li><li>ç»‘å®šå›è°ƒå¯¹è±¡ï¼Œå’Œæ“ä½œå‡½æ•°</li><li>æ‰§è¡Œä»£ç†å¯¹è±¡å›è°ƒ</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Actor1.h</span></span><br><span class="line"><span class="comment">// å¤´æ–‡ä»¶ä¸‹</span></span><br><span class="line"><span class="built_in">DECLARE_DELEGATE</span>(DelegateOne)</span><br><span class="line"><span class="built_in">DECLARE_DELEGATE_RetVal_OneParam</span>(int32 ,DelegateTwo, int32)</span><br><span class="line"><span class="comment">// å˜é‡å£°æ˜</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">AActor2</span>* ac2;</span><br><span class="line"></span><br><span class="line">    DelegateOne DegOne;</span><br><span class="line">    DelegateTwo DegTwo;</span><br><span class="line"><span class="comment">// Actor1.cpp </span></span><br><span class="line"><span class="comment">// è¿™é‡Œå°†ä»£ç å†™åœ¨äº†BeginPlayä¸­ï¼Œæ–¹ä¾¿æµ‹è¯•</span></span><br><span class="line">    ac2 = <span class="built_in">GetWorld</span>()-&gt;<span class="built_in">SpawnActor</span>&lt;AActor2&gt;(AActor2::<span class="built_in">StaticClass</span>());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»‘å®šæ— å‚æ— è¿”å›å€¼å•æ’­ä»£ç†</span></span><br><span class="line">    DegOne.<span class="built_in">BindUObject</span>(ac2, &amp;AActor2::CallBackNone);</span><br><span class="line">    DegOne.<span class="built_in">ExecuteIfBound</span>();</span><br><span class="line">    <span class="comment">// ç»‘å®šæœ‰å‚æœ‰è¿”å›å€¼å•æ’­ä»£ç†</span></span><br><span class="line">    DegTwo.<span class="built_in">BindUObject</span>(ac2, &amp;AActor2::CallBackRes);</span><br><span class="line">    int32 num = <span class="number">0</span>;</span><br><span class="line">    num = DegTwo.<span class="built_in">Execute</span>(<span class="number">100</span>);</span><br><span class="line">    UKismetSystemLibrary::<span class="built_in">PrintString</span>(<span class="keyword">this</span>, FString::<span class="built_in">Printf</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;%d&quot;</span>),num));</span><br><span class="line"></span><br><span class="line"><span class="comment">///////////////////////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Actor2.h</span></span><br><span class="line"><span class="comment">//å£°æ˜ä¸¤ä¸ªè¢«ç”¨æ¥ç»‘å®šçš„çš„å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">CallBackNone</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">int32 <span class="title">CallBackRes</span><span class="params">(int32 num)</span></span>;</span><br><span class="line"><span class="comment">// Actor2.cpp</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AActor2::CallBackNone</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    UKismetSystemLibrary::<span class="built_in">PrintString</span>(<span class="keyword">this</span>, <span class="built_in">TEXT</span>(<span class="string">&quot;æ— è¿”å›å€¼æ— å‚æ•°å‡½æ•°è°ƒç”¨ï¼&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">int32 <span class="title">AActor2::CallBackRes</span><span class="params">(int32 num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    UKismetSystemLibrary::<span class="built_in">PrintString</span>(<span class="keyword">this</span>, <span class="built_in">TEXT</span>(<span class="string">&quot;æœ‰è¿”å›å€¼æœ‰å‚æ•°å‡½æ•°è°ƒç”¨ï¼&quot;</span>));</span><br><span class="line">    <span class="keyword">return</span> num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ç»“æœï¼š</p><p>100<br />æœ‰è¿”å›å€¼æœ‰å‚æ•°å‡½æ•°è°ƒç”¨ï¼<br />æ— è¿”å›å€¼æ— å‚æ•°å‡½æ•°è°ƒç”¨!</p><p><strong>å¤šæ’­ä»£ç†ï¼š</strong></p><p><strong>æ— æ³•æ„å»º</strong>å…·æœ‰è¿”å›å€¼çš„å¤šæ’­ä»£ç†â€”â€”å¤šæ’­ä»£ç†æ— è¿”å›å€¼</p><p>å¤šæ’­ä»£ç†ç»‘å®šå‡½æ•°</p><table><thead><tr><th>å‡½æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>â€œAdd()â€</td><td>å°†å‡½æ•°å§”æ‰˜æ·»åŠ åˆ°è¯¥å¤šæ’­å§”æ‰˜çš„è°ƒç”¨åˆ—è¡¨ä¸­ã€‚</td></tr><tr><td>â€œAddStatic()â€</td><td>æ·»åŠ åŸå§‹C++æŒ‡é’ˆå…¨å±€å‡½æ•°å§”æ‰˜ã€‚</td></tr><tr><td>â€œAddRaw()â€</td><td>æ·»åŠ åŸå§‹C++æŒ‡é’ˆå§”æ‰˜ã€‚åŸå§‹æŒ‡é’ˆä¸ä½¿ç”¨ä»»ä½•ç±»å‹çš„å¼•ç”¨ï¼Œå› æ­¤å¦‚æœä»å§”æ‰˜ä¸‹é¢åˆ é™¤äº†å¯¹è±¡ï¼Œåˆ™è°ƒç”¨æ­¤å‡½æ•°å¯èƒ½ä¸å®‰å…¨ã€‚è°ƒç”¨Execute()æ—¶è¯·å°å¿ƒï¼</td></tr><tr><td>â€œAddSP()â€</td><td>æ·»åŠ åŸºäºå…±äº«æŒ‡é’ˆçš„ï¼ˆå¿«é€Ÿã€éçº¿ç¨‹å®‰å…¨ï¼‰æˆå‘˜å‡½æ•°å§”æ‰˜ã€‚å…±äº«æŒ‡é’ˆå§”æ‰˜ä¿ç•™å¯¹å¯¹è±¡çš„å¼±å¼•ç”¨ã€‚</td></tr><tr><td>â€œAddUObject()â€</td><td>æ·»åŠ åŸºäºUObjectçš„æˆå‘˜å‡½æ•°å§”æ‰˜ã€‚UObjectå§”æ‰˜ä¿ç•™å¯¹å¯¹è±¡çš„å¼±å¼•ç”¨ã€‚</td></tr><tr><td>â€œRemove()â€</td><td>ä»è¯¥å¤šæ’­å§”æ‰˜çš„è°ƒç”¨åˆ—è¡¨ä¸­åˆ é™¤å‡½æ•°ï¼ˆæ€§èƒ½ä¸ºO(N)ï¼‰ã€‚è¯·æ³¨æ„ï¼Œå§”æ‰˜çš„é¡ºåºå¯èƒ½ä¸ä¼šè¢«ä¿ç•™ï¼</td></tr><tr><td>â€œRemoveAll()â€</td><td>ä»è¯¥å¤šæ’­å§”æ‰˜çš„è°ƒç”¨åˆ—è¡¨ä¸­åˆ é™¤ç»‘å®šåˆ°æŒ‡å®šUserObjectçš„æ‰€æœ‰å‡½æ•°ã€‚è¯·æ³¨æ„ï¼Œå§”æ‰˜çš„é¡ºåºå¯èƒ½ä¸ä¼šè¢«ä¿ç•™ï¼</td></tr></tbody></table><p>å¹¿åšï¼šÂ è°ƒç”¨å‡½æ•°Broadcastï¼Œä½†æ˜¯è°ƒç”¨ä¸ä¿è¯æ‰§è¡Œé¡ºåºçš„æ­£ç¡®æ€§</p><p><strong>æ„å»ºæ­¥éª¤ï¼š</strong></p><ul><li>ä½¿ç”¨å®æ„å»ºä»£ç†ç±»å‹</li><li>ä½¿ç”¨ä»£ç†ç±»å‹æ„å»ºå¤šæ’­ä»£ç†å¯¹è±¡</li><li>æ·»åŠ ç»‘å®šä»£ç†</li><li>æ‰§è¡Œè°ƒç”¨</li></ul><p>å¤šæ’­ä»£ç†æ‰§è¡Œä½¿ç”¨çš„æ˜¯ Broadcast() è¿›è¡Œæ‰§è¡Œå‡½æ•°</p><p><strong>åŠ¨æ€ä»£ç†ï¼š</strong></p><ul><li>å…è®¸è¢«åºåˆ—åŒ–çš„æ•°æ®ç»“æ„ï¼Œè¿™å°†ä½¿å¾—ä»£ç†å¯ä»¥è¢«æ•°æ®åŒ–æä¾›ç»™è“å›¾è¿›è¡Œä½¿ç”¨ï¼Œè¾¾åˆ°åœ¨CPPä¸­è°ƒç”¨ä»£ç†å¹¿æ’­ï¼Œäº‹ä»¶é€šçŸ¥åˆ°è“å›¾ä¸­ã€‚</li><li>åŠ¨æ€ä»£ç†å’Œæ™®é€šä»£ç†åŸºæœ¬ç›¸åŒï¼Œåˆ†ä¸ºå•å‘å’Œå¤šå‘ï¼ŒåŠ¨æ€ä»£ç†æ— æ³•ä½¿ç”¨å¸¦æœ‰è¿”å›å€¼çš„å‡½æ•°è¿›è¡Œæ„å»ºï¼ˆåŠ¨æ€å•æ’­é™¤å¤–ï¼Œå¹¶ä¸”å•æ’­æ— æ³•åœ¨è“å›¾ä¸­ç»‘å®šæ— æ³•ä½¿ç”¨å®BlueprintAssignableä¿®é¥°ï¼‰</li><li>UEä¸­çš„å¤§éƒ¨åˆ†é€šçŸ¥äº‹ä»¶å‡ä½¿ç”¨åŠ¨æ€ä»£ç†ï¼ˆæ–¹ä¾¿è“å›¾æ“ä½œï¼‰ï¼Œå¦‚ç¢°æ’é€šçŸ¥</li></ul><p>åŠ¨æ€å•æ’­ä»£ç†ï¼š</p><ul><li>DECLARE_DYNAMIC_DELEGATE[_Const, _RetVal, etc.]( DelegateName )</li></ul><p>åŠ¨æ€å¤šæ’­ä»£ç†ï¼š</p><ul><li>DECLARE_DYNAMIC_MULTICAST_DELEGATE[_Const, _RetVal, etc.]( DelegateName )</li></ul><p><strong>æ“ä½œå‡½æ•°ï¼š</strong></p><ul><li>BindDynamic( UserObject, FuncName ) åœ¨åŠ¨æ€ä»£ç†ä¸Šè°ƒç”¨BindDynamic()çš„è¾…åŠ©å®ã€‚</li><li>AddDynamic( UserObject, FuncName ) åœ¨åŠ¨æ€å¤šæ’­ä»£ç†ä¸Šè°ƒç”¨AddDynamic()çš„è¾…åŠ©å®ã€‚</li><li>RemoveDynamic( UserObject, FuncName ) åœ¨åŠ¨æ€å¤šæ’­ä»£ç†ä¸Šè°ƒç”¨RemoveDynamic()çš„è¾…åŠ©å®ã€‚</li></ul><p><strong>ä¸å•æ’­å¤šæ’­åŒºåˆ«ï¼š</strong></p><ul><li>åŠ¨æ€ä»£ç†æ„å»ºç±»å‹åç§°<strong>éœ€è¦ç”¨ <em>F</em> å¼€å¤´</strong>ï¼ˆåŠ¨æ€ä»£ç†å®ç°æœºåˆ¶æ„å»ºäº†ç±»ï¼‰</li><li>åŠ¨æ€ä»£ç†å¯¹è±¡ç±»å‹å¯ä»¥ä½¿ç”¨UPROPERTYæ ‡è®°ï¼Œå…¶ä»–ä»£ç†å‡æ— æ³•ä½¿ç”¨ï¼ˆä¸åŠ ç¼–è¯‘å¯è¿‡ï¼Œè°ƒç”¨å‡ºé”™ï¼‰</li><li>åŠ¨æ€ä»£ç†ç»‘å®šå¯¹è±¡çš„å‡½æ•°éœ€è¦ä½¿ç”¨UFUNCTIONè¿›è¡Œæè¿°ï¼ˆå› ä¸ºéœ€è¦è·Ÿéšä»£ç†è¢«åºåˆ—åŒ–ï¼‰</li></ul><p>æ„å»ºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Actor1.h</span></span><br><span class="line"><span class="built_in">DECLARE_DYNAMIC_DELEGATE</span>(FDelegateTree); <span class="comment">// æ³¨æ„åˆ†å·</span></span><br><span class="line"><span class="comment">// å˜é‡å®šä¹‰</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">AActor2</span>* ac2;</span><br><span class="line">    FDelegateTree DegTree;</span><br><span class="line"><span class="comment">// Actor1.cpp</span></span><br><span class="line">    ac2 = <span class="built_in">GetWorld</span>()-&gt;<span class="built_in">SpawnActor</span>&lt;AActor2&gt;(AActor2::<span class="built_in">StaticClass</span>());</span><br><span class="line"></span><br><span class="line">    DegTree.<span class="built_in">BindDynamic</span>(ac2, &amp;AActor2::CallBackNone);</span><br><span class="line">    <span class="keyword">if</span> (DegTree.<span class="built_in">IsBound</span>()) &#123;</span><br><span class="line">        DegTree.<span class="built_in">ExecuteIfBound</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">// Actor2.h</span></span><br><span class="line">    <span class="built_in">UFUNCTION</span>()</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">CallBackNone</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">// Actor2.cpp</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AActor2::CallBackNone</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    UKismetSystemLibrary::<span class="built_in">PrintString</span>(<span class="keyword">this</span>, <span class="built_in">TEXT</span>(<span class="string">&quot;æ— è¿”å›å€¼æ— å‚æ•°å‡½æ•°è°ƒç”¨ï¼&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ç»“æœï¼š</p><p>æ— è¿”å›å€¼æ— å‚æ•°å‡½æ•°è°ƒç”¨ï¼</p><p><strong>åŠ¨æ€ä»£ç†ç”¨äºè“å›¾ï¼š</strong></p><p>åœ¨æ„å»ºåŠ¨æ€ä»£ç†æä¾›è“å›¾ä½¿ç”¨æ—¶ï¼Œéœ€è¦åœ¨ä»£ç†ä¸Šå¢åŠ æ ‡è®°å®UPROPERTY(BlueprintAssignable)</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++ æ‰“å¼€èµ„æºç®¡ç†å™¨å¹¶è¿”å›é€‰ä¸­æ–‡ä»¶è·¯å¾„</title>
      <link href="/2025/04/23/UE/UEC++%20%E6%89%93%E5%BC%80%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E5%99%A8%E5%B9%B6%E8%BF%94%E5%9B%9E%E9%80%89%E4%B8%AD%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84/"/>
      <url>/2025/04/23/UE/UEC++%20%E6%89%93%E5%BC%80%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E5%99%A8%E5%B9%B6%E8%BF%94%E5%9B%9E%E9%80%89%E4%B8%AD%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84/</url>
      
        <content type="html"><![CDATA[<p>å£°æ˜ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªå‡½æ•°æ¥è¿›è¡Œæ‰“å¼€èµ„æºç®¡ç†å™¨æ“ä½œ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UFUNCTION</span>(BlueprintCallable, Category = <span class="string">&quot;OpenWindowsFile&quot;</span>)</span><br><span class="line"><span class="function">TArray&lt;FString&gt; <span class="title">OpenWindowsFiles</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure><p>å‡½æ•°å®ç°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">TArray&lt;FString&gt; <span class="title">AActor1::OpenWindowsFiles</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    TArray&lt;FString&gt; AbsoluteOpenFileNames;<span class="comment">//è·å–çš„æ–‡ä»¶ç»å¯¹è·¯å¾„</span></span><br><span class="line">    FString ExtensionStr = <span class="built_in">TEXT</span>(<span class="string">&quot;*.*&quot;</span>);<span class="comment">//æ–‡ä»¶ç±»å‹</span></span><br><span class="line"></span><br><span class="line">    IDesktopPlatform* DesktopPlatform = FDesktopPlatformModule::<span class="built_in">Get</span>();</span><br><span class="line">    DesktopPlatform-&gt;<span class="built_in">OpenFileDialog</span>(<span class="literal">nullptr</span>, <span class="built_in">TEXT</span>(<span class="string">&quot;æ–‡ä»¶ç®¡ç†å™¨&quot;</span>), FPaths::<span class="built_in">ConvertRelativePathToFull</span>(FPaths::<span class="built_in">ProjectDir</span>()), <span class="built_in">TEXT</span>(<span class="string">&quot;&quot;</span>), *ExtensionStr, EFileDialogFlags::None, AbsoluteOpenFileNames);</span><br><span class="line">    <span class="keyword">return</span> AbsoluteOpenFileNames;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬åœ¨ç¨‹åºè¿è¡Œçš„æ—¶å€™è°ƒç”¨ä¸€æ¬¡è¿™ä¸ªå‡½æ•°</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">AActor1::BeginPlay</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Super::<span class="built_in">BeginPlay</span>();</span><br><span class="line">    TArray&lt;FString&gt; resStr = <span class="built_in">OpenWindowsFiles</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; resStr.<span class="built_in">Num</span>(); i++) &#123;</span><br><span class="line">        UKismetSystemLibrary::<span class="built_in">PrintString</span>(<span class="keyword">this</span>, resStr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ç»“æœï¼š<br />E:/UEProject/UE4C/mx/mx.sln</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼‚æ­¥åŠ è½½</span></span><br><span class="line">m_Streamable.<span class="built_in">RequestAsyncLoad</span>(SoftMesh.<span class="built_in">ToSoftObjectPath</span>(), FStreamableDelegate::<span class="built_in">CreateUObject</span>(<span class="keyword">this</span>, &amp;UTestGameInstance::LoadSourceCallback));</span><br></pre></td></tr></table></figure><p>å½“ç¨‹åºè¿è¡Œå°±å¼¹å‡ºäº†èµ„æºç®¡ç†å™¨ï¼Œåœ¨é€‰æ‹©äº†mx.slnæ–‡ä»¶ä¹‹åï¼Œå°±å°†è¯¥æ–‡ä»¶çš„ç»“æœæ‰“å°å‡ºæ¥äº†</p><p>OpenFileDialogåœ¨UEä¸­çš„å®šä¹‰ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment">  * Opens the &quot;open file&quot; dialog for the platform</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * @param ParentWindowHandle        æ­¤å¯¹è¯æ¡†çš„çˆ¶çª—å£çš„æœ¬æœºå¥æŸ„</span></span><br><span class="line"><span class="comment">  * @param DialogTitle                å¯¹è¯æ¡†çª—å£æ ‡é¢˜çš„æ–‡æœ¬</span></span><br><span class="line"><span class="comment">  * @param DefaultPath                æ–‡ä»¶å¯¹è¯æ¡†æœ€åˆæ‰“å¼€çš„è·¯å¾„</span></span><br><span class="line"><span class="comment">  * @param DefaultFile                å¯¹è¯æ¡†æœ€åˆå°†é€‰æ‹©çš„æ–‡ä»¶</span></span><br><span class="line"><span class="comment">  * @param Flags                      å¯¹è¯çš„è¯¦ç»†ä¿¡æ¯ã€‚çœ‹åˆ°EFileDialogFlagsã€‚</span></span><br><span class="line"><span class="comment">  * @param FileTypes                  è¦åœ¨å¯¹è¯æ¡†ä¸­æ˜¾ç¤ºçš„ç±»å‹è¿‡æ»¤å™¨ã€‚è¯¥å­—ç¬¦ä¸²åº”è¯¥æ˜¯ä¸€ä¸ªâ€œ|â€åˆ†éš”çš„(æè¿°|æ‰©å±•åˆ—è¡¨)å¯¹åˆ—è¡¨ã€‚æ‰©å±•åˆ—è¡¨ç”¨â€œ;â€åˆ†éš”ã€‚</span></span><br><span class="line"><span class="comment">  * @param OutFilenames               åœ¨å¯¹è¯æ¡†ä¸­é€‰æ‹©çš„æ–‡ä»¶å</span></span><br><span class="line"><span class="comment">  * @param OutFilterIndex            å¯¹è¯æ¡†ä¸­é€‰æ‹©çš„ç±»å‹</span></span><br><span class="line"><span class="comment">  * @å¦‚æœæˆåŠŸé€‰æ‹©æ–‡ä»¶ï¼Œåˆ™è¿”å›true</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="function"><span class="keyword">virtual</span> <span class="type">bool</span> <span class="title">OpenFileDialog</span><span class="params">(<span class="type">const</span> <span class="type">void</span>* ParentWindowHandle, <span class="type">const</span> FString&amp; DialogTitle, <span class="type">const</span> FString&amp; DefaultPath, <span class="type">const</span> FString&amp; DefaultFile, <span class="type">const</span> FString&amp; FileTypes, uint32 Flags, TArray&lt;FString&gt;&amp; OutFilenames, int32&amp; outFilterIndex )</span> </span>= <span class="number">0</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++ èµ„æºåŠ è½½ï¼ˆå››ï¼‰æ¨¡æ¿èµ„æºæ‹¾å–ç±»</title>
      <link href="/2025/04/23/UE/UEC++%20%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD%EF%BC%88%E5%9B%9B%EF%BC%89%E6%A8%A1%E6%9D%BF%E8%B5%84%E6%BA%90%E6%8B%BE%E5%8F%96%E7%B1%BB/"/>
      <url>/2025/04/23/UE/UEC++%20%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD%EF%BC%88%E5%9B%9B%EF%BC%89%E6%A8%A1%E6%9D%BF%E8%B5%84%E6%BA%90%E6%8B%BE%E5%8F%96%E7%B1%BB/</url>
      
        <content type="html"><![CDATA[<p>TSoftObjectPtrå’ŒTSoftClassPtr</p><p>æ¨¡æ¿ç±»å¸®åŠ©æˆ‘ä»¬åœ¨è¿›è¡Œèµ„æºæ“ä½œæ—¶å¢åŠ äº†ç±»å‹å®‰å…¨æ£€æŸ¥ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç»†èŠ‚é¢æ¿ä¸­æ ¹æ®ç»™å®šçš„æ¨¡ç‰ˆç±»å‹æ‹¾å–å¯¹åº”çš„èµ„æºï¼Œä»¥è·å¾—æ›´åŠ é«˜æ•ˆçš„æ“ä½œï¼</p><p>åŒæ ·çš„ï¼ŒTSoftObjectPtrå’ŒTSoftClassPträ¹Ÿåˆ†ä¸ºåŒæ­¥åŠ è½½ä¸å¼‚æ­¥åŠ è½½ï¼é’ˆå¯¹èµ„æºæ‹¾å–ç±»åˆ«ä¸åŒï¼Œä½¿ç”¨éœ€è¦æ³¨æ„ï¼</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UPROPERTY</span>(EditAnywhere)</span><br><span class="line">TSoftObjectPtr&lt;<span class="keyword">class</span> <span class="title class_">UStaticMesh</span>&gt; SoftMesh;</span><br><span class="line"><span class="built_in">UPROPERTY</span>(EditAnywhere)</span><br><span class="line">TSoftClassPtr&lt;<span class="keyword">class</span> <span class="title class_">ATestActor</span>&gt; SoftTestActor;</span><br></pre></td></tr></table></figure><p>TSoftObjectPtrï¼š</p><p>åŒæ­¥åŠ è½½<br />å¤´æ–‡ä»¶ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UPROPERTY</span>(EditAnywhere)</span><br><span class="line">TSoftObjectPtr&lt;<span class="keyword">class</span> <span class="title class_">UStaticMesh</span>&gt; SoftMesh;</span><br><span class="line"><span class="comment">// æ„å»ºä¸ºæ ˆå¯¹è±¡ï¼Œéœ€è¦å¼•å…¥å¤´æ–‡ä»¶ï¼Œä¸è¦æ„å»ºä¸ºå †å¯¹è±¡</span></span><br><span class="line"><span class="comment">// #include &quot;Engine/StreamableManager.h&quot;</span></span><br><span class="line">FStreamableManager m_Streamable;</span><br></pre></td></tr></table></figure><p>cppæ–‡ä»¶ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯ä»¥è½¬æ¢ä¸ºFSoftObjectPathå¯¹è±¡</span></span><br><span class="line">SoftMesh.<span class="built_in">ToSoftObjectPath</span>();</span><br><span class="line"><span class="comment">// åŒæ­¥åŠ è½½</span></span><br><span class="line">UObject* Source = m_Streamable.<span class="built_in">LoadSynchronous</span>(SoftMesh);</span><br><span class="line">UStaticMesh* Mesh = <span class="built_in">Cast</span>&lt;UStaticMesh&gt;(Source);</span><br><span class="line"><span class="keyword">if</span> (Mesh) &#123;</span><br><span class="line">    UKismetSystemLibrary::<span class="built_in">PrintString</span>(<span class="keyword">this</span>, <span class="built_in">TEXT</span>(<span class="string">&quot;åŠ è½½æˆåŠŸï¼&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¼‚æ­¥åŠ è½½</p><p>å¤´æ–‡ä»¶ï¼šæ·»åŠ ä¸€ä¸ªå›è°ƒå‡½æ•°</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼‚æ­¥åŠ è½½å›è°ƒå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">LoadSourceCallback</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure><p>cppæ–‡ä»¶ï¼šéœ€è¦åœ¨åˆå§‹åŒ–å‡½æ•°ä¸­ç»‘å®šå›è°ƒå‡½æ•°ï¼Œç„¶åå®ç°å›è°ƒå‡½æ•°</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼‚æ­¥åŠ è½½</span></span><br><span class="line">m_Streamable.<span class="built_in">RequestAsyncLoad</span>(SoftMesh.<span class="built_in">ToSoftObjectPath</span>(), FStreamableDelegate::<span class="built_in">CreateUObject</span>(<span class="keyword">this</span>, &amp;UTestGameInstance::LoadSourceCallback));</span><br></pre></td></tr></table></figure><p>å›è°ƒå‡½æ•°å®ç°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">UTestGameInstance::LoadSourceCallback</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ­¤å‡½æ•°è°ƒç”¨ï¼Œåˆ™è¡¨æ˜å¼‚æ­¥åŠ è½½å®Œæˆ</span></span><br><span class="line">    <span class="keyword">if</span> (SoftMesh.<span class="built_in">Get</span>()) &#123;</span><br><span class="line">        UKismetSystemLibrary::<span class="built_in">PrintString</span>(<span class="keyword">this</span>, <span class="built_in">TEXT</span>(<span class="string">&quot;åŠ è½½æˆåŠŸï¼&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>TSoftClassPtr</p><p>åŒæ­¥åŠ è½½</p><p>å¤´æ–‡ä»¶ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UPROPERTY</span>(EditAnywhere)</span><br><span class="line">TSoftClassPtr&lt;<span class="keyword">class</span> <span class="title class_">ATestActor</span>&gt; SoftTestActor;</span><br><span class="line"><span class="comment">// æ„å»ºä¸ºæ ˆå¯¹è±¡ï¼Œéœ€è¦å¼•å…¥å¤´æ–‡ä»¶ï¼Œä¸è¦æ„å»ºä¸ºå †å¯¹è±¡</span></span><br><span class="line"><span class="comment">// #include &quot;Engine/StreamableManager.h&quot;</span></span><br><span class="line">FStreamableManager m_Streamable;</span><br></pre></td></tr></table></figure><p>cppæ–‡ä»¶</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒæ­¥åŠ è½½</span></span><br><span class="line">TSubclassOf&lt;ATestActor&gt; TestActorClass = m_Streamable.<span class="built_in">LoadSynchronous</span>(SoftTestActor);</span><br><span class="line"><span class="keyword">if</span> (TestActorClass) &#123;</span><br><span class="line">    <span class="built_in">GetWorld</span>()-&gt;<span class="built_in">SpawnActor</span>&lt;ATestActor&gt;(TestActorClass);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¼‚æ­¥åŠ è½½</p><p>å¤´æ–‡ä»¶ï¼šåŒTSoftClassPtréœ€è¦æ·»åŠ å›è°ƒå‡½æ•°</p><p>cppæ–‡ä»¶</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼‚æ­¥åŠ è½½</span></span><br><span class="line">m_Streamable.<span class="built_in">RequestAsyncLoad</span>(SoftTestActor.<span class="built_in">ToSoftObjectPath</span>(), FStreamableDelegate::<span class="built_in">CreateUObject</span>(<span class="keyword">this</span>, &amp;UTestGameInstance::LoadSourceCallback));</span><br></pre></td></tr></table></figure><p>å›è°ƒå‡½æ•°å®ç°</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">UTestGameInstance::LoadSourceCallback</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ­¤å‡½æ•°è°ƒç”¨ï¼Œåˆ™è¡¨æ˜å¼‚æ­¥åŠ è½½å®Œæˆ</span></span><br><span class="line">    UClass* TestActorClass = SoftTestActor.<span class="built_in">Get</span>();</span><br><span class="line">    <span class="keyword">if</span> (TestActorClass) &#123;</span><br><span class="line">        <span class="built_in">GetWorld</span>()-&gt;<span class="built_in">SpawnActor</span>&lt;ATestActor&gt;(TestActorClass);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++ èµ„æºåŠ è½½ï¼ˆä¸‰ï¼‰å¼‚æ­¥åŠ è½½</title>
      <link href="/2025/04/23/UE/UEC++%20%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD%EF%BC%88%E4%B8%89%EF%BC%89%E5%BC%82%E6%AD%A5%E5%8A%A0%E8%BD%BD/"/>
      <url>/2025/04/23/UE/UEC++%20%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD%EF%BC%88%E4%B8%89%EF%BC%89%E5%BC%82%E6%AD%A5%E5%8A%A0%E8%BD%BD/</url>
      
        <content type="html"><![CDATA[<p>å¼‚æ­¥åŠ è½½</p><p>FStreamableManager</p><p>FSreamableManagerå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ„å»ºå¼‚æ­¥å¤„ç†é€»è¾‘ï¼Œç”¨æ¥å°†åŠ è½½é€»è¾‘ä¸æ¸¸æˆä¸»é€»è¾‘è¿›è¡Œï¼Œä»¥è¾¾åˆ°é«˜æ•ˆåŠ è½½èµ„æºçš„ç›®çš„ã€‚å»ºè®®FSreamableManageråˆ›å»ºåœ¨å…¨å±€æ¸¸æˆçš„å•ä¾‹å¯¹è±¡ä¸­ï¼Œç»“åˆFSoftObjectPathè¿›è¡ŒåŠ è½½ã€‚ FSreamableManageræ”¯æŒå¼‚æ­¥åŠ è½½çš„åŒæ—¶ä¹Ÿæ”¯æŒåŒæ­¥åŠ è½½ã€‚</p><p>FSreamableManageråˆ›å»ºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ„å»ºä¸ºæ ˆå¯¹è±¡ï¼Œéœ€è¦å¼•å…¥å¤´æ–‡ä»¶ï¼Œä¸è¦æ„å»ºä¸ºå †å¯¹è±¡</span></span><br><span class="line"><span class="comment">// #include &quot;Engine/StreamableManager.h&quot;</span></span><br><span class="line">FStreamableManager m_treamable;</span><br></pre></td></tr></table></figure><p>FSoftObjectPathåŒæ­¥åŠ è½½ï¼š</p><p>åŒæ­¥åŠ è½½ä¸ä¹‹å‰ä½¿ç”¨çš„TryLoadåŸºæœ¬ä¸€è‡´</p><p>å¤´æ–‡ä»¶ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UPROPERTY</span>(EditAnywhere)</span><br><span class="line">FSoftObjectPath SourcePath;</span><br><span class="line"><span class="comment">// æ„å»ºä¸ºæ ˆå¯¹è±¡ï¼Œéœ€è¦å¼•å…¥å¤´æ–‡ä»¶ï¼Œä¸è¦æ„å»ºä¸ºå †å¯¹è±¡</span></span><br><span class="line"><span class="comment">// #include &quot;Engine/StreamableManager.h&quot;</span></span><br><span class="line">FStreamableManager m_treamable;</span><br></pre></td></tr></table></figure><p>æ³¨æ„å¤´æ–‡ä»¶å¼•å…¥å¤´æ–‡ä»¶éœ€è¦åœ¨ #include â€œTestGameInstance.generated.hâ€  å¤´æ–‡ä»¶ä¸Šé¢æ—¢ #include â€œTestGameInstance.generated.hâ€ å¿…é¡»æ˜¯æœ€åä¸€ä¸ªå¼•å…¥çš„å¤´æ–‡ä»¶</p><p>cppæ–‡ä»¶ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// FSoftObjectPath é€šè¿‡è“å›¾çš„ç»†èŠ‚é¢æ¿æ‹¾å–</span></span><br><span class="line"><span class="comment">// å€ŸåŠ©FStreamableManageré…åˆFSoftObjectPathåŒæ­¥èµ„æº</span></span><br><span class="line">UObject* Source = m_Streamable.<span class="built_in">LoadSynchronous</span>(SourcePath);</span><br><span class="line"><span class="comment">//åŠ è½½å®Œæˆåè½¬æ¢èµ„äº§</span></span><br><span class="line">UStaticMesh* Mesh = <span class="built_in">Cast</span>&lt;UStaticMesh&gt;(Source);</span><br><span class="line"><span class="keyword">if</span> (Mesh) &#123;</span><br><span class="line">    UKismetSystemLibrary::<span class="built_in">PrintString</span>(<span class="keyword">this</span>, <span class="built_in">TEXT</span>(<span class="string">&quot;åŠ è½½æˆåŠŸï¼&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>FSoftObjectPathå¼‚æ­¥åŠ è½½ï¼š</p><p>å¼‚æ­¥åŠ è½½éœ€è¦è®¾ç½®å›è°ƒé€šçŸ¥å¯¹è±¡ä¸é€šçŸ¥å‡½æ•°</p><p>åœ¨ä¸Šè¿°åŒæ­¥åŠ è½½çš„å¤´æ–‡ä»¶åŸºç¡€ä¸Šæ·»åŠ ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼‚æ­¥åŠ è½½å›è°ƒå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">LoadSourceCallback</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨åˆå§‹åŒ–å‡½æ•°ä¸­ï¼Œç»‘å®šå›è°ƒå‡½æ•°ï¼Œæˆ‘ä½¿ç”¨çš„ GameInstance ç±» æ‰€ä»¥è¿™è¡Œä»£ç å†™åœ¨ Init ä¸­ï¼Œä¸€èˆ¬Actorç±»ï¼Œå†™åœ¨BeginPlay ä¸­</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// FSoftObjectPath é€šè¿‡è“å›¾çš„ç»†èŠ‚é¢æ¿æ‹¾å–</span></span><br><span class="line"><span class="comment">// å€ŸåŠ©FStreamableManageré…åˆFSoftObjectPathåŒæ­¥èµ„æº</span></span><br><span class="line"><span class="comment">// è¿™ä¸ªæ“ä½œä¸ä¼šé˜»å¡è¿›ç¨‹</span></span><br><span class="line">m_Streamable.<span class="built_in">RequestAsyncLoad</span>(SourcePath, FStreamableDelegate::<span class="built_in">CreateUObject</span>(<span class="keyword">this</span>, &amp;UTestGameInstance::LoadSourceCallback));</span><br></pre></td></tr></table></figure><p>å®ç°å›è°ƒå‡½æ•°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">UTestGameInstance::LoadSourceCallback</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// æ­¤å‡½æ•°è°ƒç”¨ï¼Œåˆ™è¡¨æ˜å¼‚æ­¥åŠ è½½å®Œæˆ</span></span><br><span class="line">    <span class="comment">// åŠ è½½ä¹‹åå®Œæˆè½¬æ¢èµ„äº§</span></span><br><span class="line">    UStaticMesh* Mesh = <span class="built_in">Cast</span>&lt;UStaticMesh&gt;(SourcePath.<span class="built_in">ResolveObject</span>());</span><br><span class="line">    <span class="keyword">if</span> (Mesh) &#123;</span><br><span class="line">        UKismetSystemLibrary::<span class="built_in">PrintString</span>(<span class="keyword">this</span>, <span class="built_in">TEXT</span>(<span class="string">&quot;åŠ è½½æˆåŠŸï¼&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŠ è½½çš„è·¯å¾„åŒåŒæ­¥åŠ è½½ä¸€æ ·é€šè¿‡ FSoftObjectPath åœ¨è“å›¾çš„ç»†èŠ‚é¢æ¿ä¸­æŒ‡å®š</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++ èµ„æºåŠ è½½ï¼ˆäºŒï¼‰é—´æ¥å±æ€§å¼•ç”¨</title>
      <link href="/2025/04/23/UE/UEC++%20%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD%EF%BC%88%E4%BA%8C%EF%BC%89%E9%97%B4%E6%8E%A5%E5%B1%9E%E6%80%A7%E5%BC%95%E7%94%A8/"/>
      <url>/2025/04/23/UE/UEC++%20%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD%EF%BC%88%E4%BA%8C%EF%BC%89%E9%97%B4%E6%8E%A5%E5%B1%9E%E6%80%A7%E5%BC%95%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<p>FSoftObjectPath</p><ul><li>FSoftObjectPathæ˜¯ä¸€ä¸ªç®€å•çš„ç»“æ„ä½“ï¼Œä½¿ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²åŒ…å«èµ„æºçš„å®Œæ•´åç§°ã€‚å¯ä»¥åœ¨ç¼–è¾‘å™¨ä¸­æ‹¾å–èµ„æºï¼ˆè¿™ä¸ç›´æ¥å±æ€§å¼•ç”¨ç›¸åŒï¼‰ï¼Œä½†æ˜¯å¹¶ä¸åŠ è½½èµ„æºï¼èµ„æºçš„åŠ è½½éœ€è¦é€šè¿‡é¢å¤–çš„ä»£ç ç¼–å†™å®Œæˆï¼</li><li>FSoftObjectPathè¢«æš´éœ²åˆ°é¢æ¿ä¸­å¯¹äºèµ„æºçš„æ‹¾å–å¹¶æ²¡æœ‰ç‰¹å®šçš„è¦æ±‚ï¼Œæ‰€æœ‰èƒ½å¤Ÿè¢«åºåˆ—åŒ–çš„èµ„æºå‡èƒ½è¢«æ‹¾å–ï¼ˆç±»èµ„æºï¼Œéç±»èµ„æºï¼‰<br />åœ¨å¤´æ–‡ä»¶ä¸­å£°æ˜ä¸€ä¸ªFSoftObjectPathå˜é‡ï¼Œæš´éœ²åˆ°è“å›¾ä¸­ï¼Œåœ¨è“å›¾ä¸­æŒ‡å®šèµ„æºè·¯å¾„</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UPROPERTY</span>(EditAnywhere)</span><br><span class="line">FSoftObjectPath SourcePath;</span><br></pre></td></tr></table></figure><p>èµ„æºåŠ è½½</p><p>FSoftObjectPathåªæ˜¯å­˜å‚¨äº†èµ„æºçš„è·¯å¾„ï¼Œä½¿ç”¨å‰å¿…é¡»é€šè¿‡åŠ è½½æ–¹å¼æ–¹å¯è·å¾—èµ„æºï¼åŠ è½½æ–¹å¼åˆ†ä¸ºåŒæ­¥åŠ è½½ï¼ˆå¦‚æœèµ„æºè¿‡å¤§ä¼šå¯¼è‡´æ¸¸æˆç¨‹åºå¡é¡¿ï¼‰å’Œå¼‚æ­¥åŠ è½½</p><ul><li>åŒæ­¥åŠ è½½<br />åœ¨åŠ è½½è¿è¡Œçº¿ç¨‹ä¸­ï¼Œé˜»å¡çº¿ç¨‹çš„æµç¨‹æ‰§è¡Œï¼Œå°†çº¿ç¨‹åœæ­¢åœ¨å½“å‰åŠ è½½é€»è¾‘ä¸­ï¼ŒåŠ è½½å®Œæˆåç»§ç»­çº¿ç¨‹çš„æ‰§è¡Œé€»è¾‘æ“ä½œï¼Œå¯¹äºåŠ è½½å°èµ„æºå¯ä»¥ä¿è¯èµ„æºçš„ä¸ä¸ºç©ºï¼Œä½†æ˜¯åŠ è½½å¤§èµ„æºå°†å¯¼è‡´è°ƒç”¨çº¿ç¨‹å¡é¡¿</li><li>å¼‚æ­¥åŠ è½½<br />åœ¨åŠ è½½çº¿ç¨‹ä¸­ï¼Œä¸é˜»å¡å½“å‰çº¿ç¨‹é€»è¾‘åŠ è½½èµ„æºï¼ŒåŠ è½½å™¨æœ¬èº«å…·å¤‡çº¿ç¨‹è¿›è¡Œèµ„æºåŠ è½½ã€‚è¾ƒä¹‹åŒæ­¥åŠ è½½æ›´åŠ çš„çµæ´»ï¼Œä½†æ˜¯ç›¸å¯¹ç»´æŠ¤æˆæœ¬è¾ƒé«˜ï¼Œèµ„æºåŠ è½½æˆåŠŸåéœ€è¦è¿›è¡Œå›è°ƒé€šçŸ¥ï¼Œä»¥å®Œæˆæ•´ä¸ªåŠ è½½æµç¨‹</li></ul><p>åŠ è½½èµ„äº§</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç›´æ¥å¼•ç”¨èµ„æº æ›¿ä»£è“å›¾è·å–</span></span><br><span class="line">SourcePath.<span class="built_in">SetPath</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;StaticMesh&#x27;/Game/ThirdPerson/Meshes/Bump_StaticMesh.Bump_StaticMesh&#x27;&quot;</span>));</span><br><span class="line"><span class="comment">// å°è¯•åŠ è½½ åŒæ­¥åŠ è½½</span></span><br><span class="line">UObject* Source = SourcePath.<span class="built_in">TryLoad</span>(); </span><br><span class="line">UStaticMesh* Mesh = <span class="built_in">Cast</span>&lt;UStaticMesh&gt;(Source); </span><br><span class="line"><span class="keyword">if</span> (Mesh) &#123;</span><br><span class="line">       UKismetSystemLibrary::<span class="built_in">PrintString</span>(<span class="keyword">this</span>, <span class="built_in">TEXT</span>(<span class="string">&quot;åŠ è½½æˆåŠŸ!&quot;</span>)); </span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡é€šè¿‡TSubClassOfæ„å»ºæŒ‡å®šçš„å¯¹è±¡ç±»å‹</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‹¾å–ä»»æ„ç±»</span></span><br><span class="line"><span class="built_in">UPROPERTY</span>(EditDefaultsOnly)</span><br><span class="line">UClass* ActorClass;</span><br><span class="line"><span class="comment">// æ‹¾å–æŒ‡å®šçš„TestActorç±»æˆ–å…¶å­ç±»</span></span><br><span class="line"><span class="built_in">UPROPERTY</span>(EditDefaultsOnly)</span><br><span class="line">TSubclassOf&lt;<span class="keyword">class</span> <span class="title class_">ATestActor</span>&gt; TestActorclass;</span><br></pre></td></tr></table></figure><p>åŠ è½½ç±»ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SourcePath.<span class="built_in">SetPath</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;Blueprint&#x27;/Game/MyTestActor.MyTestActor_C&#x27;&quot;</span>));</span><br><span class="line">UObject* Sorce = SourcePath.<span class="built_in">TryLoad</span>();</span><br><span class="line">UClass* myActor = <span class="built_in">Cast</span>&lt;UClass&gt;(Sorce);</span><br><span class="line"><span class="keyword">if</span> (myActor) &#123;</span><br><span class="line">    <span class="built_in">GetWorld</span>()-&gt;<span class="built_in">SpawnActor</span>&lt;ATestActor&gt;(myActor);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨ï¼šè¿™é‡Œçš„åŠ è½½éƒ½æ˜¯åŒæ­¥åŠ è½½</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++ èµ„æºåŠ è½½ï¼ˆä¸€ï¼‰ç›´æ¥å±æ€§å¼•ç”¨</title>
      <link href="/2025/04/23/UE/UEC++%20%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD%EF%BC%88%E4%B8%80%EF%BC%89%E7%9B%B4%E6%8E%A5%E5%B1%9E%E6%80%A7%E5%BC%95%E7%94%A8/"/>
      <url>/2025/04/23/UE/UEC++%20%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD%EF%BC%88%E4%B8%80%EF%BC%89%E7%9B%B4%E6%8E%A5%E5%B1%9E%E6%80%A7%E5%BC%95%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<p>1ã€ç¼–è¾‘å™¨ç›´æ¥åŠ è½½ï¼š</p><p>é€šè¿‡ä½¿ç”¨å±æ€§å®æ ‡è®°UPROPERTY(Editä¸‰ä¸ªéƒ½å¯ä»¥3)æ¥å°†èµ„äº§å¯¹è±¡æŒ‡é’ˆæš´éœ²åˆ°ç¼–è¾‘å™¨é¢æ¿ï¼Œä»è€Œç›´æ¥ä»ç¼–è¾‘å™¨é¢æ¿æ‹¾å–èµ„äº§ã€‚</p><p>æ³¨æ„ï¼šUClassç±»æŒ‡é’ˆï¼Œä¸“é—¨ç”¨æ¥æ‹¾å–ç±»æ¨¡ç‰ˆèµ„äº§</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‹¾å–ä»»æ„ç±»</span></span><br><span class="line"><span class="built_in">UPROPERTY</span>(EditDefaultsOnly)</span><br><span class="line">UClass* ActorClass;</span><br><span class="line"><span class="comment">// æ‹¾å–éŸ³é¢‘ç±»</span></span><br><span class="line"><span class="built_in">UPROPERTY</span>(EditDefaultsOnly)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">USoundBase</span>* SoundSrc;</span><br></pre></td></tr></table></figure><p>2ã€TSubClassOf</p><p>TSubclassOfæ˜¯æä¾›UClassçš„å®‰å…¨æ¨¡æ¿ç±»ï¼Œé€šè¿‡æ­¤æ¨¡æ¿ç±»æˆ‘ä»¬å¯ä»¥å¿«é€Ÿåœ¨ç¼–è¾‘å™¨ä¸­è¿›è¡Œç±»å‹é€‰æ‹©ï¼Œå¸®åŠ©æˆ‘ä»¬å¿«é€Ÿæ„å»ºæŸç§ç±»å‹å¯¹è±¡æ•°æ®ã€‚<br />TSå¯¹ç±»å‹æœ‰çº¦æŸï¼Œåªèƒ½é€‰å–æ¨¡ç‰ˆç±»å‹æˆ–æ˜¯ç»§æ‰¿è‡ªæ¨¡ç‰ˆç±»å‹çš„ç±»æˆ–æ˜¯è“å›¾<br />ä½¿ç”¨è¯­æ³•ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TSubclassOf&lt;T&gt; type;</span><br><span class="line">type.<span class="built_in">Get</span>();<span class="comment">// è·å–åˆ°Classæ•°æ®å¯¹è±¡</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡é€šè¿‡TSubClassOfæ„å»ºæŒ‡å®šçš„å¯¹è±¡ç±»å‹</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‹¾å–ä»»æ„ç±»</span></span><br><span class="line"><span class="built_in">UPROPERTY</span>(EditDefaultsOnly)</span><br><span class="line">UClass* ActorClass;</span><br><span class="line"><span class="comment">// æ‹¾å–æŒ‡å®šçš„TestActorç±»æˆ–å…¶å­ç±»</span></span><br><span class="line"><span class="built_in">UPROPERTY</span>(EditDefaultsOnly)</span><br><span class="line">TSubclassOf&lt;<span class="keyword">class</span> <span class="title class_">ATestActor</span>&gt; TestActorclass;</span><br></pre></td></tr></table></figure><p>3ã€æ„é€ å‡½æ•°åŠ è½½</p><ul><li><p>åœ¨æ„é€ å‡½æ•°ä¸­å¯ä»¥å€ŸåŠ©æ„é€ å‡½æ•°èµ„äº§åŠ è½½ç±»è¿›è¡Œèµ„æºå¼•ç”¨ï¼Œæ›´åŠ æ–¹ä¾¿ä¾¿æ·ã€‚</p></li><li><p>é™æ€èµ„æºå¼•ç”¨ç±»ConstructorHelperså¯ä»¥è¿›è¡Œç±»å¼•ç”¨ï¼Œæºèµ„æºå¼•ç”¨ï¼Œæ³¨æ„ConstructorHelpersåªèƒ½åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨<br />å¸¸ç”¨èµ„æºåŠ å…¥åˆ†ç±»</p></li><li><p>FClassFinder å¸¸ç”¨æ¥åŠ è½½åˆ›å»ºåçš„è“å›¾å¯¹è±¡</p></li><li><p>FObjectFinder ç”¨æ¥åŠ è½½å„ç§èµ„æºï¼Œå¦‚éŸ³é¢‘ï¼Œå›¾ç‰‡ï¼Œæè´¨ï¼Œé™æ€ç½‘æ ¼</p></li></ul><p>FClassFinderè¯­æ³•</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›å€¼æ˜¯TSubClassOf</span></span><br><span class="line">ConstructorHelpers::<span class="built_in">FClassFinder</span>&lt;ATestActor&gt;(<span class="built_in">TEXT</span>(<span class="string">&quot;/Game/MyTestActor.MyTestActor&quot;</span>)).Class;</span><br><span class="line"><span class="comment">// æ‹¾å–è“å›¾å¯¹è±¡ç±» æ‹¾å–è“å›¾ç±» å¿…é¡»åŠ  &#x27;_C&#x27;</span></span><br><span class="line"><span class="function">ConstructorHelpers::FClassFinder&lt;ATestActor&gt; <span class="title">UnitSelector</span><span class="params">(TEXT(<span class="string">&quot;Blueprint&#x27;/Game/MyTestActor.MyTestActor_C&#x27;&quot;</span>))</span></span>;</span><br></pre></td></tr></table></figure><p>FObjectFinderè¯­æ³•</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UTexture2D* BarFillTure;</span><br><span class="line"><span class="function">ConstructorHelpers::FObjectFinder&lt;UTexture2D&gt; <span class="title">BarFillObj</span><span class="params">(TEXT(<span class="string">&quot;/Game/UI/HUD/BarFill&quot;</span>))</span></span>;</span><br><span class="line">BarFillTure = BarFillObj.Object;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š</p><ul><li>æ“ä½œè·¯å¾„å‰åŠ å…¥/Game/å‰ç¼€</li><li>ConstructorHelpers ç±»å°†å°è¯•åœ¨å†…å­˜ä¸­æŸ¥æ‰¾è¯¥èµ„äº§ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™è¿›è¡ŒåŠ è½½</li><li>ConstructorHelpersåªèƒ½åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨ï¼ŒGameInstanceä¸­æ˜¯ Init å‡½æ•°ï¼ˆéœ€è¦é‡è½½ï¼‰</li><li>å¦‚æœåŠ è½½å¤±è´¥æˆ–æ˜¯æœªæ‰¾åˆ°èµ„æºï¼Œå¯¹è±¡å†…çš„èµ„äº§å±æ€§ä¸ºnull</li><li>å¦‚æœåŠ è½½è“å›¾ç±»æ¨¡ç‰ˆå¯¹è±¡æ—¶ï¼Œéœ€è¦åŠ æ³¨â€œ_Câ€<br />æŸ¥æ‰¾åŠ è½½</li></ul><p>åœ¨åªçŸ¥é“ç›®æ ‡èµ„æºè·¯å¾„çš„åŸºç¡€ä¸Šï¼Œè¿›è¡Œè¿è¡Œæ—¶æ€çš„èµ„æºåŠ è½½ï¼ŒUEæä¾›äº†LoadObjectç”¨æ¥åŠ è½½èµ„äº§ï¼ŒLoadClassç”¨æ¥åŠ è½½ç±»ï¼Œé€šè¿‡æ¨¡ç‰ˆçº¦æŸå¯¹è±¡ç±»å‹ï¼Œå¢åŠ æ“ä½œå®‰å…¨ï¼Œä½†æ˜¯æ³¨æ„ï¼Œèµ„æºåŠ è½½å¯èƒ½ä¼šå¤±è´¥æˆ–æ˜¯æ— æ•ˆï¼Œéœ€è¦å¯¹æ“ä½œçš„ç»“æœè¿›è¡Œåˆ¤å®šã€‚</p><ul><li>LoadObject å¯ç›´æ¥è¿”å›èµ„æºæœ‰æ•ˆå¯¹è±¡æŒ‡é’ˆ</li><li>LoadClass è¿”å›æ“ä½œç±»ï¼Œéå¯¹è±¡è¿”å›UClassç±»å‹æŒ‡é’ˆ<br />å‡½æ•°å®šä¹‰ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment"> * Load an object. </span></span><br><span class="line"><span class="comment"> * @see StaticLoadObject()</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt; <span class="keyword">class</span> T &gt; </span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> T* <span class="title">LoadObject</span><span class="params">( UObject* Outer, <span class="type">const</span> TCHAR* Name, <span class="type">const</span> TCHAR* Filename=<span class="literal">nullptr</span>, uint32 LoadFlags=LOAD_None, UPackageMap* Sandbox=<span class="literal">nullptr</span> )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (T*)<span class="built_in">StaticLoadObject</span>( T::<span class="built_in">StaticClass</span>(), Outer, Name, Filename, LoadFlags, Sandbox );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Load a class object</span></span><br><span class="line"><span class="comment"> * @see StaticLoadClass</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt; <span class="keyword">class</span> T &gt; </span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> UClass* <span class="title">LoadClass</span><span class="params">( UObject* Outer, <span class="type">const</span> TCHAR* Name, <span class="type">const</span> TCHAR* Filename=<span class="literal">nullptr</span>, uint32 LoadFlags=LOAD_None, UPackageMap* Sandbox=<span class="literal">nullptr</span> )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">StaticLoadClass</span>( T::<span class="built_in">StaticClass</span>(), Outer, Name, Filename, LoadFlags, Sandbox );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‚æ•°å«ä¹‰ï¼š</p><ul><li>Outer å¸®åŠ©æˆ‘ä»¬è¿›è¡Œæœç´¢èŒƒå›´é”å®šï¼Œå¯ä»¥å¡«å…¥åŒç›®å½•èµ„æºï¼Œå¦‚ä¸å­˜åœ¨å¡«å…¥ç©º</li><li>Name èµ„æºæ–‡ä»¶åï¼Œå¯ä»¥åœ¨ç¼–è¾‘å™¨ä¸­é€šè¿‡é€‰æ‹©èµ„æºå³é”®è·å–å¼•ç”¨åï¼Œæ³¨æ„è“å›¾åŠ è½½éœ€è¦åŠ å…¥åç¼€â€_Câ€<br />å‡½æ•°ä½¿ç”¨ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">LoadObject</span>&lt;AActor&gt;(<span class="literal">nullptr</span>, <span class="built_in">TEXT</span>(<span class="string">&quot;Blueprint&#x27;/Game/MyTestActor.MyTestActor_C&#x27;&quot;</span>));</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qtä¸­å®ç°é«˜å‡†ç¡®ç‡çš„è¯­éŸ³è¯†åˆ«_qt</title>
      <link href="/2025/04/23/vosk/Qt%E4%B8%AD%E5%AE%9E%E7%8E%B0%E9%AB%98%E5%87%86%E7%A1%AE%E7%8E%87%E7%9A%84%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB_qt%20%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB/"/>
      <url>/2025/04/23/vosk/Qt%E4%B8%AD%E5%AE%9E%E7%8E%B0%E9%AB%98%E5%87%86%E7%A1%AE%E7%8E%87%E7%9A%84%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB_qt%20%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<ol><li><p>é€‰æ‹©è¯­éŸ³è¯†åˆ«å¼•æ“<br />å¼€æºè¯­éŸ³è¯†åˆ«é¡¹ç›®ä¸­ï¼Œä»¥ä¸‹ä¸¤æ¬¾å·¥å…·å¯ä»¥ç”¨äºæ”¯æŒä¸­è‹±æ–‡è¯†åˆ«ï¼Œå¹¶ä¸”ä¸Qtå…¼å®¹ï¼š</p><p>Voskï¼šVoskæ˜¯ä¸€ä¸ªå¼€æºçš„è¯­éŸ³è¯†åˆ«å·¥å…·ï¼Œæ”¯æŒä¸­è‹±æ–‡åŠå¤šç§è¯­è¨€ï¼Œå…·å¤‡ç¦»çº¿è¯†åˆ«èƒ½åŠ›ï¼Œä¸”ä¸ä¾èµ–äº’è”ç½‘ã€‚<br />PaddleSpeechï¼šPaddleSpeechæ˜¯ç™¾åº¦çš„å¼€æºè¯­éŸ³è¯†åˆ«å·¥å…·ï¼Œå‡†ç¡®ç‡è¾ƒé«˜ï¼Œä½†éœ€è¦ç¨å¾®å¤šä¸€ç‚¹çš„é…ç½®ã€‚<br />æœ¬ç¤ºä¾‹å°†ä½¿ç”¨ Voskï¼Œå®ƒæ”¯æŒå¤šå¹³å°ï¼Œä¸”æ˜“äºé›†æˆåˆ°C++é¡¹ç›®ä¸­ï¼Œæ»¡è¶³ç¦»çº¿ä½¿ç”¨ã€90%ä»¥ä¸Šå‡†ç¡®ç‡ã€å¼€æºç­‰è¦æ±‚ã€‚</p></li><li><p>Voskèµ„æºä¸‹è½½<br /><a href="https://github.com/alphacep/vosk-api">é¦–å…ˆï¼Œä¸‹è½½Voskçš„C++åº“åŠä¸­è‹±æ–‡æ¨¡å‹æ–‡ä»¶ï¼š</a><br /><a href="/2025/04/23/vosk/Qt%E4%B8%AD%E5%AE%9E%E7%8E%B0%E9%AB%98%E5%87%86%E7%A1%AE%E7%8E%87%E7%9A%84%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB_qt%20%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB/vosk-win64-0.3.45.zip">å¦‚æœä¸æƒ³ç¼–è¯‘åº“ï¼Œè¿™é‡Œæœ‰å·²ç»ç¼–è¯‘å¥½çš„</a><br /><a href="https://alphacephei.com/vosk/models">ä¸­è‹±æ–‡æ¨¡å‹ï¼šVosk æ¨¡å‹ä¸‹è½½</a><br />ä¸‹è½½å¯¹åº”çš„åº“å’Œæ¨¡å‹ï¼Œå¹¶ç¡®ä¿ä½ çš„å¼€å‘ç¯å¢ƒä¸­å·²ç»é…ç½®å¥½CMakeå’ŒQtå¼€å‘ç¯å¢ƒã€‚</p></li><li><p>ç¤ºä¾‹ä»£ç <br />ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„Qté¡¹ç›®ä»£ç ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨Vosk APIåœ¨C++ä¸­è¿›è¡Œä¸­è‹±æ–‡è¯†åˆ«ã€‚å‡è®¾ä½ å·²ç»ä¸‹è½½å¹¶è§£å‹äº†æ¨¡å‹æ–‡ä»¶ã€‚</p></li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QCoreApplication&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QAudioInput&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QBuffer&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QFile&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vosk_api.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SpeechRecognizer</span> : <span class="keyword">public</span> QObject &#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">SpeechRecognizer</span>(<span class="type">const</span> QString &amp;modelPath, QObject *parent = <span class="literal">nullptr</span>)</span><br><span class="line">        : <span class="built_in">QObject</span>(parent) &#123;</span><br><span class="line">        model = <span class="built_in">vosk_model_new</span>(modelPath.<span class="built_in">toStdString</span>().<span class="built_in">c_str</span>());</span><br><span class="line">        recognizer = <span class="built_in">vosk_recognizer_new</span>(model, <span class="number">16000.0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">SpeechRecognizer</span>() &#123;</span><br><span class="line">        <span class="built_in">vosk_recognizer_free</span>(recognizer);</span><br><span class="line">        <span class="built_in">vosk_model_free</span>(model);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">startRecognition</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        QAudioFormat format;</span><br><span class="line">        format.<span class="built_in">setSampleRate</span>(<span class="number">16000</span>);</span><br><span class="line">        format.<span class="built_in">setChannelCount</span>(<span class="number">1</span>);</span><br><span class="line">        format.<span class="built_in">setSampleSize</span>(<span class="number">16</span>);</span><br><span class="line">        format.<span class="built_in">setCodec</span>(<span class="string">&quot;audio/pcm&quot;</span>);</span><br><span class="line">        format.<span class="built_in">setByteOrder</span>(QAudioFormat::LittleEndian);</span><br><span class="line">        format.<span class="built_in">setSampleType</span>(QAudioFormat::SignedInt);</span><br><span class="line"></span><br><span class="line">        audioInput = <span class="keyword">new</span> <span class="built_in">QAudioInput</span>(format, <span class="keyword">this</span>);</span><br><span class="line">        audioBuffer.<span class="built_in">open</span>(QIODevice::WriteOnly | QIODevice::Truncate);</span><br><span class="line">        audioInput-&gt;<span class="built_in">start</span>(&amp;audioBuffer);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">connect</span>(audioInput, &amp;QAudioInput::stateChanged, <span class="keyword">this</span>, &amp;SpeechRecognizer::onStateChanged);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">onStateChanged</span><span class="params">(QAudio::State state)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (state == QAudio::IdleState) &#123;</span><br><span class="line">            audioInput-&gt;<span class="built_in">stop</span>();</span><br><span class="line">            audioBuffer.<span class="built_in">close</span>();</span><br><span class="line">            <span class="built_in">processAudio</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">processAudio</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        QByteArray audioData = audioBuffer.<span class="built_in">buffer</span>();</span><br><span class="line">        <span class="type">int</span> length = audioData.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">const</span> <span class="type">char</span> *data = audioData.<span class="built_in">data</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">vosk_recognizer_accept_waveform</span>(recognizer, data, length)) &#123;</span><br><span class="line">            std::cout &lt;&lt; <span class="built_in">vosk_recognizer_result</span>(recognizer) &lt;&lt; std::endl;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            std::cout &lt;&lt; <span class="built_in">vosk_recognizer_partial_result</span>(recognizer) &lt;&lt; std::endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    VoskModel *model;</span><br><span class="line">    VoskRecognizer *recognizer;</span><br><span class="line">    QAudioInput *audioInput;</span><br><span class="line">    QBuffer audioBuffer;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">    <span class="function">QCoreApplication <span class="title">app</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line"></span><br><span class="line">    QString modelPath = <span class="string">&quot;/path/to/vosk-model&quot;</span>; <span class="comment">// å°†æ­¤è·¯å¾„æ›¿æ¢ä¸ºå®é™…æ¨¡å‹è·¯å¾„</span></span><br><span class="line">    <span class="function">SpeechRecognizer <span class="title">recognizer</span><span class="params">(modelPath)</span></span>;</span><br><span class="line">    recognizer.<span class="built_in">startRecognition</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> app.<span class="built_in">exec</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li><p>ç¼–è¯‘ä¸è¿è¡Œ<br />å°†vosk_api.hå’Œvoskåº“æ–‡ä»¶æ·»åŠ åˆ°é¡¹ç›®ä¸­ï¼Œå¹¶åœ¨CMakeLists.txtä¸­é…ç½®voskåº“è·¯å¾„ã€‚ç¼–è¯‘åè¿è¡Œè¯¥ç¨‹åºï¼Œå³å¯å¼€å§‹å½•éŸ³å’Œå®æ—¶ä¸­è‹±æ–‡è¯­éŸ³è¯†åˆ«ã€‚</p></li><li><p>æç¤º<br />ç¡®ä¿éº¦å…‹é£é‡‡æ ·ç‡ä¸º16kHzï¼Œä»¥åŒ¹é…è¯†åˆ«æ¨¡å‹çš„é‡‡æ ·ç‡ã€‚<br />è¿è¡Œè¿‡ç¨‹ä¸­éœ€è¦ç¡®ä¿æ¨¡å‹è·¯å¾„æ­£ç¡®ï¼Œå¹¶å®‰è£…æ‰€éœ€çš„Qtå’ŒVoskä¾èµ–åº“ã€‚<br />å‚è€ƒèµ„æº<br />Voskå®˜æ–¹æ–‡æ¡£å’ŒAPIï¼š<a href="https://alphacephei.com/vosk">https://alphacephei.com/vosk</a></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
            <tag> Qt </tag>
            
            <tag> vosk </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¯­éŸ³è¯†åˆ«â€”â€”ä½¿ç”¨Voskè¿›è¡Œè¯­éŸ³è¯†åˆ«</title>
      <link href="/2025/04/23/vosk/%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB%E2%80%94%E2%80%94%E4%BD%BF%E7%94%A8Vosk%E8%BF%9B%E8%A1%8C%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB/"/>
      <url>/2025/04/23/vosk/%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB%E2%80%94%E2%80%94%E4%BD%BF%E7%94%A8Vosk%E8%BF%9B%E8%A1%8C%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h2><p>Voskæ˜¯è¯­éŸ³è¯†åˆ«å¼€æºæ¡†æ¶ï¼Œæ”¯æŒäºŒå+ç§è¯­è¨€ - ä¸­æ–‡ï¼Œè‹±è¯­ï¼Œå°åº¦è‹±è¯­ï¼Œå¾·è¯­ï¼Œæ³•è¯­ï¼Œè¥¿ç­ç‰™è¯­ï¼Œè‘¡è„ç‰™è¯­ï¼Œä¿„è¯­ï¼ŒåœŸè€³å…¶è¯­ï¼Œè¶Šå—è¯­ï¼Œæ„å¤§åˆ©è¯­ï¼Œè·å…°äººï¼ŒåŠ æ³°ç½—å°¼äºšè¯­ï¼Œé˜¿æ‹‰ä¼¯, å¸Œè…Šè¯­, æ³¢æ–¯è¯­, è²å¾‹å®¾è¯­ï¼Œä¹Œå…‹å…°è¯­, å“ˆè¨å…‹è¯­, ç‘å…¸è¯­, æ—¥è¯­, ä¸–ç•Œè¯­, å°åœ°è¯­, æ·å…‹è¯­, æ³¢å…°è¯­, ä¹Œå…¹åˆ«å…‹è¯­, éŸ©å›½è¯­, å¡”å‰å…‹è¯­ã€‚</p><p>Voskè¿˜æ”¯æŒè®¾å¤‡ä¸Šç¦»çº¿è¯­éŸ³è¯†åˆ« ï¼ŒåŒ…æ‹¬Raspberry Piï¼ŒAndroidï¼ŒiOSç­‰ï¼ŒAPIæ¥å£ç®€å•ï¼Œå¹¶ä¸”æœ‰å¤šç§è¯­è¨€æ”¯æŒï¼ŒåŒæ—¶ä¼šè¯†åˆ«è¯­ä¹‰ï¼Œæœ€ç»ˆè¾“å‡ºåˆç†çš„è¯­å¥ã€‚</p><h2 id="ä¸€-voskæ¨¡å‹"><a class="markdownIt-Anchor" href="#ä¸€-voskæ¨¡å‹"></a> ä¸€ã€Voskæ¨¡å‹</h2><h3 id="1å‡†å¤‡å¥½æ‰€éœ€è¦çš„è¯­éŸ³åŒ…"><a class="markdownIt-Anchor" href="#1å‡†å¤‡å¥½æ‰€éœ€è¦çš„è¯­éŸ³åŒ…"></a> 1.å‡†å¤‡å¥½æ‰€éœ€è¦çš„è¯­éŸ³åŒ…</h3><p>åœ¨å¼€å§‹ä½¿ç”¨Voskä¹‹å‰ï¼Œéœ€è¦æ‹¥æœ‰è¯­éŸ³è¯†åˆ«çš„æ¨¡å‹ï¼Œå¦‚å›¾ä¸­æ‹¥æœ‰å¾ˆå¤šè¯­éŸ³æ¨¡å‹ï¼Œä¸­æ–‡ã€è‹±æ–‡ã€è¥¿ç­ç‰™ã€å°åº¦ç­‰ç­‰ï¼Œ<a href="https://alphacephei.com/vosk/models">Voskæ¨¡å‹åº“</a>ï¼Œéœ€è¦å¤–ç½‘æ‰å¯ä»¥ä¸‹è½½<br /><img src="7e6b5de97d6547c68ed9dfd45385cbfd.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="2ä¸‹è½½ä½¿ç”¨"><a class="markdownIt-Anchor" href="#2ä¸‹è½½ä½¿ç”¨"></a> 2.ä¸‹è½½ä½¿ç”¨</h3><p>ä¸‹è½½å¹¶è¿›è¡Œè§£å‹åå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¾‹å¦‚è¿™é‡Œæœ‰ç®€å•è‹±æ–‡ã€è½»é‡çº§ä¸­æ–‡ã€å’Œç”¨äºæœåŠ¡å™¨å¤„ç†çš„å¤§å‹é€šç”¨ä¸­æ–‡æ¨¡å‹ç­‰ï¼Œæ ¹æ®éœ€è¦è¿›è¡Œä¸‹è½½<br /><img src="0ea7791bd8a3458d87f64ac2c88660cb.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>è§£å‹åæ”¾åœ¨å¯¹åº”ç›®å½•ä¸‹ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ˜¯æ•´ä¸ªè§£å‹åçš„æ–‡ä»¶å¤¹ï¼Œè€Œä¸æ˜¯æŸä¸€å›ºå®šæ–‡ä»¶ï¼Œä¸€å®šè¦æ”¾åœ¨å¯¹åº”ä½ç½®ï¼Œä¸ç„¶ä½¿ç”¨æ—¶ä¼šç›´æ¥å´©æºƒï¼Œè¿æŠ¥é”™éƒ½æ²¡æœ‰ã€‚<br /><img src="4c9e88097b444bd99922299db836b255.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h2 id="äºŒ-ä½¿ç”¨ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#äºŒ-ä½¿ç”¨ç¤ºä¾‹"></a> äºŒã€ä½¿ç”¨ç¤ºä¾‹</h2><h3 id="1æ–‡ä»¶è¯»å–ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#1æ–‡ä»¶è¯»å–ç¤ºä¾‹"></a> 1.æ–‡ä»¶è¯»å–ç¤ºä¾‹</h3><p>é¦–å…ˆè¯­éŸ³æ–‡ä»¶å’Œæ¨¡å‹éœ€è¦å‡†å¤‡å¥½ï¼Œç¤ºä¾‹ä¸­çš„è¯­éŸ³æ–‡ä»¶æ˜¯è‡ªå·±å½•ä¸‹æ¥çš„ï¼Œæ¨¡å‹<code>vosk-model-cn-0.22</code>æ˜¯ä¸­æ–‡æ¨¡å‹</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vosk_api.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    FILE *wavin;</span><br><span class="line">    <span class="type">char</span> buf[<span class="number">3200</span>];</span><br><span class="line">    <span class="type">int</span> nread, <span class="keyword">final</span>;</span><br><span class="line"></span><br><span class="line">    VoskModel *model = <span class="built_in">vosk_model_new</span>(<span class="string">&quot;vosk-model-cn-0.22&quot;</span>);</span><br><span class="line">    VoskRecognizer *recognizer = <span class="built_in">vosk_recognizer_new</span>(model, <span class="number">16000.0</span>);</span><br><span class="line"></span><br><span class="line">    wavin = <span class="built_in">fopen</span>(<span class="string">&quot;test.wav&quot;</span>, <span class="string">&quot;rb&quot;</span>);</span><br><span class="line">    <span class="built_in">fseek</span>(wavin, <span class="number">44</span>, SEEK_SET);</span><br><span class="line">    <span class="keyword">while</span> (!<span class="built_in">feof</span>(wavin)) &#123;</span><br><span class="line">        nread = <span class="built_in">fread</span>(buf, <span class="number">1</span>, <span class="built_in">sizeof</span>(buf), wavin);</span><br><span class="line">        <span class="keyword">final</span> = <span class="built_in">vosk_recognizer_accept_waveform</span>(recognizer, buf, nread);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">final</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, <span class="built_in">vosk_recognizer_result</span>(recognizer));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, <span class="built_in">vosk_recognizer_partial_result</span>(recognizer));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, <span class="built_in">vosk_recognizer_final_result</span>(recognizer));</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vosk_recognizer_free</span>(recognizer);</span><br><span class="line">    <span class="built_in">vosk_model_free</span>(model);</span><br><span class="line">    <span class="built_in">fclose</span>(wavin);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼Œpartialæ˜¯çŸ­æ—¶è¾“å‡ºï¼Œtextæ˜¯è¯†åˆ«è¯­ä¹‰åçš„è¾“å‡ºï¼š<br /><img src="f58d0941f0b04bf49c6084cd9a423cfb.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><ul><li><code>vosk_model_new</code>:åŠ è½½æ¨¡å‹</li><li><code>vosk_recognizer_new</code>:åˆ›å»ºè¯­éŸ³è¯†åˆ«å®ä¾‹</li><li><code>vosk_recognizer_accept_waveform</code>ï¼šå¡å…¥è¯­éŸ³æ•°æ®ï¼ˆpcmæ ¼å¼ï¼‰</li><li><code>vosk_recognizer_result</code>:è·å–è¯†åˆ«å™¨çš„å®Œæ•´è¯†åˆ«ç»“æœ</li><li><code>vosk_recognizer_partial_result</code>:è¿”å›å½“ä¸‹è¯†åˆ«ç»“æœï¼Œå¦‚æœæ²¡æœ‰è¯†åˆ«åˆ°ï¼Œè¿”å›ç©º</li></ul><h3 id="2ç»“åˆéº¦å…‹é£æ¼”ç¤º"><a class="markdownIt-Anchor" href="#2ç»“åˆéº¦å…‹é£æ¼”ç¤º"></a> 2.ç»“åˆéº¦å…‹é£æ¼”ç¤º</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;alsa/asoundlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vosk_api.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;array&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SAMPLE_RATE 44100</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> BUFFER_SIZE 44100 * 2 * 2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ– Vosk æ¨¡å‹</span></span><br><span class="line">    VoskModel *model = <span class="built_in">vosk_model_new</span>(<span class="string">&quot;vosk-model-cn-0.22&quot;</span>);</span><br><span class="line">    VoskRecognizer *recognizer = <span class="built_in">vosk_recognizer_new</span>(model, SAMPLE_RATE);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰“å¼€ ALSA è®¾å¤‡</span></span><br><span class="line">    <span class="type">snd_pcm_t</span> *pcm_handle;</span><br><span class="line">    <span class="type">int</span> ret = <span class="built_in">snd_pcm_open</span>(&amp;pcm_handle, <span class="string">&quot;default&quot;</span>, SND_PCM_STREAM_CAPTURE, <span class="number">0</span>);</span><br><span class="line">    ret = <span class="built_in">snd_pcm_set_params</span>(pcm_handle, SND_PCM_FORMAT_S16_LE, SND_PCM_ACCESS_RW_INTERLEAVED, <span class="number">1</span>, SAMPLE_RATE, <span class="number">1</span>, <span class="number">1000000</span>); <span class="comment">// 1ç§’</span></span><br><span class="line"></span><br><span class="line">    <span class="type">char</span> buffer[BUFFER_SIZE];</span><br><span class="line">    <span class="type">int</span> final_result;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="comment">// ä»éº¦å…‹é£è¯»å–éŸ³é¢‘æ•°æ®</span></span><br><span class="line">        <span class="type">int</span> nread = <span class="built_in">snd_pcm_readi</span>(pcm_handle, buffer, BUFFER_SIZE / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span> (nread &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="built_in">snd_pcm_recover</span>(pcm_handle, nread, <span class="number">0</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°†éŸ³é¢‘æ•°æ®ä¼ é€’ç»™ Vosk</span></span><br><span class="line">        final_result = <span class="built_in">vosk_recognizer_accept_waveform</span>(recognizer, buffer, nread * <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span> (final_result) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, <span class="built_in">vosk_recognizer_result</span>(recognizer));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            std::string strTest = <span class="built_in">vosk_recognizer_partial_result</span>(recognizer);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, strTest.<span class="built_in">c_str</span>());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, <span class="built_in">vosk_recognizer_final_result</span>(recognizer));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¸…ç†</span></span><br><span class="line">    <span class="built_in">snd_pcm_close</span>(pcm_handle);</span><br><span class="line">    <span class="built_in">vosk_recognizer_free</span>(recognizer);</span><br><span class="line">    <span class="built_in">vosk_model_free</span>(model);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯†åˆ«åˆ°å¹¶ä¸”æœ€ç»ˆç»„æˆçš„è¯­å¥å¦‚ä¸‹ï¼š<br /><img src="96e00fc6486046d0b3b5d74f7be3bc27.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><hr /><h2 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h2><p>è½»é‡çº§ã€èµ„æºæ¶ˆè€—å°çš„åµŒå…¥å¼è®¾å¤‡è¿›è¡Œè¯­éŸ³è¯†åˆ«ä½¿ç”¨Voskæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œä½†æ˜¯å¦‚æœåªæ˜¯ç”¨äºè¯­éŸ³å”¤é†’ä¹‹ç±»çš„ï¼Œå®é™…ä¸Šåº”è¯¥æœ‰æ›´å¥½çš„é€‰æ‹©ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
            <tag> vosk </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vosk è¿›è¡Œä¸­æ–‡è¯­éŸ³è¯†åˆ«å®ä¾‹_vosk</title>
      <link href="/2025/04/23/vosk/Vosk%20%E8%BF%9B%E8%A1%8C%E4%B8%AD%E6%96%87%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB%E5%AE%9E%E4%BE%8B_vosk/"/>
      <url>/2025/04/23/vosk/Vosk%20%E8%BF%9B%E8%A1%8C%E4%B8%AD%E6%96%87%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB%E5%AE%9E%E4%BE%8B_vosk/</url>
      
        <content type="html"><![CDATA[<p>è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•åœ¨ Qt ä¸­é›†æˆ Vosk è¿›è¡Œä¸­æ–‡è¯­éŸ³è¯†åˆ«ã€‚è¯¥ç¤ºä¾‹ä¸ä»…æ¶µç›–äº†å½•éŸ³çš„è®¾ç½®ä¸ä¿å­˜ï¼Œè¿˜ç¡®ä¿å½•åˆ¶çš„éŸ³é¢‘æ–‡ä»¶ç¬¦åˆ Vosk çš„è¦æ±‚æ ¼å¼ã€‚é€šè¿‡ Vosk çš„ä¸­æ–‡æ¨¡å‹ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹éŸ³é¢‘å†…å®¹è¿›è¡Œè¯†åˆ«ï¼Œè·å–å‡†ç¡®çš„ä¸­æ–‡è½¬å†™ç»“æœã€‚æ­¤å¤–ï¼Œç¤ºä¾‹ä¸­é€šè¿‡ QString::fromUtf8 æ¥æ­£ç¡®è§£æ Vosk è¿”å›çš„ UTF-8 ç¼–ç å­—ç¬¦ä¸²ï¼Œç¡®ä¿æœ€ç»ˆæ˜¾ç¤ºçš„ä¸­æ–‡å†…å®¹æ²¡æœ‰ä¹±ç ã€‚</p><h3 id="ç¤ºä¾‹è¯¦ç»†æ¦‚è¿°"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹è¯¦ç»†æ¦‚è¿°"></a> <strong>ç¤ºä¾‹è¯¦ç»†æ¦‚è¿°</strong></h3><p>å‰æœŸå‡†å¤‡<br />åœ¨å¼€å§‹ç¼–å†™ä»£ç ä¹‹å‰ï¼Œç¡®ä¿å·²ä¸‹è½½ Vosk åº“å’Œä¸­æ–‡è¯­éŸ³æ¨¡å‹æ–‡ä»¶ï¼Œå¹¶å°†å…¶å­˜æ”¾åœ¨é¡¹ç›®è·¯å¾„ä¸­ï¼Œä½¿ç¨‹åºèƒ½å¤Ÿæ­£ç¡®åŠ è½½æ‰€éœ€çš„èµ„æºã€‚</p><h3 id="åŠŸèƒ½è¯´æ˜"><a class="markdownIt-Anchor" href="#åŠŸèƒ½è¯´æ˜"></a> åŠŸèƒ½è¯´æ˜</h3><p>éŸ³é¢‘å½•åˆ¶ï¼šé€šè¿‡ Qt çš„ QAudioInput ç±»ï¼Œæˆ‘ä»¬è®¾ç½®äº†ä¸€ä¸ª16kHzé‡‡æ ·ç‡ã€å•å£°é“ã€PCM ç¼–ç çš„å½•éŸ³æ ¼å¼ï¼Œå½•åˆ¶çš„éŸ³é¢‘å°†ä¿å­˜ä¸º .wav æ–‡ä»¶ï¼Œè¿™ä¹Ÿæ˜¯ Vosk æ¨¡å‹æ‰€è¦æ±‚çš„æ ‡å‡†éŸ³é¢‘æ ¼å¼ã€‚</p><p>è¯­éŸ³è¯†åˆ«ï¼šç¤ºä¾‹ä¸­åŠ è½½äº† Vosk çš„ä¸­æ–‡è¯­éŸ³æ¨¡å‹ï¼Œå½•åˆ¶å®Œæˆåå°†éŸ³é¢‘æ–‡ä»¶è¾“å…¥åˆ°æ¨¡å‹ä¸­ï¼Œç”± Vosk æä¾›çš„è¯†åˆ«å™¨å¯¹éŸ³é¢‘å†…å®¹è¿›è¡Œå¤„ç†ï¼Œå¹¶ç”Ÿæˆä¸­æ–‡è½¬å†™ç»“æœã€‚</p><p>ä¸­æ–‡å­—ç¬¦æ˜¾ç¤ºï¼šç”±äº Vosk è¿”å›çš„è¯†åˆ«ç»“æœæ˜¯ UTF-8 ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œä¸ºäº†ç¡®ä¿ Qt èƒ½æ­£ç¡®æ˜¾ç¤ºä¸­æ–‡ï¼Œä½¿ç”¨ QString::fromUtf8 å°†è¯†åˆ«ç»“æœè§£ææˆ QString ç±»å‹ã€‚è¿™æ ·å¯ä»¥é¿å…ä¹±ç ï¼Œä½¿æœ€ç»ˆçš„ä¸­æ–‡æ–‡æœ¬èƒ½å¤Ÿæ­£ç¡®æ˜¾ç¤ºåœ¨æ§åˆ¶å°æˆ–ç•Œé¢ä¸­ã€‚</p><p>é€šè¿‡ä»¥ä¸Šå‡ ä¸ªæ­¥éª¤ï¼Œæ•´ä¸ªæµç¨‹èƒ½å¤Ÿå°†å½•åˆ¶çš„ä¸­æ–‡éŸ³é¢‘æ–‡ä»¶æˆåŠŸè½¬æ¢ä¸ºæ–‡æœ¬ï¼Œå¹¶æ­£ç¡®æ˜¾ç¤ºã€‚</p><h3 id="ä»£ç ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#ä»£ç ç¤ºä¾‹"></a> ä»£ç ç¤ºä¾‹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QCoreApplication&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QAudioInput&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QFile&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QTimer&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDebug&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vosk_api.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// éŸ³é¢‘å½•åˆ¶ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AudioRecorder</span> : <span class="keyword">public</span> QObject &#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">AudioRecorder</span>(QObject *parent = <span class="literal">nullptr</span>) : <span class="built_in">QObject</span>(parent), <span class="built_in">audioFile</span>(<span class="string">&quot;recorded_audio.wav&quot;</span>) &#123;</span><br><span class="line">        <span class="comment">// è®¾ç½®éŸ³é¢‘æ ¼å¼ï¼š16kHzã€å•å£°é“ã€16ä½æ·±åº¦</span></span><br><span class="line">        QAudioFormat format;</span><br><span class="line">        format.<span class="built_in">setSampleRate</span>(<span class="number">16000</span>);</span><br><span class="line">        format.<span class="built_in">setChannelCount</span>(<span class="number">1</span>);</span><br><span class="line">        format.<span class="built_in">setSampleSize</span>(<span class="number">16</span>);</span><br><span class="line">        format.<span class="built_in">setCodec</span>(<span class="string">&quot;audio/pcm&quot;</span>);</span><br><span class="line">        format.<span class="built_in">setByteOrder</span>(QAudioFormat::LittleEndian);</span><br><span class="line">        format.<span class="built_in">setSampleType</span>(QAudioFormat::SignedInt);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–éŸ³é¢‘è¾“å…¥</span></span><br><span class="line">        audioInput = <span class="keyword">new</span> <span class="built_in">QAudioInput</span>(format, <span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line">        <span class="keyword">if</span> (!audioFile.<span class="built_in">open</span>(QIODevice::WriteOnly | QIODevice::Truncate)) &#123;</span><br><span class="line">            <span class="built_in">qWarning</span>() &lt;&lt; <span class="string">&quot;æ— æ³•æ‰“å¼€æ–‡ä»¶è¿›è¡Œå½•éŸ³&quot;</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">startRecording</span><span class="params">(<span class="type">int</span> durationMs)</span> </span>&#123;</span><br><span class="line">        audioInput-&gt;<span class="built_in">start</span>(&amp;audioFile);</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;å¼€å§‹å½•éŸ³...&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è®¾ç½®å½•éŸ³æ—¶é—´ï¼Œå®Œæˆååœæ­¢å½•éŸ³</span></span><br><span class="line">        QTimer::<span class="built_in">singleShot</span>(durationMs, <span class="keyword">this</span>, &amp;AudioRecorder::stopRecording);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">signals:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">recordingFinished</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> slots:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">stopRecording</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        audioInput-&gt;<span class="built_in">stop</span>();</span><br><span class="line">        audioFile.<span class="built_in">close</span>();</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;å½•éŸ³å®Œæˆ&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è§¦å‘å½•éŸ³å®Œæˆä¿¡å·</span></span><br><span class="line">        <span class="function">emit <span class="title">recordingFinished</span><span class="params">()</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    QAudioInput *audioInput;</span><br><span class="line">    QFile audioFile;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯­éŸ³è¯†åˆ«ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SpeechRecognizer</span> : <span class="keyword">public</span> QObject &#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">SpeechRecognizer</span>(<span class="type">const</span> QString &amp;modelPath, QObject *parent = <span class="literal">nullptr</span>) : <span class="built_in">QObject</span>(parent) &#123;</span><br><span class="line">        <span class="comment">// åŠ è½½æ¨¡å‹</span></span><br><span class="line">        model = <span class="built_in">vosk_model_new</span>(modelPath.<span class="built_in">toStdString</span>().<span class="built_in">c_str</span>());</span><br><span class="line">        <span class="keyword">if</span> (model == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="built_in">qWarning</span>() &lt;&lt; <span class="string">&quot;æ— æ³•åŠ è½½æ¨¡å‹&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">SpeechRecognizer</span>() &#123;</span><br><span class="line">        <span class="built_in">vosk_model_free</span>(model);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">recognize</span><span class="params">(<span class="type">const</span> QString &amp;audioFilePath)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºè¯†åˆ«å™¨</span></span><br><span class="line">        VoskRecognizer *recognizer = <span class="built_in">vosk_recognizer_new</span>(model, <span class="number">16000.0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰“å¼€å½•éŸ³æ–‡ä»¶</span></span><br><span class="line">        FILE *audioFile = <span class="built_in">fopen</span>(audioFilePath.<span class="built_in">toStdString</span>().<span class="built_in">c_str</span>(), <span class="string">&quot;rb&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (audioFile == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="built_in">qWarning</span>() &lt;&lt; <span class="string">&quot;æ— æ³•æ‰“å¼€éŸ³é¢‘æ–‡ä»¶&quot;</span>;</span><br><span class="line">            <span class="built_in">vosk_recognizer_free</span>(recognizer);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¯»å–éŸ³é¢‘å¹¶è¯†åˆ«</span></span><br><span class="line">        <span class="type">char</span> buffer[<span class="number">4096</span>];</span><br><span class="line">        <span class="type">int</span> bytesRead;</span><br><span class="line">        <span class="keyword">while</span> ((bytesRead = <span class="built_in">fread</span>(buffer, <span class="number">1</span>, <span class="built_in">sizeof</span>(buffer), audioFile)) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">vosk_recognizer_accept_waveform</span>(recognizer, buffer, bytesRead)) &#123;</span><br><span class="line">                QString result = QString::<span class="built_in">fromUtf8</span>(<span class="built_in">vosk_recognizer_result</span>(recognizer));</span><br><span class="line">                <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;è¯†åˆ«ç»“æœ:&quot;</span> &lt;&lt; result;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                QString partial = QString::<span class="built_in">fromUtf8</span>(<span class="built_in">vosk_recognizer_partial_result</span>(recognizer));</span><br><span class="line">                <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;éƒ¨åˆ†è¯†åˆ«:&quot;</span> &lt;&lt; partial;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–æœ€ç»ˆè¯†åˆ«ç»“æœ</span></span><br><span class="line">        QString finalResult = QString::<span class="built_in">fromUtf8</span>(<span class="built_in">vosk_recognizer_final_result</span>(recognizer));</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;æœ€ç»ˆç»“æœ:&quot;</span> &lt;&lt; finalResult;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é‡Šæ”¾èµ„æº</span></span><br><span class="line">        <span class="built_in">fclose</span>(audioFile);</span><br><span class="line">        <span class="built_in">vosk_recognizer_free</span>(recognizer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    VoskModel *model;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸»ç¨‹åº</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">    <span class="function">QCoreApplication <span class="title">app</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®æ¨¡å‹è·¯å¾„</span></span><br><span class="line">    QString modelPath = QApplication::<span class="built_in">applicationDirPath</span>() + <span class="string">&quot;/vosk-model-cn&quot;</span>;</span><br><span class="line">    <span class="function">SpeechRecognizer <span class="title">recognizer</span><span class="params">(modelPath)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºå½•éŸ³å¯¹è±¡</span></span><br><span class="line">    AudioRecorder recorder;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å½•éŸ³å®Œæˆåè¿›è¡Œè¯†åˆ«</span></span><br><span class="line">    QObject::<span class="built_in">connect</span>(&amp;recorder, &amp;AudioRecorder::recordingFinished, [&amp;recognizer]() &#123;</span><br><span class="line">        QString audioFilePath = QApplication::<span class="built_in">applicationDirPath</span>() + <span class="string">&quot;/recorded_audio.wav&quot;</span>;</span><br><span class="line">        recognizer.<span class="built_in">recognize</span>(audioFilePath);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¼€å§‹å½•éŸ³ï¼ˆä¾‹å¦‚5ç§’ï¼‰</span></span><br><span class="line">    recorder.<span class="built_in">startRecording</span>(<span class="number">5000</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> app.<span class="built_in">exec</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¯¦ç»†è¯´æ˜"><a class="markdownIt-Anchor" href="#è¯¦ç»†è¯´æ˜"></a> è¯¦ç»†è¯´æ˜</h3><p>éŸ³é¢‘å½•åˆ¶ï¼šAudioRecorder ç±»è´Ÿè´£éŸ³é¢‘çš„å½•åˆ¶ã€‚å®ƒä½¿ç”¨äº† Qt çš„ QAudioInput ç±»ï¼Œå¹¶å°†éŸ³é¢‘è®¾ç½®ä¸ºç¬¦åˆ Vosk è¦æ±‚çš„16kHzé‡‡æ ·ç‡ã€å•å£°é“ã€PCMæ ¼å¼ã€‚è¿™ç§è®¾ç½®ä½¿å¾—å½•åˆ¶çš„éŸ³é¢‘æ–‡ä»¶é€‚åˆç›´æ¥è¾“å…¥ç»™ Vosk è¿›è¡Œå¤„ç†ã€‚å½•éŸ³ç»“æŸåï¼ŒéŸ³é¢‘æ•°æ®ä¼šè¢«ä¿å­˜åˆ° recorded_audio.wav æ–‡ä»¶ä¸­ï¼Œä¾¿äºåç»­çš„è¯­éŸ³è¯†åˆ«æ­¥éª¤ä½¿ç”¨ã€‚</p><p>è¯­éŸ³è¯†åˆ«ï¼šSpeechRecognizer ç±»è´Ÿè´£å°†å½•åˆ¶å¥½çš„éŸ³é¢‘æ–‡ä»¶è¾“å…¥åˆ° Vosk çš„ä¸­æ–‡è¯­éŸ³æ¨¡å‹ä¸­è¿›è¡Œè¯†åˆ«ã€‚å®ƒé€šè¿‡ Vosk æä¾›çš„ API åŠ è½½ä¸­æ–‡æ¨¡å‹ï¼Œå°†éŸ³é¢‘æ–‡ä»¶å†…å®¹è½¬æ¢ä¸ºæ–‡æœ¬ä¿¡æ¯ã€‚ä¸ºäº†ç¡®ä¿ä¸­æ–‡å­—ç¬¦æ­£ç¡®æ˜¾ç¤ºï¼Œæˆ‘ä»¬ä½¿ç”¨ QString::fromUtf8 æ¥å¤„ç† Vosk è¿”å›çš„ UTF-8 ç¼–ç çš„è¯†åˆ«ç»“æœå­—ç¬¦ä¸²ï¼Œä»è€Œé¿å…äº†ä¹±ç é—®é¢˜ã€‚</p><p>ä¸»ç¨‹åºé€»è¾‘ï¼šåœ¨ä¸»ç¨‹åºä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº† AudioRecorder å®ä¾‹æ¥å¯åŠ¨å½•éŸ³æ“ä½œã€‚å½“å½•éŸ³ç»“æŸåï¼Œç¨‹åºä¼šè‡ªåŠ¨è§¦å‘ SpeechRecognizer çš„è¯†åˆ«æµç¨‹ï¼Œå¹¶å°†è¯†åˆ«çš„ä¸­æ–‡æ–‡æœ¬ç»“æœè¾“å‡ºåˆ°æ§åˆ¶å°ã€‚</p><h3 id="ç¼–è¯‘ä¸è¿è¡Œ"><a class="markdownIt-Anchor" href="#ç¼–è¯‘ä¸è¿è¡Œ"></a> ç¼–è¯‘ä¸è¿è¡Œ</h3><p>å‡†å¤‡å·¥ä½œï¼šå°† Vosk çš„ä¸­æ–‡æ¨¡å‹å’Œæ‰€éœ€çš„åº“æ–‡ä»¶æ”¾ç½®åœ¨é¡¹ç›®ç›®å½•ä¸‹ï¼ŒåŒæ—¶ç¡®ä¿åœ¨é¡¹ç›®é…ç½®ä¸­æ·»åŠ äº† Vosk åº“çš„è·¯å¾„å’Œå¤´æ–‡ä»¶è·¯å¾„ï¼Œä»¥ä¾¿æ­£ç¡®é“¾æ¥ Vosk åº“ã€‚</p><p>ç¼–è¯‘ä¸è¿è¡Œç¨‹åºï¼šå®Œæˆé¡¹ç›®é…ç½®åï¼Œç¼–è¯‘å¹¶è¿è¡Œç¨‹åºã€‚å¯åŠ¨åï¼Œç¨‹åºå°†å½•åˆ¶5ç§’é’Ÿçš„éŸ³é¢‘å¹¶ä¿å­˜æ–‡ä»¶ï¼Œç„¶åè°ƒç”¨ Vosk æ¨¡å‹è¿›è¡Œè¯­éŸ³è¯†åˆ«ã€‚è¯†åˆ«ç»“æœå°†é€šè¿‡ qDebug() è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œæ˜¾ç¤ºéŸ³é¢‘ä¸­è¯†åˆ«å‡ºçš„ä¸­æ–‡å†…å®¹ã€‚</p><h3 id="æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#æ³¨æ„äº‹é¡¹"></a> æ³¨æ„äº‹é¡¹</h3><p>éŸ³é¢‘æ ¼å¼ï¼šå½•åˆ¶çš„éŸ³é¢‘æ–‡ä»¶å¿…é¡»ç¬¦åˆ16kHzé‡‡æ ·ç‡ã€å•å£°é“ã€PCMæ ¼å¼çš„è¦æ±‚ï¼Œè¿™æ˜¯ Vosk æ¨¡å‹æ‰€èƒ½å¤„ç†çš„æ ‡å‡†æ ¼å¼ã€‚å…¶ä»–æ ¼å¼å¯èƒ½ä¼šå¯¼è‡´è¯†åˆ«å¤±è´¥æˆ–ä¸å‡†ç¡®ã€‚</p><p>ä¸­æ–‡ç¼–ç ï¼šVosk è¿”å›çš„è¯†åˆ«ç»“æœæ˜¯ UTF-8 ç¼–ç çš„ï¼Œä¸ºé¿å…ä¹±ç é—®é¢˜ï¼Œä½¿ç”¨ QString::fromUtf8 æ¥è§£æç»“æœï¼Œä»è€Œæ­£ç¡®æ˜¾ç¤ºä¸­æ–‡å­—ç¬¦ã€‚</p><p>è¾“å‡ºè·¯å¾„ï¼šç¡®ä¿æ¨¡å‹æ–‡ä»¶è·¯å¾„å’ŒéŸ³é¢‘æ–‡ä»¶è·¯å¾„åœ¨ä»£ç ä¸­æ­£ç¡®è®¾ç½®ï¼Œä½¿ç¨‹åºèƒ½å¤Ÿé¡ºåˆ©åŠ è½½ä¸­æ–‡æ¨¡å‹å’Œå½•åˆ¶çš„éŸ³é¢‘æ–‡ä»¶ï¼Œä»è€Œå®Œæˆæ•´ä¸ªè¯­éŸ³è¯†åˆ«è¿‡ç¨‹ã€‚</p><p><a href="/2025/04/23/vosk/Qt%E4%B8%AD%E5%AE%9E%E7%8E%B0%E9%AB%98%E5%87%86%E7%A1%AE%E7%8E%87%E7%9A%84%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB_qt%20%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB/vosk_demo.zip">Demoä¸‹è½½</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
            <tag> Qt </tag>
            
            <tag> vosk </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++ ç»“æ„ä½“å’Œæšä¸¾</title>
      <link href="/2025/04/22/UE/UEC++%20%E7%BB%93%E6%9E%84%E4%BD%93%E5%92%8C%E6%9E%9A%E4%B8%BE/"/>
      <url>/2025/04/22/UE/UEC++%20%E7%BB%93%E6%9E%84%E4%BD%93%E5%92%8C%E6%9E%9A%E4%B8%BE/</url>
      
        <content type="html"><![CDATA[<p><strong>1ã€ç»“æ„ä½“</strong></p><ul><li>åœ¨è™šå¹»C<ins>ä¸­ç»“æ„ä½“å’Œæ™®é€šC</ins>ç»“æ„ä½“æ„å»ºæ–¹å¼ç›¸åŒï¼Œä½†æ˜¯å¦‚æœå¸Œæœ›æ„å»ºäºè“å›¾äº¤äº’çš„ç»“æ„ä½“åˆ™éœ€è¦é¢å¤–çš„å¤„ç†ï¼</li><li>UEæ”¯æŒç»“æ„ä½“çš„æ„å»ºå’Œä½¿ç”¨ï¼Œä½†æ˜¯ç”±äºè“å›¾ç‰¹æ®Šï¼Œæ™®é€šçš„ç»“æ„ä½“å®šä¹‰æ— æ³•è¢«è“å›¾è®¿é—®ï¼Œæˆ‘ä»¬éœ€è¦å€ŸåŠ©USTRUCTå®è¿›è¡Œæ„å»ºUEä¸­çš„ç»“æ„ä½“</li></ul><p>è¯­æ³•ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">USTRUCT</span>(BlueprintType)</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">FBoxPosition</span> &#123;</span><br><span class="line">    <span class="built_in">GENERATED_USTRUCT_BODY</span>()</span><br><span class="line">    int32 x;</span><br><span class="line">    int32 y;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šç»“æ„ä½“åç§°å¿…é¡»ä½¿ç”¨ F å¼€å¤´ï¼Œå¿…é¡»å¸¦ä¸¤ä¸ªæ“ä½œå®ï¼Œå¦‚éœ€è¦åœ¨è“å›¾ä¸­ä½¿ç”¨ï¼Œéœ€è¦åŠ å…¥BlueprintTypeæ ‡è®°</p><p><strong>2ã€æšä¸¾</strong></p><p>è¯­æ³•ä¸C++ç›¸åŒï¼Œæ€»çš„æ¥è¯´å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼è¿›è¡Œæ„å»º</p><p>æ·»åŠ å®è®°å¯ä»¥ä½¿æšä¸¾åœ¨è“å›¾ä¸­ä¹Ÿå¯ä½¿ç”¨</p><p>ç¬¬ä¸€ç§ï¼šç©ºé—´æ„å»ºæ–¹å¼</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UENUM</span>(BlueprintType)</span><br><span class="line"><span class="keyword">namespace</span> GColor &#123;</span><br><span class="line">    <span class="keyword">enum</span> <span class="title class_">Type</span> &#123;</span><br><span class="line">        Blue,</span><br><span class="line">        Red</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GColor::Type::Blue;</span><br></pre></td></tr></table></figure><p>ç‰¹ç‚¹ï¼šä½¿ç”¨ç©ºé—´åç§°ä½œä¸ºè®¿é—®ä¾æ®ï¼Œå¯ä»¥æ›´æ¸…æ™°çš„æ ‡æ˜æ„å›¾ï¼Œæ–¹ä¾¿ä½¿ç”¨ã€‚</p><p>ç¬¬äºŒç§ï¼šç›´æ¥åˆ›å»º</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UENUM</span>(BlueprintType)</span><br><span class="line"><span class="keyword">enum class</span> <span class="title class_">ZColor</span> : uint8 &#123;</span><br><span class="line">    ERed,</span><br><span class="line">    EBlue</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ZColor::EBlue;</span><br></pre></td></tr></table></figure><p>å®šä¹‰æšä¸¾å¯¹è±¡ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UPROPERTY</span>(EditAnywhere)</span><br><span class="line">TEnumAsByte&lt;GColor::Type&gt; Color;</span><br></pre></td></tr></table></figure><p>å®šä¹‰æšä¸¾</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UPROPERTY</span>(EditAnywhere)</span><br><span class="line">GColor Color;</span><br></pre></td></tr></table></figure><p>ä¸ºæšä¸¾åœ¨è“å›¾ä¸­åˆ›å»ºåˆ«å</p><p>å¯ä»¥å¸®åŠ©æšä¸¾åè¿›è¡Œè“å›¾åˆ«ååˆ›å»ºï¼Œæ–¹ä¾¿åœ¨è“å›¾ä¸­å¯»æ‰¾æ“ä½œï¼ˆç©ºé—´å£°æ˜æšä¸¾çš„æ–¹å¼ä¸é€‚ç”¨ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UENUM</span>(BlueprintType)</span><br><span class="line"><span class="keyword">enum class</span> <span class="title class_">ZColor</span> : uint8 &#123;</span><br><span class="line">    <span class="function">Game <span class="title">UMETA</span><span class="params">(DisplayName = <span class="string">&quot;GC&quot;</span>)</span></span></span><br><span class="line"><span class="function">&#125;</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++ å®¹å™¨ï¼šTSet</title>
      <link href="/2025/04/22/UE/UEC++%20%E5%AE%B9%E5%99%A8%EF%BC%9ATSet/"/>
      <url>/2025/04/22/UE/UEC++%20%E5%AE%B9%E5%99%A8%EF%BC%9ATSet/</url>
      
        <content type="html"><![CDATA[<p><strong>TSet</strong></p><ul><li>TSetä¹Ÿæ˜¯é”®å€¼å®¹å™¨å’ŒTMapç±»ä¼¼ï¼Œä½†é€Ÿåº¦å¿«ï¼Œæ— éœ€æä¾›å•ç‹¬çš„é”®è¿›è¡Œå…³è”å…ƒç´ ï¼Œä¸å…è®¸æœ‰é‡å¤çš„é”®ã€‚</li><li>TSet ä¹Ÿæ˜¯å€¼ç±»å‹ï¼Œæ”¯æŒå¸¸è§„å¤åˆ¶ã€èµ‹å€¼å’Œææ„å‡½æ•°æ“ä½œï¼Œä»¥åŠå…¶å…ƒç´ è¾ƒå¼ºçš„æ‰€æœ‰æƒã€‚é›†åˆè¢«é”€æ¯æ—¶ï¼Œå…¶å…ƒç´ ä¹Ÿå°†è¢«é”€æ¯ã€‚é”®ç±»å‹ä¹Ÿå¿…é¡»æ˜¯å€¼ç±»å‹</li></ul><p><strong>ä¸TArrayçš„åŒºåˆ«ï¼š</strong></p><ul><li>TSetæ˜¯KVå®¹å™¨</li><li>TSetä¸ä¿è¯æ•°æ®å¡«å……é¡ºåºã€‚</li><li>TSetæ•°æ®å­˜å‚¨æ—¶æ— æ³•é‡å¤å­˜å‚¨ï¼ŒTArrayå¯ä»¥</li></ul><p><strong>æ„å»ºã€æ·»åŠ æ•°æ®ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">TSet&lt;FString&gt; set;</span><br><span class="line">   set.<span class="built_in">Add</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;set01&quot;</span>));<span class="comment">// æ·»åŠ å†…å®¹</span></span><br><span class="line"></span><br><span class="line">   TSet&lt;FString&gt; set2;</span><br><span class="line">   set2.<span class="built_in">Add</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;set02&quot;</span>));</span><br><span class="line"></span><br><span class="line">   set.<span class="built_in">Append</span>(set2); <span class="comment">// åˆå¹¶æ“ä½œ</span></span><br></pre></td></tr></table></figure><p><strong>éå†ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span>&amp; Item : set)</span><br><span class="line">  &#123;</span><br><span class="line">      Item = <span class="built_in">TEXT</span>(<span class="string">&quot;cg01&quot;</span>);<span class="comment">// ä¿®æ”¹å€¼</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">auto</span> It = set.<span class="built_in">CreateIterator</span>(); It; ++It)</span><br><span class="line">  &#123;</span><br><span class="line">      *It = <span class="built_in">TEXT</span>(<span class="string">&quot;cg01&quot;</span>);<span class="comment">// ä¿®æ”¹å€¼</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">auto</span> It = set.<span class="built_in">CreateConstIterator</span>(); It; ++It)</span><br><span class="line">  &#123;</span><br><span class="line">      *It; <span class="comment">// å¯è·å–ä½†æ— æ³•ä¿®æ”¹</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p><strong>å¸¸ç”¨æŸ¥è¯¢å‡½æ•°ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">set.<span class="built_in">Num</span>(); <span class="comment">// è·å–å®¹å™¨ä¸­å…ƒç´ çš„æ•°é‡</span></span><br><span class="line">   <span class="comment">// æ£€æŸ¥æ˜¯å¦åŒ…å«ç»™å®šçš„é”®å€¼ è¿”å›å¸ƒå°”å€¼</span></span><br><span class="line">   set.<span class="built_in">Contains</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;set01&quot;</span>));</span><br><span class="line">   <span class="comment">// è¿”å›æŒ‡å‘å…ƒç´ çš„æŒ‡é’ˆï¼Œæ²¡æ‰¾åˆ°è¿”å›ç©º</span></span><br><span class="line">   set.<span class="built_in">Find</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;set01&quot;</span>));</span><br><span class="line">   <span class="comment">// å°†TSetå®¹å™¨è½¬ä¸ºTArrayå®¹å™¨</span></span><br><span class="line">   set.<span class="built_in">Array</span>(); </span><br></pre></td></tr></table></figure><p><strong>å¸¸ç”¨ç§»é™¤å‡½æ•°ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">set.<span class="built_in">Remove</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;set01&quot;</span>)); <span class="comment">// ä½¿ç”¨ç»™å®šçš„å€¼å†…å®¹</span></span><br><span class="line">   set.<span class="built_in">Empty</span>(); <span class="comment">// æ¸…ç©ºå®¹å™¨ï¼Œé‡Šæ”¾ç©ºé—´</span></span><br><span class="line">   set.<span class="built_in">Reset</span>(); <span class="comment">// ç§»é™¤å…ƒç´ ï¼Œä½†æ˜¯ä¸é‡Šæ”¾ç©ºé—´</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++ å®¹å™¨ï¼šTArray</title>
      <link href="/2025/04/22/UE/UEC++%20%E5%AE%B9%E5%99%A8%EF%BC%9ATArray/"/>
      <url>/2025/04/22/UE/UEC++%20%E5%AE%B9%E5%99%A8%EF%BC%9ATArray/</url>
      
        <content type="html"><![CDATA[<p>è¯´æ˜ï¼šå®¹å™¨æ˜¯æ–¹ä¾¿æˆ‘ä»¬å­˜å‚¨æ•°æ®çš„è½½ä½“ï¼Œåœ¨è™šå¹»ä¸­ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†ä¸‰ç§å®¹å™¨ã€‚åˆ†åˆ«æ˜¯TArrayï¼ŒTMapï¼ŒTSetã€‚é¦–å…ˆè™šå¹»æä¾›çš„å®¹å™¨éƒ½æ˜¯åŒè´¨å®¹å™¨ï¼Œåªèƒ½ç”¨æ¥å­˜å‚¨ç›¸åŒç±»å‹çš„æ•°æ®ã€‚ä¸‰ç§å®¹å™¨å…·å¤‡ä¸åŒçš„ç‰¹æ€§ï¼Œé’ˆå¯¹ä¸åŒçš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®ä½¿ç”¨åœºæ™¯é€‰æ‹©æ“ä½œçš„å®¹å™¨ã€‚</p><p>å¹¶ä¸”åœ¨è™šå¹»å®šä¹‰äº†ä¸°å¯Œçš„APIä¾›å¼€å‘è€…ä½¿ç”¨</p><p>æ³¨æ„ï¼šåœ¨ä½¿ç”¨è¿™ä¸‰ç§å®¹å™¨çš„æ—¶å€™éœ€è¦æ³¨æ„ï¼Œåªæœ‰TArrayå¯ä»¥ä½¿ç”¨UPROPERTYå®è¯´æ˜</p><p><strong>TArray</strong></p><ul><li>æœ€å¸¸ç”¨çš„æ•°æ®å®¹å™¨ï¼Œç‰¹ç‚¹é€Ÿåº¦å¿«ï¼Œå†…å­˜æ¶ˆè€—å°ï¼Œå®‰å…¨æ€§é«˜ã€‚</li><li>TArrayè¢«ç§°ä¸ºåŒè´¨å®¹å™¨ï¼šå…¶æ‰€æœ‰å…ƒç´ å‡å®Œå…¨ä¸ºç›¸åŒç±»å‹ã€‚<strong>ä¸èƒ½è¿›è¡Œä¸åŒå…ƒç´ ç±»å‹çš„æ··åˆ</strong>ã€‚</li><li>TArrayè¢«è®¾è®¡æˆå€¼ç±»å‹ï¼Œæ— æ³•è¢«ç»§æ‰¿ï¼Œä¸è¦ä½¿ç”¨newå’Œdeleteåœ¨å †ä¸Šè¿›è¡Œåˆ›å»ºé”€æ¯ã€‚å…ƒç´ ä¹Ÿæ˜¯æ•°å€¼ç±»å‹ï¼Œä¸ºå®¹å™¨æ‹¥æœ‰ã€‚TArrayè¢«é”€æ¯æ—¶å…ƒç´ ä¹Ÿè¢«é”€æ¯ã€‚ä»ä¸€ä¸ªTArrayåˆ›å»ºæ–°çš„TArrayå˜é‡ï¼Œå°†æŠŠå…ƒç´ å¤åˆ¶åˆ°æ–°çš„å˜é‡ä¸­ï¼Œä¸å­˜åœ¨å…±äº«çŠ¶æ€ã€‚</li></ul><p><strong>åˆå§‹åŒ–ï¼š</strong></p><p>æ³¨æ„äº‹é¡¹ï¼šå®¹å™¨åœ¨æ„å»ºæ—¶ï¼Œä¸è¦æ„å»ºä¸ºå †å¯¹è±¡ï¼ç›´æ¥æ„å»ºä¸ºæ ˆå¯¹è±¡ï¼ç”±äºå®¹å™¨æ˜¯æ¨¡ç‰ˆç±»ï¼Œåœ¨æ„å»ºæ—¶å¿…é¡»æŒ‡å‡ºå­˜å‚¨æ•°æ®ç±»å‹ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ã€€<span class="comment">// å®¹å™¨éœ€è¦æ„å»ºä¸ºæ ˆå¯¹è±¡ç±»å‹</span></span><br><span class="line">TArray&lt;FString&gt; Array; </span><br><span class="line"> <span class="comment">//å‘å®¹å™¨æ·»åŠ 5ä¸ªå…ƒç´ ï¼Œä¸”å€¼å‡ä¸º Hello!</span></span><br><span class="line">Array.<span class="built_in">Init</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;Hello!&quot;</span>), <span class="number">5</span>);</span><br></pre></td></tr></table></figure><p><strong>éå†æ•°ç»„:</strong></p><ul><li>Numå‡½æ•°å¯ä»¥è·å–TArrayå½“å‰å…ƒç´ ä¸ªæ•°ã€‚TArrayé‡è½½äº†è¿ç®—ç¬¦[]ï¼Œé€šè¿‡ä½ç½®ä¸‹æ ‡å¯ä»¥è®¿é—®åˆ°å¯¹åº”ä½ç½®å…ƒç´ </li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; Array.<span class="built_in">Num</span>(); i++) &#123;</span><br><span class="line"><span class="built_in">UE_LOG</span>(LogTemp, Log, <span class="built_in">TEXT</span>(<span class="string">&quot;ç¬¬%då€¼æ˜¯ï¼š%s&quot;</span>),i,*Array[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><p>LogTemp: ç¬¬0å€¼æ˜¯ï¼šHello!<br />LogTemp: ç¬¬1å€¼æ˜¯ï¼šHello!<br />LogTemp: ç¬¬2å€¼æ˜¯ï¼šHello!<br />LogTemp: ç¬¬3å€¼æ˜¯ï¼šHello!<br />LogTemp: ç¬¬4å€¼æ˜¯ï¼šHello!</p><ul><li>å€ŸåŠ©æ–°è¯­æ³•è¿›è¡Œéå†</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span>&amp; val : Array) &#123;</span><br><span class="line"><span class="built_in">UE_LOG</span>(LogTemp, Log, <span class="built_in">TEXT</span>(<span class="string">&quot;%s&quot;</span>), *val);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><p>LogTemp: Hello!<br />LogTemp: Hello!<br />LogTemp: Hello!<br />LogTemp: Hello!<br />LogTemp: Hello!</p><p><strong>æ·»åŠ å…ƒç´ :</strong></p><ul><li>Addï¼ŒEmplaceï¼ŒAddUniqueå‡½æ•°å‡å¯å‘æ•°ç»„ä¸­æ·»åŠ å…ƒç´ ï¼ˆåˆ°æœ«å°¾ï¼‰ï¼Œå…ƒç´ è¢«æ·»åŠ æ—¶ï¼Œå†…å­˜ä»åˆ†é…å™¨ä¸­è¢«åˆ†é…ã€‚Addå’ŒEmplaceå‡½æ•°å¯è¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼Œä½†æ˜¯å­˜åœ¨ç»†å¾®ä¸åŒã€‚</li><li>Addå‡½æ•°å°†æŠŠä¸€ä¸ªå…ƒç´ ç±»å‹å®ä¾‹å¤åˆ¶ï¼ˆæˆ–ç§»åŠ¨ï¼‰åˆ°æ•°ç»„ä¸­</li><li>Emplaceæ·»åŠ å…ƒç´ åˆ°å®¹å™¨ä¸­ï¼ŒAddå‡½æ•°è°ƒç”¨çš„æ˜¯Emplaceå‡½æ•°</li><li>AddUniqueå‘å®¹å™¨ä¸­åŠ å…¥<strong>å”¯ä¸€å…ƒç´ </strong>ï¼Œå¦‚æœå…ƒç´ å·²ç»å­˜åœ¨ï¼Œåˆ™è¿”å›é‡å¤å…ƒç´ çš„ä½ç½®</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Array.<span class="built_in">Add</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;Add01&quot;</span>));</span><br><span class="line">   Array.<span class="built_in">Emplace</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;Add02&quot;</span>));</span><br><span class="line">   Array.<span class="built_in">AddUnique</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;Add02&quot;</span>));</span><br><span class="line">   Array.<span class="built_in">AddUnique</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;Add03&quot;</span>));</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><p>LogTemp: ç¬¬0å€¼æ˜¯ï¼šHello!<br />LogTemp: ç¬¬1å€¼æ˜¯ï¼šHello!<br />LogTemp: ç¬¬2å€¼æ˜¯ï¼šHello!<br />LogTemp: ç¬¬3å€¼æ˜¯ï¼šHello!<br />LogTemp: ç¬¬4å€¼æ˜¯ï¼šHello!<br />LogTemp: ç¬¬5å€¼æ˜¯ï¼šAdd01<br />LogTemp: ç¬¬6å€¼æ˜¯ï¼šAdd02<br />LogTemp: ç¬¬7å€¼æ˜¯ï¼šAdd03</p><p>ä¸Šé¢æˆ‘ä»¬åˆ©ç”¨AddUniqueåˆæ·»åŠ äº†ä¸€æ¬¡Add02ä½†æ˜¯è¿™é‡Œåªæœ‰ä¸€ä¸ªAdd02ï¼›</p><p><strong>Appendï¼š</strong></p><ul><li>Appendå‡½æ•°å¯ä»¥å¤åˆ¶æ™®é€šçš„æ•°ç»„åˆ°å®¹å™¨ä¸­</li><li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæ™®é€šæ•°ç»„ï¼Œç¬¬äºŒä¸ªå‚æ•°æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FString StrArr[<span class="number">3</span>]&#123; <span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;3&quot;</span> &#125;;</span><br><span class="line">   Array.<span class="built_in">Append</span>(StrArr, <span class="built_in">ARRAY_COUNT</span>(StrArr));</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><p>LogTemp: ç¬¬0å€¼æ˜¯ï¼šHello!<br />LogTemp: ç¬¬1å€¼æ˜¯ï¼šHello!<br />LogTemp: ç¬¬2å€¼æ˜¯ï¼šHello!<br />LogTemp: ç¬¬3å€¼æ˜¯ï¼šHello!<br />LogTemp: ç¬¬4å€¼æ˜¯ï¼šHello!<br />LogTemp: ç¬¬5å€¼æ˜¯ï¼š1<br />LogTemp: ç¬¬6å€¼æ˜¯ï¼š2<br />LogTemp: ç¬¬7å€¼æ˜¯ï¼š3</p><p>Insertæ’å…¥å…ƒç´ ï¼š</p><ul><li>å…è®¸åœ¨ç»™å®šç´¢å¼•æ·»åŠ ä¸€ä¸ªå•ä¸€å…ƒç´ æˆ–å…ƒç´ æ•°ç»„çš„ä¸€ä¸ªå‰¯æœ¬ã€‚</li><li>å¦‚æœæ’å…¥ä½ç½®è¶…è¿‡å®¹å™¨çš„å¤§å°ï¼Œ<strong>å°†ä¼šæŠ¥é”™ï¼</strong></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Array.<span class="built_in">Insert</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;ins01&quot;</span>), <span class="number">3</span>);</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><p>LogTemp: ç¬¬0å€¼æ˜¯ï¼šHello!<br />LogTemp: ç¬¬1å€¼æ˜¯ï¼šHello!<br />LogTemp: ç¬¬2å€¼æ˜¯ï¼šHello!<br />LogTemp: ç¬¬3å€¼æ˜¯ï¼šins01<br />LogTemp: ç¬¬4å€¼æ˜¯ï¼šHello!<br />LogTemp: ç¬¬5å€¼æ˜¯ï¼šHello!</p><p><strong>SetNumï¼š</strong></p><p>ä¸»åŠ¨è®¾ç½®å®¹å™¨çš„å¤§å°ï¼Œå¦‚æœé•¿åº¦å¤§äºåŸå®¹å™¨å¤§å°ï¼Œç©ºç™½ä½ç½®å°†ç”¨æ¨¡ç‰ˆç±»å‹é»˜è®¤å¯¹è±¡å¡«å……ã€‚å¦‚æœå°äºåŸå®¹å™¨å¤§å°ï¼Œåˆ™è¶…è¿‡è®¾ç½®å¤§å°çš„å†…å®¹å°†è¢«åˆ é™¤ã€‚</p><p>å‡½æ•°åŸå‹ï¼šç¬¬ä¸€ä¸ªå‚æ•°å®¹å™¨çš„å¤§å°ï¼Œç¬¬äºŒä¸ªæ˜¯å…è®¸ç¼©å°å®¹å™¨å½“å‰å…ƒç´ æ•°é‡</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">SetNum</span><span class="params">(SizeType NewNum, <span class="type">bool</span> bAllowShrinking = <span class="literal">true</span>)</span></span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Array.<span class="built_in">SetNum</span>(<span class="number">3</span>,<span class="literal">true</span>);</span><br></pre></td></tr></table></figure><p>å½“ä½ å·²ç»åˆå§‹åŒ–è¿‡æ•°ç»„ï¼Œä½†åœ¨åé¢åˆä½¿ç”¨äº† SetNum ä¸”è®¾ç½®çš„é•¿åº¦æ¯”åŸé•¿åº¦å°çš„æ—¶ï¼Œæ•°ç»„ä¼šè‡ªåŠ¨å°†è¶…å‡ºçš„æˆªå»</p><p>å¦‚æœè®¾ç½®çš„é•¿åº¦å¤§äºåŸé•¿åº¦ï¼Œé‚£ä¹ˆè¶…å‡ºçš„éƒ¨åˆ†å°±ä¼šè¢«èµ‹å€¼ä¸ºç©º</p><p>è¿­ä»£å™¨ï¼š</p><ul><li>è¿­ä»£å™¨ï¼ˆiteratorï¼‰æœ‰æ—¶åˆç§°æ¸¸æ ‡ï¼ˆcursorï¼‰æ˜¯ç¨‹åºè®¾è®¡çš„è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå¯åœ¨å®¹å™¨ï¼ˆcontainerï¼Œä¾‹å¦‚é“¾è¡¨æˆ–é˜µåˆ—ï¼‰ä¸Šéè®¿çš„æ¥å£ï¼Œè®¾è®¡äººå‘˜æ— éœ€å…³å¿ƒå®¹å™¨çš„å†…å®¹ã€‚</li><li>TArrayæœ‰ä¸¤ç§è¿­ä»£å™¨ï¼Œä¸€ç§æ˜¯å¯ä»¥é€šè¿‡è¿­ä»£å™¨æ›´æ”¹å…ƒç´ å†…å®¹ï¼Œä¸€ç§æ˜¯åªèƒ½è¯»å–å…ƒç´ ä¸èƒ½ä¿®æ”¹å…ƒç´ ã€‚</li><li><strong>ç¦æ­¢åœ¨è¿­ä»£å™¨ä¸­ä¿®æ”¹å®¹å™¨çš„å…ƒç´ ä¸ªæ•°ï¼Œç¦æ­¢æ·»åŠ å’Œç§»é™¤å…ƒç´ </strong></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> It = Array.<span class="built_in">CreateIterator</span>();It; ++It)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// *Itç”¨æ¥è¯»å–æ•°æ®</span></span><br><span class="line">*It = <span class="built_in">FString</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;cg01&quot;</span>)); <span class="comment">// å¯ä»¥ä¿®æ”¹å…ƒç´ å†…å®¹</span></span><br><span class="line"><span class="built_in">UE_LOG</span>(LogTemp, Log, <span class="built_in">TEXT</span>(<span class="string">&quot;%s&quot;</span>), **It);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> It = Array.<span class="built_in">CreateConstIterator</span>(); It; ++It)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// *Itç”¨æ¥è¯»å–æ•°æ®</span></span><br><span class="line">*It = <span class="built_in">FString</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;cg01&quot;</span>)); <span class="comment">// ç¦æ­¢ä¿®æ”¹å…ƒç´ å†…å®¹</span></span><br><span class="line"><span class="built_in">UE_LOG</span>(LogTemp, Log, <span class="built_in">TEXT</span>(<span class="string">&quot;%s&quot;</span>), **It);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><p>LogTemp: ç¬¬0å€¼æ˜¯ï¼šcg01<br />LogTemp: ç¬¬1å€¼æ˜¯ï¼šcg01<br />LogTemp: ç¬¬2å€¼æ˜¯ï¼šcg01<br />LogTemp: ç¬¬3å€¼æ˜¯ï¼šcg01<br />LogTemp: ç¬¬4å€¼æ˜¯ï¼šcg01</p><p><strong>è½¬æˆæ™®é€šæ•°ç»„ï¼š</strong></p><p>è¿”å›ç±»å‹æŒ‡é’ˆï¼ŒæŒ‡é’ˆåœ°å€æ˜¯æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„åœ°å€</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FString* StrData = Array.<span class="built_in">GetData</span>();</span><br></pre></td></tr></table></figure><p><strong>å¸¸è§„æŸ¥è¯¢å‡½æ•°ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŸ¥è¯¢æŒ‡å®šä½ç½®æ˜¯å¦å­˜åœ¨æœ‰æ•ˆå…ƒç´ ï¼Œè¿”å›å¸ƒå°”å€¼</span></span><br><span class="line">   Array.<span class="built_in">IsValidIndex</span>(<span class="number">3</span>);</span><br><span class="line">   Array.<span class="built_in">Last</span>();<span class="comment">// è¿”å›æœ€åçš„å…ƒç´ </span></span><br><span class="line">   Array.<span class="built_in">Last</span>(<span class="number">3</span>);<span class="comment">// è¿”å›å€’æ•°ç¬¬ä¸‰ä¸ªå…ƒç´ </span></span><br><span class="line">   Array.<span class="built_in">Top</span>(); <span class="comment">// è¿”å›é¡¶ç«¯å…ƒç´ </span></span><br><span class="line">   <span class="comment">// æ£€æŸ¥æ˜¯å¦åŒ…å«ç»™å®šçš„å…ƒç´  è¿”å›å¸ƒå°”å€¼</span></span><br><span class="line">   Array.<span class="built_in">Contains</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;Hello!&quot;</span>));</span><br><span class="line">   <span class="comment">// æŸ¥æ‰¾æ˜¯å¦åŒ…å«ç»™å®šçš„å…ƒç´ ï¼Œå¹¶è¿”å›å…ƒç´ æ‰€åœ¨çš„ä½ç½®ï¼Œä¸åŒ…å«è¿”å›-1</span></span><br><span class="line">   Array.<span class="built_in">Find</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;Hello!&quot;</span>));</span><br><span class="line">   <span class="comment">// æŸ¥æ‰¾æ˜¯å¦åŒ…å«ç»™å®šçš„å…ƒç´ ï¼Œå°†ä½ç½®ç´¢å¼•è®¾ç½®åˆ°Indexï¼Œè¿”å›å¸ƒå°”å€¼</span></span><br><span class="line">   <span class="type">int</span> Index = <span class="number">0</span>;</span><br><span class="line">   Array.<span class="built_in">Find</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;Hello!&quot;</span>), Index)</span><br></pre></td></tr></table></figure><p><strong>å¸¸è§„ç§»é™¤å‡½æ•°ï¼š</strong></p><p><strong>TArrayæœ‰Resetå‡½æ•°ï¼Œæ¸…é™¤å†…å®¹ï¼Œä½†ä¿ç•™ç©ºé—´</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨å®¹å™¨ä¸­ç§»é™¤ç»™å®šçš„å…ƒç´ ï¼Œè¿”å›ç§»é™¤çš„ä¸ªæ•°</span></span><br><span class="line">   Array.<span class="built_in">Remove</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;Hello!&quot;</span>));</span><br><span class="line">   <span class="comment">// ç§»é™¤æ•°ç»„ä¸­é¦–ä¸ªç»™å®šå…ƒç´ ï¼ŒæˆåŠŸè¿”å›1ï¼Œå¤±è´¥è¿”å›0</span></span><br><span class="line">   Array.<span class="built_in">RemoveSingle</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;Hello!&quot;</span>)); </span><br><span class="line">   Array.<span class="built_in">RemoveAt</span>(<span class="number">3</span>); <span class="comment">// è¿”å›ç»™å®šä½ç½®çš„å…ƒç´ </span></span><br><span class="line">   Array.<span class="built_in">Empty</span>(); <span class="comment">// æ¸…ç©ºå®¹å™¨</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++ æ•°æ®ç±»å‹</title>
      <link href="/2025/04/22/UE/UEC++%20%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/"/>
      <url>/2025/04/22/UE/UEC++%20%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<p>ç¦æ­¢åœ¨UEä¸­ä½¿ç”¨C++çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œè¿™æ ·ä¼šå½±å“å¼•æ“çš„è·¨å¹³å°ç‰¹æ€§</p><p>1ã€åŸºæœ¬æ•°æ®ç±»å‹</p><p>bool ä»£è¡¨å¸ƒå°”å€¼ (æ°¸è¿œä¸è¦å‡è®¾å¸ƒå°”å€¼çš„å¤§å°) ã€‚<br />BOOL å°†ä¸ä¼šè¿›è¡Œç¼–è¯‘ã€‚<br />TCHAR ä»£è¡¨å­—ç¬¦å‹ï¼ˆæ°¸è¿œä¸è¦å‡è®¾TCHARçš„å¤§å°ï¼‰ã€‚<br />uint8 ä»£è¡¨æ— ç¬¦å·å­—èŠ‚ï¼ˆå 1ä¸ªå­—èŠ‚ï¼‰ã€‚<br />int8 ä»£è¡¨æœ‰ç¬¦å·çš„å­—èŠ‚ï¼ˆå 1ä¸ªå­—èŠ‚ï¼‰ã€‚<br />uint16 ä»£è¡¨æ— ç¬¦å·&quot;çŸ­æ•´å‹&quot; (å 2 ä¸ªå­—èŠ‚)ã€‚<br />int16 ä»£è¡¨æœ‰ç¬¦å·&quot;çŸ­æ•´å‹&quot; (å 2 ä¸ªå­—èŠ‚)ã€‚<br />uint32 ä»£è¡¨æ— ç¬¦å·æ•´å‹ï¼ˆå 4å­—èŠ‚ï¼‰ã€‚<br />int32 ä»£è¡¨å¸¦ç¬¦å·æ•´å‹ï¼ˆå 4å­—èŠ‚ï¼‰ã€‚<br />uint64 ä»£è¡¨æ— ç¬¦å·&quot;å››å­—&quot; (8ä¸ªå­—èŠ‚)ã€‚<br />int64 ä»£è¡¨æœ‰ç¬¦å·&quot;å››å­—&quot;ï¼ˆ8ä¸ªå­—èŠ‚ï¼‰ã€‚<br />UE float ä»£è¡¨å•ç²¾åº¦æµ®ç‚¹å‹ (å 4 ä¸ªå­—èŠ‚)ã€‚<br />double ä»£è¡¨åŒç²¾åº¦æµ®ç‚¹å‹ (å 8 ä¸ªå­—èŠ‚)ã€‚<br />PTRINTä¸€ä¸ªç¬¦å·æ•´æ•°å’Œä¸€ä¸ªæŒ‡é’ˆä¸€æ ·å¤§å°ï¼ˆç”¨æ¥æ ‡è®°æŒ‡é’ˆçš„å¤§å°ï¼‰ (æ°¸è¿œä¸è¦å‡è®¾PTRINTçš„å¤§å°)ã€‚<br />2ã€å­—ç¬¦ç¼–ç </p><p>ç¼–ç è§£å†³çš„æ˜¯æ–‡æœ¬é—®é¢˜ã€‚</p><p>3ã€å­—ç¬¦ç±»å‹</p><p>UE4ä¸­æä¾›å¤šç§å­—ç¬¦ç±»å‹è¿›è¡Œå¤„ç†æ•°æ®ï¼Œåœ¨ä¸åŒçš„æƒ…æ™¯ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦é€‰æ‹©ä¸åŒçš„ç±»å‹è¿›è¡Œæ“ä½œã€‚</p><p>åŒºåˆ«ï¼šå¤§å°ä¸åŒï¼Œç¼–ç æ–¹å¼ä¸åŒï¼Œæ‰€æœ‰çš„æ–‡æœ¬åœ¨è¿›è¡Œå­˜å‚¨çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ç¼–è¯‘é˜¶æ®µä¼šæ ¹æ®ç¼–ç ç±»å‹è¿›è¡Œè½¬ç ã€‚</p><p>ä½¿ç”¨ï¼šé€šè¿‡ç»“æ„ä½“ FPlatformTypes</p><p>typedef FPlatformTypes::ANSICHAR ANSICHAR;<br />è½¬ç å®çš„ä½¿ç”¨ï¼šä¸‹åˆ—æ˜¯è™šå¹»ä¸­æä¾›çš„ä¸€äº›è½¬ç å®</p><p>// Usage of these should be replaced with StringCasts.<br />#define TCHAR_TO_ANSI(str) (ANSICHAR*)StringCast<ANSICHAR>(static_cast&lt;const TCHAR*&gt;(str)).Get()<br />#define ANSI_TO_TCHAR(str) (TCHAR*)StringCast<TCHAR>(static_cast&lt;const ANSICHAR*&gt;(str)).Get()<br />#define TCHAR_TO_UTF8(str) (ANSICHAR*)FTCHARToUTF8((const TCHAR*)str).Get()<br />#define UTF8_TO_TCHAR(str) (TCHAR*)FUTF8ToTCHAR((const ANSICHAR*)str).Get()<br />4ã€å¯¹è±¡å­—ç¬¦ä¸²</p><p>FNameï¼šèµ„æºå‘½åå­—ç¬¦ä¸²ï¼ŒFName é€šè¿‡ä¸€ä¸ªè½»å‹ç³»ç»Ÿä½¿ç”¨å­—ç¬¦ä¸²ã€‚åœ¨æ­¤ç³»ç»Ÿä¸­ï¼Œç‰¹å®šå­—ç¬¦ä¸²å³ä½¿ä¼šè¢«é‡å¤ä½¿ç”¨ï¼Œåœ¨æ•°æ®è¡¨ä¸­ä¹Ÿåªå­˜å‚¨ä¸€æ¬¡ã€‚FNames ä¸åŒºåˆ†å¤§å°å†™ï¼ˆå¤§å°å†™ä¸æ˜¯ä»–æ¯”è¾ƒçš„ä¾æ®ï¼‰ã€‚å®ƒä»¬ä¸ºä¸å¯å˜ï¼Œæ— æ³•è¢«æ“ä½œã€‚FNames çš„å­˜å‚¨ç³»ç»Ÿå’Œé™æ€ç‰¹æ€§å†³å®šäº†é€šè¿‡é”®è¿›è¡Œ FNames çš„æŸ¥æ‰¾å’Œè®¿é—®é€Ÿåº¦è¾ƒå¿«ã€‚FName å­ç³»ç»Ÿçš„å¦ä¸€ä¸ªåŠŸèƒ½æ˜¯ä½¿ç”¨æ•£åˆ—è¡¨ä¸º FName è½¬æ¢æä¾›å¿«é€Ÿå­—ç¬¦ä¸²ã€‚</p><p>FTextï¼šè¡¨ç¤ºä¸€ä¸ªæ˜¾ç¤ºå­—ç¬¦ä¸²ï¼Œç”¨æˆ·çš„æ˜¾å¼æ–‡æœ¬éƒ½éœ€è¦ç”±FTextè¿›è¡Œå¤„ç†ã€‚æ”¯æŒæ ¼å¼åŒ–æ–‡æœ¬ï¼Œä¸æä¾›ä¿®æ”¹å‡½æ•°ï¼Œæ— æ³•è¿›è¡Œå†…å®¹ä¿®æ”¹</p><p>FStringï¼šå¯ä»¥è¢«æ“ä½œçš„å­—ç¬¦ä¸²ã€‚å¼€é”€å¤§äºå…¶ä»–ç±»å­—ç¬¦ä¸²ç±»å‹</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++è‡ªå®šä¹‰æ—¥å¿—åˆ†ç±»</title>
      <link href="/2025/04/22/UE/UEC++%E8%87%AA%E5%AE%9A%E4%B9%89%E6%97%A5%E5%BF%97%E5%88%86%E7%B1%BB/"/>
      <url>/2025/04/22/UE/UEC++%E8%87%AA%E5%AE%9A%E4%B9%89%E6%97%A5%E5%BF%97%E5%88%86%E7%B1%BB/</url>
      
        <content type="html"><![CDATA[<p>ä»¥ä¸‹ä¸¤ä¸ªæ­¥éª¤å‡å®Œæˆæ‰å¯</p><p>1ã€å£°æ˜è‡ªå®šä¹‰æ—¥å¿—åˆ†ç±»</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/** </span></span><br><span class="line"><span class="comment"> * A macro to declare a logging category as a C++ &quot;extern&quot;, usually declared in the header and paired with DEFINE_LOG_CATEGORY in the source. Accessible by all files that include the header.</span></span><br><span class="line"><span class="comment"> * @param CategoryName, category to declare</span></span><br><span class="line"><span class="comment"> * @param DefaultVerbosity, default run time verbosity</span></span><br><span class="line"><span class="comment"> * @param CompileTimeVerbosity, maximum verbosity to compile into the code</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DECLARE_LOG_CATEGORY_EXTERN(CategoryName, DefaultVerbosity, CompileTimeVerbosity) \</span></span><br><span class="line"><span class="meta">extern struct FLogCategory##CategoryName : public FLogCategory<span class="string">&lt;ELogVerbosity::DefaultVerbosity, ELogVerbosity::CompileTimeVerbosity&gt;</span> \</span></span><br><span class="line"><span class="meta">&#123; \</span></span><br><span class="line"><span class="meta">FORCEINLINE FLogCategory##CategoryName() : FLogCategory(TEXT(#CategoryName)) &#123;&#125; \</span></span><br><span class="line"><span class="meta">&#125; CategoryName;</span></span><br></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><p>CategoryName è‡ªå®šä¹‰æ—¥å¿—åˆ†ç±»åç§°</p><p>Logå¼€å¤´ DefaultVerbosity æ—¥å¿—é»˜è®¤çº§åˆ«ï¼Œä¸€èˆ¬ä½¿ç”¨Log</p><p>CompileTimeVerbosity æ—¥å¿—ç¼–è¯‘çº§åˆ« é«˜äºæ­¤çº§åˆ«çš„ä¸ä¼šè¢«ç¼–è¯‘ ä¸€èˆ¬ç”¨All</p><p>è¿™ä¸ªæ“ä½œéœ€è¦åœ¨å¤´æ–‡ä»¶ä¸­å®Œæˆï¼Œå¹¶ä¸”å®Œæˆä¸€æ¬¡</p><p>2ã€å®šä¹‰æ—¥å¿—åˆ†ç±»</p><p>å®šä¹‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment"> * A macro to define a logging category, usually paired with DECLARE_LOG_CATEGORY_EXTERN from the header.</span></span><br><span class="line"><span class="comment"> * @param CategoryName, category to define</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DEFINE_LOG_CATEGORY(CategoryName) FLogCategory##CategoryName CategoryName;</span></span><br></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><p>CategoryName è‡ªå®šä¹‰æ—¥å¿—åˆ†ç±»åç§°</p><p>è¿™ä¸ªæ“ä½œå¿…é¡»åœ¨CPPæ–‡ä»¶ä¸­è¿›è¡Œï¼Œåªéœ€è¦è¿›è¡Œä¸€æ¬¡å®šä¹‰</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++ç”ŸæˆActor</title>
      <link href="/2025/04/22/UE/UEC++%E7%94%9F%E6%88%90Actor/"/>
      <url>/2025/04/22/UE/UEC++%E7%94%9F%E6%88%90Actor/</url>
      
        <content type="html"><![CDATA[<p>1ã€ç›´æ¥ç”ŸæˆActor</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">GetWorld</span>()-&gt;<span class="built_in">SpawnActor</span>&lt;AActor&gt;();</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">GetWorld</span>()-&gt;<span class="built_in">SpawnActor</span>(AActor::<span class="built_in">StaticClass</span>());</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UWorld* world = <span class="built_in">GetWorld</span>();</span><br><span class="line">world-&gt;<span class="built_in">SpawnActor</span>&lt;AActor&gt;(AActor::<span class="built_in">StaticClass</span>());</span><br></pre></td></tr></table></figure><p>SpawnActor åœ¨ world ç±»ä¸­çš„å®šä¹‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Templated version of SpawnActor that allows you to specify a class type via the template type */</span></span><br><span class="line">    <span class="function"><span class="keyword">template</span>&lt; <span class="keyword">class</span> T &gt;</span></span><br><span class="line"><span class="function">    T* <span class="title">SpawnActor</span><span class="params">( <span class="type">const</span> FActorSpawnParameters&amp; SpawnParameters = FActorSpawnParameters() )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">CastChecked</span>&lt;T&gt;(<span class="built_in">SpawnActor</span>(T::<span class="built_in">StaticClass</span>(), <span class="literal">NULL</span>, <span class="literal">NULL</span>, SpawnParameters),ECastCheckedType::NullAllowed);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Templated version of SpawnActor that allows you to specify location and rotation in addition to class type via the template type */</span></span><br><span class="line">    <span class="function"><span class="keyword">template</span>&lt; <span class="keyword">class</span> T &gt;</span></span><br><span class="line"><span class="function">    T* <span class="title">SpawnActor</span><span class="params">( FVector <span class="type">const</span>&amp; Location, FRotator <span class="type">const</span>&amp; Rotation, <span class="type">const</span> FActorSpawnParameters&amp; SpawnParameters = FActorSpawnParameters() )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">CastChecked</span>&lt;T&gt;(<span class="built_in">SpawnActor</span>(T::<span class="built_in">StaticClass</span>(), &amp;Location, &amp;Rotation, SpawnParameters),ECastCheckedType::NullAllowed);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Templated version of SpawnActor that allows you to specify the class type via parameter while the return type is a parent class of that type */</span></span><br><span class="line">    <span class="function"><span class="keyword">template</span>&lt; <span class="keyword">class</span> T &gt;</span></span><br><span class="line"><span class="function">    T* <span class="title">SpawnActor</span><span class="params">( UClass* Class, <span class="type">const</span> FActorSpawnParameters&amp; SpawnParameters = FActorSpawnParameters() )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">CastChecked</span>&lt;T&gt;(<span class="built_in">SpawnActor</span>(Class, <span class="literal">NULL</span>, <span class="literal">NULL</span>, SpawnParameters),ECastCheckedType::NullAllowed);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     *  Templated version of SpawnActor that allows you to specify the rotation and location in addition</span></span><br><span class="line"><span class="comment">     *  class type via parameter while the return type is a parent class of that type </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">template</span>&lt; <span class="keyword">class</span> T &gt;</span></span><br><span class="line"><span class="function">    T* <span class="title">SpawnActor</span><span class="params">( UClass* Class, FVector <span class="type">const</span>&amp; Location, FRotator <span class="type">const</span>&amp; Rotation, <span class="type">const</span> FActorSpawnParameters&amp; SpawnParameters = FActorSpawnParameters() )</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">CastChecked</span>&lt;T&gt;(<span class="built_in">SpawnActor</span>(Class, &amp;Location, &amp;Rotation, SpawnParameters),ECastCheckedType::NullAllowed);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     *  Templated version of SpawnActor that allows you to specify whole Transform</span></span><br><span class="line"><span class="comment">     *  class type via parameter while the return type is a parent class of that type </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">template</span>&lt; <span class="keyword">class</span> T &gt;</span></span><br><span class="line"><span class="function">    T* <span class="title">SpawnActor</span><span class="params">(UClass* Class, FTransform <span class="type">const</span>&amp; Transform,<span class="type">const</span> FActorSpawnParameters&amp; SpawnParameters = FActorSpawnParameters())</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">CastChecked</span>&lt;T&gt;(<span class="built_in">SpawnActor</span>(Class, &amp;Transform, SpawnParameters), ECastCheckedType::NullAllowed);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>2ã€æ»åç”ŸæˆActor</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºactorç”Ÿæˆå˜æ¢</span></span><br><span class="line">   FTransform tran;</span><br><span class="line">   <span class="comment">// æ»åç”ŸæˆActor</span></span><br><span class="line">   AActor* actor = <span class="built_in">GetWorld</span>()-&gt;<span class="built_in">SpawnActorDeferred</span>&lt;AActor&gt;(AActor::<span class="built_in">StaticClass</span>(), tran);</span><br><span class="line">   <span class="comment">// ç¡®å®šç”Ÿæˆå¯¹è±¡åˆ°ä¸–ç•Œ</span></span><br><span class="line">   actor-&gt;<span class="built_in">FinishSpawning</span>(tran);</span><br></pre></td></tr></table></figure><p>SpawnActorDeferred åœ¨ world ç±»ä¸­çš„å®šä¹‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * Spawns given class and returns class T pointer, forcibly sets world transform (note this allows scale as well). WILL NOT run Construction Script of Blueprints </span></span><br><span class="line"><span class="comment">    * to give caller an opportunity to set parameters beforehand.  Caller is responsible for invoking construction</span></span><br><span class="line"><span class="comment">    * manually by calling UGameplayStatics::FinishSpawningActor (see AActor::OnConstruction).</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">template</span>&lt; <span class="keyword">class</span> T &gt;</span></span><br><span class="line"><span class="function">   T* <span class="title">SpawnActorDeferred</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">       UClass* Class,</span></span></span><br><span class="line"><span class="params"><span class="function">       FTransform <span class="type">const</span>&amp; Transform,</span></span></span><br><span class="line"><span class="params"><span class="function">       AActor* Owner = <span class="literal">nullptr</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">       APawn* Instigator = <span class="literal">nullptr</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">       ESpawnActorCollisionHandlingMethod CollisionHandlingOverride = ESpawnActorCollisionHandlingMethod::Undefined</span></span></span><br><span class="line"><span class="params"><span class="function">       )</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">       <span class="keyword">if</span>( Owner )</span><br><span class="line">       &#123;</span><br><span class="line">           <span class="built_in">check</span>(<span class="keyword">this</span>==Owner-&gt;<span class="built_in">GetWorld</span>());</span><br><span class="line">       &#125;</span><br><span class="line">       FActorSpawnParameters SpawnInfo;</span><br><span class="line">       SpawnInfo.SpawnCollisionHandlingOverride = CollisionHandlingOverride;</span><br><span class="line">       SpawnInfo.Owner = Owner;</span><br><span class="line">       SpawnInfo.Instigator = Instigator;</span><br><span class="line">       SpawnInfo.bDeferConstruction = <span class="literal">true</span>;</span><br><span class="line">       <span class="keyword">return</span> (Class != <span class="literal">nullptr</span>) ? <span class="built_in">Cast</span>&lt;T&gt;(<span class="built_in">SpawnActor</span>(Class, &amp;Transform, SpawnInfo)) : <span class="literal">nullptr</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++ è§£å†³ AddOnScreenDebugMessage è¾“å‡ºä¸­æ–‡ä¹±ç </title>
      <link href="/2025/04/22/UE/UEC++%20%E8%A7%A3%E5%86%B3%20AddOnScreenDebugMessage%20%E8%BE%93%E5%87%BA%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81/"/>
      <url>/2025/04/22/UE/UEC++%20%E8%A7%A3%E5%86%B3%20AddOnScreenDebugMessage%20%E8%BE%93%E5%87%BA%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<p>åœ¨ä½¿ç”¨ AddOnScreenDebugMessage è¿›è¡Œæ—¥å¿—è¾“å‡ºæ—¶ï¼Œè¾“å‡ºä¸­æ–‡ä¼šå¯¼è‡´ä¹±ç æƒ…å†µ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GEngine-&gt;<span class="built_in">AddOnScreenDebugMessage</span>(<span class="number">-1</span>, <span class="number">10</span>, FColor::Green, <span class="built_in">TEXT</span>(<span class="string">&quot;æ¶ˆæ¯&quot;</span>));</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š<br />Click for Mouse Control<br />XX</p><p>åŸå› æ˜¯æ‰€ä½¿ç”¨ç¼–ç é›†æ— æ³•è§£é‡Šä¸­æ–‡å­—ç¬¦</p><p>###è§£å†³åŠæ³•ï¼š</p><p>ä½¿æ–‡ä»¶å¤„äºæœªä¿å­˜çŠ¶æ€ï¼Œåœ¨æ–‡ä»¶ä¸­æ‰¾åˆ°é«˜çº§ä¿å­˜é€‰é¡¹ï¼Œç„¶åå°†ç¼–ç æ ¼å¼è®¾ç½®ä¸ºUTF-8</p><p>å¦‚æœä½¿ç”¨çš„Vsä¸­æ²¡æœ‰é«˜çº§ä¿å­˜é€‰é¡¹ï¼Œå¯ä»¥åœ¨å·¥å…·è‡ªå®šä¹‰ä¸­å°†å…¶æ·»åŠ ä¸Šå»<br />è‡ªå®šä¹‰-&gt;å‘½ä»¤-&gt;èœå•æ -&gt;æ·»åŠ å‘½ä»¤<br />åœ¨æ·»åŠ å‘½ä»¤ä¸­æ·»åŠ æ–‡ä»¶ï¼Œé«˜çº§ä¿å­˜é€‰é¡¹</p><p>è®¾ç½®å®Œä¹‹åå†é‡æ–°ç¼–è¯‘å°±å¯ä»¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡æ—¥å¿—è¾“å‡º</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++æ¶ˆäº¡Actoré€šçŸ¥</title>
      <link href="/2025/04/22/UE/UEC++%E6%B6%88%E4%BA%A1Actor%E9%80%9A%E7%9F%A5/"/>
      <url>/2025/04/22/UE/UEC++%E6%B6%88%E4%BA%A1Actor%E9%80%9A%E7%9F%A5/</url>
      
        <content type="html"><![CDATA[<p>1ã€Destroyedå‡½æ•°</p><p>è°ƒç”¨è‡ªèº«Destroyå‡½æ•°è¿›è¡Œå¼ºåˆ¶æ¶ˆäº¡æ“ä½œ</p><p>å½“å¯¹è±¡è¢«åˆ é™¤æ—¶ï¼ˆéå†…å­˜åˆ é™¤ï¼‰è¿›è¡Œå›è°ƒæ“ä½œ</p><p>å‚æ•°è¯´æ˜</p><p>bNetForce æ˜¯å¦å¼ºåˆ¶ç½‘ç»œåŒæ­¥åˆ é™¤</p><p>bShouldModifyLevel ä¸»è¦æ˜¯ç”¨æ¥æ§åˆ¶å…ˆåˆ é™¤actorå†ä¿®æ”¹å…³å¡ï¼Œè¿˜æ˜¯å…ˆä¿®æ”¹å…³å¡å†åˆ é™¤actorï¼Œé»˜è®¤æ˜¯trueï¼Œå³ä¸ºå…ˆä¿®æ”¹å…³å¡ï¼Œå†åˆ é™¤actorï¼ˆä¿®æ”¹å…³å¡å³ä¸ºæŠŠactorå…ˆç§»é™¤å‡ºåœºæ™¯ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Destroyed</span>();</span><br></pre></td></tr></table></figure><p>åœ¨Actorä¸­çš„å®šä¹‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">AActor::Destroyed</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">RouteEndPlay</span>(EEndPlayReason::Destroyed);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">ReceiveDestroyed</span>();</span><br><span class="line">    OnDestroyed.<span class="built_in">Broadcast</span>(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Actorè¢«æ ‡è®°ä¸ºç­‰å¾…é”€æ¯å¹¶ä»å…³å¡çš„Actoré˜µåˆ—ä¸­ç§»é™¤ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸¤ç§’åé”€æ¯</span></span><br><span class="line">   <span class="built_in">SetLifeSpan</span>(<span class="number">2</span>);</span><br></pre></td></tr></table></figure><p>è®¾ç½®å»¶æ—¶åˆ é™¤ï¼ˆå•ä½ç§’ï¼‰</p><p>æ³¨ï¼šè¿™é‡Œçš„ Destroy å’Œ  SetLifeSpan å‡½æ•°ç›´æ¥è°ƒç”¨éƒ½æ˜¯é”€æ¯è‡ªèº«</p><p>2ã€EndPlayå‡½æ•°</p><p>å¯¹è±¡è¢«å½»åº•æ¸…é™¤æ—¶å›è°ƒï¼Œå›è°ƒä¼šè¿›è¡Œåˆ é™¤ç±»å‹é€šçŸ¥</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">EndPlay</span><span class="params">(<span class="type">const</span> EEndPlayReason::Type EndPlayReason)</span></span>;</span><br></pre></td></tr></table></figure><p>EEndPlayReasonç±»å‹ æ—¢åˆ é™¤ç±»å‹</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UENUM</span>(BlueprintType)</span><br><span class="line"><span class="keyword">namespace</span> EEndPlayReason</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">enum</span> <span class="title class_">Type</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/** å½“actoræˆ–æ˜¯componentå½»åº•è¢«åˆ é™¤æ—¶ï¼ˆå†…å­˜ä¸­ï¼‰ */</span></span><br><span class="line">        Destroyed,</span><br><span class="line">        <span class="comment">/** å…³å¡åˆ‡æ¢æ—¶åˆ é™¤å›è°ƒï¼ˆéå…³å¡æµï¼‰ */</span></span><br><span class="line">        LevelTransition,</span><br><span class="line">        <span class="comment">/** ç¼–è¾‘å™¨å…³é—­æ—¶ï¼Œå›è°ƒé€šçŸ¥ */</span></span><br><span class="line">        EndPlayInEditor,</span><br><span class="line">        <span class="comment">/** å…³å¡æµåˆ‡æ¢è¢«é‡Šæ”¾æ—¶è°ƒç”¨ */</span></span><br><span class="line">        RemovedFromWorld,</span><br><span class="line">        <span class="comment">/** æ¸¸æˆé€€å‡ºæ—¶è¢«åˆ é™¤å›è°ƒ */</span></span><br><span class="line">        Quit,</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++ è¾“å‡ºæ–¹å¼</title>
      <link href="/2025/04/21/UE/UEC++%20%E8%BE%93%E5%87%BA%E6%96%B9%E5%BC%8F/"/>
      <url>/2025/04/21/UE/UEC++%20%E8%BE%93%E5%87%BA%E6%96%B9%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<p>1ã€ä½¿ç”¨PrintStringè¾“å‡º</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Kismet/KismetSystemLibrary.h&quot;</span></span></span><br><span class="line">UKismetSystemLibrary::<span class="built_in">PrintString</span>(<span class="keyword">this</span>, <span class="built_in">TEXT</span>(<span class="string">&quot;hello!&quot;</span>)); </span><br></pre></td></tr></table></figure><p>æ ¼å¼åŒ–è¾“å‡ºï¼Œä½¿ç”¨æ–¹æ³•å’ŒCè¯­è¨€printå‡½æ•°ä¸€æ ·</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Kismet/KismetSystemLibrary.h&quot;</span></span></span><br><span class="line">UKismetSystemLibrary::<span class="built_in">PrintString</span>(<span class="keyword">this</span>, <span class="built_in">TEXT</span>(<span class="string">&quot;Num = %d&quot;</span>),Num); </span><br></pre></td></tr></table></figure><p>2ã€ä½¿ç”¨Engineçš„DebugåŠŸèƒ½</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Engine.h&quot;</span></span></span><br><span class="line">GEngine-&gt;<span class="built_in">AddOnScreenDebugMessage</span>(<span class="number">-1</span>, <span class="number">20</span>, FColor::Green, <span class="built_in">FString</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;hello!&quot;</span>)));</span><br></pre></td></tr></table></figure><p>3ã€æ‰“å°åˆ°æ—¥å¿—</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Engine.h&quot;</span></span></span><br><span class="line"><span class="built_in">UE_LOG</span>(LogTemp, Warning, <span class="built_in">TEXT</span>(<span class="string">&quot;hello!&quot;</span>));</span><br></pre></td></tr></table></figure><p>åŒå¯æ ¼å¼åŒ–è¾“å‡º</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++ å¤šçº¿ç¨‹ï¼ˆäºŒï¼‰ AsyncTask</title>
      <link href="/2025/04/20/UE/UEC++%20%E5%A4%9A%E7%BA%BF%E7%A8%8B%EF%BC%88%E4%BA%8C%EF%BC%89%20AsyncTask/"/>
      <url>/2025/04/20/UE/UEC++%20%E5%A4%9A%E7%BA%BF%E7%A8%8B%EF%BC%88%E4%BA%8C%EF%BC%89%20AsyncTask/</url>
      
        <content type="html"><![CDATA[<p><strong>AsyncTask</strong></p><p>AsyncTaskç³»ç»Ÿå®ç°çš„å¤šçº¿ç¨‹ä¸è‡ªå·±å®ç°ç»§æ‰¿çš„FRunnableå®ç°çš„åŸç†ç›¸ä¼¼ï¼Œè¿˜å¯ä»¥åˆ©ç”¨UE4æä¾›çš„çº¿ç¨‹æ± ã€‚å½“ä½¿ç”¨å¤šçº¿ç¨‹ä¸æ»¡æ„æ—¶ä¹Ÿå¯ä»¥è°ƒç”¨StartSynchronousTaskæ”¹æˆä¸»çº¿ç¨‹æ‰§è¡Œã€‚</p><p>æ¥è‡ªå¤´æ–‡ä»¶ <em><strong>AysncWork.h</strong></em> æ–‡ä»¶ä¸­æ³¨é‡Šï¼Œç›´æ¥ä»¿ç…§æ³¨é‡Šæ¥å®ç°AsyncTask</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">FAutoDeleteAsyncTask - <span class="keyword">template</span> task <span class="keyword">for</span> jobs that <span class="keyword">delete</span> themselves when complete</span><br><span class="line"></span><br><span class="line">Sample code:</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ExampleAutoDeleteAsyncTask</span> : <span class="keyword">public</span> FNonAbandonableTask</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">friend</span> <span class="keyword">class</span> <span class="title class_">FAutoDeleteAsyncTask</span>&lt;ExampleAutoDeleteAsyncTask&gt;;</span><br><span class="line"></span><br><span class="line">    int32 ExampleData;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">ExampleAutoDeleteAsyncTask</span>(int32 InExampleData)</span><br><span class="line">     : <span class="built_in">ExampleData</span>(InExampleData)</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">DoWork</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        ... <span class="keyword">do</span> the work here</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">FORCEINLINE TStatId <span class="title">GetStatId</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">RETURN_QUICK_DECLARE_CYCLE_STAT</span>(ExampleAutoDeleteAsyncTask, STATGROUP_ThreadPoolAsyncTasks);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Example</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// start an example job</span></span><br><span class="line">    (<span class="keyword">new</span> <span class="built_in">FAutoDeleteAsyncTask</span>&lt;ExampleAutoDeleteAsyncTask&gt;(<span class="number">5</span>)-&gt;<span class="built_in">StartBackgroundTask</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// do an example job now, on this thread</span></span><br><span class="line">    (<span class="keyword">new</span> <span class="built_in">FAutoDeleteAsyncTask</span>&lt;ExampleAutoDeleteAsyncTask&gt;(<span class="number">5</span>)-&gt;<span class="built_in">StartSynchronousTask</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>ä»£ç å®ç°ï¼š</strong></p><p>ç»§æ‰¿FNonAbandonableTaskåˆ›å»ºä¸€ä¸ªçº¿ç¨‹ç±»</p><p>åœ¨DoWorkä¸­å®ç°éœ€è¦å®ç°çš„åŠŸèƒ½</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// FTestAsyncTask.h </span></span><br><span class="line">  <span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Async\AsyncWork.h&quot;</span></span></span><br><span class="line">  <span class="meta">#<span class="keyword">include</span> <span class="string">&quot;CoreMinimal.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MX_API</span> FTestAsyncTask : <span class="keyword">public</span> FNonAbandonableTask</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">friend</span> <span class="keyword">class</span> <span class="title class_">FAutoDeleteAsyncTask</span>&lt;FTestAsyncTask&gt;;</span><br><span class="line">    int32 RunCount = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">FTestAsyncTask</span>(FString ThreadName,<span class="keyword">class</span> AActor1* a1) : <span class="built_in">MyThreadName</span>(ThreadName), <span class="built_in">A1</span>(a1) &#123;&#125;;</span><br><span class="line">    ~<span class="built_in">FTestAsyncTask</span>();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">DoWork</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">FORCEINLINE TStatId <span class="title">GetStatId</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">RETURN_QUICK_DECLARE_CYCLE_STAT</span>(FTestAsyncTask, STATGROUP_ThreadPoolAsyncTasks);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    FString MyThreadName;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">AActor1</span>* A1;</span><br><span class="line">    <span class="type">static</span> FCriticalSection CriticalSection;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">///////////////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="comment">// FTestAsyncTask.cpp </span></span><br><span class="line">FCriticalSection FTestAsyncTask::CriticalSection;</span><br><span class="line"></span><br><span class="line">FTestAsyncTask::~<span class="built_in">FTestAsyncTask</span>()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">FTestAsyncTask::DoWork</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">UE_LOG</span>(LogTemp, Log, <span class="built_in">TEXT</span>(<span class="string">&quot;%s------%d&quot;</span>), *MyThreadName, RunCount);</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">IsValid</span>(A1)) &#123;</span><br><span class="line">        <span class="comment">// åŒæ­¥é”</span></span><br><span class="line">        <span class="function">FScopeLock <span class="title">Lock</span><span class="params">(&amp;CriticalSection)</span></span>;</span><br><span class="line">        <span class="keyword">if</span> (A1-&gt;TestCount &lt; A1-&gt;TestTarget)</span><br><span class="line">        &#123;</span><br><span class="line">            A1-&gt;TestCount++;</span><br><span class="line">            RunCount++;</span><br><span class="line">            <span class="comment">// èŠ‚çº¦èµ„æº æ¯100æ¬¡æ‰“å°ä¸€æ¬¡</span></span><br><span class="line">            <span class="keyword">if</span> (RunCount % <span class="number">100</span> == <span class="number">0</span>)</span><br><span class="line">                <span class="built_in">UE_LOG</span>(LogTemp, Log, <span class="built_in">TEXT</span>(<span class="string">&quot;%s======%d&quot;</span>), *MyThreadName, RunCount);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œçº¿ç¨‹ç±»ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¤´æ–‡ä»¶</span></span><br><span class="line">    int32 TestCount;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">UPROPERTY</span>(EditAnywhere)</span><br><span class="line">        int32 TestTarget;</span><br><span class="line"><span class="comment">// çº¿ç¨‹è¿è¡Œ</span></span><br><span class="line">    (<span class="keyword">new</span> <span class="built_in">FAutoDeleteAsyncTask</span>&lt;FTestAsyncTask&gt;(<span class="string">&quot;thread1&quot;</span>, <span class="keyword">this</span>))-&gt;<span class="built_in">StartBackgroundTask</span>();</span><br><span class="line">    (<span class="keyword">new</span> <span class="built_in">FAutoDeleteAsyncTask</span>&lt;FTestAsyncTask&gt;(<span class="string">&quot;thread2&quot;</span>, <span class="keyword">this</span>))-&gt;<span class="built_in">StartBackgroundTask</span>();</span><br></pre></td></tr></table></figure><p>åœ¨è‡ªå®šä¹‰æ‰§è¡Œçš„çº¿ç¨‹ç±»ä¸­ ä½¿ç”¨ FAutoDeleteAsyncTask æ¥ä¼ å…¥æˆ‘ä»¬åˆšæ‰å†™çš„Taskã€‚FAutoDeleteAsyncTaské¡¾åæ€ä¹‰å°±æ˜¯ä»»åŠ¡æ‰§è¡Œå®Œå°±ä¼š<strong>è‡ªåŠ¨åˆ é™¤</strong>ã€‚</p><p>è¿˜æœ‰StartBackgroundTaskå’ŒStartSynchronousTaskçš„åŒºåˆ«ï¼š</p><ul><li><strong>StartBackgroundTask</strong>ä¼šåˆ©ç”¨çº¿ç¨‹æ± é‡Œç©ºé—²çš„çº¿ç¨‹æ¥æ‰§è¡Œã€‚</li><li><strong>StartSynchronousTask</strong>åˆ™æ˜¯ä¸»çº¿ç¨‹æ‰§è¡Œã€‚</li></ul><p>æ‰§è¡Œç»“æœï¼š</p><p>LogTemp: thread2======30600<br />LogTemp: thread1======68000<br />LogTemp: thread1======68100<br />LogTemp: thread2======30700<br />LogTemp: thread2======30800<br />LogTemp: thread1======68200<br />LogTemp: thread1======68300<br />LogTemp: thread2======30900<br />LogTemp: thread2======31000<br />LogTemp: thread1======68400<br />LogTemp: thread1======68500<br />LogTemp: thread1======68600<br />LogTemp: thread1======68700<br />LogTemp: thread1======68800<br />LogTemp: thread2======31100<br />PIE: Play in editor total start time 0.055</p><p>è¿™é‡Œè¿è¡Œæ¬¡æ•°è®¾ç½®çš„ä¸º100000 ç¼ºå°‘ä¸€æ¬¡æ˜¯å› ä¸ºå½“æ»¡è¶³æ¡ä»¶æ˜¯ç›´æ¥è·³å‡ºäº†ï¼Œæ²¡æœ‰æ‰“å°å‡º</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UEC++ å¤šçº¿ç¨‹ï¼ˆä¸€ï¼‰ FRunnable</title>
      <link href="/2025/04/20/UE/UEC++%20%E5%A4%9A%E7%BA%BF%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89%20FRunnable/"/>
      <url>/2025/04/20/UE/UEC++%20%E5%A4%9A%E7%BA%BF%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89%20FRunnable/</url>
      
        <content type="html"><![CDATA[<p>è™šå¹»å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.unrealengine.com/5.0/en-US/API/Runtime/Core/HAL/FRunnable/">https://docs.unrealengine.com/5.0/en-US/API/Runtime/Core/HAL/FRunnable/</a></p><p><strong>FRunnable</strong></p><ul><li>â€œrunnableâ€å¯¹è±¡çš„æ¥å£ã€‚</li><li>å¯è¿è¡Œå¯¹è±¡æ˜¯åœ¨ä»»æ„çº¿ç¨‹ä¸Šâ€œè¿è¡Œâ€çš„å¯¹è±¡ã€‚è°ƒç”¨ä½¿ç”¨æ¨¡å¼æ˜¯Init()ã€Run()ã€Exit()ã€‚å°†è¦â€œrunâ€è¿™ä¸ªå¯¹è±¡çš„çº¿ç¨‹æ€»æ˜¯ä½¿ç”¨é‚£äº›è°ƒç”¨è¯­ä¹‰ã€‚å®ƒåœ¨åˆ›å»ºçš„çº¿ç¨‹ä¸Šæ‰§è¡Œæ­¤æ“ä½œï¼Œä»¥ä¾¿åœ¨è¿™äº›è°ƒç”¨çš„ä¸Šä¸‹æ–‡ä¸­å¯ä»¥ä½¿ç”¨ä»»ä½•ç‰¹å®šäºçº¿ç¨‹çš„ä½¿ç”¨(TLSç­‰)ã€‚â€œrunnableâ€åœ¨Init()ä¸­å®Œæˆæ‰€æœ‰çš„åˆå§‹åŒ–ã€‚</li><li>å¦‚æœåˆå§‹åŒ–å¤±è´¥ï¼Œçº¿ç¨‹å°†åœæ­¢æ‰§è¡Œå¹¶è¿”å›é”™è¯¯ä»£ç ã€‚å¦‚æœæˆåŠŸï¼Œåˆ™åœ¨æ‰§è¡ŒçœŸæ­£çš„çº¿ç¨‹å·¥ä½œçš„åœ°æ–¹è°ƒç”¨Run()ã€‚å®Œæˆåï¼Œè°ƒç”¨Exit()ä»¥å…è®¸æ­£ç¡®çš„æ¸…ç†ã€‚</li></ul><p><strong>å‡½æ•°</strong></p><ul><li>void Exit()Â é€€å‡ºå¯è¿è¡Œå¯¹è±¡</li><li>bool Init()Â Â åˆå§‹åŒ–å¯è¿è¡Œå¯¹è±¡ã€‚</li><li>uint32Â  Run()Â Â è¿è¡Œå¯è¿è¡Œå¯¹è±¡ã€‚</li><li>void Stop()Â åœæ­¢å¯è¿è¡Œå¯¹è±¡ã€‚å¦‚æœè¯·æ±‚çº¿ç¨‹æå‰ç»ˆæ­¢ï¼Œåˆ™è°ƒç”¨æ­¤å‡½æ•°ã€‚</li><li>FSingleThreadRunnable GetSingleThreadInterface()Â è·å–åœ¨ç¦ç”¨å¤šçº¿ç¨‹æ—¶ç”¨äºå‹¾é€‰æ­¤å¯è¿è¡Œé¡¹çš„å•çº¿ç¨‹æ¥å£æŒ‡é’ˆã€‚</li></ul><p><strong>ä»£ç æµç¨‹ç¤ºæ„ï¼š</strong></p><p>è‡ªå®šä¹‰åŸºäºRunnableçš„ç±»</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¤´æ–‡ä»¶</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;HAL/Runnable.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;CoreMinimal.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MX_API</span> FTestRunnable:<span class="keyword">public</span> FRunnable</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">FTestRunnable</span>(FString ThreadName,<span class="keyword">class</span> AActor1* a1) :<span class="built_in">MyThreadName</span>(ThreadName), <span class="built_in">A1</span>(a1) &#123;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">bool</span> <span class="title">Init</span><span class="params">()</span> <span class="keyword">override</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> uint32 <span class="title">Run</span><span class="params">()</span> <span class="keyword">override</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Exit</span><span class="params">()</span> <span class="keyword">override</span></span>;</span><br><span class="line"></span><br><span class="line">    FString MyThreadName;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">AActor1</span>* A1;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    int32 RunCount = <span class="number">0</span>;</span><br><span class="line">    <span class="type">static</span> FCriticalSection CriticalSection;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// æºæ–‡ä»¶</span></span><br><span class="line">FCriticalSection FTestRunnable::CriticalSection;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">FTestRunnable::Init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">UE_LOG</span>(LogTemp, Log, <span class="built_in">TEXT</span>(<span class="string">&quot;%s åˆå§‹åŒ–ï¼&quot;</span>), *MyThreadName);</span><br><span class="line">    <span class="comment">//GEngine-&gt;AddOnScreenDebugMessage(-1, 20, FColor::Red, TEXT(&quot;%s åˆå§‹åŒ–ï¼&quot;), *MyThreadName);</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">IsValid</span>(A1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">uint32 <span class="title">FTestRunnable::Run</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">IsValid</span>(A1))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// åŒæ­¥é” å¦‚æœæ²¡æœ‰è¿™è¡Œä»£ç  æœ€ç»ˆå„ä¸ªçº¿ç¨‹è¿è¡Œçš„æ€»æ¬¡æ•°å°†ä¼šå¤§äºéœ€è¦çš„æ¬¡æ•°</span></span><br><span class="line">        <span class="function">FScopeLock <span class="title">Lock</span><span class="params">(&amp;CriticalSection)</span></span>;</span><br><span class="line">        <span class="keyword">if</span> (A1-&gt;TestCount &lt; A1-&gt;TestTarget)</span><br><span class="line">        &#123;</span><br><span class="line">            A1-&gt;TestCount++;</span><br><span class="line">            RunCount++;</span><br><span class="line">            <span class="comment">// èŠ‚çº¦èµ„æº æ¯100æ¬¡æ‰“å°ä¸€æ¬¡</span></span><br><span class="line">            <span class="keyword">if</span> (RunCount % <span class="number">100</span> == <span class="number">0</span>)</span><br><span class="line">                <span class="built_in">UE_LOG</span>(LogTemp, Log, <span class="built_in">TEXT</span>(<span class="string">&quot;%s %d&quot;</span>), *MyThreadName, RunCount);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;<span class="keyword">break</span>;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">FTestRunnable::Exit</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">UE_LOG</span>(LogTemp, Log, <span class="built_in">TEXT</span>(<span class="string">&quot;%s ç»“æŸè¿è¡Œï¼æ‰§è¡Œæ¬¡æ•°ï¼š%d&quot;</span>), *MyThreadName, RunCount);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œçº¿ç¨‹çš„ç±»ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¤´æ–‡ä»¶</span></span><br><span class="line"><span class="comment">// å®šä¹‰ä¸¤ä¸ªå˜é‡ç”¨äºè®¡æ•°</span></span><br><span class="line">    int32 TestCount;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">UPROPERTY</span>(EditAnywhere)</span><br><span class="line">        int32 TestTarget;</span><br><span class="line"><span class="comment">// æºæ–‡ä»¶ ç”¨äºåˆ›å»ºå’Œå¼€å¯çº¿ç¨‹ è¿™é‡Œæˆ‘æ”¾åœ¨äº†BeginPlayä¸­æ–¹ä¾¿æµ‹è¯•</span></span><br><span class="line">    FTestRunnable* Runnable1 = <span class="keyword">new</span> <span class="built_in">FTestRunnable</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;çº¿ç¨‹1&quot;</span>), <span class="keyword">this</span>);</span><br><span class="line">    FTestRunnable* Runnable2 = <span class="keyword">new</span> <span class="built_in">FTestRunnable</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;çº¿ç¨‹2&quot;</span>), <span class="keyword">this</span>);</span><br><span class="line">    FTestRunnable* Runnable3 = <span class="keyword">new</span> <span class="built_in">FTestRunnable</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;çº¿ç¨‹3&quot;</span>), <span class="keyword">this</span>);</span><br><span class="line">    FRunnableThread* RunnableThread1 = FRunnableThread::<span class="built_in">Create</span>(Runnable1, *Runnable1-&gt;MyThreadName);</span><br><span class="line">    FRunnableThread* RunnableThread2 = FRunnableThread::<span class="built_in">Create</span>(Runnable2, *Runnable2-&gt;MyThreadName);</span><br><span class="line">    FRunnableThread* RunnableThread3 = FRunnableThread::<span class="built_in">Create</span>(Runnable3, *Runnable3-&gt;MyThreadName);</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ç»“æœï¼šè¿™é‡Œæˆ‘è®¾ç½®çš„çº¿ç¨‹è¿è¡Œæ¬¡æ•°ä¸ºï¼š1000000</p><p>LogTemp:çº¿ç¨‹2 354000<br />LogTemp:çº¿ç¨‹2 354100<br />LogTemp:çº¿ç¨‹2 354200<br />LogTemp:çº¿ç¨‹1 428600<br />LogTemp:çº¿ç¨‹1 428700<br />LogTemp:çº¿ç¨‹1 428800<br />LogTemp:çº¿ç¨‹1 428900<br />LogTemp:çº¿ç¨‹3 216400<br />LogTemp:çº¿ç¨‹2 354300<br />LogTemp:çº¿ç¨‹2 354400<br />LogTemp:çº¿ç¨‹2 354500<br />LogTemp:çº¿ç¨‹2 ç»“æŸè¿è¡Œ!æ‰§è¡Œæ¬¡æ•°ï¼š354573<br />LogTemp:çº¿ç¨‹1 ç»“æŸè¿è¡Œ!æ‰§è¡Œæ¬¡æ•°ï¼š428981<br />LogTemp:çº¿ç¨‹3 ç»“æŸè¿è¡Œ!æ‰§è¡Œæ¬¡æ•°ï¼š216446<br />PIE: Play in editor total start time 0.178 seconds.</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UE5å¼‚æ­¥å®ç°æ–¹å¼_ue5 asynctask</title>
      <link href="/2025/04/20/UE/UE5%E5%BC%82%E6%AD%A5%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F_ue5%20asynctask/"/>
      <url>/2025/04/20/UE/UE5%E5%BC%82%E6%AD%A5%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F_ue5%20asynctask/</url>
      
        <content type="html"><![CDATA[<h3 id="1-asynctask"><a class="markdownIt-Anchor" href="#1-asynctask"></a> 1ï¼‰ã€AsyncTask</h3><p>ä¸€å¥—åŸºäºçº¿ç¨‹æ± çš„å¼‚æ­¥ä»»åŠ¡å¤„ç†ç³»ç»Ÿã€‚æ¯åˆ›å»ºä¸€ä¸ªAsyncTaskï¼Œéƒ½ä¼šè¢«åŠ å…¥åˆ°çº¿ç¨‹æ± ä¸­è¿›è¡Œæ‰§è¡Œ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Fill out your copyright notice in the Description page of Project Settings.</span></span><br><span class="line"><span class="comment">//MyAsyncTask.h </span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Async/AsyncWork.h&quot;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FMyAsyncTask</span> : <span class="keyword">public</span> FNonAbandonableTask</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">friend</span> <span class="keyword">class</span> <span class="title class_">FAutoDeleteAsyncTask</span>&lt;FMyAsyncTask&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">FMyAsyncTask</span>();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">DoWork</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">FORCENOINLINE TStatId <span class="title">GetStatId</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">RETURN_QUICK_DECLARE_CYCLE_STAT</span>(FMyAsyncTask, STATGROUP_ThreadPoolAsyncTasks);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">FORCENOINLINE <span class="type">static</span> <span class="type">const</span> TCHAR* <span class="title">GetTaskName</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">TEXT</span>(<span class="string">&quot;FMyAsyncTask&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// MyAsyncTask.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;MyAsyncTask.h&quot;</span></span></span><br><span class="line">FMyAsyncTask::<span class="built_in">FMyAsyncTask</span>()</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">FMyAsyncTask::DoWork</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">UE_LOG</span>(LogTemp, Warning, <span class="built_in">TEXT</span>(<span class="string">&quot;FMyAsyncTask&quot;</span>));</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000000</span>; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">UE_LOG</span>(LogTemp, Warning, <span class="built_in">TEXT</span>(<span class="string">&quot;i = %d&quot;</span>), i);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//UE521TESTCharacter.cpp</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AUE521TESTCharacter::TestAsyncTaskClass</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        FAutoDeleteAsyncTask&lt;FMyAsyncTask&gt;* MyTask = <span class="keyword">new</span> <span class="built_in">FAutoDeleteAsyncTask</span>&lt;FMyAsyncTask&gt;();</span><br><span class="line">        MyTask-&gt;<span class="built_in">StartBackgroundTask</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ€»ç»“</strong><br />ä¸»è¦åº”ç”¨äºåå°çº¿ç¨‹ä¸ŠåŠ è½½èµ„æºã€è¿›è¡Œå¤æ‚çš„è®¡ç®—ã€æˆ–è€…æ‰§è¡Œå…¶ä»–å¯èƒ½ä¼šé˜»å¡ä¸»çº¿ç¨‹çš„æ“ä½œã€‚</p><h3 id="2-async"><a class="markdownIt-Anchor" href="#2-async"></a> 2)ã€Async</h3><p>æœ€ç®€å•åˆ›å»ºå¼‚æ­¥çš„æ–¹å¼</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// UE521TESTCharacter.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Async/Async.h&quot;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AUE521TESTCharacter::TestAsync</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">Async</span>(EAsyncExecution::ThreadPool, []()</span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="comment">// è¿™é‡Œæ˜¯åœ¨åå°çº¿ç¨‹ä¸Šè¿è¡Œçš„ä»£ç </span></span><br><span class="line">                        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000000</span>; ++i)</span><br><span class="line">                        &#123;</span><br><span class="line">                                <span class="built_in">UE_LOG</span>(LogTemp, Warning, <span class="built_in">TEXT</span>(<span class="string">&quot;i = %d&quot;</span>), i);</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-frunnable"><a class="markdownIt-Anchor" href="#3-frunnable"></a> 3ï¼‰ã€FRunnable</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//MyRunnable.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FMyRunnable</span> : <span class="keyword">public</span> FRunnable</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> uint32 <span class="title">Run</span><span class="params">()</span> <span class="keyword">override</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//MyRunnable.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;MyRunnable.h&quot;</span></span></span><br><span class="line"><span class="function">uint32 <span class="title">FMyRunnable::Run</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000000</span>; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">UE_LOG</span>(LogTemp, Warning, <span class="built_in">TEXT</span>(<span class="string">&quot;i = %d&quot;</span>), i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// UE521TESTCharacter</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AUE521TESTCharacter::TestRunnable</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        FMyRunnable* MyRunnable = <span class="keyword">new</span> <span class="built_in">FMyRunnable</span>();</span><br><span class="line">        FRunnableThread* MyThread = FRunnableThread::<span class="built_in">Create</span>(MyRunnable, <span class="built_in">TEXT</span>(<span class="string">&quot;MyThread&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-ä¸‰ç§æ–¹å¼åŒºåˆ«"><a class="markdownIt-Anchor" href="#4-ä¸‰ç§æ–¹å¼åŒºåˆ«"></a> 4ï¼‰ã€ä¸‰ç§æ–¹å¼åŒºåˆ«</h3><p>1ï¼‰ã€AsyncTaskï¼šAsyncTaskæ˜¯ä¸€ä¸ªæ¨¡æ¿ç±»ï¼Œç”¨äºåˆ›å»ºå¯ä»¥åœ¨åå°çº¿ç¨‹ä¸Šè¿è¡Œçš„ä»»åŠ¡ã€‚AsyncTaskå¯ä»¥åœ¨ä»»åŠ¡å®Œæˆåè‡ªåŠ¨åˆ é™¤è‡ªå·±ï¼Œå®ƒéå¸¸é€‚åˆç”¨äºåˆ›å»ºä¸€æ¬¡æ€§çš„å¼‚æ­¥ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨AsyncTaskæ¥å¼‚æ­¥åŠ è½½èµ„æºï¼Œæˆ–è€…è¿›è¡Œä¸€æ¬¡å¤æ‚çš„è®¡ç®—ã€‚<br />2ï¼‰ã€Asyncï¼šAsyncæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºåœ¨åå°çº¿ç¨‹ä¸Šè¿è¡Œä¸€ä¸ªlambdaè¡¨è¾¾å¼ã€‚Asyncå‡½æ•°çš„ä½¿ç”¨æ–¹å¼éå¸¸ç®€å•ï¼Œåªéœ€è¦ä¸€ä¸ªlambdaè¡¨è¾¾å¼ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡ã€‚Asyncå‡½æ•°éå¸¸é€‚åˆç”¨äºåˆ›å»ºç®€å•çš„å¼‚æ­¥ä»»åŠ¡ï¼Œä¾‹å¦‚å¼‚æ­¥åŠ è½½èµ„æºï¼Œæˆ–è€…è¿›è¡Œä¸€æ¬¡å¤æ‚çš„è®¡ç®—ã€‚<br />3ï¼‰ã€FRunnableï¼šFRunnableæ˜¯ä¸€ä¸ªæ¥å£ï¼Œç”¨äºåˆ›å»ºå¯ä»¥åœ¨å•ç‹¬çº¿ç¨‹ä¸Šè¿è¡Œçš„ä»»åŠ¡ã€‚ä¸AsyncTaskå’ŒAsyncä¸åŒï¼ŒFRunnableä»»åŠ¡éœ€è¦æ‰‹åŠ¨ç®¡ç†çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸï¼Œè¿™ä½¿å¾—å®ƒæ›´åŠ çµæ´»ï¼Œä½†ä¹Ÿæ›´éš¾ä½¿ç”¨ã€‚FRunnableéå¸¸é€‚åˆç”¨äºåˆ›å»ºå¤æ‚çš„å¼‚æ­¥ä»»åŠ¡ï¼Œä¾‹å¦‚åˆ›å»ºä¸€ä¸ªåå°çº¿ç¨‹ï¼Œè¿™ä¸ªçº¿ç¨‹å¯ä»¥æŒç»­è¿è¡Œå¹¶å¤„ç†æ¥è‡ªç½‘ç»œçš„æ•°æ®ã€‚<br />æ€»çš„æ¥è¯´ï¼ŒAsyncTaskå’ŒAsyncæ›´é€‚åˆç”¨äºåˆ›å»ºä¸€æ¬¡æ€§çš„å¼‚æ­¥ä»»åŠ¡ï¼Œè€ŒFRunnableæ›´é€‚åˆç”¨äºåˆ›å»ºéœ€è¦é•¿æ—¶é—´è¿è¡Œçš„å¼‚æ­¥ä»»åŠ¡</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµ‹è¯•å·¥å…·ä½¿ç”¨å¿ƒå¾—ï¼šTestbedä¸Klocwork</title>
      <link href="/2025/04/17/TEST/%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8%E5%BF%83%E5%BE%97%EF%BC%9ATestbed%E4%B8%8EKlocwork/"/>
      <url>/2025/04/17/TEST/%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8%E5%BF%83%E5%BE%97%EF%BC%9ATestbed%E4%B8%8EKlocwork/</url>
      
        <content type="html"><![CDATA[<p>åœ¨æµ‹è¯„å·¥ä½œä¸­ï¼Œä¸€èˆ¬é™æ€åˆ†æå’Œé€»è¾‘æµ‹è¯•ä½¿ç”¨Testbedå·¥å…·å¸®åŠ©æµ‹è¯•ï¼Œä»£ç æ‰«æä½¿ç”¨Klocworkå·¥å…·è¾…åŠ©åˆ†æï¼Œæœ¬æ–‡æ˜¯åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­çš„æ€»ç»“ã€‚</p><p><strong>ä¸€ã€æµ‹è¯•ç±»å‹çš„æ€è€ƒ</strong></p><p>é€»è¾‘æµ‹è¯•ï¼šé€‰å–æ ¸å¿ƒä»£ç è¿›è¡Œæ’æ¡©ï¼Œå°†æ’æ¡©åä»£ç æ›¿ä»£åŸä»£ç è¿›è¡Œç¼–è¯‘ï¼Œæ‰§è¡Œç”¨ä¾‹ï¼Œä½¿ç›¸å…³åŠŸèƒ½å…¨éƒ¨æ‰§è¡Œå®Œæˆï¼Œé€šè¿‡testbedæµ‹è¯•å·¥å…·å¯¹è½¯ä»¶çš„è¯­å¥/åˆ†æ”¯è¦†ç›–æƒ…å†µè¿›è¡Œæ£€æŸ¥ï¼Œå¹¶å¯¹æœªè¦†ç›–çš„è¯­å¥è¿›è¡ŒåŸå› åˆ†æï¼š</p><p>1ï¼‰ é€»è¾‘æµ‹è¯•é€‰å®šçš„ä»£ç è¦æœ‰é’ˆå¯¹æ€§çš„é€‰æ‹©å…³é”®æ¨¡å—ä»£ç ï¼Œè¿™æ ·ä¼šæ›´æœ‰è¯´æœåŠ›ï¼›</p><p>2ï¼‰ æ’è£…åçš„ç¨‹åºåº”æŒ‰ç…§æ­¥éª¤è¿›è¡Œä¿®æ”¹ï¼Œè¦ä¸ä¼šåˆ†æä¸å‡ºè¦†ç›–ç‡æ•°æ®ï¼›</p><p>3ï¼‰ å¦‚æœåˆ†æçš„è¦†ç›–ç‡æ•°æ®è¾¾ä¸åˆ°æŒ‡æ ‡è¦æ±‚ï¼Œåº”ä»”ç»†åˆ†æè¦†ç›–ç‡æŠ¥å‘Šä¸­é‚£äº›ç¨‹åºæœªæ‰§è¡Œåˆ°ï¼Œé’ˆå¯¹è¿™äº›æœªæ‰§è¡Œåˆ°çš„ä»£ç ï¼Œæœ‰é’ˆå¯¹æ€§çš„æ‰§è¡ŒåŠ¨æ€æµ‹è¯•ç”¨ä¾‹ï¼Œæ ¹æ®è¾“å‡ºçš„è¦†ç›–æ•°æ®å†è¿›è¡Œè¦†ç›–ç‡åˆ†æï¼›</p><p>4ï¼‰ å¯¹äºç¡®æœ‰æ‰§è¡Œä¸åˆ°ã€çœ‹ä¸æ˜ç™½çš„ä»£ç è¦å’Œå¼€å‘äººåŠæ—¶æ²Ÿé€šï¼Œåˆ†æåŸå› ï¼Œé’ˆå¯¹ä¸ºæ‰§è¡Œåˆ°çš„ä»£ç è¿›è¡Œå åŠ åˆ†æã€‚</p><p>ä»£ç æ‰«æï¼šä½¿ç”¨Klocworkå¯¹ç¼–ç¨‹è§„èŒƒæ€§è¿›è¡Œæ£€æŸ¥ï¼ŒåŒ…æ‹¬ç¼–ç¨‹ç¼ºé™·å’Œå®‰å…¨æ¼æ´ç­‰ï¼Œæäº¤è‡³å¼€å‘äººå‘˜ç¡®è®¤ï¼Œä½¿ç”¨æºç ç»Ÿè®¡ä¸“å®¶ç»Ÿè®¡ä»£ç æ³¨é‡Šç‡ä¸ä½äº20%ã€‚</p><p>é™æ€åˆ†æï¼šç”¨Testbedè¿›è¡Œé™æ€åˆ†æï¼Œåˆ†ææ§åˆ¶æµï¼Œæ£€æµ‹æœ‰æ— ä¸èƒ½è¿è¡Œçš„å•å…ƒï¼Œæœ‰æ— æ— æ•ˆçš„å‡½æ•°å‚æ•°ï¼Œæ‰‡å…¥æ‰‡å‡ºä¸å¤§äº10ï¼Œåœˆå¤æ‚åº¦å°äºç­‰äº7ã€‚</p><p><strong>äºŒã€å·¥å…·çš„æµ‹è¯•æ­¥éª¤</strong></p><p>é€»è¾‘æµ‹è¯•</p><p>1ã€é€‰å–æ ¸å¿ƒä»£ç è¿›è¡Œæ’æ¡©ã€‚ï¼ˆä¸€èˆ¬ä¸ºä»£ç æ€»é‡20%ï¼‰</p><p>2ã€å°†æ’æ¡©åä»£ç æ›´åï¼Œæ›¿ä»£åŸä»£ç è¿›è¡Œç¼–è¯‘ï¼Œæ‰§è¡ŒåŠŸèƒ½ã€æ¥å£æµ‹è¯•ç”¨ä¾‹ï¼Œæ’æ¡©ä»£ç çš„åŠŸèƒ½å…¨éƒ¨æ‰§è¡Œå®Œæˆã€‚</p><p>3ã€å¯¹ç”Ÿæˆçš„exhæ–‡ä»¶è¿›è¡Œåˆ†æã€‚</p><p>è¿›å…¥Set-Select/Create/Delete Setçª—å£ï¼Œè¾“å…¥é¡¹ç›®åç§°ceshi0823ï¼Œç‚¹å‡»Createå¼¹å‡ºçš„çª—å£ä¸­é€‰æ‹©Groupè¿›å…¥Set-List/Add/Remove Files in Setçª—å£ï¼Œç‚¹å‡»Addï¼Œæ·»åŠ éœ€è¦æ’æ¡©çš„ä»£ç ï¼ˆæ’æ¡©ä»£ç æœ€å¥½ä¸å­˜åœ¨ä¸­æ–‡è·¯å¾„ï¼‰ï¼Œç‚¹å‡»OKï¼Œæ·»åŠ æˆåŠŸã€‚</p><p><img src="15326880_2023112414594016uqt.png" alt="" /></p><p>è¿›å…¥Analysis-Select Analysisçª—å£ï¼Œå‹¾é€‰Main Static Analysisï¼ˆåŸºæœ¬é™æ€åˆ†æï¼‰å’ŒGenerate Instrumented Program(s)ï¼ˆç”Ÿæˆæ’æ¡©ç¨‹åºï¼‰ï¼Œç‚¹å‡»Generate Instrumented Program(s)åé¢çš„configureã€‚</p><p><img src="15326880_202311241459431c4IN.png" alt="" /></p><p>å‹¾é€‰ä¸‹å›¾ä¸­çº¢æ¡†æ¡†èµ·æ¥çš„é€‰é¡¹è¿›è¡Œæ’æ¡©é…ç½®ï¼Œç‚¹å‡»OKï¼Œä¿å­˜é…ç½®ä¿¡æ¯ã€‚</p><p><img src="15326880_202311241459471MfFs.png" alt="" /></p><p>ç‚¹å‡»Start Analysis ï¼Œè¿›è¡Œæ’æ¡©ï¼Œæ’æ¡©åç”Ÿæˆä»¥inszt_ä¸ºå‰ç¼€çš„æ–‡ä»¶ã€‚æ­¤æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ä¸è¦è¿›è¡Œåˆ é™¤ã€ç§»åŠ¨ã€ä¿®æ”¹æ“ä½œï¼ˆå¯¹ç»“æœè¿›è¡Œåˆ†ææ—¶testbedè¯†åˆ«æ­¤è·¯å¾„ä¸‹çš„æ–‡ä»¶åŠæ—¶é—´ï¼‰å°†inszt_ä¸ºå‰ç¼€çš„æ–‡ä»¶å¤åˆ¶å‡ºæ¥ï¼Œå»æ‰å‰ç¼€ï¼ŒåŸåæ›¿æ¢ä»£ç ä¸­ç›¸åº”çš„.cæ–‡ä»¶ã€‚è¿›è¡Œç¼–è¯‘åï¼Œæ‰“å¼€è½¯ä»¶ï¼ŒåŠ¨æ€æ‰§è¡ŒåŠŸèƒ½ã€æ¥å£ç­‰æµ‹è¯•ç”¨ä¾‹ï¼Œè¦†ç›–æ’æ¡©çš„åŠŸèƒ½ã€‚</p><p>æ‰§è¡Œå®Œæµ‹è¯•ç”¨ä¾‹åï¼Œé€€å‡ºè½¯ä»¶ã€‚åœ¨ç¨‹åºè·¯å¾„ä¸‹æœç´¢.exhï¼Œæœç´¢åˆ°çš„æ–‡ä»¶ä¸ºæ’æ¡©ç¨‹åºç”Ÿæˆçš„æ–‡ä»¶ï¼Œæ ¼å¼å¦‚ä¸‹æ‰€ç¤ºï¼šæ‰“å¼€åæ¯ä¸€è¡Œæœ‰ä¸€ä¸ªæ•°å­—ï¼ˆ0-255ä¹‹é—´ï¼Œæ•°å­—è¶Šå¤§ï¼Œè¯´æ˜è¦†ç›–ç‡è¶Šé«˜ï¼‰ï¼Œå‰é¢ç©º5ä¸ªæ ¼ã€‚ï¼ˆå½“exhæ–‡ä»¶ä¸ç¬¦åˆæ­¤æ ¼å¼æ—¶ï¼Œéœ€æ‰‹åŠ¨è°ƒæ•´ä¸ºæ­¤æ ¼å¼ï¼‰</p><p><img src="15326880_202311241459501pr3z.png" alt="" /></p><p>è¿›å…¥Analysis-Select Analysisçª—å£ï¼Œå‹¾é€‰Dynamic coverage Analysisï¼Œç‚¹å‡»åé¢çš„configureï¼Œé€‰æ‹©ç”Ÿæˆçš„.exhæ–‡ä»¶å­˜æ”¾è·¯å¾„ï¼ˆæœ€å¥½ä¸è¦ç”¨ä¸­æ–‡è·¯å¾„ï¼‰ï¼Œç‚¹å‡»ç¡®å®šæŒ‰é’®ï¼Œç‚¹å‡»Start Analysis ï¼Œè¿›è¡Œåˆ†ææŸ¥çœ‹åˆ†æç»“æœï¼Œåˆ†æ”¯è¦†ç›–ã€è¯­å¥è¦†ç›–ç‡ã€‚</p><p><img src="15326880_202311241459541Okah.png" alt="" /></p><p><strong>ä»£ç æ‰«æ</strong></p><p>K8å®‰è£…æˆåŠŸåï¼Œé¦–å…ˆä»¥ç®¡ç†å‘˜èº«ä»½Start Klocwork Seversã€‚</p><p>ç‚¹å‡»file-New Projectï¼Œè¾“å…¥é¡¹ç›®åç§°ã€é€‰æ‹©éœ€è¦åˆ†æçš„è¯­è¨€ï¼Œç‚¹å‡»Nextã€‚</p><p><img src="15326880_202311241459571F66H.png" alt="" /></p><p>é€‰æ‹©Bulid from Source Root Directoriesï¼Œç‚¹å‡»Addï¼Œæ·»åŠ æºç æ‰€åœ¨æ–‡ä»¶å¤¹ï¼ˆä¸è¦æœ‰ä¸­æ–‡ï¼‰ï¼Œç‚¹å‡»Finishã€‚</p><p><img src="15326880_202311241500011Sys0.png" alt="" /></p><p>å³é”®ç‚¹å‡»é¡¹ç›®åç§°ï¼Œé€‰æ‹©Buildï¼Œåœ¨å¼¹å‡ºçš„çª—å£ä¸­é€‰æ‹©å­˜æ”¾åˆ†æç»“æœçš„è·¯å¾„ï¼ˆè·¯å¾„ä¸è¦æœ‰ä¸­æ–‡ï¼‰ï¼Œç‚¹å‡»Buildï¼Œè½¯ä»¶å¼€å§‹è¿›è¡Œåˆ†æï¼Œåœ¨å­˜æ”¾ç»“æœè·¯å¾„ä¸‹æŸ¥çœ‹æµ‹è¯•ç»“æœï¼Œæµ‹è¯•ç»“æœä¿å­˜ã€‚</p><p><img src="15326880_202311241500051qcW7.png" alt="" /></p><p>å¯¹éœ€è¦æ‰«æçš„è§„åˆ™è¿›è¡Œå‹¾é€‰ï¼Œç‚¹å‡»OKï¼Œä¿å­˜åè¿›è¡Œæ‰«æã€‚</p><p><img src="15326880_20231124150008170jc.png" alt="" /></p><p><strong>é™æ€åˆ†æ</strong></p><p>è¿›å…¥Set-Select/Create/Delete Setçª—å£ï¼Œè¾“å…¥é¡¹ç›®åç§°ceshi0803-jtï¼Œç‚¹å‡»Createï¼Œå¼¹å‡ºçš„çª—å£ä¸­é€‰æ‹©Systemã€‚</p><p>è¿›å…¥Set-List/Add/Remove Files in Setçª—å£ï¼Œç‚¹å‡»Addï¼Œæ·»åŠ éœ€è¦åˆ†æçš„ä»£ç ã€‚</p><p><img src="15326880_202311241500121x1d2.png" alt="" /></p><p>è¿›å…¥Analysis-Select Analysisçª—å£ï¼Œå‹¾é€‰Main Static Analysisï¼ˆåŸºæœ¬é™æ€åˆ†æï¼‰ã€Complexity Analysisï¼ˆå¤æ‚åº¦åˆ†æï¼‰å’ŒStatic Data Flow Analysisï¼ˆé™æ€æ•°æ®æµåˆ†æï¼‰ï¼Œç‚¹å‡»Start Analysis ï¼Œå¼€å§‹è¿›è¡Œåˆ†æã€‚</p><p><img src="15326880_202311241500151XsNA.png" alt="" /></p><p>åˆ†æå®Œåï¼Œé€‰æ‹©Group Results-Text Results-Quality Review Reportï¼ŒæŸ¥çœ‹è´¨é‡åº¦é‡ç»“æœã€‚</p><p><img src="15326880_202311241500191D3t6.png" alt="" /></p><p><img src="15326880_202311241500241iS2r.png" alt="" /></p>]]></content>
      
      
      <categories>
          
          <category> æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TEST </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç™½ç›’æµ‹è¯•å·¥å…·Testbed ç™½ç›’æµ‹è¯• å·¥å…·</title>
      <link href="/2025/04/17/TEST/%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7Testbed%20%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95%20%E5%B7%A5%E5%85%B7/"/>
      <url>/2025/04/17/TEST/%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7Testbed%20%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95%20%E5%B7%A5%E5%85%B7/</url>
      
        <content type="html"><![CDATA[<p>ç™½ç›’æµ‹è¯•åˆç§°ç»“æ„æµ‹è¯•ã€é€æ˜ç›’æµ‹è¯•ã€é€»è¾‘é©±åŠ¨æµ‹è¯•æˆ–åŸºäºä»£ç çš„æµ‹è¯•ã€‚ç™½ç›’æµ‹è¯•æ˜¯ä¸€ç§æµ‹è¯•ç”¨ä¾‹è®¾è®¡ï¼Œç™½ç›’æŒ‡çš„æ˜¯ç›’å­æ˜¯å¯è§†çš„ï¼Œä½ æ¸…æ¥šç›’å­å†…éƒ¨çš„ä¸œè¥¿ä»¥åŠé‡Œé¢æ˜¯å¦‚ä½•è¿ä½œçš„ã€‚&quot;ç™½ç›’&quot;æ³•å…¨é¢äº†è§£ç¨‹åºå†…éƒ¨é€»è¾‘ç»“æ„ã€å¯¹æ‰€æœ‰é€»è¾‘è·¯å¾„è¿›è¡Œæµ‹è¯•ã€‚&quot;ç™½ç›’&quot;æ³•æ˜¯ç©·ä¸¾è·¯å¾„æµ‹è¯•ã€‚åœ¨ä½¿ç”¨è¿™ä¸€æ–¹æ¡ˆæ—¶ï¼Œæµ‹è¯•è€…å¿…é¡»æ£€æŸ¥ç¨‹åºçš„å†…éƒ¨ç»“æ„ï¼Œä»æ£€æŸ¥ç¨‹åºçš„é€»è¾‘ç€æ‰‹ï¼Œå¾—å‡ºæµ‹è¯•æ•°æ®ã€‚è´¯ç©¿ç¨‹åºçš„ç‹¬ç«‹è·¯å¾„æ•°æ˜¯å¤©æ–‡æ•°å­—ã€‚</p><p>ç™½ç›’æµ‹è¯•æ˜¯ä¸€ç§å…¸å‹çš„æµ‹è¯•æ–¹æ³•<br />â€¢ å®ƒæ˜¯ä¸€ç§æŒ‰ç…§ç¨‹åºå†…éƒ¨é€»è¾‘ç»“æ„å’Œç¼–ç ç»“æ„è®¾è®¡æµ‹è¯•æ•°æ®å¹¶å®Œæˆæµ‹è¯•çš„ä¸€ç§æµ‹è¯•æ–¹æ³•<br />â€¢ æµ‹è¯•è¦†ç›–å…¨éƒ¨ä»£ç ã€åˆ†æ”¯ã€è·¯å¾„å’Œæ¡ä»¶<br />â€¢ å®ƒåˆ©ç”¨æŸ¥çœ‹ä»£ç åŠŸèƒ½å’Œå®ç°æ–¹å¼å¾—åˆ°çš„ä¿¡æ¯æ¥ç¡®å®šå“ªäº›éœ€è¦æµ‹è¯•ã€å“ªäº›ä¸éœ€è¦ã€å¦‚ä½•å±•å¼€æµ‹è¯•<br />â€¢ åˆç§°ä¸ºç»“æ„æµ‹è¯•æˆ–é€»è¾‘é©±åŠ¨æµ‹è¯•ï‚</p><p>ç™½ç›’æµ‹è¯•ç‰¹ç‚¹ä¸»è¦æœ‰<br />â€¢1. å¯ä»¥æ„æˆæµ‹è¯•æ•°æ®ä½¿ç‰¹å®šç¨‹åºéƒ¨åˆ†å¾—åˆ°æµ‹è¯•<br />â€¢2. æœ‰ä¸€å®šçš„å……åˆ†æ€§åº¦é‡æ‰‹æ®µ<br />â€¢3. å¯è·å¾—è¾ƒå¤šå·¥å…·æ”¯æŒ<br />â€¢4. é€šå¸¸åªç”¨äºå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•(ä¸»è¦æ˜¯å•å…ƒæµ‹è¯•)</p><p>ç™½ç›’æµ‹è¯•çš„åŸºæœ¬æµ‹è¯•å†…å®¹<br />ï‚åŸºæœ¬æµ‹è¯•å†…å®¹<br />â€¢å¯¹ç¨‹åºæ¨¡å—çš„æ‰€æœ‰ç‹¬ç«‹æ‰§è¡Œè·¯å¾„è‡³å°‘æµ‹è¯•ä¸€æ¬¡<br />â€¢å¯¹æ‰€æœ‰çš„é€»è¾‘åˆ¤å®šï¼Œå–â€œçœŸâ€ä¸å–â€œå‡â€çš„ä¸¤ç§æƒ…å†µéƒ½è‡³å°‘æµ‹è¯•ä¸€æ¬¡<br />â€¢åœ¨å¾ªç¯çš„è¾¹ç•Œå’Œè¿è¡Œçš„è¾¹ç•Œé™å†…æ‰§è¡Œå¾ªç¯ä½“<br />â€¢æµ‹è¯•å†…éƒ¨æ•°æ®ç»“æ„çš„æœ‰æ•ˆæ€§<br />ï‚ç™½ç›’æµ‹è¯•æ‰€é‡‡ç”¨çš„æµ‹è¯•æ–¹æ³•æ˜¯<br />â€¢é€»è¾‘è¦†ç›–ï¼ˆåŒ…æ‹¬è¯­å¥è¦†ç›–ã€åˆ†æ”¯è¦†ç›–ã€æ¡ä»¶è¦†ç›–ã€åˆ†æ”¯-æ¡ä»¶è¦†ç›–ã€æ¡ä»¶ç»„åˆè¦†ç›–ä»¥åŠè·¯å¾„è¦†ç›–ï¼‰</p><p>å…­ç§é€»è¾‘è¦†ç›–æ ‡å‡†ï¼šè¯­å¥è¦†ç›–ã€åˆ¤å®šè¦†ç›–ã€æ¡ä»¶è¦†ç›–ã€åˆ¤å®š/æ¡ä»¶è¦†ç›–ã€æ¡ä»¶ç»„åˆè¦†ç›–å’Œè·¯å¾„è¦†ç›–å‘ç°é”™è¯¯çš„èƒ½åŠ›å‘ˆç”±å¼±è‡³å¼ºçš„å˜åŒ–ã€‚</p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.webp" alt="ç™½ç›’æµ‹è¯•å·¥å…·Testbed ç™½ç›’æµ‹è¯• å·¥å…·_ç»“æ„" /></p><h6 id="è¯­å¥è¦†ç›–è¦æ±‚ç‹¬ç«‹æ‰§è¡Œè·¯å¾„è‡³å°‘ä¸€æ¬¡-æ¯æ¡è¯­å¥è‡³å°‘æ‰§è¡Œä¸€æ¬¡"><a class="markdownIt-Anchor" href="#è¯­å¥è¦†ç›–è¦æ±‚ç‹¬ç«‹æ‰§è¡Œè·¯å¾„è‡³å°‘ä¸€æ¬¡-æ¯æ¡è¯­å¥è‡³å°‘æ‰§è¡Œä¸€æ¬¡"></a> è¯­å¥è¦†ç›–è¦æ±‚ï¼šç‹¬ç«‹æ‰§è¡Œè·¯å¾„è‡³å°‘ä¸€æ¬¡ã€‚æ¯æ¡è¯­å¥è‡³å°‘æ‰§è¡Œä¸€æ¬¡ã€‚</h6><p>Â·å®ƒå¯¹ç¨‹åºçš„é€»è¾‘è¦†ç›–å¾ˆå°‘ï¼Œæ˜¯å¾ˆå¼±çš„é€»è¾‘è¦†ç›–æ ‡å‡†<br />Â·ä¸ºäº†æ›´å……åˆ†åœ°æµ‹è¯•ç¨‹åºï¼Œéœ€è¦é‡‡ç”¨åè¾¹è®²è¿°çš„å…¶ä»–é€»è¾‘è¦†ç›–æ–¹æ³•<br />Â·ä¸ºäº†æš´éœ²ç¨‹åºä¸­çš„é”™è¯¯ï¼Œè¯­å¥è¦†ç›–æ˜¯æœ€èµ·ç çš„æµ‹è¯•è¦æ±‚ï¼Œè¦æ±‚è®¾è®¡è¶³å¤Ÿå¤šçš„æµ‹è¯•ç”¨ä¾‹ï¼Œä½¿å¾—æ¯ä¸€æ¡è¯­å¥è‡³å°‘è¢«æ‰§è¡Œä¸€æ¬¡</p><p>Â·è¯­å¥è¦†ç›–çš„ä¼˜ç‚¹<br />â€¢ æ£€æŸ¥æ‰€æœ‰è¯­å¥<br />â€¢ ç»“æ„ç®€å•çš„ä»£ç çš„æµ‹è¯•æ•ˆæœè¾ƒå¥½<br />â€¢ å®¹æ˜“å®ç°è‡ªåŠ¨æµ‹è¯•<br />â€¢ ä»£ç è¦†ç›–ç‡é«˜<br />â€¢ å¦‚æœæ˜¯ç¨‹åºå—è¦†ç›–ï¼Œåˆ™ä¸ç”¨è€ƒè™‘ç¨‹åºå—ä¸­çš„æºä»£ç <br />è¯­å¥è¦†ç›–ä¸èƒ½æ£€æŸ¥å‡ºçš„é”™è¯¯æœ‰<br />â€¢ æ¡ä»¶è¯­å¥é”™è¯¯ã€é€»è¾‘è¿ç®—é”™è¯¯ã€å¾ªç¯è¯­å¥é”™è¯¯</p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.1.webp" alt="ç™½ç›’æµ‹è¯•å·¥å…·Testbed ç™½ç›’æµ‹è¯• å·¥å…·_è½¯ä»¶_02" /></p><h6 id="åˆ¤å®šè¦†ç›–è¦æ±‚é€»è¾‘åˆ¤æ–­è‡³å°‘ä¸€æ¬¡-æ¯ä¸ªåˆ¤å®šçš„æ¯ä¸ªåˆ†æ”¯è‡³å°‘æ‰§è¡Œä¸€æ¬¡"><a class="markdownIt-Anchor" href="#åˆ¤å®šè¦†ç›–è¦æ±‚é€»è¾‘åˆ¤æ–­è‡³å°‘ä¸€æ¬¡-æ¯ä¸ªåˆ¤å®šçš„æ¯ä¸ªåˆ†æ”¯è‡³å°‘æ‰§è¡Œä¸€æ¬¡"></a> åˆ¤å®šè¦†ç›–è¦æ±‚ï¼šé€»è¾‘åˆ¤æ–­è‡³å°‘ä¸€æ¬¡ã€‚æ¯ä¸ªåˆ¤å®šçš„æ¯ä¸ªåˆ†æ”¯è‡³å°‘æ‰§è¡Œä¸€æ¬¡ã€‚</h6><p>è¦æ±‚è®¾è®¡åšå¤Ÿå¤šçš„æµ‹è¯•ç”¨ä¾‹ï¼Œä½¿å¾—ç¨‹åºä¸­çš„æ¯ä¸€ä¸ªåˆ†æ”¯è‡³å°‘é€šè¿‡ä¸€æ¬¡<br />â€¢ å³æ¯ä¸€æ¡åˆ†æ”¯è¯­å¥çš„â€œçœŸâ€å€¼å’Œâ€œå‡â€å€¼éƒ½è‡³å°‘æ‰§è¡Œä¸€æ¬¡<br />â€¢ whileè¯­å¥ã€switchè¯­å¥ã€å¼‚å¸¸å¤„ç†ã€è·³è½¬è¯­å¥å’Œä¸‰ç›®è¿ç®—ç¬¦(aï¼Ÿbï¼šc)ç­‰ç­‰åŒæ ·å¯ä»¥ä½¿ç”¨åˆ†æ”¯è¦†ç›–æ¥æµ‹è¯•<br />â€¢ å¯¹å¤šåˆ†æ”¯è¯­å¥ï¼Œå¦‚Cè¯­è¨€ä¸­çš„caseè¯­å¥ï¼Œåˆ†æ”¯è¦†ç›–å¿…é¡»å¯¹æ¯ä¸€ä¸ªåˆ†æ”¯çš„æ¯ä¸€ç§å¯èƒ½çš„ç»“æœéƒ½è¿›è¡Œæµ‹è¯•<br />åˆ¤å®šè¦†ç›–è¦æ¯”è¯­å¥è¦†ç›–æŸ¥é”™èƒ½åŠ›å¼ºä¸€äº›ï¼š<br />â€¢ æ‰§è¡Œäº†åˆ†æ”¯è¦†ç›–ï¼Œå®é™…ä¹Ÿå°±æ‰§è¡Œäº†è¯­å¥è¦†ç›–<br />åˆ¤å®šè¦†ç›–ä¸è¯­å¥è¦†ç›–å­˜åœ¨åŒæ ·çš„ç¼ºç‚¹<br />â€¢ ä¸èƒ½æŸ¥å‡ºæ¡ä»¶è¯­å¥é”™è¯¯ï¼Œä¸èƒ½æŸ¥å‡ºé€»è¾‘è¿ç®—é”™è¯¯ï¼Œä¸èƒ½æŸ¥å‡ºå¾ªç¯æ¬¡æ•°é”™è¯¯ï¼Œä¸èƒ½æŸ¥å‡ºå¾ªç¯æ¡ä»¶é”™è¯¯</p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.2.webp" alt="ç™½ç›’æµ‹è¯•å·¥å…·Testbed ç™½ç›’æµ‹è¯• å·¥å…·_ç™½ç›’æµ‹è¯•_03" /></p><h6 id="æ¡ä»¶è¦†ç›–è¦æ±‚æ¯ä¸ªåˆ¤å®šçš„æ¯ä¸ªæ¡ä»¶åº”å–åˆ°å„ç§å¯èƒ½çš„å€¼"><a class="markdownIt-Anchor" href="#æ¡ä»¶è¦†ç›–è¦æ±‚æ¯ä¸ªåˆ¤å®šçš„æ¯ä¸ªæ¡ä»¶åº”å–åˆ°å„ç§å¯èƒ½çš„å€¼"></a> æ¡ä»¶è¦†ç›–è¦æ±‚ï¼šæ¯ä¸ªåˆ¤å®šçš„æ¯ä¸ªæ¡ä»¶åº”å–åˆ°å„ç§å¯èƒ½çš„å€¼ã€‚</h6><p>ä¸ä»…æ¯ä¸€ä¸ªè¯­å¥è‡³å°‘æ‰§è¡Œä¸€æ¬¡ï¼Œä½¿å¾—åˆ¤å®šä¸­çš„æ¯ä¸ªæ¡ä»¶è·å¾—å„ç§å¯èƒ½ç»“æœ<br />åˆ¤å®šè¦†ç›–åªå…³å¿ƒæ•´ä¸ªåˆ¤å®šè¡¨è¾¾å¼çš„ç»“æœï¼Œæ¡ä»¶è¦†ç›–å…³å¿ƒçš„åˆ™æ˜¯æ¯ä¸ªæ¡ä»¶å„ç§å–å€¼çš„ç»“æœ<br />æ¡ä»¶è¦†ç›–çš„åˆ©å¼Š<br />â€¢âˆ’ èƒ½å¤Ÿæ£€æŸ¥æ‰€æœ‰çš„æ¡ä»¶é”™è¯¯<br />â€¢âˆ’ ä¸èƒ½å®ç°å¯¹æ¯ä¸ªåˆ†æ”¯çš„æ£€æŸ¥<br />â€¢âˆ’ ç”¨ä¾‹æ•°å¢åŠ </p><h6 id="åˆ¤å®šæ¡ä»¶è¦†ç›–è¦æ±‚åŒæ—¶æ»¡è¶³åˆ¤å®šè¦†ç›–æ¡ä»¶è¦†ç›–"><a class="markdownIt-Anchor" href="#åˆ¤å®šæ¡ä»¶è¦†ç›–è¦æ±‚åŒæ—¶æ»¡è¶³åˆ¤å®šè¦†ç›–æ¡ä»¶è¦†ç›–"></a> åˆ¤å®š/æ¡ä»¶è¦†ç›–è¦æ±‚ï¼šåŒæ—¶æ»¡è¶³åˆ¤å®šè¦†ç›–æ¡ä»¶è¦†ç›–ã€‚</h6><p>è®¾è®¡è¶³å¤Ÿå¤šçš„æµ‹è¯•ç”¨ä¾‹ï¼Œä½¿å¾—åˆ¤å®šä¸­æ¯ä¸ªæ¡ä»¶çš„æ‰€æœ‰å¯èƒ½å–å€¼è‡³å°‘èƒ½å¤Ÿè·å–ä¸€æ¬¡ï¼ŒåŒæ—¶æ¯ä¸ªåˆ¤æ–­çš„æ‰€æœ‰å¯èƒ½çš„åˆ¤å®šç»“æœè‡³å°‘æ‰§è¡Œä¸€æ¬¡<br />â€¢âˆ’ ç”¨äºè§£å†³æ¡ä»¶è¦†ç›–ä¸ä¸€å®šåŒ…æ‹¬åˆ¤å®šè¦†ç›–ï¼Œåˆ¤å®šè¦†ç›–ä¹Ÿä¸ä¸€å®šåŒ…æ‹¬æ¡ä»¶è¦†ç›–çš„é—®é¢˜<br />åˆ†æ”¯-æ¡ä»¶è¦†ç›–çš„åˆ©å¼Šï¼š<br />â€¢âˆ’ æ—¢è€ƒè™‘äº†æ¯ä¸€ä¸ªæ¡ä»¶ï¼Œåˆè€ƒè™‘äº†æ¯ä¸€ä¸ªåˆ†æ”¯ï¼Œå‘ç°é”™è¯¯èƒ½åŠ›å¼ºäºåˆ†æ”¯è¦†ç›–å’Œæ¡ä»¶è¦†ç›–<br />â€¢âˆ’ å¹¶ä¸èƒ½å…¨é¢è¦†ç›–æ‰€æœ‰è·¯å¾„<br />â€¢âˆ’ ç”¨ä¾‹æ•°é‡çš„å¢åŠ </p><h6 id="æ¡ä»¶ç»„åˆè¦†ç›–è¦æ±‚æ¯ä¸ªåˆ¤å®šä¸­å„æ¡ä»¶çš„æ¯ä¸€ç§ç»„åˆè‡³å°‘å‡ºç°ä¸€æ¬¡"><a class="markdownIt-Anchor" href="#æ¡ä»¶ç»„åˆè¦†ç›–è¦æ±‚æ¯ä¸ªåˆ¤å®šä¸­å„æ¡ä»¶çš„æ¯ä¸€ç§ç»„åˆè‡³å°‘å‡ºç°ä¸€æ¬¡"></a> æ¡ä»¶ç»„åˆè¦†ç›–è¦æ±‚ï¼šæ¯ä¸ªåˆ¤å®šä¸­å„æ¡ä»¶çš„æ¯ä¸€ç§ç»„åˆè‡³å°‘å‡ºç°ä¸€æ¬¡ã€‚</h6><p>è¦æ±‚è®¾è®¡è¶³å¤Ÿå¤šçš„æµ‹è¯•ç”¨ä¾‹ï¼Œä½¿å¾—æ¯ä¸ªåˆ¤å®šä¸­æ¡ä»¶çš„å„ç§ç»„åˆè‡³å°‘å‡ºç°ä¸€æ¬¡<br />æ»¡è¶³æ¡ä»¶ç»„åˆè¦†ç›–æ ‡å‡†çš„æµ‹è¯•ç”¨ä¾‹ï¼Œä¹Ÿä¸€å®šæ»¡è¶³åˆ¤å®šè¦†ç›–ã€æ¡ä»¶è¦†ç›–å’Œåˆ¤å®š/æ¡ä»¶è¦†ç›–æ ‡å‡†<br />â€¢ æ¡ä»¶ç»„åˆè¦†ç›–æ˜¯å‰é¢å‡ ç§è¦†ç›–æ ‡å‡†ä¸­æœ€å¼ºçš„<br />â€¢ ä½†æ˜¯ï¼Œæ»¡è¶³æ¡ä»¶ç»„åˆè¦†ç›–è¦æ±‚çš„æµ‹è¯•ç”¨ä¾‹å¹¶ä¸ä¸€å®šèƒ½ä½¿ç¨‹åºä¸­çš„æ¯æ¡è·¯å¾„éƒ½æ‰§è¡Œåˆ°</p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.3.webp" alt="ç™½ç›’æµ‹è¯•å·¥å…·Testbed ç™½ç›’æµ‹è¯• å·¥å…·_ç™½ç›’æµ‹è¯•_04" /></p><p>è·¯å¾„è¦†ç›–è¦æ±‚ï¼šä½¿ç¨‹åºä¸­æ¯ä¸€æ¡å¯èƒ½çš„è·¯å¾„è‡³å°‘æ‰§è¡Œä¸€æ¬¡ã€‚Â æ‰€æœ‰å‡ºå…¥å£æµ‹è¯•ã€‚(å…¨è¦†ç›–)</p><p>è¦†ç›–ç‡ï¼šé€»è¾‘ä¸åŠŸèƒ½è¦†ç›– = è‡³å°‘ä¸€æ¬¡items/æ€»itemæ•°ã€‚</p><p>ç¨‹åºæµç¨‹å›¾çš„å„ä¸ªç¬¦å·ï¼š</p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.4.webp" alt="ç™½ç›’æµ‹è¯•å·¥å…·Testbed ç™½ç›’æµ‹è¯• å·¥å…·_ç™½ç›’æµ‹è¯•å·¥å…·Testbed_05" /></p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.5.webp" alt="ç™½ç›’æµ‹è¯•å·¥å…·Testbed ç™½ç›’æµ‹è¯• å·¥å…·_ç™½ç›’æµ‹è¯•_06" /></p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.6.webp" alt="ç™½ç›’æµ‹è¯•å·¥å…·Testbed ç™½ç›’æµ‹è¯• å·¥å…·_è®¾è®¡_07" /></p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.7.webp" alt="ç™½ç›’æµ‹è¯•å·¥å…·Testbed ç™½ç›’æµ‹è¯• å·¥å…·_è½¯ä»¶_08" /></p><h6 id="ç¨‹åºå›¾"><a class="markdownIt-Anchor" href="#ç¨‹åºå›¾"></a> ç¨‹åºå›¾</h6><p>å®šä¹‰ï¼šç»™å®šä¸€ä¸ªé‡‡ç”¨å‘½ä»¤å¼ç¨‹åºè®¾è®¡è¯­è¨€ç¼–å†™çš„ç¨‹åºï¼Œå…¶ç¨‹åºå›¾æ˜¯ä¸€ç§æœ‰å‘å›¾ï¼Œå…¶ä¸­ï¼š<br />â€¢ä¼ ç»Ÿå®šä¹‰ï¼š<br />â€¢ èŠ‚ç‚¹æ˜¯ç¨‹åºè¯­å¥ï¼Œè¾¹è¡¨ç¤ºæ§åˆ¶æµï¼ˆä»èŠ‚ç‚¹iåˆ°èŠ‚ç‚¹jæœ‰ä¸€æ¡è¾¹ï¼Œå½“ä¸”ä»…å½“å¯¹åº”èŠ‚ç‚¹jçš„è¯­å¥å¯ä»¥ç«‹å³åœ¨èŠ‚ç‚¹iå¯¹åº”çš„è¯­å¥ä¹‹åæ‰§è¡Œï¼‰ã€‚<br />â€¢æ”¹è¿›åçš„å®šä¹‰ï¼š<br />â€¢ èŠ‚ç‚¹è¦ä¹ˆæ˜¯æ•´ä¸ªè¯­å¥ï¼Œè¦ä¹ˆæ˜¯è¯­å¥çš„ä¸€éƒ¨åˆ†ï¼Œè¾¹è¡¨ç¤ºæ§åˆ¶æµï¼ˆä»èŠ‚ç‚¹iåˆ°èŠ‚ç‚¹jæœ‰ä¸€æ¡è¾¹,å½“ä¸”ä»…å½“å¯¹åº”èŠ‚ç‚¹jçš„è¯­å¥æˆ–è¯­å¥çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥ç«‹å³åœ¨èŠ‚ç‚¹iå¯¹åº”çš„è¯­å¥æˆ–è¯­å¥çš„ä¸€éƒ¨åˆ†ä¹‹åæ‰§è¡Œï¼‰</p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.8.webp" alt="ç™½ç›’æµ‹è¯•å·¥å…·Testbed ç™½ç›’æµ‹è¯• å·¥å…·_ç™½ç›’æµ‹è¯•å·¥å…·Testbed_09" /></p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.9.webp" alt="ç™½ç›’æµ‹è¯•å·¥å…·Testbed ç™½ç›’æµ‹è¯• å·¥å…·_è®¾è®¡_10" /></p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.10.webp" alt="ç™½ç›’æµ‹è¯•å·¥å…·Testbed ç™½ç›’æµ‹è¯• å·¥å…·_ç»“æ„_11" /></p><p>ç¯å½¢å¤æ‚åº¦(McCabeåº¦é‡æ³•)æ˜¯ä¸€ç§ä¸ºç¨‹åºé€»è¾‘å¤æ‚æ€§æä¾›å®šé‡æµ‹åº¦çš„Â <a href="http://baike.baidu.com/view/1659931.htm">è½¯ä»¶åº¦é‡</a>ï¼Œå°†è¯¥åº¦é‡ç”¨äºè®¡ç®—ç¨‹åºçš„åŸºæœ¬çš„ç‹¬ç«‹è·¯å¾„æ•°ç›®ï¼Œä¸ºç¡®ä¿æ‰€æœ‰è¯­å¥è‡³å°‘æ‰§è¡Œä¸€æ¬¡çš„æµ‹åº¦æ•°é‡çš„ä¸Šç•Œã€‚</p><p>èŒƒä¾‹ï¼š</p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.11.webp" alt="ç™½ç›’æµ‹è¯•å·¥å…·Testbed ç™½ç›’æµ‹è¯• å·¥å…·_ç™½ç›’æµ‹è¯•_12" /></p><p>å¤æ‚åº¦:6</p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.12.webp" alt="ç™½ç›’æµ‹è¯•å·¥å…·Testbed ç™½ç›’æµ‹è¯• å·¥å…·_è®¾è®¡_13" /></p><p>å¤æ‚åº¦:3</p>]]></content>
      
      
      <categories>
          
          <category> æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TEST </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨testbedè¿›è¡Œä»£ç é™æ€åˆ†æçš„æ­¥éª¤è¯¦è§£</title>
      <link href="/2025/04/17/TEST/%E4%BD%BF%E7%94%A8testbed%E8%BF%9B%E8%A1%8C%E4%BB%A3%E7%A0%81%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90%E7%9A%84%E6%AD%A5%E9%AA%A4%E8%AF%A6%E8%A7%A3/"/>
      <url>/2025/04/17/TEST/%E4%BD%BF%E7%94%A8testbed%E8%BF%9B%E8%A1%8C%E4%BB%A3%E7%A0%81%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90%E7%9A%84%E6%AD%A5%E9%AA%A4%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨testbedè¿›è¡Œä»£ç çš„é™æ€åˆ†æä¸»è¦æœ‰å››ä¸ªæ­¥éª¤ï¼š</p><p>é€‰æ‹©åˆ†æå¯¹è±¡</p><p>åˆ†æå‰çš„è®¾ç½®</p><p>åˆ†æé¡¹çš„é€‰æ‹©ä¸åˆ†æè¿‡ç¨‹</p><p>æŸ¥çœ‹åˆ†æç»“æœ</p><p>1ã€é€‰æ‹©åˆ†æå¯¹è±¡</p><p>å¯é€šè¿‡ä¸¤ç§æ–¹å¼é€‰æ‹©è¢«åˆ†æå¯¹è±¡ï¼šå•ä¸ªæ–‡ä»¶åˆ†æã€ä»¥é›†ï¼ˆsetï¼‰çš„å½¢å¼åˆ†æï¼Œå…¶ä¸­ä»¥setå½¢å¼å¯ä¸€æ¬¡åˆ†æå¤šä¸ªæ–‡ä»¶</p><p>è¿›è¡Œå•ä¸ªæ–‡ä»¶åˆ†ææ—¶ï¼Œç‚¹å‡»testbedèœå•file-select fileæ‰“å¼€è¦åˆ†æçš„æ–‡ä»¶ç‚¹å‡»selectå³å¯,å¯åœ¨å·¥å…·å¿«æ·æŒ‰é’®æ ä¸‹æ–¹çœ‹è§æ‰€é€‰æ‹©çš„æ–‡ä»¶</p><p><img src="707774df45c1cea8deee664b287d9a62.png" alt="" /></p><p><img src="c98ffbe7f4db64f4965ac991be1b9ffc.png" alt="" /></p><p>ä»¥setå½¢å¼è¿›è¡Œåˆ†ææ—¶ï¼Œç‚¹å‡»testbedèœå•Set-select/create/delete setsåˆ›å»ºä¸€ä¸ªset</p><p><img src="d0493ac11c36763687a727d7a4ed6ce8.png" alt="" /></p><p>è¾“å…¥setåç‚¹å‡»createåä¼šå¼¹å‡ºsetçš„å±æ€§è®¾ç½®å¯¹è¯æ¡†ï¼Œæœ‰ä¸¤ç§å±æ€§ï¼šgroupå’Œsystem</p><p><img src="93cbb95d3898f7b8d780b34a7bc32f20.png" alt="" /></p><p><img src="3b4debd0c205525e25d1ca3a77cd57c0.png" alt="" /></p><p>åˆ›å»ºå¥½setåå¯çœ‹è§setååŠå…¶å±æ€§</p><p><img src="28efbbc37b393fd5b0b7c72f1478cb25.png" alt="" /></p><p>æ¥ä¸‹æ¥å‘é›†åˆä¸­æ·»åŠ æ–‡ä»¶ï¼Œç‚¹å‡»testbedèœå•set-list/add/remove files in setsï¼Œåœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­ç‚¹å‡»addæ·»åŠ å¤šä¸ªæ–‡ä»¶åˆ°setä¸­</p><p><img src="9b570d2c5cd9b18598cea8d208fc0c92.png" alt="" /></p><p>2ã€åˆ†æå‰çš„è®¾ç½®</p><p><strong>åŸºæœ¬é™æ€è®¾ç½®</strong></p><p>ç‚¹å‡»testbedèœå•configure-static optionï¼Œå¼¹å‡ºstatic analysis optionå¯¹è¯æ¡†</p><p><img src="59016575700f89275ca6845a9e70548e.png" alt="" /></p><p>é€‰é¡¹å¡include filesä¸­çš„å†…å®¹æ˜¯å¯¹å¤´æ–‡ä»¶çš„è®¾ç½®ï¼Œå…¶ä¸­ï¼š</p><p>analysis include filesåŒºåŸŸè®¾å®šæ˜¯å¦åˆ†æå¤´æ–‡ä»¶ï¼Œä¸€èˆ¬é€‰æ‹©ç¬¬äºŒç§analysis the first instance of each found include</p><p>interactive include file analysis åŒºåŸŸè®¾å®šä»£ç ä¸­å‡ºç°å¤´æ–‡ä»¶åŒ…å«è¯­å¥æ—¶ï¼Œtestbedä¸ç”¨æˆ·çš„äº¤äº’æ–¹å¼ï¼Œä¸€èˆ¬é€‰æ‹©ç¬¬ä¸‰ç§display dialog only when include file not found</p><p>include search directoriesåŒºåŸŸè®¾ç½®å¤´æ–‡ä»¶çš„æŸ¥æ‰¾ç›®å½•å’Œç³»ç»Ÿå¤´æ–‡ä»¶çš„å¤„ç†æ–¹å¼ï¼Œå…¶ä¸­search optionsè®¾ç½®å¤´æ–‡ä»¶çš„æŸ¥æ‰¾ç›®å½•ï¼Œåˆ†æå‰é¡»æ·»åŠ å¤´æ–‡ä»¶ç›®å½•ï¼Œsystem include searchè®¾ç½®ç³»ç»Ÿå¤´æ–‡ä»¶çš„å±•å¼€æ–¹å¼ï¼Œå»ºè®®è®¾ä¸ºdonâ€™t expand</p><p><img src="fc9f2fdea695ed6f5fc8b11e9f22caa1.png" alt="" /></p><p>é€‰é¡¹å¡macrosè®¾å®šç”¨æˆ·ä»£ç ç¼–è¯‘å®çš„å¤„ç†æ–¹å¼</p><p><img src="e55dedfc3fe5a97d12bf336a3694d4fe.png" alt="" /></p><p>sysppvaråŒºåŸŸè®¾ç½®ç¼–è¯‘å®çš„å®šä¹‰ï¼Œå¯¹äºåœ¨ç¼–è¯‘å‘½ä»¤ä¸­å®šä¹‰çš„å®ï¼Œè€Œåœ¨ä»£ç ä¸­ä½¿ç”¨æ­¤å®å½±å“ä»£ç çš„ç¼–è¯‘çš„æƒ…å†µï¼Œéœ€è¦ç”¨æˆ·æŠŠè¯¥å®æ·»åŠ åˆ°testbedçš„è®¾ç½®æ–‡ä»¶ä¸­ï¼Œå¯ç‚¹å‡»edit defaultæ‰“å¼€æ–‡ä»¶sysppvar.datï¼Œåœ¨æ­¤æ–‡ä»¶ä¸­æ·»åŠ ç›¸åº”çš„å®å®šä¹‰</p><p>interactive conditional preprocessing optionsåŒºåŸŸè®¾ç½®é’ˆå¯¹ä»£ç ä¸­æœªè¯†åˆ«çš„å®çš„å¤„ç†åŠäº¤äº’æ–¹å¼ï¼Œé€‰ä¸­interactive preprocessingæ—¶ï¼Œå‡ºç°æœªè¯†åˆ«çš„å®æ—¶ä¼šå¼¹å‡ºå¯¹è¯æ¡†è®©ç”¨æˆ·å®šä¹‰æ­¤å®ï¼ŒAutoMacroè®¾å®šå®çš„è‡ªåŠ¨å®šä¹‰å¤„ç†æ–¹å¼ï¼š</p><p>Enable-promt for macro vauleå¼¹çª—æç¤ºå¹¶è®©ç”¨æˆ·æŒ‡å®šå®å€¼</p><p>Enable-no promt , use default ä¸å¼¹çª—æç¤ºï¼Œä½¿ç”¨é»˜è®¤å€¼</p><p>Disable-stop static analysis å¼¹çª—ï¼Œå¹¶åœæ­¢åˆ†æ</p><p><strong>ä»£ç è¯„å®¡æŠ¥å‘Šè®¾å®š</strong></p><p>ç‚¹å‡»testbed èœå•configure-quality report optionsï¼Œå¼¹å‡ºå¯¹è¯æ¡†quality reportï¼Œåœ¨é€‰é¡¹å¡report based congiguration ä¸­çš„programming standards modelåŒºåŸŸé€‰æ‹©è¿›è¡Œç¼–ç è§„åˆ™æ£€æŸ¥æ‰€ä½¿ç”¨çš„è§„åˆ™é›†ï¼Œåœ¨additional detailÂ  for each standards violationåŒºåŸŸè®¾å®šåˆ†æç»“æœæŠ¥å‘Šæ˜¯å¦åŒ…å«æºä»£ç è¡Œå·å’Œæ ¼å¼åŒ–åçš„ä»£ç è¡Œå·</p><p><img src="538f44da9c16adead673c854bb39e2ef.png" alt="" /></p><p>åœ¨é€‰é¡¹å¡data filesä¸­çš„standards models editoråŒºåŸŸç‚¹å‡»launch editorå¯ä»¥æ‰“å¼€ç¼–ç è§„åˆ™å›¾å½¢åŒ–å®šåˆ¶é¡µé¢å®ç°è§„åˆ™é›†çš„å®šåˆ¶</p><p><strong>è´¨é‡è¯„å®¡æŠ¥å‘Šè®¾å®š</strong></p><p>ç‚¹å‡»testbedèœå•configure-metrics report optionsï¼Œå¼¹å‡ºmetrics reportå¯¹è¯æ¡†ï¼Œåœ¨metpen configurationåŒºåŸŸå¯ä»¥è®¾å®šè´¨é‡è¯„å®¡æŠ¥å‘Šä¸­æ¯ä¸ªåº¦é‡å…ƒçš„ä¸Šä¸‹é™é˜ˆå€¼ï¼Œå®šåˆ¶è´¨é‡æ¨¡å‹ï¼Œç‚¹å‡»C:\LDRA_Toolsuite\metpen.datåçš„editï¼Œæ‰“å¼€è´¨é‡æ¨¡å‹é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹æ­¤æ–‡ä»¶ä¸­åº¦é‡å…ƒçš„ä¸Šä¸‹é™é˜ˆå€¼å³å¯ä¿®æ”¹è´¨é‡æ¨¡å‹</p><p><strong>æ•°æ®å¯¹è±¡åˆ†ææŠ¥å‘Šè®¾å®š</strong></p><p>ç‚¹å‡»configure-data object analysis report optionsï¼Œå¼¹å‡ºdata object analysis configuration å¯¹è¯æ¡†ï¼Œè®¾å®šæ•°æ®å¯¹è±¡åˆ†ææŠ¥å‘Šä¸­æ˜¾ç¤ºçš„å¯¹è±¡èŒƒå›´</p><p>3ã€åˆ†æé¡¹çš„é€‰æ‹©ä¸åˆ†æè¿‡ç¨‹</p><p>ç‚¹å‡»èœå•analysis-select analysisï¼Œåœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­é€‰æ‹©è¦æ‰§è¡Œçš„é™æ€åˆ†æé¡¹ï¼Œæ¥ç€ç‚¹å‡»start analysiså¼€å§‹åˆ†æ</p><p>4ã€æŸ¥çœ‹åˆ†æç»“æœ</p><p><strong>å•ä¸ªæ–‡ä»¶ç»“æœæŸ¥çœ‹</strong></p><p>ç‚¹å‡»èœå•individual results å¯çœ‹åˆ°ä¸‹æ‹‰é¡¹source code ã€text resultsã€graphical resultsåˆ†åˆ«æ˜¾ç¤ºäº†åˆ†æç»“æœï¼Œè¿™ä¸‰ä¸ªä¸‹æ‹‰é¡¹åˆ†åˆ«å±•å¼€å¯æŸ¥çœ‹è¯¦ç»†çš„åˆ†ç±»ç»“æœ</p><p><strong>setçš„ç»“æœæŸ¥çœ‹</strong></p><p>ç‚¹å‡»èœå•set results å¯çœ‹åˆ°ä¸‹æ‹‰é¡¹text resultsã€graphical resultsåˆ†åˆ«æ˜¾ç¤ºäº†åˆ†æç»“æœï¼Œè¿™ä¸¤ä¸ªä¸‹æ‹‰é¡¹åˆ†åˆ«å±•å¼€å¯æŸ¥çœ‹è¯¦ç»†çš„åˆ†ç±»ç»“æœ</p>]]></content>
      
      
      <categories>
          
          <category> æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TEST </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è½¯ä»¶å¼€å‘çš„å››å¤§æ‚–è®º</title>
      <link href="/2025/04/17/Other/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E7%9A%84%E5%9B%9B%E5%A4%A7%E6%82%96%E8%AE%BA/"/>
      <url>/2025/04/17/Other/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E7%9A%84%E5%9B%9B%E5%A4%A7%E6%82%96%E8%AE%BA/</url>
      
        <content type="html"><![CDATA[<p>Infoworld ç‰¹çº¦æ’°ç¨¿äººÂ Nick Hodges å‘å¸ƒäº†ä¸€ç¯‡åä¸º â€œFour paradoxes of software developmentâ€ çš„æ–‡ç« ï¼Œé˜è¿°äº†ä»–çœ¼ä¸­çš„è½¯ä»¶å¼€å‘é¢†åŸŸçš„å››å¤§æ‚–è®ºã€‚</p><p>å…¨æ–‡å†…å®¹å¦‚ä¸‹ï¼š</p><blockquote><h3 id="æ¡¥æ¢å»ºè®¾-vs-è½¯ä»¶å¼€å‘å››ä¸ªä»¤äººå›°æƒ‘çš„æ‚–è®º"><a class="markdownIt-Anchor" href="#æ¡¥æ¢å»ºè®¾-vs-è½¯ä»¶å¼€å‘å››ä¸ªä»¤äººå›°æƒ‘çš„æ‚–è®º"></a> <strong>æ¡¥æ¢å»ºè®¾ vs è½¯ä»¶å¼€å‘ï¼šå››ä¸ªä»¤äººå›°æƒ‘çš„æ‚–è®º</strong></h3><p>åœŸæœ¨å·¥ç¨‹å¸ˆå¯ä»¥ç†ç›´æ°”å£®åœ°è¯´ï¼Œä¸–ç•Œä¸Šæ²¡æœ‰ä¸¤åº§å®Œå…¨ç›¸åŒçš„æ¡¥æ¢ã€‚ç„¶è€Œï¼Œæ¡¥æ¢å…±äº«è®¸å¤šå·²çŸ¥ç‰¹æ€§ï¼Œå…¶å»ºç­‘ææ–™ä¹Ÿæœ‰æ˜ç¡®å‚æ•°ã€‚æ¡¥æ¢å»ºè®¾æ¶‰åŠå¤§é‡å·²çŸ¥çš„å·²çŸ¥é¡¹ï¼ŒæœªçŸ¥çš„æœªçŸ¥é¡¹è¿œæ¯”äººä»¬æƒ³è±¡çš„å°‘å¾—å¤šã€‚</p><p>æˆ‘å¹¶éåœŸæœ¨å·¥ç¨‹å¸ˆï¼Œå¯¹è®¾è®¡å’Œå»ºé€ æ¡¥æ¢çš„æ°å‡ºäººå£«å……æ»¡æ•¬æ„ã€‚ä½†æˆ‘æƒ³é€šè¿‡è¿™ç§å¯¹æ¯”è¯´æ˜ï¼š<strong>ç¼–å†™ä¼˜ç§€ã€å¯è¿è¡Œçš„è½¯ä»¶æå…¶å›°éš¾</strong>ã€‚è½¯ä»¶å¼€å‘å›¢é˜Ÿæ‰¿æ¥çš„æ¯ä¸ªé¡¹ç›®éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ã€‚å°½ç®¡é¡¹ç›®ä¹‹é—´å­˜åœ¨ç›¸ä¼¼æ€§ï¼Œä½†æ¯ä¸ªè½¯ä»¶é¡¹ç›®éƒ½æœ‰å…¶ç‹¬ç‰¹çš„ç»†å¾®å·®åˆ«ã€éœ€æ±‚ï¼Œä»¥åŠå¤§é‡çš„æœªçŸ¥æœªçŸ¥é¡¹ã€‚</p><p>æˆ–è€…è¯´ï¼Œè½¯ä»¶å¼€å‘å……æ»¡äº†éš¾ä»¥å¤„ç†çš„æ‚–è®ºã€‚ä»¥ä¸‹æ˜¯å››ä¸ªå…¸å‹æ¡ˆä¾‹ï¼š</p><h4 id="æ‚–è®ºä¸€æ— äººçŸ¥æ™“å·¥æœŸä½†å®¢æˆ·åšæŒè¦äº¤ä»˜æ—¥æœŸ"><a class="markdownIt-Anchor" href="#æ‚–è®ºä¸€æ— äººçŸ¥æ™“å·¥æœŸä½†å®¢æˆ·åšæŒè¦äº¤ä»˜æ—¥æœŸ"></a> <strong>æ‚–è®ºä¸€ï¼šæ— äººçŸ¥æ™“å·¥æœŸï¼Œä½†å®¢æˆ·åšæŒè¦äº¤ä»˜æ—¥æœŸ</strong></h4><p>å¦ç‡åœ°è¯´ï¼Œè¿™å¯èƒ½æ˜¯è½¯ä»¶å¼€å‘ç»„ç»‡é¢ä¸´çš„æœ€å¤§æŒ‘æˆ˜ã€‚æˆ‘ä»¬æ ¹æœ¬æ— æ³•ç¡®å®šä»»ä½•é¡¹ç›®éœ€è¦å¤šé•¿æ—¶é—´ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥ä¼°ç®—ï¼Œä½†ç»“æœå‡ ä¹æ€»æ˜¯å¤§é”™ç‰¹é”™ â€”â€” æœ‰æ—¶ä¸¥é‡é«˜ä¼°ï¼Œä½†æ›´å¤šæ—¶å€™æ˜¯ä¸¥é‡ä½ä¼°ã€‚</p><p>å¯¹å®¢æˆ·è€Œè¨€ï¼Œè¿™æ—¢ç¥ç§˜åˆç—›è‹¦ã€‚ç”±äºä¸ç†è§£æ‚–è®ºçš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œä»–ä»¬ä¸æ˜ç™½ä¸ºä½•æ— æ³•ç¡®å®šæ–°è½¯ä»¶çš„äº¤ä»˜æ—¶é—´ã€‚å½“è½¯ä»¶æœªèƒ½å¦‚æœŸäº¤ä»˜æ—¶ï¼ŒæŒ«è´¥æ„Ÿè‡ªç„¶äº§ç”Ÿã€‚</p><p>æˆ‘ä»¬å°è¯•ä½¿ç”¨ story pointsã€planning poker å’Œå…¶ä»–æ•æ·æ–¹æ³•æ¥é¢„æµ‹è¿›åº¦ï¼Œä½†å§‹ç»ˆæ— æ³•æ‘†è„±éœå¤«æ–½å¡”ç‰¹å®šå¾‹ï¼ˆHofstadterâ€™s Lawï¼‰çš„é­”å’’ï¼šå³ä½¿è€ƒè™‘äº†éœå¤«æ–½å¡”ç‰¹å®šå¾‹ï¼Œäº‹æƒ…æ€»ä¼šæ¯”ä½ é¢„æœŸçš„æ›´ä¹…ã€‚</p><h4 id="æ‚–è®ºäºŒå‘å»¶æœŸé¡¹ç›®åŠ æ´¾äººæ‰‹åªä¼šè®©é¡¹ç›®æ›´æ™š"><a class="markdownIt-Anchor" href="#æ‚–è®ºäºŒå‘å»¶æœŸé¡¹ç›®åŠ æ´¾äººæ‰‹åªä¼šè®©é¡¹ç›®æ›´æ™š"></a> <strong>æ‚–è®ºäºŒï¼šå‘å»¶æœŸé¡¹ç›®åŠ æ´¾äººæ‰‹ï¼Œåªä¼šè®©é¡¹ç›®æ›´æ™š</strong></h4><p>è¿™æ¡è¢«ç§°ä¸ºå¸ƒé²å…‹æ–¯å®šå¾‹ï¼ˆBrooksâ€™s Lawï¼‰çš„è§„åˆ™ï¼Œå¯¹æ—è§‚è€…è€Œè¨€å¯èƒ½æ˜¯æœ€è¯¡å¼‚çš„æ‚–è®ºã€‚</p><p>é€šå¸¸ï¼Œå¦‚æœä½ å‘ç°æ— æ³•æŒ‰æ—¶å®Œæˆç‰™è†ç®¡çŒè£…ä»»åŠ¡ï¼Œå¯ä»¥é€šè¿‡å¢åŠ äººæ‰‹æ¥èµ¶ä¸Šæˆªæ­¢æ—¥æœŸã€‚å¦‚æœä½ æƒ³åœ¨ä¸€å¹´å†…å»ºé€ åŒå€æ•°é‡çš„æˆ¿å±‹ï¼Œé€šå¸¸åªéœ€åŒå€æŠ•å…¥åŠ³åŠ¨åŠ›å’Œææ–™å³å¯å®ç°ï¼ˆè¯¯å·®å¾ˆå°ï¼‰ã€‚</p><p>ç„¶è€Œï¼Œæ­£å¦‚å¼—é›·å¾·ãƒ»å¸ƒé²å…‹æ–¯ï¼ˆFred Brooksï¼‰åœ¨å…¶è‘—ä½œã€Šäººæœˆç¥è¯ã€‹ä¸­æ‰€æ­ç¤ºçš„ï¼šâ€œå‘å»¶æœŸçš„è½¯ä»¶é¡¹ç›®å¢åŠ äººåŠ›ï¼Œåªä¼šè®©å®ƒæ›´æ™šã€‚â€ è¿™æ˜¯ä¸€ä¸ªæ‚–è®ºï¼Œå´æ˜¯è½¯ä»¶å¼€å‘é¢†åŸŸæœ€æ¥è¿‘å®šå¾‹çš„çœŸç†ã€‚å¸ƒé²å…‹æ–¯æŒ‡å‡ºï¼Œæ–°æˆå‘˜éœ€è¦æ—¶é—´ç†è§£å¤æ‚ç³»ç»Ÿçš„ä¸Šä¸‹æ–‡ï¼Œå¹¶å¢åŠ æ²Ÿé€šæˆæœ¬ï¼Œå› æ­¤æ— æ³•ç«‹å³è´¡çŒ®ç”Ÿäº§åŠ› â€”â€” è¿™åè€Œä¼šå»¶é•¿é¡¹ç›®å‘¨æœŸå¹¶æ¨é«˜æˆæœ¬ã€‚</p><h4 id="æ‚–è®ºä¸‰ç¼–ç èƒ½åŠ›è¶Šå¼ºç¼–ç é‡åè€Œè¶Šå°‘"><a class="markdownIt-Anchor" href="#æ‚–è®ºä¸‰ç¼–ç èƒ½åŠ›è¶Šå¼ºç¼–ç é‡åè€Œè¶Šå°‘"></a> <strong>æ‚–è®ºä¸‰ï¼šç¼–ç èƒ½åŠ›è¶Šå¼ºï¼Œç¼–ç é‡åè€Œè¶Šå°‘</strong></h4><p>æˆä¸ºä¸€åç»éªŒä¸°å¯Œçš„è½¯ä»¶å¼€å‘è€…éœ€è¦å¤šå¹´ç§¯ç´¯ã€‚å­¦ä¹ æ­£ç¡®çš„ç¼–ç æ–¹å¼ã€è®¾è®¡æ–¹æ³•ï¼Œä»¥åŠç¼–å†™æ•´æ´å¯ç»´æŠ¤ä»£ç çš„è§„åˆ™ä¸æŠ€å·§ï¼Œç»éä¸€æ—¥ä¹‹åŠŸã€‚</p><p>ä½†è®½åˆºçš„æ˜¯ï¼Œéšç€ç»éªŒå¢é•¿ï¼Œä½ å¾€å¾€ä¼šè¢«æ¨å‘é¢†å¯¼å²—ä½ï¼Œå®é™…ç¼–ç é‡åè€Œå‡å°‘ã€‚ä½ ä¸å†å†™ä»£ç ï¼Œè€Œæ˜¯å‚åŠ è®¾è®¡ä¼šè®®ã€å®¡æŸ¥ä»–äººä»£ç ã€ç®¡ç†å›¢é˜Ÿã€‚æœ‰æ—¶ï¼Œä½ ç”šè‡³å› æ™‹å‡è€Œå½»åº•å‘Šåˆ«ç¼–ç ã€‚</p><p>è¿™å¹¶ä¸æ„å‘³ç€èµ„æ·±å¼€å‘è€…çš„è´¡çŒ®å‡å°‘ã€‚é€šè¿‡è§„åˆ’é¡¹ç›®ã€æŒ‡å¯¼æ–°äººã€ç»´æŠ¤ç¼–ç æ ‡å‡†ï¼Œå¹¶ç¡®ä¿å›¢é˜Ÿäº§å‡ºä¼˜è´¨ä»£ç ï¼Œèµ„æ·±å¼€å‘è€…å¯¹å›¢é˜Ÿå’Œå…¬å¸çš„æˆåŠŸè‡³å…³é‡è¦ã€‚</p><p>ä½†ä½ çš„ç¡®ä¼šå†™æ›´å°‘çš„ä»£ç ã€‚</p><h4 id="æ‚–è®ºå››å¼€å‘å·¥å…·æ—¥ç›Šå¼ºå¤§ä½†å¼€å‘æ•ˆç‡å¹¶æœªæå‡"><a class="markdownIt-Anchor" href="#æ‚–è®ºå››å¼€å‘å·¥å…·æ—¥ç›Šå¼ºå¤§ä½†å¼€å‘æ•ˆç‡å¹¶æœªæå‡"></a> <strong>æ‚–è®ºå››ï¼šå¼€å‘å·¥å…·æ—¥ç›Šå¼ºå¤§ï¼Œä½†å¼€å‘æ•ˆç‡å¹¶æœªæå‡</strong></h4><p>å¯¹æ¯”å½“ä»Šä½¿ç”¨ Reactã€Astroã€Next.js ç­‰å¼ºå¤§å·¥å…·æ„å»ºçš„ Web åº”ç”¨ï¼Œä¸ 30 å¹´å‰é€šè¿‡é€šç”¨ç½‘å…³æ¥å£ï¼ˆCGIï¼‰å¤„ç†æ•°æ®å’Œ HTML çš„ç½‘ç«™ï¼Œä½ ä¼šå‘ç°æˆ‘ä»¬å·²ç»æ¯”æ—©æœŸè¿›æ­¥äº†æ•°å…‰å¹´ã€‚</p><p>ç„¶è€Œï¼Œå°½ç®¡å·¥å…·æ—¥ç›Šå…ˆè¿›ã€å¤„ç†å™¨é€Ÿåº¦é£™å‡ï¼Œè½¯ä»¶å¼€å‘æ•ˆç‡ä¼¼ä¹ä»æœªçœŸæ­£æé«˜ã€‚å·¥ä½œé‡ä¸ä»…æ€»æ˜¯è¶…å‡ºæ—¶é—´é¢„ç®—ï¼Œç”šè‡³è¶…å‡ºäº†æ¯ä¸ª CPU å‘¨æœŸçš„è´Ÿè·ã€‚</p><p>æˆ‘ä»¬çš„ç½‘ç«™æ›´ç¾è§‚äº†ï¼Œä½†å¼€å‘æ•ˆç‡çœŸçš„æå‡äº†å—ï¼Ÿç½‘ç«™è¿è¡Œæ›´å¿«ã€æ•°æ®å¤„ç†æ›´é«˜æ•ˆäº†å—ï¼Ÿè¯šç„¶ï¼Œæ–°æ¡†æ¶å’Œåº“æŠ½è±¡äº†è®¸å¤šå¤æ‚æ€§ï¼ˆè¿˜æœ‰äººæƒ³å†™ jQuery ä»£ç å—ï¼Ÿï¼‰ï¼Œä½†å®ƒä»¬ä¹Ÿå¸¦æ¥äº†æ„å»ºæµç¨‹å†—é•¿ã€é…ç½®å¤æ‚ã€ä¾èµ–è†¨èƒ€ç­‰æ–°é—®é¢˜ã€‚</p><h3 id="ä¸æ¡¥æ¢çš„ç»ˆæå·®å¼‚è½¯ä»¶æ°¸æ— -å®Œå·¥-ä¹‹æ—¥"><a class="markdownIt-Anchor" href="#ä¸æ¡¥æ¢çš„ç»ˆæå·®å¼‚è½¯ä»¶æ°¸æ— -å®Œå·¥-ä¹‹æ—¥"></a> <strong>ä¸æ¡¥æ¢çš„ç»ˆæå·®å¼‚ï¼šè½¯ä»¶æ°¸æ—  â€œå®Œå·¥â€ ä¹‹æ—¥</strong></h3><p>è¿™äº›æ‚–è®ºçš„å­˜åœ¨å¹¶ä¸æ„å‘³ç€ç»æœ›ã€‚æˆ‘æŒ‡å‡ºå®ƒä»¬ï¼Œæ˜¯ä¸ºäº†è®©æˆ‘ä»¬æ„è¯†åˆ°å…¶å­˜åœ¨ï¼Œå­¦ä¼šæ¥å—å¹¶åº”å¯¹ï¼Œä»è€Œé¿å¼€æ½œåœ¨çš„é™·é˜±ã€‚æˆ‘ä»¬æ— æ³•æ¶ˆé™¤è½¯ä»¶å¼€å‘çš„é™Œç”Ÿæ„Ÿå’Œæ··ä¹±ï¼Œä½†å¯ä»¥é¢„è§å¹¶é©¾é©­å®ƒä»¬ã€‚æˆ‘ä»¬çš„ä½¿å‘½æ˜¯ï¼š<strong>åœ¨æ‚–è®ºä¸­äº¤ä»˜</strong>ã€‚</p><p>æœ€åä¸€ä¸ªæ‚–è®ºæˆ–è®¸æ˜¯ï¼š<strong>è½¯ä»¶å¼€å‘æ°¸è¿œæ²¡æœ‰çœŸæ­£å®Œæˆä¹‹æ—¥</strong>ã€‚æ€»æœ‰æ–°åŠŸèƒ½å¯ä»¥æ·»åŠ ã€‚è€Œæ¡¥æ¢å·¥ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªæ˜ç¡®çš„ç»ˆç‚¹ â€”â€” å½“æ¡¥æ¢å»ºæˆå¹¶æŒ‰è®¾è®¡è¿è¡Œæ—¶ï¼Œå·¥ä½œä¾¿å®£å‘Šç»“æŸã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶å·¥ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PyPyã€Numba ä¸ Cythonï¼Œå“ªä¸ªæ˜¯æœ€ä½³ Pythonè¿ç®—è§£å†³æ–¹æ¡ˆï¼Ÿ</title>
      <link href="/2025/04/16/Python/PyPy%E3%80%81Numba%20%E4%B8%8E%20Cython%EF%BC%8C%E5%93%AA%E4%B8%AA%E6%98%AF%E6%9C%80%E4%BD%B3%20Python%E8%BF%90%E7%AE%97%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%EF%BC%9F/"/>
      <url>/2025/04/16/Python/PyPy%E3%80%81Numba%20%E4%B8%8E%20Cython%EF%BC%8C%E5%93%AA%E4%B8%AA%E6%98%AF%E6%9C%80%E4%BD%B3%20Python%E8%BF%90%E7%AE%97%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%EF%BC%9F/</url>
      
        <content type="html"><![CDATA[<p><strong>æ­£å¦‚Pythonä¹‹çˆ¶è¯´ï¼šâ€œå¤§éƒ¨åˆ†è§‰å¾—Pythonæ…¢çš„åº”ç”¨éƒ½æ˜¯æ²¡æœ‰æ­£ç¡®åœ°ä½¿ç”¨Pythonã€‚â€</strong></p><p>ç”±äºPythonç”±äºè¦åœ¨è¿è¡Œæ—¶ç¼–è¯‘å’Œè§£é‡Šæ‰§è¡Œå­—èŠ‚ç ï¼Œè€Œä¸”è¿™ä¸ªè¿‡ç¨‹ä¸­å‚ä¸äº†å¾ˆå¤šç±»ä¼¼è¿è¡Œæ—¶ç±»å‹æ£€æŸ¥çš„æ“ä½œç­‰ä¸€ç³»åˆ—å…¶ä»–æ“ä½œï¼Œä»è€Œäº§ç”Ÿäº†å¾ˆå¤šé¢å¤–å¼€é”€ï¼Œé™ä½äº†æ€§èƒ½ã€‚</p><p>ä¸ºäº†è®©è¿™é—¨è¯­è¨€å˜å¾—å®Œç¾ï¼ŒPyPyã€Numbaã€Cythonè§£å†³æ–¹æ¡ˆåº”ç”¨è€Œç”Ÿã€‚</p><h3 id="pypy"><a class="markdownIt-Anchor" href="#pypy"></a> PyPy</h3><p>PyPyæ˜¯ç”¨RPython(CPythonçš„å­é›†)å®ç°çš„Pythonï¼Œæ ¹æ®å®˜ç½‘çš„åŸºå‡†æµ‹è¯•æ•°æ®ï¼Œå®ƒæ¯”CPythonå®ç°çš„Pythonè¦å¿«6å€ä»¥ä¸Šã€‚å¿«çš„åŸå› æ˜¯ä½¿ç”¨äº†<strong>Just-in-Time(JIT)ç¼–è¯‘å™¨</strong>ï¼Œå³åŠ¨æ€ç¼–è¯‘å™¨ï¼Œä¸é™æ€ç¼–è¯‘å™¨(å¦‚gcc,javacç­‰)ä¸åŒï¼Œå®ƒæ˜¯åˆ©ç”¨ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹çš„æ•°æ®è¿›è¡Œä¼˜åŒ–ã€‚</p><p><img src="87f59cbfddd95aef894add2a3d2d7f77.jpeg" alt="" /></p><p>**é€‚ç”¨åœºæ™¯ï¼š**PyPyæœ€é€‚åˆçº¯Pythonåº”ç”¨ç¨‹åºï¼Œä¸é€‚ç”¨äºCæ‰©å±•</p><h3 id="numba"><a class="markdownIt-Anchor" href="#numba"></a> Numba</h3><p>Numba æ˜¯ python çš„å³æ—¶ï¼ˆJust-in-timeï¼‰ç¼–è¯‘å™¨ï¼Œå³å½“æ‚¨è°ƒç”¨ python å‡½æ•°æ—¶ï¼Œæ‚¨çš„å…¨éƒ¨æˆ–éƒ¨åˆ†ä»£ç å°±ä¼šè¢«è½¬æ¢ä¸ºâ€œå³æ—¶â€æ‰§è¡Œçš„æœºå™¨ç ï¼Œå®ƒå°†ä»¥æ‚¨çš„æœ¬åœ°æœºå™¨ç é€Ÿåº¦è¿è¡Œã€‚</p><p>python ä»£ç çš„ç¼–è¯‘è¿‡ç¨‹åŒ…æ‹¬å››ä¸ªé˜¶æ®µï¼šè¯æ³•åˆ†æ -&gt; è¯­æ³•åˆ†æ -&gt; ç”Ÿæˆå­—èŠ‚ç  -&gt; å°†å­—èŠ‚ç è§£é‡Šä¸ºæœºå™¨ç æ‰§è¡Œ, å¸¸è§çš„ python è§£é‡Šå™¨çš„ç±»å‹æœ‰ cpythonã€IPythonã€PyPyã€Jythonã€IronPythonï¼Œä¸å…¶ä»–è§£é‡Šå™¨ä¸åŒï¼Œ<strong>numba æ˜¯ä½¿ç”¨ LLVM ç¼–è¯‘æŠ€æœ¯æ¥è§£é‡Šå­—èŠ‚ç çš„</strong>ã€‚</p><p><img src="e07fcd76332154afdda11339a5d7195a.jpeg" alt="" /></p><p>ä»£ç ç¼–è¯‘æ–¹å¼</p><p>**é€‚ç”¨åœºæ™¯ï¼š**ä½¿ç”¨numpyæ•°ç»„åšå¤§é‡ç§‘å­¦è®¡ç®—æ—¶ã€ä½¿ç”¨forå¾ªç¯æ—¶</p><h3 id="cython"><a class="markdownIt-Anchor" href="#cython"></a> Cython</h3><p>ä¸Numbaä¸åŒï¼Œæ‰€æœ‰çš„Cythonä»£ç åº”è¯¥åœ¨ä¸“é—¨æ–‡ä»¶ä¸­ä¸å¸¸è§„Pythonä»£ç åˆ†å¼€ã€‚Cythonå°†è¿™äº›æ–‡ä»¶è§£æå¹¶è½¬æ¢æˆCä»£ç ï¼Œç„¶åä½¿ç”¨æä¾›çš„Cç¼–è¯‘å™¨ (ä¾‹å¦‚ï¼Œgcc)ç¼–è¯‘å®ƒã€‚</p><p>ç¼–å†™å¿«é€ŸCythonä»£ç éœ€è¦ç†è§£Cå’ŒPythonå†…éƒ¨ç»“æ„ã€‚<strong>å¦‚æœä½ ç†Ÿæ‚‰Cï¼Œä½ çš„Cythonä»£ç å¯ä»¥è¿è¡Œå¾—å’ŒCä»£ç ä¸€æ ·å¿«ã€‚</strong></p><p>**é€‚ç”¨åœºæ™¯ï¼š**ä¼˜åŒ–Pythonè„šæœ¬æ€§èƒ½æˆ–Pythonè°ƒç”¨Cå‡½æ•°åº“</p><h3 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> <strong>æ€»ç»“ï¼š</strong></h3><p>ä»¥ä¸Šä¸‰ç§æ–¹æ³•éƒ½æœ‰å„è‡ªæœ€é€‚åˆçš„ä½¿ç”¨åœºæ™¯ï¼Œä¹Ÿæœ‰ç›¸å¯¹çš„å±€é™æ€§ï¼Œæ²¡æ³•è¯´è°æœ€æ˜¯ä¼˜ç§€çš„è¿ç®—è§£å†³æ–¹æ¡ˆï¼Œå¤§å®¶å¯ä»¥æ ¹æ®ä¸åŒåœºæ™¯é€‰æ‹©ä½¿ç”¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨ä½ çš„htmlé¡µé¢é‡Œæ‰§è¡Œpython</title>
      <link href="/2025/04/15/Python/%E5%9C%A8%E4%BD%A0%E7%9A%84html%E9%A1%B5%E9%9D%A2%E9%87%8C%E6%89%A7%E8%A1%8Cpython/"/>
      <url>/2025/04/15/Python/%E5%9C%A8%E4%BD%A0%E7%9A%84html%E9%A1%B5%E9%9D%A2%E9%87%8C%E6%89%A7%E8%A1%8Cpython/</url>
      
        <content type="html"><![CDATA[<h2 id="pyodide-ä»‹ç»"><a class="markdownIt-Anchor" href="#pyodide-ä»‹ç»"></a> ğŸ’š pyodide ä»‹ç»</h2><p>Pyodideæ˜¯CPythonåˆ°WebAssembly/Emscriptençš„ä¸€ä¸ªæ¥å£ï¼Œä¸»è¦åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ã€‚</p><p>Pyodideåœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨micropipå®‰è£…å’Œè¿è¡ŒPythonåŒ…ã€‚å®ƒé™„å¸¦äº†ä¸€ä¸ªå¥å£®çš„JavascriptâŸº Pythonå¤–éƒ¨å‡½æ•°æ¥å£ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥åœ¨ä»£ç ä¸­è‡ªç”±åœ°æ··åˆè¿™ä¸¤ç§è¯­è¨€ï¼Œè€Œä¸ä¼šäº§ç”Ÿå¤ªå¤§çš„æ‘©æ“¦ã€‚è¿™åŒ…æ‹¬å¯¹é”™è¯¯å¤„ç†ï¼ˆç”¨ä¸€ç§è¯­è¨€æŠ›å‡ºé”™è¯¯ï¼Œç”¨å¦ä¸€ç§è¯­è¨€æ•è·é”™è¯¯ï¼‰ã€å¼‚æ­¥/ç­‰å¾…ç­‰çš„å®Œå…¨æ”¯æŒã€‚åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨æ—¶ï¼ŒPythonå¯ä»¥å®Œå…¨è®¿é—®Web APIã€‚</p><h2 id="åœ¨æµè§ˆå™¨ä½¿ç”¨python-repl"><a class="markdownIt-Anchor" href="#åœ¨æµè§ˆå™¨ä½¿ç”¨python-repl"></a> ğŸ’š åœ¨æµè§ˆå™¨ä½¿ç”¨python repl</h2><p>ä½“éªŒåœ°å€ Â <a href="http://pyodide.org/en/stable">http://pyodide.org/en/stable</a></p><p>é¡µé¢æˆªå›¾å¦‚ä¸‹</p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.webp" alt="åœ¨ä½ çš„htmlé¡µé¢é‡Œæ‰§è¡Œpython----pyodide_html" title="image.png" /></p><p>é¦–å…ˆåœ¨ä½ çš„htmlä»£ç é‡ŒåŠ å…¥è¿™è¡Œï¼Œå¼•å…¥pyodide</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:///pyodide/v0.20.0/full/pyodide.js</span><br></pre></td></tr></table></figure><p>pyodide.jsæ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªåä¸ºloadPyodideçš„å¼‚æ­¥å‡½æ•°ï¼Œè¯¥å‡½æ•°è®¾ç½®Pythonç¯å¢ƒå¹¶è¿”å›Pyodideé¡¶çº§åç§°ç©ºé—´ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">main</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> pyodide = <span class="keyword">await</span> <span class="title function_">loadPyodide</span>();</span><br><span class="line">  <span class="comment">// Pyodide is now ready to use...</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(pyodide.<span class="title function_">runPython</span>(<span class="string">`</span></span><br><span class="line"><span class="string">    import sys</span></span><br><span class="line"><span class="string">    sys.version</span></span><br><span class="line"><span class="string">  `</span>));</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">main</span>();</span><br></pre></td></tr></table></figure><p>æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œè¯¦ç»†ä»£ç å¦‚ä¸‹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https:///pyodide/v0.20.0/full/pyodide.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    Pyodide test page <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    Open your browser console to see Pyodide output</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">main</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> pyodide = <span class="keyword">await</span> <span class="title function_">loadPyodide</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(pyodide.<span class="title function_">runPython</span>(<span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            import sys</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            sys.version</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">        `</span>));</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(pyodide.<span class="title function_">runPython</span>(<span class="string">&quot;print(1 + 2)&quot;</span>));</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">main</span>();</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¿å­˜åˆ°æœ¬åœ°æ‰§è¡Œä¸€ä¸‹ï¼Œ</p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.1.webp" alt="åœ¨ä½ çš„htmlé¡µé¢é‡Œæ‰§è¡Œpython----pyodide_Python_02" title="image.png" /></p><p>æ‰“å¼€è¯¥é¡µé¢çš„æ§åˆ¶å°ï¼Œæˆ‘ä»¬çœ‹åˆ°æ‰“å°å‡ºäº†pythonç‰ˆæœ¬å’Œè¡¨è¾¾å¼çš„ç»“æœ3</p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.2.webp" alt="åœ¨ä½ çš„htmlé¡µé¢é‡Œæ‰§è¡Œpython----pyodide_Python_03" title="image.png" /></p><h2 id="åœ¨æµè§ˆå™¨é¡µé¢äº¤äº’æ‰§è¡Œpython"><a class="markdownIt-Anchor" href="#åœ¨æµè§ˆå™¨é¡µé¢äº¤äº’æ‰§è¡Œpython"></a> ğŸ’š åœ¨æµè§ˆå™¨é¡µé¢äº¤äº’æ‰§è¡Œpython</h2><p>å…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼Œåœ¨é¡µé¢äº¤äº’æ‰§è¡Œè®¡ç®—ä¸€ä¸ªpythonåˆ—è¡¨çš„æ‰€æœ‰å€¼ç›¸åŠ ä¹‹å’Œ</p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.3.webp" alt="åœ¨ä½ çš„htmlé¡µé¢é‡Œæ‰§è¡Œpython----pyodide_å‰ç«¯_04" title="image.png" /></p><p>ç‚¹å‡»runï¼Œå°±åœ¨outputè¾“å…¥æ¡†æ˜¾ç¤ºäº†è®¡ç®—çš„å€¼</p><p><img src="x-oss-process=imagewatermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_30,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=format,webp.4.webp" alt="åœ¨ä½ çš„htmlé¡µé¢é‡Œæ‰§è¡Œpython----pyodide_python_05" title="image.png" /></p><p>æºç å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https:///pyodide/v0.20.0/full/pyodide.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      You can execute any Python code. Just enter something in the box below and</span><br><span class="line">      click the button.</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;code&quot;</span> <span class="attr">value</span>=<span class="string">&quot;sum([1, 2, 3, 4, 5])&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;evaluatePython()&quot;</span>&gt;</span>Run<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>Output:<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">&quot;output&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%;&quot;</span> <span class="attr">rows</span>=<span class="string">&quot;6&quot;</span> <span class="attr">disabled</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> output = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;output&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> code = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;code&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">function</span> <span class="title function_">addToOutput</span>(<span class="params">s</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        output.<span class="property">value</span> += <span class="string">&quot;&gt;&gt;&gt;&quot;</span> + code.<span class="property">value</span> + <span class="string">&quot;\n&quot;</span> + s + <span class="string">&quot;\n&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      output.<span class="property">value</span> = <span class="string">&quot;Initializing...\n&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// init Pyodide</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">main</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> pyodide = <span class="keyword">await</span> <span class="title function_">loadPyodide</span>();</span></span><br><span class="line"><span class="language-javascript">        output.<span class="property">value</span> += <span class="string">&quot;Ready!\n&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> pyodide;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">let</span> pyodideReadyPromise = <span class="title function_">main</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">evaluatePython</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> pyodide = <span class="keyword">await</span> pyodideReadyPromise;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">try</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">let</span> output = pyodide.<span class="title function_">runPython</span>(code.<span class="property">value</span>);</span></span><br><span class="line"><span class="language-javascript">          <span class="title function_">addToOutput</span>(output);</span></span><br><span class="line"><span class="language-javascript">        &#125; <span class="keyword">catch</span> (err) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="title function_">addToOutput</span>(err);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="åè®°"><a class="markdownIt-Anchor" href="#åè®°"></a> åè®°</h2><p>ä¸ä»…å¯ä»¥åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨node.jsä¸­ä½¿ç”¨ï¼Œå½“ç„¶pythonä¹Ÿå¯ä»¥æ‰§è¡Œjs, åªéœ€import jsã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯Cypressè‡ªåŠ¨åŒ–æµ‹è¯•å…¨ç½‘è¯¦è§£</title>
      <link href="/2025/04/09/TEST/%E5%89%8D%E7%AB%AFCypress%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%85%A8%E7%BD%91%E8%AF%A6%E8%A7%A3/"/>
      <url>/2025/04/09/TEST/%E5%89%8D%E7%AB%AFCypress%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%85%A8%E7%BD%91%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<h3 id="cypress-è‡ªåŠ¨åŒ–æµ‹è¯•è¯¦è§£ä»å®‰è£…åˆ°å®æˆ˜"><a class="markdownIt-Anchor" href="#cypress-è‡ªåŠ¨åŒ–æµ‹è¯•è¯¦è§£ä»å®‰è£…åˆ°å®æˆ˜"></a> Cypress è‡ªåŠ¨åŒ–æµ‹è¯•è¯¦è§£ï¼šä»å®‰è£…åˆ°å®æˆ˜</h3><blockquote><p>Cypress æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ç«¯åˆ°ç«¯ï¼ˆEnd-to-End, E2Eï¼‰åŠŸèƒ½æµ‹è¯•æ¡†æ¶ï¼ŒåŸºäº Node.js æ„å»ºï¼Œæ”¯æŒæœ¬åœ°æµè§ˆå™¨ç›´æ¥æ¨¡æ‹Ÿæµ‹è¯•ï¼Œå¹¶å…·æœ‰æµ‹è¯•å½•å±åŠŸèƒ½ï¼Œæå¤§åœ°æ–¹ä¾¿äº†æµ‹è¯•å¤±è´¥æ—¶çš„åœºæ™¯é‡ç°ä¸é—®é¢˜å®šä½ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç» Cypress çš„å®‰è£…ã€é…ç½®ä»¥åŠä¸€ä¸ªå®é™…çš„è‡ªåŠ¨åŒ–æµ‹è¯•ç¤ºä¾‹ã€‚</p></blockquote><h3 id="ä¸€-å®‰è£…-cypress"><a class="markdownIt-Anchor" href="#ä¸€-å®‰è£…-cypress"></a> ä¸€ã€å®‰è£… Cypress</h3><ol><li>å®‰è£… Node.js</li></ol><blockquote><p>é¦–å…ˆï¼Œä½ éœ€è¦å®‰è£… Node.jsã€‚Node.js<br />çš„å®‰è£…åŒ…å¯ä»¥ä»å…¶å®˜æ–¹ç½‘ç«™ï¼ˆ<a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a> ï¼‰ä¸‹è½½ã€‚ä¸‹è½½å®Œæˆåï¼ŒæŒ‰ç…§æç¤ºè¿›è¡Œå®‰è£…ã€‚</p></blockquote><h4 id="å®‰è£…å®Œæˆåæ‰“å¼€å‘½ä»¤è¡Œå·¥å…·cmd-æˆ–-powershellè¾“å…¥ä»¥ä¸‹å‘½ä»¤ä»¥ç¡®è®¤å®‰è£…æˆåŠŸ"><a class="markdownIt-Anchor" href="#å®‰è£…å®Œæˆåæ‰“å¼€å‘½ä»¤è¡Œå·¥å…·cmd-æˆ–-powershellè¾“å…¥ä»¥ä¸‹å‘½ä»¤ä»¥ç¡®è®¤å®‰è£…æˆåŠŸ"></a> å®‰è£…å®Œæˆåï¼Œæ‰“å¼€å‘½ä»¤è¡Œå·¥å…·ï¼ˆcmd æˆ– PowerShellï¼‰ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ä»¥ç¡®è®¤å®‰è£…æˆåŠŸï¼š</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure><ol start="2"><li>å®‰è£… Cypress</li></ol><blockquote><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£… Cypressã€‚é¦–å…ˆï¼Œåœ¨ä½ çš„å·¥ä½œç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹</p></blockquote><h4 id="ä¾‹å¦‚-ui_testç„¶åä½¿ç”¨-cd-å‘½ä»¤è¿›å…¥è¯¥æ–‡ä»¶å¤¹"><a class="markdownIt-Anchor" href="#ä¾‹å¦‚-ui_testç„¶åä½¿ç”¨-cd-å‘½ä»¤è¿›å…¥è¯¥æ–‡ä»¶å¤¹"></a> ä¾‹å¦‚ Ui_testï¼Œç„¶åä½¿ç”¨ cd å‘½ä»¤è¿›å…¥è¯¥æ–‡ä»¶å¤¹ã€‚</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> Ui_test</span><br><span class="line"><span class="built_in">cd</span> Ui_test</span><br></pre></td></tr></table></figure><h4 id="æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä»¥å®‰è£…-cypress"><a class="markdownIt-Anchor" href="#æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä»¥å®‰è£…-cypress"></a> æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä»¥å®‰è£… Cypressï¼š</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm init -y</span><br><span class="line">npm install cypress --save-dev</span><br></pre></td></tr></table></figure><p>è¿™å°†åˆ›å»ºä¸€ä¸ª package.json æ–‡ä»¶å¹¶å®‰è£… Cypress åŠå…¶ä¾èµ–ã€‚</p><ol start="3"><li>é…ç½® Cypress</li></ol><blockquote><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ª package.json æ–‡ä»¶ï¼ˆå¦‚æœ npm init æ²¡æœ‰è‡ªåŠ¨ç”Ÿæˆï¼‰ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹é…ç½®ï¼Œä»¥ä¾¿å¯ä»¥é€šè¿‡ npm<br />å‘½ä»¤å¯åŠ¨ Cypressï¼š</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;cypress:open&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cypress open&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="äºŒ-å¯åŠ¨-cypress"><a class="markdownIt-Anchor" href="#äºŒ-å¯åŠ¨-cypress"></a> äºŒã€å¯åŠ¨ Cypress</h3><p>ç°åœ¨ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ Cypressï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run cypress:open</span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼Œå¦‚æœä½ å·²ç»å…¨å±€å®‰è£…äº† Cypressï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx cypress open</span><br></pre></td></tr></table></figure><p>Cypress å¯åŠ¨åï¼Œä½ å°†çœ‹åˆ°ä¸€ä¸ªå›¾å½¢åŒ–çš„ç•Œé¢ï¼Œå…¶ä¸­åŒ…å«äº†æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹çš„åˆ—è¡¨ã€‚</p><h3 id="ä¸‰-ç¼–å†™æµ‹è¯•ç”¨ä¾‹"><a class="markdownIt-Anchor" href="#ä¸‰-ç¼–å†™æµ‹è¯•ç”¨ä¾‹"></a> ä¸‰ã€ç¼–å†™æµ‹è¯•ç”¨ä¾‹</h3><blockquote><p>Cypress çš„æµ‹è¯•ç”¨ä¾‹é€šå¸¸å†™åœ¨ cypress/integration ç›®å½•ä¸‹ã€‚åœ¨è¯¥ç›®å½•ä¸‹ï¼Œä½ å¯ä»¥åˆ›å»ºå¤šä¸ªæ–‡ä»¶å¤¹å’Œ .js æ–‡ä»¶æ¥ç»„ç»‡ä½ çš„æµ‹è¯•ç”¨ä¾‹ã€‚</p></blockquote><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç™»å½•æµ‹è¯•ç”¨ä¾‹ç¤ºä¾‹ï¼š</p><ul><li><p>åœ¨ cypress/integration ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚ demoã€‚</p></li><li><p>åœ¨ demo æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶ï¼Œä¾‹å¦‚ login.jsã€‚</p></li><li><p>åœ¨ login.js æ–‡ä»¶ä¸­ï¼Œç¼–å†™ä»¥ä¸‹æµ‹è¯•ä»£ç ï¼š</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">describe</span>(â€˜<span class="title class_">Login</span> <span class="title class_">Test</span>â€™, <span class="keyword">function</span>(<span class="params"></span>) &#123;  </span><br><span class="line"><span class="title function_">beforeEach</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;  </span><br><span class="line"><span class="comment">// åœ¨æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ä¹‹å‰æ‰§è¡Œçš„ä»£ç   </span></span><br><span class="line">cy.<span class="title function_">visit</span>(â€˜<span class="attr">http</span>:<span class="comment">//your-test-url.com/loginâ€™); // æ›¿æ¢ä¸ºä½ çš„ç™»å½•é¡µé¢ URL  </span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title function_">it</span>(â€˜<span class="title class_">Should</span> login successfullyâ€™, <span class="keyword">function</span>(<span class="params"></span>) &#123;  </span><br><span class="line"><span class="comment">// å®šä½ç”¨æˆ·åè¾“å…¥æ¡†å¹¶è¾“å…¥ç”¨æˆ·å  </span></span><br><span class="line">cy.<span class="title function_">get</span>(â€˜#usernameâ€™).<span class="title function_">type</span>(â€˜your-usernameâ€™); <span class="comment">// æ›¿æ¢ä¸ºä½ çš„ç”¨æˆ·å</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®šä½å¯†ç è¾“å…¥æ¡†å¹¶è¾“å…¥å¯†ç </span></span><br><span class="line">    cy.<span class="title function_">get</span>(<span class="string">&#x27;#password&#x27;</span>).<span class="title function_">type</span>(<span class="string">&#x27;your-password&#x27;</span>); <span class="comment">// æ›¿æ¢ä¸ºä½ çš„å¯†ç </span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç‚¹å‡»ç™»å½•æŒ‰é’®</span></span><br><span class="line">    cy.<span class="title function_">get</span>(<span class="string">&#x27;#login-button&#x27;</span>).<span class="title function_">click</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ–­è¨€ç™»å½•æˆåŠŸåè·³è½¬çš„é¡µé¢åŒ…å«æŸä¸ªç‰¹å®šå…ƒç´ æˆ–æ–‡æœ¬</span></span><br><span class="line">    cy.<span class="title function_">url</span>().<span class="title function_">should</span>(<span class="string">&#x27;include&#x27;</span>, <span class="string">&#x27;/dashboard&#x27;</span>); <span class="comment">// æ›¿æ¢ä¸ºç™»å½•æˆåŠŸååº”è¯¥è·³è½¬çš„ URL è·¯å¾„</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&#125;);  </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="å››-è¿è¡Œæµ‹è¯•ç”¨ä¾‹"><a class="markdownIt-Anchor" href="#å››-è¿è¡Œæµ‹è¯•ç”¨ä¾‹"></a> å››ã€è¿è¡Œæµ‹è¯•ç”¨ä¾‹</h3><p>å›åˆ° Cypress çš„å›¾å½¢åŒ–ç•Œé¢ï¼Œä½ å°†çœ‹åˆ°åˆšæ‰åˆ›å»ºçš„ login.js æµ‹è¯•ç”¨ä¾‹ã€‚ç‚¹å‡»å®ƒï¼Œç„¶åç‚¹å‡»ç•Œé¢å³ä¸Šè§’çš„ â€œRunâ€ æŒ‰é’®æ¥è¿è¡Œæµ‹è¯•ç”¨ä¾‹ã€‚</p><p>ä½ ä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œæ¥è¿è¡Œæµ‹è¯•ç”¨ä¾‹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx cypress run --spec <span class="string">&quot;cypress/integration/demo/login.js&quot;</span></span><br></pre></td></tr></table></figure><p>è¿™å°†è¿è¡ŒæŒ‡å®šçš„æµ‹è¯•ç”¨ä¾‹å¹¶ç”Ÿæˆæµ‹è¯•æŠ¥å‘Šã€‚</p><h3 id="äº”-ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š"><a class="markdownIt-Anchor" href="#äº”-ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š"></a> äº”ã€ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š</h3><p>Cypress æ”¯æŒå¤šç§æµ‹è¯•æŠ¥å‘Šç”Ÿæˆå™¨ï¼Œä¾‹å¦‚ Mocha Awesomeã€‚è¦ç”Ÿæˆ Mocha Awesome æŠ¥å‘Šï¼Œä½ éœ€è¦å®‰è£…ä»¥ä¸‹ä¾èµ–ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev mocha mochawesome mochawesome-merge mochawesome-report-generator</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œåœ¨ cypress.json æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;env&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;search&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Cypress e2e&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;reporter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;mochawesome&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;reporterOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;reportDir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cypress/results&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;overwrite&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;html&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;json&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>å†æ¬¡è¿è¡Œæµ‹è¯•ç”¨ä¾‹æ—¶ï¼ŒCypress å°†åœ¨ cypress/results ç›®å½•ä¸‹ç”Ÿæˆ HTML å’Œ JSON æ ¼å¼çš„æµ‹è¯•æŠ¥å‘Šã€‚</p><h3 id="æ–‡ä»¶å¤¹ç›®å½•çš„è¯¦è§£"><a class="markdownIt-Anchor" href="#æ–‡ä»¶å¤¹ç›®å½•çš„è¯¦è§£"></a> æ–‡ä»¶å¤¹ç›®å½•çš„è¯¦è§£</h3><blockquote><p>åœ¨Cypressæµ‹è¯•æ¡†æ¶ä¸­ï¼Œfixturesã€integrationã€pluginsã€supportä»¥åŠcypress.jsonæ˜¯æ„æˆå…¶é¡¹ç›®ç»“æ„çš„æ ¸å¿ƒç›®å½•å’Œæ–‡ä»¶ã€‚ä»¥ä¸‹æ˜¯å¯¹è¿™äº›ç›®å½•å’Œæ–‡ä»¶çš„è¯¦ç»†è®²è§£ï¼š</p></blockquote><h4 id="1-fixtures"><a class="markdownIt-Anchor" href="#1-fixtures"></a> 1. fixtures</h4><ul><li>ä½œç”¨ï¼šä¸»è¦ç”¨äºå­˜å‚¨æµ‹è¯•ç”¨ä¾‹çš„å¤–éƒ¨é™æ€æ•°æ®ã€‚</li><li>ä½¿ç”¨ï¼šé€šå¸¸ä¸cy.fixture()å‘½ä»¤é…åˆä½¿ç”¨ï¼Œä»¥åŠ è½½å’Œå¼•ç”¨è¿™äº›é™æ€æ•°æ®ã€‚</li><li>æ–‡ä»¶ç±»å‹ï¼šä¸€èˆ¬ä¸º.jsonåç¼€çš„æ–‡ä»¶ï¼Œç”¨äºå­˜å‚¨å¦‚HTTPçŠ¶æ€ç å’Œè¿”å›å€¼ç­‰é™æ€æ•°æ®ã€‚</li><li>ä¼˜ç‚¹ï¼š<br />å¯ä»¥æ¨¡æ‹Ÿæ¥å£è¿”å›å€¼ï¼Œé¿å…å®é™…è°ƒç”¨æ¥å£ï¼Œä»è€Œæé«˜æµ‹è¯•é€Ÿåº¦ã€‚<br />æ¶ˆé™¤äº†å¯¹å¤–éƒ¨åŠŸèƒ½æ¨¡å—çš„ä¾èµ–ï¼Œä½¿æµ‹è¯•ç”¨ä¾‹æ›´åŠ ç¨³å®šå¯é ã€‚</li></ul><h4 id="2-integration"><a class="markdownIt-Anchor" href="#2-integration"></a> 2. integration</h4><ul><li>ä½œç”¨ï¼šå­˜æ”¾é›†æˆæµ‹è¯•ç”¨ä¾‹ã€‚</li><li>æ–‡ä»¶ç±»å‹ï¼šæ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼ï¼ŒåŒ…æ‹¬.jsï¼ˆæ™®é€šJavaScriptæ–‡ä»¶ï¼‰ã€.jsxï¼ˆå¸¦æœ‰æ‰©å±•çš„JavaScriptæ–‡ä»¶ï¼Œå¯åŒ…å«å¤„ç†XMLçš„ECMAScriptï¼‰ã€.coffeeï¼ˆJavaScriptçš„è½¬è¯‘è¯­è¨€ï¼Œæ‹¥æœ‰æ›´ä¸¥æ ¼çš„è¯­æ³•ï¼‰ä»¥åŠ.cjsxï¼ˆCoffeeScriptä¸­çš„jsxæ–‡ä»¶ï¼‰ã€‚</li><li>ç‰¹ç‚¹ï¼šæ‰€æœ‰ä½äºintegrationç›®å½•ä¸‹çš„ç¬¦åˆä¸Šè¿°æ–‡ä»¶ç±»å‹çš„æ–‡ä»¶ï¼Œéƒ½å°†è¢«Cypressè¯†åˆ«ä¸ºæµ‹è¯•æ–‡ä»¶ã€‚</li></ul><h4 id="3-plugins"><a class="markdownIt-Anchor" href="#3-plugins"></a> 3. plugins</h4><ul><li>ä½œç”¨ï¼šå­˜æ”¾è‡ªå®šä¹‰æ’ä»¶æˆ–Cypressæä¾›çš„ç°æˆæ’ä»¶ã€‚</li><li>åŠŸèƒ½ï¼šå…è®¸ä¿®æ”¹æˆ–æ‰©å±•Cypressçš„å†…éƒ¨è¡Œä¸ºï¼Œå¦‚åŠ¨æ€ä¿®æ”¹é…ç½®ä¿¡æ¯å’Œç¯å¢ƒå˜é‡ç­‰ã€‚</li><li>é»˜è®¤æ–‡ä»¶ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œæ’ä»¶ä½äºcypress/plugins/index.jsä¸­ï¼Œä½†ä¹Ÿå¯ä»¥é…ç½®åˆ°å¦ä¸€ä¸ªç›®å½•ã€‚</li><li>åŠ è½½ï¼šæ¯ä¸ªæµ‹è¯•æ–‡ä»¶è¿è¡Œä¹‹å‰ï¼ŒCypresséƒ½ä¼šè‡ªåŠ¨åŠ è½½æ’ä»¶æ–‡ä»¶ã€‚</li></ul><h4 id="4-support"><a class="markdownIt-Anchor" href="#4-support"></a> 4. support</h4><ul><li>ä½œç”¨ï¼šå­˜æ”¾è¾…åŠ©æ–‡ä»¶ï¼Œå¦‚å‘½ä»¤ã€é…ç½®ç­‰ã€‚</li><li>é»˜è®¤æ–‡ä»¶ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œæ”¯æŒæ–‡ä»¶ä½äºcypress/support/index.jsä¸­ï¼Œä½†ä¹Ÿå¯ä»¥é…ç½®åˆ°å¦ä¸€ä¸ªç›®å½•ã€‚</li><li>åŠŸèƒ½ï¼š<br />å¯ä»¥åœ¨å…¶ä¸­é…ç½®ä¸€äº›è¾…åŠ©å‡½æ•°å’Œå‘½ä»¤ï¼Œä»¥ä¾¿åœ¨æµ‹è¯•ç”¨ä¾‹ä¸­é‡å¤ä½¿ç”¨ã€‚<br />é€šè¿‡å¯¼å…¥å‘½ä»¤æ–‡ä»¶ï¼Œå¯ä»¥åœ¨æµ‹è¯•ç”¨ä¾‹ä¸­ç›´æ¥ä½¿ç”¨å®šä¹‰çš„å‘½ä»¤ã€‚</li></ul><h4 id="5-cypressjson"><a class="markdownIt-Anchor" href="#5-cypressjson"></a> 5. cypress.json</h4><ul><li>ä½œç”¨ï¼šCypressçš„é…ç½®æ–‡ä»¶ï¼Œç”¨äºå®šä¹‰Cypressé¡¹ç›®çš„é…ç½®é€‰é¡¹ã€‚<br />é…ç½®é€‰é¡¹ï¼š</li><li>baseUrlï¼šç”¨ä½œcy.visit()æˆ–cy.request()å‘½ä»¤çš„å‰ç¼€URLã€‚</li><li>chromeWebSecurityï¼šæ˜¯å¦å¯ç”¨Chromeçš„å®‰å…¨ç­–ç•¥ã€‚</li><li>retriesï¼šæµ‹è¯•ç”¨ä¾‹çš„é‡è¯•æ¬¡æ•°ã€‚</li><li>envï¼šè®¾ç½®ä»»æ„ç¯å¢ƒå˜é‡ã€‚</li></ul><h3 id="æ¡ˆä¾‹åœ°å€å’Œå®˜ç½‘åœ°å€"><a class="markdownIt-Anchor" href="#æ¡ˆä¾‹åœ°å€å’Œå®˜ç½‘åœ°å€"></a> æ¡ˆä¾‹åœ°å€å’Œå®˜ç½‘åœ°å€</h3><blockquote><p>å¤§å®¶å¯ä»¥è‡ªå·±å»ä¸‹è½½ å› ä¸ºé€šè¿‡å‘½ä»¤å»ä¸‹è½½å¯èƒ½ä¸ä¼šç”Ÿæˆintegrationæ–‡ä»¶ å¥½åƒæ˜¯å› ä¸ºæœ€æ–°ç‰ˆæœ¬çš„ç¼˜æ•…</p></blockquote><p>æ¡ˆä¾‹åœ°å€ï¼š<a href="https://github.com/TheBrainFamily/cypress-cucumber-example">https://github.com/TheBrainFamily/cypress-cucumber-example</a><br />å®˜ç½‘åœ°å€ï¼š<a href="https://www.cypress.io/">https://www.cypress.io/</a></p>]]></content>
      
      
      <categories>
          
          <category> æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TEST </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸ºä»€ä¹ˆè¦å†™æµ‹è¯•ç”¨ä¾‹ï¼Œæµ‹è¯•ç”¨ä¾‹å†™ç»™è°çœ‹ï¼Ÿ</title>
      <link href="/2025/04/08/TEST/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%86%99%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%EF%BC%8C%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E5%86%99%E7%BB%99%E8%B0%81%E7%9C%8B%EF%BC%9F/"/>
      <url>/2025/04/08/TEST/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%86%99%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%EF%BC%8C%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E5%86%99%E7%BB%99%E8%B0%81%E7%9C%8B%EF%BC%9F/</url>
      
        <content type="html"><![CDATA[<p>â€œä¸ºä»€ä¹ˆè¦ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œæµ‹è¯•ç”¨ä¾‹å†™ç»™è°çœ‹â€ï¼Œè¿™ä¸ªé—®é¢˜çœ‹ä¼¼ç®€å•ï¼Œä½†å´æ¶µç›–äº†ä¸€ç³»åˆ—å¤æ‚çš„è€ƒè™‘å› ç´ ï¼Œå¹¶ä¸å¤ªå¥½å›ç­”ã€‚</p><p>ä¸ºäº†å‘å„ä½å­¦æµ‹è¯•çš„åŒå­¦ä»¬è§£é‡Šæ¸…æ¥šâ€œä¸ºä»€ä¹ˆç¼–å†™æµ‹è¯•ç”¨ä¾‹æ˜¯è‡³å…³é‡è¦çš„â€ï¼Œæˆ‘å°†é€šè¿‡ä»¥ä¸‹5ä¸ªæ–¹é¢è¿›è¡Œå±•å¼€ï¼š</p><p>1ã€ä¸ºä»€ä¹ˆè¦å†™æµ‹è¯•ç”¨ä¾‹ï¼Ÿ<br />2ã€æµ‹è¯•ç”¨ä¾‹å†™ç»™è°çœ‹ï¼Ÿ<br />3ã€æµ‹è¯•ç”¨ä¾‹ä½¿ç”¨æ¡ˆä¾‹åˆ†äº«<br />4ã€æµ‹è¯•ç”¨ä¾‹åœ¨æµ‹è¯•å·¥ä½œä¸­çš„åœ°ä½åˆ†äº«<br />5ã€æµ‹è¯•ç”¨ä¾‹å­¦ä¹ èµ„æºåˆ†äº«<br />å¥½ï¼Œç°åœ¨æˆ‘ä»¬å¼€å§‹ã€‚</p><h2 id="ä¸€-ä¸ºä»€ä¹ˆéœ€è¦ç¼–å†™æµ‹è¯•ç”¨ä¾‹5å¤§åŸå› "><a class="markdownIt-Anchor" href="#ä¸€-ä¸ºä»€ä¹ˆéœ€è¦ç¼–å†™æµ‹è¯•ç”¨ä¾‹5å¤§åŸå› "></a> ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Ÿ5å¤§åŸå› </h2><p>æµ‹è¯•ç”¨ä¾‹æ˜¯ä¸ºç‰¹å®šæµ‹è¯•ç›®çš„è®¾è®¡çš„æµ‹è¯•æ‰§è¡Œæ–‡æ¡£ï¼Œå®ƒåŒ…æ‹¬æµ‹è¯•è¾“å…¥ã€æ‰§è¡Œæ­¥éª¤å’Œé¢„æœŸç»“æœï¼Œç”¨äºéªŒè¯è½¯ä»¶åœ¨ä¸åŒæƒ…æ™¯ä¸‹çš„è¡Œä¸ºã€‚</p><p><img src="3220308-20231123150325598-1767054028.png" alt="" /></p><p>ä¸ºä»€ä¹ˆéœ€è¦æµ‹è¯•ç”¨ä¾‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›é‡è¦åŸå› ï¼š</p><ol><li>å‘ç°é—®é¢˜ï¼š ç¼–å†™æµ‹è¯•ç”¨ä¾‹æœ‰åŠ©äºå‘ç°æ½œåœ¨çš„ç¼ºé™·å’Œé”™è¯¯ã€‚å®ƒä»¬å…è®¸æµ‹è¯•äººå‘˜æ¨¡æ‹Ÿå„ç§ä½¿ç”¨æƒ…å†µï¼Œç¡®ä¿è½¯ä»¶è´¨é‡ã€‚</li><li>éªŒè¯éœ€æ±‚ï¼š æµ‹è¯•ç”¨ä¾‹å¯ä»¥ç”¨æ¥éªŒè¯è½¯ä»¶æ˜¯å¦æ»¡è¶³è§„æ ¼å’Œéœ€æ±‚ã€‚å®ƒä»¬å¸®åŠ©ç¡®ä¿è½¯ä»¶åŠŸèƒ½æŒ‰ç…§è§„åˆ’å’Œè®¾è®¡çš„æ–¹å¼å·¥ä½œã€‚</li><li>é˜²æ­¢æ¼æµ‹ï¼š æµ‹è¯•ç”¨ä¾‹å¯ä»¥é˜²æ­¢é—æ¼å…³é”®åŠŸèƒ½æˆ–åœºæ™¯ï¼Œå……å½“äº†ä¸€ä¸ªè¯¦å°½çš„æ£€æŸ¥æ¸…å•ï¼Œç¡®ä¿äº†å¯¹è½¯ä»¶å„ä¸ªæ–¹é¢çš„å…¨é¢æµ‹è¯•ã€‚</li><li>å®æ–½æµ‹è¯•çš„æ ‡å‡†ï¼š ç¼–å†™æµ‹è¯•ç”¨ä¾‹ä¸ºæµ‹è¯•æä¾›äº†ä¸€ç§æ ‡å‡†åŒ–çš„æ–¹æ³•ï¼Œå®šä¹‰äº†æ¯ä¸ªæµ‹è¯•æƒ…æ™¯çš„è¾“å…¥ã€é¢„æœŸè¾“å‡ºå’Œæ“ä½œæ­¥éª¤ï¼Œç¡®ä¿æµ‹è¯•ä¸€è‡´å’Œå¯é‡å¤ã€‚</li><li>æµ‹è¯•å·¥ä½œçš„è¯„ä¼°ï¼šæµ‹è¯•ç”¨ä¾‹å¯ä»¥ä½œä¸ºä¸€ä¸ªé‡åŒ–çš„æŒ‡æ ‡ï¼Œç”¨äºæµ‹é‡æµ‹è¯•å·¥ä½œçš„è¿›å±•å’Œæ•ˆç‡ï¼Œå¯¹é¡¹ç›®ç®¡ç†å’Œèµ„æºåˆ†é…è‡³å…³é‡è¦ã€‚</li></ol><h2 id="äºŒ-æµ‹è¯•ç”¨ä¾‹å†™ç»™è°çœ‹5ç±»äººç¾¤"><a class="markdownIt-Anchor" href="#äºŒ-æµ‹è¯•ç”¨ä¾‹å†™ç»™è°çœ‹5ç±»äººç¾¤"></a> äºŒã€æµ‹è¯•ç”¨ä¾‹å†™ç»™è°çœ‹ï¼Ÿ5ç±»äººç¾¤</h2><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹æµ‹è¯•ç”¨ä¾‹çš„å—ä¼—æ˜¯è°ã€‚æµ‹è¯•ç”¨ä¾‹çš„å—ä¼—å¯ä»¥åˆ†ä¸ºä»¥ä¸‹5ç±»ï¼š</p><ol><li>æµ‹è¯•å›¢é˜Ÿï¼š æœ€æ˜æ˜¾çš„å—ä¼—æ˜¯æµ‹è¯•å›¢é˜Ÿæˆå‘˜ï¼ŒåŒ…æ‹¬æµ‹è¯•å·¥ç¨‹å¸ˆå’Œæµ‹è¯•ç»ç†ã€‚ä»–ä»¬ä½¿ç”¨æµ‹è¯•ç”¨ä¾‹æ¥è§„åˆ’ã€æ‰§è¡Œå’ŒæŠ¥å‘Šæµ‹è¯•æ´»åŠ¨ï¼Œç¡®ä¿è½¯ä»¶è´¨é‡ã€‚</li><li>å¼€å‘å›¢é˜Ÿï¼š å¼€å‘å›¢é˜Ÿä¹Ÿæ˜¯æµ‹è¯•ç”¨ä¾‹çš„å—ä¼—ä¹‹ä¸€ã€‚åœ¨ç”¨ä¾‹è¯„å®¡æ—¶ï¼Œæµ‹è¯•ç”¨ä¾‹å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜ç†è§£ä»–ä»¬çš„ä»£ç å¦‚ä½•åº”å¯¹å„ç§æµ‹è¯•æƒ…æ™¯ï¼Œå¸®åŠ©ä»–ä»¬ä¿®å¤ç¼ºé™·ã€‚</li><li>äº§å“ç»ç†å’Œä¸šåŠ¡åˆ†æå¸ˆï¼š æµ‹è¯•ç”¨ä¾‹å¯ä»¥å¸®åŠ©äº§å“ç»ç†å’Œä¸šåŠ¡åˆ†æå¸ˆéªŒè¯è½¯ä»¶æ˜¯å¦æ»¡è¶³ç”¨æˆ·éœ€æ±‚å’Œè§„æ ¼ã€‚å®ƒä»¬æœ‰åŠ©äºæ²Ÿé€šéœ€æ±‚å’ŒæœŸæœ›ã€‚</li><li>é«˜å±‚ç®¡ç†ï¼š åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œé«˜å±‚ç®¡ç†å¯èƒ½éœ€è¦äº†è§£æµ‹è¯•è¿›å±•å’Œè½¯ä»¶è´¨é‡ã€‚æµ‹è¯•ç”¨ä¾‹çš„æŠ¥å‘Šå’Œç»“æœå¯ç”¨äºå†³ç­–åˆ¶å®šã€‚</li><li>è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ï¼ˆçœ‹æˆæ˜¯ä¸ªäººå§ï¼‰ï¼š å¦‚æœä½ è®¡åˆ’è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œæµ‹è¯•ç”¨ä¾‹å°†æˆä¸ºè‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·çš„è¾“å…¥ã€‚è¿™äº›å·¥å…·å°†æ¨¡æ‹Ÿæµ‹è¯•æƒ…æ™¯å¹¶ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š(è¯·çœ‹ä¸‹å›¾)ã€‚</li></ol><p><img src="3220308-20231123150344609-1685867350.png" alt="" /></p><h2 id="ä¸‰-æµ‹è¯•ç”¨ä¾‹ä½¿ç”¨æ¡ˆä¾‹"><a class="markdownIt-Anchor" href="#ä¸‰-æµ‹è¯•ç”¨ä¾‹ä½¿ç”¨æ¡ˆä¾‹"></a> ä¸‰ã€æµ‹è¯•ç”¨ä¾‹ä½¿ç”¨æ¡ˆä¾‹ï¼š</h2><p>1ã€å†’çƒŸæµ‹è¯•ï¼šæ‰€è°“å†’çƒŸæµ‹è¯•ï¼Œå°±æ˜¯å®Œæˆä¸€ä¸ªæ–°ç‰ˆæœ¬çš„å¼€å‘åï¼Œå¯¹è¯¥ç‰ˆæœ¬æœ€åŸºæœ¬çš„åŠŸèƒ½è¿›è¡Œæµ‹è¯•ï¼Œä¿è¯åŸºæœ¬çš„åŠŸèƒ½å’Œæµç¨‹èƒ½èµ°é€šã€‚</p><p>æ‰€ä»¥å†’çƒŸæµ‹è¯•ä½¿ç”¨çš„ç”¨ä¾‹ï¼Œåº”è¯¥æ¶µç›–ç³»ç»Ÿçš„æ ¸å¿ƒåŠŸèƒ½å’Œä¸»è¦ä½¿ç”¨åœºæ™¯ï¼Œä»¥æ£€æŸ¥ç³»ç»Ÿçš„åŸºæœ¬åŠŸèƒ½æ˜¯å¦å¯ç”¨ã€‚</p><p>å¦‚æœä¸é€šè¿‡ï¼Œåˆ™æ‰“å›å¼€å‘é‚£è¾¹é‡æ–°å¼€å‘ï¼›<br />å¦‚æœé€šè¿‡æµ‹è¯•ï¼Œæ‰ä¼šè¿›è¡Œä¸‹ä¸€æ­¥çš„æµ‹è¯•(åŠŸèƒ½æµ‹è¯•ï¼Œé›†æˆæµ‹è¯•ï¼Œç³»ç»Ÿæµ‹è¯•ç­‰ç­‰)ã€‚</p><p>2ã€å•å…ƒæµ‹è¯•ï¼š åœ¨å•å…ƒæµ‹è¯•é˜¶æ®µï¼Œå¼€å‘äººå‘˜ç¼–å†™æµ‹è¯•ç”¨ä¾‹æ¥éªŒè¯ä»–ä»¬çš„ä»£ç æ˜¯å¦æŒ‰ç…§è§„æ ¼å’Œè®¾è®¡è¦æ±‚å·¥ä½œã€‚è¿™æœ‰åŠ©äºæ•è·å’Œä¿®å¤ä»£ç ä¸­çš„ç¼ºé™·ã€‚</p><p>3ã€é›†æˆæµ‹è¯•ï¼š åœ¨é›†æˆæµ‹è¯•ä¸­ï¼Œæµ‹è¯•ç”¨ä¾‹ç”¨äºæµ‹è¯•ä¸åŒæ¨¡å—ä¹‹é—´çš„äº¤äº’å’Œæ•°æ®æµã€‚è¿™æœ‰åŠ©äºç¡®ä¿æ•´ä¸ªç³»ç»Ÿçš„å„ä¸ªç»„ä»¶ååŒå·¥ä½œæ­£å¸¸ã€‚</p><p>4ã€éªŒæ”¶æµ‹è¯•ï¼šåœ¨éªŒæ”¶æµ‹è¯•ä¸­ï¼Œæµ‹è¯•ç”¨ä¾‹ç”¨äºéªŒè¯è½¯ä»¶æ˜¯å¦æ»¡è¶³æœ€ç»ˆç”¨æˆ·çš„éœ€æ±‚å’ŒæœŸæœ›ã€‚äº§å“ç»ç†å’Œä¸šåŠ¡åˆ†æå¸ˆå¯ä»¥ä½¿ç”¨è¿™äº›ç”¨ä¾‹æ¥ç¡®è®¤è½¯ä»¶æ˜¯å¦æ»¡è¶³è§„æ ¼ã€‚</p><p>5ã€è‡ªåŠ¨åŒ–æµ‹è¯•ï¼š æ‰€è°“è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œæ˜¯æŒ‡ä½¿ç”¨ä»£ç æˆ–å·¥å…·ä»£æ›¿æ‰‹å·¥ï¼Œå¯¹é¡¹ç›®è¿›è¡Œæµ‹è¯•ã€‚æµ‹è¯•ç”¨ä¾‹ä¹Ÿå¯ä»¥ç”¨äºè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œå…¶ä¸­æµ‹è¯•è„šæœ¬ä¼šæ‰§è¡Œé¢„å®šä¹‰çš„æµ‹è¯•ç”¨ä¾‹ï¼Œæ¨¡æ‹Ÿå„ç§æƒ…æ™¯ã€‚è¿™å¯ä»¥æé«˜æµ‹è¯•æ•ˆç‡å’Œå¯é‡å¤æ€§ã€‚</p><h2 id="å››-æµ‹è¯•ç”¨ä¾‹åœ¨æµ‹è¯•å·¥ä½œä¸­çš„åœ°ä½åˆ†äº«"><a class="markdownIt-Anchor" href="#å››-æµ‹è¯•ç”¨ä¾‹åœ¨æµ‹è¯•å·¥ä½œä¸­çš„åœ°ä½åˆ†äº«"></a> å››ã€æµ‹è¯•ç”¨ä¾‹åœ¨æµ‹è¯•å·¥ä½œä¸­çš„åœ°ä½åˆ†äº«</h2><p>ç»¼ä¸Šæ‰€è¿°ï¼Œç¼–å†™æµ‹è¯•ç”¨ä¾‹ä¸ä»…æœ‰åŠ©äºå‘ç°é—®é¢˜ã€éªŒè¯éœ€æ±‚å’Œæé«˜è½¯ä»¶è´¨é‡ï¼Œè¿˜å¯ä»¥é˜²æ­¢æ¼æµ‹ã€æä¾›æµ‹è¯•æ ‡å‡†å’Œæ–¹ä¾¿æµ‹è¯•å·¥ä½œçš„è¯„ä¼°ã€‚</p><p>è¿™äº›ç”¨ä¾‹åœ¨ä¸åŒæµ‹è¯•é˜¶æ®µå’Œæƒ…æ™¯ä¸‹éƒ½å‘æŒ¥å…³é”®ä½œç”¨ï¼Œç¡®ä¿è½¯ä»¶çš„å¯é æ€§å’Œä¸€è‡´æ€§ã€‚<br />æ— è®ºä½ æ˜¯ä»äº‹è½¯ä»¶æµ‹è¯•è¿˜æ˜¯å¼€å‘ï¼Œç†è§£æµ‹è¯•ç”¨ä¾‹çš„ä»·å€¼æ˜¯è‡³å…³é‡è¦çš„ã€‚</p><p>è¿™äº›ç”¨ä¾‹ä¸ä»…æœ‰åŠ©äºå‘ç°é—®é¢˜ã€éªŒè¯éœ€æ±‚å’Œæé«˜è½¯ä»¶è´¨é‡ï¼Œè¿˜å¯ä»¥é˜²æ­¢æ¼æµ‹ã€æä¾›æµ‹è¯•æ ‡å‡†å’Œæ–¹ä¾¿æµ‹è¯•å·¥ä½œçš„è¯„ä¼°ï¼Œç¡®ä¿æµ‹è¯•å·¥ä½œçš„æœ‰æ•ˆæ€§å’Œå¯ä¿¡åº¦ã€‚</p><p>æ‰€ä»¥ï¼Œæµ‹è¯•ç”¨ä¾‹åœ¨æµ‹è¯•å·¥ä½œä¸­çš„åœ°ä½éå¸¸é«˜ï¼Œå±äºè½¯ä»¶æµ‹è¯•æ ¸å¿ƒæµç¨‹ã€‚</p><p><img src="3220308-20231123150358836-842638813.png" alt="" /></p><p>ä¹Ÿå› æ­¤ï¼Œæµ‹è¯•ç”¨ä¾‹æ’°å†™ï¼Œæ˜¯è½¯ä»¶æµ‹è¯•äººå‘˜çš„åŸºæœ¬åŠŸï¼Œå¿…é¡»è¦æŒæ¡ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TEST </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Webå‰ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•Cypresså®è·µæ€»ç»“</title>
      <link href="/2025/04/08/TEST/Web%E5%89%8D%E7%AB%AF%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95Cypress%E5%AE%9E%E8%B7%B5%E6%80%BB%E7%BB%93/"/>
      <url>/2025/04/08/TEST/Web%E5%89%8D%E7%AB%AF%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95Cypress%E5%AE%9E%E8%B7%B5%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<blockquote><h2 id="excerpt"><a class="markdownIt-Anchor" href="#excerpt"></a> Excerpt</h2><p>æœ¬æ–‡ä¸»è¦é¦–å…ˆä¸»è¦ä»‹ç»äº†ä»€ä¹ˆæ˜¯è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œæ¥ç€å¯¹å¸¸ç”¨çš„è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶è¿›è¡Œäº†å¯¹æ¯”åˆ†æï¼Œæœ€åï¼Œä»‹ç»äº†å¦‚æœå°†è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶Cypressè¿ç”¨åœ¨é¡¹ç›®ä¸­ã€‚</p></blockquote><h2 id="ä¸€-è‡ªåŠ¨åŒ–æµ‹è¯•æ¦‚è¿°"><a class="markdownIt-Anchor" href="#ä¸€-è‡ªåŠ¨åŒ–æµ‹è¯•æ¦‚è¿°"></a> ä¸€ã€è‡ªåŠ¨åŒ–æµ‹è¯•æ¦‚è¿°</h2><p>ä¸ºäº†ä¿éšœè½¯ä»¶è´¨é‡ï¼Œå¹¶å‡å°‘é‡å¤æ€§çš„æµ‹è¯•å·¥ä½œï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•å·²ç»è¢«å¹¿æ³›è¿ç”¨ã€‚åœ¨å¼€å§‹å­¦ä¹ è‡ªåŠ¨åŒ–æµ‹è¯•ä¹‹å‰ï¼Œæˆ‘ä»¬å¾ˆæœ‰å¿…è¦å…ˆææ¸…æ¥šè¿™å‡ ä¸ªé—®é¢˜ï¼Œä»€ä¹ˆæ˜¯è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Ÿä¸ºä»€ä¹ˆè¦åšè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Ÿå“ªäº›é¡¹ç›®é€‚åˆåšè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Ÿ</p><p><strong>1ã€ä»€ä¹ˆæ˜¯è‡ªåŠ¨åŒ–æµ‹è¯•</strong></p><p>è‡ªåŠ¨åŒ–æµ‹è¯•æ˜¯ä¸€ç§æµ‹è¯•æ–¹æ³•ï¼Œæ˜¯æŒ‡ä½¿ç”¨ç‰¹å®šçš„è½¯ä»¶ï¼Œå»æ§åˆ¶æµ‹è¯•æµç¨‹ï¼Œå¹¶æ¯”è¾ƒå®é™…ç»“æœä¸é¢„æœŸç»“æœä¹‹é—´çš„å·®å¼‚ã€‚é€šè¿‡å°†æµ‹è¯•è‡ªåŠ¨åŒ–ï¼Œå¯ä»¥æŠŠäººå¯¹è½¯ä»¶çš„æµ‹è¯•è¡Œä¸ºè½¬åŒ–ä¸ºç”±æœºå™¨è‡ªåŠ¨æ‰§è¡Œæµ‹è¯•çš„è¡Œä¸ºï¼Œä»è€Œæ›¿ä»£å¤§é‡çš„æ‰‹å·¥æµ‹è¯•æ“ä½œï¼Œä½¿å¾—æµ‹è¯•å¯ä»¥å¿«é€Ÿï¼Œåå¤çš„è¿›è¡Œã€‚</p><p>å…³äºè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œæœ‰ä¸€ä¸ªæµ‹è¯•é‡‘å­—å¡”æ¨¡å‹ï¼Œè¯¥æ¨¡å‹æŠŠæµ‹è¯•ä»ä¸‹åˆ°ä¸Šåˆ†ä¸ºäº†å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•å’Œç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆE2Eæµ‹è¯•/UIç•Œé¢æµ‹è¯•ï¼‰ã€‚è¶Šå¾€é‡‘å­—å¡”åº•å±‚ï¼Œæµ‹è¯•æˆæœ¬è¶Šä½ï¼Œæ•ˆç‡ä¹Ÿè¶Šé«˜ï¼Œè€Œè¶Šå¾€é‡‘å­—å¡”çš„é¡¶å±‚ï¼Œæµ‹è¯•æˆæœ¬ä¼šé€æ¸å¢é«˜ï¼Œæ”¶ç›Šä¹Ÿä¼šè¶Šä½ã€‚</p><p><img src="3220308-20231122221645300-1408508529.png" alt="" /></p><p><strong>å•å…ƒæµ‹è¯•</strong></p><p>å•å…ƒæµ‹è¯•åˆç§°ä¸ºæ¨¡å—æµ‹è¯•ï¼Œä¸»è¦é’ˆå¯¹ç¨‹åºä¸­æœ€å°å¯æµ‹è¯•å•å…ƒï¼ˆä¸€èˆ¬æŒ‡æ–¹æ³•ï¼Œç±»ï¼‰çš„æµ‹è¯•ï¼Œå…·å¤‡æŠ•å…¥å°ã€æ”¶ç›Šäº§å‡ºé«˜çš„ç‰¹å¾ï¼Œå¯ä»¥è¾ƒæ—©æœŸåœ°å‘ç°ä»£ç ç¼ºé™·ï¼Œé€‚ç”¨äºå…¬å…±å‡½æ•°åº“çš„æµ‹è¯•ã€‚</p><p><strong>é›†æˆæµ‹è¯•</strong></p><p>é›†æˆæµ‹è¯•ä¸»è¦åŒ…æ‹¬æ¨¡å—æ¥å£æµ‹è¯•ï¼Œå­åŠŸèƒ½æ¨¡å—é›†æˆèµ·æ¥çš„åŠŸèƒ½æ¨¡å—æµ‹è¯•ç­‰ï¼Œç›®çš„æ˜¯ä¸ºäº†éªŒè¯åœ¨å•å…ƒæµ‹è¯•çš„åŸºç¡€ä¸Šï¼Œæ‰€æœ‰æ¨¡å—é›†æˆèµ·æ¥çš„å­ç³»ç»Ÿã€å­åŠŸèƒ½æ˜¯å¦ä»ç„¶æ»¡è¶³è´¨é‡ç›®æ ‡ã€‚</p><p><strong>ç«¯åˆ°ç«¯æµ‹è¯•</strong></p><p>ç«¯åˆ°ç«¯æµ‹è¯•çš„ä¸»è¦ç›®çš„æ˜¯ä»è½¯ä»¶ä½¿ç”¨è€…è§’åº¦æ¥æ£€éªŒè½¯ä»¶çš„è´¨é‡ï¼Œå¦‚æ‰“å¼€æµè§ˆå™¨ï¼Œè¿›è¡Œä¸€ç³»åˆ—çš„æ“ä½œï¼ŒéªŒè¯ç•Œé¢æˆ–åŠŸèƒ½æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚</p><p>ä¸åŒç±»å‹çš„é¡¹ç›®ï¼Œå…·æœ‰ä¸åŒçš„æµ‹è¯•åœºæ™¯ï¼Œå› æ­¤ä¹Ÿéœ€è¦é‡‡ç”¨ä¸åŒçš„æµ‹è¯•ç±»å‹ã€‚å¯¹äºå¼€å‘äººå‘˜æ¥è¯´ï¼Œå•å…ƒæµ‹è¯•ä¸“æ³¨äºä»£ç åº•å±‚ï¼Œå¯èƒ½æ˜¯ä¸€ç§æ¯”è¾ƒå‹å¥½çš„é€‰æ‹©ã€‚ä½†æ˜¯ç«™åœ¨äº§å“çš„è§’åº¦ä¸Šï¼Œä¹Ÿè®¸ç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆE2Eï¼‰æ˜¯æ›´å¥½çš„é€‰æ‹©ï¼Œæ›´èƒ½ä¿éšœäº§å“åŠŸèƒ½ç¬¦åˆé¢„æœŸã€‚</p><p>è®²å®Œäº†è‡ªåŠ¨åŒ–æµ‹è¯•ç±»å‹ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹æµ‹è¯•ä¸­å¸¸ç”¨çš„æµ‹è¯•æ¨¡å¼ï¼Œä¸€èˆ¬å¸¸ç”¨çš„æµ‹è¯•æ¨¡å¼åŒ…æ‹¬TDDå’ŒBDDä¸¤ç§ã€‚</p><p><strong>TDD</strong></p><p>TDDï¼ˆæµ‹è¯•é©±åŠ¨å¼€å‘ï¼ŒTest Driven Developmentï¼‰ï¼ŒTDDæ˜¯æŒ‡å…ˆå†™æµ‹è¯•ç”¨ä¾‹ä»£ç ï¼Œå†å†™åŠŸèƒ½ä»£ç ï¼Œå¹¶ä¸”ä¸æ–­çš„é‡å¤ä¸Šè¿°æ­¥éª¤ç›´åˆ°å®Œæˆå¼€å‘å·¥ä½œã€‚TDDä¸€èˆ¬ç»“åˆå•å…ƒæµ‹è¯•ä½¿ç”¨ï¼Œæ˜¯ç™½ç›’æµ‹è¯•ã€‚</p><p><strong>BDD</strong></p><p>BDDï¼ˆè¡Œä¸ºé©±åŠ¨å¼€å‘ï¼ŒBehavior Driven Developmentï¼‰ï¼ŒBDDæ˜¯æŒ‡å…ˆå†™åŠŸèƒ½ä»£ç ï¼Œå†å†™æµ‹è¯•ç”¨ä¾‹ä»£ç ï¼ŒBDDä¸€èˆ¬ç»“åˆé›†æˆæµ‹è¯•æˆ–ç«¯åˆ°ç«¯æµ‹è¯•ä½¿ç”¨ï¼Œæ˜¯é»‘ç›’æµ‹è¯•ã€‚</p><p>å½“ç„¶ï¼Œæ˜¯é€‰æ‹©TDDè¿˜æ˜¯BDDï¼Œä¹Ÿæ˜¯éœ€è¦ä»é¡¹ç›®çš„å®é™…è§’åº¦å‡ºå‘è€ƒè™‘ï¼Œå†åšé€‰æ‹©</p><p><strong>2ã€ä¸ºä»€ä¹ˆè¦åšè‡ªåŠ¨åŒ–æµ‹è¯•</strong></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥èŠèŠä¸ºä»€ä¹ˆè¦åšè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Ÿåœ¨å®é™…çš„é¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šé‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š</p><p><strong>äº§å“è¿­ä»£é¢‘ç¹</strong></p><p>è¿­ä»£è¿‡ç¨‹ä¸­ä¸å¯é¿å…çš„éœ€è¦æ–°å¢åŠŸèƒ½æˆ–ä¿®æ”¹åŠŸèƒ½ï¼Œæ€ä¹ˆä¿éšœæ–°åŠŸèƒ½çš„å‘å¸ƒä¸ä¼šå½±å“åŸæœ‰åŠŸèƒ½å‘¢ï¼Ÿ</p><p><strong>å¤šäººå…±åŒå‚ä¸å¼€å‘ï¼Œä»£ç ç»´æŠ¤éš¾</strong></p><p>é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­å¤šäººå‚ä¸å¼€å‘ï¼Œäººå‘˜å˜åŠ¨é¢‘ç¹ï¼Œå¼€å‘è¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°è¯¯åˆ æˆ–è¯¯æ”¹ä»–äººä»£ç é€»è¾‘çš„é—®é¢˜ï¼Œå¦‚ä½•ä¿éšœä»£ç çš„è´¨é‡å’Œå¯é æ€§ï¼Ÿ</p><p><strong>æµ‹è¯•äººåŠ›ä¸è¶³ï¼Œå›å½’æµ‹è¯•è€—æ—¶è€—åŠ›</strong></p><p>ä¸ºäº†è§£å†³ä¸Šé¢æåˆ°çš„ä¸¤ä¸ªé—®é¢˜ï¼Œå…¶å®æ–¹æ³•å¾ˆç®€å•ï¼Œå°±æ˜¯æ¯æ¬¡æ–°åŠŸèƒ½å‘å¸ƒåï¼Œéƒ½å¯¹åŸæœ‰åŠŸèƒ½å†è¿›è¡Œå›å½’æµ‹è¯•ã€‚ä½†æ˜¯åˆå¯èƒ½é‡åˆ°æµ‹è¯•äººåŠ›ä¸è¶³çš„æƒ…å†µï¼Œè‡ªå·±æ‰‹åŠ¨è¿›è¡Œå›å½’æµ‹è¯•åˆè€—æ—¶è€—åŠ›ï¼Œå¦‚ä½•æ‰èƒ½å‡å°‘é‡å¤æ€§å·¥ä½œï¼Œæé«˜æ•ˆç‡å‘¢ï¼Ÿè¯´åˆ°è¿™é‡Œï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•å°±æ´¾ä¸Šç”¨åœºå•¦~</p><p>é‚£é¡¹ç›®å¼•å…¥è‡ªåŠ¨åŒ–æµ‹è¯•æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿè‡ªåŠ¨åŒ–æµ‹è¯•çš„å¥½å¤„ä¸»è¦åŒ…æ‹¬äº†ä»¥ä¸‹å‡ ç‚¹ã€‚</p><p><strong>éªŒè¯ä»£ç æ­£ç¡®æ€§ï¼Œä¿éšœäº§å“è´¨é‡</strong></p><p>å¯ä»¥éªŒè¯ä»£ç æˆ–äº§å“åŠŸèƒ½çš„æ­£ç¡®æ€§ï¼Œç¡®ä¿æ¯æ¬¡äº§å“è¿­ä»£ï¼Œæ–°åŠŸèƒ½å’ŒåŸæœ‰åŠŸèƒ½èƒ½å¤Ÿæ­£ç¡®é›†æˆï¼Œä¿è¯äº§å“è´¨é‡ã€‚</p><p><strong>æé«˜æµ‹è¯•æ•ˆç‡</strong></p><p>ç¼–å†™çš„æµ‹è¯•ç”¨ä¾‹å…·æœ‰ä¸€æ¬¡ç¼–å†™ï¼Œå¤šæ¬¡è¿è¡Œçš„ç‰¹ç‚¹ï¼Œé€šè¿‡æ‰§è¡Œæµ‹è¯•è„šæœ¬ï¼Œå¯ä»¥å®ç°ä½¿å¾—æµ‹è¯•å¿«é€Ÿï¼Œåå¤çš„è¿›è¡Œï¼Œå¯ä»¥æ›¿ä»£å¤§é‡çš„é‡å¤æ€§æ‰‹åŠ¨æµ‹è¯•å·¥ä½œï¼Œæé«˜æ•ˆç‡ã€‚</p><p><strong>èµ·åˆ°æ–‡æ¡£ä½œç”¨</strong></p><p>ç¼–å†™çš„æµ‹è¯•ç”¨ä¾‹å¯ä»¥èµ·åˆ°æ–‡æ¡£çš„ä½œç”¨ï¼Œæœ‰åˆ©äºé¡¹ç›®åç»­çš„ç»´æŠ¤ã€‚</p><p><strong>3ã€å“ªäº›é¡¹ç›®é€‚åˆå¼•å…¥è‡ªåŠ¨åŒ–æµ‹è¯•</strong></p><p>æ—¢ç„¶è‡ªåŠ¨åŒ–æµ‹è¯•æœ‰è¿™ä¹ˆå¤šå¥½å¤„ï¼Œé‚£æ˜¯ä¸æ˜¯æ‰€æœ‰é¡¹ç›®éƒ½é€‚åˆå¼•å…¥è‡ªåŠ¨åŒ–æµ‹è¯•å‘¢ï¼Ÿå½“ç„¶ä¸æ˜¯ï¼è‡ªåŠ¨åŒ–æµ‹è¯•éœ€è¦è¿›è¡Œæµ‹è¯•ç”¨ä¾‹çš„ç¼–å†™ï¼Œéœ€è¦ä¸€å®šçš„å¼€å‘æˆæœ¬ï¼Œæˆ‘ä»¬éœ€è¦ç«‹è¶³äºé¡¹ç›®æœ¬èº«ï¼Œå†æ¥å†³å®šæ˜¯å¦é€‚åˆå¼•å…¥è‡ªåŠ¨åŒ–æµ‹è¯•ã€‚</p><p><strong>é€‚åˆå¼•å…¥è‡ªåŠ¨åŒ–æµ‹è¯•çš„é¡¹ç›®</strong></p><p>1ï¼‰äº§å“å‘¨æœŸè¾ƒé•¿ï¼Œéœ€è¦ä¸æ–­è¿›è¡Œè¿­ä»£/é‡æ„çš„é¡¹ç›®ã€‚2ï¼‰å…¬å…±åº“ç±»çš„å¼€å‘ç»´æŠ¤ã€‚</p><p><strong>ä¸é€‚åˆå¼•å…¥è‡ªåŠ¨åŒ–æµ‹è¯•çš„é¡¹ç›®</strong></p><p>1ï¼‰äº§å“å‘¨æœŸè¿‡çŸ­çš„é¡¹ç›®ã€‚2ï¼‰éœ€æ±‚å˜åŠ¨è¿‡äºé¢‘ç¹çš„é¡¹ç›®ã€‚</p><h2 id="äºŒ-å‰ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶é€‰æ‹©"><a class="markdownIt-Anchor" href="#äºŒ-å‰ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶é€‰æ‹©"></a> äºŒã€å‰ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶é€‰æ‹©</h2><p>åœ¨æ˜ç¡®äº†æˆ‘ä»¬çš„é¡¹ç›®æœ‰å¿…è¦å¼•å…¥è‡ªåŠ¨åŒ–æµ‹è¯•ä¹‹åï¼Œå°±éœ€è¦é€‰æ‹©ä¸€æ¬¾è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶æˆ–å·¥å…·æ¥å¸®åŠ©æˆ‘ä»¬å®Œæˆè‡ªåŠ¨åŒ–æµ‹è¯•å·¥ä½œå•¦~</p><p><strong>1ã€æµ‹è¯•æ¡†æ¶å¯¹æ¯”</strong></p><p>ä¸‹é¢ä¸»è¦å¯¹æ¯”äº†ç°åœ¨å¸¸ç”¨çš„Webå‰ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼Œå¦‚æœéœ€è¦äº†è§£æ›´å¤šçš„æ¡†æ¶ï¼Œå¯ä»¥å‚è€ƒæµ‹è¯•æ¡†æ¶é€‰å‹</p><p><img src="3220308-20231122221719572-1442399350.png" alt="" /></p><p>åœ¨ä¸Šè¿°æ¡†æ¶ä¸­ï¼Œç”±äºCypressèƒ½å¤ŸåŒæ—¶æ”¯æŒå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•å’ŒE2Eæµ‹è¯•ï¼Œæä¾›äº†ä¸€å¥—å®Œæˆçš„æµ‹è¯•è§£å†³æ–¹æ¡ˆï¼Œèƒ½å¤Ÿæ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚æ­¤å¤–ï¼ŒCypressæ”¯æŒJSç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œæ”¯æŒJqueryå…ƒç´ å®šä½é€‰æ‹©å™¨ï¼Œæ”¯æŒHeadlesså’ŒCIæŒç»­é›†æˆï¼Œè¿è¡Œé€Ÿåº¦å¿«ï¼Œä¸Šæ‰‹æˆæœ¬ä½ï¼Œå¹¶ä¸”å…·æœ‰å¯è§†åŒ–è°ƒè¯•ç•Œé¢ï¼Œæ–¹ä¾¿å®šä½é—®é¢˜ã€‚å› æ­¤å†³å®šå°è¯•å°†Cypressè¿ç”¨åˆ°é¡¹ç›®ä¸­ã€‚</p><h2 id="ä¸‰-cypresså®è·µ"><a class="markdownIt-Anchor" href="#ä¸‰-cypresså®è·µ"></a> ä¸‰ã€Cypresså®è·µ</h2><p>æ¥ä¸‹æ¥ï¼Œä¸»è¦ä»‹ç»å¦‚ä½•å°†Cypressè¿ç”¨åœ¨é¡¹ç›®ä¸­ã€‚</p><p><strong>1ã€Cypresså®‰è£…</strong></p><p>åœ¨å®‰è£…Cypressæ—¶ï¼Œå¯ä»¥ç›´æ¥åœ¨åŸæœ‰çš„é¡¹ç›®ä¸Šè¿›è¡Œå®‰è£…ï¼Œä¹Ÿå¯ä»¥å¦èµ·ä¸€ä¸ªé¡¹ç›®å®‰è£…ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install cypress --save-dev</span><br></pre></td></tr></table></figure><p><strong>2ã€Cypresså¯åŠ¨</strong></p><p>Cypressä¸»è¦åŒ…å«ä»¥ä¸‹ä¸¤ç§å¯åŠ¨æ–¹å¼ï¼š</p><p>1ï¼‰å‘½ä»¤è¡Œæ‰§è¡Œnpx cypress openï¼šä¼šåœ¨æµè§ˆå™¨æ‰“å¼€æµ‹è¯•ç”¨ä¾‹é›†çš„ç•Œé¢ï¼Œéœ€è¦æ‰‹åŠ¨è¿è¡Œã€‚</p><p>2ï¼‰å‘½ä»¤è¡Œæ‰§è¡Œnpx cypress runï¼šä¼šä»¥æ— å¤´æµè§ˆå™¨æ¨¡å¼è¿è¡ŒæŒ‡å®šçš„æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ï¼Œæ²¡æœ‰å¯è§†åŒ–ç•Œé¢ï¼Œä½†è¿è¡Œè¿‡ç¨‹ä¸­ä¼šå½•åˆ¶æ•´ä¸ªæµ‹è¯•è¿‡ç¨‹çš„è§†é¢‘ï¼Œå¯åœ¨cypress/videosç›®å½•ä¸‹æŸ¥çœ‹ã€‚</p><p>å½“ç„¶ï¼Œé™¤äº†ç›´æ¥åœ¨å‘½ä»¤è¡Œè¿è¡Œä¸Šè¿°å‘½ä»¤ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é…ç½®package.jsonçš„scriptså­—æ®µæ¥å®šä¹‰å¯åŠ¨æ–¹å¼ã€‚</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;serve&quot;: &quot;vue-cli-service serve&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;vue-cli-service build&quot;,</span><br><span class="line">    &quot;lint&quot;: &quot;vue-cli-service lint&quot;,</span><br><span class="line">    &quot;cypress:open&quot;: &quot;npx cypress open&quot;,</span><br><span class="line">    &quot;cypress:run&quot;: &quot;npx cypress run&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¯è§†åŒ–ç•Œé¢è¿è¡Œ</li></ul><p>å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨å¯è§†åŒ–ç•Œé¢è¿›è¡Œæµ‹è¯•ï¼Œåœ¨é…ç½®å¥½package.jsonåï¼Œåªéœ€è¦æ‰§è¡Œnpm run cypress:openï¼Œå°±å¯ä»¥å¯åŠ¨Cypressï¼Œå®ç°å¯è§†åŒ–è°ƒè¯•ï¼Œå¦‚æœåœ¨å¯åŠ¨çš„è¿‡ç¨‹ä¸­é‡åˆ°ä»¥ä¸‹é”™è¯¯ï¼Œå¯ä»¥å…ˆæ‰§è¡Œnpx cypress install -forceï¼Œå†é‡æ–°å¯åŠ¨Cypressã€‚</p><p><img src="3220308-20231122221807305-1390348500.png" alt="" /></p><p>å¦‚æœæˆåŠŸå¯åŠ¨Cypressï¼Œå°†ä¼šçœ‹åˆ°ä»¥ä¸‹ç•Œé¢ï¼Œexamplesç›®å½•ä¸‹æ˜¯cypressè‡ªå¸¦çš„æµ‹è¯•ç”¨ä¾‹æ¼”ç¤ºä»£ç ï¼ˆå¦‚æœåé¢ä¸éœ€è¦ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™äº›æµ‹è¯•ç”¨ä¾‹åˆ é™¤ï¼‰ï¼Œç‚¹å‡»å…¶ä¸­çš„æŸä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œå°†ä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨è¿è¡Œæµ‹è¯•ç”¨ä¾‹ã€‚<br /><img src="3220308-20231122221819930-1276425963.png" alt="" /></p><p>å¦‚æœæˆ‘ä»¬æ˜¯ç¬¬ä¸€æ¬¡å¯åŠ¨Cypressï¼Œä¼šå‘ç°åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ä¹Ÿè‡ªåŠ¨ç”Ÿæˆäº†cypress.jsoné…ç½®æ–‡ä»¶å’Œcypressç›®å½•ã€‚å…¶ä¸­ï¼Œintegrationæ–‡ä»¶å¤¹å°±æ˜¯æˆ‘ä»¬ç”¨æ¥å­˜æ”¾æµ‹è¯•ç”¨ä¾‹çš„ç›®å½•ï¼Œå¯ä»¥åœ¨cypress.jsonä¸­è‡ªå®šä¹‰è¿™äº›é»˜è®¤ç›®å½•çš„å‘½åã€‚</p><p><img src="3220308-20231122221827786-656387977.png" alt="" /></p><ul><li>æ— å¤´æµè§ˆå™¨æ¨¡å¼è¿è¡Œ</li></ul><p>å¦‚æœæˆ‘ä»¬æƒ³ä»¥æ— å¤´æµè§ˆå™¨æ¨¡å¼è¿è¡Œï¼Œåœ¨é…ç½®å¥½package.jsonåï¼Œéœ€è¦æ‰§è¡Œnpm run cypress:runï¼ŒCypresså°±ä¼šä»¥æ— å¤´æµè§ˆå™¨çš„æ¨¡å¼è¿è¡ŒæŒ‡å®šçš„æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ã€‚</p><p><img src="3220308-20231122221839001-197467408.png" alt="" /></p><p><strong>3ã€ç¼–å†™æµ‹è¯•ç”¨ä¾‹</strong></p><p>æ¥ä¸‹æ¥ä»¥éªŒè¯ç™¾åº¦é¡µé¢çš„æœç´¢åŠŸèƒ½ä¸ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œæµ‹è¯•ç”¨ä¾‹å¯ä»¥ä»¥.spec.jsæˆ–.jsç»“å°¾å‘½åï¼Œå¹¶æ”¾å…¥cypress/integrationä¸­ã€‚</p><p>é¡¹ç›®ç›®å½•å¦‚ä¸‹æ‰€ç¤ºï¼Œåœ¨cypress/integrationä¸­åˆ›å»ºtest.jsæˆ–test.spec.jsæµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ã€‚</p><p><img src="3220308-20231122221847851-800992875.png" alt="" /></p><p>æ¥ç€ï¼Œå¯ä»¥åœ¨test.jsä¸­å¼€å§‹ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼ŒCypressæ”¯æŒJqueryå…ƒç´ é€‰æ‹©å™¨åŠæ±‰å­—é€‰æ‹©å™¨ï¼Œå¹¶ä¸”ä¹Ÿæ”¯æŒé“¾å¼æ“ä½œï¼Œæ­¤å¤–ï¼Œç”±äºCypressæ‹¥æœ‰è‡ªåŠ¨ç­‰å¾…æœºåˆ¶ï¼Œæˆ‘ä»¬æ— é¡»åœ¨æµ‹è¯•ä¸­æ·»åŠ waitæˆ–sleepï¼ŒCypressä¼šè‡ªåŠ¨ç­‰å¾…å…ƒç´ è‡³å¯æ“ä½œçŠ¶æ€æ—¶æ‰æ‰§è¡Œå‘½ä»¤æˆ–æ–­è¨€ã€‚</p><pre><code>/// &lt;reference types=&quot;cypress&quot; /&gt;context('ç™¾åº¦é¡µé¢æµ‹è¯•', () =&gt; &#123;  it('è®¿é—®ç™¾åº¦é¡µé¢ï¼ŒéªŒè¯æœç´¢åŠŸèƒ½', () =&gt; &#123;    cy.visit('https://www.baidu.com').then(() =&gt; &#123;      // 1. è¾“å…¥æœç´¢å†…å®¹      cy.get(&quot;.s_ipt&quot;).should(&quot;exist&quot;).type(&quot;Cypressè‡ªåŠ¨åŒ–æµ‹è¯•&quot;);      // 2. ç‚¹å‡»ç™¾åº¦ä¸€ä¸‹æŒ‰é’®      cy.get(&quot;.s_btn&quot;).contains(&quot;ç™¾åº¦ä¸€ä¸‹&quot;).should(&quot;exist&quot;).click();      // 3. éªŒè¯æœç´¢å†…å®¹ä¸ä¸ºç©º      cy.get(&quot;#content_left&quot;).find(&quot;div&quot;).then(ele =&gt; &#123;        expect(ele.length).gt(0);      &#125;);    &#125;);  &#125;);&#125;);</code></pre><p>ç¼–å†™å®Œä¸Šè¿°ä»£ç ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥å¯åŠ¨Cypressè¿è¡Œå•¦ï¼Œå½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ ¹æ®å®é™…éœ€è¦åœ¨cypress.jsonè¿›è¡Œä¸€äº›é…ç½®ï¼Œä¸‹é¢ç»™å‡ºäº†ä¸€äº›å¸¸ç”¨çš„é…ç½®ï¼Œå¯ä»¥åœ¨Cypressæ–‡æ¡£æŸ¥çœ‹æ›´å¤šé…ç½®ã€‚<br /><img src="3220308-20231122221858443-306212120.png" alt="" /><br />æœ€åï¼Œæ‰§è¡Œnpm run cypress:openå¯åŠ¨Cypressï¼Œå¯åŠ¨æˆåŠŸåï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°ä»¥ä¸‹ç•Œé¢ï¼Œç‚¹å‡»test.jsï¼Œå°±ä¼šåœ¨æµè§ˆå™¨ä¸­è¿è¡Œè¯¥æµ‹è¯•ç”¨ä¾‹ã€‚<br /><img src="3220308-20231122221939686-542436608.png" alt="" /></p><p>åœ¨æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸€æ­¥æ“ä½œéƒ½ä¼šè¢«è®°å½•ä¸‹æ¥ï¼Œå¯ä»¥ç‚¹å‡»å·¦è¾¹çš„ç•Œé¢å¯¹æ¯ä¸€æ­¥çš„æ“ä½œè¿›è¡Œå›çœ‹ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®šä½é—®é¢˜ã€‚</p><p><img src="3220308-20231122221948759-1836573632.png" alt="" /></p><p><img src="3220308-20231122221955239-824334885.png" alt="" /></p><p><strong>4ã€Cypessæ–‡ä»¶ä¸Šä¼ /ä¸‹è½½</strong></p><p>åœ¨å®é™…çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¹Ÿéœ€è¦éªŒè¯æ–‡ä»¶ä¸Šä¼ æˆ–ä¸‹è½½åŠŸèƒ½ï¼Œè€ŒCypressä¹Ÿèƒ½å¤Ÿæ»¡è¶³è¿™äº›éœ€æ±‚ã€‚</p><p>1ï¼‰æ–‡ä»¶ä¸Šä¼ </p><p>é¦–å…ˆéœ€è¦å®‰è£…cypress-upload-fileæ’ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install cypress-upload-file --save-dev</span><br></pre></td></tr></table></figure><p>å°†è¦ä¸Šä¼ çš„æ–‡ä»¶æ”¾åˆ°cypress/fixturesä¸­ã€‚</p><p><img src="3220308-20231122222004461-1323926124.png" alt="" /></p><p>ç¼–å†™æµ‹è¯•ç”¨ä¾‹ä»£ç ã€‚</p><pre><code>/// &lt;reference types=&quot;cypress&quot; /&gt;context('æ–‡ä»¶ä¸Šä¼ ', () =&gt; &#123;  it('éªŒè¯æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½', () =&gt; &#123;    // è®¿é—®é¡µé¢ï¼Œæ­¤å¤„æ­¥éª¤çœç•¥    let file = &quot;file/cover.jpg&quot;;    cy.get(&quot;input[type='file']&quot;).attachFile(file);    // æ‰§è¡Œæ–­è¨€ï¼Œæ­¤å¤„æ­¥éª¤çœç•¥  &#125;);&#125;);</code></pre><p>2ï¼‰æ–‡ä»¶ä¸‹è½½</p><p>è‹¥æˆ‘ä»¬åœ¨è¿è¡Œæµ‹è¯•ç”¨ä¾‹çš„è¿‡ç¨‹ä¸­å­˜åœ¨æ–‡ä»¶ä¸‹è½½æ“ä½œï¼ŒCypressä¼šè‡ªåŠ¨åœ¨cypressç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªdownloadsç›®å½•ï¼Œæ‰€ä¸‹è½½çš„æ–‡ä»¶ä¼šè‡ªåŠ¨ä¿å­˜åœ¨è¯¥ç›®å½•ä¸­ã€‚</p><p><img src="3220308-20231122222018835-1565901211.png" alt="" /></p><p>å¯ä»¥åœ¨æµ‹è¯•ç”¨ä¾‹ä¸­è¯»å–å¹¶è§£æä¸‹è½½çš„æ–‡ä»¶ã€‚</p><pre><code>/// &lt;reference types=&quot;cypress&quot; /&gt;const path = require(&quot;path&quot;);context('æ–‡ä»¶ä¸‹è½½', () =&gt; &#123;  it('éªŒè¯æ–‡ä»¶ä¸‹è½½åŠŸèƒ½', () =&gt; &#123;    // è®¿é—®é¡µé¢ï¼Œæ‰§è¡Œä¸‹è½½æ“ä½œï¼Œæ­¤å¤„æ­¥éª¤çœç•¥    const downloadsFolder = Cypress.config(&quot;downloadsFolder&quot;);    const downloadedFilename = path.join(downloadsFolder, &quot;ä¸‹è½½æ–‡ä»¶.xls&quot;);    // è¯»å–æ–‡ä»¶    cy.readFile(downloadedFilename).then(data =&gt; &#123;      // æ‰§è¡Œæ–­è¨€ï¼Œæ­¤å¤„æ­¥éª¤çœç•¥    &#125;);  &#125;);&#125;);</code></pre><p><strong>5ã€Cypressæµ‹è¯•æŠ¥å‘Š</strong></p><p>åœ¨æ‰§è¡Œå®Œè‡ªåŠ¨åŒ–æµ‹è¯•åï¼Œæˆ‘ä»¬é€šå¸¸éƒ½å¸Œæœ›èƒ½å¤Ÿå¾—åˆ°ä¸€ä»½è¯¦ç»†çš„æµ‹è¯•æŠ¥å‘Šï¼Œè€ŒCypressä¹Ÿèƒ½å¤Ÿæä¾›è¿™ä¸ªåŠŸèƒ½ã€‚Cypressé™¤äº†å†…ç½®çš„æµ‹è¯•æŠ¥å‘Šï¼Œä¹Ÿæ”¯æŒç”¨æˆ·è‡ªå®šä¹‰æŠ¥å‘Šæ ¼å¼ã€‚</p><p>1ï¼‰å†…ç½®çš„æµ‹è¯•æŠ¥å‘Š</p><p>Cypresså†…ç½®çš„æµ‹è¯•æŠ¥å‘Šä¸»è¦åŒ…æ‹¬äº†specæ ¼å¼æŠ¥å‘Šï¼ˆåœ¨æ§åˆ¶å°çª—å£è¾“å‡ºåµŒå¥—åˆ†çº§è§†å›¾ï¼‰ï¼Œjsonæ ¼å¼æŠ¥å‘Šï¼ˆåœ¨æ§åˆ¶å°çª—å£è¾“å‡ºä¸€ä¸ªå¤§çš„jsonå¯¹è±¡ï¼‰å’Œjunitæ ¼å¼æŠ¥å‘Šï¼ˆè¾“å‡ºä¸€ä¸ªxmlæ–‡ä»¶ï¼‰ã€‚ä»¥specæ ¼å¼æŠ¥å‘Šä¸ºä¾‹ï¼Œåœ¨å¯åŠ¨cypressæ—¶åŠ ä¸Šä»¥ä¸‹å‚æ•°å³å¯ã€‚</p><p><img src="3220308-20231122222039304-1461732856.png" alt="" /></p><p><strong>2ï¼‰è‡ªå®šä¹‰çš„æµ‹è¯•æŠ¥å‘Š</strong></p><p>å¸¸ç”¨çš„è‡ªå®šä¹‰æµ‹è¯•æŠ¥å‘Šæœ‰MochawesomeæŠ¥å‘Šï¼ŒMochawesomeæ˜¯ä¸Mochaä¸€èµ·ä½¿ç”¨çš„è‡ªå®šä¹‰æŠ¥å‘Šç¨‹åºï¼Œå¹¶ä¸mochawesome-report-generatorç»“åˆä½¿ç”¨ä»¥ç”Ÿæˆç‹¬ç«‹çš„HTML/CSSæŠ¥å‘Šã€‚</p><p>å®‰è£…mochaå’Œmochawesomeã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install mocha --save-dev</span><br><span class="line">npm install mochawesome --save-dev</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å¯åŠ¨å‚æ•°ã€‚<br /><img src="3220308-20231122222051966-256369104.png" alt="" /></p><p>è¿è¡Œnpm run cypress:runï¼Œæ‰§è¡Œç»“æŸåï¼Œä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ç”Ÿæˆmochawesome-reportç›®å½•ã€‚<br /><img src="3220308-20231122222059848-455926518.png" alt="" /></p><p>åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€mochawesome.htmlï¼Œå°±å¯ä»¥æŸ¥çœ‹å¯è§†åŒ–æµ‹è¯•æŠ¥å‘Šã€‚</p><p><img src="3220308-20231122222108318-926722057.png" alt="" /></p><h2 id="å››-ç¼–å†™å¯ç»´æŠ¤çš„æµ‹è¯•è„šæœ¬"><a class="markdownIt-Anchor" href="#å››-ç¼–å†™å¯ç»´æŠ¤çš„æµ‹è¯•è„šæœ¬"></a> å››ã€ç¼–å†™å¯ç»´æŠ¤çš„æµ‹è¯•è„šæœ¬</h2><p>åœ¨å®é™…ç¼–å†™æµ‹è¯•ç”¨ä¾‹çš„è¿‡ç¨‹ä¸­ï¼Œéšç€é¡µé¢çš„å¢å¤šï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šé‡åˆ°ä»¥ä¸‹è¿™äº›é—®é¢˜ï¼Œè€Œè¿™ä¸ªæ—¶å€™ï¼Œå¦‚ä½•ç¼–å†™å¯ç»´æŠ¤çš„æµ‹è¯•è„šæœ¬ï¼Œæ–¹ä¾¿åæœŸç»´æŠ¤ï¼Œä¹Ÿæ˜¾å¾—éå¸¸é‡è¦ï¼Œè¿™é‡Œä¹Ÿæ€»ç»“äº†å®é™…å¼€å‘ä¸­çš„ä¸€äº›ç»éªŒã€‚</p><p><img src="3220308-20231122222117361-1698982086.png" alt="" /></p><p><strong>1ã€æµ‹è¯•ç”¨ä¾‹ä»£ç ç»“æ„ç»„ç»‡</strong></p><p>åœ¨ç¼–å†™æµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€ä¸ªé¡µé¢å¯¹åº”ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥åŒä¸ªåŠŸèƒ½æ¨¡å—çš„é¡µé¢ä¸€èµ·å¯¹åº”ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ï¼Œå¹¶ä¸”å’Œå¹³æ—¶å¼€å‘ä¸­æ‰€é‡‡ç”¨çš„ä»£ç ç»„ç»‡ç»“æ„ç±»ä¼¼ï¼Œå°†ä¸åŒçš„æµ‹è¯•æ–‡ä»¶åˆ’åˆ†åˆ°å¯¹åº”çš„ç›®å½•ä¸‹è¿›è¡Œç®¡ç†ï¼Œæ–¹ä¾¿åæœŸçš„ç»´æŠ¤ã€‚</p><p><img src="3220308-20231122222126214-1624121010.png" alt="" /></p><p><strong>2ã€é¡µé¢é€‰æ‹©å™¨ç»Ÿä¸€ç®¡ç†</strong></p><p>åœ¨E2Eæµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦è·å–é¡µé¢å…ƒç´ ï¼Œæ‰èƒ½å¤Ÿè¿›è¡Œç‚¹å‡»ç­‰æ“ä½œã€‚è€ŒCypressæ”¯æŒJqueryé€‰æ‹©å™¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å…ƒç´ çš„classæˆ–idå®šä½å…ƒç´ ã€‚ä½†æ˜¯ä¸€æ—¦é¡µé¢çš„ç±»åæˆ–idå‘ç”Ÿå˜åŒ–ï¼Œæˆ‘ä»¬ä¸å¾—ä¸ä¿®æ”¹å¯¹åº”é¡µé¢çš„æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ã€‚<br /><img src="3220308-20231122222134798-474040439.png" alt="" /></p><p>åœ¨ç¼–å†™æµ‹è¯•ç”¨ä¾‹çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†é¡µé¢é€‰æ‹©å™¨è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œå®ç°ç±»åæˆ–idé€‰æ‹©å™¨å’Œé€»è¾‘ä»£ç çš„åˆ†ç¦»ã€‚å¯¹äºæ¯ä¸ªé¡µé¢æˆ–è€…æ¯ä¸ªæµ‹è¯•æ–‡ä»¶ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„xxxControl.jsæ–‡ä»¶ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­ï¼Œå°†ä¼šå®šä¹‰ä¸€ä¸ªjsonå¯¹è±¡å¹¶ä¸”exportå‡ºæ¥ï¼Œå…¶ä¸­ï¼Œkeyä¸ºæˆ‘ä»¬è‡ªå·±å®šä¹‰çš„é€‰æ‹©å™¨åç§°ï¼Œè€Œvalueå€¼å¯¹åº”é¡µé¢ä¸­å®é™…çš„classæˆ–idã€‚</p><p><img src="3220308-20231122222142928-759102660.png" alt="" /></p><p>ç”±äºç›®å‰é¡¹ç›®ä¸­ä½¿ç”¨åˆ°äº†iviewç»„ä»¶åº“ï¼Œå› æ­¤ä¹Ÿæå–å‡ºäº†commonControl.jsï¼Œå¯¹iviewçš„é€‰æ‹©å™¨è¿›è¡Œç»Ÿä¸€ç®¡ç†ã€‚</p><p><img src="db994443c2c849ee8cb74bfe6f2c7c12.png" alt="" /><br />ç”±äºæ¯ä¸ªé¡µé¢éƒ½é‡‡ç”¨åˆ°äº†iviewç»„ä»¶ï¼Œå› æ­¤æ¯ä¸ªé¡µé¢æˆ–æ¯ä¸ªæµ‹è¯•æ–‡ä»¶å¯¹åº”çš„control.jséƒ½éœ€è¦å°†ä¸Šé¢çš„commonControl.jså¼•å…¥è¿›æ¥ã€‚</p><p><img src="3220308-20231122222217170-417540352.png" alt="" /></p><p>æœ€åï¼Œæ¯ä¸ªæµ‹è¯•æ–‡ä»¶åªéœ€è¦å¼•å…¥å¯¹åº”çš„control.jsï¼Œå°±å¯ä»¥é€šè¿‡è‡ªå·±å®šä¹‰çš„keyå€¼è·å–é¡µé¢çœŸæ­£çš„classæˆ–idã€‚</p><p><img src="3220308-20231122222206202-11998890.png" alt="" /></p><p>ä¸Šé¢çš„æ–¹æ³•çœ‹èµ·æ¥è™½ç„¶éº»çƒ¦äº†ç‚¹ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªå¥½å¤„ï¼Œé¦–å…ˆï¼Œé‡‡ç”¨è‡ªå·±å®šä¹‰çš„keyå€¼ï¼Œæ›´å®¹æ˜“æ–¹ä¾¿æˆ‘ä»¬è®°å¿†ï¼Œå¯ä»¥å‡å°‘ç¼–å†™æµ‹è¯•ç”¨ä¾‹è¿‡ç¨‹ä¸­åå¤æŸ¥çœ‹é¡µé¢å…ƒç´ å¯¹åº”çš„classæˆ–idåã€‚å…¶æ¬¡ï¼Œå½“é¡µé¢çš„ç±»åæˆ–idå‘ç”Ÿå˜åŒ–æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦ä¿®æ”¹é¡µé¢å¯¹åº”çš„control.jsæ–‡ä»¶å°±å¯ä»¥ï¼Œè€Œä¸ç”¨ä¿®æ”¹æ‰€æœ‰çš„æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ï¼Œæœ‰åˆ©äºåç»­çš„ç»´æŠ¤ã€‚</p><p><strong>3ã€è·¯å¾„ååŠæ¥å£ç»Ÿä¸€ç®¡ç†</strong></p><p>åœ¨ç¼–å†™æµ‹è¯•ç”¨ä¾‹çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦ä½¿ç”¨cy.visit()å»è®¿é—®æŸä¸ªé¡µé¢ï¼Œæˆ–è€…ä½¿ç”¨cy.request()å»è°ƒç”¨åå°æ¥å£ä»¥è¯·æ±‚æ•°æ®æˆ–åˆ›å»ºæµ‹è¯•æ•°æ®ï¼Œå¯¹äºé¡µé¢urlæˆ–åå°æ¥å£apiï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ”¾å…¥æŸä¸ªæ–‡ä»¶ä¸­è¿›è¡Œç»Ÿä¸€ç®¡ç†ã€‚</p><p><img src="3220308-20231122222238561-2059118072.png" alt="" /></p><p><img src="3220308-20231122222244678-419108438.png" alt="" /></p><p>4ã€ä»£ç å¤ç”¨</p><p>åœ¨æµ‹è¯•çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæ³¨æ„åˆ°ï¼Œä¸åŒçš„é¡µé¢å¯èƒ½ä¼šå­˜åœ¨ä¸€äº›ç›¸åŒçš„åŠŸèƒ½ã€‚æ¯”å¦‚åƒç›®å‰çš„é¡¹ç›®ä¸­ï¼Œä¸åŒçš„é¡µé¢éƒ½éœ€è¦å¯¹ä¸€äº›æ“ä½œè¿›è¡Œå¼¹æ¡†ç¡®è®¤æˆ–è¡¨å•è¾“å…¥ï¼Œè€Œåœ¨éªŒè¯å¼¹æ¡†åŠŸèƒ½æ˜¯å¦æ­£ç¡®çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éƒ½éœ€è¦å¯¹å¼¹æ¡†æ‰§è¡Œç‚¹å‡»ç¡®å®šæŒ‰é’®ã€ç‚¹å‡»å–æ¶ˆæŒ‰é’®ã€ç‚¹å‡»å…³é—­æŒ‰é’®ç­‰æ“ä½œï¼Œè€Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥é‡‡ç”¨é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ–¹æ³•å®ç°ä»£ç çš„å°è£…å’Œå¤ç”¨ã€‚</p><p><img src="3220308-20231122222252454-21922686.png" alt="" /></p><p>å®šä¹‰ä¸€ä¸ªå¼¹æ¡†ç±»ï¼Œå¹¶ä¸”å®šä¹‰å±æ€§å’Œæ–¹æ³•ã€‚</p><p><img src="3220308-20231122222258830-420900938.png" alt="" /></p><p>åœ¨æµ‹è¯•æ–‡ä»¶ä¸­ï¼Œéœ€è¦å®ä¾‹åŒ–å¯¹è±¡ï¼Œå¹¶è°ƒç”¨ç›¸å…³çš„æ–¹æ³•å®ŒæˆæŸä¸ªæ“ä½œã€‚<br /><img src="3220308-20231122222306164-1362869647.png" alt="" /></p><p>å½“ç„¶ï¼Œæœ‰äº›æ–¹æ³•å¹¶ä¸æ˜¯æ‰€æœ‰çš„é¡µé¢éƒ½å…±æœ‰çš„ï¼Œä½†æ˜¯åœ¨æŸä¸ªé¡µé¢æˆ–åŠŸèƒ½ä¸­ä¼šåå¤ä½¿ç”¨åˆ°ï¼Œå› æ­¤ä¹Ÿå¯ä»¥ä¸ºæ¯ä¸ªé¡µé¢æˆ–æ¯ä¸ªæµ‹è¯•æ–‡ä»¶å•ç‹¬å°è£…ç›¸åº”çš„æ–¹æ³•ã€‚æ¯”å¦‚ä¸ºè¯¾ç¨‹ç®¡ç†é¡µé¢å°è£…ç›¸åº”çš„é€šç”¨æ–¹æ³•ã€‚</p><p><img src="3220308-20231122222313902-1236472374.png" alt="" /></p><p><img src="3220308-20231122222323161-541469769.png" alt="" /></p><p>ä»¥ä¸Šå°±æ˜¯å…³äºå°†Cypressè¿ç”¨åœ¨é¡¹ç›®ä¸­çš„ä¸€äº›æ€»ç»“ï¼Œè€Œå¦‚ä½•å°†Cypresså’ŒCI/CDç»“åˆï¼Œå¹¶ä¸”å®ç°è‡ªåŠ¨åŒ–æµ‹è¯•çš„å®šæ—¶æ‰§è¡Œï¼Œä¹Ÿæ˜¯æ¥ä¸‹æ¥éœ€è¦ç»§ç»­å®Œæˆçš„å†…å®¹~</p>]]></content>
      
      
      <categories>
          
          <category> æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TEST </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonè™šæ‹Ÿç¯å¢ƒvenvç›´æ¥å¤åˆ¶è¿ç§»çš„æ–¹æ³•</title>
      <link href="/2025/04/08/Python/python%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83venv%E7%9B%B4%E6%8E%A5%E5%A4%8D%E5%88%B6%E8%BF%81%E7%A7%BB%E7%9A%84%E6%96%B9%E6%B3%95/"/>
      <url>/2025/04/08/Python/python%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83venv%E7%9B%B4%E6%8E%A5%E5%A4%8D%E5%88%B6%E8%BF%81%E7%A7%BB%E7%9A%84%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>pythonè™šæ‹Ÿç¯å¢ƒvenvè¿ç§»å¸ƒç½²æœ‰å¾ˆå¤šçš„æ–¹æ³•ï¼Œå¤§å®¶è‡ªè¡Œæœç´¢ã€‚è¿™é‡Œåªä»‹ç»ä¸€ç§ï¼šç›´æ¥å¤åˆ¶çš„æ–¹æ³•</p><p>1ã€å°†æ•´ä¸ªæ–‡ä»¶å¤¹å¤åˆ¶åˆ°æ–°çš„ç”µè„‘</p><p>2ã€ä¿®æ”¹pyvenv.cfgæ–‡ä»¶å†…çš„homeä¸ºä½ æ–°ç”µè„‘pythonçš„å®‰è£…è·¯å¾„ã€‚</p><p><img src="2561d6a86a203d8b4bd82a7ab8261fb8.jpeg" alt="" /></p><p>3ã€ å¦‚æœä½ ä½¿ç”¨vscodeï¼Œè¿˜éœ€è¦ä¿®æ”¹vscodeçš„é…ç½®æ–‡ä»¶launch.jsonï¼Œè¿™æ ·å°±å¯ä»¥åœ¨æ–°çš„ç”µè„‘ä¸Šè°ƒè¯•äº†ã€‚</p><p><img src="44635dd5dc688c83c120ac20e3be4eac.jpeg" alt="" /></p><p>4ã€ä¿®æ”¹ç¨‹åºç›®å½•ä¸‹Scripts\activateæ–‡ä»¶ï¼ˆå¯ä»¥ç”¨è®°äº‹æœ¬æ‰“å¼€ï¼‰</p><p>VIRTUAL_ENV=&quot;E:\your_folder&quot;æ”¹ä¸ºä½ æ–°ç”µè„‘çš„ä½ç½®</p><p><img src="b43fcb5d7e5c6dea6eaa6e5b0564a4b1.jpeg" alt="" /></p><p>5ã€ä¿®æ”¹ç¨‹åºç›®å½•ä¸‹Scripts\activate.batæ–‡ä»¶ï¼ˆå¯ä»¥ç”¨è®°äº‹æœ¬æ‰“å¼€ï¼‰</p><p>set VIRTUAL_ENV=E:\mySourse\anzhi4æ”¹ä¸ºä½ æ–°ç”µè„‘çš„ä½ç½®</p><p><img src="8eed3e4007d12b5dbe5d523ece25ac27.png" alt="" /></p><p>6ã€è¿è¡Œç¨‹åºç›®å½•ä¸‹Scripts\activate.batæ–‡ä»¶ï¼Œæ¿€æ´»è™šæ‹Ÿç¯å¢ƒã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æŠ€æœ¯äººçš„å¤§æ¨¡å‹åº”ç”¨åˆå­¦æŒ‡å—</title>
      <link href="/2025/04/05/LLM/%E6%8A%80%E6%9C%AF%E4%BA%BA%E7%9A%84%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E5%88%9D%E5%AD%A6%E6%8C%87%E5%8D%97/"/>
      <url>/2025/04/05/LLM/%E6%8A%80%E6%9C%AF%E4%BA%BA%E7%9A%84%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E5%88%9D%E5%AD%A6%E6%8C%87%E5%8D%97/</url>
      
        <content type="html"><![CDATA[<blockquote><h2 id="excerpt"><a class="markdownIt-Anchor" href="#excerpt"></a> Excerpt</h2><p>éšç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼Œæ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰ä½œä¸ºä¸€ç§ç»“åˆæ£€ç´¢ä¸ç”Ÿæˆçš„åˆ›æ–°æŠ€æœ¯ï¼Œæ­£åœ¨é‡æ–°å®šä¹‰ä¿¡æ¯æ£€ç´¢çš„æ–¹å¼ã€‚æœ¬æ–‡æ·±å…¥æ¢è®¨äº† RAG çš„æ ¸å¿ƒåŸç†åŠå…¶åœ¨å®é™…åº”ç”¨ä¸­çš„æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆã€‚æ–‡ç« é¦–å…ˆåˆ†æäº†é€šç”¨å¤§æ¨¡å‹åœ¨çŸ¥è¯†å±€é™æ€§ã€å¹»è§‰é—®é¢˜å’Œæ•°æ®å®‰å…¨æ€§ç­‰æ–¹é¢çš„ä¸è¶³ï¼Œéšåè¯¦ç»†ä»‹ç»äº† RAG é€šè¿‡ â€œæ£€ç´¢ + ç”Ÿæˆâ€ æ¨¡å¼å¦‚ä½•æœ‰æ•ˆè§£å†³è¿™äº›é—®é¢˜ã€‚å…·ä½“è€Œè¨€ï¼ŒRAG åˆ©ç”¨å‘é‡æ•°æ®åº“é«˜æ•ˆå­˜å‚¨ä¸æ£€ç´¢ç›®æ ‡çŸ¥è¯†ï¼Œå¹¶ç»“åˆå¤§æ¨¡å‹ç”Ÿæˆåˆç†ç­”æ¡ˆã€‚æ­¤å¤–ï¼Œæ–‡ç« è¿˜å¯¹ RAG çš„å…³é”®æŠ€æœ¯è¿›è¡Œäº†å…¨é¢è§£æï¼ŒåŒ…æ‹¬æ–‡æœ¬æ¸…æ´—ã€æ–‡æœ¬åˆ‡å—ã€å‘é‡åµŒå…¥ã€å¬å›ä¼˜åŒ–åŠæç¤ºè¯å·¥ç¨‹ç­‰ç¯èŠ‚ã€‚æœ€åï¼Œé’ˆå¯¹ RAG ç³»ç»Ÿçš„å¬å›æ•ˆæœä¸æ¨¡å‹å›ç­”è´¨é‡ï¼Œæœ¬æ–‡æå‡ºäº†å¤šç§è¯„ä¼°æ–¹æ³•ï¼Œä¸ºå®é™…å¼€å‘æä¾›äº†é‡è¦å‚è€ƒã€‚é€šè¿‡æœ¬æ–‡ï¼Œè¯»è€…å¯ä»¥å…¨é¢äº†è§£ RAG æŠ€æœ¯çš„åŸç†ã€å®ç°è·¯å¾„åŠå…¶åœ¨ä¿¡æ¯æ£€ç´¢é¢†åŸŸçš„é©å‘½æ€§æ„ä¹‰ã€‚</p></blockquote><hr /><p><img src="182c7a72-46e5-441f-8edf-a610ad4963be.png" alt="" /></p><p><strong>å‰è¨€</strong></p><p>äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰æ—¶ä»£çš„åˆ°æ¥ä¸ºæŠ€æœ¯äººå‘˜æä¾›äº†ä¸°å¯Œçš„å­¦ä¹ å’Œå‘å±•æœºä¼šã€‚å¯¹äºæ²¡æœ‰ç®—æ³•èƒŒæ™¯çš„æŠ€æœ¯åŒå­¦æ¥è¯´ï¼Œè¿æ¥è¿™ç§æ–°å…´æœºé‡ä¸æŒ‘æˆ˜å¹¶åšå¥½åº”å¯¹å‡†å¤‡å’ŒçŸ¥è¯†å‚¨å¤‡æ˜¯éå¸¸é‡è¦çš„ã€‚</p><p>ç»“åˆç¬”è€…è¿™ä¸€æ®µå¯¹äºå¤§æ¨¡å‹å’Œ AI æŠ€æœ¯çš„ä¸€äº›å­¦ä¹ ä»¥åŠå¯¹åŸºäº AI æ”¹é€ çš„è¯¸å¤šå®é™…åº”ç”¨åœºæ™¯çš„äº†è§£ã€‚äºæ˜¯å°±å†™äº†è¿™ç¯‡æ–‡ç« ã€‚å¦å¤–ï¼Œæœ¬ç¯‡æ–‡ç« ä¸ä¼šç”¨è¿‡å¤šçš„ç¯‡å¹…æ¥è®²ç®—æ³•åŸºç¡€çš„å†…å®¹ï¼Œè€ŒæŠŠé‡ç‚¹æ”¾åœ¨ AI åº”ç”¨çš„æ ¸å¿ƒæŠ€æœ¯æ¦‚å¿µçš„ç†è§£ä¸Šã€‚</p><p><img src="576ad66d-81dd-45a0-9167-3f598cd60006.png" alt="" /></p><p><strong>äººå·¥æ™ºèƒ½æœ¯è¯­æ¦‚è¿°</strong></p><p>æƒ³å¿…å¤§å®¶åœ¨åˆšå¼€å§‹é˜…è¯»äººå·¥æ™ºèƒ½ç›¸å…³çš„æ–‡ç« æˆ–ä¹¦ç±çš„æ—¶å€™ï¼Œæ€»æ˜¯å¬åˆ°è¯¸å¦‚ LLMï¼ŒchatGPTï¼ŒRAGï¼ŒAgent ç­‰ç­‰çš„æœ¯è¯­ï¼Œä½†æ˜¯ä¸çŸ¥é“è¿™äº›æœ¯è¯­å¯¹åº”çš„æŠ€æœ¯ç‚¹å…³è”æ€§åœ¨å“ªé‡Œï¼Œæ²¡å…³ç³»ï¼Œå’±ä»¬é¦–å…ˆæ¥å­¦ä¹ ä¸‹è¿™äº›æœ¯è¯­çš„å®šä¹‰ï¼š</p><ul><li><p>AIï¼šArtificial Intelligence çš„ç¼©å†™ï¼ŒæŒ‡ â€œäººå·¥æ™ºèƒ½â€ï¼Œäººå·¥æ™ºèƒ½æ˜¯æŒ‡æ¨¡æ‹Ÿäººç±»æ™ºèƒ½çš„è®¡ç®—æœºç³»ç»Ÿæˆ–è½¯ä»¶ï¼Œä½¿å…¶èƒ½å¤Ÿæ‰§è¡Œè¯¸å¦‚å­¦ä¹ ã€æ¨ç†ã€é—®é¢˜è§£å†³ã€æ„ŸçŸ¥ã€è¯­è¨€ç†è§£ç­‰å¤æ‚ä»»åŠ¡ã€‚</p></li><li><p>ç”Ÿæˆå¼ AIï¼šæ˜¯ä¸€ç§äººå·¥æ™ºèƒ½æŠ€æœ¯ï¼Œèƒ½å¤Ÿè‡ªåŠ¨ç”Ÿæˆæ–°çš„å†…å®¹ï¼Œå¦‚æ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘å’Œè§†é¢‘ç­‰ã€‚ä¸ä¼ ç»Ÿçš„ AI ä¸åŒï¼Œç”Ÿæˆå¼ AI ä¸ä»…èƒ½åˆ†æå’Œç†è§£æ•°æ®ï¼Œè¿˜èƒ½åŸºäºå…¶å­¦ä¹ åˆ°çš„ä¿¡æ¯åˆ›é€ å‡ºæ–°çš„å†…å®¹ã€‚</p></li><li><p>AIGCï¼šAI Generated Content çš„ç¼©å†™ï¼Œæ„æŒ‡ç”±äººå·¥æ™ºèƒ½ç”Ÿæˆçš„å†…å®¹ã€‚åœ¨ç®—æ³•å’Œæ•°ç å†…å®¹åˆ¶ä½œé¢†åŸŸï¼ŒAIGC æ¶‰åŠä½¿ç”¨äººå·¥æ™ºèƒ½æŠ€æœ¯ç”Ÿæˆå„ç§å½¢å¼çš„å†…å®¹ï¼Œæ¯”å¦‚æ–‡å­—ã€å›¾åƒã€è§†é¢‘ã€éŸ³ä¹ç­‰ã€‚</p></li><li><p>NLPï¼šNatural Language Processing çš„ç¼©å†™ï¼ŒæŒ‡ â€œè‡ªç„¶è¯­è¨€å¤„ç†â€ï¼Œè‡ªç„¶è¯­è¨€å¤„ç†æ˜¯äººå·¥æ™ºèƒ½çš„ä¸€ä¸ªå­é¢†åŸŸï¼Œä¸»è¦ç ”ç©¶è®¡ç®—æœºå¦‚ä½•ç†è§£ã€è§£é‡Šå’Œç”Ÿæˆäººç±»è¯­è¨€ã€‚NLP æŠ€æœ¯åŒ…æ‹¬æ–‡æœ¬åˆ†æã€è¯­è¨€ç”Ÿæˆã€æœºå™¨ç¿»è¯‘ã€æƒ…æ„Ÿåˆ†æã€å¯¹è¯ç³»ç»Ÿç­‰ã€‚</p></li><li><p>Transformerï¼šä¸€ç§ç”¨äºè‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰ä»»åŠ¡çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼Œæœ€åˆç”± Vaswani ç­‰äººåœ¨ 2017 å¹´çš„è®ºæ–‡ä¸­æå‡ºã€‚å®ƒå¼•å…¥äº†ä¸€ç§åä¸º â€œè‡ªæ³¨æ„åŠ›â€ï¼ˆself-attentionï¼‰çš„æœºåˆ¶ï¼Œèƒ½å¤Ÿæœ‰æ•ˆåœ°å¤„ç†åºåˆ—æ•°æ®ï¼Œä¸”åœ¨è®¸å¤š NLP ä»»åŠ¡ï¼Œå¦‚æœºå™¨ç¿»è¯‘ã€æ–‡æœ¬ç”Ÿæˆå’Œè¯­è¨€å»ºæ¨¡ä¸­å–å¾—äº†å·¨å¤§çš„æˆåŠŸã€‚</p></li><li><p>BERTï¼šBidirectional Encoder Representations from Transformers çš„ç¼©å†™ï¼Œæ˜¯ä¸€ç§è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰çš„é¢„è®­ç»ƒæ¨¡å‹ã€‚å®ƒç”± Google AI ç ”ç©¶å›¢é˜Ÿäº 2018 å¹´é¦–æ¬¡æå‡ºã€‚BERT çš„ä¸»è¦åˆ›æ–°åœ¨äºå®ƒä½¿ç”¨äº†åŒå‘ï¼ˆå³ä¸Šä¸‹æ–‡æ•æ„Ÿï¼‰çš„ Transformer æ¨¡å‹æ¥å¯¹æ–‡æœ¬è¿›è¡Œç¼–ç ã€‚</p></li><li><p>PEFTï¼šParameter-Efficient Fine-Tuning çš„ç¼©å†™ï¼Œä¸­æ–‡é«˜æ•ˆå‚æ•°å¾®è°ƒï¼Œè¿™æ˜¯ä¸€ç§å¾®è°ƒæœºå™¨å­¦ä¹ æ¨¡å‹çš„æ–¹æ³•ï¼Œæ—¨åœ¨å‡å°‘éœ€è¦æ›´æ–°çš„å‚æ•°æ•°é‡ï¼Œä»è€Œé™ä½è®¡ç®—æˆæœ¬å’Œå­˜å‚¨éœ€æ±‚ï¼ŒåŒæ—¶ä¿æŒæ¨¡å‹æ€§èƒ½ã€‚PEFT æŠ€æœ¯åœ¨å¤§å‹é¢„è®­ç»ƒæ¨¡å‹ï¼ˆå¦‚ BERTã€GPT ç­‰ï¼‰çš„ä¸‹æ¸¸ä»»åŠ¡é€‚é…ä¸­å°¤ä¸ºé‡è¦ï¼Œå› ä¸ºç›´æ¥å¾®è°ƒè¿™äº›æ¨¡å‹å¯èƒ½ä¼šè€—è´¹å¤§é‡è®¡ç®—èµ„æºå’Œæ—¶é—´ã€‚</p></li><li><p>LoRAï¼šLow-Rank Adaptation çš„ç¼©å†™ï¼Œä¸€ç§ç”¨äºå¾®è°ƒå¤§è§„æ¨¡è¯­è¨€æ¨¡å‹çš„ä¸€ç§æŠ€æœ¯ã€‚å®ƒé€šè¿‡å°†æ¨¡å‹çš„æƒé‡åˆ†è§£æˆä½ç§©çŸ©é˜µæ¥æ˜¾è‘—å‡å°‘å‚æ•°æ•°é‡å’Œè®¡ç®—å¼€é”€ï¼Œä»è€Œä½¿å¾—æ¨¡å‹åœ¨èµ„æºå—é™çš„ç¯å¢ƒä¸­ä¹Ÿèƒ½è¿›è¡Œé«˜æ•ˆçš„é€‚åº”æ€§è°ƒæ•´ã€‚</p></li><li><p>LLMï¼šLarge Language Model çš„ç¼©å†™ï¼ŒæŒ‡ â€œå¤§è¯­è¨€æ¨¡å‹â€ï¼Œè¿™ç±»æ¨¡å‹æ˜¯åŸºäºæœºå™¨å­¦ä¹ å’Œæ·±åº¦å­¦ä¹ æŠ€æœ¯ï¼Œç‰¹åˆ«æ˜¯è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰ä¸­çš„ä¸€ç§æŠ€æœ¯ã€‚å¤§è¯­è¨€æ¨¡å‹é€šè¿‡å¤§é‡çš„æ–‡æœ¬æ•°æ®è¿›è¡Œè®­ç»ƒï¼Œä»¥ç”Ÿæˆã€ç†è§£å’Œå¤„ç†è‡ªç„¶è¯­è¨€ã€‚ä¸€äº›è‘—åçš„ LLM ç¤ºä¾‹åŒ…æ‹¬ OpenAI çš„ GPTï¼ˆGenerative Pre-trained Transformerï¼‰ç³»åˆ—æ¨¡å‹ï¼Œå¦‚ GPT-3 å’Œ GPT-4</p></li><li><p>RAGï¼šRetrieval-Augmented Generation çš„ç¼©å†™ï¼ŒæŒ‡ â€œæ£€ç´¢å¢å¼ºç”Ÿæˆâ€ï¼Œè¿™æ˜¯ä¸€ä¸ªè·¨è¶Šæ£€ç´¢å’Œç”Ÿæˆä»»åŠ¡çš„æ¡†æ¶ï¼Œé€šè¿‡å…ˆä»æ•°æ®åº“æˆ–æ–‡æ¡£é›†åˆä¸­æ£€ç´¢åˆ°ç›¸å…³ä¿¡æ¯ï¼Œç„¶ååˆ©ç”¨ç”Ÿæˆæ¨¡å‹ï¼ˆå¦‚ Transformer æ¨¡å‹ï¼‰æ¥ç”Ÿæˆæœ€ç»ˆçš„è¾“å‡ºã€‚ç›®å‰åœ¨æŠ€æœ¯å‘å±•è¶‹åŠ¿å’Œåº”ç”¨è½åœ°ä¸Šï¼ŒRAG æ˜¯å·¥ç¨‹åŒå­¦è¾ƒä¸ºå€¼å¾—æ¢ç´¢çš„é¢†åŸŸã€‚</p></li><li><p>Agentï¼šä¸­æ–‡å«æ™ºèƒ½ä½“ï¼Œä¸€ä¸ªèƒ½ç‹¬ç«‹æ‰§è¡Œä»»åŠ¡å’Œåšå‡ºå†³ç­–çš„å®ä½“ï¼Œåœ¨äººå·¥æ™ºèƒ½ä¸­ï¼ŒAgent å¯ä»¥æ˜¯ä¸€ä¸ªæœºå™¨äººï¼Œä¸€ä¸ªè™šæ‹ŸåŠ©æ‰‹ï¼Œæˆ–æ˜¯ä¸€ä¸ªæ™ºèƒ½è½¯ä»¶ç³»ç»Ÿï¼Œå®ƒèƒ½å¤Ÿé€šè¿‡å­¦ä¹ å’Œæ¨ç†æ¥å®Œæˆå¤æ‚ä»»åŠ¡ã€‚åœ¨å¤š Agent ç³»ç»Ÿä¸­ï¼Œå¤šä¸ªç‹¬ç«‹çš„ Agents ç›¸äº’åä½œæˆ–ç«äº‰ï¼Œä»¥å…±åŒè§£å†³é—®é¢˜æˆ–å®Œæˆä»»åŠ¡ã€‚</p></li><li><p>GPTï¼šGenerative Pre-trained Transformer çš„ç¼©å†™ï¼ŒæŒ‡ â€œç”Ÿæˆå¼é¢„è®­ç»ƒå˜æ¢å™¨â€ï¼ŒGPT æ¨¡å‹åˆ©ç”¨å¤§é‡æ–‡æœ¬æ•°æ®è¿›è¡Œé¢„è®­ç»ƒï¼Œç„¶åå¯ä»¥é€šè¿‡å¾®è°ƒæ¥æ‰§è¡Œç‰¹å®šä»»åŠ¡ï¼Œä¾‹å¦‚è¯­è¨€ç”Ÿæˆã€å›ç­”é—®é¢˜ã€ç¿»è¯‘ã€æ–‡æœ¬æ‘˜è¦ç­‰ã€‚</p></li><li><p>LLaMAï¼šLarge Language Model Meta AI çš„ç¼©å†™ï¼Œæ˜¯ç”± Meta å¼€å‘çš„ä¸€ç³»åˆ—å¤§å‹è‡ªç„¶è¯­è¨€å¤„ç†æ¨¡å‹ã€‚è¿™äº›æ¨¡å‹åœ¨å¤„ç†æ–‡æœ¬ç”Ÿæˆå’Œç†è§£ä»»åŠ¡æ–¹é¢è¡¨ç°å‡ºè‰²ï¼Œç±»ä¼¼äºå…¶ä»–è‘—åçš„å¤§å‹è¯­è¨€æ¨¡å‹å¦‚ GPT-3</p></li><li><p>chatGPTï¼šç”± OpenAI å¼€å‘çš„ä¸€ç§åŸºäº GPTï¼ˆç”Ÿæˆé¢„è®­ç»ƒå˜æ¢æ¨¡å‹ï¼‰æ¶æ„çš„äººå·¥æ™ºèƒ½èŠå¤©æœºå™¨äººã€‚å®ƒä½¿ç”¨è‡ªç„¶è¯­è¨€å¤„ç†æŠ€æœ¯ï¼Œèƒ½å¤Ÿç†è§£å¹¶ç”Ÿæˆç±»ä¼¼äººç±»çš„æ–‡æœ¬å›å¤ã€‚å¯ä»¥çœ‹åšæ˜¯ä¸€ç§ Agentã€‚</p></li><li><p>Promptï¼šæŒ‡çš„æ˜¯æä¾›ç»™æ¨¡å‹çš„ä¸€æ®µåˆå§‹æ–‡æœ¬ï¼Œç”¨äºå¼•å¯¼æ¨¡å‹ç”Ÿæˆåç»­çš„å†…å®¹ã€‚</p></li><li><p>Embeddingï¼šä¸­æ–‡å«åµŒå…¥ï¼Œæ˜¯ä¸€ç§å°†é«˜ç»´æ•°æ®æ˜ å°„åˆ°ä½ç»´ç©ºé—´çš„æŠ€æœ¯ï¼Œä½†ä»å°½å¯èƒ½ä¿ç•™åŸæ•°æ®çš„ç‰¹å¾å’Œç»“æ„ã€‚åµŒå…¥æŠ€æœ¯é€šå¸¸ç”¨äºå¤„ç†å’Œè¡¨ç¤ºå¤æ‚çš„æ•°æ®å¦‚æ–‡æœ¬ã€å›¾åƒã€éŸ³ä¹ä»¥åŠå…¶ä»–é«˜ç»´åº¦çš„æ•°æ®ç±»å‹ã€‚</p></li></ul><p><img src="2a470d67-9085-4f14-b186-66b91781d344.png" alt="" /></p><p><strong>å¤§æ¨¡å‹åº”ç”¨å‘å±•è¶‹åŠ¿</strong></p><h2 id="å‘é‡æ•°æ®åº“"><a class="markdownIt-Anchor" href="#å‘é‡æ•°æ®åº“"></a> <strong>â–Â Â å‘é‡æ•°æ®åº“</strong></h2><p>éšç€äº’è”ç½‘å†…å®¹åŒ–çš„é£é€Ÿå‘å±•ï¼Œä»¥éŸ³è§†é¢‘ç­‰å¤šåª’ä½“å†…å®¹ä¸ºä»£è¡¨çš„éç»“æ„åŒ–æ•°æ®å‘ˆç°å‡ºé«˜é€Ÿå¢é•¿çš„è¶‹åŠ¿ã€‚å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ç­‰éç»“æ„åŒ–æ•°æ®çš„å­˜å‚¨å’Œæ£€ç´¢éœ€æ±‚ä¹Ÿå˜å¾—è¶Šæ¥è¶Šå¤šã€‚</p><p>IDC DataSphere æ•°æ®æ˜¾ç¤ºï¼Œåˆ° 2027 å¹´å…¨çƒéç»“æ„åŒ–æ•°æ®å°†å åˆ°æ•°æ®æ€»é‡çš„ 86.8%ï¼Œè¾¾åˆ° 246.9ZBï¼›å…¨çƒæ•°æ®æ€»é‡ä» 103.67ZB å¢é•¿è‡³ 284.30ZBï¼ŒCAGR ä¸º 22.4%ï¼Œå‘ˆç°ç¨³å®šå¢é•¿æ€åŠ¿ã€‚</p><p>Linkï¼š<a href="https://www.idc.com/getdoc.jsp?containerId=prCHC51814824">https://www.idc.com/getdoc.jsp?containerId=prCHC51814824</a></p><p>é€šå¸¸ï¼Œä¸ºäº†æ›´æœ‰æ•ˆåœ°ç®¡ç†éç»“æ„åŒ–æ•°æ®ï¼Œå¸¸è§çš„åšæ³•æ˜¯å°†å…¶è½¬æ¢ä¸ºå‘é‡è¡¨ç¤ºï¼Œå¹¶å­˜å‚¨åœ¨å‘é‡æ•°æ®åº“ä¸­ã€‚è¿™ç§è½¬æ¢è¿‡ç¨‹é€šå¸¸è¢«ç§°ä¸ºå‘é‡åŒ–æˆ–åµŒå…¥ï¼ˆEmbeddingï¼‰ã€‚é€šè¿‡å°†æ–‡æœ¬ã€å›¾åƒæˆ–å…¶ä»–éç»“æ„åŒ–æ•°æ®æ˜ å°„åˆ°é«˜ç»´å‘é‡ç©ºé—´ï¼Œæˆ‘ä»¬å¯ä»¥æ•æ‰æ•°æ®çš„è¯­ä¹‰ç‰¹å¾å’Œæ½œåœ¨å…³ç³»ã€‚å‘é‡æ•°æ®åº“é€šè¿‡åœ¨ã€Œå‘é‡è¡¨ç¤ºã€ä¸Šæ„å»ºç´¢å¼•ï¼Œå®ç°å¿«é€Ÿçš„ç›¸ä¼¼æ€§æœç´¢ã€‚</p><p>å‘é‡æ•°æ®åº“æ˜¯ç”¨äºå­˜å‚¨å’ŒæŸ¥è¯¢é«˜ç»´å‘é‡æ•°æ®çš„æ•°æ®åº“ï¼Œé€šå¸¸åœ¨æœç´¢ã€æ¨èç³»ç»Ÿã€å›¾åƒè¯†åˆ«ã€è‡ªç„¶è¯­è¨€å¤„ç†ç­‰é¢†åŸŸä¸­å¹¿æ³›ä½¿ç”¨ã€‚éšç€ AI åˆ›æ–°åº”ç”¨çš„ä¸æ–­æ¶Œç°ï¼Œå¯¹äºå‘é‡æ•°æ®åº“éœ€æ±‚ä¹Ÿå¤§å¢ã€‚</p><p><strong><img src="e74ce26e-86d9-4380-881b-c7d75ed44e12.png" alt="" /></strong></p><p>ä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„å‘é‡æ•°æ®åº“ã€‚</p><p>1. Faiss (Facebook AI Similarity Search)ï¼š</p><ul><li><p>å¼€å‘è€…ï¼šFacebook AI Research</p></li><li><p>ç‰¹ç‚¹ï¼šé«˜æ•ˆçš„ç›¸ä¼¼æ€§æœç´¢å’Œå¯†é›†å‘é‡èšç±»ï¼Œæ”¯æŒ CPU å’Œ GPU åŠ é€Ÿã€‚</p></li><li><p>é€‚ç”¨åœºæ™¯ï¼šå›¾åƒç›¸ä¼¼æ€§æœç´¢ã€å¤§è§„æ¨¡æ¨èç³»ç»Ÿç­‰ã€‚</p></li></ul><p>2. Annoy (Approximate Nearest Neighbors Oh Yeah)ï¼š</p><ul><li><p>å¼€å‘è€…ï¼šSpotify</p></li><li><p>ç‰¹ç‚¹ï¼šåŸºäºå†…å­˜çš„é«˜æ•ˆæœ€è¿‘é‚»æœç´¢ï¼Œä½¿ç”¨æ„å»ºçš„å¯æŒä¹…åŒ–æ ‘æ•°æ®ç»“æ„ã€‚</p></li><li><p>é€‚ç”¨åœºæ™¯ï¼šéŸ³ä¹æ¨èã€å¿«é€Ÿæœç´¢ç­‰ã€‚</p></li></ul><p>3. HNSW (Hierarchical Navigable Small World)ï¼š</p><ul><li><p>å¼€å‘è€…ï¼šYury Malkovï¼ˆå’Œå…¶ä»–ç¤¾åŒºè´¡çŒ®è€…ï¼‰</p></li><li><p>ç‰¹ç‚¹ï¼šå°ä¸–ç•Œå›¾ç®—æ³•ï¼Œé«˜æ•ˆçš„è¿‘ä¼¼æœ€è¿‘é‚»æœç´¢ï¼Œæ”¯æŒåŠ¨æ€æ’å…¥å’Œåˆ é™¤ã€‚</p></li><li><p>é€‚ç”¨åœºæ™¯ï¼šå®æ—¶æœç´¢å’Œæ¨èç³»ç»Ÿã€‚</p></li></ul><p>4. Elasticsearch with k-NN Pluginï¼š</p><ul><li><p>å¼€å‘è€…ï¼šElastic</p></li><li><p>ç‰¹ç‚¹ï¼šåœ¨ Elasticsearch ä¹‹ä¸Šæ·»åŠ  k-NN æœç´¢åŠŸèƒ½ï¼Œç»“åˆå…¨æ–‡æœç´¢å’Œå‘é‡æœç´¢ã€‚</p></li><li><p>é€‚ç”¨åœºæ™¯ï¼šç»¼åˆæœç´¢å¼•æ“ï¼Œéœ€è¦åŒæ—¶æ”¯æŒæ–‡æœ¬å’Œå‘é‡æŸ¥è¯¢çš„åœºæ™¯ã€‚</p></li></ul><p>5. Milvusï¼š</p><ul><li><p>å¼€å‘è€…ï¼šZILLIZ</p></li><li><p>ç‰¹ç‚¹ï¼šåˆ†å¸ƒå¼ã€é«˜æ€§èƒ½å‘é‡æ•°æ®åº“ï¼Œæ”¯æŒå¤§è§„æ¨¡æ•°æ®ç®¡ç†å’Œæ£€ç´¢ã€‚</p></li><li><p>é€‚ç”¨åœºæ™¯ï¼šå›¾åƒã€è§†é¢‘ã€æ–‡æœ¬ç­‰å¤§è§„æ¨¡å‘é‡æ•°æ®çš„å­˜å‚¨å’Œæ£€ç´¢ã€‚</p></li></ul><p>6. Pineconeï¼š</p><ul><li><p>å¼€å‘è€…ï¼šPinecone</p></li><li><p>ç‰¹ç‚¹ï¼šä¸“ç”¨äºæœºå™¨å­¦ä¹ åº”ç”¨ç¨‹åºçš„å‘é‡æ•°æ®åº“ï¼Œæ˜“äºé›†æˆå’Œæ‰©å±•ã€‚</p></li><li><p>é€‚ç”¨åœºæ™¯ï¼šä¸ªæ€§åŒ–æ¨èã€è¯­ä¹‰æœç´¢ã€å®æ—¶æœºå™¨å­¦ä¹ åº”ç”¨ç­‰ã€‚</p></li></ul><p>7. Weaviateï¼š</p><ul><li><p>å¼€å‘è€…ï¼šSeMI Technologies</p></li><li><p>ç‰¹ç‚¹ï¼šå¼€æºçš„å‘é‡æœç´¢å¼•æ“ï¼Œæ”¯æŒä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„è¯­ä¹‰æœç´¢ï¼Œæ‰©å±•æ€§å¼ºã€‚</p></li><li><p>é€‚ç”¨åœºæ™¯ï¼šçŸ¥è¯†å›¾è°±æ„å»ºã€è¯­ä¹‰æœç´¢ã€æ¨èç³»ç»Ÿã€‚</p></li></ul><p>8. Vectaraï¼š</p><ul><li><p>å¼€å‘è€…ï¼šVectara, Inc.</p></li><li><p>ç‰¹ç‚¹ï¼šåŸºäºå‘é‡çš„å…¨æ‰˜ç®¡æœç´¢æœåŠ¡ï¼Œä¸“æ³¨äºè¯­ä¹‰æœç´¢å’Œç›¸å…³æ€§ã€‚</p></li><li><p>é€‚ç”¨åœºæ™¯ï¼šæœç´¢å¼•æ“ä¼˜åŒ–ã€è‡ªç„¶è¯­è¨€å¤„ç†åº”ç”¨ã€‚</p></li></ul><p>ä¸Šè¿°æ‰€æåˆ°çš„ç›®å‰ä¸»æµçš„å‘é‡æ•°æ®åº“æ–¹æ¡ˆï¼Œåœ¨å‘é‡æ•°æ®çš„å­˜å‚¨æˆæœ¬ã€å¬å›ç‡ç­‰æ–¹é¢éƒ½é¢ä¸´è¾ƒå¤§çš„æŒ‘æˆ˜ã€‚éšç€éç»“æ„åŒ–æ•°æ®çš„è¿›ä¸€æ­¥å¢é•¿ï¼Œæˆæœ¬å’Œå¬å›ç‡çš„æŒ‘æˆ˜ä¼šå˜å¾—è¶Šæ¥è¶Šæ£˜æ‰‹ã€‚åœ¨å‘é‡æ•°æ®åº“çš„æ¼”è®²æ–¹å‘ä¸Šç›®å‰æœ‰ä»¥ä¸‹å‘å±•è¶‹åŠ¿</p><h4 id="1-å­˜å‚¨å’Œç´¢å¼•ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#1-å­˜å‚¨å’Œç´¢å¼•ä¼˜åŒ–"></a> 1. å­˜å‚¨å’Œç´¢å¼•ä¼˜åŒ–</h4><ul><li><p>é‡åŒ–æŠ€æœ¯ï¼šä½¿ç”¨å‘é‡é‡åŒ–ï¼ˆVector Quantization, VQï¼‰æŠ€æœ¯ï¼Œä¾‹å¦‚äº§å“é‡åŒ–ï¼ˆProduct Quantization, PQï¼‰æˆ–ä¹˜ç§¯é‡åŒ–ï¼ˆAdditive Quantization, AQï¼‰ï¼Œå¯ä»¥åœ¨ä¿è¯ç²¾åº¦çš„åŒæ—¶å¤§å¹…åº¦å‡å°‘å­˜å‚¨å’Œè®¡ç®—èµ„æºã€‚</p></li><li><p>å‹ç¼©å‘é‡ï¼šé‡‡ç”¨å“ˆå¸Œæ–¹æ³•å¦‚å±€éƒ¨æ•æ„Ÿå“ˆå¸Œï¼ˆLocality-Sensitive Hashing, LSHï¼‰æ¥å‡å°‘å­˜å‚¨æ¶ˆè€—ï¼Œå¹¶åŠ é€Ÿç›¸ä¼¼æ€§æœç´¢ã€‚</p></li><li><p>åˆ†å¸ƒå¼å­˜å‚¨ï¼šä½¿ç”¨åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿå’Œæ•°æ®åº“ï¼ˆå¦‚ Apache Hadoopã€Cassandraï¼‰å¯ä»¥ä¼˜åŒ–å­˜å‚¨å’ŒæŸ¥è¯¢çš„å¤§è§„æ¨¡å‘é‡æ•°æ®ã€‚</p></li><li><p>å­˜å‚¨å™¨çº§åˆ«è°ƒæ•´ï¼šåˆ©ç”¨å›ºæ€ç¡¬ç›˜ï¼ˆSSDï¼‰ç”šè‡³æ˜¯æ–°å…´çš„æŒä¹…åŒ–å†…å­˜ï¼ˆPersistent Memory, PMEMï¼‰æ¥åœ¨å†…å­˜å’Œç£ç›˜ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ï¼Œä¼˜åŒ–å­˜å‚¨æˆæœ¬ã€‚</p></li></ul><h4 id="2-å¬å›ç‡ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#2-å¬å›ç‡ä¼˜åŒ–"></a> 2. å¬å›ç‡ä¼˜åŒ–</h4><ul><li><p>æ··åˆæœç´¢æŠ€æœ¯ï¼šç»“åˆç²—ç²’åº¦å’Œç»†ç²’åº¦çš„ç´¢å¼•ï¼Œä¾‹å¦‚å…ˆä½¿ç”¨ç²—æ»¤æŠ€æœ¯å¿«é€Ÿç¼©å°æœç´¢èŒƒå›´ï¼Œç„¶åè¿›è¡Œç²¾ç¡®æŸ¥æ‰¾ã€‚</p></li><li><p>è¿‘ä¼¼æœ€è¿‘é‚»æŸ¥æ‰¾ï¼ˆANNï¼‰ç®—æ³•ï¼šå¦‚ HNSWï¼ˆHierarchical Navigable Small Worldï¼‰å›¾ã€FAISS ä¸­ä½¿ç”¨çš„ ANN ç®—æ³•å¯ä»¥åœ¨ä¿è¯é«˜å¬å›ç‡çš„åŸºç¡€ä¸Šä¼˜åŒ–æœç´¢é€Ÿåº¦ã€‚</p></li><li><p>å¤šå±‚æ¬¡æ£€ç´¢ï¼šåˆ†å±‚ç»“æ„çš„æ£€ç´¢æ–¹æ³•ï¼Œä»ç²—åˆ°ç»†è¿›è¡Œï¼Œé€æ­¥æé«˜å¬å›ç‡å’Œç²¾åº¦ã€‚</p></li></ul><h4 id="3-ç³»ç»Ÿæ¶æ„å’ŒåŸºç¡€è®¾æ–½"><a class="markdownIt-Anchor" href="#3-ç³»ç»Ÿæ¶æ„å’ŒåŸºç¡€è®¾æ–½"></a> 3. ç³»ç»Ÿæ¶æ„å’ŒåŸºç¡€è®¾æ–½</h4><ul><li><p>äº‘è®¡ç®—å’Œå¼¹æ€§æ‰©å±•ï¼šåˆ©ç”¨äº‘è®¡ç®—å¹³å°ï¼ˆå¦‚ AWSã€Azureã€GCPï¼‰ï¼ŒæŒ‰éœ€æ‰©å±•è®¡ç®—å’Œå­˜å‚¨èµ„æºï¼Œå¹¶ä¸”åˆ©ç”¨äº‘ç«¯çš„åˆ†å¸ƒå¼å­˜å‚¨å’Œè®¡ç®—æŠ€æœ¯æ¥ç®¡ç†å¤§è§„æ¨¡æ•°æ®ã€‚</p></li><li><p>è¾¹ç¼˜è®¡ç®—ï¼šéƒ¨åˆ†é¢„å¤„ç†å’Œå‘é‡åŒ–å·¥ä½œæ”¾åˆ°è¾¹ç¼˜è®¾å¤‡è¿›è¡Œï¼Œå‡å°‘ä¸­å¿ƒæœåŠ¡å™¨çš„è´Ÿæ‹…ã€‚</p></li></ul><h4 id="4-ä¸“ç”¨ç¡¬ä»¶åŠ é€Ÿ"><a class="markdownIt-Anchor" href="#4-ä¸“ç”¨ç¡¬ä»¶åŠ é€Ÿ"></a> 4. ä¸“ç”¨ç¡¬ä»¶åŠ é€Ÿ</h4><ul><li><p>GPU å’Œ TPUï¼šä½¿ç”¨ä¸“é—¨çš„ç¡¬ä»¶åŠ é€Ÿå™¨ï¼Œå¦‚ GPUï¼ˆå›¾å½¢å¤„ç†å•å…ƒï¼‰æˆ– TPUï¼ˆå¼ é‡å¤„ç†å•å…ƒï¼‰ï¼Œä»¥åŠ é€Ÿå‘é‡è®¡ç®—å’Œç›¸ä¼¼æ€§æœç´¢ã€‚</p></li><li><p>FPGAï¼šä½¿ç”¨å¯ç¼–ç¨‹é—¨é˜µåˆ—ï¼ˆFPGAï¼‰ä¸ºç‰¹å®šå‘é‡è®¡ç®—ä»»åŠ¡å®šåˆ¶ç¡¬ä»¶åŠ é€Ÿï¼Œä»¥æé«˜æ•ˆç‡å’Œé™ä½å»¶è¿Ÿã€‚</p></li></ul><h4 id="5-æŒç»­ä¼˜åŒ–å’Œæ›´æ–°æ¨¡å‹"><a class="markdownIt-Anchor" href="#5-æŒç»­ä¼˜åŒ–å’Œæ›´æ–°æ¨¡å‹"></a> 5. æŒç»­ä¼˜åŒ–å’Œæ›´æ–°æ¨¡å‹</h4><ul><li><p>åŠ¨æ€ç´¢å¼•æ›´æ–°ï¼šéšç€éç»“æ„åŒ–æ•°æ®çš„å¢é•¿å’Œå˜åŒ–ï¼Œä¿æŒç´¢å¼•å’Œå‘é‡è¡¨ç¤ºçš„åŠæ—¶æ€§ï¼Œä½¿ç”¨åœ¨çº¿æˆ–å¢é‡æ›´æ–°çš„æ–¹æ³•ç®¡ç†ç´¢å¼•ã€‚</p></li><li><p>è‡ªé€‚åº”æ¨¡å‹ï¼šåˆ©ç”¨æœºå™¨å­¦ä¹ å’Œæ·±åº¦å­¦ä¹ æ¨¡å‹ä¸æ–­ä¼˜åŒ–å‘é‡è¡¨ç¤ºçš„åµŒå…¥è´¨é‡ï¼Œä½¿å¾—å‘é‡æ£€ç´¢æ›´åŠ ç²¾å‡†æœ‰æ•ˆã€‚</p></li></ul><h4 id="6-å…ˆè¿›çš„åµŒå…¥æŠ€æœ¯"><a class="markdownIt-Anchor" href="#6-å…ˆè¿›çš„åµŒå…¥æŠ€æœ¯"></a> 6. å…ˆè¿›çš„åµŒå…¥æŠ€æœ¯</h4><ul><li><p>é¢„è®­ç»ƒæ¨¡å‹ï¼šä½¿ç”¨å½“å‰çš„é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹ï¼ˆå¦‚ BERTã€GPT-3ï¼‰è¿›è¡Œä¸Šä¸‹æ–‡åµŒå…¥ï¼Œæ•æ‰å¤æ‚çš„è¯­ä¹‰ä¿¡æ¯ã€‚</p></li><li><p>å¤šæ¨¡æ€åµŒå…¥ï¼šå¯¹äºä¸åŒç±»å‹çš„æ•°æ®ï¼ˆå¦‚æ–‡æœ¬ã€å›¾åƒã€è§†é¢‘ï¼‰ï¼Œä½¿ç”¨å¤šæ¨¡æ€åµŒå…¥æ¨¡å‹æ¥ç»Ÿä¸€è¡¨ç¤ºå’Œå¤„ç†ï¼Œæå‡æ£€ç´¢æ€§èƒ½ã€‚</p></li></ul><h2 id="multi-agent"><a class="markdownIt-Anchor" href="#multi-agent"></a> <strong>â–Â Â Multi-Agent</strong></h2><p><img src="14c7fb6d-6921-41f8-91ea-219cae820eaf.png" alt="" /></p><p>åœ¨è½¯ä»¶é¢†åŸŸï¼Œâ€œåˆ†è€Œæ²»ä¹‹â€ æ˜¯ä¸€ç§å¸¸ç”¨çš„è®¾è®¡å’Œå¼€å‘ç†å¿µï¼Œè€Œåœ¨å¤§æ¨¡å‹åœºæ™¯ä¸­ä¹ŸåŒæ ·é€‚ç”¨ã€‚é¢å‘å¤æ‚ä»»åŠ¡åœºæ™¯ï¼Œå¤š Agent æ–¹æ³•ä¼šå°†å¤æ‚ä»»åŠ¡åˆ†è§£ä¸ºå­ä»»åŠ¡ï¼Œè®©ä¸åŒçš„æ™ºèƒ½ä½“å®Œæˆä¸åŒçš„å­ä»»åŠ¡ï¼Œå³ä¸“ä¸š â€œäººâ€ åšä¸“ä¸š â€œäº‹â€ã€‚å› ä¸ºï¼Œæ‹†è§£ä»»åŠ¡æœ‰åŠ©äºé™ä½å•ä¸ªå¤§æ¨¡å‹çš„è¾“å…¥å¤æ‚åº¦ä»¥åŠç†è§£éš¾åº¦ï¼Œä»è€Œæœ‰åˆ©äºå¤§æ¨¡å‹ä¸“æ³¨äº â€œåšâ€ ä¸€ä»¶äº‹æƒ…ï¼Œå…¶æ€§èƒ½å¯èƒ½ä¼šæ›´å¥½ã€‚</p><p>å¤š Agent æ¡†æ¶çš„æ ¸å¿ƒäº¤äº’æµç¨‹å¯ä»¥æ¦‚æ‹¬å¦‚ä¸‹ï¼š</p><ul><li><p>controller æ›´æ–°å½“å‰ç¯å¢ƒçš„çŠ¶æ€ï¼Œé€‰æ‹©ä¸‹ä¸€æ—¶åˆ»è¡ŒåŠ¨çš„ agent X</p></li><li><p>agent X ä¸ç¯å¢ƒäº¤äº’ï¼Œæ›´æ–°è‡ªèº« memory ä¿¡æ¯</p></li><li><p>agent X è°ƒç”¨ LLMï¼ŒåŸºäºæŒ‡ä»¤æ‰§è¡ŒåŠ¨ä½œï¼Œè·å–è¾“å‡º message</p></li><li><p>å°†è¾“å‡º message æ›´æ–°åˆ°å…¬å…±ç¯å¢ƒä¸­</p></li></ul><p>ç›®å‰åœ¨å¤š Agent åä½œæ–¹é¢ï¼Œç›®å‰æ¯”è¾ƒæœ‰åçš„æ˜¯ AutoGen æ¡†æ¶å’Œ MetaGPT æ¡†æ¶ã€‚</p><ul><li>AutoGen æ¡†æ¶</li></ul><p>AutoGen æ˜¯ä¸€ä¸ªèƒ½è®©å¤šä¸ª Agent è¿›è¡Œæ²Ÿé€šåä½œçš„ Python å¼€æºæ¡†æ¶ã€‚æ ¸å¿ƒè§£å†³ä¸¤ä¸ªé—®é¢˜ï¼š</p><p>ç¬¬ä¸€ä¸ªé—®é¢˜ï¼šå¦‚ä½•è®¾è®¡ç”¨æˆ·å¯å®šåˆ¶ã€å¯é‡ç”¨çš„ã€èƒ½å¤Ÿäº’ç›¸åä½œçš„ Agentã€‚AutoGen æ˜¯è¦è®¾è®¡ä¸ºä¸€ä¸ªé€šç”¨çš„èƒ½å¤Ÿé€‚ç”¨å¤šç§åœºæ™¯çš„æ¡†æ¶ï¼Œåœ¨ AutoGen çš„å®˜ç½‘ Examples ä¸­ç»™å‡ºäº†åœ¨å¤šç§åœºæ™¯ä¸‹èƒ½å¤Ÿè§£å†³é—®é¢˜çš„ä¾‹å­ï¼Œæ­¤å¤–åœ¨ git ä»“åº“ä¸­çš„ notbook ç›®å½•ä¸­æœ‰ 50 + ä¾‹å­ã€‚æœ‰è§£å†³æ•°å­¦é—®é¢˜åœºæ™¯ã€æœ‰é€šè¿‡å¼€å‘ä»£ç è¿›è¡Œåˆ†æçš„åœºæ™¯ï¼ˆæ¯”å¦‚ä¸Šä¸€ç« èŠ‚çš„åˆ—å­ï¼‰ã€è¿˜æœ‰é€šè¿‡äº”å…­ä¸ª Agent è®¨è®ºåˆ†æå¼€æ”¾é—®é¢˜çš„åœºæ™¯ã€‚æ‰€ä»¥ Agent çš„æ‰©å±•èƒ½åŠ›æ˜¯éœ€è¦é‡è¦è€ƒè™‘é—®é¢˜ï¼ŒAutoGen ä¸­é€šè¿‡æ”¯æŒå¤šç§å¤–éƒ¨å·¥å…·ã€ä¸åŒ LLMã€æ”¯æŒ human in the loop çš„æ–¹å¼ï¼ŒAgent ä¹‹é—´èƒ½å¤Ÿé€šä¿¡çš„æ–¹å¼æ¥è§£å†³æ‰©å±•é—®é¢˜ã€‚</p><p>ç¬¬äºŒä¸ªé—®é¢˜ï¼šå¦‚ä½•è®© Agent èƒ½çµæ´»æ”¯æŒä¸åŒæ¨¡å¼çš„ä¼šè¯æ–¹å¼ã€‚ä¸åŒçš„åœºæ™¯ï¼Œæ ¹æ®å¤æ‚åº¦ã€é—®é¢˜çš„ç±»å‹éœ€è¦ä¸åŒçš„ Agent ä¼šè¯æ¨¡å¼ã€‚è¿™é‡Œçš„ â€œæ¨¡å¼â€ åŒ…æ‹¬äº†å•è½®å¯¹è¯ or å¤šè½®å¯¹è¯ã€è‡ªåŠ¨é€‰æ‹©æ¯è½®çš„ speaker or é€šè¿‡è§„åˆ™é€‰æ‹©ã€é€šè¿‡è‡ªç„¶è¯­è¨€æ§åˆ¶é€»è¾‘ or é€šè¿‡ä»£ç æ§åˆ¶ï¼Œæ­¤å¤–è®¾è®¡éœ€è¦è€ƒè™‘å¤šä¸ª Agent ä¹‹é—´å¦‚ä½•çµæ´» â€œç»„ç½‘â€ï¼Œæ¯”å¦‚ä¸‰äººä¸€ç»„ï¼Œæ¯ç»„ä¸€ä¸ª leaderï¼Œç»„å†…äº’ç›¸é€šä¿¡ï¼Œleader èƒ½å¤Ÿé€šä¿¡çš„æ–¹å¼ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜ï¼ŒAutoGen æŠ½è±¡äº†ä¸€äº›åŸºç¡€æ¦‚å¿µã€‚</p><h4 id="conversable-agents"><a class="markdownIt-Anchor" href="#conversable-agents"></a> Conversable Agents</h4><p>æ—¨åœ¨ç”¨äºåœ¨å¤æ‚ä»»åŠ¡ä¸­è¿›è¡Œå¤šè½®äº¤äº’ã€‚è¿™äº›æ™ºèƒ½ä½“èƒ½å¤Ÿç†è§£å’Œå¤„ç†ç”¨æˆ·è¾“å…¥ï¼Œç»´æŠ¤ä¸Šä¸‹æ–‡ï¼Œå¹¶ç”Ÿæˆåˆé€‚çš„å“åº”ã€‚Conversable Agents é€šå¸¸é›†æˆäº†è‡ªç„¶è¯­è¨€å¤„ç†æŠ€æœ¯ï¼ŒåŒ…æ‹¬è‡ªç„¶è¯­è¨€ç†è§£ï¼ˆNLUï¼‰å’Œè‡ªç„¶è¯­è¨€ç”Ÿæˆï¼ˆNLGï¼‰ï¼Œä»¥æé«˜å¯¹è¯çš„æµç•…æ€§å’Œæ™ºèƒ½æ€§ã€‚</p><h4 id="conversation-programming"><a class="markdownIt-Anchor" href="#conversation-programming"></a> Conversation Programming</h4><p>æ—¨åœ¨é€šè¿‡è‡ªç„¶è¯­è¨€ä¸äººå·¥æ™ºèƒ½ç³»ç»Ÿè¿›è¡Œäº¤äº’ï¼Œæ¥å®ç°ç¼–ç¨‹å’Œä»»åŠ¡è‡ªåŠ¨åŒ–ã€‚è¿™ä¸ªæ¦‚å¿µè¯•å›¾ç®€åŒ–ç¼–ç¨‹è¿‡ç¨‹ï¼Œä½¿å¾—ç”¨æˆ·æ— éœ€æ·±åšçš„ç¼–ç¨‹èƒŒæ™¯ä¹Ÿèƒ½ä½¿ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼Œè¿›è€Œç”Ÿæˆå¯æ‰§è¡Œçš„ä»£ç æˆ–è‡ªåŠ¨åŒ–è„šæœ¬ã€‚</p><p>åœ¨ Conversation Programming ä¸­ï¼Œç”¨æˆ·é€šè¿‡ä¸äººå·¥æ™ºèƒ½åŠ©æ‰‹è¿›è¡Œå¯¹è¯ï¼Œå°†å…·ä½“ä»»åŠ¡ã€ç®—æ³•é€»è¾‘æˆ–é—®é¢˜æè¿°å‡ºæ¥ï¼ŒAI ç³»ç»Ÿåˆ™è´Ÿè´£ç†è§£è¿™äº›æ„å›¾å¹¶ç”Ÿæˆç›¸åº”çš„ä»£ç ã€‚è¿™ç§æ–¹å¼é™ä½äº†ç¼–ç¨‹çš„é—¨æ§›ï¼ŒåŒæ—¶ä¹ŸåŠ é€Ÿäº†ä»æƒ³æ³•åˆ°å®ç°çš„è¿‡ç¨‹ã€‚</p><ul><li><h4 id="metagpt-æ¡†æ¶"><a class="markdownIt-Anchor" href="#metagpt-æ¡†æ¶"></a> MetaGPT æ¡†æ¶</h4></li></ul><p>MetaGPT æ˜¯ä¸€ä¸ªåŸºäºå¤šæ™ºèƒ½ä½“çš„å…ƒç¼–ç¨‹æ¡†æ¶ï¼Œå®ƒé€šè¿‡å°†ä¸åŒçš„è§’è‰²ï¼ˆå¦‚äº§å“ç»ç†ã€æ¶æ„å¸ˆã€é¡¹ç›®ç»ç†ç­‰ï¼‰åˆ†é…ç»™ä¸åŒçš„å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ï¼Œå®ç°è½¯ä»¶å¼€å‘æµç¨‹çš„è‡ªåŠ¨åŒ–ã€‚è¿™ä¸ªæ¡†æ¶ç‰¹åˆ«é€‚åˆäºå¤æ‚çš„ç¼–ç¨‹ä»»åŠ¡ï¼Œèƒ½å¤Ÿè‡ªåŠ¨ç”Ÿæˆç”¨æˆ·æ•…äº‹ã€éœ€æ±‚åˆ†æã€æ•°æ®ç»“æ„ã€API å’Œæ–‡æ¡£ç­‰è¾“å‡ºã€‚MetaGPT ä½¿ç”¨æ ‡å‡†æ“ä½œç¨‹åºï¼ˆSOPsï¼‰æ¥æŒ‡å¯¼æ™ºèƒ½ä½“çš„åä½œï¼Œæ—¨åœ¨æé«˜ä»£ç ç”Ÿæˆçš„è´¨é‡å’Œæ•ˆç‡ ã€‚</p><h4 id="å·¥ä½œæµç¨‹"><a class="markdownIt-Anchor" href="#å·¥ä½œæµç¨‹"></a> å·¥ä½œæµç¨‹</h4><p>MetaGPT çš„ä¸»è¦å·¥ä½œæµç¨‹å’Œç‰¹ç‚¹åŒ…æ‹¬ï¼š</p><ul><li><p>è§’è‰²å®šä¹‰ï¼ˆRole Definitionsï¼‰ï¼šMetaGPT é€šè¿‡å®šä¹‰ä¸åŒçš„è§’è‰²ï¼ˆå¦‚äº§å“ç»ç†ã€æ¶æ„å¸ˆã€é¡¹ç›®ç»ç†ç­‰ï¼‰æ¥å°è£…æ¯ä¸ªè§’è‰²çš„ç‰¹å®šæŠ€èƒ½å’Œä¸šåŠ¡æµç¨‹ã€‚è¿™äº›è§’è‰²ç±»ç»§æ‰¿è‡ªä¸€ä¸ªåŸºç¡€è§’è‰²ç±»ï¼Œå…·æœ‰åç§°ã€ç®€ä»‹ã€ç›®æ ‡ã€çº¦æŸå’Œæè¿°ç­‰å…³é”®å±æ€§ã€‚è§’è‰²å®šä¹‰å¸®åŠ© LLM ç”Ÿæˆç¬¦åˆç‰¹å®šè§’è‰²è¦æ±‚çš„è¡Œä¸ºã€‚</p></li><li><p>ä»»åŠ¡åˆ†è§£ï¼ˆTask Decompositionï¼‰ï¼šMetaGPT å°†å¤æ‚çš„è½¯ä»¶å¼€å‘ä»»åŠ¡åˆ†è§£æˆæ›´å°ã€æ›´æ˜“äºç®¡ç†çš„éƒ¨åˆ†ï¼Œç„¶åå°†è¿™äº›å­ä»»åŠ¡åˆ†é…ç»™åˆé€‚çš„æ™ºèƒ½ä½“æ‰§è¡Œã€‚</p></li><li><p>æµç¨‹æ ‡å‡†åŒ–ï¼ˆProcess Standardizationï¼‰ï¼šMetaGPT å®šä¹‰äº†ä¸€ç³»åˆ—æ ‡å‡†åŒ–æ“ä½œï¼Œæ¯ä¸ªæ“ä½œéƒ½å…·æœ‰å‰ç¼€ã€LLM ä»£ç†ã€æ ‡å‡†åŒ–è¾“å‡ºæ¨¡å¼ã€æ‰§è¡Œå†…å®¹ã€é‡è¯•æœºåˆ¶ç­‰å±æ€§ã€‚è¿™äº›æ ‡å‡†åŒ–æ“ä½œç¡®ä¿äº†æ™ºèƒ½ä½“ä¹‹é—´çš„åä½œæ˜¯ä¸€è‡´çš„ï¼Œè¾“å‡ºçš„ç»“æœä¹Ÿæ˜¯ç»“æ„åŒ–çš„ã€‚</p></li><li><p>çŸ¥è¯†å…±äº«ï¼ˆKnowledge Sharingï¼‰ï¼šMetaGPT é€šè¿‡ç¯å¢ƒæ—¥å¿—å¤åˆ¶æ¶ˆæ¯ï¼Œæ™ºèƒ½ä½“å¯ä»¥æ ¹æ®è‡ªå·±çš„è§’è‰²è®¢é˜…æ„Ÿå…´è¶£çš„æ¶ˆæ¯ç±»å‹ã€‚è¿™ç§æ–¹å¼ä½¿æ™ºèƒ½ä½“å¯ä»¥ä¸»åŠ¨è·å–ç›¸å…³ä¿¡æ¯ï¼Œè€Œä¸æ˜¯è¢«åŠ¨åœ°é€šè¿‡å¯¹è¯è·å–ã€‚</p></li><li><p>ç«¯åˆ°ç«¯å¼€å‘ï¼ˆEnd-to-End Developmentï¼‰ï¼šä»äº§å“éœ€æ±‚åˆ°æŠ€æœ¯è®¾è®¡ï¼Œå†åˆ°å…·ä½“ç¼–ç ï¼ŒMetaGPT é€šè¿‡å¤šæ™ºèƒ½ä½“çš„åä½œå¯ä»¥å®Œæˆæ•´ä¸ªè½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸã€‚</p></li></ul><h4 id="è®¾è®¡å±‚æ¬¡"><a class="markdownIt-Anchor" href="#è®¾è®¡å±‚æ¬¡"></a> è®¾è®¡å±‚æ¬¡</h4><p>MetaGPT çš„è®¾è®¡åˆ†ä¸ºä¸¤ä¸ªä¸»è¦å±‚æ¬¡ï¼š</p><ul><li><p>Foundational Components Layerï¼ˆåŸºç¡€ç»„ä»¶å±‚ï¼‰ï¼š</p></li><li><p>ä½œç”¨ï¼šå»ºç«‹äº†æ™ºèƒ½ä½“æ“ä½œå’Œæ•´ä¸ªç³»ç»ŸèŒƒå›´å†…ä¿¡æ¯äº¤æµçš„æ ¸å¿ƒåŸºç¡€æ„ä»¶ã€‚è¿™åŒ…æ‹¬äº†ç¯å¢ƒï¼ˆEnvironmentï¼‰ã€è®°å¿†ï¼ˆMemoryï¼‰ã€è§’è‰²ï¼ˆRolesï¼‰ã€åŠ¨ä½œï¼ˆActionsï¼‰å’Œå·¥å…·ï¼ˆToolsï¼‰ç­‰å…ƒç´ ã€‚</p></li><li><p>åŠŸèƒ½ï¼š</p></li><li><p>Environmentï¼šæä¾›äº†å…±äº«çš„å·¥ä½œç©ºé—´å’Œé€šè®¯åŠŸèƒ½ã€‚</p></li><li><p>Memoryï¼šç”¨äºå­˜å‚¨å’Œæ£€ç´¢å†å²æ¶ˆæ¯ã€‚</p></li><li><p>Rolesï¼šå°è£…äº†é¢†åŸŸç‰¹å®šçš„æŠ€èƒ½å’Œå·¥ä½œæµç¨‹ã€‚</p></li><li><p>Actionsï¼šæ‰§è¡Œæ¨¡å—åŒ–çš„å­ä»»åŠ¡ã€‚</p></li><li><p>Toolsï¼šæä¾›å¸¸ç”¨æœåŠ¡å’Œå·¥å…·ã€‚</p></li><li><p>Collaboration Layerï¼ˆåä½œå±‚ï¼‰ï¼š</p></li><li><p>ä½œç”¨ï¼šåœ¨åŸºç¡€ç»„ä»¶å±‚ä¹‹ä¸Šï¼Œåè°ƒå„ä¸ªæ™ºèƒ½ä½“å…±åŒè§£å†³å¤æ‚é—®é¢˜ã€‚å®ƒå»ºç«‹äº†åˆä½œçš„åŸºæœ¬æœºåˆ¶ï¼ŒåŒ…æ‹¬çŸ¥è¯†å…±äº«å’Œå°è£…å·¥ä½œæµç¨‹ã€‚</p></li><li><p>åŠŸèƒ½ï¼š</p></li><li><p>Knowledge Sharingï¼ˆçŸ¥è¯†å…±äº«ï¼‰ï¼šå…è®¸æ™ºèƒ½ä½“æœ‰æ•ˆåœ°äº¤æ¢ä¿¡æ¯ï¼Œè´¡çŒ®åˆ°å…±äº«çš„çŸ¥è¯†åº“ä¸­ï¼Œä»è€Œæé«˜åè°ƒèƒ½åŠ›ï¼Œå‡å°‘å†—ä½™é€šè®¯ï¼Œæé«˜æ•´ä½“æ“ä½œæ•ˆç‡ã€‚</p></li><li><p>Encapsulating Workflowsï¼ˆå°è£…å·¥ä½œæµç¨‹ï¼‰ï¼šåˆ©ç”¨ SOP å°†å¤æ‚ä»»åŠ¡åˆ†è§£æˆå°è€Œå¯ç®¡ç†çš„ç»„ä»¶ï¼Œå°†è¿™äº›å­ä»»åŠ¡åˆ†é…ç»™åˆé€‚çš„æ™ºèƒ½ä½“ï¼Œå¹¶é€šè¿‡æ ‡å‡†åŒ–çš„è¾“å‡ºæ¥ç›‘ç£å…¶æ€§èƒ½ï¼Œç¡®ä¿å…¶è¡ŒåŠ¨ç¬¦åˆæ€»ä½“ç›®æ ‡ã€‚</p></li></ul><p>è¿™ä¸¤ä¸ªå±‚æ¬¡å…±åŒæ„å»ºäº† MetaGPT çš„æ¡†æ¶ï¼Œä¸ºæ™ºèƒ½ä½“æä¾›äº†å¼ºå¤§çš„åŠŸèƒ½ï¼Œä½¿å…¶èƒ½å¤Ÿåä½œè§£å†³å¤æ‚ä»»åŠ¡ã€‚</p><h2 id="rag"><a class="markdownIt-Anchor" href="#rag"></a> <strong>â–Â Â RAG</strong></h2><p>2020 å¹´ï¼ŒFacebookï¼ˆåæ›´åä¸º Metaï¼‰åœ¨ â€œRetrieval-Augmented Generation for Knowledge-Intensive NLPTasksâ€ ä¸€æ–‡ä¸­é¦–å…ˆæå‡ºäº†ä¸€ç§ç§°ä¸ºæ£€ç´¢å¢å¼ºç”Ÿæˆ (RAG) çš„æ¡†æ¶ã€‚è¯¥æ¡†æ¶å¯ä»¥ä½¿æ¨¡å‹è®¿é—®è¶…å‡ºå…¶è®­ç»ƒæ•°æ®èŒƒå›´ä¹‹å¤–çš„ä¿¡æ¯ï¼Œä½¿å¾—æ¨¡å‹åœ¨æ¯æ¬¡ç”Ÿæˆæ—¶å¯ä»¥åˆ©ç”¨æ£€ç´¢æä¾›çš„å¤–éƒ¨æ›´ä¸“ä¸šã€æ›´å‡†ç¡®çš„çŸ¥è¯†ï¼Œä»è€Œæ›´å¥½åœ°å›ç­”ç”¨æˆ·é—®é¢˜ã€‚</p><p>åœ¨ RAG ç³»ç»Ÿä¸­ï¼Œæ¨¡å‹å¯ä»¥é€šè¿‡æµè§ˆå¤–éƒ¨çŸ¥è¯†æ¥å›ç­”ç”¨æˆ·çš„é—®é¢˜ï¼Œè€Œä¸æ˜¯è¯•å›¾ä»å‚æ•°è®°å¿†ä¸­æ‰¾åˆ°é—®é¢˜ç›¸å…³çš„ç­”æ¡ˆï¼Œå°±åƒåœ¨è€ƒè¯•çš„æ—¶å€™æ˜¯å¼€å·è€ƒè¯•è¿˜æ˜¯é—­å·è€ƒè¯•ä¸€æ ·ã€‚ä¾‹å¦‚ï¼šæˆ‘ä»¬å¯ä»¥åˆ†åˆ«è¯¢é—® ChatGPT å’Œ Bing Chat ä¸¤ä¸ªé—®é¢˜ï¼šâ€œRAG æ˜¯ä»€ä¹ˆï¼Ÿâ€â€œä¸ºä»€ä¹ˆå¤§æ¨¡å‹éƒ½æ˜¯ Decoderï¼ˆè§£ç å™¨ï¼‰ç»“æ„ï¼Ÿâ€ å› ä¸º Bing Chat å¯ä»¥ç»“åˆäº’è”ç½‘çš„æœç´¢æ•°æ®æ¥ç”Ÿæˆç­”æ¡ˆï¼Œæ‰€ä»¥ç­”æ¡ˆä¼šæ›´ç²¾å‡†å¹¶ä¸”ä¿¡æ¯é‡æ›´è¶³ã€‚</p><h2 id="å·¥ä½œæµç¨‹-2"><a class="markdownIt-Anchor" href="#å·¥ä½œæµç¨‹-2"></a> <strong>â–Â Â å·¥ä½œæµç¨‹</strong></h2><p>RAG çš„å·¥ä½œæµç¨‹æ¶‰åŠ 3 ä¸ªä¸»è¦é˜¶æ®µï¼šæ•°æ®å‡†å¤‡ã€æ•°æ®å¬å›å’Œç­”æ¡ˆç”Ÿæˆã€‚æ•°æ®å‡†å¤‡é˜¶æ®µåŒ…æ‹¬è¯†åˆ«æ•°æ®æºã€ä»æ•°æ®æºæå–æ•°æ®ã€æ¸…æ´—æ•°æ®å¹¶å°†å…¶å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚æ•°æ®å¬å›é˜¶æ®µåŒ…æ‹¬æ ¹æ®ç”¨æˆ·è¾“å…¥çš„æŸ¥è¯¢æ¡ä»¶ä»æ•°æ®åº“ä¸­æ£€ç´¢ç›¸å…³æ•°æ®ã€‚ç­”æ¡ˆç”Ÿæˆé˜¶æ®µåˆ™æ˜¯åˆ©ç”¨æ£€ç´¢åˆ°çš„æ•°æ®å’Œç”¨æˆ·è¾“å…¥çš„æŸ¥è¯¢æ¡ä»¶ç”Ÿæˆè¾“å‡ºç»“æœã€‚è¾“å‡ºè´¨é‡çš„é«˜ä½å–å†³äºæ•°æ®è´¨é‡å’Œæ£€ç´¢ç­–ç•¥ã€‚</p><p><img src="8a6aecba-a54c-4740-8f3e-42844074776c.png" alt="" /></p><ul><li><h4 id="æ•°æ®å‡†å¤‡"><a class="markdownIt-Anchor" href="#æ•°æ®å‡†å¤‡"></a> æ•°æ®å‡†å¤‡</h4></li></ul><p>æ ¹æ® LLM éœ€è¦å¤„ç†çš„ä»»åŠ¡ç±»å‹ï¼Œæ•°æ®å‡†å¤‡é€šå¸¸åŒ…æ‹¬è¯†åˆ«æ•°æ®æºã€ä»æ•°æ®æºä¸­æå–æ•°æ®ã€æ¸…æ´—æ•°æ®å¹¶å°†å…¶å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ç­‰ç¯èŠ‚ã€‚ç”¨äºå­˜å‚¨æ•°æ®çš„æ•°æ®åº“ç±»å‹å’Œå‡†å¤‡æ•°æ®çš„æ­¥éª¤å¯èƒ½ä¼šå› åº”ç”¨åœºæ™¯å’Œæ£€ç´¢æ–¹æ³•çš„ä¸åŒè€Œæœ‰æ‰€å˜åŒ–ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½¿ç”¨åƒ Faiss è¿™æ ·çš„å‘é‡å­˜å‚¨åº“ï¼Œéœ€è¦ä¸ºæ•°æ®åˆ›å»ºåµŒå…¥å¹¶å°†å…¶å­˜å‚¨åœ¨å‘é‡å­˜å‚¨åº“ä¸­ï¼›å¦‚æœä½¿ç”¨åƒ Elasticsearch è¿™æ ·çš„æœç´¢å¼•æ“ï¼Œéœ€è¦å°†æ•°æ®ç´¢å¼•åˆ°æœç´¢å¼•æ“ä¸­ï¼›å¦‚æœä½¿ç”¨åƒ Neo4j è¿™æ ·çš„å›¾æ•°æ®åº“ï¼Œéœ€è¦ä¸ºæ•°æ®åˆ›å»ºèŠ‚ç‚¹å’Œè¾¹ï¼Œå¹¶å°†å®ƒä»¬å­˜å‚¨åˆ°å›¾æ•°æ®åº“ä¸­ã€‚</p><ul><li><h4 id="æ•°æ®å¬å›"><a class="markdownIt-Anchor" href="#æ•°æ®å¬å›"></a> æ•°æ®å¬å›</h4></li></ul><p>æ•°æ®å¬å›éƒ¨åˆ†çš„ä¸»è¦ä»»åŠ¡æ˜¯ä»å¤§å‹æ–‡æœ¬æ•°æ®åº“ä¸­æ£€ç´¢ä¸è¾“å…¥å…³çš„ä¿¡æ¯ã€‚ä¸ºäº†å°½å¯èƒ½ä¿è¯æ­£ç¡®ç­”æ¡ˆè¢«é€å…¥ç”Ÿæˆå™¨éƒ¨åˆ†ï¼Œæ•°æ®å¬å›éƒ¨åˆ†çš„å¬å›ç‡æ˜¾å¾—éå¸¸é‡è¦ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¬å›çš„æ•°é‡è¶Šå¤§ï¼Œæ­£ç¡®ç­”æ¡ˆè¢«å¬å›çš„æ¦‚ç‡ä¹Ÿå°±è¶Šé«˜ï¼Œä½†åŒæ—¶ä¼šé¢ä¸´å¤§æ¨¡å‹ä¸Šä¸‹æ–‡é•¿åº¦é™åˆ¶çš„é—®é¢˜ã€‚</p><p>è®¸å¤šå¼€æºåšå®¢æˆ–æ¡†æ¶åœ¨è¿™éƒ¨åˆ†çš„æµç¨‹ä¸­éƒ½é‡‡ç”¨å‘é‡æœç´¢å‡ºæœ€ç›¸è¿‘çš„ k ä¸ªå€™é€‰ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æ­£åœ¨æ„å»ºä¸€ä¸ªé—®ç­”ç³»ç»Ÿï¼Œå¹¶ä½¿ç”¨å‘é‡æ•°æ®åº“å­˜å‚¨ç›¸å…³æ•°æ®å—ï¼Œå¯ä»¥ä¸ºç”¨æˆ·çš„é—®é¢˜ç”Ÿæˆå‘é‡ï¼Œå¯¹å‘é‡æ•°æ®åº“ä¸­çš„å‘é‡è¿›è¡Œç›¸ä¼¼æ€§æœç´¢å¹¶æ£€ç´¢æœ€ç›¸ä¼¼çš„æ•°æ®å—ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥æ ¹æ®ç”¨æˆ·é—®é¢˜ï¼Œå¯¹åŒä¸€æ•°æ®åº“è¿›è¡Œæ··åˆæœç´¢æˆ–ä½¿ç”¨å¤šä¸ªæ•°æ®åº“è¿›è¡Œæœç´¢ï¼Œå¹¶å°†ç»“æœç»„åˆèµ·æ¥ä½œä¸ºç”Ÿæˆå™¨çš„ä¸Šä¸‹æ–‡è¿›è¡Œä¼ é€’ã€‚</p><p>å…³äºæ£€ç´¢è¿™éƒ¨åˆ†ï¼Œè¿˜æœ‰è®¸å¤šæé«˜æ£€ç´¢æ•ˆæœçš„æŠ€å·§ï¼Œè¿™ä¼šå¼•å…¥æ›´å¤šçš„å°æ¨¡å—ï¼Œä¾‹å¦‚å€™é€‰é‡æ’ã€å¤§æ¨¡å‹è¾…åŠ©å¬å›ç­‰ï¼Œè¿™äº›éƒ½å±äºæ•°æ®æ£€ç´¢çš„èŒƒç•´ã€‚</p><ul><li><h4 id="ç­”æ¡ˆç”Ÿæˆ"><a class="markdownIt-Anchor" href="#ç­”æ¡ˆç”Ÿæˆ"></a> ç­”æ¡ˆç”Ÿæˆ</h4></li></ul><p>ä¸€æ—¦æ£€ç´¢åˆ°ç”¨æˆ·é—®é¢˜ç›¸å…³çš„æ•°æ®ç‰‡æ®µï¼ŒRAG ç³»ç»Ÿå°±å°†å…¶ä¸ç”¨æˆ·çš„é—®é¢˜å’Œç›¸å…³æ•°æ®ä¸€èµ·ä¼ é€’ç»™ç”Ÿæˆå™¨ (LLM)ã€‚LLM åˆ©ç”¨æ£€ç´¢åˆ°çš„æ•°æ®å’Œç”¨æˆ·çš„æŸ¥è¯¢æˆ–ä»»åŠ¡ç”Ÿæˆè¾“å‡ºã€‚è¾“å‡ºçš„è´¨é‡å–å†³äºæ•°æ®çš„è´¨é‡å’Œæ£€ç´¢ç­–ç•¥ï¼ŒåŒæ—¶ç”Ÿæˆè¾“å‡ºçš„æŒ‡ä»¤ä¹Ÿä¼šæå¤§åœ°å½±å“è¾“å‡ºçš„è´¨é‡ã€‚</p><ul><li>RAG çš„ä¼˜ç¼ºç‚¹</li></ul><h4 id="rag-çš„ä¼˜ç‚¹"><a class="markdownIt-Anchor" href="#rag-çš„ä¼˜ç‚¹"></a> RAG çš„ä¼˜ç‚¹</h4><p>å‰é¢ä»‹ç»äº† RAG çš„åŸºç¡€å†…å®¹ï¼Œä¸‹é¢æ¥å…·ä½“æ¢³ç†ä¸€ä¸‹ RAG çš„ä¼˜ç‚¹ã€‚</p><h4 id="é«˜è´¨é‡çš„ç­”æ¡ˆç”Ÿæˆé™ä½ç­”æ¡ˆç”Ÿæˆçš„å¹»è§‰"><a class="markdownIt-Anchor" href="#é«˜è´¨é‡çš„ç­”æ¡ˆç”Ÿæˆé™ä½ç­”æ¡ˆç”Ÿæˆçš„å¹»è§‰"></a> <strong>é«˜è´¨é‡çš„ç­”æ¡ˆç”Ÿæˆï¼Œé™ä½ç­”æ¡ˆç”Ÿæˆçš„å¹»è§‰</strong></h4><p>RAG çš„ä¸€ä¸ªä¼˜ç‚¹æ˜¯å®ƒèƒ½å¤Ÿç”Ÿæˆé«˜è´¨é‡çš„å›ç­”ã€‚å› ä¸ºåœ¨ç”Ÿæˆè¿‡ç¨‹ä¸­ï¼Œæ£€ç´¢å™¨å¯ä»¥ä»å¤§é‡æ–‡æ¡£ä¸­æ£€ç´¢é—®é¢˜ç›¸å…³çš„ä¿¡æ¯ï¼Œç„¶ååŸºäºè¿™äº›ä¿¡æ¯ç”Ÿæˆå›ç­”ã€‚è¿™ä½¿å¾—æ•´ä¸ªç³»ç»Ÿèƒ½å¤Ÿå……åˆ†åˆ©ç”¨ç°æœ‰çŸ¥è¯†ç”Ÿæˆæ›´å‡†ç¡®ã€æ›´å…·æ·±åº¦çš„å›ç­”ï¼Œä¹Ÿæ„å‘³ç€æ¨¡å‹å‡ºç°å¹»è§‰ç­”æ¡ˆçš„æ¦‚ç‡æ›´å°ã€‚</p><h4 id="å¯æ‰©å±•æ€§"><a class="markdownIt-Anchor" href="#å¯æ‰©å±•æ€§"></a> <strong>å¯æ‰©å±•æ€§</strong></h4><p>RAG å±•ç¤ºäº†å‡ºè‰²çš„å¯æ‰©å±•æ€§ï¼Œè¿™æ„å‘³ç€å®ƒèƒ½å¤Ÿè½»æ¾é€‚åº”æ–°æ•°æ®å’Œä»»åŠ¡ã€‚åˆ©ç”¨ RAG çš„æ£€ç´¢ â€” ç”Ÿæˆæ¡†æ¶ï¼Œåªéœ€æ›´æ–°æ£€ç´¢éƒ¨åˆ†çš„æ•°æ®ï¼Œæ¨¡å‹ä¾¿å¯é€‚åº”æ–°çš„çŸ¥è¯†é¢†åŸŸã€‚è¿™ä½¿å¾— RAG èƒ½å¤Ÿåœ¨é¢å¯¹æ–°é¢†åŸŸæˆ–ä¸æ–­å˜åŒ–çš„çŸ¥è¯†åº“æ—¶ä¿æŒé«˜åº¦çš„é€‚åº”æ€§ã€‚</p><h4 id="æ¨¡å‹å¯è§£é‡Šæ€§"><a class="markdownIt-Anchor" href="#æ¨¡å‹å¯è§£é‡Šæ€§"></a> <strong>æ¨¡å‹å¯è§£é‡Šæ€§</strong></h4><p>RAG å…·æœ‰ä¸€å®šç¨‹åº¦çš„å¯è§£é‡Šæ€§ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥ç†è§£æ¨¡å‹æ˜¯å¦‚ä½•ç”Ÿæˆå›ç­”çš„ã€‚ç”±äº RAG çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°è¿½æº¯æ¨¡å‹æ˜¯ä»å“ªäº›æ–‡æ¡£ä¸­æå–ä¿¡æ¯çš„ã€‚è¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥è¯„ä¼°æ¨¡å‹çš„å›ç­”æ˜¯å¦åŸºäºå¯é çš„æ•°æ®æ¥æºï¼Œä»è€Œæé«˜æ¨¡å‹çš„å¯ä¿¡åº¦ã€‚</p><h4 id="æˆæœ¬æ•ˆç›Š"><a class="markdownIt-Anchor" href="#æˆæœ¬æ•ˆç›Š"></a> <strong>æˆæœ¬æ•ˆç›Š</strong></h4><p>ç”±äº RAG çš„çŸ¥è¯†åº“èƒ½å¤Ÿä¸ç”Ÿæˆæ¨¡å‹è§£è€¦ï¼Œå› æ­¤åªè¦æ‹¥æœ‰ä¸€å®šçš„æ•°æ®é‡ï¼Œä¼ä¸šä¾¿å¯å°† RAG ä½œä¸ºå¾®è°ƒçš„æ›¿ä»£æ–¹æ³•ï¼Œè€Œå¾®è°ƒå¯èƒ½éœ€è¦å¤§é‡èµ„æºã€‚è¿™ç§æ¨¡å¼å¯¹ä¸­å°ä¼ä¸šéå¸¸å‹å¥½ã€‚ä»å¦ä¸€ä¸ªè§’åº¦æ¥çœ‹ï¼Œç”±äºä¼ä¸šçš„æ•°æ®éƒ½æ˜¯ç§æœ‰çš„ï¼Œæä¾›ç›¸å…³æ–‡æ¡£ä½œä¸ºèƒŒæ™¯ä¿¡æ¯å¯ä»¥ä½¿ç”Ÿæˆç»“æœæ›´åŠ å‡†ç¡®ã€æ›´å…·å®ç”¨æ€§ï¼Œä»¥æ»¡è¶³ä¼ä¸šçš„ç‰¹å®šä»»åŠ¡éœ€æ±‚ã€‚</p><h4 id="rag-çš„ç¼ºç‚¹"><a class="markdownIt-Anchor" href="#rag-çš„ç¼ºç‚¹"></a> RAG çš„ç¼ºç‚¹</h4><h4 id="ä¾èµ–äºæ£€ç´¢æ¨¡å—"><a class="markdownIt-Anchor" href="#ä¾èµ–äºæ£€ç´¢æ¨¡å—"></a> <strong>ä¾èµ–äºæ£€ç´¢æ¨¡å—</strong></h4><p>RAG ç³»ç»Ÿç»™å‡ºçš„ç­”æ¡ˆæå…¶ä¾èµ–äºæ£€ç´¢çš„è´¨é‡ã€‚å¦‚æœæ£€ç´¢åˆ°çš„æ–‡æ¡£ä¸é—®é¢˜æ— å…³æˆ–è´¨é‡è¾ƒä½ï¼Œç”Ÿæˆçš„å›ç­”ä¹Ÿå¯èƒ½è´¨é‡è¾ƒä½ã€‚å¦‚æœæœç´¢çš„æ–‡æ¡£å¹¶æœªè¦†ç›–åˆ°é—®é¢˜çš„ç­”æ¡ˆï¼Œé‚£æ¨¡å‹ä¹ŸåŸºæœ¬æ— æ³•å›ç­”ç”¨æˆ·æå‡ºçš„é—®é¢˜ã€‚å› æ­¤ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ä¼šåˆ©ç”¨å¾ˆå¤šç­–ç•¥æ¥æé«˜æ–‡æ¡£ç‰‡æ®µçš„å¬å›ç‡ã€‚åœ¨å¾ˆå¤šåœºæ™¯ä¸­ï¼Œæ–‡æ¡£ç‰‡æ®µçš„æ—¶æ•ˆæ€§ä¹Ÿæ˜¯è¦è€ƒè™‘çš„ä¸€éƒ¨åˆ†ï¼Œä¾‹å¦‚é‡‘èåœºæ™¯ï¼Œç”¨æˆ·å’¨è¯¢ 10 æœˆä»½çš„é‡‘è‚¡æ˜¯ä»€ä¹ˆï¼Œå¦‚æœå¬å›ç‰‡æ®µä¸åŒ…å« 10 æœˆä»½çš„åˆ¸å•†é‡‘è‚¡ç ”æŠ¥ï¼Œç”šè‡³å¬å›å¾ˆå¤šæ—§çš„é‡‘è‚¡ç ”æŠ¥ï¼Œé‚£å¯¹æœ€åçš„å¤§æ¨¡å‹ç”Ÿæˆä¼šäº§ç”Ÿå¾ˆå¤§çš„å¹²æ‰°ã€‚è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„å¬å›æƒ…å†µéƒ½ä¼šå½±å“åˆ°æ¨¡å‹çš„ç»“æœç”Ÿæˆï¼Œå› æ­¤æƒ³æ„å»ºä¸€ä¸ªå¥½çš„ RAG ç³»ç»Ÿï¼Œæ£€ç´¢éƒ¨åˆ†æ˜¯æå…¶é‡è¦çš„ï¼Œéœ€è¦èŠ±è´¹å¤§é‡çš„æ—¶é—´æ¥æ‰“ç£¨ã€‚</p><h4 id="ä¾èµ–äºç°æœ‰çš„çŸ¥è¯†åº“"><a class="markdownIt-Anchor" href="#ä¾èµ–äºç°æœ‰çš„çŸ¥è¯†åº“"></a> <strong>ä¾èµ–äºç°æœ‰çš„çŸ¥è¯†åº“</strong></h4><p>RAG ä¾èµ–äºä¸€ä¸ªç°æœ‰çš„æ–‡æ¡£æ•°æ®åº“è¿›è¡Œæ£€ç´¢ã€‚é¦–å…ˆï¼Œå¦‚æœæ²¡æœ‰ä¸€ä¸ªå¤§è§„æ¨¡çš„çŸ¥è¯†åº“ï¼Œå°±æ— æ³•å‘æŒ¥ RAG çš„ä¼˜ç‚¹ã€‚å…¶æ¬¡ï¼Œå¦‚æœçŸ¥è¯†åº“è¦†ç›–é¢ä¸å¤Ÿï¼Œæ— æ³•å¬å›ç›¸åº”çš„çŸ¥è¯†å—ï¼Œé‚£ä¹ˆæ¨¡å‹å› ä¸ºéœ€è¦éµå¾ªæŒ‡ä»¤çš„çº¦æŸè€Œæ— æ³•ç»™å‡ºç­”æ¡ˆï¼Œè¿™å°±ä¼šå½±å“åˆ°æ•´ä¸ªç³»ç»Ÿçš„é—®é¢˜è¦†ç›–ç‡ã€‚</p><h4 id="æ¨ç†è€—æ—¶"><a class="markdownIt-Anchor" href="#æ¨ç†è€—æ—¶"></a> <strong>æ¨ç†è€—æ—¶</strong></h4><p>ç”±äº RAG ç³»ç»Ÿéœ€è¦å…ˆæ£€ç´¢æ–‡æ¡£ï¼Œç„¶åç”Ÿæˆç­”æ¡ˆï¼Œç›¸æ¯”äºçº¯ç²¹çš„å¤§æ¨¡å‹æ¨ç†ï¼Œæ•´ä¸ªç³»ç»Ÿçš„æ¨ç†è€—æ—¶ä¼šæ›´é•¿ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯¹äºä¸€äº›å»¶æ—¶è¦æ±‚é«˜çš„åœºæ™¯å°±æ— æ³•æ»¡è¶³éœ€æ±‚ã€‚ä¸è¿‡è¿™ä¸ªè€—æ—¶é—®é¢˜å±äºå¤§æ¨¡å‹çš„é€šç—…ï¼Œåœ¨ä½¿ç”¨ç½‘é¡µç«¯ ChatGPT çš„æ—¶å€™ï¼Œå®ƒä»¥æµå¼æ‰“å­—æœºçš„æ¨¡å¼å±•ç¤ºå¹¶æŒ‰å­—æ¥è¾“å‡ºç»“æœï¼Œæ‰€ä»¥ç”¨æˆ·å¯èƒ½ä¸ä¼šæ„Ÿè§‰å¾ˆæ…¢ï¼Œä½†å¦‚æœç»Ÿè®¡ä»é—®é¢˜å‘é€åˆ°ç­”æ¡ˆå®Œæ•´ç”Ÿæˆè¿™ä¸ªè¿‡ç¨‹ï¼Œè€—æ—¶è¿˜æ˜¯éå¸¸é•¿çš„ã€‚</p><h4 id="ä¸Šä¸‹æ–‡çª—å£é™åˆ¶"><a class="markdownIt-Anchor" href="#ä¸Šä¸‹æ–‡çª—å£é™åˆ¶"></a> <strong>ä¸Šä¸‹æ–‡çª—å£é™åˆ¶</strong></h4><p>å¬å›æ¨¡å—è¾“å‡ºçš„æ–‡æ¡£ç‰‡æ®µæ•°é‡éœ€è¦è€ƒè™‘åˆ°ç”Ÿæˆæ¨¡å‹èƒ½å¤„ç†çš„æœ€å¤§é•¿åº¦ï¼Œä¾‹å¦‚æœ€æ—©çš„ ChatGPTï¼ˆGPT-3.5-turboï¼‰çš„æœ€å¤§ä¸Šä¸‹æ–‡é•¿åº¦æ˜¯ 4096 ä¸ª tokenã€‚å¦‚æœä½ çš„æ–‡æ¡£ç‰‡æ®µæ˜¯ 512 ä¸ª token çš„é•¿åº¦ï¼Œé‚£å®é™…ä¸Šéœ€è¦ä½¿ç”¨ 8 ä¸ªç‰‡æ®µï¼ˆ512Ã—8 = 4096ï¼‰ï¼Œæ‰€ä»¥å¬å›éƒ¨åˆ†å°±éœ€è¦è€ƒè™‘å¦‚ä½•åœ¨è¿™ 8 ä¸ªç‰‡æ®µä¸­æŠŠå¬å›ç‡åšåˆ°æœ€ä¼˜ã€‚ä¸è¿‡ä¹Ÿæœ‰å…¶ä»–çš„æŠ˜ä¸­æ–¹æ¡ˆï¼Œå¯ä»¥å¬å›æ›´å¤šçš„æ–‡æ¡£ç‰‡æ®µã€‚ä¾‹å¦‚ï¼Œå¯ä»¥é‡‡ç”¨å¯¹æ£€ç´¢çš„æ–‡æ¡£ç‰‡æ®µè¿›è¡Œå‹ç¼©ï¼Œå€ŸåŠ©å¤§æ¨¡å‹è¿›è¡Œè¦ç‚¹æ€»ç»“ä¹‹ç±»çš„ç­–ç•¥ã€‚ä¹Ÿå¯ä»¥å¯¹ç”Ÿæˆç«¯çš„æ¨¡å‹åº”ç”¨é•¿åº¦å¤–æ¨æŠ€å·§ï¼Œç°æœ‰çš„é•¿åº¦å¤–æ¨ç­–ç•¥å·²ç»æ¯”è¾ƒæˆç†Ÿï¼Œæœ‰å¾ˆå¤šéå¸¸ä¼˜ç§€çš„å¤–æ¨ç­–ç•¥ï¼Œå¯ä»¥è®©æ¨¡å‹æ¨ç†çš„é•¿åº¦è¿œè¿œè¶…è¿‡è®­ç»ƒé˜¶æ®µçš„é•¿åº¦ã€‚</p><h2 id="æç¤ºè¯å·¥ç¨‹"><a class="markdownIt-Anchor" href="#æç¤ºè¯å·¥ç¨‹"></a> <strong>â–Â Â æç¤ºè¯å·¥ç¨‹</strong></h2><p><img src="159e3dbf-b690-4f26-86ad-9e6ab562dd91.png" alt="" /></p><p>æç¤ºè¯å·¥ç¨‹ï¼ˆPrompt Engineeringï¼‰æ˜¯ä¸€ç§åœ¨äººå·¥æ™ºèƒ½å’Œè‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸä¸­å¼€å‘å’Œè®¾è®¡æç¤ºè¯ï¼ˆPromptsï¼‰ä»¥å¼•å¯¼å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆä¾‹å¦‚ GPT-3 ç­‰ï¼‰äº§ç”Ÿç‰¹å®šè¾“å‡ºçš„æ–¹æ³•ã€‚é€šè¿‡ç²¾å¿ƒæ„å»ºå’Œä¼˜åŒ–æç¤ºè¯ï¼Œç”¨æˆ·å¯ä»¥æ›´æœ‰æ•ˆåœ°è·å¾—æ‰€éœ€çš„ç­”æ¡ˆã€ç”Ÿæˆæ–‡æœ¬æˆ–æ‰§è¡Œå…¶ä»–è‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡ã€‚</p><p>æç¤ºè¯å·¥ç¨‹çš„å…³é”®åœ¨äºæ‰¾åˆ°åˆé€‚çš„è¯­è¨€å’Œç»“æ„æ¥æ¸…æ™°åœ°è¡¨è¾¾é—®é¢˜æˆ–ä»»åŠ¡ï¼Œä½¿å¾—æ¨¡å‹å¯ä»¥æ›´å‡†ç¡®åœ°ç†è§£å¹¶ç»™å‡ºç›¸å…³çš„å›åº”ã€‚è¿™å¯èƒ½æ¶‰åŠåå¤è¯•éªŒã€è°ƒæ•´æç¤ºè¯çš„ç»†èŠ‚ï¼Œä»¥åŠåˆ©ç”¨å¯¹æ¨¡å‹è¡Œä¸ºçš„ç†è§£æ¥ä¼˜åŒ–ç»“æœã€‚æ¥ä¸‹æ¥é€šè¿‡ä¸€äº›åŸºç¡€æ¡ˆä¾‹ä»‹ç»å¦‚ä½•ä¼˜åŒ– Prompt ä½¿å¾—å¤§æ¨¡å‹æ›´å¥½çš„å›ç­”æˆ‘ä»¬çš„é—®é¢˜ã€‚</p><p>æè¿°ç­”æ¡ˆçš„æ ‡æ³¨</p><p>åœ¨ä¸ LLM äº¤äº’æ—¶ï¼Œæœ€å¥½åœ¨æç¤ºä¸­æ¸…æ¥šåœ°æè¿°æ‰€æœŸæœ›çš„ç­”æ¡ˆæ ‡å‡†ã€‚ä¸è¦å‡è®¾ LLM å…·æœ‰ä¸äººç±»ç›¸ä¼¼çš„ç†è§£èƒ½åŠ›ï¼Œä¹Ÿä¸è¦æœŸæœ›å®ƒä¸€å®šä¼šä»¥äººç±»çš„æ–¹å¼è¿›è¡Œå›ç­”ã€‚ä¸ LLM äº¤äº’æ—¶ä½¿ç”¨ prompt é€šå¸¸ä¼šæ˜¾å¾—æœ‰äº› â€œå•°å—¦â€ï¼Œè¿™æ˜¯æ­£å¸¸çš„ã€‚ä½†è¦æ³¨æ„æ¯ä¸€æ¡å…³äºç­”æ¡ˆæ ‡å‡†çš„æè¿°éƒ½åº”ä¸æ‰€æœŸæœ›å®ç°çš„ç›®æ ‡å¯†åˆ‡ç›¸å…³ï¼Œé¿å…å†—ä½™ä¿¡æ¯ï¼Œä»¥é™ä½ LLM ç†è§£çš„éš¾åº¦ã€‚<br />æ¯”å¦‚æˆ‘ä»¬å¯ä»¥åœ¨æé—® â€œåŒ—äº¬æœ‰å“ªäº›æ™¯ç‚¹â€ æ—¶å¢åŠ  â€œè¯·ä¸è¦è¿‡å¤šä»‹ç»æ™¯ç‚¹â€ æ¥ç®€åŒ– ChatGPT çš„è¾“å‡ºç»“æœã€‚</p><p>è®¾ç½®å…œåº•çš„å›ç­”æ–¹å¼</p><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå‘é‡åŒ–æ¨¡å‹å¯èƒ½æ— æ³•å‡†ç¡®å¬å›ä¸ç”¨æˆ·é—®é¢˜ç›¸å…³çš„æ–‡æœ¬ï¼Œç”šè‡³ä¸ç”¨æˆ·é—®é¢˜å‡ ä¹æ²¡æœ‰ä»»ä½•å…³è”ã€‚å¦‚æœè®© LLM æ ¹æ®è¿™äº›å¬å›çš„æ–‡æœ¬ç”Ÿæˆç­”æ¡ˆï¼Œå¯èƒ½ä¼šå¾—åˆ°ä¸é—®é¢˜æ— å…³æˆ–ä¸ç¬¦åˆäº‹å®çš„ç­”æ¡ˆã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦æ˜ç¡®å‘ŠçŸ¥ LLMï¼Œå¦‚æœä¸Šä¸‹æ–‡ä¸­æ²¡æœ‰ä¸ç”¨æˆ·é—®é¢˜ç›¸å…³çš„ç­”æ¡ˆï¼Œå°±ä¸è¦å¼ºè¡Œç”Ÿæˆç­”æ¡ˆäº†ã€‚è¿™æ ·èƒ½å¤Ÿé¿å…äº§ç”Ÿä¸å‡†ç¡®æˆ–ä¸ç›¸å…³çš„å›ç­”ã€‚</p><p>è¾“å…¥ä¸­æä¾›é—®ç­”å®ä¾‹</p><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¾ˆéš¾é€šè¿‡è¯­è¨€å‡†ç¡®åœ°æè¿°ä¸€é¡¹ä»»åŠ¡ã€‚å¦‚æœä»»åŠ¡æè¿°ä¸æ¸…æ¥šï¼Œæˆ–è€…é—®é¢˜æœ¬èº«å¾ˆå¤æ‚ï¼Œä¼šå¯¼è‡´è¯­è¨€æ¨¡å‹äº§ç”Ÿæ­§ä¹‰ï¼Œè¿›è€Œä¸¥é‡å½±å“å›ç­”çš„æ•ˆæœã€‚é‡åˆ°è¿™ç§æƒ…å†µï¼Œå¯ä»¥å°è¯•åœ¨è¾“å…¥ä¸­å¢åŠ ä¸€äº›é—®ç­”ç¤ºä¾‹ï¼Œè®©è¯­è¨€æ¨¡å‹è‡ªè¡Œé¢†æ‚Ÿæ¥ä¸‹æ¥åº”è¯¥åšçš„ä»»åŠ¡ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸ºè¯­è¨€æ¨¡å‹æä¾›é—®ç­”ç¤ºä¾‹æ˜¯æœ‰ç›Šçš„ã€‚ç„¶è€Œï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç¤ºä¾‹çš„æ•°é‡ã€é¡ºåºä»¥åŠä¸çœŸå®é—®é¢˜çš„ç›¸å…³æ€§ç­‰å› ç´ éƒ½ä¼šå½±å“è¯­è¨€æ¨¡å‹çš„å›ç­”æ•ˆæœï¼Œè¿™éœ€è¦å¤§é‡å®è·µæ¥ç¡®å®šã€‚åœ¨æä¾›ç¤ºä¾‹æ—¶ï¼Œå°½é‡æ¶µç›–ç®€å•ã€å›°éš¾ã€é•¿å°¾ç­‰å„ç§ç±»å‹çš„ç¤ºä¾‹ã€‚</p><p>æ ‡è¯†å‡º prompt ä¸­ä¸åŒç±»å‹çš„å†…å®¹</p><p>åœ¨æ’°å†™ prompt æ—¶ï¼Œæœ€å¥½èƒ½æŠŠä»»åŠ¡æè¿°ã€ç¤ºä¾‹ã€å¼•ç”¨æ–‡æœ¬ç­‰ä¸åŒç±»å‹çš„å†…å®¹ç”¨ç‰¹æ®Šç¬¦å·éš”å¼€ï¼Œé¿å… LLM åœ¨å†…å®¹ç†è§£ä¸Šæœ‰æ­§ä¹‰ï¼ŒåŒæ—¶ä¹Ÿä¾¿äºç”¨æˆ·å¯¹ prompt è¿›è¡Œä¿®æ”¹ä¸ç»´æŠ¤ã€‚å¦‚æœç”¨æˆ·ä¸‹è¾¾çš„æŒ‡ä»¤å’Œ prompt å…¶ä»–å†…å®¹æ˜¯å†²çªçš„ï¼Œä½¿ç”¨è¯¥æŠ€å·§å°±ååˆ†é‡è¦äº†ã€‚</p><p><strong>è®¾å®šè¾“å‡ºæ ¼å¼</strong></p><p>ChatGPT ç­‰æ¨¡å‹éƒ½æ˜¯ç»è¿‡å¯¹è¯æ•°æ®å¾®è°ƒçš„ã€‚åœ¨éœ€è¦å‡†ç¡®è¾“å‡ºå†…å®¹ç‚¹çš„åœºæ™¯ä¸­ï¼Œæœ‰æ—¶å¯èƒ½ä¼šå‡ºç°è¾“å‡ºæ— ç”¨ä¿¡æ¯æˆ–è¿‡äºå£è¯­åŒ–çš„æƒ…å†µï¼Œè¿™ä¸åˆ©äºè¿›ä¸€æ­¥æå–è¾“å‡ºä¸­æ‰€éœ€çš„å†…å®¹ã€‚ä¸€ç§æœ‰æ•ˆçš„è§£å†³æ–¹æ³•æ˜¯è®© LLM ä»¥ json æ ¼å¼è¾“å‡ºå†…å®¹ï¼Œå¦‚æœæ•ˆæœä¸ä½³ï¼Œä¹Ÿå¯ä»¥å°è¯•åœ¨æç¤ºä¸­å¢åŠ è¾“å‡º json çš„ç¤ºä¾‹ã€‚æœ‰æ—¶å€™ LLM è¾“å‡ºçš„ json æ ¼å¼å¯èƒ½ä¸å¤Ÿæ ‡å‡†ï¼ˆä¾‹å¦‚ï¼Œå­—å…¸çš„é”®å€¼æ²¡æœ‰å¼•å·æˆ–å†’å·é‡‡ç”¨ä¸­æ–‡æ ¼å¼ï¼‰ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ Python çš„ json åŒ…è¿›è¡Œå¤„ç†ï¼Œåˆ™å¯ä»¥å€ŸåŠ©æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œå¤„ç†ã€‚å¦‚æœä¸ç†Ÿæ‚‰æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¯ç›´æ¥å‘ ChatGPT è¯¢é—®ã€‚</p><p>æŒ‡å®šå¤§æ¨¡å‹çš„èº«ä»½</p><p>åœ¨ prompt ä¸­ï¼Œå‘Šè¯‰ LLM æ‰€æ‰®æ¼”çš„èº«ä»½æ˜¯ä»€ä¹ˆï¼Œè¿™å¯ä»¥å¸®åŠ© LLM ç¡®å®šæ¥ä¸‹æ¥è¾“å‡ºçš„å†…å®¹å’Œè¯´è¯é£æ ¼ã€‚</p><p>ä½¿ç”¨æ€ç»´é“¾</p><p>å¯¹ äº LLM æ¥è¯´ï¼Œå½“å®ƒè¿›è¡Œæ¨ç†ç›¸å…³çš„ä»»åŠ¡æ—¶ï¼Œè¦æ±‚å®ƒè¾“å‡ºæ¨ç†è¿‡ç¨‹åŒæ ·å¯ä»¥å‡å°‘é”™è¯¯çš„å‘ç”Ÿã€‚ä»¥è®¡ç®—ä¸€ä¸ªç®€å•çš„æ•°å­¦é¢˜ä¸ºä¾‹ï¼Œç›´æ¥è¾“å‡ºçš„ç­”æ¡ˆå¯èƒ½æ˜¯é”™è¯¯çš„ã€‚åªæœ‰è¦æ±‚å®ƒé€æ­¥ç»™å‡ºæ¯ä¸€æ­¥çš„è®¡ç®—è¿‡ç¨‹ï¼Œæ‰èƒ½å¾—åˆ°æ­£ç¡®çš„ç­”æ¡ˆã€‚LLM ä¸ä»…åœ¨è®­ç»ƒæ—¶å¯ä»¥é€šè¿‡å¢åŠ è®¡ç®—é‡ï¼ˆè®­ç»ƒæ›´å¤šæ•°æ®ï¼‰æ¥æé«˜æ•ˆæœï¼Œè€Œä¸”åœ¨æ¨ç†è¿‡ç¨‹ä¸­ä¹Ÿå¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼ˆè¾“å‡ºæ›´å¤šå†…å®¹ï¼‰ã€‚</p><p><strong>â–Â Â æ¨¡å‹å¾®è°ƒ</strong></p><p><img src="b870789c-e605-4ac5-9313-8ec49e92eb77.jpg" alt="" /></p><p>ç›®å‰é€šç”¨çš„å¤§è¯­è¨€æ¨¡å‹ï¼Œæ¯”å¦‚ ChatGPTï¼ŒGeminiï¼Œé€šä¹‰åƒé—®ç­‰äº‹å®ä¸Šéƒ½å±äºé¢„è®­ç»ƒ (Pre-trained) æ¨¡å‹ï¼Œé¢„è®­ç»ƒæ˜¯æŒ‡é€šè¿‡äº’è”ç½‘ä¸Šå·²çŸ¥çš„æµ·é‡çš„è¯­æ–™å¯¹åŸå§‹å¤§æ¨¡å‹è¿›è¡Œè®­ç»ƒï¼Œè®­ç»ƒåçš„å¤§æ¨¡å‹å…·æœ‰äº†é€šç”¨é¢†åŸŸçŸ¥è¯†çš„è§£ç­”å’Œæ¨ç†èƒ½åŠ›ã€‚è€Œå¯¹äºæ‹¥æœ‰ç‰¹å®šé¢†åŸŸçŸ¥è¯†çš„ä¼ä¸šæ¥è¯´ï¼Œæƒ³è¦è½åœ°å¤§æ¨¡å‹å¾€å¾€éœ€è¦å¤§æ¨¡å‹èƒ½å¤Ÿç†è§£ä¼ä¸šçš„é¢†åŸŸçŸ¥è¯†ä¸”ç§æœ‰æ•°æ®ä¸èƒ½è¢«æ³„éœ²ã€‚æ‰€ä»¥åœ¨ä¼ä¸šè½åœ°çš„å®é™…åº”ç”¨ä¸­éœ€è¦å¯¹å¤§æ¨¡å‹è¿›è¡Œå¾®è°ƒã€‚</p><p>åŸºäºå·²æœ‰å¼€æºå¤§æ¨¡å‹è¿›è¡Œå¾®è°ƒè®­ç»ƒï¼Œå¦‚æœé‡‡ç”¨é¢„è®­ç»ƒçš„æ–¹å¼å¯¹æ¨¡å‹çš„æ‰€æœ‰å‚æ•°éƒ½è¿›è¡Œè®­ç»ƒå¾®è°ƒï¼Œç”±äºç°æœ‰çš„å¼€æºæ¨¡å‹å‚æ•°é‡éƒ½ååˆ†å·¨å¤§ï¼Œå¦‚æœ€æ–°åƒé—® 72B æ¨¡å‹ (qwen/Qwen1.5-72B-Chat) æœ‰ 720 äº¿å‚æ•°ï¼Œå¯¹æ‰€æœ‰çš„å‚æ•°éƒ½è¿›è¡Œå¤„ç†ï¼Œé‚£ GPU èµ„æºæˆæœ¬ä¼šéå¸¸é«˜ï¼Œå¯èƒ½é«˜è¾¾æ•°ç™¾ä¸‡æ¯å¹´ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç¤¾åŒºæå‡ºäº†å¤§æ¨¡å‹å¾®è°ƒçš„æ¦‚å¿µï¼šPEFT (Parameter-Efficient Fine-Tuning)ï¼Œå³å¯¹å¼€æºé¢„è®­ç»ƒæ¨¡å‹çš„æ‰€æœ‰å‚æ•°ä¸­çš„ä¸€å°éƒ¨åˆ†å‚æ•°è¿›è¡Œè®­ç»ƒå¾®è°ƒï¼Œæœ€åè¾“å‡ºçš„ç»“æœå’Œå…¨å‚æ•°å¾®è°ƒè®­ç»ƒçš„æ•ˆæœæ¥è¿‘ã€‚</p><p>PEFT çš„åŸºæœ¬æ€æƒ³æ˜¯ä¿æŒå¤§éƒ¨åˆ†å‚æ•°ä¸å˜ï¼Œé€šè¿‡å¾®è°ƒä¸€å°éƒ¨åˆ†å‚æ•°ï¼Œè¾¾åˆ°å…·æœ‰ç«äº‰åŠ›ç”šè‡³æ˜¯é¢†å…ˆçš„æ€§èƒ½ã€‚ç”±äºéœ€è¦æ›´æ–°çš„å‚æ•°é‡å°ï¼Œå…¶æ‰€éœ€çš„æ•°æ®å’Œç®—åŠ›èµ„æºå˜å°ï¼Œä½¿å¾—å¾®è°ƒæ›´åŠ æœ‰æ•ˆç‡ã€‚<br />ä¸‹é¢ä»‹ç»æœ€å¸¸è§çš„é«˜æ•ˆå¾®è°ƒæ–¹æ³• LoRA ä»¥åŠä»–çš„ä¸€äº›å˜ä½“ï¼š</p><p>LoRAï¼ˆLow-Rank Adaptationï¼‰</p><p>LoRA å³ LLMs çš„ä½ç§©é€‚åº”ï¼Œæ˜¯å‚æ•°é«˜æ•ˆå¾®è°ƒæœ€å¸¸ç”¨çš„æ–¹æ³•ã€‚LoRA çš„æœ¬è´¨å°±æ˜¯ç”¨æ›´å°‘çš„è®­ç»ƒå‚æ•°æ¥è¿‘ä¼¼ LLM å…¨å‚æ•°å¾®è°ƒæ‰€å¾—çš„å¢é‡å‚æ•°ï¼Œä»è€Œè¾¾åˆ°ä½¿ç”¨æ›´å°‘æ˜¾å­˜å ç”¨çš„é«˜æ•ˆå¾®è°ƒã€‚<br />ç®€å•æ¥è¯´ï¼ŒLoRA åœ¨æ¨¡å‹å‚æ•°çŸ©é˜µçš„ï¼ˆä¾‹å¦‚ m*n ç»´ï¼‰æ—è¾¹æ–°å¢ä¸€æ”¯æ—è·¯ï¼Œç”±ä¸¤ä¸ªä½ç§©çŸ©é˜µï¼ˆm*r, r*n ç»´ï¼Œr è¿œå°äº m,nï¼‰ç›¸ä¹˜ï¼Œå‰å‘è¿‡ç¨‹ä¸­ï¼ŒåŒæ—¶ç»è¿‡åŸå§‹çŸ©é˜µå’Œæ—è·¯ï¼ˆLoRA éƒ¨åˆ†ï¼‰ï¼Œåˆ†åˆ«å¾—åˆ°å„è‡ªçš„è¾“å‡ºå†ç›¸åŠ èµ·æ¥ï¼Œè®­ç»ƒæ—¶å†»ç»“åŸå§‹å‚æ•°ï¼Œåªè®­ç»ƒ LoRAï¼Œç”±äº LoRA éƒ¨åˆ†æ˜¯ä¸¤ä¸ªä½ç§©çŸ©é˜µï¼Œå‚æ•°é‡è¿œè¿œå°äºåŸå§‹çŸ©é˜µï¼Œå› æ­¤å¯ä»¥æ˜¾è‘—å‡å°‘è®­ç»ƒä»£ä»·ã€‚</p><p><strong>QLoRAï¼ˆQuantized LoRAï¼‰</strong></p><p>QLoRA æ˜¯æ¨¡å‹é‡åŒ–å’Œ LoRA çš„ç»“åˆã€‚é™¤äº†å¢åŠ äº† LoRA æ—è·¯ï¼ŒQLoRA åœ¨åŠ è½½æ—¶å°†å¤§æ¨¡å‹é‡åŒ–æˆ 4bit æˆ–è€… 8bitï¼Œä½†åœ¨è®¡ç®—æ—¶ï¼Œåˆå°†è¯¥éƒ¨åˆ†çš„å‚æ•°åé‡åŒ–æˆ 16bit è¿›è¡Œè®¡ç®—ï¼Œå…¶ä¼˜åŒ–äº†éä½¿ç”¨çŠ¶æ€æ¨¡å‹å‚æ•°çš„å­˜å‚¨ï¼Œä¸ LoRA ç›¸æ¯”è¿›ä¸€æ­¥é™ä½è®­ç»ƒæ—¶æ˜¾å­˜æ¶ˆè€—ã€‚</p><p><img src="602afcb6-4ffc-4c0d-b6b5-1de5d31f30a2.png" alt="" /></p><p><strong>å¤§æ¨¡å‹æ¡†æ¶</strong></p><p>å¤§å‹è¯­è¨€æ¨¡å‹ (LLM) å¦‚ GPT ç³»åˆ—æ¨¡å‹å¼•é¢†äº†äººå·¥æ™ºèƒ½é¢†åŸŸçš„ä¸€åœºæŠ€æœ¯é©å‘½ã€‚å¼€å‘è€…ä»¬éƒ½åœ¨åˆ©ç”¨è¿™äº› LLM è¿›è¡Œå„ç§å°è¯•ï¼Œè™½ç„¶å·²ç»äº§ç”Ÿäº†è®¸å¤šæœ‰è¶£çš„åº”ç”¨ï¼Œä½†æ˜¯å•ç‹¬ä½¿ç”¨è¿™äº› LLM å¾€å¾€éš¾ä»¥æ„å»ºåŠŸèƒ½å¼ºå¤§çš„å®ç”¨åº”ç”¨ã€‚</p><p>ä¹Ÿå› æ­¤ï¼Œå¤§æ¨¡å‹åº”ç”¨æ¡†æ¶å¯ä»¥è¯´æ˜¯ç™¾èŠ±é½æ”¾ï¼Œæœ¬æ–‡æŒ‘é€‰äº†çƒ­åº¦å’Œè®¨è®ºåº¦è¾ƒé«˜çš„ä¸€äº›å¼€æºåº”ç”¨æ¡†æ¶è¿›è¡Œä»‹ç»ã€‚</p><h2 id="langchain"><a class="markdownIt-Anchor" href="#langchain"></a> <strong>â–Â Â LangChain</strong></h2><p>LangChain æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å¼€å‘æ¡†æ¶ï¼Œç›®å‰æ”¯æŒ Python å’Œ TypeScript ä¸¤ç§ç¼–ç¨‹è¯­è¨€ã€‚å®ƒèµ‹äºˆ LLM ä¸¤å¤§æ ¸å¿ƒèƒ½åŠ›ï¼šæ•°æ®æ„ŸçŸ¥ï¼Œå°†è¯­è¨€æ¨¡å‹ä¸å…¶ä»–æ•°æ®æºç›¸è¿æ¥ï¼›ä»£ç†èƒ½åŠ›ï¼Œå…è®¸è¯­è¨€æ¨¡å‹ä¸å…¶ç¯å¢ƒäº’åŠ¨ã€‚ç»“åˆä¸Šè¿°ä¸¤ç§èƒ½åŠ›ï¼ŒLangChain å¯ä»¥è½»æ¾ç®¡ç†ä¸è¯­è¨€æ¨¡å‹çš„äº¤äº’ï¼Œå°†å¤šä¸ªç»„ä»¶é“¾æ¥åœ¨ä¸€èµ·ï¼Œå¹¶é›†æˆé¢å¤–çš„èµ„æºã€‚</p><p>é€šè¿‡ LangChain å¯ä»¥å®ç°å›´ç»• LLM æ ¸å¿ƒå¿«é€Ÿæ„å»º AI åº”ç”¨ï¼Œæ¯”å¦‚æç¤ºè¯å·¥ç¨‹ã€æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰ã€ä¼šè¯å¼ Agent æ„å»ºç­‰ã€‚</p><p>LangChain æä¾›äº†ä¸€ç³»åˆ—çš„å·¥å…·å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„ä½¿ç”¨å¤§è¯­è¨€æ¨¡å‹ (LLM)ã€‚ä¸»è¦æœ‰ 6 ç§ä¸åŒç±»å‹çš„å·¥å…·ï¼š</p><p><img src="56b8f589-12f6-4fec-b352-84be7f94f2d6.png" alt="" /></p><ol><li><p>æ¨¡å‹ï¼ˆmodelsï¼‰ : LangChain æ”¯æŒçš„æ¨¡å‹ç±»å‹åŒ…æ‹¬ LLMã€TextEmbeddingï¼Œæ¨¡å‹é›†æˆå¦‚ GPT-4ã€Llama ç­‰ã€‚</p></li><li><p>æç¤ºï¼ˆpromptsï¼‰ : åŒ…æ‹¬ prompt æ¨¡æ¿ç®¡ç†ã€ä¼˜åŒ–ã€‚</p></li><li><p>é“¾ï¼ˆchainsï¼‰ : é“¾ä¸ä»…ä»…æ˜¯å•ä¸ª LLM è°ƒç”¨ï¼Œè¿˜åŒ…æ‹¬ä¸€ç³»åˆ—åŒ…å« LLMã€å·¥å…·ã€ä¸šåŠ¡ api ç­‰çš„è°ƒç”¨ã€‚LangChain æä¾›äº†æ ‡å‡†çš„é“¾æ¥ï¼Œä»¥åŠä¸€äº›å¸¸è§çš„é“¾å®ç°ï¼Œå¯å¿«é€Ÿå®ç°åº”ç”¨ç¨‹åºçš„ç«¯åˆ°ç«¯çš„é“¾è°ƒç”¨ã€‚</p></li><li><p>ç´¢å¼•ï¼ˆindexesï¼‰ : ç´¢å¼•æ˜¯è¿æ¥çŸ¥è¯†ä¸ LLM çš„å…³é”®ï¼Œå¯æ„å»ºå±äºä¼ä¸šã€åœºæ™¯ã€ç”¨æˆ·ä¸ªäººçš„ä¸“å±çŸ¥è¯†åº“ã€‚ä¸»è¦åŒ…æ‹¬æ–‡æ¡£åŠ è½½ã€åˆ†å‰²ã€å‘é‡åŒ–ã€æ£€ç´¢ï¼Œé“¾ä¸­ä½¿ç”¨ç´¢å¼•çš„å¸¸è§æ–¹å¼æ˜¯ â€œæ£€ç´¢â€ï¼Œå¦‚ RAG ä¸€èˆ¬éƒ½ä¼šç»è¿‡ â€œæ£€ç´¢â€ æ­¥éª¤ï¼Œä»¥è·å–ä¸ç”¨æˆ·é—®é¢˜æœ€æ¥è¿‘çš„å¯é çŸ¥è¯†ä¿¡æ¯ã€‚</p></li><li><p>ä»£ç†ï¼ˆagentsï¼‰ : ä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºæ™ºèƒ½ä½“ï¼Œç®€è€Œè¨€ä¹‹æ˜¯æŸä¸ªäººæˆ–åœºæ™¯çš„ä»£ç†äººï¼Œç›¸å…³çš„ä»»åŠ¡éƒ½å¯ä»¥é€šè¿‡ Agent å®Œæˆã€‚LangChain æä¾›äº†ä¸€ä¸ªæ ‡å‡†çš„ä»£ç†æ¥å£ï¼Œæ¨¡æ‹Ÿäººçš„é€šç”¨æ€ç»´é“¾è·¯ï¼Œä»ä½œå‡ºå†³ç­–åˆ°æ‰§è¡Œè¡ŒåŠ¨ã€è§‚å¯Ÿç»“æœï¼Œå†é‡å¤ï¼Œç›´è‡³ä»»åŠ¡å®Œæˆã€‚å¼€å‘è€…ä¸º agent æä¾›ä¸€å¥—å·¥å…·ï¼Œagent æ ¹æ®ä»»åŠ¡æè¿°è‡ªè¡Œå†³ç­–å’Œç¼–æ’ä½¿ç”¨ä½•ç§å·¥å…·å®Œæˆç›®æ ‡ä»»åŠ¡ã€‚</p></li><li><p>è®°å¿†ï¼ˆmemoryï¼‰ : LLMã€chainã€agent é»˜è®¤å‡æ˜¯æ— çŠ¶æ€çš„ï¼Œå³ LLM ä¼šç‹¬ç«‹çš„å¤„ç†æ¯æ¬¡è¾“å…¥ã€‚è€Œè®°å¿†æ˜¯äººç±»æ™ºèƒ½çš„å¿…è¦èƒ½åŠ›ä¹‹ä¸€ï¼Œä¸è®ºé•¿çŸ­æœŸè®°å¿†ï¼Œå¯¹åç»­çš„äº¤äº’éƒ½éå¸¸é‡è¦ã€‚åœ¨ LangChain ä¸­ï¼Œè®°å¿†æ˜¯åœ¨é“¾ / ä»£ç†è°ƒç”¨ä¹‹é—´ä¿æŒçŠ¶æ€çš„æ¦‚å¿µï¼Œå…¶æä¾›äº†æ ‡å‡†çš„è®°å¿†æ¥å£åŠéƒ¨åˆ†å®ç°ã€‚</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶å·¥ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LLM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è½¯ä»¶å·¥ç¨‹çš„ 13 æ¡æ³•åˆ™</title>
      <link href="/2025/04/05/Other/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E7%9A%8413%E6%9D%A1%E6%B3%95%E5%88%99/"/>
      <url>/2025/04/05/Other/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E7%9A%8413%E6%9D%A1%E6%B3%95%E5%88%99/</url>
      
        <content type="html"><![CDATA[<p><strong>1ã€å¸•é‡‘æ£®å®šå¾‹</strong>ï¼šå·¥ä½œä¼šè†¨èƒ€ä»¥å¡«æ»¡å¯ç”¨çš„æ—¶é—´ã€‚</p><p><img src="up-b6e9c01e7725c6b53b7800033fffdaf1f3f.png" alt="" /></p><p><strong>2ã€éœå¤«æ–¯å¡”ç‰¹å®šå¾‹</strong>ï¼šäº‹æƒ…æ€»æ˜¯æ¯”ä½ é¢„æœŸçš„è¦é•¿ï¼Œå³ä½¿ä½ å·²ç»è€ƒè™‘äº†éœå¤«æ–¯å¡”ç‰¹å®šå¾‹ã€‚</p><p><img src="up-da20eb6f35d695eb16fe4ab9caf02c0853f.png" alt="" /></p><p><strong>3ã€å¸ƒé²å…‹æ–¯å®šå¾‹</strong>ï¼šå‘ä¸€ä¸ªå·²ç»å»¶æœŸçš„è½¯ä»¶é¡¹ç›®å¢åŠ äººåŠ›åªä¼šè®©å®ƒæ›´åŠ å»¶æœŸã€‚</p><p><img src="up-a79493a976c16e52b6258ff68e4a4e02d15.png" alt="" /></p><p><strong>4ã€åº·å¨å®šå¾‹ï¼ˆåŠé€†åº·å¨å®šå¾‹ï¼‰</strong>ï¼šç»„ç»‡åšçš„è®¾è®¡å¾€å¾€æ˜¯å…¶å†…éƒ¨æ²Ÿé€šç»“æ„çš„å¤åˆ¶å“ã€‚</p><p><img src="up-5adf2d562a47cf3c6774f10f54aa750762f.png" alt="" /></p><p><strong>5ã€åå®å®‰å®šå¾‹</strong>ï¼šåœ¨äº’è”ç½‘ä¸Šè·å¾—æ­£ç¡®ç­”æ¡ˆçš„æœ€ä½³æ–¹å¼ä¸æ˜¯æé—®ï¼Œè€Œæ˜¯å‘å¸ƒä¸€ä¸ªé”™è¯¯ç­”æ¡ˆã€‚</p><p><img src="up-efe2126647446248be7d4dabb9ac5d836d4.png" alt="" /></p><p><strong>6ã€æ–¯ç‰¹é‡‘å®šå¾‹</strong>ï¼š90% çš„ä¸œè¥¿éƒ½æ˜¯åƒåœ¾ã€‚</p><p><img src="up-e6656de38fcc5ded0050bdf5338d5cc75db.png" alt="" /></p><p><strong>7ã€æ‰æ¸©æ–¯åŸºå®šå¾‹</strong>ï¼šæ¯ä¸ªç¨‹åºéƒ½è¯•å›¾æ‰©å±•ï¼Œç›´åˆ°èƒ½å¤Ÿè¯»å–é‚®ä»¶ã€‚é‚£äº›æ— æ³•å¦‚æ­¤æ‰©å±•çš„ç¨‹åºä¼šè¢«èƒ½å¤Ÿåšåˆ°çš„ç¨‹åºæ‰€å–ä»£ã€‚</p><p><img src="up-f46d91cd7b15ab18aa92eaa1a48735af5a2.png" alt="" /></p><p><strong>8ã€æµ·å‹’å§†å®šå¾‹</strong>ï¼šå½“ API çš„ç”¨æˆ·æ•°é‡è¶³å¤Ÿå¤šæ—¶ï¼Œä½ åœ¨åˆçº¦ä¸­æ‰¿è¯ºä»€ä¹ˆå¹¶ä¸é‡è¦ï¼šç³»ç»Ÿçš„æ‰€æœ‰å¯è§‚å¯Ÿè¡Œä¸ºéƒ½ä¼šè¢«æŸäº›äººæ‰€ä¾èµ–ã€‚</p><p><img src="up-8a490e790d81821fcbd5d0d918259ed53a4.png" alt="" /></p><p><strong>9ã€æ™®èµ–æ–¯å®šå¾‹</strong>ï¼šåœ¨ä»»ä½•ç¾¤ä½“ä¸­ï¼Œ50% çš„å·¥ä½œæ˜¯ç”±å…¶æ€»äººæ•°çš„å¹³æ–¹æ ¹æ•°çš„äººå®Œæˆçš„ã€‚</p><p><img src="up-1bf79eb2323574b5fde92c83b8359da2890.png" alt="" /></p><p><strong>10ã€æ—æ ¼å°”æ›¼æ•ˆåº”</strong>ï¼šç¾¤ä½“ä¸­ä¸ªä½“æˆå‘˜çš„ç”Ÿäº§åŠ›éšç€ç¾¤ä½“è§„æ¨¡çš„å¢å¤§è€Œé€æ¸é™ä½çš„è¶‹åŠ¿ã€‚</p><p><img src="up-8a7f61f02eacee4f997dc6f1bc203adbda8.png" alt="" /></p><p><strong>11ã€å¤å¾·å“ˆç‰¹å®šå¾‹</strong>ï¼šå½“ä¸€é¡¹æŒ‡æ ‡æˆä¸ºç›®æ ‡æ—¶ï¼Œå®ƒå°±ä¸å†æ˜¯ä¸€ä¸ªå¥½çš„æŒ‡æ ‡ã€‚</p><p><img src="up-072a453ebe8a6968cb3d158389ec9b00ceb.png" alt="" /></p><p><strong>12ã€å‰å°”å¸ƒå®šå¾‹</strong>ï¼šä»»ä½•ä½ éœ€è¦é‡åŒ–çš„ä¸œè¥¿ï¼Œéƒ½å¯ä»¥é€šè¿‡æŸç§æ–¹å¼è¿›è¡Œæµ‹é‡ï¼Œè¿™æ€»æ¯”å®Œå…¨ä¸æµ‹é‡è¦å¥½ã€‚</p><p><img src="up-5bce1dfd39463accf41c3d4b96efc2c72e5.png" alt="" /></p><p><strong>13ã€å¢¨è²å®šå¾‹</strong>ï¼šå¯èƒ½å‡ºé”™çš„äº‹å°±ä¸€å®šä¼šå‡ºé”™ã€‚</p><p><img src="up-717d819db99a5b3d2d98fd38a349c465f44.png" alt="" /></p><p>æ¥æºï¼š<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fnewsletter.manager.dev%2Fp%2Fthe-13-software-engineering-laws">https://newsletter.manager.dev/p/the-13-software-engineering-laws</a></p>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶å·¥ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OpenDroneMapï¼šæ— äººæœºæ‘„å½±æµ‹é‡å…¥é—¨æ•™ç¨‹</title>
      <link href="/2025/04/04/OpenDroneMap/OpenDroneMap%EF%BC%9A%E6%97%A0%E4%BA%BA%E6%9C%BA%E6%91%84%E5%BD%B1%E6%B5%8B%E9%87%8F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"/>
      <url>/2025/04/04/OpenDroneMap/OpenDroneMap%EF%BC%9A%E6%97%A0%E4%BA%BA%E6%9C%BA%E6%91%84%E5%BD%B1%E6%B5%8B%E9%87%8F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="æ— äººæœºæ‘„å½±æµ‹é‡ç®€ä»‹"><a class="markdownIt-Anchor" href="#æ— äººæœºæ‘„å½±æµ‹é‡ç®€ä»‹"></a> æ— äººæœºæ‘„å½±æµ‹é‡ç®€ä»‹</h2><p>æ— äººæœºæ‘„å½±æµ‹é‡æ˜¯ä¸€ç§åˆ©ç”¨æ— äººæœºæ­è½½çš„æ‘„å½±è®¾å¤‡ï¼Œé€šè¿‡è·å–åœ°é¢ç‰©ä½“çš„å›¾åƒä¿¡æ¯ï¼Œè¿›è¡Œæµ‹é‡å’Œåˆ†æçš„æŠ€æœ¯ã€‚å®ƒå¹¿æ³›åº”ç”¨äºåœ°å½¢æµ‹ç»˜ã€å†œä¸šç›‘æµ‹ã€ç¾å®³è¯„ä¼°ç­‰é¢†åŸŸã€‚</p><h3 id="11-æ— äººæœºæ‘„å½±æµ‹é‡çš„åŸç†"><a class="markdownIt-Anchor" href="#11-æ— äººæœºæ‘„å½±æµ‹é‡çš„åŸç†"></a> 1.1 æ— äººæœºæ‘„å½±æµ‹é‡çš„åŸç†</h3><p>æ— äººæœºæ‘„å½±æµ‹é‡åŸºäºå…‰å­¦æˆåƒåŸç†ï¼Œé€šè¿‡æ— äººæœºä¸Šçš„ç›¸æœºæ•æ‰åœ°è¡¨å›¾åƒï¼Œç„¶ååˆ©ç”¨å›¾åƒå¤„ç†æŠ€æœ¯æå–æ‰€éœ€ä¿¡æ¯ã€‚è¿™ä¸€è¿‡ç¨‹é€šå¸¸åŒ…æ‹¬å›¾åƒè·å–ã€é¢„å¤„ç†ã€ç‰¹å¾æå–å’Œæ•°æ®åˆ†æç­‰æ­¥éª¤ã€‚</p><h3 id="12-æ— äººæœºæ‘„å½±æµ‹é‡çš„åº”ç”¨"><a class="markdownIt-Anchor" href="#12-æ— äººæœºæ‘„å½±æµ‹é‡çš„åº”ç”¨"></a> 1.2 æ— äººæœºæ‘„å½±æµ‹é‡çš„åº”ç”¨</h3><p>æ— äººæœºæ‘„å½±æµ‹é‡åœ¨å¤šä¸ªè¡Œä¸šéƒ½æœ‰æ˜¾è‘—çš„åº”ç”¨ï¼Œä¾‹å¦‚ï¼š</p><ul><li>åœ°å½¢æµ‹ç»˜ï¼šé€šè¿‡æ— äººæœºæ‘„å½±è·å–çš„é«˜åˆ†è¾¨ç‡å›¾åƒï¼Œå¯ä»¥åˆ¶ä½œå‡ºç²¾ç¡®çš„åœ°å½¢å›¾ã€‚</li><li>å†œä¸šç›‘æµ‹ï¼šæ— äººæœºæ‘„å½±å¯ä»¥å¸®åŠ©ç›‘æµ‹ä½œç‰©ç”Ÿé•¿æƒ…å†µï¼Œè¯„ä¼°ç—…è™«å®³ã€‚</li><li>ç¾å®³è¯„ä¼°ï¼šåœ¨è‡ªç„¶ç¾å®³å‘ç”Ÿåï¼Œæ— äººæœºæ‘„å½±å¯ä»¥å¿«é€Ÿè¯„ä¼°å—ç¾æƒ…å†µï¼Œä¸ºæ•‘æ´æä¾›æ•°æ®æ”¯æŒã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„æ— äººæœºæ‘„å½±æµ‹é‡æ•°æ®å¤„ç†ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡è®¾æˆ‘ä»¬å·²ç»è·å–äº†ä¸€å¼ æ— äººæœºæ‹æ‘„çš„å›¾åƒ</span></span><br><span class="line">image_path = <span class="string">&#x27;drone_image.jpg&#x27;</span></span><br><span class="line">image = cv2.imread(image_path)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¹å›¾åƒè¿›è¡Œé¢„å¤„ç†ï¼Œæ¯”å¦‚ç°åº¦åŒ–</span></span><br><span class="line">gray_image = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨è¾¹ç¼˜æ£€æµ‹ç®—æ³•æå–ç‰¹å¾</span></span><br><span class="line">edges = cv2.Canny(gray_image, <span class="number">100</span>, <span class="number">200</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨éœå¤«å˜æ¢æ£€æµ‹å›¾åƒä¸­çš„ç›´çº¿</span></span><br><span class="line">lines = cv2.HoughLines(edges, <span class="number">1</span>, np.pi/<span class="number">180</span>, <span class="number">200</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨å›¾åƒä¸Šç»˜åˆ¶æ£€æµ‹åˆ°çš„ç›´çº¿</span></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> lines:</span><br><span class="line">    rho, theta = line[<span class="number">0</span>]</span><br><span class="line">    a = np.cos(theta)</span><br><span class="line">    b = np.sin(theta)</span><br><span class="line">    x0 = a * rho</span><br><span class="line">    y0 = b * rho</span><br><span class="line">    x1 = <span class="built_in">int</span>(x0 + <span class="number">1000</span> * (-b))</span><br><span class="line">    y1 = <span class="built_in">int</span>(y0 + <span class="number">1000</span> * (a))</span><br><span class="line">    x2 = <span class="built_in">int</span>(x0 - <span class="number">1000</span> * (-b))</span><br><span class="line">    y2 = <span class="built_in">int</span>(y0 - <span class="number">1000</span> * (a))</span><br><span class="line">    cv2.line(image, (x1, y1), (x2, y2), (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå¤„ç†åçš„å›¾åƒ</span></span><br><span class="line">cv2.imshow(<span class="string">&#x27;Processed Image&#x27;</span>, image)</span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure><h2 id="opendronemap-è½¯ä»¶å®‰è£…ä¸é…ç½®"><a class="markdownIt-Anchor" href="#opendronemap-è½¯ä»¶å®‰è£…ä¸é…ç½®"></a> OpenDroneMap è½¯ä»¶å®‰è£…ä¸é…ç½®</h2><p>OpenDroneMapï¼ˆODMï¼‰æ˜¯ä¸€ä¸ªå¼€æºçš„æ— äººæœºæ‘„å½±æµ‹é‡è½¯ä»¶ï¼Œå®ƒå¯ä»¥ä»æ— äººæœºæ‹æ‘„çš„ç…§ç‰‡ä¸­ç”Ÿæˆ 3D åœ°å›¾å’Œæ¨¡å‹ã€‚ä¸‹é¢å°†ä»‹ç» ODM çš„å®‰è£…ä¸é…ç½®è¿‡ç¨‹ã€‚</p><h3 id="21-opendronemap-å®‰è£…"><a class="markdownIt-Anchor" href="#21-opendronemap-å®‰è£…"></a> 2.1 OpenDroneMap å®‰è£…</h3><p>OpenDroneMap å¯ä»¥åœ¨å¤šç§æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œï¼Œä»¥ä¸‹æ˜¯åœ¨ Ubuntu ç³»ç»Ÿä¸Šçš„å®‰è£…æ­¥éª¤ï¼š</p><ol><li>æ›´æ–°ç³»ç»ŸåŒ…åˆ—è¡¨</li><li>å®‰è£…ä¾èµ–é¡¹</li><li>å…‹éš† OpenDroneMap ä»“åº“</li><li>å®‰è£… Python ä¾èµ–</li><li>æ„å»º OpenDroneMap</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ›´æ–°ç³»ç»ŸåŒ…åˆ—è¡¨</span></span><br><span class="line">sudo apt-get update</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…ä¾èµ–é¡¹</span></span><br><span class="line">sudo apt-get install -y git build-essential \</span><br><span class="line">    python3 python3-dev python3-pip \</span><br><span class="line">    libgdal-dev libopenexr-dev libboost-<span class="built_in">all</span>-dev \</span><br><span class="line">    libeigen3-dev libxerces-c-dev libxerces-c3<span class="number">.2</span>-dev \</span><br><span class="line">    libpoppler-dev libpoppler-cpp-dev</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…‹éš†OpenDroneMapä»“åº“</span></span><br><span class="line">git clone https://github.com/OpenDroneMap/ODM.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥ODMç›®å½•</span></span><br><span class="line">cd ODM</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…Pythonä¾èµ–</span></span><br><span class="line">pip3 install -r requirements.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ„å»ºOpenDroneMap</span></span><br><span class="line">make</span><br></pre></td></tr></table></figure><h3 id="22-opendronemap-é…ç½®"><a class="markdownIt-Anchor" href="#22-opendronemap-é…ç½®"></a> 2.2 OpenDroneMap é…ç½®</h3><p>å®‰è£…å®Œæˆåï¼Œéœ€è¦å¯¹ ODM è¿›è¡Œä¸€äº›åŸºæœ¬é…ç½®ï¼Œä»¥ç¡®ä¿å…¶èƒ½å¤Ÿæ­£ç¡®è¿è¡Œã€‚ä»¥ä¸‹æ˜¯ä¸€äº›åŸºæœ¬é…ç½®æ­¥éª¤ï¼š</p><ol><li>è®¾ç½®ç¯å¢ƒå˜é‡</li><li>é…ç½® GDAL</li><li>æµ‹è¯•å®‰è£…</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œå°†ODMçš„è·¯å¾„æ·»åŠ åˆ°PATHå˜é‡ä¸­</span></span><br><span class="line">export PATH=$PATH:/path/to/ODM</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®GDALï¼Œç¡®ä¿GDALæ•°æ®æ–‡ä»¶å¯ç”¨</span></span><br><span class="line">export GDAL_DATA=/usr/local/share/gdal</span><br><span class="line"></span><br><span class="line"><span class="comment"># æµ‹è¯•å®‰è£…ï¼Œè¿è¡ŒODMçš„ç‰ˆæœ¬å‘½ä»¤</span></span><br><span class="line">odm --version</span><br></pre></td></tr></table></figure><p>ç¡®ä¿ä»¥ä¸Šæ­¥éª¤æ— è¯¯åï¼ŒOpenDroneMap å°±å®‰è£…é…ç½®å®Œæˆäº†ï¼Œå¯ä»¥å¼€å§‹è¿›è¡Œæ— äººæœºæ‘„å½±æµ‹é‡æ•°æ®çš„å¤„ç†å·¥ä½œäº†ã€‚</p><h3 id="23-æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#23-æ³¨æ„äº‹é¡¹"></a> 2.3 æ³¨æ„äº‹é¡¹</h3><ul><li>åœ¨å®‰è£…è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šæ ¹æ®ç³»ç»Ÿç‰ˆæœ¬å’Œå·²å®‰è£…åŒ…çš„ä¸åŒï¼Œéœ€è¦è°ƒæ•´å®‰è£…å‘½ä»¤ã€‚</li><li>åœ¨é…ç½®ç¯å¢ƒå˜é‡æ—¶ï¼Œè¯·ç¡®ä¿è·¯å¾„æ­£ç¡®æ— è¯¯ã€‚</li><li>å¦‚æœåœ¨æµ‹è¯•å®‰è£…æ—¶é‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ä¾èµ–é¡¹æ˜¯å¦å…¨éƒ¨æ­£ç¡®å®‰è£…ã€‚</li></ul><h2 id="æ— äººæœºå½±åƒæ•°æ®å‡†å¤‡"><a class="markdownIt-Anchor" href="#æ— äººæœºå½±åƒæ•°æ®å‡†å¤‡"></a> æ— äººæœºå½±åƒæ•°æ®å‡†å¤‡</h2><p>åœ¨è¿›è¡Œæ— äººæœºæ‘„å½±æµ‹é‡ä¹‹å‰ï¼Œéœ€è¦å‡†å¤‡é«˜è´¨é‡çš„å½±åƒæ•°æ®ã€‚è¿™äº›æ•°æ®çš„è´¨é‡ç›´æ¥å½±å“åˆ°æœ€ç»ˆç”Ÿæˆçš„åœ°å›¾å’Œæ¨¡å‹çš„å‡†ç¡®æ€§ã€‚</p><h3 id="31-å½±åƒæ•°æ®è·å–"><a class="markdownIt-Anchor" href="#31-å½±åƒæ•°æ®è·å–"></a> 3.1 å½±åƒæ•°æ®è·å–</h3><p>å½±åƒæ•°æ®çš„è·å–æ˜¯é€šè¿‡æ— äººæœºæ­è½½çš„ç›¸æœºè¿›è¡Œèˆªç©ºæ‘„å½±ã€‚åœ¨é£è¡Œå‰ï¼Œéœ€è¦è§„åˆ’é£è¡Œè·¯å¾„ï¼Œç¡®ä¿è¦†ç›–æ‰€éœ€åŒºåŸŸï¼Œå¹¶è€ƒè™‘é£è¡Œé«˜åº¦ã€ç›¸æœºå‚æ•°ç­‰å› ç´ ã€‚</p><h3 id="32-å½±åƒæ•°æ®é¢„å¤„ç†"><a class="markdownIt-Anchor" href="#32-å½±åƒæ•°æ®é¢„å¤„ç†"></a> 3.2 å½±åƒæ•°æ®é¢„å¤„ç†</h3><p>è·å–çš„å½±åƒæ•°æ®é€šå¸¸éœ€è¦ç»è¿‡é¢„å¤„ç†ï¼Œä»¥ä¸‹æ˜¯é¢„å¤„ç†çš„ä¸€äº›åŸºæœ¬æ­¥éª¤ï¼š</p><h4 id="321-å½±åƒæ•°æ®æ ¼å¼è½¬æ¢"><a class="markdownIt-Anchor" href="#321-å½±åƒæ•°æ®æ ¼å¼è½¬æ¢"></a> 3.2.1 å½±åƒæ•°æ®æ ¼å¼è½¬æ¢</h4><p>æœ‰æ—¶éœ€è¦å°†å½±åƒæ•°æ®è½¬æ¢ä¸ºç‰¹å®šçš„æ ¼å¼ï¼Œä»¥ä¾¿äºåç»­å¤„ç†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å‡è®¾åŸå§‹å½±åƒä¸ºJPEGæ ¼å¼ï¼Œéœ€è¦è½¬æ¢ä¸ºTIFFæ ¼å¼</span></span><br><span class="line">convert <span class="built_in">input</span>.jpg -<span class="built_in">format</span> tiff output.tif</span><br></pre></td></tr></table></figure><h4 id="322-å½±åƒæ•°æ®å»å™ª"><a class="markdownIt-Anchor" href="#322-å½±åƒæ•°æ®å»å™ª"></a> 3.2.2 å½±åƒæ•°æ®å»å™ª</h4><p>å»é™¤å½±åƒä¸­çš„å™ªå£°ï¼Œæé«˜å›¾åƒè´¨é‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–å½±åƒ</span></span><br><span class="line">image = cv2.imread(<span class="string">&#x27;input.tif&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨å‡å€¼æ»¤æ³¢å»å™ª</span></span><br><span class="line">denoised_image = cv2.blur(image, (<span class="number">5</span>, <span class="number">5</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿å­˜å»å™ªåçš„å½±åƒ</span></span><br><span class="line">cv2.imwrite(<span class="string">&#x27;denoised.tif&#x27;</span>, denoised_image)</span><br></pre></td></tr></table></figure><h4 id="323-å½±åƒæ•°æ®æ ¡æ­£"><a class="markdownIt-Anchor" href="#323-å½±åƒæ•°æ®æ ¡æ­£"></a> 3.2.3 å½±åƒæ•°æ®æ ¡æ­£</h4><p>å¯¹å½±åƒè¿›è¡Œå‡ ä½•æ ¡æ­£ï¼Œæ¶ˆé™¤é•œå¤´ç•¸å˜ç­‰å½±å“ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ­¤å¤„é€šå¸¸éœ€è¦ç›¸æœºå‚æ•°å’Œé•œå¤´ç•¸å˜å‚æ•°æ¥è¿›è¡Œæ ¡æ­£</span></span><br><span class="line"><span class="comment"># ç¤ºä¾‹ä»£ç çœç•¥å…·ä½“å‚æ•°ï¼Œå› ä¸ºå®ƒä»¬å› ç›¸æœºå‹å·å’Œè®¾ç½®è€Œå¼‚</span></span><br><span class="line"><span class="comment"># ä»¥ä¸‹æ˜¯ä¸€ä¸ªé€šç”¨çš„æ ¡æ­£æµç¨‹</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">undistort_image</span>(<span class="params">image, camera_matrix, dist_coeffs</span>):</span><br><span class="line">    h, w = image.shape[:<span class="number">2</span>]</span><br><span class="line">    new_camera_matrix, roi = cv2.getOptimalNewCameraMatrix(camera_matrix, dist_coeffs, (w, h), <span class="number">1</span>, (w, h))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¯¹å›¾åƒè¿›è¡Œå»ç•¸å˜å¤„ç†</span></span><br><span class="line">    undistorted_image = cv2.undistort(image, camera_matrix, dist_coeffs, <span class="literal">None</span>, new_camera_matrix)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è¿”å›æ ¡æ­£åçš„å›¾åƒ</span></span><br><span class="line">    <span class="keyword">return</span> undistorted_image</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡è®¾å·²æœ‰ç›¸æœºå‚æ•°å’Œç•¸å˜ç³»æ•°</span></span><br><span class="line">camera_matrix = ...</span><br><span class="line">dist_coeffs = ...</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–å¹¶æ ¡æ­£å½±åƒ</span></span><br><span class="line">image = cv2.imread(<span class="string">&#x27;denoised.tif&#x27;</span>)</span><br><span class="line">corrected_image = undistort_image(image, camera_matrix, dist_coeffs)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿å­˜æ ¡æ­£åçš„å½±åƒ</span></span><br><span class="line">cv2.imwrite(<span class="string">&#x27;corrected.tif&#x27;</span>, corrected_image)</span><br></pre></td></tr></table></figure><h3 id="33-å½±åƒæ•°æ®ç»„ç»‡"><a class="markdownIt-Anchor" href="#33-å½±åƒæ•°æ®ç»„ç»‡"></a> 3.3 å½±åƒæ•°æ®ç»„ç»‡</h3><p>é¢„å¤„ç†åçš„å½±åƒæ•°æ®éœ€è¦æŒ‰ç…§ä¸€å®šçš„ç»„ç»‡ç»“æ„è¿›è¡Œå­˜å‚¨ï¼Œä»¥ä¾¿äºè½¯ä»¶å¤„ç†ã€‚é€šå¸¸ï¼Œè¿™äº›å½±åƒä¼šè¢«æ”¾ç½®åœ¨ä¸€ä¸ªç›®å½•ä¸­ï¼Œå¹¶ä¸”åŒ…å«ç›¸åº”çš„å…ƒæ•°æ®æ–‡ä»¶ã€‚</p><h3 id="34-æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#34-æ³¨æ„äº‹é¡¹"></a> 3.4 æ³¨æ„äº‹é¡¹</h3><ul><li>åœ¨è·å–å½±åƒæ•°æ®æ—¶ï¼Œç¡®ä¿å…‰ç…§æ¡ä»¶é€‚å®œï¼Œé¿å…é˜´å½±å’Œè¿‡æ›ã€‚</li><li>é¢„å¤„ç†æ­¥éª¤åº”æ ¹æ®å®é™…å½±åƒè´¨é‡å’Œéœ€æ±‚è¿›è¡Œè°ƒæ•´ã€‚</li><li>å½±åƒæ•°æ®çš„è´¨é‡æ§åˆ¶æ˜¯ç¡®ä¿æœ€ç»ˆæˆæœå‡†ç¡®æ€§çš„å…³é”®ã€‚</li></ul><h2 id="opendronemap-åŸºæœ¬æ“ä½œæµç¨‹"><a class="markdownIt-Anchor" href="#opendronemap-åŸºæœ¬æ“ä½œæµç¨‹"></a> OpenDroneMap åŸºæœ¬æ“ä½œæµç¨‹</h2><p>OpenDroneMapï¼ˆODMï¼‰æä¾›äº†ä¸€å¥—å®Œæ•´çš„å·¥å…·ï¼Œç”¨äºä»æ— äººæœºå½±åƒæ•°æ®ç”Ÿæˆ 3D åœ°å›¾å’Œæ¨¡å‹ã€‚ä»¥ä¸‹æ˜¯ ODM çš„åŸºæœ¬æ“ä½œæµç¨‹ã€‚</p><h3 id="41-å½±åƒæ•°æ®å‡†å¤‡"><a class="markdownIt-Anchor" href="#41-å½±åƒæ•°æ®å‡†å¤‡"></a> 4.1 å½±åƒæ•°æ®å‡†å¤‡</h3><p>ç¡®ä¿ä½ çš„æ— äººæœºå½±åƒæ•°æ®å·²ç»æŒ‰ç…§ä¸Šä¸€èŠ‚çš„è¦æ±‚å‡†å¤‡å¥½ï¼Œå¹¶ä¸”å­˜å‚¨åœ¨ä¸€ä¸ªç›®å½•ä¸­ã€‚</p><h3 id="42-åˆ›å»ºé¡¹ç›®"><a class="markdownIt-Anchor" href="#42-åˆ›å»ºé¡¹ç›®"></a> 4.2 åˆ›å»ºé¡¹ç›®</h3><p>åœ¨ ODM ä¸­åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼Œè¿™é€šå¸¸æ¶‰åŠåˆ°æŒ‡å®šä¸€ä¸ªå·¥ä½œç›®å½•å’Œè¾“å…¥çš„å½±åƒæ•°æ®ç›®å½•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºODMé¡¹ç›®</span></span><br><span class="line">odm --project-path /path/to/project --image-path /path/to/images</span><br></pre></td></tr></table></figure><h3 id="43-å½±åƒé¢„å¤„ç†"><a class="markdownIt-Anchor" href="#43-å½±åƒé¢„å¤„ç†"></a> 4.3 å½±åƒé¢„å¤„ç†</h3><p>åœ¨å¼€å§‹å¤„ç†ä¹‹å‰ï¼ŒODM ä¼šå¯¹å½±åƒè¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å»å™ªã€æ ¡æ­£ç­‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‰§è¡Œé¢„å¤„ç†æ­¥éª¤</span></span><br><span class="line">odm --project-path /path/to/project --step preprocess</span><br></pre></td></tr></table></figure><h3 id="44-å½±åƒæ‹¼æ¥"><a class="markdownIt-Anchor" href="#44-å½±åƒæ‹¼æ¥"></a> 4.4 å½±åƒæ‹¼æ¥</h3><p>é¢„å¤„ç†å®Œæˆåï¼ŒODM å°†å¼€å§‹æ‹¼æ¥å½±åƒï¼Œç”Ÿæˆ orthophoto å’Œç‚¹äº‘æ•°æ®ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‰§è¡Œå½±åƒæ‹¼æ¥æ­¥éª¤</span></span><br><span class="line">odm --project-path /path/to/project --step merge</span><br></pre></td></tr></table></figure><h3 id="45-ç”Ÿæˆ-3d-æ¨¡å‹"><a class="markdownIt-Anchor" href="#45-ç”Ÿæˆ-3d-æ¨¡å‹"></a> 4.5 ç”Ÿæˆ 3D æ¨¡å‹</h3><p>æ‹¼æ¥å®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨ç”Ÿæˆçš„ç‚¹äº‘æ•°æ®æ¥åˆ›å»º 3D æ¨¡å‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”Ÿæˆ3Dæ¨¡å‹</span></span><br><span class="line">odm --project-path /path/to/project --step model</span><br></pre></td></tr></table></figure><h3 id="46-å¯¼å‡ºæˆæœ"><a class="markdownIt-Anchor" href="#46-å¯¼å‡ºæˆæœ"></a> 4.6 å¯¼å‡ºæˆæœ</h3><p>æœ€åï¼Œå°†ç”Ÿæˆçš„åœ°å›¾å’Œæ¨¡å‹å¯¼å‡ºä¸ºä¸åŒçš„æ ¼å¼ï¼Œä»¥ä¾¿äºæŸ¥çœ‹å’Œä½¿ç”¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¼å‡ºæˆæœ</span></span><br><span class="line">odm --project-path /path/to/project --export</span><br></pre></td></tr></table></figure><h3 id="47-æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#47-æ³¨æ„äº‹é¡¹"></a> 4.7 æ³¨æ„äº‹é¡¹</h3><ul><li>åœ¨æ‰§è¡Œ ODM å‘½ä»¤æ—¶ï¼Œç¡®ä¿å·²ç»æ­£ç¡®è®¾ç½®äº† <code>--project-path</code> å’Œ <code>--image-path</code> å‚æ•°ã€‚</li><li>æ ¹æ®å½±åƒæ•°æ®çš„å¤§å°å’Œå¤æ‚æ€§ï¼ŒODM å¤„ç†è¿‡ç¨‹å¯èƒ½éœ€è¦è¾ƒé•¿çš„æ—¶é—´ã€‚</li><li>å¦‚æœå¤„ç†è¿‡ç¨‹ä¸­é‡åˆ°é”™è¯¯ï¼Œå¯ä»¥æŸ¥çœ‹ ODM çš„æ—¥å¿—æ–‡ä»¶æ¥è¯Šæ–­é—®é¢˜ã€‚</li></ul><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„ ODM æ“ä½œæµç¨‹ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºé¡¹ç›®</span></span><br><span class="line">odm --project-path /path/to/project --image-path /path/to/images</span><br><span class="line"></span><br><span class="line"><span class="comment"># é¢„å¤„ç†</span></span><br><span class="line">odm --project-path /path/to/project --step preprocess</span><br><span class="line"></span><br><span class="line"><span class="comment"># å½±åƒæ‹¼æ¥</span></span><br><span class="line">odm --project-path /path/to/project --step merge</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆ3Dæ¨¡å‹</span></span><br><span class="line">odm --project-path /path/to/project --step model</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¼å‡ºæˆæœ</span></span><br><span class="line">odm --project-path /path/to/project --export</span><br></pre></td></tr></table></figure><p>ç¡®ä¿åœ¨æ¯ä¸€æ­¥éª¤ä¹‹é—´æ£€æŸ¥è¾“å‡ºå’Œæ—¥å¿—ï¼Œä»¥ç¡®ä¿å¤„ç†è¿‡ç¨‹æŒ‰é¢„æœŸè¿›è¡Œã€‚</p><h2 id="å½±åƒå¤„ç†ä¸-3d-æ¨¡å‹ç”Ÿæˆ"><a class="markdownIt-Anchor" href="#å½±åƒå¤„ç†ä¸-3d-æ¨¡å‹ç”Ÿæˆ"></a> å½±åƒå¤„ç†ä¸ 3D æ¨¡å‹ç”Ÿæˆ</h2><p>åœ¨æ— äººæœºæ‘„å½±æµ‹é‡ä¸­ï¼Œå½±åƒå¤„ç†æ˜¯å°†æ‹æ‘„çš„å½±åƒæ•°æ®è½¬æ¢ä¸ºæœ‰ç”¨çš„åœ°ç†ä¿¡æ¯ï¼Œè€Œ 3D æ¨¡å‹ç”Ÿæˆåˆ™æ˜¯åˆ©ç”¨è¿™äº›ä¿¡æ¯åˆ›å»ºå‡ºä¸‰ç»´æ¨¡å‹ã€‚ä»¥ä¸‹æ˜¯è¿™ä¸¤ä¸ªè¿‡ç¨‹çš„è¯¦ç»†è¯´æ˜ã€‚</p><h3 id="51-å½±åƒå¤„ç†"><a class="markdownIt-Anchor" href="#51-å½±åƒå¤„ç†"></a> 5.1 å½±åƒå¤„ç†</h3><p>å½±åƒå¤„ç†åŒ…æ‹¬ä¸€ç³»åˆ—æ­¥éª¤ï¼Œä»å½±åƒçš„é¢„å¤„ç†åˆ°ç”Ÿæˆæ­£å°„å½±åƒå’Œç‚¹äº‘ã€‚</p><h4 id="511-å½±åƒé¢„å¤„ç†"><a class="markdownIt-Anchor" href="#511-å½±åƒé¢„å¤„ç†"></a> 5.1.1 å½±åƒé¢„å¤„ç†</h4><p>é¢„å¤„ç†æ­¥éª¤é€šå¸¸åŒ…æ‹¬å½±åƒçš„æ ¡æ­£ã€å»å™ªã€å¢å¼ºç­‰ï¼Œä»¥ç¡®ä¿åç»­å¤„ç†çš„å‡†ç¡®æ€§ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å½±åƒé¢„å¤„ç†ç¤ºä¾‹ï¼ˆä»¥Pythonä»£ç è¡¨ç¤ºï¼‰</span></span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–å½±åƒ</span></span><br><span class="line">image = cv2.imread(<span class="string">&#x27;input_image.jpg&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å½±åƒæ ¡æ­£ï¼ˆæ­¤å¤„å‡è®¾å·²æœ‰æ ¡æ­£å‚æ•°ï¼‰</span></span><br><span class="line">corrected_image = cv2.undistort(image, camera_matrix, dist_coeffs)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å½±åƒå»å™ª</span></span><br><span class="line">denoised_image = cv2.fastNlMeansDenoisingColored(corrected_image, <span class="literal">None</span>, <span class="number">30</span>, <span class="number">30</span>, <span class="number">7</span>, <span class="number">21</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿å­˜é¢„å¤„ç†åçš„å½±åƒ</span></span><br><span class="line">cv2.imwrite(<span class="string">&#x27;preprocessed_image.jpg&#x27;</span>, denoised_image)</span><br></pre></td></tr></table></figure><h4 id="512-å½±åƒæ‹¼æ¥"><a class="markdownIt-Anchor" href="#512-å½±åƒæ‹¼æ¥"></a> 5.1.2 å½±åƒæ‹¼æ¥</h4><p>æ‹¼æ¥å¤„ç†æ˜¯å°†å¤šå¼ å½±åƒåˆå¹¶æˆä¸€å¼ å®Œæ•´çš„æ­£å°„å½±åƒã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨OpenDroneMapè¿›è¡Œå½±åƒæ‹¼æ¥</span></span><br><span class="line">odm --project-path /path/to/project --step merge</span><br></pre></td></tr></table></figure><h3 id="52-3d-æ¨¡å‹ç”Ÿæˆ"><a class="markdownIt-Anchor" href="#52-3d-æ¨¡å‹ç”Ÿæˆ"></a> 5.2 3D æ¨¡å‹ç”Ÿæˆ</h3><p>åœ¨å½±åƒæ‹¼æ¥å®Œæˆåï¼Œå¯ä»¥åˆ©ç”¨ç”Ÿæˆçš„ç‚¹äº‘æ•°æ®ç”Ÿæˆ 3D æ¨¡å‹ã€‚</p><h4 id="521-ç‚¹äº‘ç”Ÿæˆ"><a class="markdownIt-Anchor" href="#521-ç‚¹äº‘ç”Ÿæˆ"></a> 5.2.1 ç‚¹äº‘ç”Ÿæˆ</h4><p>ç‚¹äº‘æ˜¯ 3D æ¨¡å‹çš„åŸºç¡€ï¼Œå®ƒç”±ä¸€ç³»åˆ—çš„ç‚¹ç»„æˆï¼Œæ¯ä¸ªç‚¹åœ¨ç©ºé—´ä¸­éƒ½æœ‰å”¯ä¸€çš„åæ ‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨OpenDroneMapç”Ÿæˆç‚¹äº‘</span></span><br><span class="line">odm --project-path /path/to/project --step pointcloud</span><br></pre></td></tr></table></figure><h4 id="522-3d-æ¨¡å‹æ„å»º"><a class="markdownIt-Anchor" href="#522-3d-æ¨¡å‹æ„å»º"></a> 5.2.2 3D æ¨¡å‹æ„å»º</h4><p>ä»ç‚¹äº‘æ•°æ®ä¸­æ„å»º 3D æ¨¡å‹ï¼Œé€šå¸¸ä½¿ç”¨ä¸‰è§’ç½‘æˆ–è¡¨é¢é‡å»ºç®—æ³•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨OpenDroneMapæ„å»º3Dæ¨¡å‹</span></span><br><span class="line">odm --project-path /path/to/project --step model</span><br></pre></td></tr></table></figure><h3 id="53-å¯¼å‡ºæˆæœ"><a class="markdownIt-Anchor" href="#53-å¯¼å‡ºæˆæœ"></a> 5.3 å¯¼å‡ºæˆæœ</h3><p>å¤„ç†å®Œæˆåï¼Œå¯ä»¥å°†æ­£å°„å½±åƒã€ç‚¹äº‘å’Œ 3D æ¨¡å‹å¯¼å‡ºä¸ºä¸åŒçš„æ ¼å¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¼å‡ºæˆæœ</span></span><br><span class="line">odm --project-path /path/to/project --export</span><br></pre></td></tr></table></figure><h3 id="54-æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#54-æ³¨æ„äº‹é¡¹"></a> 5.4 æ³¨æ„äº‹é¡¹</h3><ul><li>å½±åƒå¤„ç†å’Œ 3D æ¨¡å‹ç”Ÿæˆæ˜¯èµ„æºå¯†é›†å‹ä»»åŠ¡ï¼Œå¯èƒ½éœ€è¦é«˜æ€§èƒ½çš„è®¡ç®—æœºç¡¬ä»¶ã€‚</li><li>åœ¨å¤„ç†å¤§é‡å½±åƒæ—¶ï¼Œè€ƒè™‘ä½¿ç”¨åˆ†å¸ƒå¼è®¡ç®—æˆ–äº‘è®¡ç®—èµ„æºã€‚</li><li>å¯¼å‡ºçš„æˆæœæ ¼å¼å–å†³äºå…·ä½“çš„åº”ç”¨éœ€æ±‚ï¼Œå¸¸è§çš„æ ¼å¼åŒ…æ‹¬ TIFFã€PDFã€OBJ ç­‰ã€‚</li></ul><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œå¯ä»¥ä»æ— äººæœºå½±åƒæ•°æ®ä¸­æå–æœ‰ä»·å€¼çš„ä¿¡æ¯ï¼Œå¹¶ç”Ÿæˆé«˜è´¨é‡çš„ 3D æ¨¡å‹ã€‚</p><h2 id="æ•°æ®åˆ†æä¸ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#æ•°æ®åˆ†æä¸ä¼˜åŒ–"></a> æ•°æ®åˆ†æä¸ä¼˜åŒ–</h2><p>åœ¨æ— äººæœºæ‘„å½±æµ‹é‡ä¸­ï¼Œæ•°æ®åˆ†æä¸ä¼˜åŒ–æ˜¯å…³é”®æ­¥éª¤ï¼Œå®ƒä»¬ç¡®ä¿äº†ä»æ— äººæœºå½±åƒæ•°æ®ä¸­æå–çš„ä¿¡æ¯æ˜¯å‡†ç¡®å’Œæœ‰ç”¨çš„ã€‚ä»¥ä¸‹æ˜¯æ•°æ®åˆ†æä¸ä¼˜åŒ–çš„ä¸€äº›åŸºæœ¬æ–¹é¢ã€‚</p><h3 id="61-æ•°æ®åˆ†æ"><a class="markdownIt-Anchor" href="#61-æ•°æ®åˆ†æ"></a> 6.1 æ•°æ®åˆ†æ</h3><p>æ•°æ®åˆ†ææ¶‰åŠå¯¹ç”Ÿæˆçš„æ­£å°„å½±åƒã€ç‚¹äº‘å’Œ 3D æ¨¡å‹è¿›è¡Œè¯„ä¼°ï¼Œä»¥ç¡®å®šå®ƒä»¬çš„è´¨é‡å’Œé€‚ç”¨æ€§ã€‚</p><h4 id="611-è´¨é‡æ§åˆ¶"><a class="markdownIt-Anchor" href="#611-è´¨é‡æ§åˆ¶"></a> 6.1.1 è´¨é‡æ§åˆ¶</h4><p>è´¨é‡æ§åˆ¶æ˜¯ç¡®ä¿æ•°æ®æ»¡è¶³ç‰¹å®šæ ‡å‡†çš„è¿‡ç¨‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å‡è®¾æœ‰ä¸€ä¸ªå‡½æ•°æ¥è¯„ä¼°æ­£å°„å½±åƒçš„è´¨é‡</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">evaluate_orthophoto_quality</span>(<span class="params">orthophoto_path</span>):</span><br><span class="line">    <span class="comment"># è¯„ä¼°æ­£å°„å½±åƒçš„è´¨é‡ï¼Œè¿”å›è¯„ä¼°ç»“æœ</span></span><br><span class="line">    <span class="comment"># è¿™é‡Œåªæ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå®é™…è¯„ä¼°è¿‡ç¨‹å¯èƒ½æ›´å¤æ‚</span></span><br><span class="line">    quality_score = ... <span class="comment"># è®¡ç®—è´¨é‡åˆ†æ•°</span></span><br><span class="line">    <span class="keyword">return</span> quality_score</span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒç”¨å‡½æ•°è¯„ä¼°æ­£å°„å½±åƒè´¨é‡</span></span><br><span class="line">quality_score = evaluate_orthophoto_quality(<span class="string">&#x27;path/to/orthophoto.tif&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;Orthophoto quality score: <span class="subst">&#123;quality_score&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="612-ç‰¹å¾æå–"><a class="markdownIt-Anchor" href="#612-ç‰¹å¾æå–"></a> 6.1.2 ç‰¹å¾æå–</h4><p>ç‰¹å¾æå–æ˜¯ä»å½±åƒä¸­è¯†åˆ«å’Œæå–ç‰¹å®šä¿¡æ¯çš„è¿‡ç¨‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å‡è®¾æœ‰ä¸€ä¸ªå‡½æ•°æ¥ä»æ­£å°„å½±åƒä¸­æå–ç‰¹å®šç‰¹å¾</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">extract_features</span>(<span class="params">orthophoto_path</span>):</span><br><span class="line">    <span class="comment"># ä½¿ç”¨å½±åƒå¤„ç†åº“æ¥æå–ç‰¹å¾</span></span><br><span class="line">    <span class="comment"># è¿™é‡Œåªæ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå®é™…ç‰¹å¾æå–è¿‡ç¨‹å¯èƒ½æ›´å¤æ‚</span></span><br><span class="line">    features = ... <span class="comment"># æå–çš„ç‰¹å¾</span></span><br><span class="line">    <span class="keyword">return</span> features</span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒç”¨å‡½æ•°æå–ç‰¹å¾</span></span><br><span class="line">features = extract_features(<span class="string">&#x27;path/to/orthophoto.tif&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;Extracted features: <span class="subst">&#123;features&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="62-æ•°æ®ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#62-æ•°æ®ä¼˜åŒ–"></a> 6.2 æ•°æ®ä¼˜åŒ–</h3><p>æ•°æ®ä¼˜åŒ–åŒ…æ‹¬å¯¹åŸå§‹æ•°æ®å’Œç”Ÿæˆç»“æœè¿›è¡Œæ”¹è¿›ï¼Œä»¥æé«˜å…¶ç²¾åº¦å’Œå®ç”¨æ€§ã€‚</p><h4 id="621-å‚æ•°è°ƒæ•´"><a class="markdownIt-Anchor" href="#621-å‚æ•°è°ƒæ•´"></a> 6.2.1 å‚æ•°è°ƒæ•´</h4><p>åœ¨æ•°æ®å¤„ç†è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½éœ€è¦æ ¹æ®ç»“æœçš„è´¨é‡æ¥è°ƒæ•´å‚æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è°ƒæ•´OpenDroneMapçš„å‚æ•°ä»¥ä¼˜åŒ–ç»“æœ</span></span><br><span class="line">odm --project-path /path/to/project --step merge --parameter <span class="string">&quot;orthophoto_resolution=5&quot;</span></span><br></pre></td></tr></table></figure><h4 id="622-è¯¯å·®æ ¡æ­£"><a class="markdownIt-Anchor" href="#622-è¯¯å·®æ ¡æ­£"></a> 6.2.2 è¯¯å·®æ ¡æ­£</h4><p>æ ¡æ­£æ•°æ®ä¸­çš„è¯¯å·®ï¼Œä»¥æé«˜åœ°å›¾å’Œæ¨¡å‹çš„å‡†ç¡®æ€§ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å‡è®¾æœ‰ä¸€ä¸ªå‡½æ•°æ¥æ ¡æ­£ç‚¹äº‘ä¸­çš„è¯¯å·®</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">correct_point_cloud_errors</span>(<span class="params">point_cloud_path</span>):</span><br><span class="line">    <span class="comment"># è¯»å–ç‚¹äº‘æ•°æ®</span></span><br><span class="line">    point_cloud = ... <span class="comment"># åŠ è½½ç‚¹äº‘</span></span><br><span class="line">    <span class="comment"># æ ¡æ­£è¯¯å·®</span></span><br><span class="line">    corrected_point_cloud = ... <span class="comment"># æ ¡æ­£åçš„ç‚¹äº‘</span></span><br><span class="line">    <span class="comment"># ä¿å­˜æ ¡æ­£åçš„ç‚¹äº‘</span></span><br><span class="line">    save_point_cloud(corrected_point_cloud, <span class="string">&#x27;corrected_point_cloud.ply&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒç”¨å‡½æ•°æ ¡æ­£ç‚¹äº‘</span></span><br><span class="line">correct_point_cloud_errors(<span class="string">&#x27;path/to/point_cloud.ply&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="63-æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#63-æ³¨æ„äº‹é¡¹"></a> 6.3 æ³¨æ„äº‹é¡¹</h3><ul><li>æ•°æ®åˆ†æåº”åŸºäºå…·ä½“çš„åº”ç”¨åœºæ™¯å’Œéœ€æ±‚è¿›è¡Œã€‚</li><li>ä¼˜åŒ–è¿‡ç¨‹å¯èƒ½éœ€è¦å¤šæ¬¡è¿­ä»£ï¼Œä»¥è·å¾—æœ€ä½³ç»“æœã€‚</li><li>åœ¨è°ƒæ•´å‚æ•°å’Œæ ¡æ­£è¯¯å·®æ—¶ï¼Œåº”è®°å½•æ‰€åšçš„æ›´æ”¹ï¼Œä»¥ä¾¿äºè·Ÿè¸ªå’Œå›æº¯ã€‚</li></ul><p>é€šè¿‡ç»†è‡´çš„æ•°æ®åˆ†æå’Œä¼˜åŒ–ï¼Œå¯ä»¥ç¡®ä¿æ— äººæœºæ‘„å½±æµ‹é‡ç»“æœçš„æœ€å¤§ä»·å€¼ï¼Œå¹¶ä¸ºå„ç§åº”ç”¨æä¾›å¯é çš„æ•°æ®åŸºç¡€ã€‚</p><h2 id="å®é™…æ¡ˆä¾‹åˆ†æ"><a class="markdownIt-Anchor" href="#å®é™…æ¡ˆä¾‹åˆ†æ"></a> å®é™…æ¡ˆä¾‹åˆ†æ</h2><p>åœ¨æ— äººæœºæ‘„å½±æµ‹é‡é¢†åŸŸï¼Œå®é™…æ¡ˆä¾‹åˆ†ææœ‰åŠ©äºæˆ‘ä»¬ç†è§£ç†è®ºå¦‚ä½•åº”ç”¨äºå®è·µï¼Œå¹¶ä»çœŸå®ä¸–ç•Œçš„é¡¹ç›®ä¸­å­¦ä¹ ç»éªŒã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€åŒ–çš„å®é™…æ¡ˆä¾‹åˆ†æã€‚</p><h3 id="71-é¡¹ç›®èƒŒæ™¯"><a class="markdownIt-Anchor" href="#71-é¡¹ç›®èƒŒæ™¯"></a> 7.1 é¡¹ç›®èƒŒæ™¯</h3><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå†œä¸šç›‘æµ‹é¡¹ç›®ï¼Œç›®çš„æ˜¯é€šè¿‡æ— äººæœºå½±åƒåˆ†æå†œç”°çš„å¥åº·çŠ¶å†µã€‚é¡¹ç›®ä½äºä¸€ç‰‡å¼€é˜”çš„å†œç”°ï¼Œæ— äººæœºéœ€è¦è¦†ç›–æ•´ä¸ªåŒºåŸŸä»¥æ”¶é›†æ•°æ®ã€‚</p><h3 id="72-å½±åƒæ•°æ®è·å–"><a class="markdownIt-Anchor" href="#72-å½±åƒæ•°æ®è·å–"></a> 7.2 å½±åƒæ•°æ®è·å–</h3><p>ä½¿ç”¨æ— äººæœºè¿›è¡Œèˆªç©ºæ‘„å½±ï¼Œç¡®ä¿å½±åƒè¦†ç›–æ•´ä¸ªå†œç”°ï¼Œå¹¶ä¸”å…·æœ‰è¶³å¤Ÿçš„é‡å åº¦ä»¥ä¾¿äºåç»­å¤„ç†ã€‚</p><h3 id="73-æ•°æ®å¤„ç†"><a class="markdownIt-Anchor" href="#73-æ•°æ®å¤„ç†"></a> 7.3 æ•°æ®å¤„ç†</h3><p>å°†æ— äººæœºæ”¶é›†çš„å½±åƒæ•°æ®å¯¼å…¥ OpenDroneMap è¿›è¡Œå¤„ç†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºODMé¡¹ç›®</span></span><br><span class="line">odm --project-path /path/to/agriculture_project --image-path /path/to/collected_images</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰§è¡Œé¢„å¤„ç†</span></span><br><span class="line">odm --project-path /path/to/agriculture_project --step preprocess</span><br><span class="line"></span><br><span class="line"><span class="comment"># å½±åƒæ‹¼æ¥å’Œç‚¹äº‘ç”Ÿæˆ</span></span><br><span class="line">odm --project-path /path/to/agriculture_project --step merge</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆæ­£å°„å½±åƒå’Œ3Dæ¨¡å‹</span></span><br><span class="line">odm --project-path /path/to/agriculture_project --step orthophoto</span><br><span class="line">odm --project-path /path/to/agriculture_project --step model</span><br></pre></td></tr></table></figure><h3 id="74-æ•°æ®åˆ†æ"><a class="markdownIt-Anchor" href="#74-æ•°æ®åˆ†æ"></a> 7.4 æ•°æ®åˆ†æ</h3><p>åˆ†æç”Ÿæˆçš„æ­£å°„å½±åƒå’Œ 3D æ¨¡å‹ï¼Œä»¥è¯„ä¼°å†œç”°çš„å¥åº·çŠ¶å†µã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å‡è®¾æœ‰ä¸€ä¸ªå‡½æ•°æ¥åˆ†ææ­£å°„å½±åƒ</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">analyze_orthophoto</span>(<span class="params">orthophoto_path</span>):</span><br><span class="line">    <span class="comment"># ä½¿ç”¨å½±åƒå¤„ç†å’Œåˆ†ææŠ€æœ¯</span></span><br><span class="line">    <span class="comment"># è¿™é‡Œåªæ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå®é™…åˆ†æè¿‡ç¨‹å¯èƒ½æ›´å¤æ‚</span></span><br><span class="line">    health_scores = ... <span class="comment"># è®¡ç®—å†œç”°å¥åº·åˆ†æ•°</span></span><br><span class="line">    <span class="keyword">return</span> health_scores</span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒç”¨å‡½æ•°åˆ†ææ­£å°„å½±åƒ</span></span><br><span class="line">health_scores = analyze_orthophoto(<span class="string">&#x27;path/to/orthophoto.tif&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;Farm health scores: <span class="subst">&#123;health_scores&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="75-ç»“æœä¼˜åŒ–"><a class="markdownIt-Anchor" href="#75-ç»“æœä¼˜åŒ–"></a> 7.5 ç»“æœä¼˜åŒ–</h3><p>æ ¹æ®åˆ†æç»“æœï¼Œå¯èƒ½éœ€è¦å¯¹æ•°æ®å¤„ç†æµç¨‹è¿›è¡Œä¼˜åŒ–ï¼Œä»¥æé«˜æ•°æ®çš„å‡†ç¡®æ€§ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è°ƒæ•´å‚æ•°ä»¥ä¼˜åŒ–æ­£å°„å½±åƒè´¨é‡</span></span><br><span class="line">odm --project-path /path/to/agriculture_project --step orthophoto --parameter <span class="string">&quot;orthophoto_resolution=10&quot;</span></span><br></pre></td></tr></table></figure><h3 id="76-æˆæœåº”ç”¨"><a class="markdownIt-Anchor" href="#76-æˆæœåº”ç”¨"></a> 7.6 æˆæœåº”ç”¨</h3><p>å°†åˆ†æç»“æœåº”ç”¨äºå®é™…çš„å†œä¸šç®¡ç†å†³ç­–ä¸­ï¼Œä¾‹å¦‚è°ƒæ•´çŒæº‰è®¡åˆ’æˆ–æ–½è‚¥ç­–ç•¥ã€‚</p><h3 id="77-æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#77-æ³¨æ„äº‹é¡¹"></a> 7.7 æ³¨æ„äº‹é¡¹</h3><ul><li>å®é™…é¡¹ç›®å¯èƒ½é¢ä¸´å„ç§æŒ‘æˆ˜ï¼Œå¦‚å¤©æ°”æ¡ä»¶ã€æ— äººæœºé£è¡Œé™åˆ¶ç­‰ã€‚</li><li>æ•°æ®å¤„ç†å’Œåˆ†æéœ€è¦ä¸“ä¸šçŸ¥è¯†ï¼Œä»¥åŠå¯¹ç‰¹å®šé¢†åŸŸçš„ç†è§£ã€‚</li><li>ç»“æœçš„å‡†ç¡®æ€§å’Œå¯é æ€§å–å†³äºæ•´ä¸ªæ•°æ®å¤„ç†æµç¨‹çš„è´¨é‡æ§åˆ¶ã€‚</li></ul><p>é€šè¿‡è¿™ä¸ªæ¡ˆä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ— äººæœºæ‘„å½±æµ‹é‡åœ¨å®é™…åº”ç”¨ä¸­çš„ä»·å€¼ï¼Œä»¥åŠä»æ•°æ®è·å–åˆ°ç»“æœåº”ç”¨çš„å…¨è¿‡ç¨‹ã€‚</p><h2 id="é«˜çº§åŠŸèƒ½ä¸æ‰©å±•åº”ç”¨"><a class="markdownIt-Anchor" href="#é«˜çº§åŠŸèƒ½ä¸æ‰©å±•åº”ç”¨"></a> é«˜çº§åŠŸèƒ½ä¸æ‰©å±•åº”ç”¨</h2><p>OpenDroneMap ä¸ä»…æä¾›äº†åŸºæœ¬çš„æ— äººæœºå½±åƒå¤„ç†åŠŸèƒ½ï¼Œè¿˜æ‹¥æœ‰ä¸€äº›é«˜çº§åŠŸèƒ½å’Œæ‰©å±•åº”ç”¨ï¼Œè¿™äº›åŠŸèƒ½å¯ä»¥è¿›ä¸€æ­¥æ‰©å±• ODM çš„èƒ½åŠ›ï¼Œæ»¡è¶³ä¸åŒç”¨æˆ·çš„éœ€æ±‚ã€‚</p><h3 id="81-é«˜çº§åŠŸèƒ½"><a class="markdownIt-Anchor" href="#81-é«˜çº§åŠŸèƒ½"></a> 8.1 é«˜çº§åŠŸèƒ½</h3><p>ä»¥ä¸‹æ˜¯ä¸€äº› OpenDroneMap çš„é«˜çº§åŠŸèƒ½ï¼š</p><h4 id="811-å¤šæºæ•°æ®èåˆ"><a class="markdownIt-Anchor" href="#811-å¤šæºæ•°æ®èåˆ"></a> 8.1.1 å¤šæºæ•°æ®èåˆ</h4><p>OpenDroneMap æ”¯æŒå°†æ— äººæœºå½±åƒä¸å…¶ä»–æ•°æ®æºï¼ˆå¦‚å«æ˜Ÿå½±åƒã€åœ°é¢æµ‹é‡æ•°æ®ï¼‰èåˆï¼Œä»¥æä¾›æ›´å…¨é¢çš„ä¿¡æ¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å‡è®¾å·²ç»æœ‰ä¸€ä¸ªå«æ˜Ÿå½±åƒæ–‡ä»¶satellite_image.tif</span></span><br><span class="line"><span class="comment"># å°†å…¶ä¸æ— äººæœºå½±åƒèåˆ</span></span><br><span class="line">odm --project-path /path/to/project --image-path /path/to/collected_images --additional-image-path /path/to/satellite_image.tif</span><br></pre></td></tr></table></figure><h4 id="812-å¤§è§„æ¨¡æ•°æ®å¤„ç†"><a class="markdownIt-Anchor" href="#812-å¤§è§„æ¨¡æ•°æ®å¤„ç†"></a> 8.1.2 å¤§è§„æ¨¡æ•°æ®å¤„ç†</h4><p>å¯¹äºå¤§è§„æ¨¡çš„æ•°æ®é›†ï¼ŒOpenDroneMap æä¾›äº†åˆ†å—å¤„ç†çš„èƒ½åŠ›ï¼Œå…è®¸ç”¨æˆ·å°†å¤§å‹åŒºåŸŸåˆ†æˆå°å—è¿›è¡Œå¤„ç†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment"># åˆ†å—å¤„ç†å¤§å‹åŒºåŸŸ</span></span><br><span class="line">    odm --project-path /path/to/project --image-path /path/to/collected_images --split <span class="number">5</span></span><br><span class="line">```P</span><br><span class="line"></span><br><span class="line"><span class="comment">### 8.2 æ‰©å±•åº”ç”¨</span></span><br><span class="line"></span><br><span class="line">OpenDroneMap çš„æ‰©å±•åº”ç”¨å¯ä»¥æ¶µç›–å¤šä¸ªé¢†åŸŸï¼š</span><br><span class="line"></span><br><span class="line"><span class="comment">#### 8.2.1 ç¾å®³å“åº”</span></span><br><span class="line"></span><br><span class="line">åœ¨ç¾å®³å“åº”ä¸­ï¼Œæ— äººæœºå¯ä»¥å¿«é€Ÿæ”¶é›†å—ç¾åœ°åŒºçš„å½±åƒï¼ŒOpenDroneMap å¯ä»¥ç”¨æ¥ç”Ÿæˆç´§æ€¥åœ°å›¾å’Œ 3D æ¨¡å‹ï¼Œä»¥æ”¯æŒæ•‘æ´è¡ŒåŠ¨ã€‚</span><br><span class="line">```PYTHON</span><br><span class="line">    <span class="comment"># ç¾å®³å“åº”ä¸­çš„å¿«é€Ÿåˆ¶å›¾</span></span><br><span class="line">    odm --project-path /path/to/disaster_response_project --image-path /path/to/disaster_images --step orthophoto --fast</span><br></pre></td></tr></table></figure><h4 id="822-å»ºç­‘ç›‘æµ‹"><a class="markdownIt-Anchor" href="#822-å»ºç­‘ç›‘æµ‹"></a> 8.2.2 å»ºç­‘ç›‘æµ‹</h4><p>åœ¨å»ºç­‘è¡Œä¸šï¼ŒOpenDroneMap å¯ä»¥ç”¨äºç›‘æµ‹å»ºç­‘è¿›åº¦ï¼Œé€šè¿‡å®šæœŸç”Ÿæˆçš„ 3D æ¨¡å‹æ¥è¯„ä¼°æ–½å·¥è´¨é‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å»ºç­‘ç›‘æµ‹ä¸­çš„3Dæ¨¡å‹ç”Ÿæˆ</span></span><br><span class="line">odm --project-path /path/to/construction_project --image-path /path/to/construction_images --step model</span><br></pre></td></tr></table></figure><h4 id="823-ç¯å¢ƒç›‘æµ‹"><a class="markdownIt-Anchor" href="#823-ç¯å¢ƒç›‘æµ‹"></a> 8.2.3 ç¯å¢ƒç›‘æµ‹</h4><p>OpenDroneMap å¯ç”¨äºç¯å¢ƒç›‘æµ‹ï¼Œä¾‹å¦‚é€šè¿‡åˆ†ææ— äººæœºå½±åƒæ¥ç›‘æµ‹æ¤è¢«å˜åŒ–æˆ–æ°´æ±¡æŸ“ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å‡è®¾æœ‰ä¸€ä¸ªå‡½æ•°æ¥åˆ†ææ¤è¢«æŒ‡æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">analyze_vegetation_index</span>(<span class="params">orthophoto_path</span>):</span><br><span class="line">    <span class="comment"># ä½¿ç”¨å½±åƒå¤„ç†å’Œåˆ†ææŠ€æœ¯</span></span><br><span class="line">    <span class="comment"># è¿™é‡Œåªæ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå®é™…åˆ†æè¿‡ç¨‹å¯èƒ½æ›´å¤æ‚</span></span><br><span class="line">    vegetation_index = ... <span class="comment"># è®¡ç®—æ¤è¢«æŒ‡æ•°</span></span><br><span class="line">    <span class="keyword">return</span> vegetation_index</span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒç”¨å‡½æ•°åˆ†ææ­£å°„å½±åƒ</span></span><br><span class="line">vegetation_index = analyze_vegetation_index(<span class="string">&#x27;path/to/orthophoto.tif&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;Vegetation Index: <span class="subst">&#123;vegetation_index&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="83-æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#83-æ³¨æ„äº‹é¡¹"></a> 8.3 æ³¨æ„äº‹é¡¹</h3><ul><li>ä½¿ç”¨é«˜çº§åŠŸèƒ½å¯èƒ½éœ€è¦æ›´å¤šçš„è®¡ç®—èµ„æºå’Œä¸“ä¸šçŸ¥è¯†ã€‚</li><li>æ‰©å±•åº”ç”¨é€šå¸¸éœ€è¦å®šåˆ¶åŒ–çš„æ•°æ®å¤„ç†å’Œåˆ†ææµç¨‹ã€‚</li><li>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œåº”è€ƒè™‘æ•°æ®éšç§å’Œå®‰å…¨é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯åœ¨æ•æ„ŸåŒºåŸŸè¿›è¡Œæ— äººæœºé£è¡Œå’Œå½±åƒé‡‡é›†æ—¶ã€‚</li></ul><p>é€šè¿‡åˆ©ç”¨ OpenDroneMap çš„é«˜çº§åŠŸèƒ½å’Œæ‰©å±•åº”ç”¨ï¼Œç”¨æˆ·å¯ä»¥æ›´å¥½åœ°é€‚åº”å„ç§å¤æ‚åœºæ™¯çš„éœ€æ±‚ï¼Œå¹¶å°†æ— äººæœºæ‘„å½±æµ‹é‡çš„ä»·å€¼æœ€å¤§åŒ–ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenDroneMap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OpenDroneMap(ODM)ä½¿ç”¨</title>
      <link href="/2025/04/04/OpenDroneMap/OpenDroneMap(ODM)%E4%BD%BF%E7%94%A8/"/>
      <url>/2025/04/04/OpenDroneMap/OpenDroneMap(ODM)%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h3 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h3><p>æœ€è¿‘è°ƒæŸ¥ä¸€ä¸ªé¡¹ç›®ï¼Œè¦æ±‚æŠŠæ— äººæœºèˆªæ‹åˆ°çš„å›¾ç‰‡æ‹¼æˆä¸€ä¸ªåœ°å›¾åº•å›¾ï¼Œäº†è§£äº†ä¸€ä¸‹ï¼Œæœ‰ä¸ªå¼€æºè½¯ä»¶OpenDroneMapå¯ä»¥å®ç°è¿™ä¸ªéœ€æ±‚ï¼Œåœ¨å…¶åŸºç¡€ä¸Šç•¥ä½œå°è£…å®Œæˆäº†è¿™ä¸ªé¡¹ç›®ã€‚è¿™é‡Œè®°å½•ä¸‹ODMçš„ä½¿ç”¨ã€‚</p><h3 id="ä¸‹è½½å®‰è£…"><a class="markdownIt-Anchor" href="#ä¸‹è½½å®‰è£…"></a> ä¸‹è½½å®‰è£…</h3><p>ODMå®˜ç½‘åœ°å€ï¼š<a href="https://opendronemap.org">https://opendronemap.org</a><br />æœ‰ä¸‰ä¸ªç‰ˆæœ¬ï¼ŒODM CLIæ˜¯å‘½ä»¤è¡Œè°ƒç”¨ï¼ŒNodeODMåœ¨CLIåŸºç¡€ä¸Šå°è£…äº†Nodeçš„Webç•Œé¢ï¼Œè¿˜æœ‰ä¸€ä¸ªWebODMï¼Œè¿™é‡Œæ²¡æœ‰å…·ä½“äº†è§£ã€‚æˆ‘ä»¬æ˜¯è¦åœ¨Windowså·¥ä½œç«™ä¸Šè¿è¡Œï¼Œæ­£å¥½ODM CLIæœ‰Windowsç¼–è¯‘å¥½çš„ç‰ˆæœ¬ï¼Œä¸‹è½½åœ°å€ï¼š<a href="https://github.com/OpenDroneMap/ODM/releases">https://github.com/OpenDroneMap/ODM/releases</a><br />é€‰æ‹©ODM_Setup_xxx.exeï¼Œç›´æ¥ä¸‹è½½å®‰è£…å³å¯ã€‚</p><h3 id="å›¾åƒæ‹¼æ¥"><a class="markdownIt-Anchor" href="#å›¾åƒæ‹¼æ¥"></a> å›¾åƒæ‹¼æ¥</h3><p>å®‰è£…å¥½åï¼Œæ‰“å¼€ODM Consoleï¼Œæ‰“å¼€ODMçš„å‘½ä»¤è¡Œç•Œé¢ï¼Œå¦‚ä¸‹å›¾</p><p><img src="6aa738ccb18c46c79f7644508490f1a4.png" alt="ODM Consoleå¯åŠ¨ç•Œé¢" /></p><p>é»˜è®¤è¾“å‡ºå¸®åŠ©å†…å®¹ï¼Œä½¿ç”¨å¾ˆç®€å•ï¼Œå»ºç«‹ä¸€ä¸ªå·¥ç¨‹æ–‡ä»¶å¤¹ï¼Œé‡Œé¢å†å»ºç«‹ä¸€ä¸ªimagesæ–‡ä»¶å¤¹ï¼Œå­˜æ”¾è¦æ‹¼æ¥çš„å›¾ç‰‡ï¼Œè‹¥å›¾ç‰‡æ²¡æœ‰è‡ªå¸¦GPSä¿¡æ¯ï¼Œè¿˜éœ€è¦å‡†å¤‡ä¸€ä¸ªgeo.txtæ–‡ä»¶ï¼Œé‡Œé¢ç¬¬ä¸€è¡Œæ˜¯ä½¿ç”¨çš„åæ ‡ç³»ï¼Œåé¢æ¯ä¸€è¡Œå¯¹åº”ä¸€å¼ å›¾ç‰‡çš„ç»çº¬åº¦å’Œé«˜åº¦ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾</p><p><img src="f286967ff6aa4cf1a09336aad89134aa.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><blockquote><p><strong>ä¸€å®šè¦ç¡®ä¿å›¾ç‰‡çš„GPSä¿¡æ¯å¯¹åº”æ­£ç¡®ï¼Œå°†ç›´æ¥å½±å“æœ€ç»ˆç”Ÿæˆçš„å›¾ç‰‡è´¨é‡</strong></p></blockquote><p>å‡†å¤‡å¥½å›¾ç‰‡å’Œgeo.txtåï¼Œåœ¨ODM Consoleä¸­è¿è¡Œå¦‚ä¸‹å‘½ä»¤å¯åŠ¨æ‹¼æ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">run --feature-type=sift --matcher-type=flann --skip-3dmodel D:\odm_test</span><br></pre></td></tr></table></figure><p>å…¶ä¸­D:\odm_testæ˜¯æˆ‘çš„å·¥ç¨‹ç›®å½•ï¼Œå†…å®¹åŒ…å«imagesæ–‡ä»¶å¤¹å’Œgeo.txtæ–‡ä»¶ï¼Œç”ŸæˆæˆåŠŸåçš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼Œ<strong>çº¢æ¡†æ¡†èµ·æ¥çš„æ˜¯å¯åŠ¨ä»»åŠ¡æ‰€å¿…é¡»çš„æ–‡ä»¶ã€‚</strong></p><p><img src="7a9cdf631a234772ac81e0f09638a456.png" alt="ODMæ‹¼æ¥å®Œæˆç›®å½•" /></p><p>æ‹¼æ¥çš„TIFFæ–‡ä»¶åœ¨odm_orthophotoç›®å½•ä¸‹</p><p><img src="59a55be8f3b14b6ea1f1f7a4073356ba.png" alt="ç»“æœç›®å½•" /></p><p>ä»¥ä¸‹æ˜¯åŸå›¾å’Œæ‹¼æ¥å¥½çš„å›¾ç‰‡</p><p><img src="668ecd7c1c4949ef96edb49c3192a0d9.png" alt="åŸå›¾" /><br /><img src="cfcdb71d746e43e6b50a184236165cd3.png" alt="æ‹¼æ¥åå›¾ç‰‡" /></p><p>å¯ä»¥çœ‹åˆ°æœ€ç»ˆæ•ˆæœè¿˜ä¸é”™ï¼Œé™¤äº†è¾¹ç¼˜åŒºåŸŸæœ‰äº›æ¯›åˆºï¼Œå…¶ä»–åœ°æ–¹çœ‹ä¸åˆ°æ‹¼æ¥ç—•è¿¹ï¼Œå åŠ åˆ°å¤©åœ°å›¾ä¸Šä¹Ÿèƒ½ä¸åœ°å›¾é‡åˆçš„å¾ˆå¥½ã€‚</p><h3 id="æ‹¼æ¥è¿›åº¦è·å–"><a class="markdownIt-Anchor" href="#æ‹¼æ¥è¿›åº¦è·å–"></a> æ‹¼æ¥è¿›åº¦è·å–</h3><p>è¿˜æœ‰ä¸ªéœ€æ±‚æ˜¯è¦åœ¨æ‹¼æ¥æ—¶åœ¨æˆ‘ä»¬çš„è½¯ä»¶ç•Œé¢æ˜¾ç¤ºæ‹¼æ¥ç™¾åˆ†æ¯”è¿›åº¦ï¼Œç ”ç©¶äº†ä¸‹ODMæºç ï¼Œå…¶æ§åˆ¶æµç¨‹çš„ä»£ç å†™å¾—ä¹Ÿæ¯”è¾ƒç®€æ´æ˜“æ‡‚ï¼Œ<br /><img src="e0c89686b1f943e5af182516927dafaf.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>å¦‚ä¸Šå›¾ï¼Œå¯ä»¥ä¸è¿›å…¥ODM Consoleï¼Œä¹Ÿå¯ä»¥ç”±winrunç›´æ¥å¯åŠ¨pythonçš„è™šæ‹Ÿç¯å¢ƒï¼Œ<a href="http://xn--winrunrun-fb6sz19bmu1afdau800b.py">æ­¤æ—¶ç”±winrunè°ƒç”¨run.py</a>ï¼Œå°†å‘½ä»¤å‚æ•°ä¼ å…¥ï¼Œrun.pyå†è°ƒç”¨stagesä¸‹çš„odm_app.pyï¼Œodm_app.pyåˆå§‹åŒ–å„ä¸ªstageï¼Œå¹¶è¿æ¥èµ·æ¥ä½¿å…¶é¡ºåºæ‰§è¡Œã€‚</p><p><img src="cdce7e3c4ba0477da7d696ddb1e1d679.png" alt="odm_app.py" /></p><p>å…¶ä¸­æ¯ä¸€ä¸ªstageéƒ½ç»§æ‰¿äº†ä¸€ä¸ªå«ODM_Stageçš„åŸºç±»ï¼ŒODM_Stageç±»åœ¨opendmç›®å½•ä¸‹çš„types.pyæ–‡ä»¶ä¸­å®šä¹‰ã€‚</p><p><img src="e51b6e819c9840658c62d7bf37ac0972.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><img src="6951e06171004338935cc81f4dcf458b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>è¿™ä¸€éƒ¨åˆ†ä½¿ç”¨äº†æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼ŒODM_Stageä¸­å®ç°äº†è¯¸å¦‚æ—¥å¿—ã€è¿›åº¦ç­‰åŠŸèƒ½ï¼Œä¸»è¦çš„å¤„ç†åŠŸèƒ½processæ–¹æ³•ç”±å­ç±»å®ç°ï¼Œåœ¨ODM_Stageç±»ä¸­ï¼Œæ›´æ–°è¿›åº¦çš„æ–¹æ³•ä¸ºupdate_progressï¼Œæ­¤æ–¹æ³•è¿˜é¢å¤–è°ƒç”¨äº†ä¸€ä¸ªå«progressbc.send_updateçš„æ–¹æ³•ï¼Œå¦‚ä¸‹å›¾ã€‚</p><p><img src="a9488c0c6afe46878c3d74ac789d3939.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>æŸ¥æ‰¾æ­¤æ–¹æ³•ï¼Œå‘ç°å…¶å·²ç»å®ç°äº†ä¸€ä¸ªæ±‡æŠ¥è¿›åº¦çš„åŠŸèƒ½ï¼Œåœ¨opendmç›®å½•ä¸‹çš„progress.pyæ–‡ä»¶ä¸­ã€‚</p><p><img src="6c15e069e68048dabd2062a92d90e6bf.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>è¯¥æ–¹æ³•ä½¿ç”¨udpå‘127.0.0.1:6367å‘é€è¿›åº¦ä¿¡æ¯ï¼Œåˆ†æåˆ°è¿™å°±å¤Ÿäº†ï¼Œå¯¹è¿™å—ç¨ä½œæ”¹é€ ï¼Œå°†å•ä¾‹æ¨¡å¼æ”¹ä¸ºæ¯ä¸ªä»»åŠ¡å®ä¾‹åŒ–ä¸€ä¸ªBroadcasterï¼Œå†åŠ å…¥æ ‡è®°ä»»åŠ¡çš„UUIDï¼Œè¿›åº¦è¿™å—çš„åŠŸèƒ½å°±ç®—æ˜¯å®ç°äº†ã€‚</p><h3 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h3><p>å› ä¸ºä¹‹å‰æ²¡æœ‰åšè¿‡GISç›¸å…³çš„é¡¹ç›®ï¼Œå¯¹è¿™å—ä¸€ç‚¹éƒ½ä¸æ‡‚ï¼ŒODMè¿™ä¸ªè½¯ä»¶åº”è¯¥è¿˜æœ‰å¾ˆå¤šå¼ºå¤§çš„åŠŸèƒ½ï¼Œä¸è¿‡åº”è¯¥ä¸ä¼šå†æ·±å…¥å»äº†è§£äº†ï¼Œä¹‹å‰è¿˜æ‹…å¿ƒæ‹¼å‡ºæ¥çš„å›¾æ— æ³•å åŠ åˆ°åœ°å›¾ä¸Šï¼Œæ²¡æƒ³åˆ°è¿™åœ¨è¿™ä¸ªé¢†åŸŸåªæ˜¯ä¸ªåŸºç¡€åŠŸèƒ½ï¼Œæ‹¼å¥½åçš„TIFFç›´æ¥å°±å¸¦æœ‰ç»çº¬åº¦ä¿¡æ¯ã€‚<br />æœ€åè´´ä¸€ä¸‹ä½¿ç”¨çš„ODMå‚æ•°å§ã€‚</p><pre><code>--feature-type=siftç‰¹å¾ç±»å‹ï¼Œè¿˜æœ‰å¥½å‡ ç§ç±»å‹ï¼ŒåŒºåˆ«æ²¡å»äº†è§£--feature-quality=ultraç‰¹å¾è´¨é‡ï¼Œultraæ˜¯æœ€é«˜ç­‰çº§--matcher-type=flannåº”è¯¥æ˜¯æ¯”å¯¹ç±»å‹ï¼Œæœ‰ä¸ªé˜¶æ®µä¼šå¯¹å›¾ç‰‡çš„ç‰¹å¾ä¸¤ä¸¤æ¯”å¯¹ï¼Œä¸åŒç±»å‹ä¹‹é—´åŒºåˆ«ä¸äº†è§£--mesh-octree-depth=12     ä¸çŸ¥é“å•¥æ„æ€--skip-3dmodel                    è·³è¿‡3Dæ¨¡å‹ç”Ÿæˆï¼Œæˆ‘ä»¬åªéœ€è¦æ­£å°„æŠ•å½±ï¼Œè¿™ä¸ªå…³æ‰å¯ä»¥å¿«ä¸€ç‚¹--orthophoto-resolution=2   æ­£å°„åˆ†è¾¨ç‡ï¼Œé»˜è®¤5ï¼ŒæŒ‰ç”²æ–¹è¦æ±‚æ”¹æˆ2ï¼Œå•ä½å¥½åƒæ˜¯å˜ç±³æˆ–åƒç´ --fast-orthophoto                 å¿«é€Ÿç”Ÿæˆæ­£å°„æŠ•å½±--pc-quality=ultra                 ä¸çŸ¥é“å•¥æ„æ€--pc-filter=1.5                      ä¸çŸ¥é“å•¥æ„æ€</code></pre><p>æŒ‰ä¸Šé¢çš„å‚æ•°ï¼Œ100å¼ å·¦å³å›¾ç‰‡æœ€ç»ˆåˆæˆçš„TIFFåœ¨5ä¸ªGå·¦å³ï¼Œ14700K+4070çš„æœºå™¨éœ€è¦åŠä¸ªå°æ—¶ã€‚è¿˜æ˜¯åœè€—æ€§èƒ½çš„ã€‚</p><p>è¡¥å……ï¼šå¦‚æœä½¿ç”¨dockerè¿è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -ti --<span class="built_in">rm</span> -v D:/datasets:/datasets opendronemap/odm --project-path /datasets</span><br></pre></td></tr></table></figure><blockquote><p>è§£é‡Š D:/datasets:/datasets<br />:å‰çš„éƒ¨åˆ†æ˜¯è¦å¤„ç†çš„å›¾ç‰‡åœ°å€ï¼Œå…¶ä¸­å›¾ç‰‡å­˜æ”¾åœ¨images ä¸­ï¼Œå›¾ç‰‡çš„åœ°å€æ˜¯ D:/datasets/images<br />:åçš„éƒ¨åˆ†å°±æ˜¯è‡ªåŠ¨çš„ï¼Œä¸ç”¨åŠ¨</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenDroneMap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ†äº«14ä¸ªå®ç”¨360WebVrå…¨æ™¯è§†å›¾æ¡†æ¶å¤§å…¨</title>
      <link href="/2025/04/04/Other/%E5%88%86%E4%BA%AB14%E4%B8%AA%E5%AE%9E%E7%94%A8360WebVr%E5%85%A8%E6%99%AF%E8%A7%86%E5%9B%BE%E6%A1%86%E6%9E%B6%E5%A4%A7%E5%85%A8/"/>
      <url>/2025/04/04/Other/%E5%88%86%E4%BA%AB14%E4%B8%AA%E5%AE%9E%E7%94%A8360WebVr%E5%85%A8%E6%99%AF%E8%A7%86%E5%9B%BE%E6%A1%86%E6%9E%B6%E5%A4%A7%E5%85%A8/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€-theasys"><a class="markdownIt-Anchor" href="#ä¸€-theasys"></a> <strong>ä¸€ã€Theasys</strong></h3><p>åœ°å€ï¼š<a href="https://www.theasys.io/samples/">https://www.theasys.io/samples/</a></p><p><img src="d8f1e6153756482fa48b9594aac9ed0f~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Zqj5byg5Yac5rCRq75.webp" alt="image.png" /></p><h3 id="äºŒ-panoraven"><a class="markdownIt-Anchor" href="#äºŒ-panoraven"></a> <strong>äºŒã€Panoraven</strong></h3><p>åœ°å€ï¼š<a href="https://panoraven.com/en">panoraven.com/en</a></p><p><img src="bfe540ff255f4f73a256a169587588a3~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Zqj5byg5Yac5rCRq75.webp" alt="b15aa971cd49a1b5abd4d952e2ab590c.png" /></p><h3 id="ä¸‰-360-image-viewer"><a class="markdownIt-Anchor" href="#ä¸‰-360-image-viewer"></a> <strong>ä¸‰ã€360-image-viewer</strong></h3><p>åœ°å€ï¼š<a href="https://renderstuff.com/tools/360-panorama-web-viewer/">renderstuff.com/tools/360-pâ€¦</a></p><p><img src="95c1e30e7aa54f178fb47d8b8aa8980a~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Zqj5byg5Yac5rCRq75.webp" alt="image.png" /> 360-image-viewer ä¹Ÿæ˜¯ä¸€ä¸ªç±»ä¼¼äºä¸Šé¢çš„åº“ï¼Œå¯ä»¥å¸®åŠ©æ‚¨æ˜¾ç¤ºå›¾åƒçš„å…¨æ™¯å›¾ã€‚å„ç§è®¾å¤‡å±å¹•ä¸Šçš„ç…§ç‰‡ã€è§†é¢‘å’Œå“åº”èƒ½åŠ›ã€‚ä»…çº¦ 46kbï¼ˆå‹ç¼©åï¼‰çš„å¤§å°ã€‚ä½¿ç”¨æ­¤åº“æ—¶å¯ä»¥è½»æ¾ä¼˜åŒ–ç«™ç‚¹çš„æ€§èƒ½ã€‚</p><h3 id="å››-kaleidoscope"><a class="markdownIt-Anchor" href="#å››-kaleidoscope"></a> <strong>å››ã€Kaleidoscope</strong></h3><p>åœ°å€ï¼š<a href="https://github.com/thiagopnts/kaleidoscope">github.com/thiagopnts/â€¦</a></p><p><img src="93f535268f7f44d18cae515f1a4e0ba6~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Zqj5byg5Yac5rCRq75.webp" alt="image.png" /></p><p>Kaleidoscope æ˜¯ä¸€ä¸ªå¼€æºçš„ Javascript åº“ï¼Œå®ƒå¯ä»¥è½»æ¾åœ°ä¸ºç…§ç‰‡æˆ–è§†é¢‘æ„å»º 360 åº¦æ–¹ä¾¿çš„æ–¹æ³•æŸ¥çœ‹å™¨ã€‚</p><p>å¦‚æœä½ éœ€è¦ä¸€ä¸ªç´§å‡‘çš„åº“ï¼Œä¸è¦ä½¿ç”¨é¢å¤–çš„åº“ï¼Œå®ƒèƒ½æ»¡è¶³æ˜¾ç¤ºè§†é¢‘å’Œå…¨æ™¯å›¾åƒçš„åŸºæœ¬å…ƒç´ ï¼Œæˆ‘è®¤ä¸ºè¿™ä¸ªåº“æ˜¯æ‚¨ä¸é”™çš„é€‰æ‹©</p><h3 id="äº”-js-cloudimage-360-view"><a class="markdownIt-Anchor" href="#äº”-js-cloudimage-360-view"></a> <strong>äº”ã€JS Cloudimage 360Â View</strong></h3><p>åœ°å€ï¼š<a href="https://scaleflex.github.io/js-cloudimage-360-view/">scaleflex.github.io/js-cloudimaâ€¦</a></p><p><img src="74d30de7cb9444938d6cc62eb00401ca~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Zqj5byg5Yac5rCRq75.webp" alt="image.png" /></p><p>JS Cloudimage 360 View æ˜¯ä¸€ä¸ªç”¨Javascriptç¼–å†™çš„ç´§å‡‘å‹å¼€æºåº“ï¼Œå¯ä»¥è½»æ¾å®ç°360åº¦æ˜¾ç¤ºå›¾åƒï¼Œå¹¶æä¾›æ›´å¤šåŠŸèƒ½å¸®åŠ©ç”¨æˆ·æ›´ä¾¿æ·çš„äº¤äº’ã€‚</p><p>å¦‚å…¨å±æ˜¾ç¤ºã€lazyloadåŠŸèƒ½ã€å›¾åƒæ”¾å¤§é•œã€‚æ­¤å¤–ï¼Œå®ƒè¿˜æä¾›æ‚¨å¯ä»¥é€šè¿‡éå¸¸ç®€å•çš„è®¾ç½®ç›´æ¥ç”¨äºç½‘ç«™çš„ CDN åªéœ€å°†å®ƒæä¾›çš„å±æ€§è°ƒç”¨åˆ°æˆ‘ä»¬æƒ³è¦æ˜¾ç¤º 360 çš„ HTML å¯¹è±¡å›¾åƒä¸­ã€‚</p><h3 id="å…­-threejs"><a class="markdownIt-Anchor" href="#å…­-threejs"></a> <strong>å…­ã€Three.js</strong></h3><p>åœ°å€ï¼š<a href="https://threejs.org/">threejs.org/</a></p><p>Threejs æ˜¯åŸºäºWebGLå°è£…çš„3Då¼•æ“æ¡†æ¶ï¼Œé™ä½äº†å‰ç«¯å¼€å‘3Dæ•ˆæœçš„éš¾åº¦ï¼Œå¾ˆå®¹æ˜“å°±å¯ä»¥Web3Dæ•ˆæœã€‚</p><p><img src="6f0942c5c9514180b336229d83c3d684~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Zqj5byg5Yac5rCRq75.webp" alt="image" title="image" /></p><h3 id="ä¸ƒ-2vr"><a class="markdownIt-Anchor" href="#ä¸ƒ-2vr"></a> <strong>ä¸ƒã€2VR</strong></h3><p>åœ°å€ï¼š<a href="http://www.2vr.in/">www.2vr.in/</a></p><p><img src="5475c1d9268c48b1a8efefab60534869~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Zqj5byg5Yac5rCRq75.webp" alt="9d4ff2eb40246c1079f473e68f4254dd.png" /></p><h3 id="å…«-panolensjs"><a class="markdownIt-Anchor" href="#å…«-panolensjs"></a> <strong>å…«ã€Panolens.js</strong></h3><hr /><p>åœ°å€ï¼š<a href="https://pchen66.github.io/Panolens/?spm=a2c6h.12873639.article-detail.8.642ed3167BkLtn">pchen66.github.io/Panolens/</a></p><p>åŸºäºThreejså°è£…çš„å…¨æ™¯æ¡†æ¶ï¼Œåªéœ€è¦å¼•ç”¨<code>three.min.js</code> å’Œ <code>panolens.min.js</code></p><p><img src="a31353cc06bc445e82e32285160e891b~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Zqj5byg5Yac5rCRq75.webp" alt="image" title="image" /></p><h3 id="ä¹-pannellum"><a class="markdownIt-Anchor" href="#ä¹-pannellum"></a> <strong>ä¹ã€Pannellum</strong></h3><hr /><p>åœ°å€ï¼š<a href="https://pannellum.org/%C2%A0">pannellum.org/</a></p><p>ä¸€ä¸ªè½»é‡çº§çš„Webå…¨æ™¯æŸ¥çœ‹å™¨ï¼ŒPannellumæ˜¯ä¸€ä¸ªè½»é‡çº§ã€å…è´¹ã€å¼€æºçš„ç½‘ç»œå…¨æ™¯æŸ¥çœ‹å™¨ã€‚å®ƒä½¿ç”¨HTML5ã€CSS3ã€JavaScriptå’ŒWebGLæ„å»ºï¼Œä¸å«æ’ä»¶ã€‚</p><p><img src="1c6d3d9f12d74436a90ceac2ed5bb161~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Zqj5byg5Yac5rCRq75.webp" alt="image" title="image" /></p><h3 id="å-view360"><a class="markdownIt-Anchor" href="#å-view360"></a> <strong>åã€view360</strong></h3><hr /><p>åœ°å€ï¼š<a href="https://naver.github.io/egjs-view360/">naver.github.io/egjs-view36â€¦</a></p><p><img src="990fa9c005fd412b843a47e71631e7c1~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Zqj5byg5Yac5rCRq75.webp" alt="image" title="image" /></p><h3 id="åä¸€-a-frame"><a class="markdownIt-Anchor" href="#åä¸€-a-frame"></a> <strong>åä¸€ã€A-Frame</strong></h3><hr /><p>åœ°å€ï¼š<a href="https://aframe.io/">aframe.io/</a></p><p><img src="96fa33304bfe451cbdcea7115b501773~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Zqj5byg5Yac5rCRq75.webp" alt="image" title="image" /></p><h3 id="åäºŒ-vr-view"><a class="markdownIt-Anchor" href="#åäºŒ-vr-view"></a> <strong>åäºŒã€VR View</strong></h3><hr /><p>åœ°å€ï¼š<a href="https://developers.google.com/vr/develop/web/vrview-web%C2%A0">developers.google.com/vr/develop/â€¦</a></p><p><img src="95e160983de14582ab85ce502e656972~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Zqj5byg5Yac5rCRq75.webp" alt="image" title="image" /></p><h3 id="åä¸‰-photo-sphere-viewer"><a class="markdownIt-Anchor" href="#åä¸‰-photo-sphere-viewer"></a> <strong>åä¸‰ã€Photo Sphere Viewer</strong></h3><hr /><p>åœ°å€ï¼š<a href="https://photo-sphere-viewer.js.org/%C2%A0">photo-sphere-viewer.js.org/</a></p><p><img src="c927f505807e4bbeabef3ada00ba279a~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Zqj5byg5Yac5rCRq75.webp" alt="image" title="image" /></p><h3 id="åå››-marzipano"><a class="markdownIt-Anchor" href="#åå››-marzipano"></a> <strong>åå››ã€Marzipano</strong></h3><hr /><p>åœ°å€ï¼š<a href="https://www.marzipano.net/">www.marzipano.net/</a></p><p><img src="2e32573efc434498ae2e42f0e7e287b2~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Zqj5byg5Yac5rCRq75.webp" alt="image" title="image" /></p><p>æœ¬æ–‡æ”¶å½•äºä»¥ä¸‹ä¸“æ </p><p><img src="fe14f8f862044a8d9492e12ca133e0aa~tplv-k3u1fbpfcp-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Zqj5byg5Yac5rCRq75.webp" alt="cover" /></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MCPæç®€å…¥é—¨ï¼šè¶…å¿«é€Ÿä¸Šæ‰‹è¿è¡Œç®€å•çš„MCPæœåŠ¡å’ŒMCPå®¢æˆ·ç«¯</title>
      <link href="/2025/03/26/MCP/MCP%E6%9E%81%E7%AE%80%E5%85%A5%E9%97%A8%EF%BC%9A%E8%B6%85%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B%E8%BF%90%E8%A1%8C%E7%AE%80%E5%8D%95%E7%9A%84MCP%E6%9C%8D%E5%8A%A1%E5%92%8CMCP%E5%AE%A2%E6%88%B7%E7%AB%AF/"/>
      <url>/2025/03/26/MCP/MCP%E6%9E%81%E7%AE%80%E5%85%A5%E9%97%A8%EF%BC%9A%E8%B6%85%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B%E8%BF%90%E8%A1%8C%E7%AE%80%E5%8D%95%E7%9A%84MCP%E6%9C%8D%E5%8A%A1%E5%92%8CMCP%E5%AE%A2%E6%88%B7%E7%AB%AF/</url>
      
        <content type="html"><![CDATA[<h3 id="mcpæ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#mcpæ˜¯ä»€ä¹ˆ"></a> MCPæ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>é¦–å…ˆæˆ‘ä»¬å¿«é€Ÿè¿‡ä¸€ä¸‹MCPçš„åŸºæœ¬æ¦‚å¿µï¼Œæ¥ç€æˆ‘ä»¬ä¼šé€šè¿‡ä¸€ä¸ªç®€å•çš„å¤©æ°”æœåŠ¡çš„æ•™ç¨‹ï¼Œæ¥ä¸Šæ‰‹å­¦ä¼šä½¿ç”¨MCPæœåŠ¡å’Œåœ¨ä¸»æœºè¿è¡ŒæœåŠ¡ã€‚æœ¬æ–‡æ ¹æ®å®˜æ–¹æ•™ç¨‹æ”¹ç¼–ã€‚</p><h4 id="1-mcpçš„åŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#1-mcpçš„åŸºæœ¬æ¦‚å¿µ"></a> 1. MCPçš„åŸºæœ¬æ¦‚å¿µ</h4><p>MCPï¼ˆModel Context Protocolï¼Œæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰æ˜¯ä¸€ä¸ªå¼€æ”¾åè®®ï¼Œæ—¨åœ¨æ ‡å‡†åŒ–åº”ç”¨ç¨‹åºå¦‚ä½•å‘å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰æä¾›ä¸Šä¸‹æ–‡ã€‚å®ƒå…è®¸LLMä¸å¤–éƒ¨æ•°æ®æºå’Œå·¥å…·æ— ç¼é›†æˆï¼Œä»è€Œä½¿AIæ¨¡å‹èƒ½å¤Ÿè®¿é—®å®æ—¶æ•°æ®å¹¶æ‰§è¡Œæ›´å¤æ‚çš„ä»»åŠ¡ã€‚</p><p><a href="https://github.com/modelcontextprotocol">å®˜æ–¹MCP Githubä¸»é¡µ</a><br /><a href="https://modelcontextprotocol.io/introduction">å®˜æ–¹æ–‡æ¡£Introduction</a><br /><a href="https://modelcontextprotocol.io/clients">æ”¯æŒMCPç‰¹æ€§çš„å®¢æˆ·ç«¯åˆ—è¡¨</a></p><h4 id="2-mcpçš„æ¶æ„"><a class="markdownIt-Anchor" href="#2-mcpçš„æ¶æ„"></a> 2. MCPçš„æ¶æ„</h4><p>MCPçš„æ ¸å¿ƒç»„ä»¶åŒ…æ‹¬ï¼š</p><ul><li><strong>ä¸»æœºï¼ˆHostï¼‰</strong>ï¼šè¿è¡ŒLLMçš„åº”ç”¨ç¨‹åºï¼ˆå¦‚Claude Desktopï¼‰ï¼Œè´Ÿè´£å‘èµ·ä¸MCPæœåŠ¡å™¨çš„è¿æ¥ã€‚</li><li><strong>å®¢æˆ·ç«¯ï¼ˆClientï¼‰</strong>ï¼šåœ¨ä¸»æœºåº”ç”¨ç¨‹åºå†…éƒ¨è¿è¡Œï¼Œä¸MCPæœåŠ¡å™¨å»ºç«‹1:1è¿æ¥ã€‚</li><li><strong>æœåŠ¡å™¨ï¼ˆServerï¼‰</strong>ï¼šæä¾›å¯¹å¤–éƒ¨æ•°æ®æºå’Œå·¥å…·çš„è®¿é—®ï¼Œå“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚</li><li><strong>LLM</strong>ï¼šå¤§å‹è¯­è¨€æ¨¡å‹ï¼Œé€šè¿‡MCPè·å–ä¸Šä¸‹æ–‡å¹¶ç”Ÿæˆè¾“å‡ºã€‚</li><li><strong>å·¥ä½œæµç¨‹</strong>ï¼š<ol><li>ä¸»æœºå¯åŠ¨å®¢æˆ·ç«¯ã€‚</li><li>å®¢æˆ·ç«¯è¿æ¥åˆ°MCPæœåŠ¡å™¨ã€‚</li><li>æœåŠ¡å™¨æä¾›èµ„æºã€æç¤ºæˆ–å·¥å…·ã€‚</li><li>LLMä½¿ç”¨è¿™äº›ä¿¡æ¯ç”Ÿæˆå“åº”ã€‚<br /><img src="18f390d38c694b2e89a3d86d7dc24721.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></li></ol></li></ul><h4 id="3-mcpçš„åŸè¯­"><a class="markdownIt-Anchor" href="#3-mcpçš„åŸè¯­"></a> 3. MCPçš„åŸè¯­</h4><p>MCPé€šè¿‡ä¸‰ç§ä¸»è¦åŸè¯­ï¼ˆPrimitivesï¼‰å¢å¼ºLLMçš„åŠŸèƒ½ï¼Œç†è§£è¿™äº›åŸè¯­æ˜¯ç¼–å†™MCPçš„å…³é”®ï¼š</p><ol><li><strong>æç¤ºï¼ˆPromptsï¼‰</strong>ï¼šé¢„å®šä¹‰çš„æŒ‡ä»¤æˆ–æ¨¡æ¿ï¼ŒæŒ‡å¯¼LLMå¦‚ä½•å¤„ç†è¾“å…¥æˆ–ç”Ÿæˆè¾“å‡ºã€‚</li><li><strong>èµ„æºï¼ˆResourcesï¼‰</strong>ï¼šæä¾›é¢å¤–ä¸Šä¸‹æ–‡çš„ç»“æ„åŒ–æ•°æ®ï¼Œä¾‹å¦‚æ–‡ä»¶æˆ–æ•°æ®åº“å†…å®¹ã€‚</li><li><strong>å·¥å…·ï¼ˆToolsï¼‰</strong>ï¼šå¯æ‰§è¡Œçš„å‡½æ•°ï¼Œå…è®¸LLMæ‰§è¡Œæ“ä½œï¼ˆå¦‚æŸ¥è¯¢APIï¼‰æˆ–æ£€ç´¢ä¿¡æ¯ã€‚</li></ol><ul><li><strong>å…³é”®ç‚¹</strong>ï¼šè¿™äº›åŸè¯­æ˜¯MCPçš„æ ¸å¿ƒï¼Œå†³å®šäº†æœåŠ¡å™¨èƒ½ä¸ºLLMæä¾›ä»€ä¹ˆèƒ½åŠ›ã€‚</li></ul><h3 id="mcp-server-æ„å»ºä¸€ä¸ªç®€å•çš„mcpæœåŠ¡å™¨"><a class="markdownIt-Anchor" href="#mcp-server-æ„å»ºä¸€ä¸ªç®€å•çš„mcpæœåŠ¡å™¨"></a> MCP Server æ„å»ºä¸€ä¸ªç®€å•çš„MCPæœåŠ¡å™¨</h3><p>åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œä½¿ç”¨ <strong>Claude for Desktop</strong> ä½œä¸ºå®¢æˆ·ç«¯ï¼Œè‡ªå·±ç¼–å†™pythonæ–‡ä»¶ä½œä¸ºæœåŠ¡ç«¯ï¼Œåœ¨ Claude Desktop <a href="http://xn--server-2w4ox67l24k.py">é‡Œè°ƒç”¨server.py</a>ã€‚</p><p><strong>å…ˆå†³æ¡ä»¶</strong></p><ul><li>å·²å®‰è£… python 3.10 æˆ–æ›´é«˜</li><li>å·²å®‰è£… Claude for Desktop</li></ul><h4 id="1-å®‰è£…uvè®¾ç½®ç¯å¢ƒå˜é‡"><a class="markdownIt-Anchor" href="#1-å®‰è£…uvè®¾ç½®ç¯å¢ƒå˜é‡"></a> 1. å®‰è£…uvï¼Œè®¾ç½®ç¯å¢ƒå˜é‡</h4><p>æ‰“å¼€ Powershellï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">powershell -ExecutionPolicy ByPass -c <span class="string">&quot;irm https://astral.sh/uv/install.ps1 | iex&quot;</span></span><br></pre></td></tr></table></figure><p>æ‰“å¼€ç³»ç»Ÿé«˜çº§ç¯å¢ƒå˜é‡ï¼Œåœ¨ <code>Path</code> å°†uvè·¯å¾„æ·»åŠ è¿›å»ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\windows\.<span class="built_in">local</span>\bin</span><br></pre></td></tr></table></figure><p><img src="cead270ed6a84f588203eeaa1982f622.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>é‡å¯ Powershell ã€‚<br />åœ¨å‘½ä»¤è¡Œè¾“å…¥ <code>uv --version</code> ï¼Œ èƒ½è¿”å›ç‰ˆæœ¬ä¿¡æ¯å°±ç®—å®‰è£…æˆåŠŸäº†:</p><p><img src="e79dc96ba8674829b6605489d4e01c9a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="2-åˆ›å»ºå’Œè®¾ç½®é¡¹ç›®"><a class="markdownIt-Anchor" href="#2-åˆ›å»ºå’Œè®¾ç½®é¡¹ç›®"></a> 2. åˆ›å»ºå’Œè®¾ç½®é¡¹ç›®</h4><p>æ‰“å¼€ <strong>Powershell</strong> ï¼Œ <code>cd</code> åˆ°ä½ æƒ³è¦åˆ›å»ºé¡¹ç›®çš„ç›®å½•ä½ç½®ï¼Œå¦‚:</p><p><img src="b9e253315264469993409b9a7b6c54e1.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>æ¥ç€ä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Create a new directory for our project</span></span><br><span class="line">uv init weather</span><br><span class="line"><span class="built_in">cd</span> weather</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create virtual environment and activate it</span></span><br><span class="line">uv venv</span><br><span class="line">.venv\Scripts\activate</span><br><span class="line"></span><br><span class="line"><span class="comment"># Install dependencies</span></span><br><span class="line">uv add mcp[cli] httpx</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create our server fileã€‚new-item æ˜¯powershell å‘½ä»¤ï¼Œç”¨äºåˆ›å»ºæ–‡ä»¶</span></span><br><span class="line">new-item weather.py</span><br></pre></td></tr></table></figure><h4 id="3-æ·»åŠ ä»£ç "><a class="markdownIt-Anchor" href="#3-æ·»åŠ ä»£ç "></a> 3. æ·»åŠ ä»£ç </h4><p>å°†ä»¥ä¸‹ä»£ç æ•´ä¸ªå¤åˆ¶åˆ° <code>weather.py</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Any</span>  </span><br><span class="line"><span class="keyword">import</span> httpx  </span><br><span class="line"><span class="keyword">from</span> mcp.server.fastmcp <span class="keyword">import</span> FastMCP  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># Initialize FastMCP server  </span></span><br><span class="line">mcp = FastMCP(<span class="string">&quot;weather&quot;</span>)  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># Constants  </span></span><br><span class="line">NWS_API_BASE = <span class="string">&quot;https://api.weather.gov&quot;</span>  </span><br><span class="line">USER_AGENT = <span class="string">&quot;weather-app/1.0&quot;</span>  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">make_nws_request</span>(<span class="params">url: <span class="built_in">str</span></span>) -&gt; <span class="built_in">dict</span>[<span class="built_in">str</span>, <span class="type">Any</span>] | <span class="literal">None</span>:  </span><br><span class="line">    <span class="string">&quot;&quot;&quot;Make a request to the NWS API with proper error handling.&quot;&quot;&quot;</span>  </span><br><span class="line">    headers = &#123;  </span><br><span class="line">        <span class="string">&quot;User-Agent&quot;</span>: USER_AGENT,  </span><br><span class="line">        <span class="string">&quot;Accept&quot;</span>: <span class="string">&quot;application/geo+json&quot;</span>  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">with</span> httpx.AsyncClient() <span class="keyword">as</span> client:  </span><br><span class="line">        <span class="keyword">try</span>:  </span><br><span class="line">            response = <span class="keyword">await</span> client.get(url, headers=headers, timeout=<span class="number">30.0</span>)  </span><br><span class="line">            response.raise_for_status()  </span><br><span class="line">            <span class="keyword">return</span> response.json()  </span><br><span class="line">        <span class="keyword">except</span> Exception:  </span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span>  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">format_alert</span>(<span class="params">feature: <span class="built_in">dict</span></span>) -&gt; <span class="built_in">str</span>:  </span><br><span class="line">    <span class="string">&quot;&quot;&quot;Format an alert feature into a readable string.&quot;&quot;&quot;</span>  </span><br><span class="line">    props = feature[<span class="string">&quot;properties&quot;</span>]  </span><br><span class="line">    <span class="keyword">return</span> <span class="string">f&quot;&quot;&quot;  </span></span><br><span class="line"><span class="string">Event: <span class="subst">&#123;props.get(<span class="string">&#x27;event&#x27;</span>, <span class="string">&#x27;Unknown&#x27;</span>)&#125;</span>  </span></span><br><span class="line"><span class="string">Area: <span class="subst">&#123;props.get(<span class="string">&#x27;areaDesc&#x27;</span>, <span class="string">&#x27;Unknown&#x27;</span>)&#125;</span>  </span></span><br><span class="line"><span class="string">Severity: <span class="subst">&#123;props.get(<span class="string">&#x27;severity&#x27;</span>, <span class="string">&#x27;Unknown&#x27;</span>)&#125;</span>  </span></span><br><span class="line"><span class="string">Description: <span class="subst">&#123;props.get(<span class="string">&#x27;description&#x27;</span>, <span class="string">&#x27;No description available&#x27;</span>)&#125;</span>  </span></span><br><span class="line"><span class="string">Instructions: <span class="subst">&#123;props.get(<span class="string">&#x27;instruction&#x27;</span>, <span class="string">&#x27;No specific instructions provided&#x27;</span>)&#125;</span>  </span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span>  </span><br><span class="line">  </span><br><span class="line"><span class="meta">@mcp.tool()  </span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">get_alerts</span>(<span class="params">state: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:  </span><br><span class="line">    <span class="string">&quot;&quot;&quot;Get weather alerts for a US state.  </span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">    Args:        </span></span><br><span class="line"><span class="string">    state: Two-letter US state code (e.g. CA, NY)    </span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    url = <span class="string">f&quot;<span class="subst">&#123;NWS_API_BASE&#125;</span>/alerts/active/area/<span class="subst">&#123;state&#125;</span>&quot;</span>  </span><br><span class="line">    data = <span class="keyword">await</span> make_nws_request(url)  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> data <span class="keyword">or</span> <span class="string">&quot;features&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> data:  </span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Unable to fetch alerts or no alerts found.&quot;</span>  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> data[<span class="string">&quot;features&quot;</span>]:  </span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;No active alerts for this state.&quot;</span>  </span><br><span class="line">  </span><br><span class="line">    alerts = [format_alert(feature) <span class="keyword">for</span> feature <span class="keyword">in</span> data[<span class="string">&quot;features&quot;</span>]]  </span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;\n---\n&quot;</span>.join(alerts)  </span><br><span class="line">  </span><br><span class="line"><span class="meta">@mcp.tool()  </span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">get_forecast</span>(<span class="params">latitude: <span class="built_in">float</span>, longitude: <span class="built_in">float</span></span>) -&gt; <span class="built_in">str</span>:  </span><br><span class="line">    <span class="string">&quot;&quot;&quot;Get weather forecast for a location.  </span></span><br><span class="line"><span class="string">    Args:        </span></span><br><span class="line"><span class="string">    latitude: Latitude of the location        </span></span><br><span class="line"><span class="string">    longitude: Longitude of the location    </span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span>    </span><br><span class="line">    <span class="comment"># First get the forecast grid endpoint  </span></span><br><span class="line">    points_url = <span class="string">f&quot;<span class="subst">&#123;NWS_API_BASE&#125;</span>/points/<span class="subst">&#123;latitude&#125;</span>,<span class="subst">&#123;longitude&#125;</span>&quot;</span>  </span><br><span class="line">    points_data = <span class="keyword">await</span> make_nws_request(points_url)  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> points_data:  </span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Unable to fetch forecast data for this location.&quot;</span>  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># Get the forecast URL from the points response  </span></span><br><span class="line">    forecast_url = points_data[<span class="string">&quot;properties&quot;</span>][<span class="string">&quot;forecast&quot;</span>]  </span><br><span class="line">    forecast_data = <span class="keyword">await</span> make_nws_request(forecast_url)  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> forecast_data:  </span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Unable to fetch detailed forecast.&quot;</span>  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># Format the periods into a readable forecast  </span></span><br><span class="line">    periods = forecast_data[<span class="string">&quot;properties&quot;</span>][<span class="string">&quot;periods&quot;</span>]  </span><br><span class="line">    forecasts = []  </span><br><span class="line">    <span class="keyword">for</span> period <span class="keyword">in</span> periods[:<span class="number">5</span>]:  <span class="comment"># Only show next 5 periods  </span></span><br><span class="line">        forecast = <span class="string">f&quot;&quot;&quot;  </span></span><br><span class="line"><span class="string"><span class="subst">&#123;period[<span class="string">&#x27;name&#x27;</span>]&#125;</span>:  </span></span><br><span class="line"><span class="string">Temperature: <span class="subst">&#123;period[<span class="string">&#x27;temperature&#x27;</span>]&#125;</span>Â°<span class="subst">&#123;period[<span class="string">&#x27;temperatureUnit&#x27;</span>]&#125;</span>  </span></span><br><span class="line"><span class="string">Wind: <span class="subst">&#123;period[<span class="string">&#x27;windSpeed&#x27;</span>]&#125;</span> <span class="subst">&#123;period[<span class="string">&#x27;windDirection&#x27;</span>]&#125;</span>  </span></span><br><span class="line"><span class="string">Forecast: <span class="subst">&#123;period[<span class="string">&#x27;detailedForecast&#x27;</span>]&#125;</span>  </span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span>  </span><br><span class="line">        forecasts.append(forecast)  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;\n---\n&quot;</span>.join(forecasts)  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:  </span><br><span class="line">    <span class="comment"># Initialize and run the server  </span></span><br><span class="line">    mcp.run(transport=<span class="string">&#x27;stdio&#x27;</span>)</span><br></pre></td></tr></table></figure><p>å¦‚æœä»£ç é‡Œæç¤ºä¾èµ–é”™è¯¯ï¼Œå®‰è£…å¯¹åº”çš„åŒ…å°±å¥½ã€‚</p><h4 id="4-è¿è¡ŒæœåŠ¡"><a class="markdownIt-Anchor" href="#4-è¿è¡ŒæœåŠ¡"></a> 4. è¿è¡ŒæœåŠ¡</h4><p>æ‰“å¼€ <strong>Claude for Desktop</strong> , ç‚¹å‡»å·¦ä¸Šè§’èœå• â€”â€” File â€”â€” Settings â€”â€” Developer</p><p>ç‚¹å‡» <code>Edit Config</code> ï¼Œå°±ä¼šåœ¨ <code>C:\Users\windows\AppData\Roaming\Claude</code> ç›®å½•ä¸‹è‡ªåŠ¨åˆ›å»º <code>claude_desktop_config.json</code> æ–‡ä»¶ã€‚</p><p>æ‰“å¼€ <code>claude_desktop_config.json</code> , æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;mcpServers&quot;: &#123;</span><br><span class="line">        &quot;weather&quot;: &#123;</span><br><span class="line">            &quot;command&quot;: &quot;uv&quot;,</span><br><span class="line">            &quot;args&quot;: [</span><br><span class="line">                &quot;--directory&quot;,</span><br><span class="line">                &quot;T:\\PythonProject\\weather&quot;,</span><br><span class="line">                &quot;run&quot;,</span><br><span class="line">                &quot;weather.py&quot;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­è·¯å¾„ä¸ºåœ¨ä¸Šä¸€æ­¥åˆ›å»ºçš„<code>weather</code>ç›®å½•, ä½¿ç”¨<strong>ç»å¯¹è·¯å¾„</strong>ã€‚</p><p>è¿™ä¼šå‘Šè¯‰ Claude for Desktop ï¼Œ</p><ul><li>æˆ‘ä»¬çš„æœåŠ¡åå« <code>weather</code> ,</li><li>é€šè¿‡ <code>uv --directory T:\\PythonProject\\weather run weather</code> æ¥å¯åŠ¨æœåŠ¡ã€‚</li></ul><p>ä¿å­˜æ–‡ä»¶ã€‚</p><h4 id="5-åœ¨claudeä¸­ä½¿ç”¨æœåŠ¡"><a class="markdownIt-Anchor" href="#5-åœ¨claudeä¸­ä½¿ç”¨æœåŠ¡"></a> 5. åœ¨Claudeä¸­ä½¿ç”¨æœåŠ¡</h4><p>æ‰“å¼€<strong>ä»»åŠ¡ç®¡ç†å™¨</strong>ï¼Œå°† Claude <strong>ç»“æŸä»»åŠ¡</strong>ï¼Œå½»åº•å…³æ‰ã€‚<br />é‡æ–°æ‰“å¼€ <strong>Claude for Desktop</strong> ã€‚</p><p>å¦‚æœåœ¨Claudeçš„å¯¹è¯æ¡†ä¸‹çœ‹åˆ°äº†ä¸€æŠŠ<strong>é”¤å­</strong>ï¼Œè¯´æ˜æˆ‘ä»¬çš„MCPæœåŠ¡é…ç½®æˆåŠŸäº†ã€‚<br /><img src="976cbb65e82445e1a61455eb95e302d4.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>ç‚¹å‡»é”¤å­èƒ½çœ‹åˆ°ï¼š<br /><img src="e88c6a9cb52740748f24928d7c953eec.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>åœ¨è®¾ç½®é¡µæ˜¾ç¤ºå¦‚ä¸‹ï¼š<br /><img src="a2e3751fb58f44a8b63d1b20f2d72ad5.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p><strong>ä¸‹é¢æµ‹è¯•æœåŠ¡ï¼š</strong></p><p>åœ¨å¯¹è¯æ¡†è¾“å…¥ï¼š<em>whatâ€™s the weather in NY</em></p><p><img src="1f1feafe82544ca3a0435b5b4a93a252.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>æœåŠ¡é…ç½®æˆåŠŸå•¦ï¼</p><h3 id="mcp-client"><a class="markdownIt-Anchor" href="#mcp-client"></a> MCP Client</h3><blockquote><p>è¦ä½¿ç”¨Claude API, éœ€è¦å……å€¼è´­ä¹°credits<br />å¦åˆ™è¯·æ±‚ä¼šæŠ¥Error: Error code: 403 - {â€˜errorâ€™: {â€˜typeâ€™: â€˜forbiddenâ€™, â€˜messageâ€™: â€˜Request not allowedâ€™}}</p></blockquote><h4 id="1-åˆ›å»ºå’Œè®¾ç½®é¡¹ç›®"><a class="markdownIt-Anchor" href="#1-åˆ›å»ºå’Œè®¾ç½®é¡¹ç›®"></a> 1. åˆ›å»ºå’Œè®¾ç½®é¡¹ç›®</h4><p>å‰æœŸçš„æ­¥éª¤ä¸ä¸Šæ–‡ä»‹ç»çš„ä¸€è‡´ï¼Œå…ˆå†³æ¡ä»¶å’Œuvçš„å®‰è£…çœ‹ <strong>MCP Server</strong> éƒ¨åˆ†ã€‚<br />æ‰“å¼€Powershell , cd åˆ°pythoné¡¹ç›®çš„ç›®å½•ä¸‹ï¼Œä¾æ¬¡è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Create project directory</span></span><br><span class="line">uv init mcp-client</span><br><span class="line"><span class="built_in">cd</span> mcp-client</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create virtual environment</span></span><br><span class="line">uv venv</span><br><span class="line"></span><br><span class="line"><span class="comment"># Activate virtual environment</span></span><br><span class="line"><span class="comment"># On Windows:</span></span><br><span class="line">.venv\Scripts\activate</span><br><span class="line"><span class="comment"># On Unix or MacOS:</span></span><br><span class="line"><span class="built_in">source</span> .venv/bin/activate</span><br><span class="line"></span><br><span class="line"><span class="comment"># Install required packages</span></span><br><span class="line">uv add mcp anthropic python-dotenv</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create our main file</span></span><br><span class="line">new-item client.py</span><br></pre></td></tr></table></figure><h4 id="2-é…ç½®api_key"><a class="markdownIt-Anchor" href="#2-é…ç½®api_key"></a> 2. é…ç½®API_KEY</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new-item .<span class="built_in">env</span></span><br></pre></td></tr></table></figure><p>æ‰“å¼€<code>.env</code>æ–‡ä»¶ï¼Œå¤åˆ¶ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ANTHROPIC_API_KEY=&lt;your key here&gt;</span><br></pre></td></tr></table></figure><p>åœ¨<a href="https://console.anthropic.com/settings/keys">Claudeæ§åˆ¶å°</a>åˆ›å»ºKEYï¼ˆéœ€å……å€¼æ‰èƒ½ç”¨ï¼‰ï¼Œå°†API Keyå¤åˆ¶åˆ°<code>.env</code> ï¼ˆç¡®ä¿keyçš„å®‰å…¨ï¼Œä¸è¦åˆ†äº«å‡ºå»ï¼ï¼‰</p><p>å°†<code>.env</code>æ–‡ä»¶æ·»åŠ åˆ°.gitignore , åœ¨ powershell è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;.env&quot;</span> &gt;&gt; .gitignore</span><br></pre></td></tr></table></figure><h4 id="3-æ·»åŠ ä»£ç -2"><a class="markdownIt-Anchor" href="#3-æ·»åŠ ä»£ç -2"></a> 3. æ·»åŠ ä»£ç </h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio  </span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Optional</span>  </span><br><span class="line"><span class="keyword">from</span> contextlib <span class="keyword">import</span> AsyncExitStack  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">from</span> mcp <span class="keyword">import</span> ClientSession, StdioServerParameters  </span><br><span class="line"><span class="keyword">from</span> mcp.client.stdio <span class="keyword">import</span> stdio_client  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">from</span> anthropic <span class="keyword">import</span> Anthropic  </span><br><span class="line"><span class="keyword">from</span> dotenv <span class="keyword">import</span> load_dotenv  </span><br><span class="line">  </span><br><span class="line">load_dotenv()  <span class="comment"># load environment variables from .env  </span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MCPClient</span>:  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):  </span><br><span class="line">        <span class="comment"># Initialize session and client objects  </span></span><br><span class="line">        self.session: <span class="type">Optional</span>[ClientSession] = <span class="literal">None</span>  </span><br><span class="line">        self.exit_stack = AsyncExitStack()  </span><br><span class="line">        self.anthropic = Anthropic()  </span><br><span class="line">    <span class="comment"># methods will go here  </span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">connect_to_server</span>(<span class="params">self, server_script_path: <span class="built_in">str</span></span>):  </span><br><span class="line">        <span class="string">&quot;&quot;&quot;Connect to an MCP server  </span></span><br><span class="line"><span class="string">        Args:</span></span><br><span class="line"><span class="string">        server_script_path: Path to the server script (.py or .js)</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span>        </span><br><span class="line">        is_python = server_script_path.endswith(<span class="string">&#x27;.py&#x27;</span>)  </span><br><span class="line">        is_js = server_script_path.endswith(<span class="string">&#x27;.js&#x27;</span>)  </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> (is_python <span class="keyword">or</span> is_js):  </span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">&quot;Server script must be a .py or .js file&quot;</span>)  </span><br><span class="line">  </span><br><span class="line">        command = <span class="string">&quot;python&quot;</span> <span class="keyword">if</span> is_python <span class="keyword">else</span> <span class="string">&quot;node&quot;</span>  </span><br><span class="line">        server_params = StdioServerParameters(  </span><br><span class="line">            command=command,  </span><br><span class="line">            args=[server_script_path],  </span><br><span class="line">            env=<span class="literal">None</span>  </span><br><span class="line">        )  </span><br><span class="line">  </span><br><span class="line">        stdio_transport = <span class="keyword">await</span> self.exit_stack.enter_async_context(stdio_client(server_params))  </span><br><span class="line">        self.stdio, self.write = stdio_transport  </span><br><span class="line">        self.session = <span class="keyword">await</span> self.exit_stack.enter_async_context(ClientSession(self.stdio, self.write))  </span><br><span class="line">  </span><br><span class="line">        <span class="keyword">await</span> self.session.initialize()  </span><br><span class="line">  </span><br><span class="line">        <span class="comment"># List available tools  </span></span><br><span class="line">        response = <span class="keyword">await</span> self.session.list_tools()  </span><br><span class="line">        tools = response.tools  </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;\nConnected to server with tools:&quot;</span>, [tool.name <span class="keyword">for</span> tool <span class="keyword">in</span> tools])  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">process_query</span>(<span class="params">self, query: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:  </span><br><span class="line">        <span class="string">&quot;&quot;&quot;Process a query using Claude and available tools&quot;&quot;&quot;</span>  </span><br><span class="line">        messages = [  </span><br><span class="line">            &#123;  </span><br><span class="line">                <span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>,  </span><br><span class="line">                <span class="string">&quot;content&quot;</span>: query  </span><br><span class="line">            &#125;  </span><br><span class="line">        ]  </span><br><span class="line">  </span><br><span class="line">        response = <span class="keyword">await</span> self.session.list_tools()  </span><br><span class="line">        available_tools = [&#123;  </span><br><span class="line">            <span class="string">&quot;name&quot;</span>: tool.name,  </span><br><span class="line">            <span class="string">&quot;description&quot;</span>: tool.description,  </span><br><span class="line">            <span class="string">&quot;input_schema&quot;</span>: tool.inputSchema  </span><br><span class="line">        &#125; <span class="keyword">for</span> tool <span class="keyword">in</span> response.tools]  </span><br><span class="line">  </span><br><span class="line">        <span class="comment"># Initial Claude API call  </span></span><br><span class="line">        response = self.anthropic.messages.create(  </span><br><span class="line">            model=<span class="string">&quot;claude-3-5-sonnet-20241022&quot;</span>,  </span><br><span class="line">            max_tokens=<span class="number">1000</span>,  </span><br><span class="line">            messages=messages,  </span><br><span class="line">            tools=available_tools  </span><br><span class="line">        )  </span><br><span class="line">  </span><br><span class="line">        <span class="comment"># Process response and handle tool calls  </span></span><br><span class="line">        tool_results = []  </span><br><span class="line">        final_text = []  </span><br><span class="line">  </span><br><span class="line">        assistant_message_content = []  </span><br><span class="line">        <span class="keyword">for</span> content <span class="keyword">in</span> response.content:  </span><br><span class="line">            <span class="keyword">if</span> content.<span class="built_in">type</span> == <span class="string">&#x27;text&#x27;</span>:  </span><br><span class="line">                final_text.append(content.text)  </span><br><span class="line">                assistant_message_content.append(content)  </span><br><span class="line">            <span class="keyword">elif</span> content.<span class="built_in">type</span> == <span class="string">&#x27;tool_use&#x27;</span>:  </span><br><span class="line">                tool_name = content.name  </span><br><span class="line">                tool_args = content.<span class="built_in">input</span>  </span><br><span class="line">  </span><br><span class="line">                <span class="comment"># Execute tool call  </span></span><br><span class="line">                result = <span class="keyword">await</span> self.session.call_tool(tool_name, tool_args)  </span><br><span class="line">                tool_results.append(&#123;<span class="string">&quot;call&quot;</span>: tool_name, <span class="string">&quot;result&quot;</span>: result&#125;)  </span><br><span class="line">                final_text.append(<span class="string">f&quot;[Calling tool <span class="subst">&#123;tool_name&#125;</span> with args <span class="subst">&#123;tool_args&#125;</span>]&quot;</span>)  </span><br><span class="line">  </span><br><span class="line">                assistant_message_content.append(content)  </span><br><span class="line">                messages.append(&#123;  </span><br><span class="line">                    <span class="string">&quot;role&quot;</span>: <span class="string">&quot;assistant&quot;</span>,  </span><br><span class="line">                    <span class="string">&quot;content&quot;</span>: assistant_message_content  </span><br><span class="line">                &#125;)  </span><br><span class="line">                messages.append(&#123;  </span><br><span class="line">                    <span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>,  </span><br><span class="line">                    <span class="string">&quot;content&quot;</span>: [  </span><br><span class="line">                        &#123;  </span><br><span class="line">                            <span class="string">&quot;type&quot;</span>: <span class="string">&quot;tool_result&quot;</span>,  </span><br><span class="line">                            <span class="string">&quot;tool_use_id&quot;</span>: content.<span class="built_in">id</span>,  </span><br><span class="line">                            <span class="string">&quot;content&quot;</span>: result.content  </span><br><span class="line">                        &#125;  </span><br><span class="line">                    ]  </span><br><span class="line">                &#125;)  </span><br><span class="line">  </span><br><span class="line">                <span class="comment"># Get next response from Claude  </span></span><br><span class="line">                response = self.anthropic.messages.create(  </span><br><span class="line">                    model=<span class="string">&quot;claude-3-5-sonnet-20241022&quot;</span>,  </span><br><span class="line">                    max_tokens=<span class="number">1000</span>,  </span><br><span class="line">                    messages=messages,  </span><br><span class="line">                    tools=available_tools  </span><br><span class="line">                )  </span><br><span class="line">  </span><br><span class="line">                final_text.append(response.content[<span class="number">0</span>].text)  </span><br><span class="line">  </span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;\n&quot;</span>.join(final_text)  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">chat_loop</span>(<span class="params">self</span>):  </span><br><span class="line">        <span class="string">&quot;&quot;&quot;Run an interactive chat loop&quot;&quot;&quot;</span>  </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;\nMCP Client Started!&quot;</span>)  </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Type your queries or &#x27;quit&#x27; to exit.&quot;</span>)  </span><br><span class="line">  </span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:  </span><br><span class="line">            <span class="keyword">try</span>:  </span><br><span class="line">                query = <span class="built_in">input</span>(<span class="string">&quot;\nQuery: &quot;</span>).strip()  </span><br><span class="line">  </span><br><span class="line">                <span class="keyword">if</span> query.lower() == <span class="string">&#x27;quit&#x27;</span>:  </span><br><span class="line">                    <span class="keyword">break</span>  </span><br><span class="line">  </span><br><span class="line">                response = <span class="keyword">await</span> self.process_query(query)  </span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;\n&quot;</span> + response)  </span><br><span class="line">  </span><br><span class="line">            <span class="keyword">except</span> Exception <span class="keyword">as</span> e:  </span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;\nError: <span class="subst">&#123;<span class="built_in">str</span>(e)&#125;</span>&quot;</span>)  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">cleanup</span>(<span class="params">self</span>):  </span><br><span class="line">        <span class="string">&quot;&quot;&quot;Clean up resources&quot;&quot;&quot;</span>  </span><br><span class="line">        <span class="keyword">await</span> self.exit_stack.aclose()  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">main</span>():  </span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(sys.argv) &lt; <span class="number">2</span>:  </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Usage: python client.py &lt;path_to_server_script&gt;&quot;</span>)  </span><br><span class="line">        sys.exit(<span class="number">1</span>)  </span><br><span class="line">  </span><br><span class="line">    client = MCPClient()  </span><br><span class="line">    <span class="keyword">try</span>:  </span><br><span class="line">        <span class="keyword">await</span> client.connect_to_server(sys.argv[<span class="number">1</span>])  </span><br><span class="line">        <span class="keyword">await</span> client.chat_loop()  </span><br><span class="line">    <span class="keyword">finally</span>:  </span><br><span class="line">        <span class="keyword">await</span> client.cleanup()  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:  </span><br><span class="line">    <span class="keyword">import</span> sys  </span><br><span class="line">    asyncio.run(main())</span><br></pre></td></tr></table></figure><p>å¦‚æœå¼€å¤´anthropicæŠ¥é”™ï¼Œå®‰è£…anthropicå°±å¥½ã€‚</p><h4 id="4-è¿è¡Œclient"><a class="markdownIt-Anchor" href="#4-è¿è¡Œclient"></a> 4. è¿è¡ŒClient</h4><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ä¸Šæ–‡åˆ›å»ºçš„mcpæœåŠ¡<strong>weather</strong><br />åœ¨powershellè¾“å…¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv run client.py T:/PythonProject/weather/weather.py</span><br></pre></td></tr></table></figure><p><img src="4587ca98f2314873bc854d9b7b6669e2.png" alt="" /></p><p>æ¥ç€ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ Query è¾“å…¥é—®é¢˜äº†ã€‚</p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªMCPæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ç¼–å†™å®Œæˆã€‚</p><hr />]]></content>
      
      
      <categories>
          
          <category> æ™ºèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MCP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vs code + cline è”æ‰‹ MCP-serverï¼Œè§£é”å¤§æ¨¡å‹ä¸‡ç‰©äº’è”æ–°ç©æ³•ï¼</title>
      <link href="/2025/03/26/MCP/vs%20code%20+%20cline%20%E8%81%94%E6%89%8B%20MCP-server%EF%BC%8C%E8%A7%A3%E9%94%81%E5%A4%A7%E6%A8%A1%E5%9E%8B%E4%B8%87%E7%89%A9%E4%BA%92%E8%81%94%E6%96%B0%E7%8E%A9%E6%B3%95/"/>
      <url>/2025/03/26/MCP/vs%20code%20+%20cline%20%E8%81%94%E6%89%8B%20MCP-server%EF%BC%8C%E8%A7%A3%E9%94%81%E5%A4%A7%E6%A8%A1%E5%9E%8B%E4%B8%87%E7%89%A9%E4%BA%92%E8%81%94%E6%96%B0%E7%8E%A9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p><strong>1.å‰è¨€</strong></p><p>ä»€ä¹ˆæ˜¯MCP-serverï¼ŸMCP-serverï¼ˆæ¨¡å‹ä¸Šä¸‹æ–‡åè®®æœåŠ¡å™¨ï¼‰æ˜¯ä¸€ç§éµå¾ª <strong>Model Context Protocol (MCP)</strong> çš„æ ‡å‡†åŒ–æœåŠ¡ï¼Œæ—¨åœ¨ä¸ºå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰æä¾›å®‰å…¨è®¿é—®æœ¬åœ°æˆ–è¿œç¨‹èµ„æºçš„èƒ½åŠ›ï¼Œä»è€Œæ‰©å±•AIçš„åŠŸèƒ½ã€‚ä»¥ä¸‹æ˜¯å…¶æ ¸å¿ƒè¦ç‚¹ï¼š</p><p><strong>1. åŸºæœ¬å®šä¹‰ä¸æ¶æ„</strong></p><ul><li><strong>åè®®èƒŒæ™¯</strong>ï¼šMCPç”±Anthropicæ¨å‡ºï¼Œæ˜¯ä¸€ç§å¼€æ”¾åè®®ï¼Œç”¨äºç»Ÿä¸€LLMä¸å¤–éƒ¨æ•°æ®æºã€å·¥å…·ä¹‹é—´çš„é€šä¿¡ï¼Œè§£å†³æ•°æ®åˆ†æ•£å’Œé›†æˆå¤æ‚æ€§çš„é—®é¢˜ã€‚</li><li>æ¶æ„è®¾è®¡é‡‡ç”¨å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¨¡å‹ï¼ŒåŒ…å«ä»¥ä¸‹ç»„ä»¶ï¼š</li><li><strong>MCP Host</strong>ï¼šè¿è¡ŒAIåŠ©æ‰‹ï¼ˆå¦‚Claude Desktopã€IDEå·¥å…·ï¼‰çš„å¹³å°ï¼Œè´Ÿè´£ç”¨æˆ·äº¤äº’ã€‚</li><li><strong>MCP Client</strong>ï¼šåœ¨Hostå†…ä¸Serverå»ºç«‹ä¸€å¯¹ä¸€è¿æ¥ï¼Œä½œä¸ºLLMä¸Serverçš„æ¡¥æ¢ã€‚</li><li><strong>MCP Server</strong>ï¼šè½»é‡çº§ç¨‹åºï¼Œé€šè¿‡æ ‡å‡†åŒ–åè®®æä¾›èµ„æºã€å·¥å…·å’Œæç¤ºä¿¡æ¯ï¼Œè¿æ¥æœ¬åœ°æˆ–è¿œç¨‹èµ„æºï¼ˆå¦‚æ•°æ®åº“ã€APIã€äº‘æœåŠ¡ï¼‰ã€‚</li></ul><p><strong>2.</strong> <strong>æ ¸å¿ƒåŠŸèƒ½</strong></p><ul><li><strong>èµ„æºè®¿é—®</strong>ï¼šå…è®¸LLMè¯»å–æœ¬åœ°æ–‡ä»¶ã€æ•°æ®åº“ï¼ˆå¦‚SQLiteã€iMessageï¼‰æˆ–è¿œç¨‹APIï¼ˆå¦‚GitHubã€Google Driveï¼‰ã€‚</li><li><strong>å·¥å…·è°ƒç”¨</strong>ï¼šæä¾›é¢„å®šä¹‰å·¥å…·ï¼ˆå¦‚æ‰§è¡Œè„šæœ¬ã€æµè§ˆå™¨è‡ªåŠ¨åŒ–ã€é‡‘èæ•°æ®æŸ¥è¯¢ï¼‰ï¼Œç±»æ¯”äºGPTsçš„ActionåŠŸèƒ½ã€‚</li><li><strong>æç¤ºç®¡ç†</strong>ï¼šé€šè¿‡æ ‡å‡†åŒ–çš„æç¤ºæ¨¡æ¿æŒ‡å¯¼LLMå®Œæˆä»»åŠ¡ï¼Œä¾‹å¦‚ç”Ÿæˆä»£ç æˆ–åˆ†ææ•°æ®ã€‚</li></ul><p><strong>3.</strong> <strong>å·¥ä½œæµç¨‹</strong></p><ol><li><strong>åˆå§‹åŒ–è¿æ¥</strong>ï¼šClientå‘Serverå‘é€è¯·æ±‚ï¼Œå»ºç«‹é€šä¿¡é€šé“ã€‚</li><li><strong>èƒ½åŠ›åå•†</strong>ï¼šServerè¿”å›æ”¯æŒçš„å·¥å…·å’Œèµ„æºåˆ—è¡¨ã€‚</li><li><strong>è¯·æ±‚å¤„ç†</strong>ï¼šClientå‘é€å…·ä½“æ“ä½œè¯·æ±‚ï¼ˆå¦‚æŸ¥è¯¢æ•°æ®åº“ï¼‰ï¼ŒServeræ‰§è¡Œåè¿”å›ç»“æœã€‚</li><li><strong>å®‰å…¨æ§åˆ¶</strong>ï¼šéœ€ç”¨æˆ·æˆæƒæ•æ„Ÿæ“ä½œï¼Œç¡®ä¿æ•°æ®éš”ç¦»å’Œæƒé™ç®¡ç†ã€‚</li></ol><p><strong>4. å…¸å‹åº”ç”¨åœºæ™¯</strong></p><ul><li><strong>æœ¬åœ°èµ„æºé›†æˆ</strong>ï¼šè®¿é—®æ–‡ä»¶ç³»ç»Ÿã€iMessageæ•°æ®åº“ã€æ‰§è¡Œæœ¬åœ°å‘½ä»¤ã€‚</li><li><strong>äº‘æœåŠ¡äº¤äº’</strong>ï¼šé›†æˆCloudflare Workersã€GitHub APIã€Salesforceç­‰å¹³å°ã€‚</li><li><strong>è‡ªåŠ¨åŒ–ä»»åŠ¡</strong>ï¼šæµè§ˆå™¨è‡ªåŠ¨åŒ–ï¼ˆé€šè¿‡Playwrightï¼‰ã€æ•°æ®åˆ†æã€å®æ—¶ç›‘æ§</li></ul><p><strong>5.ä¸ç±»ä¼¼æŠ€æœ¯çš„å¯¹æ¯”</strong></p><ul><li>ç›¸è¾ƒäºä¼ ç»ŸAPIé›†æˆï¼ŒMCPé€šè¿‡<strong>æ ‡å‡†åŒ–åè®®</strong>å‡å°‘å®šåˆ¶å¼€å‘ï¼ŒåŒæ—¶é™åˆ¶LLMçš„å¯è®¿é—®èŒƒå›´ï¼Œå¢å¼ºå¯æ§æ€§ã€‚</li><li>ä¸ChatGPTçš„GPTs Actionç±»ä¼¼ï¼Œä½†MCPæ›´å¼ºè°ƒå¼€æ”¾æ€§å’Œè·¨å¹³å°å¤ç”¨æ€§</li></ul><p>MCP-serverä½œä¸ºè¿æ¥AIæ¨¡å‹ä¸çœŸå®ä¸–ç•Œçš„æ¡¥æ¢ï¼Œé€šè¿‡ç»Ÿä¸€åè®®å’Œå®‰å…¨è®¾è®¡ï¼Œä½¿LLMèƒ½å¤Ÿçµæ´»ã€å®‰å…¨åœ°è°ƒç”¨å¤–éƒ¨èƒ½åŠ›ï¼Œæ¨åŠ¨AIåº”ç”¨å‘æ›´æ·±å±‚æ¬¡çš„å®ç”¨åŒ–å‘å±•ã€‚å¼€å‘è€…å¯é€šè¿‡ä¸°å¯Œçš„å·¥å…·é“¾å¿«é€Ÿæ„å»ºè‡ªå®šä¹‰æœåŠ¡ï¼Œè€Œç”¨æˆ·åˆ™èƒ½é€šè¿‡æ ‡å‡†åŒ–æ¥å£äº«å—æ›´æ™ºèƒ½çš„äº¤äº’ä½“éªŒã€‚</p><p>ç›®å‰å·²ç»æ”¯æŒçš„MCP-clients æœ‰ä¸‹é¢è¿™äº›å·¥å…·ç»„ä»¶</p><p><img src="6f6a300187b7250104db049e27fdc5b61527002698.png@1192w.webp" alt="" /></p><p>ä»Šå¤©å°±å¸¦å¤§å®¶ä½¿ç”¨vs code+cline å®ç°MCP-server æ¥è®²è§£ä¸€ä¸‹å¦‚ä½•å®ç°å¤§æ¨¡å‹+MCP å®ç°ä¸‡ç‰©äº’è”ã€‚</p><p><strong>2.å·¥å…·ä»‹ç»</strong></p><p>æœ¬åœ°æ¼”ç¤ºæˆ‘ä»¬ç”¨äº†å¦‚ä¸‹å‡ ä¸ªå·¥å…·</p><p><strong>VSCode</strong></p><p>å¾®è½¯å…è´¹çš„ä»£ç å¼€å‘å·¥å…·ï¼Œä¸‹è½½åœ°å€<a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a></p><p><img src="e473f0c103ef9f3bf72d83662f4483941527002698.png@1192w.webp" alt="" /></p><p>å»ºè®®ä½¿ç”¨æœ€æ–°çš„ç‰ˆæœ¬1.97.2</p><p><img src="106b548f921f710151913022b6dce1d51527002698.png@760w_604h.webp" alt="" /></p><p><strong>cline</strong></p><p>ä¸€æ¬¾é›†æˆäº <strong>VS Code</strong> çš„ <strong>å¼€æºAIç¼–ç¨‹åŠ©æ‰‹</strong>ï¼Œé€šè¿‡å¤§æ¨¡å‹ï¼ˆå¦‚Claude 3.5ã€GPTï¼‰ç”Ÿæˆä»£ç ï¼Œè‡ªåŠ¨ä¿®å¤è¯­æ³•å’Œé€»è¾‘é”™è¯¯ã€‚</p><p>å¯ä»¥åœ¨ <strong>VS Code</strong> æ’ä»¶å¸‚åœºä¸Šå®‰è£…ï¼Œç›®å‰æœ€æ–°ç‰ˆæœ¬3.5.0</p><p><img src="adfdb4f776aeb0d4903e3cf309cd3bf91527002698.png@1192w.webp" alt="" /></p><p><strong>Navicat Premium</strong></p><p>Navicat Premium æ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„æ•°æ®åº“ç®¡ç†å·¥å…·ã€‚ç›®å‰è¿™ä¸ªè½¯ä»¶æ˜¯æ”¶è´¹çš„ï¼Œç›®å‰å¯ä»¥æœ‰14å¤©è¯•ç”¨æœŸã€‚å…³äºè¿™ä¸ªå·¥å…·æˆ‘ä»¬è¿™é‡Œå°±ä¸è¯¦ç»†å±•å¼€äº†ã€‚</p><p><strong>nodejs</strong></p><p>Node.js æ˜¯ä¸€ä¸ªåŸºäº Chrome V8 JavaScript å¼•æ“æ„å»ºçš„å¼€æºã€è·¨å¹³å°çš„ JavaScript è¿è¡Œç¯å¢ƒï¼Œå®ƒä½¿ JavaScript å¯ä»¥åœ¨æœåŠ¡å™¨ç«¯è¿è¡Œï¼Œæå¤§åœ°æ‹“å±•äº† JavaScript çš„åº”ç”¨åœºæ™¯ã€‚å¦‚æœä½ ç”µè„‘ä¸Šæ²¡æœ‰å®‰è£…è¿™ä¸ªnodejs éœ€è¦æŠŠè¿™ä¸ªè½¯ä»¶å®‰è£…ã€‚ä¸‹è½½åœ°å€<a href="https://nodejs.org/zh-cn/download">https://nodejs.org/zh-cn/download</a></p><p><img src="0d41fded930c7d0660983c848981aabf1527002698.png@1192w.webp" alt="" /></p><p>ä¸‹è½½ä¸Šé¢windows ç‰ˆæœ¬ï¼Œå®‰è£…å³å¯ï¼Œè¿™é‡Œå°±ä¸è¯¦ç»†å±•å¼€ã€‚ å®‰è£…å¥½åå‚è€ƒä¸Šé¢çš„é¢å‘½ä»¤ä¿è¯ä½ å‘½ä»¤è¡Œèƒ½æ˜¾ç¤ºnode-v Â npm -v ç‰ˆæœ¬æ˜¾ç¤ºæˆåŠŸ</p><p><img src="4c04b58fc369ea96232a0c2cd8ceb7bd1527002698.png@1192w.webp" alt="" /></p><p><img src="d4f73bac164824f828c9fecd0ed376781527002698.png@602w_254h.webp" alt="" /></p><p><strong>3.MCP-server å®‰è£…å’Œä½¿ç”¨</strong></p><p>ç›®å‰å·²ç»æœ‰å¥½å‡ ä¸ªç½‘ç«™æ”¶é›†æ•´ç†äº†MCP-serverï¼Œç»™å¤§å®¶ä»‹ç»ä¸€ä¸‹è¿™ä¸ªç½‘ç«™<a href="https://www.pulsemcp.com/">https://www.pulsemcp.com/</a> ç›®å‰è¿™ä¸ªç½‘ç«™å·²ç»æ”¶é›†åˆ°1300MCP-serverï¼Œè€Œä¸”æ¯å¤©éƒ½æœ‰å¢åŠ ã€‚</p><p><img src="f7b8e455a6eeee9edc58e8d7e8b59b7f1527002698.png@1192w.webp" alt="" /></p><p>è¿™ä¸ªç½‘ç«™ä¸Šæœ‰å¾ˆå¤šMCP-serverï¼Œæ¯”å¦‚æ’åé å‰çš„ Filesystem å®ƒæä¾›é€šè¿‡å—æ§çš„APIè¯»å–ï¼Œç¼–å†™å’Œæ“çºµæœ¬åœ°æ–‡ä»¶ã€‚è¯´ç™½äº†å°±æ˜¯é€šè¿‡å¤§æ¨¡å‹å¯ä»¥æ“æ§æœ¬åœ°æ–‡æ¡£ã€‚</p><p>å¦å¤–è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„MCP-server è¿™é‡Œæˆ‘ä»¬å°±ä¸è¯¦ç»†å±•å¼€ï¼Œä¸‹é¢ç»™å¤§å®¶ä»‹ç»2ä¸ªMCP-server åœ¨clineä¸­ä½¿ç”¨å’Œå®‰è£…ã€‚</p><p><strong>1.sleep-mcp</strong></p><p>è¿™ä¸ªsleepåŠŸèƒ½éå¸¸ç®€å•å’Œä¸Šæ‰‹ï¼Œä¸»è¦åŠŸèƒ½æ˜¯å¤§æ¨¡å‹è°ƒç”¨è¿œç¨‹æ‰§è¡Œæ—¶é—´é•¿çš„æ—¶å€™å¯ä»¥è°ƒç”¨è¿™ä¸ªç»„ä»¶å®ç°sleep.</p><p>æˆ‘ä»¬æ‰“å¼€cline,é…ç½®å¥½æ¨¡å‹å‚å•†API key.ç›®å‰cline æä¾›å¦‚ä¸‹å‡ ä¸ªå‚å•†</p><p><img src="68e501a69675fd17b5ba1136da2bbcc71527002698.png@622w_720h.webp" alt="" /></p><p>è¿™é‡Œæˆ‘ä»¬é€‰æ‹©openrouterï¼Œä¸»è¦æ˜¯å› ä¸º openrouteræä¾›éƒ¨åˆ†å…è´¹å’Œæ”¶è´¹çš„æ¨¡å‹ã€‚è€Œä¸”å›½å†…ç½‘ç»œè®¿é—®å®ƒä¹Ÿæ²¡æœ‰é™åˆ¶ã€‚é€šè¿‡å®ƒå¯ä»¥ä½¿ç”¨å…è´¹çš„google gemini.</p><p>æˆ‘ä»¬çŸ¥é“google geminiæä¾›å…è´¹çš„gemini2 ç³»åˆ—æ¨¡å‹ï¼Œæ¨¡å‹èƒ½åŠ›éå¸¸å¼ºã€æ¨¡å‹ä¸Šä¸‹æ–‡åˆ†æˆå¤§è¾¾åˆ°1Mï¼Œå¦å¤–æœ€ä¸»è¦æ˜¯å…è´¹ã€‚</p><p>å¦‚æœå¤§å®¶æ²¡æœ‰<a href="https://openrouter.ai">https://openrouter.ai</a> Â å¯ä»¥å»ç½‘ç«™ä¸Šå¼€é€šæ³¨å†Œä¸€ä¸ªã€‚æˆ‘è®°å¾—å¥½åƒQQé‚®ç®±å°±å¯ä»¥æ³¨å†Œä¸€ä¸ªï¼Œç„¶åç”Ÿæˆå…è´¹çš„api key è¿™é‡Œå…³äºè¿™ä¸ªç½‘ç«™æ³¨å†Œ åˆ›å»ºapikeyå°±ä¸å¸¦å¤§å®¶å±•ç¤ºäº†ã€‚</p><p>é€‰å®šæ¨¡å‹å‚å•†ã€è¾“å…¥æ¨¡å‹keyï¼Œé€‰æ‹©å¥½æ¨¡å‹cline å°±å¯ä»¥ä½¿ç”¨äº†ã€‚</p><p><img src="b6fbebc9a3ce1a48159e19bd6acbad8f1527002698.png@1192w.webp" alt="" /></p><p>ç›®å‰cline Â åœ¨3.4.0ç‰ˆæœ¬ä¸Šçº¿äº†MCP-server æ’ä»¶å¸‚åœºã€‚ç‚¹å‡»â€œ+â€ å·æ—è¾¹æ’ä»¶å¸‚åœºæ‰“å¼€MCP-server æ’ä»¶å¸‚åœº</p><p><img src="8f32eb53139639d0289ee551ba3804161527002698.png@1192w.webp" alt="" /></p><p>è¿™é‡Œåˆ—ä¸¾äº†éå¸¸å¤šçš„æ’ä»¶å’Œåˆ†ç±»ï¼Œæœ‰æµè§ˆå™¨è‡ªåŠ¨åŒ–çš„ã€æ•°æ®åº“çš„ã€å¼€å‘å·¥å…·çš„</p><p><img src="37896de0f4f1c41bf283bc4826c40d2d1527002698.png@1192w.webp" alt="" /></p><p>å¤§å®¶æ ¹æ®è‡ªå·±çš„éœ€è¦å®‰è£…MCP-server . æˆ‘ä»¬ç»™å¤§å®¶å…ˆå®‰è£…ä¸€ä¸ªsleep-mcp</p><p>ç‚¹å‡»sleep Â install</p><p><img src="9722fa5a62ef2ece434e3004750a98431527002698.png@1192w.webp" alt="" /></p><p>cline ä¼šè°ƒç”¨å¤§æ¨¡å‹è‡ªåŠ¨ç»™ä½ å®‰è£…ã€‚</p><p><img src="282c68026152cfce6ee0cfb5a3de1e421527002698.png@1192w.webp" alt="" /></p><p>æ¨¡å‹ä¼šæç¤ºä½ æ˜¯å¦åˆ›å»ºç”Ÿæˆè¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œç‚¹å‡» run command</p><p><img src="9b55104949fb63786de16f88ae0d31ea1527002698.png@1192w.webp" alt="" /></p><p>æ¨¡å‹ä¼šæç¤ºä½ æ˜¯å¦é€šè¿‡git clone ä¸‹è½½è¿™ä¸ªä»£ç åˆ°C:\Users\Administrator\Documents\Cline\MCP\sleep-mcp æ¨¡å‹ä¸‹ã€‚æˆ‘ä»¬åŒæ ·ç‚¹å‡» run command</p><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯æœ‰çš„å°ä¼™ä¼´ç”µè„‘ä¸Šç½‘ç»œå¯èƒ½ä¼šå—åˆ°é™åˆ¶è®¿é—®<a href="https://github.com/Garoth/sleep-mcp.git">https://github.com/Garoth/sleep-mcp.git</a> Â è®¿é—®ä¸äº†ã€‚ å¦‚æœé‡åˆ°è¿™é—®é¢˜å¯ä»¥æ‰‹å·¥ä¸‹è½½æ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚</p><p><img src="da0bee1e8855da6fea99d2f0cf3490e81527002698.png@1192w.webp" alt="" /></p><p>å¤åˆ¶ä»£ç åˆ°</p><p><img src="a0a979154490e2a37338d85c10904baf1527002698.png@1192w.webp" alt="" /></p><p>å¦‚æœç½‘ç»œæ²¡æœ‰é—®é¢˜ ç‚¹å‡» Â run command æç¤ºä¸‹è½½çš„ç¨‹åºä½¿ç”¨npm install å‘½ä»¤å®‰è£…è¿™ä¸ªä»£ç </p><p><img src="c1b802d7ac1f90bec8fc948e26d674271527002698.png@1192w.webp" alt="" /></p><p><img src="849469138dc42520ccd009c7e8c282001527002698.png@1192w.webp" alt="" /></p><p>å®‰è£…å®Œæˆåï¼Œä¼šæç¤ºä½ æŠŠå®‰è£…è·¯å¾„å†™åˆ° cline_mcp_settings.json</p><p><img src="7c1512f4bb34adc4c444244bd85f234a1527002698.png@1192w.webp" alt="" /></p><p><img src="e8aa776c7c27b6776064b03754302e2c1527002698.png@1192w.webp" alt="" /></p><p>ç‚¹å‡»ä¿å­˜æŒ‰é’®å®Œæˆè®¾ç½®ã€‚è¿”å›æµ‹è¯•ç»“æœ è¿™æ ·æˆ‘ä»¬å°±ç¡®ä¿è¿™ä¸ªmcp server ç»„ä»¶å®‰è£…æˆåŠŸ</p><p><img src="d05299807aeb52e7853fdbab59ccd00a1527002698.png@1192w.webp" alt="" /></p><p><img src="9185c96872f5e4a3d8654ca163be86ce1527002698.png@1192w.webp" alt="" /></p><p>å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ install æŸ¥çœ‹åˆ°æ˜¾ç¤ºç»¿è‰²</p><p><img src="f54ee1a8428a53dbe838dbe80e0844b71527002698.png@1192w.webp" alt="" /></p><p><img src="fc8ccf887d4ee25c125d993c10b8bcbe1527002698.png@1192w.webp" alt="" /></p><p>è¿™æ ·å°±æŒ‰ç…§æˆåŠŸäº†ã€‚</p><p>é€šè¿‡ä¸Šè¿°æ–¹æ³•ï¼Œæˆ‘ä»¬æˆåŠŸå®Œæˆäº†ä¸€ä¸ªæœ€ç®€å•çš„ MCP Server çš„å®‰è£…ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸åŒçš„ MCP Server åœ¨å®‰è£…è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå­˜åœ¨ä¸€äº›å·®å¼‚ã€‚æ­¤å¤–ï¼Œè½¯ä»¶æ‰€ä¾èµ–çš„ç¬¬ä¸‰æ–¹è½¯ä»¶æ˜¯å¦å—åˆ°ç½‘ç»œç¯å¢ƒçš„é™åˆ¶ï¼Œä¹Ÿä¼šå¯¹ä¸åŒ MCP Server çš„å®‰è£…æ–¹æ³•äº§ç”Ÿå½±å“ï¼Œä»è€Œé€ æˆå®‰è£…ä¸Šçš„å·®å¼‚ã€‚å¤§å®¶å¯ä»¥ä¾æ®å®é™…æƒ…å†µè¿›è¡Œåˆ¤æ–­ã€‚</p><p><strong>2.mysql</strong></p><p>ç›®å‰ï¼Œé€šè¿‡ marketplace ä¸­çš„ MCP Server å¸‚åœºæ¥å®‰è£… cline ç›¸å…³ç»„ä»¶ç›¸å¯¹è¾ƒä¸ºç®€ä¾¿ï¼Œå€ŸåŠ©å¤§è¯­è¨€æ¨¡å‹å¯¹è¯å°±èƒ½å®Œæˆç»„ä»¶çš„å®‰è£…ã€‚ä¸è¿‡ï¼Œè¿™ä¸ªå¸‚åœºçš„æ›´æ–°å¯èƒ½ä¸å¤ªåŠæ—¶ã€‚åœ¨æˆ‘ä½¿ç”¨ MySQL çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°å¸‚åœºé‡Œå¹¶æ²¡æœ‰é’ˆå¯¹ MySQL çš„ MCP Serverã€‚ä½†åœ¨ <a href="https://www.pulsemcp.com/servers?q=mysql">https://www.pulsemcp.com/servers?q=mysql</a> è¿™ä¸ªç½‘ç«™ä¸Šæ˜¯å¯ä»¥æ‰¾åˆ°ç›¸å…³å†…å®¹çš„ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä¸ºå¤§å®¶ä»‹ç»å¦‚ä½•é€šè¿‡æ‰‹å·¥æ–¹å¼å°† MySQL MCP Server æ•´åˆåˆ° cline ä¸­ã€‚</p><p>é¦–é€‰æˆ‘ä»¬éœ€è¦åœ¨mcp server å¸‚åœºä¸Šæ‰¾åˆ°mysql mcp serverå¯¹äºå¼€æºé¡¹ç›®åœ°å€ï¼Œæœç´¢åˆ°åç‚¹å‡»é“¾æ¥</p><p><img src="e9f7df80876668f6edd1e232e47fe9e61527002698.png@1192w.webp" alt="" /></p><p>ç‚¹å‡»åœ°å€ <a href="https://github.com/designcomputer/mysql%5C_mcp%5C_server">https://github.com/designcomputer/mysql\_mcp\_server</a></p><p><img src="dd92e0c14705baa25736822a959dae9f1527002698.png@1192w.webp" alt="" /></p><p>æ–‡æ¡£çš„ä¸‹é¢æœ‰å®‰è£…çš„è¯´æ˜ï¼Œæˆ‘ä»¬ç®€å•è§£è¯»ä¸€ä¸‹</p><p><strong>ç¬¬ä¸€æ­¥å®‰è£…mysql-mcp-server ç»„ä»¶åŒ…</strong></p><p>æˆ‘ä»¬éœ€è¦ä½¿ç”¨pip å®‰è£… mysql-mcp-server ç»„ä»¶åŒ…ï¼Œ è¿™ä¸ªä»£ç æ˜¯python å†™çš„æ‰€ä»¥æˆ‘ä»¬éœ€è¦pip ä¾èµ–åŒ…å®‰è£…ã€‚æˆ‘ä»¬åœ¨cmdçª—å£ä¸­æ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install mysql-mcp-server -i  https://pypi.tuna.tsinghua.edu.cn/simple/</span><br></pre></td></tr></table></figure><p><img src="74c2d417e49f93aa4b500a5095daca7f1527002698.png@1192w.webp" alt="" /></p><p>å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬åœ¨windows cmd å‘½ä»¤è¡Œçª—å£è¾“å…¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip show mysql-mcp-server</span><br></pre></td></tr></table></figure><p>ç¡®ä¿è¿™ä¸ªç»„ä»¶å®‰è£…å®Œæˆã€‚</p><p><strong>ç¬¬äºŒæ­¥å®‰è£…æ•°æ®åº“åŠSQL è„šæœ¬</strong></p><p>æˆ‘ä»¬ä½¿ç”¨Navicat Premium åˆ›å»ºæ•°æ®åº“student_scoreï¼Œæ‰§è¡Œå¦‚ä¸‹è„šæœ¬</p><p>student_score.sql</p><pre><code>-- åˆ›å»ºå­¦ç”Ÿè¡¨CREATE TABLE students (   student_id INT PRIMARY KEY,   student_name VARCHAR(50) NOT NULL,   gender CHAR(1),   class_name VARCHAR(20),   admission_date DATE);-- åˆ›å»ºè¯¾ç¨‹è¡¨CREATE TABLE courses (   course_id INT PRIMARY KEY,   course_name VARCHAR(50) NOT NULL,   credit DECIMAL(3,1));-- åˆ›å»ºæˆç»©è¡¨CREATE TABLE scores (   score_id INT PRIMARY KEY,   student_id INT,   course_id INT,   score DECIMAL(5,2),   exam_date DATE,   FOREIGN KEY (student_id) REFERENCES students(student_id),   FOREIGN KEY (course_id) REFERENCES courses(course_id));-- æ’å…¥æµ‹è¯•æ•°æ®-- 1. æ’å…¥å­¦ç”Ÿæ•°æ®INSERT INTO students (student_id, student_name, gender, class_name, admission_date) VALUES(1001, 'å¼ ä¸‰', 'M', 'é«˜ä¸€(1)ç­', '2023-09-01'),(1002, 'æå››', 'F', 'é«˜ä¸€(1)ç­', '2023-09-01'),(1003, 'ç‹äº”', 'M', 'é«˜ä¸€(2)ç­', '2023-09-01'),(1004, 'èµµå…­', 'F', 'é«˜ä¸€(2)ç­', '2023-09-01'),(1005, 'å­™ä¸ƒ', 'M', 'é«˜ä¸€(3)ç­', '2023-09-01');-- 2. æ’å…¥è¯¾ç¨‹æ•°æ®INSERT INTO courses (course_id, course_name, credit) VALUES(1, 'è¯­æ–‡', 4.0),(2, 'æ•°å­¦', 4.0),(3, 'è‹±è¯­', 4.0),(4, 'ç‰©ç†', 3.0),(5, 'åŒ–å­¦', 3.0);-- 3. æ’å…¥æˆç»©æ•°æ®INSERT INTO scores (score_id, student_id, course_id, score, exam_date) VALUES(1, 1001, 1, 85.5, '2023-12-20'),(2, 1001, 2, 92.0, '2023-12-20'),(3, 1001, 3, 78.5, '2023-12-20'),(4, 1002, 1, 88.0, '2023-12-20'),(5, 1002, 2, 95.5, '2023-12-20'),(6, 1002, 3, 90.0, '2023-12-20'),(7, 1003, 1, 82.5, '2023-12-20'),(8, 1003, 2, 86.0, '2023-12-20'),(9, 1003, 3, 75.5, '2023-12-20'),(10, 1004, 1, 91.0, '2023-12-20'),(11, 1004, 2, 89.5, '2023-12-20'),(12, 1004, 3, 94.0, '2023-12-20'),(13, 1005, 1, 87.5, '2023-12-20'),(14, 1005, 2, 88.0, '2023-12-20'),(15, 1005, 3, 85.5, '2023-12-20');-- ä¸€äº›å¸¸ç”¨æŸ¥è¯¢ç¤ºä¾‹-- 1. æŸ¥è¯¢æŸä¸ªå­¦ç”Ÿçš„æ‰€æœ‰æˆç»©SELECT s.student_name, c.course_name, sc.scoreFROM students sJOIN scores sc ON s.student_id = sc.student_idJOIN courses c ON sc.course_id = c.course_idWHERE s.student_id = 1001;-- 2. æŸ¥è¯¢æŸä¸ªç­çº§çš„å¹³å‡æˆç»©SELECT s.class_name, c.course_name, AVG(sc.score) as avg_scoreFROM students sJOIN scores sc ON s.student_id = sc.student_idJOIN courses c ON sc.course_id = c.course_idGROUP BY s.class_name, c.course_name;-- 3. æŸ¥è¯¢å„ç§‘æˆç»©æ’åå‰ä¸‰çš„å­¦ç”ŸWITH RankedScores AS (   SELECT       c.course_name,       s.student_name,       sc.score,       RANK() OVER (PARTITION BY c.course_id ORDER BY sc.score DESC) as student_rank   FROM scores sc   JOIN students s ON sc.student_id = s.student_id   JOIN courses c ON sc.course_id = c.course_id)SELECT * FROM RankedScores WHERE student_rank &lt;= 3;</code></pre><p><img src="853175010aaf5b89878feab183b401df1527002698.png@1192w.webp" alt="" /></p><p>æ•°æ®åº“è„šæœ¬æ‰§è¡Œå®Œæˆåï¼Œæ•°æ®åº“æœ‰3ä¸ªè¡¨ åˆ†åˆ«æ˜¯studentsã€coursesã€scores</p><p><img src="1824a7e99e63204bf54f9e85d27f6e931527002698.png@580w_214h.webp" alt="" /></p><p>æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦è®°äº‹æœ¬è®°å½•ä¸‹æ•°æ®åº“è¿æ¥ä¿¡æ¯ ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MYSQL_HOST=localhost     # Database host</span><br><span class="line">MYSQL_PORT=3306         # Optional: Database port (defaults to 3306 if not specified)</span><br><span class="line">MYSQL_USER=your_username</span><br><span class="line">MYSQL_PASSWORD=your_password</span><br><span class="line">MYSQL_DATABASE=your_database</span><br></pre></td></tr></table></figure><p><img src="6a941b9ca538c1eef9110f8715ac5f621527002698.png@1192w.webp" alt="" /></p><p>ç¬¬ä¸‰æ­¥cline æ‰‹å·¥å®‰è£…mysql-mcp-server ç»„ä»¶åŒ…</p><p>æˆ‘ä»¬æ‰“å¼€cline Â mcp server ç‚¹å‡» configure mcp servers</p><p><img src="a84edbf8a5c86fc7fb511d7c664d2df81527002698.png@1192w.webp" alt="" /></p><p>å¤åˆ¶ä¸‹é¢çš„ä»£ç </p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;mysql&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;uv&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;run&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;mysql_mcp_server&quot;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;env&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;MYSQL_HOST&quot;</span><span class="punctuation">:</span> <span class="string">&quot;192.168.1.5&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;MYSQL_PORT&quot;</span><span class="punctuation">:</span> <span class="string">&quot;3306&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;MYSQL_USER&quot;</span><span class="punctuation">:</span> <span class="string">&quot;root&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;MYSQL_PASSWORD&quot;</span><span class="punctuation">:</span> <span class="string">&quot;xxxxxx&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;MYSQL_DATABASE&quot;</span><span class="punctuation">:</span> <span class="string">&quot;student_score&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;disabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;autoApprove&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><p>åˆ°cline_mcp_settings.json é‡Œé¢ï¼Œå…³äºcline_mcp_settings.json æˆ‘çš„ç›®å½•åœ¨C:\Users\Administrator\AppData\Roaming\Code\User\globalStorage\saoudrizwan.claude-dev\settingsæ–‡ä»¶å¤¹ä¸‹</p><p><img src="94e94678e24debd5e8cb5f218b9fb7811527002698.png@1192w.webp" alt="" /></p><p><img src="db5d6806dd955642d479e30e7eebbfcb1527002698.png@1192w.webp" alt="" /></p><p>ä»¥ä¸Šå°±æ˜¯æˆ‘æ·»åŠ å®Œæˆçš„æ•ˆæœï¼Œå¤§å®¶å¯ä»¥å‘ç°ä¸Šé¢çš„sleep-mcp å°±åœ¨mysql å®‰è£…çš„ä¸‹é¢ã€‚å¤§å®¶çŸ¥é“åŸç†åæ‰‹å·¥å¤åˆ¶ä¹Ÿæ˜¯å¯ä»¥å®ç°mcp serverå®‰è£…çš„ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬éœ€è¦ç”¨çš„uv command å‘½ä»¤æ¥æ‰§è¡Œã€‚ é‚£ä¹ˆä»€ä¹ˆæ˜¯uv å‘¢ï¼Ÿ</p><p>uv ä¸€ä¸ªéå¸¸å¿«é€Ÿçš„Pythonè½¯ä»¶åŒ…ç®¡ç†å·¥å…·ï¼Œä½¿ç”¨rustå†™çš„ ä¸€ç§æ›¿ä»£PIPï¼ŒPIP-Toolsï¼ŒPipxï¼ŒPoetryï¼ŒPyenvï¼ŒTwineï¼ŒVirtualenvç­‰çš„ä¸€ç§å·¥å…· æ–‡æ¡£åœ°å€ <a href="https://docs.astral.sh/uv/">https://docs.astral.sh/uv/</a> githubåœ°å€ <a href="https://github.com/astral-sh/uv">https://github.com/astral-sh/uv</a></p><p><img src="328e42e826c48037b96a5f6faccf3eac1527002698.png@1192w.webp" alt="" /></p><p>ç®€å•æ¥è¯´å®ƒå°±æ˜¯ä¸ªåŒ…ç®¡ç†å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨pip install uv å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install uv  -i  https://pypi.tuna.tsinghua.edu.cn/simple/</span><br></pre></td></tr></table></figure><p><img src="6c3f3c055b891776ed0844a41155ece31527002698.png@1192w.webp" alt="" /></p><p>ç¡®ä¿ç”µè„‘ä¸Šæœ‰uv è¿è¡Œç¯å¢ƒï¼Œè¿™æ ·ä»–ä»¬å°±å¯ä»¥æ‰§è¡Œcommand å‘½ä»¤äº†ã€‚</p><p>ä»¥ä¸Šé…ç½®å®Œæˆåæˆ‘ä»¬å°±å¯åœ¨cline Â èŠå¤©å¯¹è¯å½¢å¼æµ‹è¯•å®ƒçš„å¯ç”¨æ€§äº†ã€‚</p><p><img src="058702abb89dfa3da110f7092aea6b281527002698.png@1192w.webp" alt="" /></p><p>å‡ºç°ä¸Šé¢ç»¿è‰² è¯´æ˜è¿™ä¸ªç»„ä»¶å’Œæˆ‘ä»¬æ•°æ®åº“å·²ç»å®ç°è¿æ¥äº†ã€‚</p><p><strong>ç¬¬å››æ­¥éªŒè¯æµ‹è¯•</strong></p><p>æˆ‘ä»¬åœ¨clineèŠå¤©å¯¹è¯ä¸­è¾“å…¥å†…å®¹ï¼Œå…ˆè®©å¤§æ¨¡å‹å‘Šè¯‰æˆ‘è¿™ä¸ªæ•°æ®åº“æœ‰å“ªäº›è¡¨ã€‚</p><p><img src="871b77bf15bc2ddab07954c53a23c3a71527002698.png@1080w_380h.webp" alt="" /></p><p>æµ‹è¯•è¿”å›</p><p><img src="f8d999cd585f248bf8611f5eb6523c171527002698.png@1128w_1182h.webp" alt="" /></p><p>æ˜¾ç¤º3ä¸ªè¡¨ å’Œæˆ‘ä»¬ä¸Šé¢çš„ æ•°æ®åº“è¡¨å¯¹åº”ä¸Š</p><p><img src="ec0c15c480967463bbd90232812e3ca71527002698.png@1192w.webp" alt="" /></p><p>é€šè¿‡ä¸Šé¢æˆ‘ä»¬å·²ç»å®ç°äº†cline +mysql-mcp-server+å¤§æ¨¡å‹å®ç°æ•°æ®åº“è¿æ¥äº†ã€‚æ¥ä¸‹æ¥æˆ‘åœ¨é—®å‡ ä¸ªé—®é¢˜</p><p><img src="d154bb888fa91843e29b78593cea91581527002698.png@1192w.webp" alt="" /></p><p><img src="e11d3f552a9b141357c116e9ff8497b01527002698.png@1192w.webp" alt="" /></p><p>ä¸Šé¢ç”Ÿæˆçš„SQL è¯­å¥æŸ¥è¯¢è¿”å›çš„ç»“æœã€‚</p><p>ç”Ÿæˆçš„sql è¯­å¥</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"> <span class="attr">&quot;query&quot;</span><span class="punctuation">:</span> <span class="string">&quot;SELECT s.student_name, c.course_name, sc.score FROM students s JOIN scores sc ON s.student_id = sc.student_id JOIN courses c ON sc.course_id = c.course_id WHERE s.student_name = &#x27;å¼ ä¸‰&#x27; AND c.course_name IN (&#x27;è¯­æ–‡&#x27;, &#x27;æ•°å­¦&#x27;, &#x27;è‹±è¯­&#x27;)&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><img src="964777a7640c1e335c3ae4883ad5c2421527002698.png@1192w.webp" alt="" /></p><p>æ•°æ®åº“æ‰§è¡Œçš„è¯­å¥å’Œè¿”å›ä¹Ÿä¸€è‡´çš„ã€‚ ä¹Ÿå°±æ˜¯æˆ‘ä»¬é€šè¿‡è‡ªç„¶è¯­éŸ³çš„å½¢å¼ä¹Ÿèƒ½å¸®æˆ‘ç”ŸæˆSQL è¯­å¥ç”šè‡³æŸ¥è¯¢éƒ½ä¸ç”¨æˆ‘æŸ¥è¯¢ï¼Œç›´æ¥æŠŠæˆ‘çš„çš„æŸ¥è¯¢ç»“æœç»™æˆ‘è¿”å›äº†ã€‚</p><p><strong>2.File System</strong></p><p>æ­¤MCPæœåŠ¡å¯ä»¥ä½¿å¤§æ¨¡å‹è®¿é—®æ–‡ä»¶ç³»ç»Ÿ</p><p>åœ¨MCP serversä¸Šæœç´¢Fie Systemå¹¶è¿›è¡Œå®‰è£…ï¼Œæ­¥éª¤ä¸ŠåŒã€‚</p><p>é…ç½® MCP servers:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;filesystem&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;disabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span> <span class="number">60</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;stdio&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npx&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;-y&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;@modelcontextprotocol/server-filesystem&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;D://test&quot;</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>è¿™ä¹Ÿå¤ªçˆ½äº†ï¼Œæ•°æ®åº“å¼€å‘å·¥ç¨‹æ˜¯ä¼°è®¡ä¹Ÿè¦å·ç€ä¹äº†ï¼Œåˆå¯ä»¥ææ—©ä¸‹ç­äº†ã€‚</p><p><strong>æ€»ç»“</strong></p><p>ä»Šå¤©ä¸»è¦å¸¦å¤§å®¶æ·±å…¥äº†è§£äº†ä½¿ç”¨ vs code + cline å®ç° MCP - server æ¥è®²è§£å¦‚ä½•å®ç°å¤§æ¨¡å‹ + MCP å®ç°ä¸‡ç‰©äº’è”çš„ç›¸å…³å†…å®¹ã€‚åŒ…æ‹¬æ ¸å¿ƒè¦ç‚¹ã€å·¥ä½œæµç¨‹ç­‰ï¼Œè¿˜å¯¹æ¯”äº†ç±»ä¼¼æŠ€æœ¯ã€‚éšåä»‹ç»æ¼”ç¤ºæ‰€ç”¨å·¥å…·å¦‚ VSCodeã€cline ç­‰ã€‚æœ€åè®² MCP - server å®‰è£…ä½¿ç”¨ï¼Œæ¨èç½‘ç«™ï¼Œç€é‡è®² sleep - mcpå’Œmysql-mcp-server 2ä¸ªmcp-serverå®‰è£…è¿‡ç¨‹ã€‚æµ‹è¯•ä¸‹æ¥æ„Ÿè§‰è¿™ä¸ªä¸œè¥¿éå¸¸å¼ºå¤§ï¼Œæ„Ÿå…´è¶£çš„ä¸‹ä¼™ä¼´ä¹Ÿå¯ä»¥å»å°è¯•ã€‚ä»Šå¤©çš„åˆ†äº«å°±åˆ°è¿™é‡Œç»“æŸäº†ï¼Œæˆ‘ä»¬ä¸‹ä¸ªæ–‡ç« è§ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ™ºèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MCP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS Codeç§’å˜AIç¥å™¨ï¼3æ­¥å…è´¹éƒ¨ç½²DeepSeekæœ¬åœ°ç¼–ç¨‹åŠ©æ‰‹ï¼šä»£ç è¡¥å…¨/æ™ºèƒ½é—®ç­”/éšç§ä¿æŠ¤å…¨æå®š</title>
      <link href="/2025/03/25/Editor/VS%20Code%E7%A7%92%E5%8F%98AI%E7%A5%9E%E5%99%A8%EF%BC%813%E6%AD%A5%E5%85%8D%E8%B4%B9%E9%83%A8%E7%BD%B2DeepSeek%E6%9C%AC%E5%9C%B0%E7%BC%96%E7%A8%8B%E5%8A%A9%E6%89%8B%EF%BC%9A%E4%BB%A3%E7%A0%81%E8%A1%A5%E5%85%A8%E6%99%BA%E8%83%BD%E9%97%AE%E7%AD%94%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4%E5%85%A8%E6%90%9E%E5%AE%9A/"/>
      <url>/2025/03/25/Editor/VS%20Code%E7%A7%92%E5%8F%98AI%E7%A5%9E%E5%99%A8%EF%BC%813%E6%AD%A5%E5%85%8D%E8%B4%B9%E9%83%A8%E7%BD%B2DeepSeek%E6%9C%AC%E5%9C%B0%E7%BC%96%E7%A8%8B%E5%8A%A9%E6%89%8B%EF%BC%9A%E4%BB%A3%E7%A0%81%E8%A1%A5%E5%85%A8%E6%99%BA%E8%83%BD%E9%97%AE%E7%AD%94%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4%E5%85%A8%E6%90%9E%E5%AE%9A/</url>
      
        <content type="html"><![CDATA[<h4 id="ä¸€-æŠ€æœ¯é€‰å‹"><a class="markdownIt-Anchor" href="#ä¸€-æŠ€æœ¯é€‰å‹"></a> ä¸€ã€æŠ€æœ¯é€‰å‹</h4><p>ä»¥ä¸‹æ˜¯<code>VS Code</code>æœ¬åœ°éƒ¨ç½²å¤§æ¨¡å‹ä»£ç åŠ©æ‰‹çš„å¸¸ç”¨æ’ä»¶å¯¹æ¯”ï¼ŒåŸºäºéšç§ä¿æŠ¤ã€ç¦»çº¿ä½¿ç”¨åŠåŠŸèƒ½ç‰¹æ€§æ•´ç†ï¼Œæ¯ä¸ªäººå¯æ ¹æ®è‡ªèº«éœ€è¦é€‰æ‹©ï¼š</p><table><thead><tr><th><strong>æ’ä»¶åç§°</strong></th><th><strong>ä¼˜ç‚¹</strong></th><th><strong>ç¼ºç‚¹</strong></th><th><strong>é€‚ç”¨åœºæ™¯</strong></th></tr></thead><tbody><tr><td><strong>Continue</strong></td><td>æ”¯æŒå¤šæ¨¡å‹åˆ‡æ¢ï¼ˆOllama/æœ¬åœ°æ¨¡å‹ï¼‰ï¼Œæ”¯æŒä»£ç è¡¥å…¨/é‡æ„/é—®ç­”ï¼Œé…ç½®çµæ´»åº¦é«˜</td><td>éœ€æ‰‹åŠ¨ä¿®æ”¹ JSON é…ç½®æ–‡ä»¶ï¼Œæ–°æ‰‹æ˜“å‡ºé”™</td><td>ä¼ä¸šçº§å¤æ‚é¡¹ç›®å¼€å‘ï¼Œéœ€åŒæ—¶ä½¿ç”¨å¯¹è¯å’Œè¡¥å…¨åŠŸèƒ½ï¼Œé‡è§†æ•°æ®éšç§çš„åœºæ™¯</td></tr><tr><td><strong>CodeGPT</strong></td><td>ä¸€é”®è¿æ¥ Ollama æ¨¡å‹ï¼Œå†…ç½® <code>/explain</code> <code>/fix</code> ç­‰å¿«æ·æŒ‡ä»¤ï¼Œå­¦ä¹ æˆæœ¬ä½</td><td>ä»…æ”¯æŒåŸºç¡€é—®ç­”ï¼Œä»£ç è¡¥å…¨ä¾èµ– <code>deepseek-coder</code> æ¨¡å‹</td><td>ä¸ªäººå¼€å‘è€…å¿«é€Ÿæ¥å…¥ï¼Œä¸­å°å‹é¡¹ç›®è°ƒè¯•ï¼Œéœ€å³æ—¶è§£é‡Šä»£ç é€»è¾‘çš„åœºæ™¯</td></tr><tr><td><strong>Cline</strong></td><td>æ”¯æŒ DeepSeek/Claude ç­‰å•†ç”¨æ¨¡å‹ï¼Œå¯é…ç½® MCP æœåŠ¡å™¨æ‰©å±•åŠŸèƒ½</td><td>éœ€è‡ªè¡Œè´­ä¹° API å¯†é’¥ï¼Œéƒ¨åˆ†æ¨¡å‹éœ€è”ç½‘è®¡è´¹</td><td>éœ€ç»“åˆäº‘ç«¯é«˜æ€§èƒ½æ¨¡å‹çš„æ··åˆå¼€å‘åœºæ™¯ï¼Œæ„¿æ„ä¸ºæ¨¡å‹èƒ½åŠ›ä»˜è´¹çš„å›¢é˜Ÿ</td></tr><tr><td><strong>Twinny</strong></td><td>ä¸“ä¸º Ollama ä¼˜åŒ–ï¼Œè‡ªåŠ¨æ£€æµ‹æœ¬åœ°æ¨¡å‹ï¼Œç•Œé¢äº¤äº’ç®€æ´</td><td>åŠŸèƒ½è¾ƒå•ä¸€ï¼ˆä»…é—®ç­”ï¼‰ï¼Œç¼ºä¹ä»£ç è¡¥å…¨ç­‰è¿›é˜¶åŠŸèƒ½</td><td>ä¸ªäººå¼€å‘è€…å¿«é€ŸéªŒè¯æƒ³æ³•ï¼Œå°å‹è„šæœ¬ç¼–å†™ï¼Œå¯¹ç•Œé¢ç®€æ´åº¦è¦æ±‚é«˜çš„åœºæ™¯</td></tr><tr><td><strong>Codellm</strong></td><td>ä½æ˜¾å­˜ä¼˜åŒ–ï¼ˆæœ€ä½ 4GBï¼‰ï¼Œæ”¯æŒä»£ç ç‰‡æ®µè‡ªåŠ¨ç»­å†™ï¼Œå“åº”é€Ÿåº¦å¿«</td><td>é€»è¾‘æ¨ç†èƒ½åŠ›è¾ƒå¼±ï¼Œå¤æ‚éœ€æ±‚éœ€å¤šæ¬¡è¿­ä»£</td><td>æ•™è‚²/åŸ¹è®­åœºæ™¯ï¼Œç¡¬ä»¶é…ç½®è¾ƒä½çš„è®¾å¤‡ï¼Œç¼–å†™æ¨¡æ¿åŒ–ä»£ç ï¼ˆå¦‚ CRUD æ¥å£ï¼‰</td></tr><tr><td><strong>ChatMoss</strong></td><td>å†…ç½® 15+ å›½å†…å¯ç”¨æ¨¡å‹ï¼Œæ”¯æŒå¿«æ·æ³¨é‡Šå’Œä»£ç ä¼˜åŒ–</td><td>éƒ¨åˆ†æ¨¡å‹éœ€å…‘æ¢ç ï¼ˆå¦‚ ZXCODEï¼‰ï¼Œä¾èµ–å›½å†…æœåŠ¡èŠ‚ç‚¹</td><td>å›½å†…ä¼ä¸šå†…ç½‘ç¯å¢ƒï¼Œéœ€é€‚é…å›½äº§åŒ–å¼€å‘æµç¨‹ï¼Œè§„é¿å›½é™…æ¨¡å‹åˆè§„é£é™©çš„åœºæ™¯</td></tr></tbody></table><h4 id="é€‰å‹å»ºè®®"><a class="markdownIt-Anchor" href="#é€‰å‹å»ºè®®"></a> <strong>é€‰å‹å»ºè®®</strong></h4><ul><li><strong>éšç§ä¼˜å…ˆ</strong>ï¼šé€‰æ‹© <strong>Continue</strong> æˆ– <strong>CodeGPT</strong>ï¼Œé€šè¿‡ Ollama å®Œå…¨æœ¬åœ°è¿è¡Œ</li><li><strong>ç¡¬ä»¶å—é™</strong>ï¼šä½¿ç”¨ <strong>Codellm</strong> + <code>deepseek-r1:1.5b</code> é‡åŒ–ç‰ˆï¼ˆæ˜¾å­˜å ç”¨ â‰¤4GBï¼‰</li><li><strong>å›½å†…ç¯å¢ƒ</strong>ï¼š<strong>ChatMoss</strong> æˆ– <strong>Cline</strong>ï¼ˆéœ€è‡ªå¤‡ä»£ç†ï¼‰ï¼Œè§„é¿ç½‘ç»œé™åˆ¶</li><li><strong>ä¼ä¸šå®šåˆ¶</strong>ï¼š<strong>Continue</strong> + è‡ªç ”æ¨¡å‹å¾®è°ƒï¼Œé€šè¿‡ <code>config.json</code> å¯¹æ¥å†…éƒ¨çŸ¥è¯†åº“</li></ul><h4 id="éƒ¨ç½²éªŒè¯æŠ€å·§"><a class="markdownIt-Anchor" href="#éƒ¨ç½²éªŒè¯æŠ€å·§"></a> <strong>éƒ¨ç½²éªŒè¯æŠ€å·§</strong></h4><ol><li>ç»ˆç«¯è¿è¡Œ <code>ollama list</code> ç¡®è®¤æ¨¡å‹å·²åŠ è½½</li><li>åœ¨ VS Code ä¸­æŒ‰ <code>Ctrl+Shift+P</code> â†’ è¾“å…¥ <code>Continue: Open Config File</code> æ£€æŸ¥æ¨¡å‹è¿æ¥çŠ¶æ€</li><li>è¾“å…¥æµ‹è¯•æŒ‡ä»¤ï¼ˆå¦‚â€œç”¨ Python å®ç°å¿«é€Ÿæ’åºâ€ï¼‰è§‚å¯Ÿå“åº”é€Ÿåº¦å’Œä»£ç è´¨é‡</li></ol><hr /><h4 id="äºŒ-æ ¸å¿ƒå·¥å…·å‡†å¤‡5åˆ†é’Ÿ"><a class="markdownIt-Anchor" href="#äºŒ-æ ¸å¿ƒå·¥å…·å‡†å¤‡5åˆ†é’Ÿ"></a> äºŒã€æ ¸å¿ƒå·¥å…·å‡†å¤‡ï¼ˆ5åˆ†é’Ÿï¼‰</h4><h5 id="1-ollama-éƒ¨ç½²"><a class="markdownIt-Anchor" href="#1-ollama-éƒ¨ç½²"></a> 1. Ollama éƒ¨ç½²</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Windows/Mac/Linux é€šç”¨å‘½ä»¤ï¼ˆè‡ªåŠ¨è¯†åˆ«ç³»ç»Ÿï¼‰</span></span><br><span class="line">curl -fsSL https://ollama.com/install.sh | sh</span><br></pre></td></tr></table></figure><p>éªŒè¯å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ollama --version  <span class="comment"># æ˜¾ç¤ºç‰ˆæœ¬ â‰¥0.5.7 å³ä¸ºæˆåŠŸ</span></span><br></pre></td></tr></table></figure><h5 id="2-æ‹‰å–-deepseek-æ¨¡å‹"><a class="markdownIt-Anchor" href="#2-æ‹‰å–-deepseek-æ¨¡å‹"></a> 2. æ‹‰å– DeepSeek æ¨¡å‹</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¹æ®æ˜¾å­˜é€‰æ‹©æ¨¡å‹ï¼ˆæ¨èç»„åˆï¼‰ï¼š</span></span><br><span class="line">ollama pull deepseek-r1:1.5b        <span class="comment"># åŸºç¡€é—®ç­”ï¼ˆ4GB+æ˜¾å­˜ï¼‰</span></span><br><span class="line">ollama pull deepseek-coder:1.3b     <span class="comment"># ä»£ç è¡¥å…¨ï¼ˆ6GB+æ˜¾å­˜ï¼‰</span></span><br></pre></td></tr></table></figure><h5 id="3-vs-code-å®‰è£…-continue-æ‰©å±•"><a class="markdownIt-Anchor" href="#3-vs-code-å®‰è£…-continue-æ‰©å±•"></a> 3. <a href="https://so.csdn.net/so/search?q=VS%20Code&amp;spm=1001.2101.3001.7020">VS Code</a> å®‰è£… Continue æ‰©å±•</h5><ul><li>æ‰©å±•å•†åº—æœç´¢ <strong>Continue</strong> â†’ å®‰è£…å®˜æ–¹ç‰ˆæœ¬ï¼ˆâ‰¥v0.3.2ï¼‰</li></ul><hr /><h4 id="ä¸‰-å…³é”®é…ç½®å®æˆ˜å«é¿å‘æŒ‡å—"><a class="markdownIt-Anchor" href="#ä¸‰-å…³é”®é…ç½®å®æˆ˜å«é¿å‘æŒ‡å—"></a> ä¸‰ã€å…³é”®é…ç½®å®æˆ˜ï¼ˆå«é¿å‘æŒ‡å—ï¼‰</h4><h5 id="æ­¥éª¤1æ¿€æ´»æœ¬åœ°æ¨¡å‹è¿æ¥"><a class="markdownIt-Anchor" href="#æ­¥éª¤1æ¿€æ´»æœ¬åœ°æ¨¡å‹è¿æ¥"></a> æ­¥éª¤1ï¼šæ¿€æ´»æœ¬åœ°æ¨¡å‹è¿æ¥</h5><p>æ‰“å¼€ Continue ä¾§è¾¹æ  â†’ ç‚¹å‡»é½¿è½®å›¾æ ‡è¿›å…¥ <code>config.json</code>ï¼Œæ›¿æ¢ä¸ºï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;models&quot;: [&#123;</span><br><span class="line">    &quot;title&quot;: &quot;DeepSeek-Local&quot;,</span><br><span class="line">    &quot;provider&quot;: &quot;ollama&quot;,</span><br><span class="line">    &quot;model&quot;: &quot;deepseek-r1:1.5b&quot;,</span><br><span class="line">    &quot;apiBase&quot;: &quot;http://localhost:11434&quot;</span><br><span class="line">  &#125;],</span><br><span class="line">  &quot;tabAutocompleteModel&quot;: &#123;</span><br><span class="line">    &quot;provider&quot;: &quot;ollama&quot;,</span><br><span class="line">    &quot;model&quot;: &quot;deepseek-coder:1.3b&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ğŸ’¡ <strong>é¿å‘æç¤º</strong>ï¼š</p><ul><li>è‹¥é…ç½®ä¸ç”Ÿæ•ˆï¼ŒæŒ‰ <code>Ctrl+Shift+P</code> è¾“å…¥ <code>Reload Window</code> é‡å¯ VS Code</li><li>ç»ˆç«¯è¿è¡Œ <code>curl http://localhost:11434</code> æ£€æŸ¥ Ollama æœåŠ¡çŠ¶æ€</li></ul><h5 id="æ­¥éª¤2ä»£ç è¡¥å…¨ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#æ­¥éª¤2ä»£ç è¡¥å…¨ä¼˜åŒ–"></a> æ­¥éª¤2ï¼šä»£ç è¡¥å…¨ä¼˜åŒ–</h5><p>åœ¨ VS Code è®¾ç½®æ–‡ä»¶ï¼ˆ<code>settings.json</code>ï¼‰ä¸­æ·»åŠ ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;continue.tabAutocompleteEnabled&quot;: true,</span><br><span class="line">&quot;continue.showContextButton&quot;: false,</span><br><span class="line">&quot;continue.maxTokens&quot;: 128  // æ§åˆ¶è¡¥å…¨é•¿åº¦</span><br></pre></td></tr></table></figure><h5 id="æ­¥éª¤3å¿«æ·é”®ç»‘å®šæ•ˆç‡ç¿»å€"><a class="markdownIt-Anchor" href="#æ­¥éª¤3å¿«æ·é”®ç»‘å®šæ•ˆç‡ç¿»å€"></a> æ­¥éª¤3ï¼šå¿«æ·é”®ç»‘å®šï¼ˆæ•ˆç‡ç¿»å€ï¼‰</h5><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// keybindings.json æ·»åŠ ï¼š</span><br><span class="line">&#123;</span><br><span class="line">  &quot;key&quot;: &quot;ctrl+alt+l&quot;,</span><br><span class="line">  &quot;command&quot;: &quot;continue.quickEdit&quot;,</span><br><span class="line">  &quot;when&quot;: &quot;editorTextFocus&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨é€‰ä¸­ä»£ç åæŒ‰ <code>Ctrl+Alt+L</code> å³å¯è§¦å‘æ™ºèƒ½é‡æ„ï¼</p><hr /><h4 id="å››-å®æˆ˜åœºæ™¯æ¼”ç¤º"><a class="markdownIt-Anchor" href="#å››-å®æˆ˜åœºæ™¯æ¼”ç¤º"></a> å››ã€å®æˆ˜åœºæ™¯æ¼”ç¤º</h4><h5 id="åœºæ™¯1ä»£ç è‡ªåŠ¨è¡¥å…¨"><a class="markdownIt-Anchor" href="#åœºæ™¯1ä»£ç è‡ªåŠ¨è¡¥å…¨"></a> åœºæ™¯1ï¼šä»£ç è‡ªåŠ¨è¡¥å…¨</h5><p>è¾“å…¥ <code>function reverseString(</code> æ—¶ï¼ŒContinue ä¼šè‡ªåŠ¨è¡¥å…¨ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function reverseString(str) &#123;</span><br><span class="line">  return str.split(&#x27;&#x27;).reverse().join(&#x27;&#x27;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="åœºæ™¯2é”™è¯¯ä»£ç ä¿®å¤"><a class="markdownIt-Anchor" href="#åœºæ™¯2é”™è¯¯ä»£ç ä¿®å¤"></a> åœºæ™¯2ï¼šé”™è¯¯ä»£ç ä¿®å¤</h5><p>é€‰ä¸­é—®é¢˜ä»£ç  â†’ è¾“å…¥ <code>/fix</code>ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># åŸä»£ç ï¼ˆé”™è¯¯ï¼‰</span><br><span class="line">list = [1,2,3]</span><br><span class="line">print(list[-4])  # IndexError</span><br><span class="line"></span><br><span class="line"># AIä¿®å¤å</span><br><span class="line">list = [1,2,3]</span><br><span class="line">index = -4 if -4 &gt;= -len(list) else None</span><br><span class="line">print(list[index] if index is not None else &quot;Index out of range&quot;)</span><br></pre></td></tr></table></figure><h5 id="åœºæ™¯3æŠ€æœ¯æ–‡æ¡£æŸ¥è¯¢"><a class="markdownIt-Anchor" href="#åœºæ™¯3æŠ€æœ¯æ–‡æ¡£æŸ¥è¯¢"></a> åœºæ™¯3ï¼šæŠ€æœ¯æ–‡æ¡£æŸ¥è¯¢</h5><p>åœ¨èŠå¤©æ¡†è¾“å…¥ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/ask å¦‚ä½•åœ¨Reactä¸­å®ç°åŠ¨æ€è·¯ç”±ï¼Ÿç»™å‡ºä»£ç ç¤ºä¾‹</span><br></pre></td></tr></table></figure><p>Continue å°†è¿”å›ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// ä½¿ç”¨react-router-dom v6+</span><br><span class="line">import &#123; Routes, Route &#125; from &#x27;react-router-dom&#x27;;</span><br><span class="line"></span><br><span class="line">function App() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;Routes&gt;</span><br><span class="line">      &lt;Route path=&quot;/users/:userId&quot; element=&#123;&lt;UserProfile /&gt;&#125; /&gt;</span><br><span class="line">    &lt;/Routes&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr /><h4 id="äº”-éƒ¨ç½²æ€»ç»“æœ¬åœ°åŒ–æ ¸å¿ƒä¼˜åŠ¿"><a class="markdownIt-Anchor" href="#äº”-éƒ¨ç½²æ€»ç»“æœ¬åœ°åŒ–æ ¸å¿ƒä¼˜åŠ¿"></a> äº”ã€éƒ¨ç½²æ€»ç»“ï¼ˆæœ¬åœ°åŒ–æ ¸å¿ƒä¼˜åŠ¿ï¼‰</h4><table><thead><tr><th>ä¼˜åŠ¿</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>æ•°æ®éšç§</strong></td><td>æ‰€æœ‰è®¡ç®—åœ¨æœ¬åœ°å®Œæˆï¼Œä»£ç /æ–‡æ¡£æ°¸ä¸å¤–ä¼ </td></tr><tr><td><strong>ç¦»çº¿å¯ç”¨</strong></td><td>æ–­ç½‘ç¯å¢ƒä»å¯æ­£å¸¸ä½¿ç”¨AIåŠŸèƒ½</td></tr><tr><td><strong>é›¶æˆæœ¬</strong></td><td>æ— éœ€APIå¯†é’¥ï¼Œå…è´¹éƒ¨ç½²</td></tr><tr><td><strong>ä½å»¶è¿Ÿ</strong></td><td>æœ¬åœ°å“åº”é€Ÿåº¦ â‰¤0.5ç§’</td></tr><tr><td><strong>è‡ªå®šä¹‰è®­ç»ƒ</strong></td><td>æ”¯æŒæ¥å…¥è‡ªæœ‰æ•°æ®é›†å¾®è°ƒæ¨¡å‹</td></tr></tbody></table><p>ğŸ’» <strong>ç¡¬ä»¶å»ºè®®</strong>ï¼š</p><ul><li>å…¥é—¨çº§ï¼šCPU i5 + 8GBå†…å­˜ â†’ è¿è¡Œ <code>deepseek-r1:1.5b</code></li><li>é«˜æ€§èƒ½ï¼šGPU RTX 3060 + 16GBæ˜¾å­˜ â†’ è¿è¡Œ <code>deepseek-r1:14b</code></li></ul><hr /><h4 id="äº”-å¸¸è§é—®é¢˜é€ŸæŸ¥"><a class="markdownIt-Anchor" href="#äº”-å¸¸è§é—®é¢˜é€ŸæŸ¥"></a> äº”ã€å¸¸è§é—®é¢˜é€ŸæŸ¥</h4><ol><li><strong>æ¨¡å‹åŠ è½½å¤±è´¥ï¼Ÿ</strong></li></ol><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># æ¸…ç†ç¼“å­˜åé‡è¯•</span><br><span class="line">ollama rm deepseek-r1:1.5b &amp;&amp; ollama pull deepseek-r1:1.5b</span><br></pre></td></tr></table></figure><ol start="2"><li><p><strong>è¡¥å…¨ä¸è§¦å‘ï¼Ÿ</strong></p><ul><li>æ£€æŸ¥ Continue è®¾ç½®ä¸­çš„ <code>tabAutocompleteModel</code> æ˜¯å¦æŒ‡å®šä»£ç æ¨¡å‹</li><li>ç¡®è®¤ VS Code è¯­è¨€æ¨¡å¼éçº¯æ–‡æœ¬ï¼ˆå¦‚.txtæ–‡ä»¶ä¸ä¼šè§¦å‘ï¼‰</li></ul></li><li><p><strong>ä¸­æ–‡è¾“å‡ºå¼‚å¸¸ï¼Ÿ</strong><br />åœ¨ <code>config.json</code> çš„æ¨¡å‹é…ç½®æ·»åŠ ï¼š</p></li></ol><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;systemMessage&quot;: &quot;ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ç¼–ç¨‹åŠ©æ‰‹ï¼Œä½¿ç”¨ä¸­æ–‡å›å¤&quot;</span><br></pre></td></tr></table></figure><hr /><p>ç«‹å³æŒ‰ç…§æœ¬æ•™ç¨‹éƒ¨ç½²ï¼Œè®©ä½ çš„ VS Code è·å¾—<strong>ä¼ä¸šçº§</strong>AIè¾…åŠ©èƒ½åŠ›ï¼æ›´å¤šæ·±åº¦ç©æ³•ï¼ˆè‡ªå®šä¹‰çŸ¥è¯†åº“/ç§æœ‰æ¨¡å‹å¾®è°ƒï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ollama </tag>
            
            <tag> Editor </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pycharmæ— æ³•å®‰è£…æ’ä»¶æ˜¾ç¤ºç½‘ç»œé”™è¯¯æ— æ³•å®‰è£…æ±‰åŒ–æ’ä»¶</title>
      <link href="/2025/03/25/Editor/pycharm%E6%97%A0%E6%B3%95%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6%E6%98%BE%E7%A4%BA%E7%BD%91%E7%BB%9C%E9%94%99%E8%AF%AF%E6%97%A0%E6%B3%95%E5%AE%89%E8%A3%85%E6%B1%89%E5%8C%96%E6%8F%92%E4%BB%B6/"/>
      <url>/2025/03/25/Editor/pycharm%E6%97%A0%E6%B3%95%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6%E6%98%BE%E7%A4%BA%E7%BD%91%E7%BB%9C%E9%94%99%E8%AF%AF%E6%97%A0%E6%B3%95%E5%AE%89%E8%A3%85%E6%B1%89%E5%8C%96%E6%8F%92%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p>ã€pycharmã€‘pycharmæ— æ³•å®‰è£…æ’ä»¶æ˜¾ç¤ºç½‘ç»œé”™è¯¯/æ— æ³•å®‰è£…æ±‰åŒ–æ’ä»¶(æŠ¥é”™ï¼šMarketplace plugins are not loadedï¼ŒCheck the internet connection and refreshï¼‰</p><h3 id="é—®é¢˜æè¿°"><a class="markdownIt-Anchor" href="#é—®é¢˜æè¿°"></a> ã€é—®é¢˜æè¿°ã€‘</h3><p>è¿›è¡Œpycharmæ±‰åŒ–æ—¶ï¼Œæ— æ³•å®‰è£…æ’ä»¶ï¼Œå¼¹å‡ºæç¤ºï¼šMarketplace plugins are not loadedï¼ŒCheck the internet connection and refresh<br /><img src="f1398c0fcf614b5593b43e0ecb2dcd62.png" alt="" /></p><h3 id="å°è¯•"><a class="markdownIt-Anchor" href="#å°è¯•"></a> å°è¯•ï¼š</h3><p>ç™¾åº¦è¯´åœ¨settings-&gt; Appearance&amp;Behavior -&gt; System Settings -&gt; Updats ä¸­,å–æ¶ˆå‹¾é€‰Use secre Connections å³å¯<br />ä½†æ˜¯æˆ‘è¿™ä¸ªç‰ˆæœ¬æ²¡æœ‰è¿™ä¸ªé€‰é¡¹</p><h3 id="è§£å†³æ–¹æ³•"><a class="markdownIt-Anchor" href="#è§£å†³æ–¹æ³•"></a> ã€è§£å†³æ–¹æ³•ã€‘</h3><p>1ã€è¿›å…¥file-&gt;settings-&gt; Appearance&amp;Behavior -&gt; System Settings -&gt; HTTP Proxyä¸‹ï¼›<br />2ã€å‹¾é€‰ auto-detect proxy setingã€automatic proxy configuration URLï¼›<br />3ã€å°†automatic proxy configuration URLå…¶åçš„ç½‘å€ä¿®æ”¹ä¸ºï¼š<a href="https://plugins.jetbrains.com/%EF%BC%9B">https://plugins.jetbrains.com/ï¼›</a><br />4ã€ä¿å­˜åé‡å¯ï¼Œå³å¯è§£å†³é—®é¢˜ã€‚<br /><img src="135f2818d8076a8f28cff51f31926adb.png" alt="" /><br />5ã€å†æ¬¡è¿›è¡Œæ±‰åŒ–æ’ä»¶æœç´¢æ—¶ï¼Œå³å¯æˆåŠŸæœç´¢åˆ°ï¼š<br /><img src="948600ca87d519fbb7ab070f9927a787.png" alt="" /></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Editor </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vs codeæ’ä»¶Continue + æœ¬åœ°è¯­è¨€æ¨¡å‹ä½¿ç”¨æ–¹æ³•</title>
      <link href="/2025/03/25/ollama/vs%20code%E6%8F%92%E4%BB%B6Continue+%E6%9C%AC%E5%9C%B0%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/"/>
      <url>/2025/03/25/ollama/vs%20code%E6%8F%92%E4%BB%B6Continue+%E6%9C%AC%E5%9C%B0%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>ollamaå¦‚ä½•è¿è¡Œæ¨¡å‹ï¼Œæ­¤æ–‡ä¸æ¶‰åŠï¼Œéšä¾¿æŸ¥ä¸€æŸ¥å¾ˆç®€å•ã€‚</p><h3 id="1-åœ¨æ‹“å±•å•†åº—ä¸­æ‰¾åˆ°continue"><a class="markdownIt-Anchor" href="#1-åœ¨æ‹“å±•å•†åº—ä¸­æ‰¾åˆ°continue"></a> 1. åœ¨æ‹“å±•å•†åº—ä¸­æ‰¾åˆ°Continue</h3><p><img src="cf3809ffb8624c6fa6098653c54aaa48.png" alt="" /></p><h3 id="2-å®‰è£…å¥½continueæ’ä»¶ä»¥åå·¦ä¾§ä¼šå¤šå‡ºcontinueçš„å›¾æ ‡è¿›å»"><a class="markdownIt-Anchor" href="#2-å®‰è£…å¥½continueæ’ä»¶ä»¥åå·¦ä¾§ä¼šå¤šå‡ºcontinueçš„å›¾æ ‡è¿›å»"></a> 2. å®‰è£…å¥½continueæ’ä»¶ä»¥åï¼Œå·¦ä¾§ä¼šå¤šå‡ºcontinueçš„å›¾æ ‡ï¼Œè¿›å»</h3><h4 id="21-ç°åœ¨æˆ‘ä»¬å…ˆè®¾ç½®ä¸€ä¸‹å¯¹è¯æ¨¡å‹ç‚¹å³ä¸Šè§’åŠ å·è¿›å…¥new-sessionä¸‹æ‹‰æ¡†é€‰æ‹©æ¨¡å‹é€‰æ‹©add-chat-model"><a class="markdownIt-Anchor" href="#21-ç°åœ¨æˆ‘ä»¬å…ˆè®¾ç½®ä¸€ä¸‹å¯¹è¯æ¨¡å‹ç‚¹å³ä¸Šè§’åŠ å·è¿›å…¥new-sessionä¸‹æ‹‰æ¡†é€‰æ‹©æ¨¡å‹é€‰æ‹©add-chat-model"></a> 2.1 ç°åœ¨æˆ‘ä»¬å…ˆè®¾ç½®ä¸€ä¸‹å¯¹è¯æ¨¡å‹ï¼Œç‚¹å³ä¸Šè§’åŠ å·è¿›å…¥new sessionï¼Œä¸‹æ‹‰æ¡†é€‰æ‹©æ¨¡å‹ï¼Œé€‰æ‹©add chat model</h4><p><img src="28869bfaf46440358ecf0eb894c8365a.png" alt="" /></p><p>provideré€‰æ‹©ollamaï¼Œmodelå¯ä»¥è‡ªå·±æ‰¾ï¼Œå®˜æ–¹æ¨èç”¨Qwen 2.5 1.5bï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯7bï¼Œæ ¹æ®ä½ è‡ªå·±çš„æ¡ä»¶å’Œä¸ªäººå–œå¥½å†³å®šã€‚</p><p>æ·»åŠ å®Œjsoné…ç½®é‡Œçš„modelsåˆ—è¡¨å°±ä¼šå¤šå‡ºä¸€ä¸ªæ¨¡å‹é€‰é¡¹ï¼Œæœ‰æ—¶å€™æ¨¡å‹åç§°ä¸ä½ æœ¬åœ°è·‘çš„æœ‰å‡ºå…¥ï¼ŒæŠ¥é”™çš„è¯ï¼Œä½ è‡ªå·±åˆ°è¿™é‡Œæ”¹ä¸€ä¸‹ã€‚</p><p>æˆ–è€…æ·»åŠ è¡¨å•é‡Œï¼Œæœ‰è‡ªåŠ¨æ£€æµ‹æ¨¡å‹é€‰é¡¹ï¼Œå¯ä»¥ç”¨ã€‚</p><p><img src="d8c6efa19583419d9922a4ed5f7dfc07.png" alt="" /></p><h4 id="22-å†è®¾ç½®ä¸€ä¸‹è‡ªåŠ¨è¡¥å…¨"><a class="markdownIt-Anchor" href="#22-å†è®¾ç½®ä¸€ä¸‹è‡ªåŠ¨è¡¥å…¨"></a> 2.2 å†è®¾ç½®ä¸€ä¸‹ï¼Œè‡ªåŠ¨è¡¥å…¨</h4><p>æ‰¾åˆ°configurationï¼Œæ‰¾ä¸åˆ°å°±ç‚¹å³ä¸Šè§’è®¾ç½®å°åœ†åœˆã€‚</p><p><img src="c0350dfea97f435db00fd57eb1e3ca3d.png" alt="" /></p><p>åœ¨é…ç½®jsonä¸­ï¼Œmodelsé€‰é¡¹ä¸‹é¢ï¼Œå°±å¯ä»¥çœ‹åˆ°tabAutocompleteModelï¼Œåœ¨é‡Œé¢ç»™ä¸ªåå­—ï¼Œproviderå¡«ollamaï¼Œmodelå¡«qwen2.5-coder:1.5b-baseï¼Œè¿™ä¸ªæ ¹æ®ä½ è‡ªå·±çš„æ¨¡å‹æ¥å¡«ã€‚å¦‚æœè¿™é‡Œmodelåå­—å¡«çš„æœ‰é—®é¢˜ï¼Œä¼šç›´æ¥æŠ¥é”™ã€‚å¦‚æœä¸æŠ¥é”™ï¼Œä½†æ˜¯è¡¥å…¨æ²¡ä»»ä½•ååº”ï¼Œä¸€èˆ¬ä¸€ä¼šå„¿å°±ä¼šæ­£å¸¸ã€‚å¦‚æœä¸€ç›´ä¸è¡Œï¼Œçœ‹çœ‹ä½ è‡ªå·±æ˜¯ä¸æ˜¯å¡«äº†base urlä»€ä¹ˆçš„ã€‚å› ä¸ºæ˜¯æœ¬åœ°æ¨¡å‹ï¼Œbase urlç”¨é»˜è®¤ï¼Œä¸éœ€è¦æŒ‡å®šï¼Œç›´æ¥åˆ æ‰ã€‚</p><p><img src="ed6cdfbc60e24062929975b3f65c5ff4.png" alt="" /></p><p>æ­£å¸¸æ¥è®²ï¼Œæ¯å½“ä½ è¿›è¡Œä»£ç ç¼–è¾‘ï¼Œå³ä¸‹è§’çš„Continueéƒ½å›è½¬åœˆï¼Œç„¶åè·³å‡ºè¡¥å…¨ã€‚</p><p><img src="867cf295290341f08cb03d35ef72e12c.png" alt="" /></p><p>æ¡Œé¢å³ä¸‹è§’ï¼Œèƒ½çœ‹åˆ°ollamaåœ¨åå°è¿è¡Œï¼Œcontinueå°±å¯ä»¥ä¸ollamaçš„æ¨¡å‹å»å¯¹è¯ã€‚</p><p><img src="ad01fcd05a5e4f039c49023ef7a37472.png" alt="" /></p><p>ä½ ä¸‹è½½çš„æ¨¡å‹å‚æ•°ä¸åŒå¯¹åº”çš„å†…å­˜ä¸åŒï¼Œollamaä¼šè‡ªè¡Œåˆ¤æ–­ï¼Œå¦‚æœä½ çš„æ˜¾å¡å†…å­˜è¶³å¤Ÿï¼Œä¼šè·‘åœ¨æ˜¾å¡ä¸Š(nvidia cuda)ï¼Œå¦åˆ™ä¼šè¿è¡Œåœ¨cpuä¸Šï¼Œç„¶åå ç”¨cpuçš„å†…å­˜ï¼Œæ‰€ä»¥ä¸ªäººç”µè„‘1.5bæ˜¯æœ€ä½³é€‰æ‹©ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ™ºèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ollama </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ollamaæ¨¡å‹ç¦»çº¿è¿ç§»/å¤åˆ¶</title>
      <link href="/2025/03/25/ollama/ollama%E6%A8%A1%E5%9E%8B%E7%A6%BB%E7%BA%BF%E8%BF%81%E7%A7%BB%E5%A4%8D%E5%88%B6/"/>
      <url>/2025/03/25/ollama/ollama%E6%A8%A1%E5%9E%8B%E7%A6%BB%E7%BA%BF%E8%BF%81%E7%A7%BB%E5%A4%8D%E5%88%B6/</url>
      
        <content type="html"><![CDATA[<p>åœ¨ollamaä¸­å¯ä»¥ä½¿ç”¨å‘½ä»¤<code>ollama pull deepseek-r1:7b</code>ä¸‹è½½æ¨¡å‹ï¼Œä½†åœ¨æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼ˆå¦‚ï¼šç¦»çº¿ç¯å¢ƒï¼‰éœ€è¦æ‰‹åŠ¨è¿ç§»æ¨¡å‹ï¼Œæœ¬æ–‡è¯¦ç»†è®²è§£äº†ollamaä¸­ç¦»çº¿è¿ç§»æ¨¡å‹çš„æ–¹å¼ã€‚</p><h2 id="ä¸€-ä¸‹è½½ç‰¹å®šæ¨¡å‹"><a class="markdownIt-Anchor" href="#ä¸€-ä¸‹è½½ç‰¹å®šæ¨¡å‹"></a> ä¸€ã€ä¸‹è½½ç‰¹å®šæ¨¡å‹</h2><p>åœ¨ä¸€ä¸ªæœ‰ç½‘çš„ç¯å¢ƒä¸­ï¼Œä½¿ç”¨<code>ollama pull</code>å‘½ä»¤ä¸‹è½½æ¨¡å‹ï¼Œå¦‚ï¼šdeepseek-r1:7b</p><p><img src="v2-bc39552763b810cac1bd8ddf0759f60e_1440w.jpg" alt="" /></p><h3 id="äºŒ-è¿›è¡Œç¦»çº¿è¿ç§»"><a class="markdownIt-Anchor" href="#äºŒ-è¿›è¡Œç¦»çº¿è¿ç§»"></a> äºŒã€è¿›è¡Œç¦»çº¿è¿ç§»</h3><p>è¿ç§»ä¹‹å‰é¦–å…ˆéœ€è¦ç¡®å®šollamaä¸»ç›®å½•ã€‚åœ¨windowsç³»ç»Ÿä¸­ï¼Œé€šå¸¸æ˜¯ç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„.ollamaæ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚ï¼š <code>C:\Users\wangk\.ollama</code>ï¼›åœ¨Linuxç³»ç»Ÿä¸­ï¼ŒåŒæ ·çš„ï¼Œé€šå¸¸ä¹Ÿæ˜¯ç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„.ollamaæ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚ï¼š<code>/root/.ollama</code></p><p><img src="v2-ebe6d26a89f39584a055503de79cad77_1440w.jpg" alt="" /></p><p>windowsç³»ç»Ÿä¸‹çš„ollamaä¸»ç›®å½•</p><p><img src="v2-c1a2fc3fb4cdbac4e76fc2803ee0be37_1440w.jpg" alt="" /></p><p>linuxç³»ç»Ÿä¸‹çš„ollamaä¸»ç›®å½•</p><p>åœ¨ollamaä¸»ç›®å½•ä¸‹ï¼Œæœ‰ä¸¤éƒ¨åˆ†å†…å®¹éœ€è¦è¿ç§»</p><p><img src="v2-b3c5690beec2fb7cbd3da28fcbc7f474_1440w.jpg" alt="" /></p><h3 id="1-blobsæ–‡ä»¶å¤¹"><a class="markdownIt-Anchor" href="#1-blobsæ–‡ä»¶å¤¹"></a> 1ã€blobsæ–‡ä»¶å¤¹</h3><p>åœ¨blobsæ–‡ä»¶å¤¹ä¸‹æ˜¯ä¸€äº›äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè¿™æ—¶ï¼Œéœ€è¦åˆ°ollamaå®˜ç½‘å»ï¼Œæ‰¾åˆ°å¯¹åº”æ¨¡å‹çš„å”¯ä¸€æ ‡è¯†ï¼Œè¿™é‡Œä»¥deepseek-r1:7bä¸ºä¾‹ï¼Œollamaå®˜ç½‘çš„modelsä¸­æœç´¢deepseek-r1ï¼Œå¹¶è¿›å…¥ä¸»é¡µï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="v2-d2e2fd842e52625a65ec4bff7688aa44_1440w.jpg" alt="" /></p><p>ç‚¹å‡»modelï¼Œç„¶åæ‹·è´è¿™éƒ¨åˆ† <code>96c415656d37</code></p><p><img src="v2-76ff6221344ddb966eda71dbfd3cf0ad_1440w.jpg" alt="" /></p><p>åœ¨blobsæ–‡ä»¶å¤¹æœç´¢ <code>96c415656d37</code></p><p><img src="v2-04e01d89ac6b10f695be22d2bd437977_1440w.jpg" alt="" /></p><p>å¯ä»¥å®šä½åˆ°ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶ï¼Œå¹¶å°†ä¸è¿™ä¸ªæ–‡ä»¶å…·æœ‰ç›¸åŒä¿®æ”¹æ—¶é—´çš„å…¶å®ƒæ–‡ä»¶ä¸€èµ·å¤åˆ¶åˆ°ç›®æ ‡ä¸»æœºçš„å¯¹åº”æ–‡ä»¶å¤¹ä¸‹</p><p><img src="v2-e40c2fda99e759e9f0c774aa9efea2ed_1440w.jpg" alt="" /></p><h3 id="2-manifestsæ–‡ä»¶å¤¹"><a class="markdownIt-Anchor" href="#2-manifestsæ–‡ä»¶å¤¹"></a> 2ã€manifestsæ–‡ä»¶å¤¹</h3><p>è¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œå¤åˆ¶manifestsæ–‡ä»¶å¤¹ä¸‹ç‰¹å®šç›®å½•åˆ°ç›®æ ‡ä¸»æœºçš„å¯¹åº”æ–‡ä»¶å¤¹ä¸‹</p><p><img src="v2-e418ca41dcf6cc9313c31c2d49e70ecb_1440w.jpg" alt="" /></p><h2 id="ä¸‰-æ¨¡å‹ç¦»çº¿è¿ç§»å®Œæˆ"><a class="markdownIt-Anchor" href="#ä¸‰-æ¨¡å‹ç¦»çº¿è¿ç§»å®Œæˆ"></a> ä¸‰ã€æ¨¡å‹ç¦»çº¿è¿ç§»å®Œæˆ</h2><p>åœ¨ç›®æ ‡ä¸»æœºè¿è¡Œ<code>ollama list</code>å‘½ä»¤ï¼Œå‘ç°deepseekr1:7bæ¨¡å‹å·²ç»è¿ç§»è¿‡æ¥äº†</p><p><img src="v2-11602e6d9a4920cd8ee0a82b3550fdbb_1440w.jpg" alt="" /></p><p><strong>å¤‡æ³¨ï¼šollamaçš„æ¨¡å‹åœ¨windowsã€linuxå’Œmacç³»ç»Ÿä¸­éƒ½æ˜¯é€šç”¨çš„ï¼Œæ¨¡å‹ä¸åŒç³»ç»Ÿä¹‹é—´å¯ä»¥è¿›è¡Œç›¸äº’æ‹·è´ã€‚</strong></p>]]></content>
      
      
      <categories>
          
          <category> æ™ºèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ollama </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‘é‡æ•°æ®åº“çš„åˆ†ç±»æ¦‚å†µ_å‘é‡åº“ç±»å‹</title>
      <link href="/2025/03/21/LLM/%E5%90%91%E9%87%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%88%86%E7%B1%BB%E6%A6%82%E5%86%B5_%E5%90%91%E9%87%8F%E5%BA%93%E7%B1%BB%E5%9E%8B/"/>
      <url>/2025/03/21/LLM/%E5%90%91%E9%87%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%88%86%E7%B1%BB%E6%A6%82%E5%86%B5_%E5%90%91%E9%87%8F%E5%BA%93%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="å‘é‡æ•°æ®åº“çš„åˆ†ç±»æ¦‚å†µ"><a class="markdownIt-Anchor" href="#å‘é‡æ•°æ®åº“çš„åˆ†ç±»æ¦‚å†µ"></a> å‘é‡æ•°æ®åº“çš„åˆ†ç±»æ¦‚å†µ</h2><p>ä¿å­˜å’Œæ£€ç´¢çŸ¢é‡æ•°æ®çš„äº”ç§æ–¹æ³•ï¼š</p><ol><li><p>åƒ Pinecone è¿™æ ·çš„çº¯çŸ¢é‡æ•°æ®åº“</p></li><li><p>å…¨æ–‡æœç´¢æ•°æ®åº“ï¼Œä¾‹å¦‚ ElasticSearch</p></li><li><p><strong>çŸ¢é‡åº“</strong>ï¼Œå¦‚ Faissã€Annoy å’Œ Hnswlib</p></li><li><p>æ”¯æŒçŸ¢é‡çš„<strong>NoSQL æ•°æ®åº“</strong>ï¼Œä¾‹å¦‚ MongoDBã€Cosmos DB å’Œ Cassandra</p></li><li><p>æ”¯æŒçŸ¢é‡çš„<strong>SQL æ•°æ®åº“</strong>ï¼Œä¾‹å¦‚ SingleStoreDB æˆ– PostgreSQL</p><p><img src="163d5fc517dc58b53456f98deafed0db.png" alt="" /></p><p>1.çº¯çŸ¢é‡æ•°æ®åº“</p><p>çº¯å‘é‡æ•°æ®åº“ä¸“é—¨ç”¨äºå­˜å‚¨å’Œæ£€ç´¢å‘é‡ã€‚ç¤ºä¾‹åŒ…æ‹¬ Chromaã€LanceDBã€Marqoã€Milvus/Zillizã€Pineconeã€Qdrantã€Valdã€Vespaã€Weaviate ç­‰ã€‚</p><p><img src="ae6d1ac179df0eda690dd9b5f640b9e5.png" alt="" /></p><p>åœ¨çº¯çŸ¢é‡æ•°æ®åº“ä¸­ï¼Œæ•°æ®æ˜¯æ ¹æ®å¯¹è±¡æˆ–æ•°æ®ç‚¹çš„çŸ¢é‡è¡¨ç¤ºæ¥ç»„ç»‡å’Œç´¢å¼•çš„ã€‚è¿™äº›å‘é‡å¯ä»¥æ˜¯å„ç§ç±»å‹æ•°æ®çš„æ•°å€¼è¡¨ç¤ºï¼ŒåŒ…æ‹¬å›¾åƒã€æ–‡æœ¬æ–‡æ¡£ã€éŸ³é¢‘æ–‡ä»¶æˆ–ä»»ä½•å…¶ä»–å½¢å¼çš„ç»“æ„åŒ–æˆ–éç»“æ„åŒ–æ•°æ®ã€‚</p><p><strong>çº¯è½½ä½“æ•°æ®åº“çš„ä¼˜ç‚¹</strong></p><p>åˆ©ç”¨ç´¢å¼•æŠ€æœ¯è¿›è¡Œé«˜æ•ˆçš„ç›¸ä¼¼æ€§æœç´¢<br />å¤§å‹æ•°æ®é›†å’Œé«˜æŸ¥è¯¢å·¥ä½œè´Ÿè½½çš„å¯æ‰©å±•æ€§<br />æ”¯æŒé«˜ç»´æ•°æ®<br />æ”¯æŒåŸºäº HTTP å’Œ JSON çš„ API<br />å¯¹å‘é‡è¿ç®—çš„æœ¬æœºæ”¯æŒï¼ŒåŒ…æ‹¬åŠ æ³•ã€å‡æ³•ã€ç‚¹ç§¯ã€ä½™å¼¦ç›¸ä¼¼åº¦</p><p><strong>çº¯è½½ä½“æ•°æ®åº“çš„ç¼ºç‚¹</strong></p><p><strong>ä»…çŸ¢é‡</strong><br />çº¯çŸ¢é‡æ•°æ®åº“å¯ä»¥å­˜å‚¨çŸ¢é‡å’Œä¸€äº›å…ƒæ•°æ®ï¼Œä½†ä»…æ­¤è€Œå·²ã€‚å¯¹äºå¤§å¤šæ•°ä¼ä¸šäººå·¥æ™ºèƒ½ç”¨ä¾‹ï¼Œæ‚¨å¯èƒ½éœ€è¦åŒ…æ‹¬å®ä½“ã€å±æ€§å’Œå±‚æ¬¡ç»“æ„ï¼ˆå›¾å½¢ï¼‰ã€ä½ç½®ï¼ˆåœ°ç†ç©ºé—´ï¼‰ç­‰çš„æè¿°ç­‰æ•°æ®ã€‚</p><p><strong>æœ‰é™æˆ–æ²¡æœ‰ SQL æ”¯æŒ</strong><br />çº¯å‘é‡æ•°æ®åº“é€šå¸¸ä½¿ç”¨è‡ªå·±çš„æŸ¥è¯¢è¯­è¨€ï¼Œè¿™ä½¿å¾—å¾ˆéš¾å¯¹å‘é‡å’Œç›¸å…³ä¿¡æ¯è¿è¡Œä¼ ç»Ÿåˆ†æï¼Œæˆ–è€…å°†å‘é‡å’Œå…¶ä»–æ•°æ®ç±»å‹ç»“åˆèµ·æ¥ã€‚</p><p><strong>æ²¡æœ‰å®Œæ•´çš„ CRUD</strong><br />çº¯å‘é‡æ•°æ®åº“å¹¶ä¸æ˜¯çœŸæ­£ä¸ºåˆ›å»ºã€æ›´æ–°å’Œåˆ é™¤æ“ä½œè€Œè®¾è®¡çš„ã€‚å¯¹äºè¯»å–æ“ä½œï¼Œæ•°æ®å¿…é¡»é¦–å…ˆè¿›è¡ŒçŸ¢é‡åŒ–å’Œç´¢å¼•ä»¥è¿›è¡ŒæŒä¹…åŒ–å’Œæ£€ç´¢ã€‚è¿™äº›æ•°æ®åº“ä¸“æ³¨äºæå–çŸ¢é‡æ•°æ®ã€å¯¹å…¶è¿›è¡Œç´¢å¼•ä»¥è¿›è¡Œæœ‰æ•ˆçš„ç›¸ä¼¼æ€§æœç´¢ä»¥åŠåŸºäºçŸ¢é‡ç›¸ä¼¼æ€§æŸ¥è¯¢æœ€è¿‘é‚»å±…ã€‚</p><p><strong>å»ºç«‹ç´¢å¼•éå¸¸è€—æ—¶</strong><br />ç´¢å¼•çŸ¢é‡æ•°æ®è®¡ç®—é‡å¤§ã€æˆæœ¬é«˜ä¸”è€—æ—¶ã€‚è¿™ä½¿å¾—å¾ˆéš¾å°†æ–°æ•°æ®ç”¨äºç”Ÿæˆäººå·¥æ™ºèƒ½åº”ç”¨ç¨‹åºã€‚</p><p><strong>è¢«è¿«æƒè¡¡</strong><br />æ ¹æ®æ‰€ä½¿ç”¨çš„ç´¢å¼•æŠ€æœ¯ï¼ŒçŸ¢é‡æ•°æ®åº“è¦æ±‚å®¢æˆ·åœ¨å‡†ç¡®æ€§ã€æ•ˆç‡å’Œå­˜å‚¨ä¹‹é—´è¿›è¡Œæƒè¡¡ã€‚ä¾‹å¦‚ï¼ŒPinecone çš„ IMI ç´¢å¼•ï¼ˆåå‘å¤šé‡ç´¢å¼•ï¼ŒANN çš„ä¸€ç§å˜ä½“ï¼‰ä¼šäº§ç”Ÿå­˜å‚¨å¼€é”€ï¼Œå¹¶ä¸”è®¡ç®—é‡å¾ˆå¤§ã€‚å®ƒä¸»è¦é’ˆå¯¹é™æ€æˆ–åŠé™æ€æ•°æ®é›†è€Œè®¾è®¡ï¼Œå¦‚æœé¢‘ç¹æ·»åŠ ã€ä¿®æ”¹æˆ–åˆ é™¤å‘é‡ï¼Œåˆ™å¯èƒ½ä¼šå—åˆ°æŒ‘æˆ˜ã€‚Milvus ä½¿ç”¨ç§°ä¸ºâ€œäº§å“é‡åŒ–â€å’Œâ€œåˆ†å±‚å¯å¯¼èˆªå°ä¸–ç•Œâ€(HNSW) çš„ç´¢å¼•ï¼Œè¿™äº›ç´¢å¼•æ˜¯æƒè¡¡æœç´¢å‡†ç¡®æ€§å’Œæ•ˆç‡çš„è¿‘ä¼¼æŠ€æœ¯ã€‚æ­¤å¤–ï¼Œå…¶ç´¢å¼•éœ€è¦é…ç½®å„ç§å‚æ•°ï¼Œä½¿ç”¨ä¸æ­£ç¡®çš„å‚æ•°é€‰æ‹©å¯èƒ½ä¼šå½±å“æœç´¢ç»“æœçš„è´¨é‡æˆ–å¯¼è‡´æ•ˆç‡ä½ä¸‹ã€‚</p><p><strong>ä¼ä¸šç‰¹å¾å€¼å¾—æ€€ç–‘</strong><br />è®¸å¤šçŸ¢é‡æ•°æ®åº“åœ¨åŸºæœ¬åŠŸèƒ½ä¸Šä¸¥é‡è½åï¼ŒåŒ…æ‹¬ ACID äº‹åŠ¡ã€ç¾éš¾æ¢å¤ã€RBACã€å…ƒæ•°æ®è¿‡æ»¤ã€æ•°æ®åº“å¯ç®¡ç†æ€§ã€å¯è§‚å¯Ÿæ€§ç­‰ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´ä¸¥é‡çš„ä¸šåŠ¡é—®é¢˜ - ç±»ä¼¼äºä¸¢å¤±æ‰€æœ‰æ•°æ®çš„å®¢æˆ·<a href="https://twitter.com/daraladje/status/1631050397841342465" title="ã€‚">ã€‚</a></p><p>å¯¹äºè®¸å¤šå®¢æˆ·æ¥è¯´ï¼ŒçŸ¢é‡æ•°æ®åº“çš„å±€é™æ€§å°†å½’ç»“ä¸ºæ€§ä»·æ¯”ã€‚é‰´äºçŸ¢é‡è¿ç®—çš„è®¡ç®—é‡å¤§ï¼ŒOSSçŸ¢é‡æ•°æ®åº“æˆ–çŸ¢é‡åº“æˆä¸ºç‰¹åˆ«å¤§è§„æ¨¡åº”ç”¨ç¨‹åºçš„å¯è¡Œæ›¿ä»£æ–¹æ¡ˆã€‚</p><p><strong>2. å…¨æ–‡æ£€ç´¢æ•°æ®åº“</strong></p><p>æ­¤ç±»åˆ«åŒ…æ‹¬ Elastic/Luceneã€OpenSearch å’Œ Solr ç­‰æ•°æ®åº“ã€‚</p><p><img src="8a5d8011f85d2dc2d0c73ce7ebfc87e3.png" alt="" /></p><p><strong>ä¼˜ç‚¹</strong></p><p>--é«˜å¯æ‰©å±•æ€§å’Œæ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯å¯¹äºéç»“æ„åŒ–æ–‡æœ¬æ–‡æ¡£</p><p>--ä¸°å¯Œçš„æ–‡æœ¬æ£€ç´¢åŠŸèƒ½ï¼Œä¾‹å¦‚å†…ç½®å¤–è¯­æ”¯æŒã€å¯è‡ªå®šä¹‰åˆ†è¯å™¨ã€è¯å¹²åˆ†æå™¨ã€åœæ­¢åˆ—è¡¨å’Œ N å…ƒè¯­æ³•</p><p>--åŸºäºå¼€æºåº“ï¼ˆApache Luceneï¼‰</p><p>--å¤§å‹é›†æˆç”Ÿæ€ç³»ç»Ÿï¼ŒåŒ…æ‹¬å‘é‡åº“</p><p><strong>çŸ¢é‡æ•°æ®å…¨æ–‡æ£€ç´¢æ•°æ®åº“çš„å±€é™æ€§</strong></p><p>--æœªé’ˆå¯¹å‘é‡æœç´¢æˆ–ç›¸ä¼¼æ€§åŒ¹é…è¿›è¡Œä¼˜åŒ–</p><p>--ä¸“ä¸ºå…¨æ–‡æœç´¢è€Œä¸æ˜¯è¯­ä¹‰æœç´¢è€Œè®¾è®¡ï¼Œå› æ­¤åŸºäºå…¶æ„å»ºçš„åº”ç”¨ç¨‹åºä¸ä¼šå…·æœ‰æ£€ç´¢å¢å¼ºç”Ÿæˆ (RAG) å’Œå…¶ä»–ç”¨ä¾‹çš„å®Œæ•´ä¸Šä¸‹æ–‡ã€‚ä¸ºäº†å®ç°è¯­ä¹‰æœç´¢åŠŸèƒ½ï¼Œè¿™äº›æ•°æ®åº“éœ€è¦ä½¿ç”¨å…¶ä»–å·¥å…·ä»¥åŠå¤§é‡çš„è‡ªå®šä¹‰è¯„åˆ†å’Œç›¸å…³æ€§æ¨¡å‹è¿›è¡Œæ‰©å……ã€‚</p><p>--å…¶ä»–æ•°æ®æ ¼å¼ï¼ˆå›¾åƒã€éŸ³é¢‘ã€è§†é¢‘ï¼‰çš„åº”ç”¨æœ‰é™</p><p>--ç¼ºä¹ GPU æ”¯æŒ</p><p><strong>3. å‘é‡åº“</strong></p><p>å¯¹äºè®¸å¤šå¼€å‘äººå‘˜æ¥è¯´ï¼ŒFaissã€Annoy å’Œ Hnswlib ç­‰å¼€æºçŸ¢é‡åº“æ˜¯ä¸€ä¸ªä¸é”™çš„èµ·ç‚¹ã€‚</p><p><img src="6d5c702aad0c5d31e3cde5925dcf1988.png" alt="" /></p><p>Faissæ˜¯ä¸€ä¸ªç”¨äºå¯†é›†å‘é‡çš„ç›¸ä¼¼æ€§æœç´¢å’Œèšç±»çš„åº“ã€‚Annoyï¼ˆApproximate Nearest Neighbors Oh Yeahï¼‰æ˜¯ä¸€ä¸ªç”¨äº ANN æœç´¢çš„è½»é‡çº§åº“ã€‚Hnswlibæ˜¯ä¸€ä¸ªå®ç° ANN æœç´¢çš„ HNSW ç®—æ³•çš„åº“ã€‚</p><p><strong>å¼€æºå‘é‡åº“çš„ä¼˜ç‚¹</strong></p><p>--å¿«é€Ÿæœ€è¿‘é‚»æœç´¢</p><p>--ä¸“ä¸ºé«˜ç»´è€Œæ‰“é€ </p><p>--æ”¯æŒé¢å‘ ANN çš„ç´¢å¼•ç»“æ„ï¼ŒåŒ…æ‹¬å€’æ’æ–‡ä»¶ã€ä¹˜ç§¯é‡åŒ–å’ŒéšæœºæŠ•å½±</p><p>--æ”¯æŒæ¨èç³»ç»Ÿã€å›¾åƒæœç´¢å’Œ NLP çš„ç”¨ä¾‹</p><p>--SIMDï¼ˆå•æŒ‡ä»¤ã€å¤šæ•°æ®ï¼‰å’Œ GPU æ”¯æŒå¯åŠ é€ŸçŸ¢é‡ç›¸ä¼¼æ€§æœç´¢æ“ä½œ</p><p><strong>å¼€æºå‘é‡åº“çš„å±€é™æ€§</strong></p><p>--ç¹ççš„ç»´æŠ¤å’Œé›†æˆ</p><p>--ä¸ç²¾ç¡®æ–¹æ³•ç›¸æ¯”ï¼Œç‰ºç‰²æœç´¢ç²¾åº¦</p><p>--è‡ªå¸¦åŸºç¡€è®¾æ–½ã€‚çŸ¢é‡åº“éœ€è¦å¤§é‡å†…å­˜å’Œè®¡ç®—èµ„æºï¼Œå®ƒä»¬éœ€è¦æ‚¨æ„å»ºå’Œç»´æŠ¤å¤æ‚çš„åŸºç¡€è®¾æ–½ï¼Œä»¥ä¾¿ä¸ºåº”ç”¨ç¨‹åºéœ€æ±‚æä¾›è¶³å¤Ÿçš„ CPUã€GPU å’Œå†…å­˜èµ„æºã€‚</p><p>--å¯¹å…ƒæ•°æ®è¿‡æ»¤ã€SQLã€CRUD æ“ä½œã€äº‹åŠ¡ã€é«˜å¯ç”¨æ€§ã€ç¾éš¾æ¢å¤ä»¥åŠå¤‡ä»½å’Œæ¢å¤çš„æ”¯æŒæœ‰é™æˆ–ä¸æ”¯æŒ</p></li></ol><p><strong>4.æ”¯æŒå‘é‡çš„NoSQLæ•°æ®åº“</strong></p><p>è¯¥ç±»åˆ«åŒ…æ‹¬ï¼š</p><ol><li><p><strong>NoSQL æ•°æ®åº“</strong>ï¼Œä¾‹å¦‚ MongoDBã€Cassandra/DataStax Astra å’Œ CosmosDBã€‚</p></li><li><p><strong>é”®å€¼æ•°æ®åº“</strong>ï¼Œä¾‹å¦‚ Redis</p></li><li><p><strong>å…¶ä»–ç‰¹æ®Šç”¨é€”æ•°æ®åº“</strong>ï¼Œä¾‹å¦‚ Neo4jï¼ˆå›¾ï¼‰</p></li></ol><p>å‡ ä¹æ‰€æœ‰è¿™äº› NoSQL æ•°æ®åº“æœ€è¿‘æ‰é€šè¿‡æ·»åŠ çŸ¢é‡æœç´¢æ‰©å±•è€Œå˜å¾—æ”¯æŒçŸ¢é‡ã€‚</p><p><img src="fe418e6d6d6dab71d15710c0437935b5.png" alt="" /></p><p><strong>ä¼˜ç‚¹</strong></p><ul><li>å¯¹äºå…¶ç‰¹å®šçš„æ•°æ®æ¨¡å‹ï¼ŒNoSQL æ•°æ®åº“æä¾›é«˜æ€§èƒ½å’Œè§„æ¨¡ã€‚Neo4jï¼ˆå›¾å½¢æ•°æ®åº“ï¼‰å¯ä»¥ä¸ç¤¾äº¤ç½‘ç»œæˆ–çŸ¥è¯†å›¾çš„æ³•å­¦ç¡•å£«ç»“åˆä½¿ç”¨ã€‚å…·æœ‰çŸ¢é‡åŠŸèƒ½çš„æ—¶é—´åºåˆ—æ•°æ®åº“ï¼ˆä¾‹å¦‚ kdbï¼‰ä¹Ÿè®¸èƒ½å¤Ÿå°†çŸ¢é‡æ•°æ®ä¸é‡‘èå¸‚åœºæ•°æ®ç»“åˆèµ·æ¥ã€‚</li></ul><p><strong>å±€é™æ€§</strong></p><ul><li><p>NoSQL æ•°æ®åº“çš„å‘é‡åŠŸèƒ½æ˜¯åŸºæœ¬çš„/æ–°ç”Ÿçš„/æœªç»æµ‹è¯•çš„ã€‚è®¸å¤š NoSQL æ•°æ®åº“ä»Šå¹´æ‰æ·»åŠ äº†å‘é‡æ”¯æŒã€‚äº”æœˆï¼ŒCassandra å®£å¸ƒè®¡åˆ’æ·»åŠ çŸ¢é‡æœç´¢ã€‚4 æœˆä»½ï¼ŒRockset å®£å¸ƒæ”¯æŒåŸºæœ¬å‘é‡æœç´¢ï¼ŒAzure Cosmos DBäº 5 æœˆä»½å®£å¸ƒæ”¯æŒ MongoDB vCore çš„å‘é‡æœç´¢ã€‚DataStaxå’ŒMongoDBå°±åœ¨æœ¬æœˆå®£å¸ƒäº†çŸ¢é‡æœç´¢åŠŸèƒ½ï¼ˆå‡ä¸ºé¢„è§ˆç‰ˆï¼‰ï¼</p></li><li><p>NoSQL æ•°æ®åº“çš„çŸ¢é‡æœç´¢æ€§èƒ½å·®å¼‚å¾ˆå¤§ï¼Œå…·ä½“å–å†³äºæ”¯æŒçš„çŸ¢é‡å‡½æ•°ã€ç´¢å¼•æ–¹æ³•å’Œç¡¬ä»¶åŠ é€Ÿã€‚</p><p><strong>5. æ”¯æŒå‘é‡çš„ SQL æ•°æ®åº“</strong></p><p>è¯¥ç±»åˆ«ç”±ä¸€ç»„éå¸¸å°çš„æ•°æ®åº“ç»„æˆâ€”â€”SingleStoreDBã€PostgreSQL çš„ pgvector/Supabase Vectorï¼ˆæµ‹è¯•ç‰ˆï¼‰ã€Clickhouseã€Kinetica å’Œ Rocksetã€‚æˆ‘ä»¬é¢„è®¡æ›´å¤šæµè¡Œçš„æ•°æ®åº“ä¼šå‡ºç°åœ¨è¿™ä¸ªåˆ—è¡¨ä¸­ï¼Œå› ä¸ºå‘å·²å»ºç«‹çš„æ•°æ®åº“æ·»åŠ åŸºæœ¬çŸ¢é‡åŠŸèƒ½å¹¶ä¸æ˜¯ä¸€ä»¶ç¹é‡çš„å·¥ä½œã€‚äº‹å®ä¸Šï¼ŒçŸ¢é‡æ•°æ®åº“ Chroma æ˜¯ä» ClickHouse ä¸­è¯ç”Ÿçš„ã€‚<br />æ›´æ–°ï¼š2023 å¹´ 9 æœˆï¼ŒOracle ä¹Ÿå®£å¸ƒäº†çŸ¢é‡æœç´¢åŠŸèƒ½ã€‚</p><p><img src="ede714ef9b1feb17438666a0643d78cb.png" alt="" /></p><p><strong>æ”¯æŒçŸ¢é‡çš„ SQL æ•°æ®åº“çš„ä¼˜ç‚¹</strong></p><p>--å…·æœ‰ç‚¹ç§¯ã€ä½™å¼¦ç›¸ä¼¼åº¦ã€æ¬§æ°è·ç¦»å’Œæ›¼å“ˆé¡¿è·ç¦»ç­‰åŠŸèƒ½çš„å¹‚å‘é‡æœç´¢ã€‚</p><p>--ä½¿ç”¨ç›¸ä¼¼åº¦åˆ†æ•°æŸ¥æ‰¾ K æœ€è¿‘é‚»</p><p>--å¤šæ¨¡å‹ SQL æ•°æ®åº“æä¾›æ··åˆæœç´¢ï¼Œå¹¶ä¸”å¯ä»¥å°†å‘é‡ä¸å…¶ä»–æ•°æ®ç»“åˆèµ·æ¥ä»¥è·å¾—æ›´æœ‰æ„ä¹‰çš„ç»“æœ</p><p>--å¤§å¤šæ•° SQL æ•°æ®åº“å¯ä»¥éƒ¨ç½²ä¸ºæœåŠ¡ï¼Œå¹¶åœ¨ä»»ä½•ä¸»è¦äº‘ä¸Šå®Œå…¨ç®¡ç†ã€‚</p><p><strong>SQL æ•°æ®åº“ç”¨äºçŸ¢é‡æ•°æ®å¤„ç†çš„å±€é™æ€§</strong></p><p>--SQL æ•°æ®åº“æ˜¯ä¸ºç»“æ„åŒ–æ•°æ®è€Œè®¾è®¡çš„ã€‚ç”Ÿæˆå¼äººå·¥æ™ºèƒ½åº”ç”¨ç¨‹åºèƒŒåçš„è¯­æ–™åº“ä¸»è¦åŒ…å«éç»“æ„åŒ–æ•°æ®ï¼Œä¾‹å¦‚å›¾åƒã€éŸ³é¢‘å’Œæ–‡æœ¬ã€‚è™½ç„¶å…³ç³»æ•°æ®åº“é€šå¸¸å¯ä»¥å­˜å‚¨æ–‡æœ¬å’Œ blobï¼Œä½†å¤§å¤šæ•°æ•°æ®åº“ä¸ä¼šå¯¹è¿™ç§éç»“æ„åŒ–æ•°æ®è¿›è¡ŒçŸ¢é‡åŒ–ä»¥ç”¨äºæœºå™¨å­¦ä¹ ã€‚</p><p>--å¤§å¤šæ•° SQL æ•°æ®åº“å°šæœªé’ˆå¯¹çŸ¢é‡æœç´¢è¿›è¡Œä¼˜åŒ–ã€‚å…³ç³»æ•°æ®åº“çš„ç´¢å¼•å’ŒæŸ¥è¯¢æœºåˆ¶ä¸»è¦æ˜¯ä¸ºç»“æ„åŒ–æ•°æ®è®¾è®¡çš„ï¼Œè€Œä¸æ˜¯é«˜ç»´å‘é‡æ•°æ®ã€‚è™½ç„¶ç”¨äºçŸ¢é‡æ•°æ®å¤„ç†çš„ SQL æ•°æ®åº“çš„æ€§èƒ½å¯èƒ½å¹¶ä¸å‡ºè‰²ï¼Œä½†æ”¯æŒçŸ¢é‡çš„ SQL æ•°æ®åº“å¯èƒ½ä¼šæ·»åŠ æ‰©å±•æˆ–æ–°åŠŸèƒ½æ¥æ”¯æŒçŸ¢é‡æœç´¢ã€‚ä¾‹å¦‚ï¼Œè™½ç„¶ SingleStoreDB æ”¯æŒç²¾ç¡®çš„ k-NN æœç´¢ï¼Œä½†æˆ‘ä»¬æ‰“ç®—æ·»åŠ  ANN æœç´¢æ¥æé«˜éå¸¸å¤§ã€é«˜ç»´æ•°æ®é›†çš„æ€§èƒ½ã€‚</p><p>--ä¼ ç»Ÿçš„ SQL æ•°æ®åº“æ— æ³•æ¨ªå‘æ‰©å±•ï¼Œå› æ­¤å…¶æ€§èƒ½ä¼šéšç€æ•°æ®çš„å¢é•¿è€Œä¸‹é™ã€‚ä½¿ç”¨ SQL æ•°æ®åº“å¤„ç†é«˜ç»´å‘é‡çš„å¤§å‹æ•°æ®é›†å¯èƒ½éœ€è¦æ‚¨è¿›è¡Œé¢å¤–çš„ä¼˜åŒ–ï¼Œä¾‹å¦‚å¯¹æ•°æ®è¿›è¡Œåˆ†åŒºæˆ–é‡‡ç”¨ä¸“é—¨çš„ç´¢å¼•æŠ€æœ¯æ¥ä¿æŒé«˜æ•ˆçš„æŸ¥è¯¢æ€§èƒ½ã€‚</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LLM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è½¯ä»¶ä¸ºUDPæœåŠ¡å´æ”¶ä¸åˆ°æ•°æ®é—®é¢˜è§£æ</title>
      <link href="/2025/03/20/UDPTCP/%E8%BD%AF%E4%BB%B6%E4%B8%BAUDP%E6%9C%8D%E5%8A%A1%E5%8D%B4%E6%94%B6%E4%B8%8D%E5%88%B0%E6%95%B0%E6%8D%AE%E9%97%AE%E9%A2%98%E8%A7%A3%E6%9E%90/"/>
      <url>/2025/03/20/UDPTCP/%E8%BD%AF%E4%BB%B6%E4%B8%BAUDP%E6%9C%8D%E5%8A%A1%E5%8D%B4%E6%94%B6%E4%B8%8D%E5%88%B0%E6%95%B0%E6%8D%AE%E9%97%AE%E9%A2%98%E8%A7%A3%E6%9E%90/</url>
      
        <content type="html"><![CDATA[<h3 id="é—®é¢˜è½¯ä»¶ä¸ºudpæœåŠ¡å´æ”¶ä¸åˆ°æ•°æ®é—®é¢˜è§£æ"><a class="markdownIt-Anchor" href="#é—®é¢˜è½¯ä»¶ä¸ºudpæœåŠ¡å´æ”¶ä¸åˆ°æ•°æ®é—®é¢˜è§£æ"></a> é—®é¢˜ï¼šè½¯ä»¶ä¸ºUDPæœåŠ¡å´æ”¶ä¸åˆ°æ•°æ®é—®é¢˜è§£æ</h3><blockquote><p>ã€é—®é¢˜æè¿°ã€‘å®‰è£…äº†ä¸€è½¯ä»¶ï¼ŒåŸºç¡€UDPæœåŠ¡ï¼Œç”¨æ¥æ¥æ”¶UDPæ•°æ®åè®®ï¼Œä½†è½¯ä»¶å¯åŠ¨åï¼Œå°±æ˜¯æ”¶ä¸åˆ°ä»»ä½•UDPæ•°æ®ã€‚</p></blockquote><blockquote><p>ã€åŸå› åˆ†æã€‘</p></blockquote><h4 id="1å®‰è£…wiresharkæˆ–udpæµ‹è¯•å·¥å…·æ­£å¸¸èƒ½æ¥æ”¶udpæ•°æ®è¯´æ˜å‘é€ç«¯æ²¡æœ‰é—®é¢˜"><a class="markdownIt-Anchor" href="#1å®‰è£…wiresharkæˆ–udpæµ‹è¯•å·¥å…·æ­£å¸¸èƒ½æ¥æ”¶udpæ•°æ®è¯´æ˜å‘é€ç«¯æ²¡æœ‰é—®é¢˜"></a> 1.å®‰è£…wiresharkæˆ–UDPæµ‹è¯•å·¥å…·ï¼Œæ­£å¸¸èƒ½æ¥æ”¶UDPæ•°æ®ï¼Œè¯´æ˜å‘é€ç«¯æ²¡æœ‰é—®é¢˜ã€‚</h4><h4 id="2å¯åŠ¨æ­¤è½¯ä»¶æŸ¥çœ‹æ˜¯å¦å ç”¨ç«¯å£æŸ¥çœ‹åˆ°"><a class="markdownIt-Anchor" href="#2å¯åŠ¨æ­¤è½¯ä»¶æŸ¥çœ‹æ˜¯å¦å ç”¨ç«¯å£æŸ¥çœ‹åˆ°"></a> 2.å¯åŠ¨æ­¤è½¯ä»¶ï¼ŒæŸ¥çœ‹æ˜¯å¦å ç”¨ç«¯å£ï¼ŒæŸ¥çœ‹åˆ°:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">netstat -ano | findstr :9999</span><br><span class="line"> UDP    192.168.110.1:9999   *:*    3934</span><br></pre></td></tr></table></figure><p>è¯´æ˜è½¯ä»¶æ­£å¸¸å¯åŠ¨ï¼Œä½†æ˜¯å…¶ä¸­çš„192.168.110.1å¹¶ä¸æ˜¯æˆ‘ä¸»ç½‘å¡çš„ç½‘å¡ã€‚<br />æœ¬æœºæœ‰ä¸‰ä¸ªç½‘å¡ï¼ˆWMware Network Adapter VMnet1ã€WMware Network Adapter VMnet8å’Œä»¥å¤ªç½‘ï¼‰<br />å…¶ä¸­å®‰è£…è™šæ‹Ÿæœºè½¯ä»¶WMwareåï¼Œå®‰è£…äº†å‰ä¸¤å—ç½‘å¡ï¼Œå…¶ä¸­WMware Network Adapter VMnet8ç½‘æ®µæ˜¯192.168.110.1<br />ä¹Ÿå°±æ˜¯è¯´ï¼Œè½¯ä»¶é»˜è®¤çš„ç”¨çš„æ˜¯WMware Network Adapter VMnet8ç½‘å¡è€Œä¸æ˜¯æœ¬æœºçš„ä»¥å¤ªç½‘ç½‘å¡</p><blockquote><p>ã€è§£å†³æ–¹æ¡ˆã€‘é€šè¿‡è·ƒç‚¹æ•°ï¼ˆMetricï¼‰è®¾ç½®ä¼˜å…ˆçº§</p></blockquote><h4 id="1æ‰“å¼€ç½‘ç»œè¿æ¥è®¾ç½®"><a class="markdownIt-Anchor" href="#1æ‰“å¼€ç½‘ç»œè¿æ¥è®¾ç½®"></a> 1.æ‰“å¼€ç½‘ç»œè¿æ¥è®¾ç½®ï¼š</h4><ul><li>æŒ‰ Win + R è¾“å…¥ ncpa.cpl å›è½¦ã€‚</li><li>æˆ–ä¾æ¬¡ç‚¹å‡»ï¼šæ§åˆ¶é¢æ¿ â†’ ç½‘ç»œå’ŒInternet â†’ ç½‘ç»œè¿æ¥ã€‚</li></ul><h4 id="2è°ƒæ•´ç½‘å¡è·ƒç‚¹æ•°"><a class="markdownIt-Anchor" href="#2è°ƒæ•´ç½‘å¡è·ƒç‚¹æ•°"></a> 2.è°ƒæ•´ç½‘å¡è·ƒç‚¹æ•°ï¼š</h4><ul><li>å³é”®ç‚¹å‡»è¦è®¾ä¸ºâ€œä¸»ç½‘å¡â€çš„é€‚é…å™¨ â†’ å±æ€§ â†’ åŒå‡» â€œInternetåè®®ç‰ˆæœ¬4ï¼ˆTCP/IPv4ï¼‰â€ã€‚</li><li>ç‚¹å‡» â€œé«˜çº§â€ â†’ åˆ‡æ¢åˆ° â€œè‡ªåŠ¨è·ƒç‚¹â€ æ ‡ç­¾ã€‚</li><li>å–æ¶ˆå‹¾é€‰ â€œè‡ªåŠ¨è·ƒç‚¹â€ï¼Œè¾“å…¥ä¸€ä¸ªè¾ƒå°çš„æ•°å€¼ï¼ˆå¦‚ 10ï¼‰ï¼Œè·ƒç‚¹æ•°è¶Šä½ä¼˜å…ˆçº§è¶Šé«˜ã€‚</li><li>å¯¹å…¶ä»–ç½‘å¡è®¾ç½®æ›´é«˜çš„è·ƒç‚¹æ•°ï¼ˆå¦‚ 20ã€30ï¼‰ã€‚</li></ul><h4 id="3é‡å¯ç½‘ç»œæœåŠ¡æˆ–é‡å¯ç”µè„‘"><a class="markdownIt-Anchor" href="#3é‡å¯ç½‘ç»œæœåŠ¡æˆ–é‡å¯ç”µè„‘"></a> 3.é‡å¯ç½‘ç»œæœåŠ¡æˆ–é‡å¯ç”µè„‘ï¼š</h4><ul><li>æŒ‰ Win + R è¾“å…¥ cmdï¼Œå³é”®é€‰æ‹©â€œä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œâ€ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ipconfig /flushdns</span><br><span class="line">netsh int ip reset</span><br><span class="line">netsh winsock reset</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œé€šè®¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UDPTCP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UE4&amp;5 C++ç±»åˆ›å»ºåé‡å¯é¡¹ç›®C++ç±»ä¸æ˜¾ç¤ºå¹¶ä¸”å…¶è“å›¾å­ç±»ä¸¢å¤±çˆ¶ç±»ç­‰é—®é¢˜åŸå› åŠè§£å†³æ–¹æ³•</title>
      <link href="/2025/03/19/UE/UE4&amp;5%20C++%E7%B1%BB%E5%88%9B%E5%BB%BA%E5%90%8E%E9%87%8D%E5%90%AF%E9%A1%B9%E7%9B%AEC++%E7%B1%BB%E4%B8%8D%E6%98%BE%E7%A4%BA%E5%B9%B6%E4%B8%94%E5%85%B6%E8%93%9D%E5%9B%BE%E5%AD%90%E7%B1%BB%E4%B8%A2%E5%A4%B1%E7%88%B6%E7%B1%BB%E7%AD%89%E9%97%AE%E9%A2%98%E5%8E%9F%E5%9B%A0%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/"/>
      <url>/2025/03/19/UE/UE4&amp;5%20C++%E7%B1%BB%E5%88%9B%E5%BB%BA%E5%90%8E%E9%87%8D%E5%90%AF%E9%A1%B9%E7%9B%AEC++%E7%B1%BB%E4%B8%8D%E6%98%BE%E7%A4%BA%E5%B9%B6%E4%B8%94%E5%85%B6%E8%93%9D%E5%9B%BE%E5%AD%90%E7%B1%BB%E4%B8%A2%E5%A4%B1%E7%88%B6%E7%B1%BB%E7%AD%89%E9%97%AE%E9%A2%98%E5%8E%9F%E5%9B%A0%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h3 id="é—®é¢˜ä¸€ue45-cç±»åˆ›å»ºåç¼–è¾‘å™¨ä¸æ˜¾ç¤º"><a class="markdownIt-Anchor" href="#é—®é¢˜ä¸€ue45-cç±»åˆ›å»ºåç¼–è¾‘å™¨ä¸æ˜¾ç¤º"></a> é—®é¢˜ä¸€ï¼šUE4&amp;5 C++ç±»åˆ›å»ºåç¼–è¾‘å™¨ä¸æ˜¾ç¤º</h3><p>ã€é—®é¢˜æè¿°ã€‘ï¼šC<ins>ç±»åˆ›å»ºåï¼Œåœ¨ç”µè„‘èµ„æºç®¡ç†å™¨ä¸­æ˜¾ç¤ºå­˜åœ¨.hå’Œ.cppæ–‡ä»¶ï¼ŒVSæ­£å¸¸æ‰“å¼€å…¶.hå’Œ.cppæ–‡ä»¶ï¼Œå®æ—¶ç¼–è¯‘ä¹Ÿä¸æŠ¥é”™ï¼Œä½†æ˜¯åœ¨UEç¼–è¾‘å™¨ä¸­C</ins>ç±»æ–‡ä»¶å¤¹ä¸‹ä¸è§è¸ªå½±ã€‚</p><p>ã€åŸå› ã€‘C<ins>ç±»æ–‡ä»¶è·¯å¾„é”™è¯¯ï¼Œå±äºC1083é”™è¯¯çš„å˜ç§ã€‚C</ins>ç±»åªèƒ½å­˜æ”¾åœ¨æºæ–‡ä»¶å¤¹ä¸‹é¡¹ç›®åŒåæ–‡ä»¶å¤¹ä¸‹çš„Privateå’ŒPublicæ–‡ä»¶å¤¹å†…ï¼ŒC<ins>ç±»åˆ›å»ºæ—¶éœ€è¦å‹¾é€‰æ˜¯å…¬å…±æˆ–ç§æœ‰ï¼Œå…¬å…±çš„C</ins>ç±»çš„.hæ–‡ä»¶ä¼šæ”¾åœ¨Publicæ–‡ä»¶å¤¹å†…ï¼Œ.cppæ–‡ä»¶ä¼šæ”¾åœ¨Privateæ–‡ä»¶å¤¹å†…ï¼›ç§æœ‰çš„C++ç±»çš„.hå’Œ.cppéƒ½ä¼šè¢«æ”¾åœ¨Privateæ–‡ä»¶å¤¹å†…ã€‚</p><p>ã€è§£å†³æ–¹æ¡ˆã€‘åˆ›å»ºC++ç±»çš„æ—¶å€™ç‚¹é€‰ä¸Šé¢çš„å…¬å…±æˆ–ç§æœ‰ï¼ŒæŸ¥çœ‹.hå’Œ.cppæ–‡ä»¶ä¿å­˜è·¯å¾„æ˜¯å¦åœ¨æºæ–‡ä»¶å¤¹ä¸‹çš„é¡¹ç›®åŒåæ–‡ä»¶å¤¹å†…çš„Privateå’ŒPublicæ–‡ä»¶å¤¹å†…ã€‚</p><p>ã€ç‰¹åˆ«æ³¨æ„ã€‘é€‰æ‹©åˆ›å»ºC++ç©ºç±»çš„æ—¶å€™æ— è®ºæ˜¯å¦ç‚¹é€‰å…¬å…±ä¸ç§æœ‰éƒ½ä¸ä¼šè¢«UEç¼–è¾‘å™¨è¯†åˆ«æ˜¾ç¤ºã€‚è¿™æ˜¯å› ä¸ºéœ€è¦åœ¨ç©ºç±»ä¸­å®šä¹‰å—UEæ”¯æŒçš„ç±»çš„ç±»å‹æ‰å¯ä»¥è¢«è¯†åˆ«ã€‚ç®€å•æ¥è¯´å°±æ˜¯ç©ºç±»ä¸æ˜¯ç±»ã€‚</p><h3 id="é—®é¢˜äºŒue45-cç±»åˆ›å»ºåé‡å¯é¡¹ç›®cç±»ä¹Ÿä¸æ˜¾ç¤ºå¹¶ä¸”å…¶è“å›¾å­ç±»ä¸¢å¤±çˆ¶ç±»"><a class="markdownIt-Anchor" href="#é—®é¢˜äºŒue45-cç±»åˆ›å»ºåé‡å¯é¡¹ç›®cç±»ä¹Ÿä¸æ˜¾ç¤ºå¹¶ä¸”å…¶è“å›¾å­ç±»ä¸¢å¤±çˆ¶ç±»"></a> é—®é¢˜äºŒï¼šUE4&amp;5 C<ins>ç±»åˆ›å»ºåé‡å¯é¡¹ç›®C</ins>ç±»ä¹Ÿä¸æ˜¾ç¤ºå¹¶ä¸”å…¶è“å›¾å­ç±»ä¸¢å¤±çˆ¶ç±»</h3><p>ã€é—®é¢˜æè¿°ã€‘é€šè¿‡æ­£å¸¸æ–¹å¼åˆ›å»ºC++ç±»ä¼šæ­£å¸¸æ˜¾ç¤ºåœ¨UEç¼–è¾‘å™¨ä¸­ï¼Œä½†å…³é—­é¡¹ç›®é‡å¯ä¹‹å</p><p>ï¼ŒC<ins>ç±»ä¾ç„¶ä¸æ˜¾ç¤ºï¼Œè€Œä¸”åŸºäºC</ins>ç±»çš„è“å›¾å­ç±»ä¹Ÿä¼šæç¤ºä¸¢å¤±çˆ¶ç±»ã€‚</p><p>C++ä¸æ˜¾ç¤ºPrivateå’ŒPublicæ–‡ä»¶å¤¹å†…ï¼Œå…¶è“å›¾å­ç±»ä¹Ÿæ˜¾ç¤ºä¸æ­£å¸¸</p><p>ã€åŸå› ã€‘è¿™æ˜¯å› ä¸ºå®æ—¶ç¼–è¯‘çš„ä¿æŠ¤ã€‚</p><p>ã€è§£å†³æ–¹æ¡ˆã€‘<br />æ–¹æ¡ˆä¸€ï¼šå…³é—­å®æ—¶ç¼–è¯‘ï¼Œå¯ç”¨çƒ­é‡è½½ä¸VSç”Ÿæˆã€‚ï¼ˆä¸å»ºè®®ï¼‰<br />æ–¹æ¡ˆäºŒï¼šæ‰“å¼€é¡¹ç›®ç”¨Ctrl+alt+F11è¿è¡Œä¸€æ¬¡å®æ—¶ç¼–è¯‘ã€‚è¿™æ ·c<ins>ç±»å°±å‡ºæ¥äº†ï¼Œç„¶åè“å›¾å­ç±»ä¹Ÿå°±ä¼šæ˜¾ç¤ºc</ins>çˆ¶ç±»äº†ã€‚ï¼ˆæ³¨æ„æ‰“å¼€é¡¹ç›®åä¸å¯ä»¥å…ˆæ‰“å¼€è“å›¾å­ç±»ï¼Œä¸ç„¶è¿è¡Œä¸€æ¬¡å®æ—¶ç¼–è¯‘ä¹‹åè“å›¾è¿˜æ˜¯ä¼šæç¤ºæ— çˆ¶ç±»ï¼‰ï¼ˆä¸å»ºè®®ï¼‰<br />å¼€å¯é¡¹ç›®åè¿è¡Œå®æ—¶ç¼–è¯‘</p><p>æ–¹æ¡ˆä¸‰ï¼šå»ç¼–è¾‘å™¨åå¥½è®¾ç½®é‡Œå·¦ä¾§åŠ è½½å’Œä¿å­˜ä¸­å‹¾é€‰ä¸Šå¯åŠ¨æ—¶å¼ºåˆ¶ç¼–è¯‘ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UE5ï¼ˆè™šå¹»5ï¼‰è§£å†³The following modules are missing or built with a different engine version</title>
      <link href="/2025/03/18/UE/UE5%EF%BC%88%E8%99%9A%E5%B9%BB5%EF%BC%89%E8%A7%A3%E5%86%B3The%20following%20modules%20are%20missing%20or%20built%20with%20a%20different%20engine%20version/"/>
      <url>/2025/03/18/UE/UE5%EF%BC%88%E8%99%9A%E5%B9%BB5%EF%BC%89%E8%A7%A3%E5%86%B3The%20following%20modules%20are%20missing%20or%20built%20with%20a%20different%20engine%20version/</url>
      
        <content type="html"><![CDATA[<h3 id="æœ€è¿‘æ­£åœ¨ç”¨ue5å¼€å‘é¡¹ç›®åˆ›å»ºäº†ä¸€ä¸ªcé¡¹ç›®æˆ–åŠ ä¸€ä¸ªcç±»åé‡æ–°æ‰“å¼€åä¼šæŠ¥ä»¥ä¸‹é”™è¯¯"><a class="markdownIt-Anchor" href="#æœ€è¿‘æ­£åœ¨ç”¨ue5å¼€å‘é¡¹ç›®åˆ›å»ºäº†ä¸€ä¸ªcé¡¹ç›®æˆ–åŠ ä¸€ä¸ªcç±»åé‡æ–°æ‰“å¼€åä¼šæŠ¥ä»¥ä¸‹é”™è¯¯"></a> æœ€è¿‘æ­£åœ¨ç”¨UE5å¼€å‘é¡¹ç›®ï¼Œåˆ›å»ºäº†ä¸€ä¸ªC++é¡¹ç›®æˆ–åŠ ä¸€ä¸ªC++ç±»åï¼Œé‡æ–°æ‰“å¼€åä¼šæŠ¥ä»¥ä¸‹é”™è¯¯ï¼š</h3><blockquote><p>The following modules are missing or built with a different engine version:<br />XXXX<br />Would you like to rebuild them now?</p></blockquote><p>å‡ºç°ä»¥ä¸Šæç¤ºæ˜¯è®©é‡æ–°ç¼–è¯‘ï¼Œ<br />åŸå› æ˜¯C++é¡¹ç›®ç¨‹åºæˆ–æ’ä»¶æ²¡æœ‰æ­£ç¡®ç¼–è¯‘ï¼Œæˆ–è€…é¡¹ç›®æ–‡ä»¶è·¯å¾„åæ˜¯ä¸­æ–‡ã€‚</p><p>ç‚¹å‡»â€œæ˜¯â€åï¼Œè¿›è¡Œé‡æ–°ç¼–è¯‘ï¼Œå¦‚ä½•ç¼–è¯‘è¿‡ç¨‹ä¸­è¿˜æ˜¯æŠ¥é”™ï¼Œä»ä»¥ä¸‹åˆ†æï¼š</p><p>1.C++ç±»å·¥ç¨‹æ˜¯å¦æœ‰é”™è¯¯ï¼Œä½¿ç”¨VSæ‰“å¼€å·¥ç¨‹é‡æ–°ç¼–è¯‘ï¼Œç›´åˆ°æ— é”™è¯¯</p><p>2.æ’ä»¶æ˜¯å¦æœ‰é”™è¯¯ï¼Œæˆ–è€…æ’ä»¶æ˜¯å¦æ‹·è´åˆ°é¡¹ç›®ä¸‹çš„Pluginsç›®å½•ä¸­</p><p>ä»¥ä¸Šéƒ½æ²¡é—®é¢˜åï¼Œå¯æ­£ç¡®ç¼–è¯‘ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windowsä¸‹Dockerç¯å¢ƒçš„å®‰è£…éƒ¨ç½²æ•™ç¨‹ï¼ˆä»¥Win10ä¸ºä¾‹ï¼‰</title>
      <link href="/2025/03/18/Docker/Windows%E4%B8%8BDocker%E7%8E%AF%E5%A2%83%E7%9A%84%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B%EF%BC%88%E4%BB%A5Win10%E4%B8%BA%E4%BE%8B%EF%BC%89/"/>
      <url>/2025/03/18/Docker/Windows%E4%B8%8BDocker%E7%8E%AF%E5%A2%83%E7%9A%84%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B%EF%BC%88%E4%BB%A5Win10%E4%B8%BA%E4%BE%8B%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p>Docker æ˜¯ä¸€ä¸ªè½»é‡çº§çš„å®¹å™¨è™šæ‹ŸåŒ–å¹³å°ï¼Œèƒ½å¤Ÿå¸®åŠ©å¼€å‘è€…å¿«é€Ÿæ„å»ºã€æµ‹è¯•å’Œéƒ¨ç½²åº”ç”¨ç¨‹åºï¼Œæœ¬æ–‡ä»¥ Windows 10 ä¸ºä¾‹ï¼Œè¯¦ç»†è®²è§£ Windows ç³»ç»Ÿä¸‹ Docker ç¯å¢ƒçš„å®‰è£…ä¸é…ç½®æ­¥éª¤ã€‚</p><h2 id="ä¸€-ç³»ç»Ÿè™šæ‹ŸåŒ–"><a class="markdownIt-Anchor" href="#ä¸€-ç³»ç»Ÿè™šæ‹ŸåŒ–"></a> ä¸€ã€ç³»ç»Ÿè™šæ‹ŸåŒ–</h2><h3 id="1å¯ç”¨è™šæ‹ŸåŒ–"><a class="markdownIt-Anchor" href="#1å¯ç”¨è™šæ‹ŸåŒ–"></a> 1ï¼Œå¯ç”¨è™šæ‹ŸåŒ–</h3><p>æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼ˆCTRL + Shift + Escï¼‰ï¼Œé€‰æ‹©æ€§èƒ½ï¼ŒæŸ¥çœ‹ CPU è™šæ‹ŸåŒ–ï¼Œç¡®è®¤æ˜¯å¦å·²å¯ç”¨ï¼ˆé»˜è®¤å¯ç”¨ï¼‰ã€‚</p><p><img src="2024120815334337490.png" alt="" /></p><h3 id="2å¯ç”¨-hyper-v-å¹¶å¼€å¯è™šæ‹Ÿä»»åŠ¡"><a class="markdownIt-Anchor" href="#2å¯ç”¨-hyper-v-å¹¶å¼€å¯è™šæ‹Ÿä»»åŠ¡"></a> 2ï¼Œå¯ç”¨ Hyper-v å¹¶å¼€å¯è™šæ‹Ÿä»»åŠ¡</h3><p>ï¼ˆ1ï¼‰æ‰“å¼€â€œæ§åˆ¶é¢æ¿â€-&gt;â€œç¨‹åºâ€</p><p><img src="2024120815361271640.png" alt="" /></p><p>ï¼ˆ2ï¼‰ç„¶åç‚¹å‡»â€œå¯ç”¨æˆ–å…³é—­ Windows åŠŸèƒ½â€</p><p><img src="2024120815372846110.png" alt="" /></p><p>ï¼ˆ3ï¼‰ç„¶åå‹¾é€‰ä¸‹é¢çº¢æ¡†æ ‡æ³¨çš„ 4 ä¸ªåŠŸèƒ½ç»„ä»¶ï¼Œç‚¹å‡»ç¡®å®šå¼€å§‹å®‰è£…ã€‚å®‰è£…å®Œæ¯•åæ ¹æ®æç¤ºé‡å¯ç”µè„‘ã€‚</p><p><img src="2024120815404222103.png" alt="" /></p><h2 id="äºŒ-å®‰è£…-wsl"><a class="markdownIt-Anchor" href="#äºŒ-å®‰è£…-wsl"></a> äºŒã€å®‰è£… WSL</h2><blockquote><p>æç¤ºï¼šWindows Subsystem for Linuxï¼ˆç®€ç§° WSLï¼‰æ˜¯ä¸€ä¸ªåœ¨ Windows 10\11 ä¸Šèƒ½å¤Ÿè¿è¡ŒåŸç”Ÿ Linux äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆELF æ ¼å¼ï¼‰çš„å…¼å®¹å±‚ã€‚</p></blockquote><h3 id="1æ£€éªŒå®‰è£…"><a class="markdownIt-Anchor" href="#1æ£€éªŒå®‰è£…"></a> 1ï¼Œæ£€éªŒå®‰è£…</h3><p>ï¼ˆ1ï¼‰å†ç»ˆç«¯ä¸­è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰å®‰è£… wslã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰è‹¥æ²¡æœ‰å®‰è£…ï¼Œåˆ™ä¼šæ˜¾ç¤ºå¦‚ä¸‹ä¿¡æ¯ï¼š</p><p><img src="2024120815533095203.png" alt="" /></p><h3 id="2å®‰è£…-wsl"><a class="markdownIt-Anchor" href="#2å®‰è£…-wsl"></a> 2ï¼Œå®‰è£… WSL</h3><p>ï¼ˆ1ï¼‰å®‰è£… WSL 2 ä¹‹å‰ï¼Œå¿…é¡»å¯ç”¨â€œè™šæ‹Ÿæœºå¹³å°â€å¯é€‰åŠŸèƒ½ã€‚ è®¡ç®—æœºéœ€è¦è™šæ‹ŸåŒ–åŠŸèƒ½æ‰èƒ½ä½¿ç”¨æ­¤åŠŸèƒ½ã€‚ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ PowerShell å¹¶è¿è¡Œä¸‹é¢å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰ç„¶åæˆ‘ä»¬ç›´æ¥ä¸‹è½½ä¸‹æ–¹çš„å®‰è£…åŒ…ï¼Œç„¶ååŒå‡»å®‰è£…ã€‚</p><ul><li><a href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi</a></li></ul><p>ï¼ˆ3ï¼‰æœ€åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å°† WSL 2 è®¾ç½®ä¸ºé»˜è®¤ç‰ˆæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --set-default-version 2</span><br></pre></td></tr></table></figure><h2 id="ä¸‰-å®‰è£…-docker"><a class="markdownIt-Anchor" href="#ä¸‰-å®‰è£…-docker"></a> ä¸‰ã€å®‰è£… Docker</h2><h3 id="1ä¸‹è½½å®‰è£…åŒ…"><a class="markdownIt-Anchor" href="#1ä¸‹è½½å®‰è£…åŒ…"></a> 1ï¼Œä¸‹è½½å®‰è£…åŒ…</h3><p>ï¼ˆ1ï¼‰ä¸‹é¢åˆ†åˆ«æ˜¯å®˜ç½‘ä¸‹è½½åœ°å€å’Œé˜¿é‡Œäº‘çš„ä¸‹è½½åœ°å€ï¼Œæ ¹æ®éœ€æ±‚é€‰æ‹©ä¸‹è½½ï¼š</p><ul><li>å®˜æ–¹ä¸‹è½½åœ°å€ï¼š<a href="https://docs.docker.com/desktop/setup/install/windows-install/">https://docs.docker.com/desktop/setup/install/windows-install/</a></li><li>é˜¿é‡Œäº‘ä¸‹è½½åœ°å€ï¼š<a href="https://mirrors.aliyun.com/docker-toolbox/windows/docker-for-windows/">https://mirrors.aliyun.com/docker-toolbox/windows/docker-for-windows/</a></li></ul><p>ï¼ˆ2ï¼‰æ¥ç€åŒå‡»å®‰è£…åŒ…è¿›è¡Œå®‰è£…å³å¯ã€‚å®‰è£…å®Œæˆåï¼Œä»»åŠ¡æ ä¼šå‡ºç°ä¸€ä¸ªå°é²¸é±¼å›¾æ ‡ï¼ˆæ³¨æ„å®‰è£…å®Œæˆåå¯èƒ½ä¼šé‡å¯ç³»ç»Ÿï¼‰</p><p><img src="2024120816093559319.png" alt="" /></p><h3 id="2æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ"><a class="markdownIt-Anchor" href="#2æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ"></a> 2ï¼Œæ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ</h3><p>ï¼ˆ1ï¼‰æˆ‘ä»¬åœ¨ CMD ç»ˆç«¯ä¸­è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p><p>ï¼ˆ2ï¼‰å¦‚æœæˆåŠŸè¿”å›ç‰ˆæœ¬ä¿¡æ¯ï¼Œåˆ™è¯´æ˜ Docker å®‰è£…æˆåŠŸäº†ã€‚</p><p><img src="2024120816132515423.png" alt="" /></p><h2 id="å››-docker-é…ç½®"><a class="markdownIt-Anchor" href="#å››-docker-é…ç½®"></a> å››ã€Docker é…ç½®</h2><h3 id="1æ‰“å¼€-docker-é…ç½®ä¸­å¿ƒ"><a class="markdownIt-Anchor" href="#1æ‰“å¼€-docker-é…ç½®ä¸­å¿ƒ"></a> 1ï¼Œæ‰“å¼€ Docker é…ç½®ä¸­å¿ƒ</h3><p>å³é”®ç‚¹å‡» docker å›¾æ ‡ï¼Œç„¶åé€‰æ‹©å¼¹å‡ºèœå•ä¸­çš„â€œSettingsâ€èœå•é¡¹ã€‚</p><p><img src="2024120816171054905.png" alt="" /></p><h3 id="2é…ç½®-docker-å›½å†…é•œåƒ"><a class="markdownIt-Anchor" href="#2é…ç½®-docker-å›½å†…é•œåƒ"></a> 2ï¼Œé…ç½® Docker å›½å†…é•œåƒ</h3><p>ï¼ˆ1ï¼‰åœ¨å¼¹å‡ºçš„çª—å£ä¸­ï¼Œç‚¹å‡»å·¦ä¾§çš„ Docker Engine</p><p><img src="2024120816192855591.png" alt="" /></p><p>ï¼ˆ2ï¼‰ç„¶ååœ¨å³ä¾§çš„ registry-mirrors èŠ‚ç‚¹ä¸­æ·»åŠ å›½å†…çš„é•œåƒåœ°å€ï¼ŒåŠ å¿«é•œåƒæ‹‰å–é€Ÿåº¦ã€‚</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;registry-mirrors&quot;:[</span><br><span class="line">&quot;https://hub.rat.dev&quot;ï¼Œ</span><br><span class="line">&quot;https://docker.1panel.live/&quot;</span><br><span class="line">],</span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰æœ€åç‚¹å‡»ä¸‹æ–¹çš„ Apply &amp; Restart æŒ‰é’®ä¿å­˜é‡å¯å³å¯ã€‚</p><p><img src="2024120816284282535.png" alt="" /></p><h2 id="äº”-ä½¿ç”¨æµ‹è¯•"><a class="markdownIt-Anchor" href="#äº”-ä½¿ç”¨æµ‹è¯•"></a> äº”ã€ä½¿ç”¨æµ‹è¯•</h2><h3 id="1æ‹‰å–å¹¶è¿è¡Œå®¹å™¨"><a class="markdownIt-Anchor" href="#1æ‹‰å–å¹¶è¿è¡Œå®¹å™¨"></a> 1ï¼Œæ‹‰å–å¹¶è¿è¡Œå®¹å™¨</h3><p>ï¼ˆ1ï¼‰æˆ‘ä»¬æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯åŠ¨ä¸€ä¸ªåŸºäº docker/getting-started é•œåƒçš„ Docker å®¹å™¨ï¼Œè¯¥é•œåƒæ˜¯ Docker å®˜æ–¹çš„ä¸€ä¸ªç¤ºä¾‹é•œåƒï¼ŒåŒ…å«äº†å…¥é—¨æ•™ç¨‹å’Œä¸€äº›å±•ç¤ºå†…å®¹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 80:80 docker/getting-started</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰å®¹å™¨å¯åŠ¨åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æµè§ˆå™¨è®¿é—® <a href="http://localhost">http://localhost</a> è®¿é—®æˆ‘ä»¬å¯åŠ¨çš„æœåŠ¡äº†ï¼š</p><p><img src="2024120816451120082.png" alt="" /></p><p></p><h3 id="2æŸ¥çœ‹çŠ¶æ€"><a class="markdownIt-Anchor" href="#2æŸ¥çœ‹çŠ¶æ€"></a> 2ï¼ŒæŸ¥çœ‹çŠ¶æ€</h3><p>ï¼ˆ1ï¼‰æˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰è¿è¡Œçš„æ‰€æœ‰å®¹å™¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p><p><img src="2024120816432910381.png" alt="" /></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qtä¸­çš„QByteArrayå’Œè‡ªå®šä¹‰ç»“æ„ä½“ä¹‹é—´çš„ç›¸äº’è½¬æ¢</title>
      <link href="/2025/03/15/Qt/Qt%E4%B8%AD%E7%9A%84QByteArray%E5%92%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%93%E6%9E%84%E4%BD%93%E4%B9%8B%E9%97%B4%E7%9A%84%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2/"/>
      <url>/2025/03/15/Qt/Qt%E4%B8%AD%E7%9A%84QByteArray%E5%92%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%93%E6%9E%84%E4%BD%93%E4%B9%8B%E9%97%B4%E7%9A%84%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2/</url>
      
        <content type="html"><![CDATA[<blockquote><p>åœ¨Qté¡¹ç›®å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šç¢°åˆ°è‡ªå®šä¹‰ç»“æ„ä½“å’Œå­—ç¬¦æ•°ç»„ä¹‹é—´çš„è½¬æ¢é—®é¢˜ï¼Œä¸å¦¨å‡è®¾ç»“æ„ä½“åå­—ä¸ºcustom_struct, å­—ç¬¦æ•°ç»„åå­—ä¸ºarray_data</p></blockquote><h3 id="1qbytearrayè½¬æ¢ä¸ºè‡ªå®šä¹‰ç»“æ„ä½“"><a class="markdownIt-Anchor" href="#1qbytearrayè½¬æ¢ä¸ºè‡ªå®šä¹‰ç»“æ„ä½“"></a> 1.QByteArrayè½¬æ¢ä¸ºè‡ªå®šä¹‰ç»“æ„ä½“</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">custom_struct *struct_data = <span class="built_in">reinterpret_cast</span>&lt;custom_struct *&gt;(array_data.<span class="built_in">data</span>());</span><br></pre></td></tr></table></figure><h3 id="2è‡ªå®šä¹‰ç»“æ„ä½“è½¬æ¢ä¸ºqbytearray"><a class="markdownIt-Anchor" href="#2è‡ªå®šä¹‰ç»“æ„ä½“è½¬æ¢ä¸ºqbytearray"></a> 2.è‡ªå®šä¹‰ç»“æ„ä½“è½¬æ¢ä¸ºQByteArray</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QByteArray array_data;</span><br><span class="line">array_data.<span class="built_in">append</span>((<span class="type">char</span>*)&amp;struct_data, <span class="built_in">sizeof</span>(struct_data));</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win10ä¸­dockerçš„å®‰è£…ä¸ä½¿ç”¨</title>
      <link href="/2025/03/09/Docker/Win10%E4%B8%ADdocker%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"/>
      <url>/2025/03/09/Docker/Win10%E4%B8%ADdocker%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h3 id="0è™šæ‹ŸåŒ–ç¯å¢ƒ"><a class="markdownIt-Anchor" href="#0è™šæ‹ŸåŒ–ç¯å¢ƒ"></a> 0.è™šæ‹ŸåŒ–ç¯å¢ƒ</h3><ol><li>å¼€å¯è™šæ‹ŸåŒ–é‡å¯åï¼Œè¿›å…¥ä»»åŠ¡ç®¡ç†å™¨çœ‹è™šæ‹ŸåŒ–æ˜¯å¦å·²å¯ç”¨ã€‚<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li><li>ç„¶åå†æ˜¯è¿›å…¥ç”µè„‘çš„æ§åˆ¶é¢æ¿-&gt;ç¨‹åº-&gt;å¯ç”¨æˆ–å…³é—­WindowsåŠŸèƒ½-&gt;æŠŠHyper-vå‹¾ä¸Šï¼Œå¯ç”¨åç”µè„‘ä¼šé‡å¯ï¼Œåé¢å°±å¯ä»¥ä¸‹è½½å¹¶å®‰è£…Docker for Windowsäº†ã€‚<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.1.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li></ol><h3 id="1ä¸‹è½½å®‰è£…"><a class="markdownIt-Anchor" href="#1ä¸‹è½½å®‰è£…"></a> 1.ä¸‹è½½å®‰è£…</h3><ol><li>è¿›å…¥ç½‘å€<a href="https://docs.docker.com/docker-for-windows/install/#download-docker-for-windows">https://docs.docker.com/docker-for-windows/install/#download-docker-for-windows</a> ä¸‹è½½å¹¶å®‰è£…ã€‚æˆ‘å®‰è£…çš„æ˜¯ç¨³å®šç‰ˆã€‚å®‰è£…è¿‡ç¨‹æ²¡ä»€ä¹ˆè¦æ³¨æ„çš„ã€‚<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.2.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li><li>å¯åŠ¨ä»¥åä¼šå‡ºç°åœ¨æ¡Œé¢çš„å³ä¸‹è§’åŒºåŸŸï¼Œé¼ æ ‡æ”¾ä¸Šå»ä»¥åæ˜¾ç¤ºDocker is runningè¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼Œç¬¬ä¸€æ¬¡å®‰è£…å¯ç”¨å¥½åƒæ˜¯ä¼šå¼¹å‡ºä¸ªDocker Cloudç™»å½•ç•Œé¢ï¼Œå»æ³¨å†Œç„¶åç™»å½•ï¼Œä½¿ç”¨å’Œgitæœ‰ç‚¹ç±»ä¼¼ï¼Œå¯ä»¥pullå›¾åƒç­‰ç­‰<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.3.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li></ol><h3 id="2dockerçš„å…¥é—¨"><a class="markdownIt-Anchor" href="#2dockerçš„å…¥é—¨"></a> 2.dockerçš„å…¥é—¨</h3><h4 id="å¼€å§‹ä½¿ç”¨"><a class="markdownIt-Anchor" href="#å¼€å§‹ä½¿ç”¨"></a> å¼€å§‹ä½¿ç”¨</h4><ol><li>æ£€æŸ¥Dockerï¼ŒComposeå’ŒMachineçš„ç‰ˆæœ¬<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.4.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li><li>æ£€æŸ¥ç‰ˆæœ¬ä¿¡æ¯ï¼Œå¹¶ç¡®ä¿dockerå‘½ä»¤æ­£å¸¸å·¥ä½œ<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.5.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.6.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.7.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li><li>è¿è¡Œdocker run hello-worldä»¥æµ‹è¯•ä»Docker Hubä¸­æ‹‰å–å›¾åƒå¹¶å¯åŠ¨å®¹å™¨<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.8.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li><li>ä½¿ç”¨å‘½ä»¤docker run -it ubuntu bashè¿è¡Œä¸€ä¸ªUbuntuå®¹å™¨ï¼Œæˆ‘ä¹‹å‰å·²ç»æ‹‰å–è¿‡è¿™ä¸ªå®¹å™¨äº†ï¼Œå¤§æ¦‚æ˜¯å‡ åå…†å§ï¼Œæ‰€ä»¥ç›´æ¥å¯ç”¨äº†ï¼Œè¾“å…¥exitå‘½ä»¤åœæ­¢å®¹å™¨<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.9.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li><li>è¿è¡Œå‘½ä»¤docker run -d -p 80:80 â€“name webserver nginx å¯åŠ¨ä¸€ä¸ªDockerized webserver ä¼šä¸‹è½½nginxå®¹å™¨å›¾åƒå¹¶å¯åŠ¨å®ƒï¼Œç„¶åå†æ‰“å¼€æµè§ˆå™¨é”®å…¥<a href="http://localhost/">http://localhost</a><br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.10.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li><li>è¿è¡Œdocker ps å‘½ä»¤ï¼Œæ£€æŸ¥å®¹å™¨çš„è¯¦ç»†ä¿¡æ¯<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.11.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li><li>åœæ­¢æˆ–ç§»é™¤å®¹å™¨å’Œå›¾åƒã€‚å¦‚æœä½ æƒ³åœæ­¢ç½‘ç»œæœåŠ¡å™¨ï¼Œè¾“å…¥ï¼šdocker stop webserverç„¶åé‡æ–°å¯åŠ¨docker start webserverã€‚è¦ä½¿ç”¨å•ä¸ªå‘½ä»¤åœæ­¢å¹¶åˆ é™¤æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼Œè¯·é”®å…¥ï¼š docker rm -f webserverã€‚è¿™å°†åˆ é™¤å®¹å™¨ï¼Œä½†ä¸æ˜¯ nginxå›¾åƒã€‚æ‚¨å¯ä»¥åˆ—å‡ºæœ¬åœ°å›¾åƒdocker imagesã€‚ä½ å¯èƒ½æƒ³è¦ä¿ç•™ä¸€äº›å›¾ç‰‡ï¼Œè¿™æ ·ä½ å°±ä¸å¿…å†ä»Docker Hubä¸­å–å‡ºå®ƒä»¬äº†ã€‚è¦åˆ é™¤ä¸å†éœ€è¦çš„å›¾åƒï¼Œè¯·ä½¿ç”¨docker rmiåè·Ÿå›¾åƒIDæˆ–å›¾åƒåç§°ã€‚ä¾‹å¦‚docker rmi nginx<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.12.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li></ol><h3 id="3dockerçš„å¸¸ç”¨é…ç½®"><a class="markdownIt-Anchor" href="#3dockerçš„å¸¸ç”¨é…ç½®"></a> 3.dockerçš„å¸¸ç”¨é…ç½®</h3><h4 id="åœ¨powershellä¸­è®¾ç½®-tabé”®è‡ªåŠ¨è¡¥å…¨å…¶å®ç”¨çš„éƒ½æ˜¯cmdexe"><a class="markdownIt-Anchor" href="#åœ¨powershellä¸­è®¾ç½®-tabé”®è‡ªåŠ¨è¡¥å…¨å…¶å®ç”¨çš„éƒ½æ˜¯cmdexe"></a> åœ¨PowerShellä¸­è®¾ç½® tabé”®è‡ªåŠ¨è¡¥å…¨ï¼ˆå…¶å®ç”¨çš„éƒ½æ˜¯cmd.exeï¼‰</h4><ol><li><p>å¯åŠ¨ä¸€ä¸ªçš„PowerShellï¼ˆå³ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼‰ã€‚æœç´¢PowerShellï¼Œå³é”®å•å‡»ï¼Œç„¶åé€‰æ‹©ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œã€‚åœ¨PowerShellæç¤ºç¬¦ä¸‹é”®å…¥ï¼š<br /><code>Set-ExecutionPolicy RemoteSigned</code></p></li><li><p>æ£€æŸ¥ç­–ç•¥è®¾ç½®æ˜¯å¦æ­£ç¡®ï¼Œè¿è¡Œï¼š<code>get-executionpolicy</code><br />åº”è¯¥è¿”å›RemoteSignedã€‚</p></li><li><p>å®‰è£…posh-dockerPowerShellæ¨¡å—ä»¥è‡ªåŠ¨å®ŒæˆDockerå‘½ä»¤ï¼Œé”®å…¥ï¼š<code>Install-Module posh-docker</code>æˆ–è€…ï¼Œè¦ä»…ä¸ºå½“å‰ç”¨æˆ·å®‰è£…æ¨¡å—ï¼Œé”®å…¥ï¼š<br /><code>Install-Module -Scope CurrentUser posh-docker</code></p></li><li><p>å®‰è£…å®Œæˆåï¼Œåªèƒ½ä¸ºå½“å‰PowerShellå¯ç”¨è‡ªåŠ¨å®ŒæˆåŠŸèƒ½ï¼Œè¾“å…¥ï¼š<code>Import-Module posh-docker</code></p></li><li><p>ä¸ºäº†åœ¨æ‰€æœ‰PowerShellä¼šè¯ä¸­ä¿æŒTabå®ŒæˆçŠ¶æ€$PROFILEï¼Œè¯·åœ¨PowerShellæç¤ºç¬¦å¤„è¾“å…¥ï¼š</p><p>if (-Not (Test-Path $PROFILE)) {<br />New-Item $PROFILE â€“Type File â€“Force<br />}<br />Add-Content $PROFILE â€œ`nImport-Module posh-dockerâ€</p></li></ol><p>è¿™å°†åˆ›å»ºä¸€ä¸ª<code>$PROFILE</code>å¦‚æœä¸å­˜åœ¨ï¼Œå¹¶å°†æ­¤è¡Œæ·»åŠ åˆ°æ–‡ä»¶ä¸­ï¼š<br /><code>Import-Module posh-docker</code><br />è¦æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å·²æ­£ç¡®åˆ›å»ºï¼Œæˆ–åªéœ€æ‰‹åŠ¨ç¼–è¾‘ï¼Œè¯·åœ¨PowerShellä¸­é”®å…¥ä»¥ä¸‹å†…å®¹ï¼š<br /><code>Notepad $PROFILE</code><br />æ‰“å¼€ä¸€ä¸ªæ–°çš„PowerShellä¼šè¯ã€‚ç°åœ¨ï¼Œå½“ä½ é”®å…¥çš„å‰å‡ ä¸ªå­—æ¯åæŒ‰Tabé”®ï¼ŒDockerå‘½ä»¤ï¼ˆå¦‚å¼€å§‹ï¼Œåœæ­¢ï¼Œè¿è¡ŒåŠå…¶é€‰é¡¹ï¼‰ä»¥åŠå®¹å™¨å’Œæ˜ åƒåç§°ç°åœ¨éƒ½åº”è¯¥è‡ªåŠ¨å®Œæˆã€‚<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.13.jpeg" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></p><h4 id="settings"><a class="markdownIt-Anchor" href="#settings"></a> Settings</h4><p>æ‰¾åˆ°å³ä¸‹è§’çš„dockerå›¾æ ‡ï¼Œå³å‡»é€‰æ‹©settingsè¿›å»</p><ol><li>Generalï¼šè¿™é‡Œæ˜¯è®¾ç½®dockerå¼€æœºè‡ªå¯ï¼Œåº”ç”¨ç¨‹åºå¯åŠ¨æ—¶æ£€æŸ¥æ›´æ–°ï¼Œå‘å¸ƒä½¿ç”¨æƒ…å†µç»Ÿè®¡ä¿¡æ¯<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.14.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li><li>Advancedï¼šåˆ†é…cpuæ•°é‡ä¸å†…å­˜é‡<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.15.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li><li>Daemonï¼šDocker for windows10 å¯ä»¥é…ç½®é˜¿é‡Œäº‘é•œåƒï¼Œåˆ°<a href="https://cr.console.aliyun.com/">https://cr.console.aliyun.com/</a> æ³¨å†Œä¸€ä¸ªè´¦æˆ·ï¼Œç™»å½•è¿›å»åå†åˆ—è¡¨é€‰æ‹©åŠ é€Ÿå™¨ï¼ŒæŠŠä½ çš„ä¸“å±åŠ é€Ÿå™¨åœ°å€å¤åˆ¶ç²˜è´´åˆ°Daemonçš„Registry mirrorsä¸­<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.16.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.17.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li></ol><h3 id="4ç”¨dockerfileå®šä¹‰ä¸€ä¸ªé•œåƒ"><a class="markdownIt-Anchor" href="#4ç”¨dockerfileå®šä¹‰ä¸€ä¸ªé•œåƒ"></a> 4.ç”¨Dockerfileå®šä¹‰ä¸€ä¸ªé•œåƒ</h3><p>åœ¨è¿‡å»ï¼Œå¦‚æœä½ è¦å¼€å§‹ç¼–å†™ä¸€ä¸ªPythonåº”ç”¨ç¨‹åºï¼Œä½ çš„ç¬¬ä¸€æ­¥å°±æ˜¯åœ¨ä½ çš„æœºå™¨ä¸Šå®‰è£…ä¸€ä¸ªPythonè¿è¡Œåº“ã€‚ä½†æ˜¯ï¼Œè¿™ä¼šé€ æˆæ‚¨çš„æœºå™¨ä¸Šçš„ç¯å¢ƒå¿…é¡»æ»¡è¶³ä¸€å®šæ¡ä»¶ä»¥ä½¿æ‚¨çš„åº”ç”¨ç¨‹åºå¯ä»¥è¿è¡Œã€‚<br />ä½¿ç”¨Dockerï¼Œä½ å¯ä»¥å°†ä¸€ä¸ªå¯ç§»æ¤çš„Pythonè¿è¡Œåº“ä½œä¸ºä¸€ä¸ªæ˜ åƒï¼Œä¸éœ€è¦å®‰è£…ã€‚ç„¶åï¼Œæ‚¨çš„æ„å»ºå¯ä»¥å°†åŸºç¡€Pythoné•œåƒä¸åº”ç”¨ç¨‹åºä»£ç ä¸€èµ·åŒ…æ‹¬åœ¨å†…ï¼Œç¡®ä¿æ‚¨çš„åº”ç”¨ç¨‹åºï¼Œä¾èµ–é¡¹å’Œè¿è¡Œæ—¶éƒ½ä¸€èµ·è¿è¡Œã€‚<br />è¿™äº›å¯ç§»æ¤çš„é•œåƒæ˜¯ç”±ä¸€ä¸ªå«åšDockerfileçš„ä¸œè¥¿æ¥å®šä¹‰çš„</p><h4 id="æ–°å»ºç›®å½•æ–‡ä»¶"><a class="markdownIt-Anchor" href="#æ–°å»ºç›®å½•æ–‡ä»¶"></a> æ–°å»ºç›®å½•æ–‡ä»¶</h4><p>åˆ›å»ºä¸€ä¸ªç©ºç›®å½•ï¼Œæˆ‘å–åå«dockerï¼Œç„¶ååˆ†åˆ«åœ¨é‡Œé¢æ–°å»ºä¸‰ä¸ªæ–‡ä»¶ï¼šDockerfileï¼Œ<a href="http://app.py">app.py</a>ï¼Œrequirements.txt<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.18.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></p><p>ä¸‰ä¸ªæ–‡ä»¶ä¸­çš„å†…å®¹åˆ†åˆ«è®¾è®¡ä¸ºï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">1.Dockerfileï¼š</span><br><span class="line"># Use an official Python runtime as a parent image</span><br><span class="line">FROM python:2.7-slim</span><br><span class="line"></span><br><span class="line"># Set the working directory to /app</span><br><span class="line">WORKDIR /app</span><br><span class="line"></span><br><span class="line"># Copy the current directory contents into the container at /app</span><br><span class="line">ADD . /app</span><br><span class="line"></span><br><span class="line"># Install any needed packages specified in requirements.txt</span><br><span class="line">RUN pip install --trusted-host pypi.python.org -r requirements.txt</span><br><span class="line"></span><br><span class="line"># Make port 80 available to the world outside this container</span><br><span class="line">EXPOSE 80</span><br><span class="line"></span><br><span class="line"># Define environment variable</span><br><span class="line">ENV NAME World</span><br><span class="line"></span><br><span class="line"># Run app.py when the container launches</span><br><span class="line">CMD [&quot;python&quot;, &quot;app.py&quot;]</span><br><span class="line"></span><br><span class="line">2.app.pyï¼š</span><br><span class="line">from flask import Flask</span><br><span class="line">from redis import Redis, RedisError</span><br><span class="line">import os</span><br><span class="line">import socket</span><br><span class="line"></span><br><span class="line"># Connect to Redis</span><br><span class="line">redis = Redis(host=&quot;redis&quot;, db=0, socket_connect_timeout=2, socket_timeout=2)</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line">@app.route(&quot;/&quot;)</span><br><span class="line">def hello():</span><br><span class="line">    try:</span><br><span class="line">        visits = redis.incr(&quot;counter&quot;)</span><br><span class="line">    except RedisError:</span><br><span class="line">        visits = &quot;&lt;i&gt;cannot connect to Redis, counter disabled&lt;/i&gt;&quot;</span><br><span class="line"></span><br><span class="line">    html = &quot;&lt;h3&gt;Hello &#123;name&#125;!&lt;/h3&gt;&quot; \</span><br><span class="line">           &quot;&lt;b&gt;Hostname:&lt;/b&gt; &#123;hostname&#125;&lt;br/&gt;&quot; \</span><br><span class="line">           &quot;&lt;b&gt;Visits:&lt;/b&gt; &#123;visits&#125;&quot;</span><br><span class="line">    return html.format(name=os.getenv(&quot;NAME&quot;, &quot;world&quot;), hostname=socket.gethostname(), visits=visits)</span><br><span class="line"></span><br><span class="line">if __name__ == &quot;\_\_main\_\_&quot;:</span><br><span class="line">    app.run(host=&#x27;0.0.0.0&#x27;, port=80)</span><br><span class="line"></span><br><span class="line">3. requirements.txtï¼š</span><br><span class="line">Flask</span><br><span class="line">Redis</span><br></pre></td></tr></table></figure><h4 id="æ„å»ºé•œåƒ"><a class="markdownIt-Anchor" href="#æ„å»ºé•œåƒ"></a> æ„å»ºé•œåƒ</h4><p>åœ¨dockerç›®å½•ä¸‹æ‰“å¼€cmd.exeè¿è¡Œå‘½ä»¤ï¼ˆç¡®ä¿èƒ½å¤Ÿæ‰¾åˆ°Dockerfileæ–‡ä»¶ï¼Œé•œåƒå–åå«friendlyhelloï¼‰ï¼š<br /><code>docker build -t friendlyhello .</code><br />psï¼šåƒä¸‡ä¸è¦è½äº†ä¸Šé¢é‚£è¡Œåé¢çš„é‚£ä¸ªç‚¹ï¼Œæ›¾ç»å…¥è¿‡å‘çš„ã€‚ã€‚å‘½ä»¤åŒ…æ‹¬åé¢çš„é‚£ä¸ªç‚¹<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.19.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></p><p>ç„¶åå†æ‰§è¡Œå‘½ä»¤ï¼š<br />docker images<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.20.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></p><p>è¿è¡Œé•œåƒç¨‹åºï¼š<br />docker run -p 4000:80 friendlyhello<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.21.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></p><p>å¯ä»¥çœ‹åˆ°Pythonæ­£åœ¨ä¸ºåº”ç”¨ç¨‹åºæä¾›æ¶ˆæ¯çš„<a href="http://0.0.0.0/">http://0.0.0.0:80</a>ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªæ¶ˆæ¯æ¥è‡ªå®¹å™¨å†…éƒ¨ï¼Œå®ƒä¸çŸ¥é“æˆ‘ä»¬å°†è¯¥å®¹å™¨çš„ç«¯å£80æ˜ å°„åˆ°4000ï¼Œä»è€Œæ‰“å¼€URLï¼š <a href="http://localhost:4000/">http://localhost:4000</a><br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.22.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></p><h4 id="åœæ­¢å®¹å™¨è¿è¡Œ"><a class="markdownIt-Anchor" href="#åœæ­¢å®¹å™¨è¿è¡Œ"></a> åœæ­¢å®¹å™¨è¿è¡Œ</h4><p>é¦–å…ˆåœ¨æ¥ç€ä¸Šé¢çš„æ“ä½œæ­¥éª¤åæŒ‰ä¸‹ctrl+cåœ¨ç»ˆç«¯é€€å‡ºï¼Œè¿™å¹¶ä¸æ„å‘³ç€é•œåƒåœæ­¢è¿è¡Œäº†<br />é”®å…¥docker container ls åˆ—å‡ºæ­£åœ¨è¿è¡Œçš„å®¹å™¨<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.23.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.24.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></p><p>è¿è¡Œå‘½ä»¤ï¼š<br /><code>docker container stop &lt;Container NAME or ID&gt;</code><br />åœæ­¢å®¹å™¨ã€‚å¦åˆ™ï¼Œåœ¨ä¸‹ä¸€æ­¥ä¸­é‡æ–°è¿è¡Œå®¹å™¨æ—¶ï¼Œå°†ä¼šæ”¶åˆ°é”™è¯¯å“åº”ã€‚<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.25.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></p><h3 id="5è”ç³»docker-hubçš„å¸¸ç”¨æ“ä½œ"><a class="markdownIt-Anchor" href="#5è”ç³»docker-hubçš„å¸¸ç”¨æ“ä½œ"></a> 5.è”ç³»Docker Hubçš„å¸¸ç”¨æ“ä½œ</h3><h4 id="ç™»å½•åˆ°docker-hub"><a class="markdownIt-Anchor" href="#ç™»å½•åˆ°docker-hub"></a> ç™»å½•åˆ°Docker Hub</h4><p>å‰é¢å·²ç»è¯´è¿‡äº†ï¼Œdockerå’Œgitçš„æ“ä½œæœ‰ç±»ä¼¼ä¹‹å¤„ï¼Œæ‰€ä»¥dockerä¹Ÿ<br />æœ‰è¿œç¨‹ä»“åº“ï¼Œå¦‚æœå‰é¢å·²ç»æ³¨å†Œè¿‡å¹¶ç™»å½•äº†docker cloudï¼Œé‚£ä¹ˆ<br />è®¿é—®ç½‘å€ï¼š<a href="https://hub.docker.com/">https://hub.docker.com</a> åœ¨é‡Œé¢åˆ›å»ºå­˜å‚¨åº“ï¼Œå¦åˆ™å…ˆ<br />æ³¨å†Œå§ã€‚<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.26.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></p><h4 id="pushé•œåƒ"><a class="markdownIt-Anchor" href="#pushé•œåƒ"></a> pushé•œåƒ</h4><p>å‰é¢åœ¨æœ¬åœ°åˆ›å»ºäº†ä¸€ä¸ªfriendlyhelloçš„é•œåƒï¼Œç°åœ¨è¦æŠŠå®ƒpushåˆ°<br />è‡ªå·±çš„docker hubçš„å­˜å‚¨åº“ä¸­å»ï¼Œé¦–å…ˆï¼š</p><ol><li>ç™»å½•docker hub ï¼ˆæˆ‘å·²ç»ç™»å½•è¿‡äº†ã€‚ã€‚å†ç™»å½•ä¸€æ¬¡å§ï¼‰<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.27.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li><li>æ ‡è®°é•œåƒï¼š<br />æŠŠé•œåƒæ”¾å…¥wangliguoå­˜å‚¨åº“å¹¶æ ‡è®°ä¸ºtest<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.28.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li><li>æŸ¥çœ‹é•œåƒï¼š<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.29.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li><li>å‘å¸ƒé•œåƒï¼ˆæ¨é€é•œåƒï¼‰<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.30.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li><li>Docker Hubä¸ŠæŸ¥çœ‹é•œåƒï¼š<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.31.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li><li>ä»è¿œç¨‹å­˜å‚¨åº“ä¸­æå–å¹¶è¿è¡Œé•œåƒï¼šç°åœ¨å½“è¿œç¨‹å­˜å‚¨åº“æœ‰äº†é•œåƒåï¼Œå°±å¯ä»¥ä»è¿œç¨‹å­˜å‚¨åº“æå–å¹¶è¿è¡Œäº†<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.32.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.33.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li></ol><h3 id="6æœåŠ¡"><a class="markdownIt-Anchor" href="#6æœåŠ¡"></a> 6.æœåŠ¡</h3><p>åœ¨åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºä¸­ï¼Œåº”ç”¨ç¨‹åºçš„ä¸åŒéƒ¨åˆ†è¢«ç§°ä¸ºâ€œæœåŠ¡â€ã€‚ä¾‹å¦‚ï¼Œæƒ³è±¡ä¸€ä¸ªè§†é¢‘å…±äº«ç«™ç‚¹ï¼Œå®ƒå¯èƒ½åŒ…æ‹¬ç”¨äºå°†åº”ç”¨ç¨‹åºæ•°æ®å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„æœåŠ¡ï¼Œç”¨äºç”¨æˆ·ä¸Šä¼ ä¸œè¥¿çš„è§†é¢‘è½¬ç æœåŠ¡ï¼Œä¸ºå‰ç«¯æœåŠ¡ç­‰ç­‰ã€‚<br />æœåŠ¡å®é™…ä¸Šåªæ˜¯â€œç”Ÿäº§ä¸­çš„å®¹å™¨â€ã€‚æœåŠ¡åªè¿è¡Œä¸€ä¸ªé•œåƒï¼Œä½†å®ƒç¼–ç é•œåƒè¿è¡Œçš„æ–¹å¼ - åº”è¯¥ä½¿ç”¨å“ªä¸ªç«¯å£ï¼Œå®¹å™¨åº”è¯¥è¿è¡Œå¤šå°‘ä¸ªå‰¯æœ¬ï¼Œä»¥ä¾¿æœåŠ¡å…·æœ‰æ‰€éœ€çš„å®¹é‡ï¼Œä»¥åŠç­‰ç­‰ã€‚ç¼©æ”¾æœåŠ¡ä¼šæ›´æ”¹è¿è¡Œè¯¥è½¯ä»¶çš„å®¹å™¨å®ä¾‹çš„æ•°é‡ï¼Œä»è€Œä¸ºæµç¨‹ä¸­çš„æœåŠ¡åˆ†é…æ›´å¤šçš„è®¡ç®—èµ„æºã€‚<br />ä½¿ç”¨Dockerå¹³å°å®šä¹‰ï¼Œè¿è¡Œå’Œæ‰©å±•æœåŠ¡éå¸¸ç®€å• - åªéœ€ç¼–å†™ä¸€ä¸ªdocker-compose.ymlæ–‡ä»¶å³å¯ã€‚</p><h4 id="åˆ›å»ºä¸€ä¸ªdocker-composeymlæ–‡ä»¶"><a class="markdownIt-Anchor" href="#åˆ›å»ºä¸€ä¸ªdocker-composeymlæ–‡ä»¶"></a> åˆ›å»ºä¸€ä¸ªdocker-compose.ymlæ–‡ä»¶</h4><p><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.34.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />é”®å…¥ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">version: &quot;3&quot;</span><br><span class="line">services:</span><br><span class="line">  web:</span><br><span class="line">    # replace username/repo:tag with your name and image details</span><br><span class="line">    image: 15433/wangliguo:test</span><br><span class="line">    deploy:</span><br><span class="line">      replicas: 5</span><br><span class="line">      resources:</span><br><span class="line">        limits:</span><br><span class="line">          cpus: &quot;0.1&quot;</span><br><span class="line">          memory: 50M</span><br><span class="line">      restart_policy:</span><br><span class="line">        condition: on-failure</span><br><span class="line">    ports:</span><br><span class="line">      - &quot;80:80&quot;</span><br><span class="line">    networks:</span><br><span class="line">      - webnet</span><br><span class="line">networks:</span><br><span class="line">  webnet:</span><br></pre></td></tr></table></figure><p>æ‹‰å–çš„æ˜¯ä¸Šä¸ªæ­¥éª¤ä¸­çš„å­˜å‚¨åº“çš„tagã€‚<br />è¿è¡Œè¯¥é•œåƒçš„5ä¸ªå®ä¾‹ä½œä¸ºä¸€ä¸ªæœåŠ¡è°ƒç”¨webï¼Œé™åˆ¶æ¯ä¸ªä½¿ç”¨ï¼Œæœ€å¤š10ï¼…çš„CPUï¼ˆè·¨æ‰€æœ‰æ ¸å¿ƒï¼‰å’Œ50MBçš„RAMã€‚<br />å¦‚æœä¸€ä¸ªå¤±è´¥ï¼Œç«‹å³é‡æ–°å¯åŠ¨å®¹å™¨ã€‚<br />å°†ä¸»æœºä¸Šçš„ç«¯å£80æ˜ å°„åˆ°webç«¯å£80ã€‚<br />æŒ‡å¯¼webå®¹å™¨é€šè¿‡ä¸€ä¸ªè´Ÿè½½å¹³è¡¡çš„ç½‘ç»œå…±äº«80ç«¯å£webnetã€‚ï¼ˆåœ¨å†…éƒ¨ï¼Œå®¹å™¨æœ¬èº«å°†webåœ¨ä¸´æ—¶ç«¯å£ä¸Šå‘å¸ƒåˆ° ç«¯å£80ï¼‰ã€‚<br />webnetä½¿ç”¨é»˜è®¤è®¾ç½®ï¼ˆè¿™æ˜¯ä¸€ä¸ªè´Ÿè½½å¹³è¡¡è¦†ç›–ç½‘ç»œï¼‰å®šä¹‰ç½‘ç»œã€‚</p><h4 id="è¿è¡Œæ–°çš„è´Ÿè½½å‡è¡¡åº”ç”¨ç¨‹åº"><a class="markdownIt-Anchor" href="#è¿è¡Œæ–°çš„è´Ÿè½½å‡è¡¡åº”ç”¨ç¨‹åº"></a> è¿è¡Œæ–°çš„è´Ÿè½½å‡è¡¡åº”ç”¨ç¨‹åº</h4><p>å…ˆè¿è¡Œå‘½ä»¤ï¼šdocker swarm init<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.35.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />ç„¶åå†è¿è¡Œå‘½ä»¤ï¼šdocker stack deploy -c docker-compose.yml getstartedlab<br />ç»™å®ƒå–åå«getstartedlab<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.36.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />æœåŠ¡å †æ ˆåœ¨è¿™å°ä¸»æœºä¸Šè¿è¡Œäº†5ä¸ªéƒ¨ç½²é•œåƒçš„å®¹å™¨å®ä¾‹<br />è¿è¡Œå‘½ä»¤æŸ¥çœ‹ï¼šdocker service ls<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.37.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />åœ¨æœåŠ¡ä¸­è¿è¡Œçš„å•ä¸ªå®¹å™¨ç§°ä¸ºä»»åŠ¡ï¼Œå¯ä»¥çœ‹åˆ°ä¸Šé¢æœ‰ä¸ªgetstartedlab_webçš„æœåŠ¡<br />è¿è¡Œå‘½ä»¤docker service ps getstartedlab_web æŸ¥çœ‹æ­¤æœåŠ¡ä¸‹çš„ä»»åŠ¡ï¼š<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.38.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />å¦‚æœåªåˆ—å‡ºç³»ç»Ÿä¸­çš„æ‰€æœ‰å®¹å™¨ï¼Œä¹Ÿä¼šæ˜¾ç¤ºä»»åŠ¡ï¼Œä½†ä¸ä¼šè¢«æœåŠ¡è¿‡æ»¤ï¼š<br />è¿è¡Œå‘½ä»¤ï¼šdocker container ls -q<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.39.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />ç„¶åæ‰“å¼€æµè§ˆå™¨ï¼Œé”®å…¥<a href="http://localhost/">http://localhost</a><br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.40.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />ç‚¹å‡»åˆ·æ–°å¤šæ¬¡ï¼Œå¯ä»¥å‘ç°Hostnameçš„æ›´æ”¹ï¼Œä»¥å¾ªç¯æ–¹å¼é€‰æ‹©5ä¸ªä»»åŠ¡ä¸­çš„ä¸€ä¸ªæ¥å“åº”ã€‚å®¹å™¨IDå°†ä¸å‰ä¸€ä¸ªå‘½ä»¤ï¼ˆdocker container ls -qï¼‰çš„è¾“å‡ºç›¸åŒ¹é…ã€‚</p><h4 id="æ›´æ”¹åº”ç”¨ç¨‹åº"><a class="markdownIt-Anchor" href="#æ›´æ”¹åº”ç”¨ç¨‹åº"></a> æ›´æ”¹åº”ç”¨ç¨‹åº</h4><p>æ¯”å¦‚æ›´æ”¹docker-compose.ymlä¸­çš„replicaså€¼ï¼Œä¿å­˜æ›´æ”¹å¹¶é‡æ–°è¿è¡Œdocker stack deployå‘½ä»¤æ¥æ›´æ–°åº”ç”¨ç¨‹åºï¼š<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.41.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />è¿è¡Œå‘½ä»¤ï¼š<br />docker stack deploy -c docker-compose.yml getstartedlab<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.42.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />Dockerä¼šåšä¸€ä¸ªå°±åœ°æ›´æ–°ï¼Œç„¶åé‡æ–°è¿è¡Œdocker container ls -qä»¥æŸ¥çœ‹é‡æ–°é…ç½®çš„å·²éƒ¨ç½²å®ä¾‹<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.43.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />å¯ä»¥çœ‹åˆ°ä¹‹å‰æ˜¯6ä¸ªï¼Œç°åœ¨æ˜¯7ä¸ªï¼Œåˆšå¥½å¤šäº†ä¸€ä¸ªä»»åŠ¡<br />ps:ç”µè„‘ä¸­è¿˜è¿è¡Œè¿™ä¹‹å‰æ­¥éª¤ä¸­ä»docker hubä¸­æ‹‰å–å¹¶è¿è¡Œç€çš„é‚£ä¸ªä»»åŠ¡ï¼Œæ‰€ä»¥ä¼šçœ‹åˆ°6ä¸ªå’Œ7ä¸ª</p><h4 id="å…³é—­åº”ç”¨ç¨‹åºå’Œç¾¤"><a class="markdownIt-Anchor" href="#å…³é—­åº”ç”¨ç¨‹åºå’Œç¾¤"></a> å…³é—­åº”ç”¨ç¨‹åºå’Œç¾¤</h4><p>å…³é—­åº”ç”¨ç¨‹åºdocker stack rm getstartedlab<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.44.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />å…³é—­ç¾¤docker swarm leave â€“force<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.45.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />ç°åœ¨æœåŠ¡ä¸­çš„ä»»åŠ¡éƒ½å…³é—­äº†ä»¥åå†è¿è¡Œå‘½ä»¤ï¼š<br />docker container ls -q<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.46.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />è¿™å°±æ˜¯ä¸Šé¢è¯´çš„é‚£ä¸ªä¹‹å‰æ­¥éª¤ä¸­ä»docker hubä¸­æ‹‰å–å¹¶è¿è¡Œç€çš„é‚£ä¸ªä»»åŠ¡</p><h3 id="7é›†ç¾¤"><a class="markdownIt-Anchor" href="#7é›†ç¾¤"></a> 7.é›†ç¾¤</h3><h4 id="äº†è§£é›†ç¾¤"><a class="markdownIt-Anchor" href="#äº†è§£é›†ç¾¤"></a> äº†è§£é›†ç¾¤</h4><p>swarmæ˜¯è¿è¡ŒDockerå¹¶åŠ å…¥åˆ°ä¸€ä¸ªé›†ç¾¤ä¸­çš„ä¸€ç»„æœºå™¨ã€‚ä½†æ˜¯ç°åœ¨å®ƒä»¬å°†ç”±ç¾¤é›†ç®¡ç†å™¨åœ¨ç¾¤é›†ä¸Šæ‰§è¡Œã€‚ç¾¤ä½“ä¸­çš„æœºå™¨å¯ä»¥æ˜¯ç‰©ç†çš„æˆ–è™šæ‹Ÿçš„ã€‚åŠ å…¥ç¾¤ä½“åï¼Œä»–ä»¬è¢«ç§°ä¸ºèŠ‚ç‚¹ã€‚<br />Swarmç®¡ç†äººå‘˜å¯ä»¥ä½¿ç”¨å¤šç§ç­–ç•¥æ¥è¿è¡Œå®¹å™¨ï¼Œæ¯”å¦‚â€œæœ€ç©ºçš„èŠ‚ç‚¹â€ï¼ˆemptiest nodeï¼‰ - å®ƒä½¿ç”¨å®¹å™¨å¡«å……æœ€å°‘ä½¿ç”¨çš„æœºå™¨ã€‚æˆ–â€œå…¨å±€â€ï¼Œè¿™ç¡®ä¿äº†æ¯å°æœºå™¨åªèƒ½å¾—åˆ°æŒ‡å®šå®¹å™¨çš„ä¸€ä¸ªå®ä¾‹ã€‚æ‚¨å¯ä»¥æŒ‡ç¤ºswarm manageråœ¨Composeæ–‡ä»¶ä¸­ä½¿ç”¨è¿™äº›ç­–ç•¥ã€‚<br />ç¾¤ä½“ç®¡ç†è€…æ˜¯ç¾¤ä½“ä¸­å”¯ä¸€å¯ä»¥æ‰§è¡Œä½ çš„å‘½ä»¤çš„æœºå™¨ï¼Œæˆ–è€…æˆæƒå…¶ä»–æœºå™¨ä½œä¸ºå·¥ä½œè€…åŠ å…¥ç¾¤ä½“ã€‚å·¥äººæä¾›èƒ½åŠ›ï¼Œå¹¶æ²¡æœ‰æƒåŠ›å‘Šè¯‰ä»»ä½•å…¶ä»–æœºå™¨å¯ä»¥åšä»€ä¹ˆå’Œä¸å¯ä»¥åšä»€ä¹ˆã€‚<br />åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä¹‹å‰éƒ½æ˜¯åœ¨æœ¬åœ°æœºå™¨ä¸Šä»¥å•ä¸»æœºæ¨¡å¼ä½¿ç”¨Dockerã€‚ä½†æ˜¯Dockerä¹Ÿå¯ä»¥åˆ‡æ¢åˆ°ç¾¤é›†æ¨¡å¼ï¼Œè¿™å°±æ˜¯ä½¿ç”¨ç¾¤é›†çš„åŸå› ã€‚å¯ç”¨ç¾¤æ¨¡å¼ä½¿å½“å‰æœºå™¨æˆä¸ºç¾¤ç®¡ç†å™¨ã€‚åˆ™Dockerå°†è¿è¡Œæ‚¨æ­£åœ¨ç®¡ç†çš„ç¾¤é›†ä¸Šæ‰§è¡Œçš„å‘½ä»¤ï¼Œè€Œä¸ä»…ä»…æ˜¯åœ¨å½“å‰çš„æœºå™¨ä¸Šã€‚</p><h4 id="åˆ›å»ºä¸€ä¸ªé›†ç¾¤"><a class="markdownIt-Anchor" href="#åˆ›å»ºä¸€ä¸ªé›†ç¾¤"></a> åˆ›å»ºä¸€ä¸ªé›†ç¾¤</h4><p>ä¸€ä¸ªç¾¤ç”±å¤šä¸ªèŠ‚ç‚¹ç»„æˆï¼Œå¯ä»¥æ˜¯ç‰©ç†æœºæˆ–è™šæ‹Ÿæœºã€‚åŸºæœ¬çš„æ¦‚å¿µå¾ˆç®€å•ï¼šè¿è¡Œdocker swarm initå¯ç”¨ç¾¤æ¨¡å¼ï¼Œä½¿å½“å‰çš„æœºå™¨æˆä¸ºç¾¤ç®¡ç†å™¨ï¼Œç„¶ådocker swarm joinåœ¨å…¶ä»–æœºå™¨ä¸Šè¿è¡Œ ï¼Œè®©å®ƒä»¬ä½œä¸ºå·¥äººåŠ å…¥ç¾¤ä½“ã€‚ä¸‹é¢å°†ä½¿ç”¨è™šæ‹Ÿæœºå¿«é€Ÿåˆ›å»ºä¸€ä¸ªåŒæœºç¾¤é›†ï¼Œå¹¶å°†å…¶å˜æˆç¾¤é›†ã€‚<br />æ­¥éª¤ï¼š</p><ol><li>ä»¥ç®¡ç†å‘˜è¿è¡Œcmd.exe è¿™é‡Œå¿…é¡»æ˜¯ç®¡ç†å‘˜è¿è¡Œï¼Œä¸ç„¶åç»­æ“ä½œæƒé™ä¸å¤Ÿ<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.47.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li><li>è¿è¡Œdocker swarm initå¯ç”¨ç¾¤æ¨¡å¼ï¼Œä½¿å½“å‰çš„æœºå™¨æˆä¸ºç¾¤ç®¡ç†å™¨ï¼Œç„¶ådocker swarm joinåœ¨å…¶ä»–æœºå™¨ä¸Šè¿è¡Œ ï¼Œè®©å®ƒä»¬ä½œä¸ºå·¥äººåŠ å…¥ç¾¤ä½“ã€‚</li><li>å¯åŠ¨Hyper-Vç®¡ç†å™¨<br />ç‚¹å‡»å¼€å§‹ïƒ windowsç®¡ç†å·¥å…·ïƒ Hyper-Vç®¡ç†å™¨<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.48.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li><li>å•å‡»å³ä¾§èœå•ä¸­çš„è™šæ‹Ÿäº¤æ¢æœºç®¡ç†å™¨<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.49.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li><li>å•å‡»åˆ›å»ºç±»å‹ä¸ºå¤–éƒ¨ç½‘ç»œçš„è™šæ‹Ÿäº¤æ¢æœºï¼Œç»™å®ƒçš„åç§°myswitchï¼Œå¹¶æ£€æŸ¥æ¡†å…±äº«æ‚¨çš„ä¸»æœºçš„æ´»åŠ¨ç½‘ç»œé€‚é…å™¨<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.50.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li><li>ä½¿ç”¨èŠ‚ç‚¹ç®¡ç†å·¥å…·åˆ›å»ºå‡ ä¸ªè™šæ‹Ÿæœºdocker-machineï¼š<br />docker-machine create -d hyperv â€“hyperv-virtual-switch â€œmyswitchâ€ myvm1<br />docker-machine create -d hyperv â€“hyperv-virtual-switch â€œmyswitchâ€ myvm2<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.51.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />ä¹‹å‰æˆ‘å·²ç»åˆ›å»ºè¿‡äº†ï¼Œæ‰€ä»¥æˆ‘ç°åœ¨å†æ–°å»ºä¸¤ä¸ªï¼šmyvm3 å’Œ myvm4<br />docker-machine create -d hyperv â€“hyperv-virtual-switch â€œmyswitchâ€ myvm3<br />docker-machine create -d hyperv â€“hyperv-virtual-switch â€œmyswitchâ€ myvm4<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.52.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.53.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.54.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li><li>ç°åœ¨åˆ›å»ºäº†ä¸¤ä¸ªè™šæ‹Ÿæœºï¼Œåˆ†åˆ«å‘½åä¸ºmyvm3å’Œmyvm4ã€‚ä½¿ç”¨å‘½ä»¤<br />docker-machine ls åˆ—å‡ºæœºå™¨å¹¶è·å–å…¶IPåœ°å€ã€‚<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.55.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li></ol><h4 id="åˆå§‹åŒ–ç¾¤å¹¶æ·»åŠ èŠ‚ç‚¹"><a class="markdownIt-Anchor" href="#åˆå§‹åŒ–ç¾¤å¹¶æ·»åŠ èŠ‚ç‚¹"></a> åˆå§‹åŒ–ç¾¤å¹¶æ·»åŠ èŠ‚ç‚¹</h4><ol><li><p>å…ˆä½¿ç”¨å‘½ä»¤docker-machine ssh myvm3<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.56.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />ç„¶åè®©myvm3 æˆä¸ºä¸€ä¸ªç®¡ç†å‘˜ï¼šdocker swarm init<br />æ³¨æ„çº¢æ¡†ä¸­çš„å†…å®¹ï¼Œè¿™æ˜¯åé¢çš„myvm4 åŠ å…¥é›†ç¾¤è¦æ‰§è¡Œçš„å‘½ä»¤<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.57.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />è¿è¡Œå‘½ä»¤ï¼šdocker node ls<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.58.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />å¯ä»¥çœ‹åˆ°myvm3 å·²ç»æˆä¸ºç®¡ç†å‘˜äº†</p></li><li><p>ä»¥ç®¡ç†å‘˜èº«ä»½å†è¿è¡Œä¸€ä¸ªcmd.exe.ç„¶åè¿è¡Œå‘½ä»¤ï¼šdocker-machine ssh myvm4<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.59.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />ç„¶åå†è¿è¡Œå‘½ä»¤ï¼šï¼ˆè¿™å°±æ˜¯ä¸Šä¸€é¡µä¸­å›¾ç‰‡é‡Œçº¢æ¡†ä¸­çš„å†…å®¹ï¼Œä¸‹é¢çš„tokenæ˜¯æˆ‘è¿™é‡Œçš„ï¼Œæ­£å¸¸è¿è¡Œåˆ°è¿™é‡Œçš„æ—¶å€™æ˜¯å»myvm3çš„docker swarm initå‘½ä»¤ä¸­æŠŠçº¢æ¡†æ¡†ä½ç½®é‡Œçš„å‘½ä»¤å¤åˆ¶ç²˜è´´è¿‡æ¥æ‰§è¡Œï¼‰</p><p>docker swarm join --token SWMTKN-1-0csyw4yz6uxob90h0b8ejoimimrgisiuy9t2ugm8c1mxfvxf99-7q7w5jw1mrjk1jlri2bcgqmu8 10.211.106.194:2377</p></li></ol><p><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.60.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />ç„¶åå†åˆ‡æ¢åˆ°myvm3 çš„cmd.exeä¸­æ‰§è¡Œå‘½ä»¤ï¼šdocker node ls<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.61.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„é›†ç¾¤ã€‚ã€</p><p>é™„ç¦»å¼€ç¾¤å‘½ä»¤ï¼šdocker swarm leave</p><h4 id="åœ¨é›†ç¾¤ä¸Šéƒ¨ç½²åº”ç”¨ç¨‹åº"><a class="markdownIt-Anchor" href="#åœ¨é›†ç¾¤ä¸Šéƒ¨ç½²åº”ç”¨ç¨‹åº"></a> åœ¨é›†ç¾¤ä¸Šéƒ¨ç½²åº”ç”¨ç¨‹åº</h4><ol><li>docker-machineä¸ºswarmç®¡ç†å™¨é…ç½®ä¸€ä¸ªshell<br />è¿è¡Œå‘½ä»¤ï¼šdocker-machine env myvm3<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.62.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />æ³¨æ„æœ€åä¸€è¡Œçš„å†…å®¹<br />æˆ‘è¿™é‡Œæ˜¯<code>@FOR /f &quot;tokens=*&quot; %i IN ('docker-machine env myvm3') DO @%i</code><br />å¤åˆ¶ç²˜è´´è¿è¡Œå®ƒ<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.63.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />å†è¿è¡Œdocker-machine lsä»¥éªŒè¯å®ƒmyvm3 æ˜¯å¦ä¸ºæ´»åŠ¨æœºå™¨<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.64.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /></li><li>åœ¨swarmç®¡ç†å™¨ä¸Šéƒ¨ç½²åº”ç”¨ç¨‹åº<br />ä»¥éƒ¨ç½²æˆ‘ä»¬ä¹‹å‰docker-compose.ymlæœåŠ¡ä¸ºä¾‹<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.65.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />é¦–å…ˆåœ¨è¿™ä¸ªä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€çš„cmdä¸­è¿›å…¥åˆ°docker-compose.ymlæ–‡ä»¶çš„æ‰€åœ¨çš„ç›®å½•ä¸­å»ï¼Œæˆ‘çš„å› ä¸ºåœ¨D/dockerä¸­ï¼Œå¦‚æœä¸è¿‡æ¥ï¼Œé‚£ä¹ˆæ‰§è¡Œå‘½ä»¤ï¼š<br />docker stack deploy -c docker-compose.yml getstartedlabä¼šå‡ºç°ï¼š<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.66.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />è¿›å…¥ç›®å½•åæ‰§è¡Œä¸Šé¢é‚£æ¡å‘½ä»¤ï¼š<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.67.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />å†æ‰§è¡Œå‘½ä»¤docker stack ps getstartedlab æŸ¥çœ‹æœåŠ¡è¯¦æƒ…ï¼š<br /><img src="watermark2textaHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHVuYW45NjE=font5a6L5L2Tfontsize400fillI0JBQkFCMA==dissolve.68.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" /><br />å¦‚æœå‘ç°stateå­˜åœ¨shutdownçš„æƒ…å†µï¼ˆä¹Ÿæœ‰å¯èƒ½å‡ºç°ä½ çš„å›¾ç‰‡ä¸Šçš„å®ä¾‹æ•°é‡å¤§äºä½ åœ¨æœåŠ¡æ–‡ä»¶ä¸­å®šä¹‰çš„æ•°é‡çš„æƒ…å†µï¼Œè¿™éƒ½æ˜¯æˆ‘çˆ¬è¿‡çš„å‘ï¼Œç°åœ¨æˆ‘è¿™é‡Œå®šä¹‰çš„æ˜¯6ï¼Œå›¾ç‰‡ä¸Šä¹Ÿæ˜¯6ï¼Œï¼‰ï¼Œé‚£åº”è¯¥æ˜¯ä½ åœ¨ä¹‹å‰æœåŠ¡å“ªä¸€ç« è¿è¡Œè¿‡å‘½ä»¤ï¼š<br />docker stack deploy -c docker-compose.yml getstartedlab è€Œæ²¡æœ‰æŠŠgetstartedlabç§»é™¤æ‰<br />è¿™æ—¶åº”è¯¥æ‰§è¡Œå‘½ä»¤ï¼šdocker stack rm getstartedlab æŠŠgetstartedlabç§»é™¤æ‰<br />Psï¼šæˆ‘æ˜¯dï¼Œcç›˜éƒ½æ‰§è¡Œäº†è¿™ä¸ªå‘½ä»¤ï¼Œå› ä¸ºä¹‹å‰è¿è¡Œdocker stack deploy -c docker-compose.yml getstartedlabå‘½ä»¤æ˜¯åœ¨dç›˜çš„æ—¶å€™<br />ç„¶åé‡æ–°è¿è¡Œï¼šdocker stack deploy -c docker-compose.yml getstartedlab å’Œ<br />docker stack ps getstartedlab å°±å¥½äº†</li><li>æµè§ˆå™¨è®¿é—®é›†ç¾¤çš„ç½‘å€</li></ol>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>proxmoxçš„å®‰è£…åŠé…ç½®_proxmoxå®‰è£…æ•™ç¨‹</title>
      <link href="/2025/03/09/proxmox/proxmox%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE_proxmox%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/"/>
      <url>/2025/03/09/proxmox/proxmox%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE_proxmox%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>Proxmoxå…¨ç§°Proxmox Virtual Environmentç®€ç§°PVEæ˜¯åŸºäºDebiançš„è™šæ‹Ÿæœºå¹³å°ã€‚ä»¥åˆ©ç”¨å®ƒå®‰è£…ä»»ä½•ä½ æƒ³è¦çš„ç³»ç»Ÿï¼Œå¦‚ï¼šWinç³»ç»Ÿã€linuxç³»ç»Ÿã€centosã€ubuntuç­‰ï¼‰ã€è½¯è·¯ç”±ï¼ˆLEDEã€OpenWRTã€ROSã€é«˜æªã€çˆ±å¿«ã€ç­‰ï¼‰ï¼Œè€Œä¸”æ˜¯å¼€æºæ°¸ä¹…å…è´¹ï¼Œè¦æ±‚ç¡¬ä»¶é…ç½®ä½ï¼Œç³»ç»Ÿè¿è¡Œç¨³å®šç­‰ç‰¹ç‚¹ã€‚<br /><strong>ä¸€ã€å®‰è£…å‰å‡†å¤‡</strong><br />1ã€Proxmox å‡ ä¹å¯ä»¥åœ¨æ‰€æœ‰x86ç¡¬ä»¶ä¸Šè¿è¡Œï¼Œéœ€è¦å‡†å¤‡ä¸€å°å¯ä»¥å¼€æœºçš„PCã€‚<br />2ã€ä¸€ä¸ªå¤§äº1Gçš„Uç›˜ã€‚<br />3ã€è½¯ç¢Ÿé€šUltraISOè½¯ä»¶ã€‚<br />4ã€åˆ°Proxmoxå®˜ç½‘ <a href="https://pve.proxmox.com/wiki/Downloads">https://pve.proxmox.com/wiki/Downloads</a> ä¸‹è½½æœ€æ–°ç‰ˆçš„PVEã€‚<br /><img src="7047fa9442a9c91d69bbc0db784be47c.png" alt="![![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20200629232909939.png?x-oss-process=im](https://img-blog.csdnimg.cn/20200629232945331.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2d1b3hpemhlbmc=,size_16,color_FFFFFF,t_70" /><br />5ã€ä¸‹è½½åç”¨ultraisoæ‰“å¼€ä¸‹è½½çš„ISOæ–‡ä»¶ï¼Œèœå•-å¯åŠ¨-å†™å…¥ç¡¬ç›˜æ˜ åƒã€‚<br /><img src="bd92b21265c285f54a2e6b1dafb94e66.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />6ã€é©±åŠ¨å™¨é€‰æ‹©Uç›˜ç›˜ç¬¦ï¼Œæ˜ åƒæ–‡ä»¶é€‰æ‹©ä¸‹è½½çš„PVEå®‰è£…æ–‡ä»¶ï¼Œå†™å…¥æ–¹å¼é€‰æ‹©RAWï¼Œæœ€åç‚¹å†™å…¥å¼€å§‹å†™ç›˜ã€‚<br /><img src="cf205f3a9b68e466b7e3c54226864916.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" />7ã€å†™å…¥Uç›˜åå…³é—­ultraisoï¼Œæ‹”ä¸‹Uç›˜æ’åˆ°è¦å®‰è£…PVEçš„PCä¸Šã€‚å¼€å§‹è®¾ç½®å¯åŠ¨é¡ºåºé€‰æ‹©Uç›˜å¯åŠ¨ã€‚<br /><strong>äºŒã€PVEçš„å®‰è£…</strong><br />1ã€Uç›˜å¯åŠ¨åè¿›å…¥å®‰è£…ç•Œé¢é€‰æ‹©install Proxmox VE<br /><img src="28107b10d5528b36656ebf1e7055718e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />2ã€å‡ºç°å®‰è£…åè®®ï¼ŒåŒæ„åè®®ï¼Œé€‰æ‹©â€œI agreeâ€<br /><img src="5db720025b34d06be659f583988d7053.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />4ã€é€‰æ‹©å®‰è£…çš„ç¡¬ç›˜<br /><img src="24a7c8326fc654734022b9f0c8d5c673.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />5ã€å›½å®¶ã€åœ°åŒºå’Œé”®ç›˜çš„é€‰æ‹©<br />éšåï¼Œè¾“å…¥æœåŠ¡å™¨çš„å›½å®¶chinaã€é€‰æ‹©åŒºåŸŸå’Œé”®ç›˜å¸ƒå±€ï¼Œç„¶åå†æ¬¡å•å‡»â€œä¸‹ä¸€æ­¥â€ã€‚<br /><img src="a590f48235144225013e39f495d8a9c6.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />6ã€è®¾ç½®rootç™»é™†å¯†ç å’Œé‚®ç®±<br /><img src="31113b7a47c7bc556851d4c6a73ba77a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />7ã€åˆ†é…IPã€æ©ç ã€ç½‘å…³<br />Hostnameï¼šä¸»æœºåï¼Œæˆ‘è¿™é‡Œå†™ <a href="http://pve.com">pve.com</a><br />IP Addressï¼šIPåœ°å€ï¼Œé»˜è®¤åˆ†é…çš„ï¼Œä¹Ÿå¯ä»¥è‡ªå·±è®¾å®š<br />Netmaskï¼šå­ç½‘æ©ç ï¼Œå†™255.255.255.0<br />Getwayï¼šç½‘å…³ï¼Œé»˜è®¤ï¼Œä¹Ÿå¯ä»¥è‡ªå·±è®¾å®š<br />DNS Serverï¼šDNSæœåŠ¡å™¨ï¼Œé»˜è®¤ï¼Œä¹Ÿå¯ä»¥è‡ªå·±è®¾å®š<br /><img src="c645815e16253ca4c52e204350c6b3f3.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />8ã€ç‚¹Nextç»§ç»­ï¼Œç¡®è®¤è¾“å…¥æ— è¯¯åç‚¹Installå®‰è£…<img src="95ef0580337deca3c64a48cca753e06c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />9ã€å®‰è£…<br />æ ¹æ®PCæ€§èƒ½ï¼Œå‡ åˆ†ç§ä¾¿å®Œæˆã€‚<img src="4d60284ec625deb579f7a00e310797a9.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />10ã€é‡å¯<br />é‡å¯å‰è¯·æ‹”æ‰Uç›˜ï¼Œç‚¹reboot<br /><img src="7c6534f8dcd263b17e183c4174e7db8c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />11ã€é‡å¯åè‡ªåŠ¨é»˜è®¤é€‰æ‹©ç¬¬ä¸€é¡¹<br /><img src="eaf99a34c48e0bd038903a733b68355f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" />12ã€æœ€åè¿›å…¥PVEçš„ç™»å½•ç•Œé¢ï¼ŒPVEçš„å®‰è£…å…¨éƒ¨å®Œæˆ<br />æ‰“å¼€æ§åˆ¶ç«¯æµè§ˆå™¨åœ°å€æ è¾“å…¥è®¾å®šçš„IPåœ°å€å’Œç«¯å£ï¼ˆ<a href="https://192.168.1.250:8006">https://192.168.1.250:8006</a>ï¼‰<br /><img src="554becb4121b33912154c0d0e3929fb7.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ä¸‰ã€PVEé…ç½®<br />å®‰è£…åå³å¯è¿›è¡ŒåŸºæœ¬è®¾ç½®</p><p>åˆ é™¤è®¢é˜…é€šçŸ¥<br />é€šè¿‡ SSH è¿æ¥åˆ° Proxmox æœºå™¨æˆ–é€šè¿‡ PVE Web ç•Œé¢ä½¿ç”¨æ§åˆ¶å°ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œç„¶åæ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼š<br />sed -i.bak â€œs/data.status !== â€˜Activeâ€™/false/gâ€ /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js &amp;&amp; systemctl restart pveproxy.service<br />systemctl restart pveproxyé‡å¯ç½‘é¡µæœåŠ¡</p><p>æ›´æ”¹è½¯ä»¶æº<br />å°†/etc/apt/sources.list.d/pve-enterprise.list æ–‡ä»¶å†…çš„å”¯ä¸€ä¸€æ¡è®°å½•æ³¨é‡Šæ‰ï¼š<br />#deb <a href="https://enterprise.proxmox.com/debian/pve">https://enterprise.proxmox.com/debian/pve</a> stretch pve-enterprise<br />wget -q -O- â€˜<a href="http://download.proxmox.com/debian/pve/dists/stretch/proxmox-ve-release-5.x.gpg%E2%80%99">http://download.proxmox.com/debian/pve/dists/stretch/proxmox-ve-release-5.x.gpgâ€™</a> | apt-key add -<br />echo â€œdeb <a href="http://download.proxmox.com/debian/pve">http://download.proxmox.com/debian/pve</a> stretch pve-no-subscriptionâ€ &gt; /etc/apt/sources.list.d/pve-no-subscription.list<br />apt update &amp;&amp; apt dist-upgrade<br />å›½å†…æºï¼š<br />echo â€œdeb <a href="https://mirrors.ustc.edu.cn/proxmox/debian/pve">https://mirrors.ustc.edu.cn/proxmox/debian/pve</a> stretch pve-no-subscriptionâ€ &gt; /etc/apt/sources.list.d/pve-no-subscription.list</p><p>2ã€å¸¸ç”¨çš„è®¾ç½®å‡ å‘½ä»¤<br />â—ç£ç›˜æ˜ å°„<br />æ·»åŠ æ–°ç¡¬ç›˜<br />è£…å¥½ç¡¬ç›˜å¯åŠ¨åæŸ¥çœ‹ä¸‹ç¡¬ç›˜çš„åç§°<br />ls /dev/sd* æŸ¥çœ‹ç¡¬ç›˜åŠç¡¬ç›˜åˆ†åŒºï¼ˆSATAç¡¬ç›˜ï¼‰<br />ä¹Ÿå¯ä»¥åœ¨èŠ‚ç‚¹-ç£ç›˜ä¸­æŸ¥çœ‹<br />å¦‚æœç¡¬ç›˜ä¸å¸¦ SD_1/SD_2/SD*3 ç±»æ•°å­—è¡¨ç¤ºæœªåˆ†åŒºï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œåˆ†åŒºï¼›<br />fdisk /dev/sdb ç»™sdbåˆ†åŒº<br />è¾“å…¥ n æ–°å»ºåˆ†åŒºï¼Œè¾“å…¥ p å»ºç«‹ä¸»åˆ†åŒºï¼Œè¾“å…¥ 1 åˆ›å»ºä¸€ä¸ªåˆ†åŒº<br />åˆ†åŒºçš„æ‰‡åŒºç»“æŸä½ç½®ï¼Œé»˜è®¤ï¼Œç›´æ¥å›è½¦ï¼Œwä¿å­˜ï¼Œåˆ°æ­¤å°±åˆ†åŒºå®Œæˆäº†ï¼Œè¾“å…¥ p æŸ¥çœ‹ä¸€ä¸‹<br />Select (default p): p<br />Partition number (1-4, default 1): (åˆ†å‡ ä¸ªåŒº ç›´æ¥æŒ‰ä¸‹ enter)<br />First sector (2048-167772159, default 2048): (ç›´æ¥æŒ‰ä¸‹ enter)<br />Last sector, +sectors or +size {K,M,G} (2048-967772159, default 967772159): (ç›´æ¥æŒ‰ä¸‹ enter)<br />Command (m for help): w æ³¨ä¿å­˜å¹¶é€€å‡º fdisk å·¥å…·<br />è¾“å…¥måå­—æ¯å¯¹åº”è¡¨<br />Command action<br />a toggle a bootable flag<br />b edit bsd disklabel<br />c toggle the dos compatibility flag<br />d delete a partition æ³¨ï¼šè¿™æ˜¯åˆ é™¤ä¸€ä¸ªåˆ†åŒºçš„åŠ¨ä½œï¼›<br />l list known partition types æ³¨ï¼šl æ˜¯åˆ—å‡ºåˆ†åŒºç±»å‹ï¼Œä»¥ä¾›æˆ‘ä»¬è®¾ç½®ç›¸åº”åˆ†åŒºçš„ç±»å‹ï¼›<br />m print this menu æ³¨ï¼šm æ˜¯åˆ—å‡ºå¸®åŠ©ä¿¡æ¯ï¼›<br />n add a new partition æ³¨ï¼šæ·»åŠ ä¸€ä¸ªåˆ†åŒºï¼›<br />o create a new empty DOS partition table<br />p print the partition table æ³¨ï¼šp åˆ—å‡ºåˆ†åŒºè¡¨ï¼›<br />q quit without saving changes æ³¨ï¼šä¸ä¿å­˜é€€å‡ºï¼›<br />s create a new empty Sun disklabel<br />t change a partitionâ€™s system id æ³¨ï¼št æ”¹å˜åˆ†åŒºç±»å‹ï¼›<br />u change display/entry units<br />v verify the partition table<br />w write table to disk and exit æ³¨ï¼šæŠŠåˆ†åŒºè¡¨å†™å…¥ç¡¬ç›˜å¹¶é€€å‡ºï¼›<br />x extra functionality (experts only) æ³¨ï¼šæ‰©å±•åº”ç”¨ï¼Œä¸“å®¶åŠŸèƒ½ï¼›</p><p>å¦‚æœå·²å­˜åœ¨åˆ†åŒºï¼Œå¯ç›´æ¥ä½¿ç”¨ mkfs -t ext4 /dev/sd_1 è¿›è¡Œæ ¼å¼åŒ–åˆ†åŒºï¼›å¼åŒ–å¥½äº†ï¼ä¹‹åæˆ‘ä»¬è¦æŒ‚è½½åˆ° pve ä¸Šé¢ï¼Œå…ˆæ–°å»ºä¸€ä¸ªæŒ‚è½½ç›®å½• mkdir -p /mnt/sd_1è¾“å…¥åæ— ä»»ä½•æç¤ºå·²æ‰§è¡ŒæˆåŠŸï¼Œç„¶åæŠŠç¡¬ç›˜æŒ‚è½½ä¿¡æ¯å†™å…¥/etc/fstabï¼›<br />echo /dev/sd_1 /mnt/sd_1 ext4 defaults 1 2 &gt;&gt; /etc/fstab<br />æ— æç¤ºè¡¨ç¤ºå·²æŒ‚è½½æˆåŠŸï¼›<br />PVE æ•°æ®ä¸­å¿ƒï¼Œå‚¨å­˜ï¼Œç‚¹å‡»æ·»åŠ ç›®å½•ï¼Œå…¨éƒ¨å‹¾é€‰ï¼Œç‚¹å‡»æ·»åŠ åï¼Œå°±å¯ä»¥çœ‹åˆ°äº†ï¼›<br />1ã€åˆ›å»ºåˆ†åŒº<br />å…ˆæŸ¥çœ‹æ˜¯å¦æœ‰æœªåˆ†åŒºçš„ç¡¬ç›˜å­˜åœ¨<br />åœ¨ shell ä¸­è¾“å…¥ mkdir /mnt/sda åˆ›å»º sda æ–‡ä»¶å¤¹ç”¨æ¥ç»™ç£ç›˜æŒ‚è½½<br />è¾“å…¥ mount /dev/sda1 /mnt/sda è¿›è¡ŒæŒ‚è½½</p><p>â—å¼€å¯ç¡¬ä»¶ç›´é€š<br />åœ¨ shell é‡Œè¾“å…¥ nano /etc/default/grub<br />æ‰¾åˆ°ï¼šGRUB_CMDLINE_LINUX_DEFAULT=â€œquietâ€<br />ä¿®æ”¹ä¸ºï¼šGRUB_CMDLINE_LINUX_DEFAULT=â€œquiet intel_iommu=onâ€<br />å¦‚æœæ˜¯ AMD cpu<br />ä¿®æ”¹ä¸ºï¼šGRUB_CMDLINE_LINUX_DEFAULT=â€œquiet amd_iommu=onâ€<br />ä¿å­˜é€€å‡ºåè¾“å…¥ update-grub</p><p>â—ç§»é™¤ LVM-Thinï¼Œå¹¶å°†ç©ºé—´å¹¶å…¥ local ä¸­<br />é‡Šæ”¾ LVM-Thin å¯¹åº”ç©ºé—´ pve/data<br />Shell ä¸­è¾“å…¥ä»£ç ï¼š</p><blockquote><p>lvremove pve/data</p></blockquote><p>æ‰©å±• local å¯¹åº”ç©ºé—´ pve/root<br />Shell è¾“å…¥ä»£ç ï¼š</p><blockquote><p>lvextend -l +100%FREE -r pve/root</p></blockquote><p>æ‰‹åŠ¨åˆ é™¤å·¦åˆ—æ˜¾ç¤ºçš„ LVM-Thin<br />é€‰ä¸­ â€œæ•°æ®ä¸­å¿ƒâ€<br />ç‚¹é€‰ä¸­é—´åˆ—çš„ â€œå­˜å‚¨â€<br />åˆ é™¤ â€œLVM-Thinâ€<br />ç¼–è¾‘ â€œlocalâ€ï¼Œåœ¨ â€œå†…å®¹â€ ä¸­å¢åŠ åŸæœ¬ LVM-Thin çš„ â€œç£ç›˜æ˜ åƒâ€ã€â€œå®¹å™¨â€</p><p>â—æºåŠ é€Ÿï¼Œå…³é—­è®¢é˜…<br />1ï¼Œå…³é—­ä¼ä¸šç‰ˆæ›´æ–°æº</p><blockquote><p>mv /etc/apt/sources.list.d/pve-enterprise.list<br />/etc/apt/sources.list.d/pve-enterprise.list.bak</p></blockquote><p>2ï¼Œæ›´æ–° debian å›½å†…åŠ é€ŸåŠ pve éè®¢é˜…ç‰ˆæ›´æ–°æº<br />nano /etc/apt/sources.list</p><p>#deb <a href="http://ftp.debian.org/debian">http://ftp.debian.org/debian</a> buster main contrib<br />#deb <a href="http://ftp.debian.org/debian">http://ftp.debian.org/debian</a> buster-updates main contrib</p><h2 id="security-updates"><a class="markdownIt-Anchor" href="#security-updates"></a> security updates</h2><p>#deb <a href="http://security.debian.org">http://security.debian.org</a> buster/updates main contrib</p><h2 id="debian-aliyun-source"><a class="markdownIt-Anchor" href="#debian-aliyun-source"></a> debian aliyun source</h2><p>deb <a href="https://mirrors.aliyun.com/debian">https://mirrors.aliyun.com/debian</a> buster main contrib non-free<br />deb <a href="https://mirrors.aliyun.com/debian">https://mirrors.aliyun.com/debian</a> buster-updates main contrib non-free<br />deb <a href="https://mirrors.aliyun.com/debian-security">https://mirrors.aliyun.com/debian-security</a> buster/updates main contrib non-free</p><h2 id="proxmox-source"><a class="markdownIt-Anchor" href="#proxmox-source"></a> proxmox source</h2><p>#deb <a href="http://download.proxmox.com/debian/pve">http://download.proxmox.com/debian/pve</a> buster pve-no-subscription<br />#deb <a href="https://mirrors.ustc.edu.cn/proxmox/debian/pve">https://mirrors.ustc.edu.cn/proxmox/debian/pve</a> buster pve-no-subscription<br />deb <a href="http://download.proxmox.wiki/debian/pve">http://download.proxmox.wiki/debian/pve</a> buster pve-no-subscription<br />â—å…³é—­è®¢é˜…æé†’</p><p>sed -i.bak â€œs/data.status !== â€˜Activeâ€™/false/gâ€ /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js &amp;&amp; systemctl restart pveproxy.service</p><p>â—è½¯è·¯ç”± img æ–‡ä»¶è½¬æ¢</p><blockquote><p>chmod +x img2kvm ./img2kvm &lt;img_name&gt; &lt;vm_id&gt; vm-&lt;vm_id&gt;-disk-1<br />[storage]</p></blockquote><p>â—æŠŠé•œåƒè½¬æˆè™šæ‹Ÿç£ç›˜å¹¶å¯¼å…¥åˆ°è™šæ‹Ÿæœº<br />æ–¹æ³•ä¸€<br />ä½¿ç”¨WinSCPæŠŠè§£å‹å‡ºæ¥çš„synoboot.imgä¸Šä¼ åˆ°æ ¹ç›®å½•<br />imgç£ç›˜è½¬æ¢ï¼Œé€‰æ‹©Shellï¼Œè¾“å…¥</p><blockquote><p>qm importdisk 101 /synoboot.img local-lvm</p></blockquote><p>ä¼šçœ‹åˆ°vm-101-disk-0æ­£åœ¨åˆ›å»ºï¼Œ101æ˜¯è™šæ‹Ÿæœºç¼–å·ï¼Œsynoboot.imgæ˜¯åˆšæ‰ä¸Šä¼ çš„å¼•å¯¼é•œåƒ</p><p>æ–¹æ³•äºŒ<br />æŸ¥çœ‹ä¸Šä¼ é•œåƒçš„ç›®å½•ï¼šç‚¹å‡»ç½‘é¡µä¸‹ç«¯çš„ä»»åŠ¡é€‰é¡¹å¡ &gt; åŒå‡»æœ€æ–°çš„â€œæ•°æ®æ‹·è´â€ä»»åŠ¡ &gt; â€œtarget fileâ€åé¢å°±æ˜¯åˆšåˆšä¸Šä¼ çš„é•œåƒæ–‡ä»¶å®Œæ•´ç›®å½•ï¼š</p><blockquote><p>target file: /var/lib/vz/template/iso/syboboot.img</p></blockquote><p>æŠŠé•œåƒè½¬æˆè™šæ‹Ÿç£ç›˜å¹¶å¯¼å…¥åˆ°è™šæ‹Ÿæœºï¼šé€‰æ‹©â€œpveâ€èŠ‚ç‚¹ &gt; shell &gt; è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¹¶å›è½¦ï¼š</p><blockquote><p>qm importdisk 103 /var/lib/vz/template/iso/syboboot.img local-lvm</p></blockquote><p>shellä¼šæ˜¾ç¤ºvm-103-disk-0è™šæ‹Ÿç£ç›˜åˆ›å»ºçš„è¿›åº¦ï¼Œæœ€åæ˜¾ç¤ºâ€˜Successfully imported disk as 'unused0:local-lvm:vm-103-disk-0â€™å°±æ˜¯æ·»åŠ æˆåŠŸäº†ã€‚</p><p>qm importdiskæ˜¯PVEå¯¼å…¥ç£ç›˜åˆ°è™šæ‹Ÿæœºçš„å·¥å…·ï¼Œåé¢çš„å‚æ•°â€˜103â€™æ˜¯DSMè™šæ‹Ÿæœºçš„ç¼–å·ï¼Œâ€˜/var/lib/vz/template/iso/syboboot.imgâ€™æ˜¯åˆšæ‰ä¸Šä¼ ç¾¤æ™–å¼•å¯¼é•œåƒçš„å®Œæ•´ç›®å½•ï¼Œâ€˜local-lvmâ€™æ˜¯PVEå‚¨å­˜è™šæ‹Ÿç£ç›˜çš„å­˜å‚¨ç©ºé—´ã€‚</p><p>å¯¼å…¥æˆåŠŸååœ¨è™šæ‹Ÿæœºçš„â€œç¡¬ä»¶â€é€‰é¡¹å¡å°±èƒ½çœ‹åˆ°ä¸€ä¸ªâ€œæœªä½¿ç”¨çš„ç£ç›˜0â€ã€‚</p><p>apt-get updateä¸ºå‡çº§ä¸ºæœ€æ–°çš„ç‰ˆæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt-get install lshw  <span class="comment">#å®‰è£…ç£ç›˜ç›´é€šçš„å·¥å…· </span></span><br><span class="line"><span class="built_in">ls</span> â€“l /dev/disk/by-id/   <span class="comment">#æŸ¥çœ‹æ‰€æœ‰ç¡¬ç›˜çš„ä¿¡æ¯ï¼ˆåŒ…å«ç¡¬ç›˜idï¼‰</span></span><br><span class="line">qm <span class="built_in">set</span> 101 â€“sata1 /dev/disk/by-id/ç¡¬ç›˜<span class="built_in">id</span>  <span class="comment">#ä¸ºç›´é€šç¡¬ç›˜çš„å‘½ä»¤</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œè®²ä¸€ä¸‹ç£ç›˜IDæ€ä¹ˆæ‰¾ï¼Œä½ å¿…éœ€é€‰æ‹©çš„æ˜¯æ•´ä¸ªç¡¬ç›˜ï¼ˆç‰©ç†ç¡¬ç›˜ï¼‰è€Œä¸æ˜¯åˆ†åŒºï¼Œæ¯”å¦‚sdaã€sdbã€sdcå¯¹åº”çš„idï¼Œè€Œä¸æ˜¯ï¼ˆsda1ã€sda2â€¦ï¼‰</p><p>æ¯”å¦‚ï¼šqm set 100 -sata1 /dev/disk/by-id/ata-ST8000VN0022-2EL112_ZA1F8YX4</p>]]></content>
      
      
      <categories>
          
          <category> è™šæ‹ŸåŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> proxmox </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å²ä¸Šæœ€å…¨å®‰è£…proxmoxæ•™ç¨‹ï¼ˆåŸºäºvmware workstationï¼‰</title>
      <link href="/2025/03/09/proxmox/%E5%8F%B2%E4%B8%8A%E6%9C%80%E5%85%A8%E5%AE%89%E8%A3%85proxmox%E6%95%99%E7%A8%8B%EF%BC%88%E5%9F%BA%E4%BA%8Evmware%20workstation%EF%BC%89/"/>
      <url>/2025/03/09/proxmox/%E5%8F%B2%E4%B8%8A%E6%9C%80%E5%85%A8%E5%AE%89%E8%A3%85proxmox%E6%95%99%E7%A8%8B%EF%BC%88%E5%9F%BA%E4%BA%8Evmware%20workstation%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h3 id="å®‰è£…proxmox"><a class="markdownIt-Anchor" href="#å®‰è£…proxmox"></a> å®‰è£…Proxmox</h3><ul><li><p>ä½¿ç”¨vmware workstationæ–°å»ºè™šæ‹Ÿæœº</p><p><img src="x-image-process=image.png" alt="" /><br /><img src="x-image-process=image.1.png" alt="" /><br /><img src="x-image-process=image.2.png" alt="" /><br /><img src="x-image-process=image.3.png" alt="" /><br /><img src="x-image-process=image.4.png" alt="" /><br /><img src="x-image-process=image.5.png" alt="" /><br /><img src="x-image-process=image.6.png" alt="" /><br /><img src="x-image-process=image.7.png" alt="" /></p></li><li><p>é€‰æ‹©install Proxmox VE</p><p><img src="x-image-process=image.8.png" alt="" /></p></li><li><p>é€‰æ‹©ã€okã€‘</p><p><img src="cf2d34d98153c45eb862018f5815b551.png" alt="" /></p></li><li><p>é€‰æ‹©ã€iagreeã€‘</p><p><img src="dcd90eabaadec79f3ca3555f5e7d1b49.png" alt="" /></p></li><li><p>é€‰æ‹©ç³»ç»Ÿå®‰è£…çš„ç£ç›˜ï¼Œå¯ä»¥é€‰æ‹©ã€optionã€‘åˆ†åŒºï¼Œæ–°æ‰‹ä¸å»ºè®®ã€‚</p><p><img src="02056df29f7ea113d651e993648a59a1.png" alt="" /></p></li><li><p>ä¿®æ”¹æ—¶åŒºï¼Œç„¶åé€‰æ‹©ã€Nextã€‘</p><p><img src="feedb8ec9ce0b447fe9729c74cc140c6.png" alt="" /></p></li><li><p>è¾“å…¥å¯†ç å’Œé‚®ç®±ï¼Œé€‰æ‹©ã€Nextã€‘</p><p><img src="efffa058edef9400ddb445ff02a98709.png" alt="" /></p></li><li><p>è®¾ç½®ç½‘ç»œä¿¡æ¯ï¼Œé€‰æ‹©ã€Nextã€‘</p><p><img src="5371f9d5cdd960b2589b72e4cda4eb61.png" alt="" /></p></li><li><p>ç¡®è®¤ä¿¡æ¯ï¼Œç„¶åé€‰æ‹©ã€installã€‘</p><p><img src="f0f9d0e849d8a9516ec60ef0087758f9.png" alt="" /></p></li><li><p>å®‰è£…å®Œæˆåï¼Œé€‰æ‹©ã€rebootã€‘</p><p><img src="84335404bdd4b9e45b18bb1d30142b63.png" alt="" /></p></li><li><p>é€‰æ‹©ç¬¬ä¸€ä¸ªé€‰é¡¹å¼•å¯¼</p><p><img src="d4b8a8d0e339fa5dcca9b923413f8cd0.png" alt="" /></p></li><li><p>è¾“å…¥ç”¨æˆ·åå¯†ç ç™»å½•</p><p><img src="8a24c9a082a6832836d6c036f59fff6a.png" alt="" /></p></li><li><p>åˆ›å»ºä¸€ä¸ªé›†ç¾¤</p><p>root@shaonian:~#Â pvecmÂ Â createÂ yunwei-clusterCorosyncÂ ClusterÂ EngineÂ AuthenticationÂ keyÂ generator.GatheringÂ 1024Â bitsÂ forÂ keyÂ fromÂ /dev/urandom.WritingÂ corosyncÂ keyÂ toÂ /etc/corosync/authkey.WritingÂ corosyncÂ configÂ toÂ /etc/pve/corosync.confRestartÂ corosyncÂ andÂ clusterÂ filesystemroot@shaonian:~#</p></li><li><p>æŸ¥çœ‹é›†ç¾¤çŠ¶æ€</p><p>root@shaonian:~#Â pvecmÂ statusQuorumÂ information------------------Date:Â Â Â Â Â Â Â Â Â Â Â Â Â MonÂ MayÂ 20Â 16:23:08Â 2019QuorumÂ provider:Â Â corosync_votequorumNodes:Â Â Â Â Â Â Â Â Â Â Â Â 1NodeÂ ID:Â Â Â Â Â Â Â Â Â Â 0x00000001RingÂ ID:Â Â Â Â Â Â Â Â Â Â 1/8Quorate:Â Â Â Â Â Â Â Â Â Â YesVotequorumÂ information----------------------ExpectedÂ votes:Â Â Â 1HighestÂ expected:Â 1TotalÂ votes:Â Â Â Â Â Â 1Quorum:Â Â Â Â Â Â Â Â Â Â Â 1Â Â Flags:Â Â Â Â Â Â Â Â Â Â Â Â QuorateÂ MembershipÂ information----------------------Â Â Â Â NodeidÂ Â Â Â Â Â VotesÂ Name0x00000001Â Â Â Â Â Â Â Â Â Â 1Â 192.168.108.200Â (local)root@shaonian:~#</p></li><li><p>æŸ¥çœ‹é›†ç¾¤èŠ‚ç‚¹</p><p>root@shaonian:~#Â pvecmÂ nodesMembershipÂ information----------------------Â Â Â Â NodeidÂ Â Â Â Â Â VotesÂ NameÂ Â Â Â Â Â Â Â Â 1Â Â Â Â Â Â Â Â Â Â 1Â 192.168.108.200Â (local)root@shaonian:~#</p></li><li><p>ä¿®æ”¹aptæº</p><p>viÂ /etc/apt/source.listdebÂ <a href="http://mirrors.163.com/debian/">http://mirrors.163.com/debian/</a>Â stretchÂ mainÂ non-freeÂ contribdebÂ <a href="http://mirrors.163.com/debian/">http://mirrors.163.com/debian/</a>Â stretch-updatesÂ mainÂ non-freeÂ contribdebÂ <a href="http://mirrors.163.com/debian/">http://mirrors.163.com/debian/</a>Â stretch-backportsÂ mainÂ non-freeÂ contribdeb-srcÂ <a href="http://mirrors.163.com/debian/">http://mirrors.163.com/debian/</a>Â stretchÂ mainÂ non-freeÂ contribdeb-srcÂ <a href="http://mirrors.163.com/debian/">http://mirrors.163.com/debian/</a>Â stretch-updatesÂ mainÂ non-freeÂ contribdeb-srcÂ <a href="http://mirrors.163.com/debian/">http://mirrors.163.com/debian/</a>Â stretch-backportsÂ mainÂ non-freeÂ contribdebÂ <a href="http://mirrors.163.com/debian-security/">http://mirrors.163.com/debian-security/</a>Â stretch/updatesÂ mainÂ non-freeÂ contribdeb-srcÂ <a href="http://mirrors.163.com/debian-security/">http://mirrors.163.com/debian-security/</a>Â stretch/updatesÂ mainÂ non-freeÂ contrib</p></li><li><p>æ›´æ–°aptæº</p><p>root@shaonian:/etc/apt#Â apt-getÂ -yÂ update</p></li><li><p>å®‰è£…net-tools</p><p>apt-getÂ installÂ net-toolsÂ -y</p></li><li><p>æ‰“å¼€ç½‘é¡µï¼ˆæ³¨æ„æ˜¯httpsï¼‰ï¼Œç„¶åè¾“å…¥ç”¨æˆ·åå¯†ç ï¼ˆç”¨æˆ·årootï¼Œå¯†ç æ˜¯å®‰è£…æ—¶è®¾ç½®çš„ï¼‰<br /><img src="7da01944c6e1d60d532793d134908333.png" alt="" /></p></li><li><p>ç™»å½•å<br /><img src="00c8da0d7573c906ad75ad6ec243b449.png" alt="" /></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> è™šæ‹ŸåŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> proxmox </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>open-webui+ollamaæ­å»ºè‡ªå·±çš„RAGæœåŠ¡</title>
      <link href="/2025/03/09/ollama/open-webui+ollama%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84RAG%E6%9C%8D%E5%8A%A1/"/>
      <url>/2025/03/09/ollama/open-webui+ollama%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84RAG%E6%9C%8D%E5%8A%A1/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-ragæ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#ä¸€-ragæ˜¯ä»€ä¹ˆ"></a> <strong>ä¸€ã€RAGæ˜¯ä»€ä¹ˆ</strong></h2><pre><code>æ£€ç´¢å¢å¼ºç”Ÿæˆ(RAG, Retrieval-Augmented Generationï¼‰ã€‚è¯¥æ¶æ„å·§å¦™åœ°æ•´åˆäº†ä»åºå¤§çŸ¥è¯†åº“ä¸­æ£€ç´¢åˆ°çš„ç›¸å…³ä¿¡æ¯ï¼Œå¹¶ä»¥æ­¤ä¸ºåŸºç¡€ï¼ŒæŒ‡å¯¼å¤§å‹è¯­è¨€æ¨¡å‹ç”Ÿæˆæ›´ä¸ºç²¾å‡†çš„ç­”æ¡ˆï¼Œä»è€Œæ˜¾è‘—æå‡äº†å›ç­”çš„å‡†ç¡®æ€§ã€‚</code></pre><p>RAGå¯ä»¥ç®€å•çš„æ€»ç»“ä¸ºæ•°æ®å¤„ç†ã€æ£€ç´¢ã€å¢å¼ºå’Œç”Ÿæˆå››ä¸ªé˜¶æ®µï¼š</p><p>æ•°æ®å¤„ç†é˜¶æ®µï¼šå¯¹åŸå§‹æ•°æ®è¿›è¡Œæ¸…æ´—å’Œå¤„ç†ï¼Œå¹¶è½¬æ¢ä¸ºæ£€ç´¢æ¨¡å‹å¯ç”¨çš„æ ¼å¼ï¼Œç„¶åå†™å…¥åˆ°å‘é‡æ•°æ®åº“ä¸­ã€‚</p><ul><li>æ£€ç´¢é˜¶æ®µï¼šå°†ç”¨æˆ·çš„é—®é¢˜è¾“å…¥åˆ°æ£€ç´¢ç³»ç»Ÿä¸­ï¼Œå¹¶ä»æ•°æ®åº“ä¸­æœç´¢ç›¸å…³ä¿¡æ¯ã€‚</li><li>å¢å¼ºé˜¶æ®µï¼šå°†æœç´¢çš„ç›¸å…³ä¿¡æ¯è¿›è¡Œå¤„ç†å’Œå¢å¼ºï¼Œä»¥ä¾¿å¯ä»¥æ›´å¥½çš„ç†è§£å’Œä½¿ç”¨ã€‚</li><li>ç”Ÿæˆé˜¶æ®µï¼šå°†å¢å¼ºåçš„ä¿¡æ¯è¾“å…¥åˆ°ç”Ÿæˆæ¨¡å‹ä¸­ï¼Œç”Ÿæˆæ¨¡å‹æ ¹æ®è¿™äº›ä¿¡æ¯ç”Ÿæˆç­”æ¡ˆã€‚</li></ul><p>RAGæ–¹æ³•ä½¿å¾—æˆ‘ä»¬ä¸éœ€è¦ä¸ºæ¯ä¸ªç‰¹å®šä»»åŠ¡éƒ½é‡æ–°è®­ç»ƒä¸€ä¸ªå¤§æ¨¡å‹ï¼Œä»…ä»…æŒ‚ä¸ŠçŸ¥è¯†åº“ï¼Œå³å¯ä»¥ä¸ºæ¨¡å‹æä¾›é¢å¤–çš„çŸ¥è¯†ï¼Œæé«˜å›ç­”çš„å‡†ç¡®æ€§ã€‚</p><p>å¯æ‰©å±•æ€§ï¼šå‡å°‘æ¨¡å‹å¤§å°å’Œè®­ç»ƒæˆæœ¬ï¼Œä»…ä»…æ›´æ–°ç‰¹å®šé¢†åŸŸçš„çŸ¥è¯†ï¼Œå³å¯æå‡å›ç­”æ•ˆæœ</p><ul><li>å‡†ç¡®æ€§ï¼šå¼•ç”¨æˆ‘ä»¬è‡ªå·±çš„çŸ¥è¯†åº“ï¼Œå¢å¼ºäººä»¬å¯¹æ¨¡å‹è¾“å‡ºç»“æœçš„ä¿¡ä»»</li><li>å¯æ§æ€§ï¼šå…è®¸æ›´æ–°å’Œå®šåˆ¶çŸ¥è¯†åº“</li><li>åŠæ—¶æ€§ï¼šé€šè¿‡æ›´æ–°æˆ‘ä»¬çš„çŸ¥è¯†åº“ï¼Œä»è€Œä½¿æˆ‘ä»¬å¯ä»¥åœ¨ä¸é‡æ–°è®­ç»ƒæ¨¡å‹çš„å‰æä¸‹ï¼Œä¿è¯å›ç­”é—®é¢˜çš„å‡†ç¡®æ€§ã€‚</li><li>å®‰å…¨æ€§ï¼šé€šè¿‡åœ¨æ•°æ®åº“ä¸­è®¾ç½®ä¸åŒçš„è§’è‰²å’Œæƒé™ï¼Œä¿è¯æ•°æ®çš„ä¿å¯†æ€§ã€‚</li></ul><p>è™½ç„¶RAGåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥å¢å¼ºå…¶ç”Ÿæˆçš„ç»“æœï¼Œä½†å®ƒä»æœ‰ä¸€äº›å¼Šç«¯ï¼Œå¦‚ï¼š</p><ul><li>æ£€ç´¢æ•ˆæœä¾èµ–embeddingå’Œæ£€ç´¢ç®—æ³•</li><li>LLMå¦‚ä½•åˆ©ç”¨æ£€ç´¢åˆ°çš„ä¿¡æ¯ä»æ˜¯é»‘ç›’</li><li>å¯¹æ‰€æœ‰ä»»åŠ¡éƒ½æ— å·®åˆ«æ£€ç´¢Kä¸ªæ–‡æœ¬ç‰‡æ®µï¼Œæ•ˆç‡ä¸é«˜</li></ul><h2 id="äºŒ-æ­å»ºè‡ªå·±çš„ragæœåŠ¡"><a class="markdownIt-Anchor" href="#äºŒ-æ­å»ºè‡ªå·±çš„ragæœåŠ¡"></a> äºŒã€æ­å»ºè‡ªå·±çš„RAGæœåŠ¡</h2><h3 id="1å‡†å¤‡è‡ªå·±çš„çŸ¥è¯†åº“æ–‡ä»¶"><a class="markdownIt-Anchor" href="#1å‡†å¤‡è‡ªå·±çš„çŸ¥è¯†åº“æ–‡ä»¶"></a> 1.å‡†å¤‡è‡ªå·±çš„çŸ¥è¯†åº“æ–‡ä»¶</h3><p>å¸¸è§çš„æ–‡æ¡£æ ¼å¼ä¸€èˆ¬ä¸ºtxtã€docã€PDFç­‰ï¼Œè¿™é‡Œæˆ‘å°†é€‰æ‹©æœ€ç®€å•çš„txtæ–‡æ¡£è¿›è¡Œå¯¼å…¥ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li>ç”±äºç›®å‰LLMå‡æœ‰tokençš„é™åˆ¶ï¼Œæ‰€ä»¥åœ¨å†™å…¥å‘é‡åº“æ—¶ä¼šå¯¹æˆ‘ä»¬ä¸Šä¼ çš„æ–‡æ¡£è¿›è¡Œåˆ†å‰²ã€åˆ‡å—ï¼Œå°†è¾ƒé•¿çš„æ–‡æœ¬åˆ‡åˆ†æˆè¾ƒå°çš„æ–‡æœ¬ï¼Œæ¯æ®µæ–‡æœ¬å³ä¸ºä¸€ä¸ªå•ä½çš„çŸ¥è¯†ã€‚</li><li>å½“PDFã€docä¸­è®¾è®¡åˆ°è¡¨æ ¼ã€å›¾ç‰‡æ—¶ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œç°æœ‰æ¡†æ¶å¦‚open-webuiæˆ–è€…lang chainç­‰åœ¨åŠ è½½è¯¥ç±»æ–‡æ¡£æ—¶ï¼Œä»…ä»…ä¼šå¤„ç†æ–‡å­—éƒ¨åˆ†ï¼Œå›¾ç‰‡å’Œè¡¨æ ¼éƒ¨åˆ†å‡ä¼šå¿½ç•¥ï¼Œå¦‚æœå›¾ç‰‡å†…å®¹å¯¹ä½ æ¥è¯´ä¹Ÿéå¸¸é‡è¦çš„è¯ï¼Œéœ€è¦è‡ªå·±è½¬æ¢ä¸‹ï¼Œå¦‚OCRè¯†åˆ«æˆ–è€…WPSè½¬æ¢ï¼ˆæ•ˆæœé’ˆå¯¹ä¸å…·ä½“æ–‡æ¡£è€Œè¨€ï¼Œè¿™é‡Œä¸ç»™è¯„ä»·ï¼‰</li></ul><p>è¿™é‡Œï¼Œæˆ‘ä»¥ä¸€ä¸ªæœ€ç®€å•çš„txtæ¥ä½œä¸ºå‚è€ƒï¼Œä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºï¼Œå†…å®¹ç›¸å¯¹ç®€å•ä¸”ç®€æ´ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><p><img src="44b3ae72821b496d891fafa1f55976d8.png" alt="" /></p><h3 id="2open-webui-å‰æœŸå‡†å¤‡å·¥ä½œ"><a class="markdownIt-Anchor" href="#2open-webui-å‰æœŸå‡†å¤‡å·¥ä½œ"></a> 2.open-webui å‰æœŸå‡†å¤‡å·¥ä½œ</h3><p>æ–‡æ¡£å‡†å¤‡å®Œæˆåï¼Œå†™å…¥å‘é‡åº“ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåœ¨open-web uiä¸­è¿›è¡Œä¸€äº›å‰ç½®è®¾ç½®ï¼Œopen-webuiçš„æ­å»ºæŒ‡å—å¯å‚è€ƒâ€œç³»åˆ—æ–‡ç« ä¸‰â€ã€‚</p><ul><li>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦é€‰æ‹©é€‰æ‹©æˆ‘ä»¬çš„è¯å‘é‡æ¨¡å‹ï¼Œå¦‚m3e,bgeç­‰ï¼Œè¿™é‡Œæˆ‘ä»¬æ‹¿ollamaæ”¯æŒçš„å‘é‡æ¨¡å‹ï¼Œå¦‚nomic-embed-textã€mxbai-embeded-largeæ¥ä½œä¸ºç¤ºä¾‹ï¼Œæ¨¡å‹éœ€è¦æå‰åœ¨è‡ªå·±çš„o llamaæœåŠ¡ä¸­ä¸‹è½½ï¼Œä¸‹è½½æ–¹å¼å¯å‚è€ƒâ€œç³»åˆ—æ–‡ç« ä¸€â€ã€‚</li><li>å…¶æ¬¡ï¼Œæˆ‘ä»¬è¿›å…¥æˆ‘ä»¬open-webuiçš„ç•Œé¢ï¼Œç‚¹å‡»â€œæ–‡æ¡£â€æ ï¼Œå¦‚ä¸‹ï¼šÂ Â Â Â Â Â Â Â <img src="551c658f64774d7fb9a321b380773e4e.png" alt="" /></li></ul><p>ç‚¹å‡»æ–‡æ¡£ä¹‹åï¼Œå†ç‚¹å‡»å³ä¸Šè§’çš„æ–‡æ¡£è®¾ç½®ï¼Œä¼šå‡ºç°å¦‚ä¸‹å›¾çš„è®¾ç½®é¡µé¢ï¼š</p><p><img src="195d7a8081dd46ac84fff698a9cea09c.png" alt="" /></p><p>ç‚¹å‡»çº¢æ¡†ä¸­çš„ç®­å¤´ï¼Œç„¶åä¼šçœ‹åˆ°æˆ‘ä»¬å½“å‰ollamaä¸‹è½½çš„æ‰€æœ‰æ¨¡å‹ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="ed264863a3f2409b85c7792836e574f1.png" alt="" /></p><p>å¦‚æœæ²¡æœ‰åˆ—å‡ºæ¨¡å‹ï¼Œè¯´æ˜ä½ çš„ollamaä¸­æ²¡æœ‰æ¨¡å‹ï¼Œå¯ä»¥ç»“åˆæˆ‘çš„å¾€æœŸæ–‡ç« æ¥çœ‹çœ‹è‡ªå·±å°‘äº†å“ªä¸€æ­¥ã€‚è¿™é‡Œæˆ‘ä»¥mxbai-embeded-largeä¸ºä¾‹ï¼Œé€‰æ‹©å¥½æ¨¡å‹ä¹‹åï¼ŒæŒ‰ç…§ä¸‹æ–¹æŒ‡ç¤ºè¿›è¡Œä¿å­˜è®¾ç½®ã€‚å¦‚ä¸‹å›¾ï¼š</p><p><img src="7c61d532d753486a8a9d65e2ea4fd875.png" alt="" /></p><p>æ³¨æ„ï¼šè¿™é‡Œçš„å—å‚æ•°è¡¨ç¤ºå°†ä½ çš„æ–‡æ¡£åˆ‡å—çš„å¤§å°ä»¥åŠå—å’Œå—ä¹‹é—´æ–‡æœ¬çš„é‡å åº¦ï¼Œç›¸å…³ä»‹ç»è§æœ«å°¾æ‰©å±•çŸ¥è¯†ï¼Œè¿™ä¸ªå‚æ•°æŒ‰ç…§è‡ªå·±çš„éœ€æ±‚è¿›è¡Œè®¾ç½®ã€‚å› ä¸ºä¸Šæ–¹æˆ‘æä¾›çš„çŸ¥è¯†åº“æ–‡å­—è¾ƒå°‘ï¼Œæ‰€ä»¥è¿™é‡Œçš„å—å¤§å°æˆ‘è®¾ç½®ä¸º30ï¼Œå—é‡å è®¾ç½®ä¸º5ã€‚</p><h3 id="3å¯¼å…¥çŸ¥è¯†åº“å¹¶å†™å…¥å‘é‡åº“"><a class="markdownIt-Anchor" href="#3å¯¼å…¥çŸ¥è¯†åº“å¹¶å†™å…¥å‘é‡åº“"></a> 3.å¯¼å…¥çŸ¥è¯†åº“å¹¶å†™å…¥å‘é‡åº“</h3><p>ç»å†äº†å‰è¾¹å‡ æ­¥çš„é…ç½®ï¼Œæˆ‘ä»¬çš„æ‰€éœ€çš„åŸºç¡€å»ºè®¾å°±åŸºæœ¬æ­å»ºå®Œæˆäº†ï¼Œç°åœ¨æˆ‘ä»¬ä¾¿å¯ä»¥å¯¼å…¥æˆ‘ä»¬çš„æ–‡æ¡£å¹¶å†™å…¥å‘é‡æ•°æ®åº“ã€‚</p><ul><li>å¯¼å…¥ï¼šé¦–å…ˆæˆ‘ä»¬åœ¨â€œæ–‡æ¡£â€ç•Œé¢ç‚¹å‡»â€œ+â€ï¼Œä»¥ä¸Šä¼ è‡ªå·±çš„æ–‡æ¡£ï¼Œå¦‚å›¾ï¼š</li></ul><p><img src="28c61a1bef614bbca2ff5d5b56a38607.png" alt="" /></p><p>é€‰æ‹©æˆ‘ä»¬è¦ä¸Šä¼ çš„æ–‡æ¡£å³å¯ï¼Œå¦‚å›¾ï¼š</p><p><img src="40b3a9d75e7c4ea6acf2ad7e7ede140f.png" alt="" /></p><ul><li><p>æŸ¥çœ‹ï¼šä¸Šä¼ æˆåŠŸåï¼Œç­‰æ®µæ—¶é—´æˆ‘ä»¬çš„æ–‡æ¡£ä¼šæ˜¾ç¤ºåœ¨å½“å‰ç•Œé¢é‡Œï¼Œå¦‚å›¾ï¼š</p><p><img src="d8369055e2574856af9034d86e568f0b.png" alt="" /></p><p>æ³¨æ„ï¼šä½ ä¸Šä¼ å®Œæ–‡æ¡£åï¼Œä¼šç­‰ä¸€æ®µæ—¶é—´ï¼ˆè€—æ—¶æ ¹æ®æ–‡æ¡£çš„å¤§å°è€Œå®šï¼‰æ‰ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼Œè¿™æ®µæ—¶é—´æ˜¯embeddingçš„è¿‡ç¨‹</p></li><li><p>å¦å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨â€œç³»åˆ—æ–‡ç« ä¸‰ä¸­â€è®¾ç½®çš„open-webuiæŒ‚è½½çš„å®¿ä¸»æœºç›®å½•ä¸‹çš„vector_dbé‡ŒæŸ¥çœ‹æ˜¯å¦æœ‰æ–°ç”Ÿæˆçš„æ–‡ä»¶ï¼Œå¦‚å›¾ï¼š</p></li><li><p><img src="5d2b339859dc43b694f64d0ba5c5ed9b.png" alt="" /></p></li><li><p>å¦‚ä¸Šæ‰€ç¤ºï¼Œæ­£å¸¸å†™å…¥å‘é‡åº“æ—¶ï¼Œä¼šåœ¨è¿™é‡Œç”Ÿæˆæ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå…ˆç¡®å®šè‡ªå·±æŸ¥çœ‹çš„ç›®å½•æœ‰æ²¡æœ‰é—®é¢˜ï¼Œå…¶æ¬¡å†å»æŸ¥çœ‹embeddingçš„è¿‡ç¨‹ä¸­æ˜¯å¦å‡ºç°äº†é—®é¢˜ã€‚</p></li></ul><h3 id="4æ­å»ºå¹¶ä½¿ç”¨è‡ªå·±çš„ragæœåŠ¡"><a class="markdownIt-Anchor" href="#4æ­å»ºå¹¶ä½¿ç”¨è‡ªå·±çš„ragæœåŠ¡"></a> 4.æ­å»ºå¹¶ä½¿ç”¨è‡ªå·±çš„RAGæœåŠ¡</h3><p>ç»å†å¦‚ä¸Šå‡ æ­¥ï¼Œæˆ‘ä»¬çš„çŸ¥è¯†åº“ä¾¿æŒ‚è½½è¿›å»äº†ï¼Œç°åœ¨æˆ‘ä»¬ä¾¿å¯ä»¥åˆ©ç”¨æˆ‘ä»¬çš„çŸ¥è¯†åº“è¿›è¡ŒèŠå¤©ã€‚</p><p><img src="fee5505955304a49911822cd135200e5.png" alt="" /></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬æ–°å»ºä¸ªèŠå¤©çª—å£å¹¶é€‰æ‹©æ‰€è¦ç”¨çš„æ¨¡å‹ï¼Œè¿™é‡Œä»¥qwen2:1.5bä¸ºä¾‹ï¼Œå½“ä¸ä½¿ç”¨çŸ¥è¯†åº“æ—¶é—´ï¼Œå¤§æ¨¡å‹å›ç­”å¦‚ä¸‹ï¼šÂ Â Â Â Â Â Â Â <img src="e81fe5be7e434981a84d168696047321.png" alt="" /></p><p>å½“ä½¿ç”¨çŸ¥è¯†åº“æ—¶ï¼Œåªéœ€è¦åœ¨è¾“å…¥é—®é¢˜ä¹‹å‰è¾“å…¥â€œ#â€ï¼Œç„¶åé€‰æ‹©è¦æŒ‚è½½çš„æ–‡æ¡£å³å¯ï¼Œå¦‚ï¼š</p><p><img src="90c623dee6c14577ab83a147d0306bb1.png" alt="" /></p><p>è¿™é‡Œé€‰æ‹©æˆ‘é—¨è¦ä½¿ç”¨çš„çŸ¥è¯†åº“ï¼Œç„¶åå†è¾“å…¥é—®é¢˜å³å¯ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="f9c5c89da89a414482b6469a715d4801.png" alt="" /></p><p>å¯ä»¥çœ‹åˆ°ï¼ŒæŒ‚äº†çŸ¥è¯†åº“åï¼Œå¤§æ¨¡å‹çš„å›ç­”å’Œæˆ‘ä»¬æƒ³è¦çš„åŸºæœ¬ä¸€è‡´ï¼Œå¦‚æ­¤ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥ä½¿ç”¨è‡ªå·±çš„çŸ¥è¯†åº“æ¥æ­å»ºè‡ªå·±çš„RAGæœåŠ¡äº†ã€‚</p><h2 id="ä¸‰-æ‰©å±•çŸ¥è¯†"><a class="markdownIt-Anchor" href="#ä¸‰-æ‰©å±•çŸ¥è¯†"></a> ä¸‰ã€æ‰©å±•çŸ¥è¯†</h2><h3 id="1è¯å‘é‡"><a class="markdownIt-Anchor" href="#1è¯å‘é‡"></a> 1.è¯å‘é‡</h3><p>åœ¨æœºå™¨å­¦ä¹ å’Œè‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰ä¸­ï¼Œè¯å‘é‡ï¼ˆEmbeddingsï¼‰æ˜¯ä¸€ç§å°†éç»“æ„åŒ–æ•°æ®ï¼Œå¦‚å•è¯ã€å¥å­æˆ–è€…æ•´ä¸ªæ–‡æ¡£ï¼Œè½¬åŒ–ä¸ºå®æ•°å‘é‡çš„æŠ€æœ¯ã€‚è¿™äº›å®æ•°å‘é‡å¯ä»¥è¢«è®¡ç®—æœºæ›´å¥½åœ°ç†è§£å’Œå¤„ç†ã€‚å¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="fbe4b9214c094796a0dd92ce0126e011.png" alt="" /></p><p>å®ƒçš„ä¼˜åŠ¿ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹ä¸¤ç‚¹ï¼š</p><ul><li>è¯å‘é‡æ¯”æ–‡å­—æ›´é€‚åˆæ£€ç´¢ã€‚å½“æˆ‘ä»¬åœ¨æ•°æ®åº“æ£€ç´¢æ—¶ï¼Œå¦‚æœæ•°æ®åº“å­˜å‚¨çš„æ˜¯æ–‡å­—ï¼Œä¸»è¦é€šè¿‡æ£€ç´¢å…³é”®è¯ï¼ˆè¯æ³•æœç´¢ï¼‰ç­‰æ–¹æ³•æ‰¾åˆ°ç›¸å¯¹åŒ¹é…çš„æ•°æ®ï¼ŒåŒ¹é…çš„ç¨‹åº¦æ˜¯å–å†³äºå…³é”®è¯çš„æ•°é‡æˆ–è€…æ˜¯å¦å®Œå…¨åŒ¹é…æŸ¥è¯¢å¥çš„ï¼›ä½†æ˜¯è¯å‘é‡ä¸­åŒ…å«äº†åŸæ–‡æœ¬çš„è¯­ä¹‰ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡è®¡ç®—é—®é¢˜ä¸æ•°æ®åº“ä¸­æ•°æ®çš„ç‚¹ç§¯ã€ä½™å¼¦è·ç¦»ã€æ¬§å‡ é‡Œå¾—è·ç¦»ç­‰æŒ‡æ ‡ï¼Œç›´æ¥è·å–é—®é¢˜ä¸æ•°æ®åœ¨è¯­ä¹‰å±‚é¢ä¸Šçš„ç›¸ä¼¼åº¦ï¼›</li><li>è¯å‘é‡æ¯”å…¶å®ƒåª’ä»‹çš„ç»¼åˆä¿¡æ¯èƒ½åŠ›æ›´å¼ºï¼Œå½“ä¼ ç»Ÿæ•°æ®åº“å­˜å‚¨æ–‡å­—ã€å£°éŸ³ã€å›¾åƒã€è§†é¢‘ç­‰å¤šç§åª’ä»‹æ—¶ï¼Œå¾ˆéš¾å»å°†ä¸Šè¿°å¤šç§åª’ä»‹æ„å»ºèµ·å…³è”ä¸è·¨æ¨¡æ€çš„æŸ¥è¯¢æ–¹æ³•ï¼›ä½†æ˜¯è¯å‘é‡å´å¯ä»¥é€šè¿‡å¤šç§å‘é‡æ¨¡å‹å°†å¤šç§æ•°æ®æ˜ å°„æˆç»Ÿä¸€çš„å‘é‡å½¢å¼ã€‚</li></ul><h3 id="2å‘é‡æ•°æ®åº“"><a class="markdownIt-Anchor" href="#2å‘é‡æ•°æ®åº“"></a> 2.å‘é‡æ•°æ®åº“</h3><p>å‘é‡æ•°æ®åº“æ˜¯ç”¨äºé«˜æ•ˆè®¡ç®—å’Œç®¡ç†å¤§é‡å‘é‡æ•°æ®çš„è§£å†³æ–¹æ¡ˆã€‚å‘é‡æ•°æ®åº“æ˜¯ä¸€ç§ä¸“é—¨ç”¨äºå­˜å‚¨å’Œæ£€ç´¢å‘é‡æ•°æ®ï¼ˆembeddingï¼‰çš„æ•°æ®åº“ç³»ç»Ÿã€‚å®ƒä¸ä¼ ç»Ÿçš„åŸºäºå…³ç³»æ¨¡å‹çš„æ•°æ®åº“ä¸åŒï¼Œå®ƒä¸»è¦å…³æ³¨çš„æ˜¯å‘é‡æ•°æ®çš„ç‰¹æ€§å’Œç›¸ä¼¼æ€§ã€‚</p><p>åœ¨å‘é‡æ•°æ®åº“ä¸­ï¼Œæ•°æ®è¢«è¡¨ç¤ºä¸ºå‘é‡å½¢å¼ï¼Œæ¯ä¸ªå‘é‡ä»£è¡¨ä¸€ä¸ªæ•°æ®é¡¹ã€‚è¿™äº›å‘é‡å¯ä»¥æ˜¯æ•°å­—ã€æ–‡æœ¬ã€å›¾åƒæˆ–å…¶ä»–ç±»å‹çš„æ•°æ®ã€‚å‘é‡æ•°æ®åº“ä½¿ç”¨é«˜æ•ˆçš„ç´¢å¼•å’ŒæŸ¥è¯¢ç®—æ³•æ¥åŠ é€Ÿå‘é‡æ•°æ®çš„å­˜å‚¨å’Œæ£€ç´¢è¿‡ç¨‹ã€‚</p><p>å¸¸è§çš„å‘é‡æ•°æ®åº“å¦‚ä¸‹ï¼š</p><ul><li>Chroma:ä¸€ä¸ªè½»é‡çº§ã€æ˜“ç”¨çš„å‘é‡æ•°æ®åº“ï¼Œä¸“æ³¨äºæä¾›é«˜æ•ˆçš„è¿‘ä¼¼æœ€è¿‘é‚»æœç´¢ï¼ˆANNï¼‰ã€‚å®ƒæ”¯æŒå¤šç§å‘é‡æ•°æ®ç±»å‹å’Œç´¢å¼•æ–¹æ³•ï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥è½»æ¾é›†æˆåˆ°ç°æœ‰çš„åº”ç”¨ç¨‹åºä¸­ã€‚Chromaç‰¹åˆ«é€‚ç”¨äºå°å‹åˆ°ä¸­å‹æ•°æ®é›†ï¼Œæ˜¯åˆå­¦è€…å’Œå°å‹é¡¹ç›®çš„ç†æƒ³é€‰æ‹©</li><li>Pinecone:ä¸€ä¸ªå®æ—¶ã€é«˜æ€§èƒ½çš„å‘é‡æ•°æ®åº“ï¼Œä¸“ä¸ºå¤§è§„æ¨¡å‘é‡é›†çš„é«˜æ•ˆç´¢å¼•å’Œæ£€ç´¢è€Œè®¾è®¡ã€‚</li><li>Weaviate:ç»“åˆäº†å‘é‡æœç´¢å’Œå›¾æ•°æ®åº“ç‰¹æ€§çš„å¤šæ¨¡æ€è¯­ä¹‰æœç´¢å¼•æ“ã€‚å®ƒæ”¯æŒå¤šæ¨¡æ€æ•°æ®ï¼ˆæ–‡æœ¬ã€å›¾åƒç­‰ï¼‰çš„è¯­ä¹‰æœç´¢ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿä»¥å‰æ‰€æœªæœ‰çš„æ–¹å¼æ¢ç´¢å’Œç†è§£æ•°æ®ã€‚</li><li>Milvus:æ”¯æŒå¤šç§ç´¢å¼•ç±»å‹å’ŒæŸ¥è¯¢ä¼˜åŒ–ç­–ç•¥ï¼Œæä¾›å“è¶Šçš„æŸ¥è¯¢æ€§èƒ½å’Œæ‰©å±•æ€§ã€‚å®ƒç‰¹åˆ«é€‚ç”¨äºå¤§è§„æ¨¡å†…å®¹æ£€ç´¢ã€å›¾åƒå’Œè§†é¢‘æœç´¢ç­‰åœºæ™¯</li><li>Faiss:æä¾›é«˜æ•ˆçš„ç›¸ä¼¼åº¦æœç´¢å’Œç¨ å¯†å‘é‡èšç±»èƒ½åŠ›ï¼Œæ”¯æŒå¤šç§ç´¢å¼•æ„å»ºæ–¹æ³•å’ŒæŸ¥è¯¢ç­–ç•¥ä¼˜åŒ–ã€‚Faissæ˜“äºä¸æ·±åº¦å­¦ä¹ æ¡†æ¶é›†æˆï¼ˆå¦‚PyTorchï¼‰ï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥è½»æ¾å°†å‘é‡æ£€ç´¢åŠŸèƒ½åµŒå…¥åˆ°æ·±åº¦å­¦ä¹ åº”ç”¨ä¸­</li></ul><h3 id="3æ–‡æ¡£åˆ‡å‰²"><a class="markdownIt-Anchor" href="#3æ–‡æ¡£åˆ‡å‰²"></a> 3.æ–‡æ¡£åˆ‡å‰²</h3><p>åœ¨äºŒ.2ä¸­æˆ‘ä»¬æåˆ°äº†ä¸¤ä¸ªæ¦‚å¿µï¼Œä¸€ä¸ªæ˜¯â€œå—å¤§å°â€ï¼Œä¸€ä¸ªæ˜¯â€œå—é‡å â€ã€‚è¿™é‡Œæˆ‘ä»¬ç®€å•ä»‹ç»ä¸‹è¿™ä¸¤ä¸ªçš„ç”±æ¥åŠä½œç”¨ã€‚</p><p>ç”±æ¥ï¼šç”±äºå•ä¸ªæ–‡æ¡£çš„é•¿åº¦å¾€å¾€ä¼šè¶…è¿‡æ¨¡å‹æ”¯æŒçš„ä¸Šä¸‹æ–‡ï¼Œå¯¼è‡´æ£€ç´¢å¾—åˆ°çš„çŸ¥è¯†å¤ªé•¿è¶…å‡ºæ¨¡å‹çš„å¤„ç†èƒ½åŠ›ï¼Œå› æ­¤ï¼Œåœ¨æ„å»ºå‘é‡çŸ¥è¯†åº“çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦å¯¹æ–‡æ¡£è¿›è¡Œåˆ†å‰²ï¼Œå°†å•ä¸ªæ–‡æ¡£æŒ‰é•¿åº¦æˆ–è€…æŒ‰å›ºå®šçš„è§„åˆ™åˆ†å‰²æˆè‹¥å¹²ä¸ªå—ï¼Œç„¶åå°†æ¯ä¸ªå—è½¬åŒ–ä¸ºè¯å‘é‡ï¼Œå­˜å‚¨åˆ°å‘é‡æ•°æ®åº“ä¸­ã€‚åœ¨æ£€ç´¢æ—¶ï¼Œæˆ‘ä»¬ä¼šä»¥å—ä½œä¸ºæ£€ç´¢çš„å…ƒå•ä½ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸€æ¬¡æ£€ç´¢åˆ° k ä¸ªå—ä½œä¸ºæ¨¡å‹å¯ä»¥å‚è€ƒæ¥å›ç­”ç”¨æˆ·é—®é¢˜çš„çŸ¥è¯†ï¼Œè¿™ä¸ª k æ˜¯æˆ‘ä»¬å¯ä»¥è‡ªç”±è®¾å®šçš„ã€‚</p><p>å—å¤§å°ï¼šæ¯ä¸ªå—åŒ…å«çš„å­—ç¬¦æˆ– Token ï¼ˆå¦‚å•è¯ã€å¥å­ç­‰ï¼‰çš„æ•°é‡</p><p>å—é‡å ï¼šä¸¤ä¸ªå—ä¹‹é—´å…±äº«çš„å­—ç¬¦æ•°é‡ï¼Œç”¨äºä¿æŒä¸Šä¸‹æ–‡çš„è¿è´¯æ€§ï¼Œé¿å…åˆ†å‰²ä¸¢å¤±ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ™ºèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ollama </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å²ä¸Šæœ€ç®€å•open-webuiå®‰è£…æ–¹å¼</title>
      <link href="/2025/03/09/ollama/%E5%8F%B2%E4%B8%8A%E6%9C%80%E7%AE%80%E5%8D%95open-webui%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F/"/>
      <url>/2025/03/09/ollama/%E5%8F%B2%E4%B8%8A%E6%9C%80%E7%AE%80%E5%8D%95open-webui%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="å²ä¸Šæœ€ç®€å•open-webuiå®‰è£…æ–¹å¼"><a class="markdownIt-Anchor" href="#å²ä¸Šæœ€ç®€å•open-webuiå®‰è£…æ–¹å¼"></a> å²ä¸Šæœ€ç®€å•open-webuiå®‰è£…æ–¹å¼</h2><p><strong>ä¸€ã€å®‰è£…python3.11</strong></p><p>è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œä¸è¦ç”¨python3.11ä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œå¦åˆ™ä¸å…¼å®¹</p><p>1ã€åˆ°pythonå®˜ç½‘ä¸‹è½½python3.11<br />é“¾æ¥ï¼š<a href="https://www.python.org/ftp/python/3.11.9/python-3.11.9-amd64.exe">https://www.python.org/ftp/python/3.11.9/python-3.11.9-amd64.exe</a></p><p>2.åŒå‡»å®‰è£…åŒ…ï¼Œå¼€å§‹å®‰è£…ï¼Œæ³¨æ„å‹¾é€‰[Add python 3.11 to Path]é€‰é¡¹ï¼ï¼</p><p>3.é€‰æ‹©Customize installé€‰é¡¹ï¼Œå»ºè®®æŠŠå®‰è£…è·¯å¾„æ”¹ä¸ºå…¶ä»–ç›˜ï¼ˆæ³¨æ„ï¼å®‰è£…è·¯å¾„ä¸­ä¸èƒ½æœ‰ä¸­æ–‡ï¼‰</p><p><strong>äºŒã€æµ‹è¯•python</strong></p><p>1ã€æŒ‰ä¸‹win+ræ‰“å¼€è¿è¡Œæ¡†ï¼Œè¾“å…¥cmdï¼Œå›è½¦</p><p>2ã€åœ¨å‘½ä»¤æç¤ºç¬¦ä¸­è¾“å…¥python</p><p>3ã€è‡ªåŠ¨æ˜¾ç¤ºï¼š</p><p><img src="e24635c8bcb74f6f83a22850c470f59b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />3ã€è¾“å…¥exit()é€€å‡ºpython</p><p>4ã€è¾“å…¥pip listï¼Œæ˜¾ç¤ºï¼š</p><p><img src="1d86e25009554c7893798b975363babd.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><strong>ä¸‰ã€pipæ¢æº</strong></p><p>åœ¨cmdä¸­è¾“å…¥ï¼š</p><pre><code>pip config set global.index-url https://mirrors.aliyun.com/pypi/simple</code></pre><p><strong>å››ã€å®‰è£…open-webui</strong></p><p>1ã€æ‰“å¼€cmdï¼Œè¾“å…¥ï¼š</p><pre><code>pip install open-webui</code></pre><p>ç­‰å¾…å®‰è£…å®Œæˆ~~</p><p>2ã€ç­‰å¾…è¿‡ç¨‹ç»“æŸåï¼Œè¾“å…¥ï¼š</p><pre><code>open-webui serve</code></pre><p>ä¸å‡ºæ„å¤–çš„è¯ï¼Œå°±è¦å‡ºæ„å¤–äº†ï¼š</p><pre><code>ERROR: can not connect to &quot;http://hf-com.co&quot; is your computer offline?</code></pre><p><strong>äº”ã€è§£å†³can not conneté—®é¢˜</strong></p><p>1ã€å‡ºç°ä»¥ä¸Šé—®é¢˜æ˜¯å› ä¸ºå›½å†…è®¿é—®å›½å¤–ç½‘ç«™ä¿¡å·ä¸å¥½</p><p>2ã€è§£å†³æ–¹æ¡ˆï¼š</p><p>æ‰“å¼€cmdï¼Œè¾“å…¥ï¼š</p><pre><code>pip install open-webui==0.2.0</code></pre><p>3ã€å®‰è£…å®Œæˆåï¼Œæ‰“å¼€cmdè¾“å…¥ï¼š</p><pre><code>open-webui serve</code></pre><p>è‡ªåŠ¨æ˜¾ç¤ºï¼š</p><p><img src="f1cbf0cec58748389c157c977227502b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />å®‰è£…æˆåŠŸåï¼Œå‡ºç°Open-Webuiç•Œé¢ï¼š</p><p><img src="4347c112e4084906bdc581a699ff0e68.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><a href="https://127.0.0.1:8080/">æ‰“å¼€Open-Webuiç½‘é¡µ</a></p><p><strong>å…­ã€å‡çº§open-webui</strong></p><p>æ‰“å¼€cmdï¼Œè¾“å…¥ï¼š</p><pre><code>pip install open-webui --upgrade</code></pre><p><strong>ä¸ƒã€è¿è¡Œollama+open-webui</strong></p><p>1ã€æ‰“å¼€cmdï¼Œè¾“å…¥ï¼š</p><pre><code>ollama serve</code></pre><p><img src="da39ec9ea29d46c4ad665589a0aaa735.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />2ã€æ‰“å¼€å¦ä¸€ä¸ªcmdï¼Œè¾“å…¥ï¼š</p><pre><code>open-webui serve</code></pre><p><img src="a88a61bdc823419aab2f1b1e84f68ea8.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>3ã€è®¿é—®é“¾æ¥ï¼š</p><p><a href="http://127.0.0.1:8080/">open-webui</a></p><p>ç½‘ç«™æˆªå›¾ï¼š</p><p><img src="3bd0938b52664f4598db863a8aa50f4d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ç™»é™†ç•Œé¢æˆªå›¾ï¼š</p><p><img src="e0f429a4df8c4a37843d6103de73f850.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><strong>å…«ã€dockerå®‰è£…open-webui</strong></p><p>1.å¦‚æœæ‚¨çš„è®¡ç®—æœºä¸Šå®‰è£…äº†Ollamaï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><pre><code>docker run -d -p 3000:8080 --add-host=host.docker.internal:host-gateway -v open-webui:/app/backend/data --name open-webui --restart always ghcr.nju.edu.cn/open-webui/open-webui:main</code></pre><p>2.å¦‚æœOllamaåœ¨å¦ä¸€å°æœåŠ¡å™¨ä¸Šï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š<br />è¿æ¥åˆ°å¦ä¸€å°æœåŠ¡å™¨ä¸Šçš„Ollamaæ—¶ï¼Œè¯·å°†OLLAMA_BASE_URLæ›´æ”¹ä¸ºæœåŠ¡å™¨çš„URLï¼š</p><pre><code>docker run -d -p 3000:8080 -e OLLAMA_BASE_URL=https://example.com -v open-webui:/app/backend/data --name open-webui --restart always  ghcr.nju.edu.cn/open-webui/open-webui:main</code></pre><p>è¦ä½¿ç”¨Nvidia GPUæ”¯æŒè¿è¡ŒOpen WebUIï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><pre><code>docker run -d -p 3000:8080 --gpus all --add-host=host.docker.internal:host-gateway -v open-webui:/app/backend/data --name open-webui --restart always  ghcr.nju.edu.cn/open-webui/open-webui:cuda</code></pre><p>3.å¸¦æœ‰æ†ç»‘Ollamaæ”¯æŒçš„Open WebUIå®‰è£…<br />æ­¤å®‰è£…æ–¹æ³•ä½¿ç”¨ä¸€ä¸ªå•ç‹¬çš„å®¹å™¨æ˜ åƒï¼Œå°†Open WebUIä¸Ollamaæ†ç»‘åœ¨ä¸€èµ·ï¼Œé€šè¿‡å•ä¸ªå‘½ä»¤å®ç°ç®€åŒ–è®¾ç½®ã€‚æ ¹æ®æ‚¨çš„ç¡¬ä»¶è®¾ç½®é€‰æ‹©é€‚å½“çš„å‘½ä»¤ï¼š</p><p>ä½¿ç”¨GPUæ”¯æŒï¼šé€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤åˆ©ç”¨GPUèµ„æº</p><pre><code>docker run -d -p 3000:8080 --gpus=all -v ollama:/root/.ollama -v open-webui:/app/backend/data --name open-webui --restart always  ghcr.nju.edu.cn/open-webui/open-webui:ollama </code></pre><p>4.å¦‚æœå†…å­˜&gt;16GB,æ¨èä½¿ç”¨dockerï¼Œå¦‚æœå†…å­˜&lt;=16GB,æ¨èä½¿ç”¨python+open-webui</p>]]></content>
      
      
      <categories>
          
          <category> æ™ºèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ollama </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonè™šæ‹Ÿç¯å¢ƒåˆ›å»ºå’Œä½¿ç”¨æ–¹æ³•(ä½¿ç”¨è‡ªå¸¦çš„venvæ¨¡å—)</title>
      <link href="/2025/03/09/Python/Python%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E5%88%9B%E5%BB%BA%E5%92%8C%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95(%E4%BD%BF%E7%94%A8%E8%87%AA%E5%B8%A6%E7%9A%84venv%E6%A8%A1%E5%9D%97)/"/>
      <url>/2025/03/09/Python/Python%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E5%88%9B%E5%BB%BA%E5%92%8C%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95(%E4%BD%BF%E7%94%A8%E8%87%AA%E5%B8%A6%E7%9A%84venv%E6%A8%A1%E5%9D%97)/</url>
      
        <content type="html"><![CDATA[<blockquote><h2 id="æ¦‚è¦"><a class="markdownIt-Anchor" href="#æ¦‚è¦"></a> æ¦‚è¦</h2><p>è¿™ç¯‡æ–‡ç« ä¸»è¦å¦‚ä½•åœ¨Pythonä¸­ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ,åŒ…æ‹¬åˆ›å»ºã€æ¿€æ´»ã€ä½¿ç”¨ã€ç”Ÿæˆrequirements.txtæ–‡ä»¶ã€å¸è½½åŒ…å’Œåˆ é™¤è™šæ‹Ÿç¯å¢ƒ,è™šæ‹Ÿç¯å¢ƒæœ‰åŠ©äºéš”ç¦»é¡¹ç›®ä¾èµ–,é¿å…ç‰ˆæœ¬å†²çª,å¹¶ä¾¿äºéƒ¨ç½²,éœ€è¦çš„æœ‹å‹å¯ä»¥å‚è€ƒä¸‹</p></blockquote><h2 id="1-å®‰è£…è™šæ‹Ÿç¯å¢ƒå·¥å…·"><a class="markdownIt-Anchor" href="#1-å®‰è£…è™šæ‹Ÿç¯å¢ƒå·¥å…·"></a> 1.Â å®‰è£…è™šæ‹Ÿç¯å¢ƒå·¥å…·</h2><p>ä» Python 3.3 å¼€å§‹ï¼ŒPython è‡ªå¸¦äº†Â <code>venv</code>Â æ¨¡å—ï¼Œæ— éœ€é¢å¤–å®‰è£…ã€‚ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒæ¥åˆ›å»ºè™šæ‹Ÿç¯å¢ƒã€‚</p><h2 id="2-åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"><a class="markdownIt-Anchor" href="#2-åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"></a> 2.Â åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</h2><h3 id="21-ä½¿ç”¨-venv-åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"><a class="markdownIt-Anchor" href="#21-ä½¿ç”¨-venv-åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"></a> 2.1 ä½¿ç”¨Â venvÂ åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</h3><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºè™šæ‹Ÿç¯å¢ƒã€‚è¿™é‡Œæˆ‘ä½¿ç”¨äº†Â <code>venv</code>Â æ¥åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œå¹¶ä¸”å‘½åä¸ºÂ <code>venv</code>ï¼Œä½ ä¹Ÿå¯ä»¥é€‰æ‹©ä»»ä½•å…¶ä»–åç§°ã€‚</p><p><code>python -m venv myvenv</code></p><ul><li><code>python -m venv myvenv</code>ï¼šè¿™æ¡å‘½ä»¤ä¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º myvenvÂ çš„è™šæ‹Ÿç¯å¢ƒå’Œæ–‡ä»¶å¤¹ã€‚</li><li>å¦‚æœä½ æœ‰å¤šä¸ª Python ç‰ˆæœ¬ï¼Œä½ å¯èƒ½éœ€è¦æŒ‡å®š Python ç‰ˆæœ¬ï¼Œå¦‚Â <code>python3.8</code>Â æˆ–Â <code>python3</code>ï¼Œä»¥ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„ç‰ˆæœ¬ã€‚</li></ul><h3 id="22-æŸ¥çœ‹è™šæ‹Ÿç¯å¢ƒæ–‡ä»¶"><a class="markdownIt-Anchor" href="#22-æŸ¥çœ‹è™šæ‹Ÿç¯å¢ƒæ–‡ä»¶"></a> 2.2 æŸ¥çœ‹è™šæ‹Ÿç¯å¢ƒæ–‡ä»¶</h3><p>è™šæ‹Ÿç¯å¢ƒåˆ›å»ºåï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª myvenvÂ æ–‡ä»¶å¤¹ã€‚é‡Œé¢åŒ…å«äº†è™šæ‹Ÿç¯å¢ƒæ‰€éœ€çš„æ–‡ä»¶å’Œç›®å½•ç»“æ„ï¼š</p><ul><li><strong>bin</strong>ï¼šåŒ…å«è™šæ‹Ÿç¯å¢ƒçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆå¦‚Â <code>python</code>ï¼‰ã€‚</li><li><strong>lib</strong>ï¼šåŒ…å«è™šæ‹Ÿç¯å¢ƒçš„åº“æ–‡ä»¶ã€‚</li><li><strong>include</strong>ï¼šåŒ…å«ç”¨äºç¼–è¯‘ C æ‰©å±•æ¨¡å—çš„å¤´æ–‡ä»¶ã€‚</li><li><strong>Scripts</strong>ï¼ˆWindowsï¼‰ï¼šåŒ…å«Â <code>activate.bat</code>Â ç­‰è„šæœ¬ã€‚</li></ul><h2 id="3-æ¿€æ´»è™šæ‹Ÿç¯å¢ƒwindowsä¸‹"><a class="markdownIt-Anchor" href="#3-æ¿€æ´»è™šæ‹Ÿç¯å¢ƒwindowsä¸‹"></a> 3.Â æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆWindowsä¸‹ï¼‰</h2><ul><li><p><code>.\myvenv\Scripts\activate</code></p><p>æ‰§è¡Œåï¼Œä½ ä¼šçœ‹åˆ°å‘½ä»¤è¡Œå‰é¢å‡ºç°è™šæ‹Ÿç¯å¢ƒçš„åç§°Â <code>(myvenv)</code>ï¼Œè¡¨ç¤ºè™šæ‹Ÿç¯å¢ƒå·²ç»è¢«æ¿€æ´»ã€‚</p></li><li><p>æ¿€æ´»åï¼Œä½ ä¼šçœ‹åˆ°å‘½ä»¤è¡Œå‰é¢åŠ ä¸ŠÂ <code>(myvenv)</code>ï¼Œè¿™è¡¨ç¤ºå½“å‰å·²ç»è¿›å…¥è™šæ‹Ÿç¯å¢ƒã€‚</p></li><li><p>æˆ–è€…è¿›å…¥myvenvç›®å½•ï¼Œè¿è¡Œ<code>Scripts\activate</code></p></li></ul><h2 id="4-ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ"><a class="markdownIt-Anchor" href="#4-ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ"></a> 4.Â ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ</h2><p>å½“è™šæ‹Ÿç¯å¢ƒæ¿€æ´»åï¼Œä½ å¯ä»¥åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…å’Œç®¡ç† Python åŒ…ã€‚æ‰€æœ‰é€šè¿‡Â <code>pip</code>Â å®‰è£…çš„åŒ…åªä¼šå½±å“å½“å‰è™šæ‹Ÿç¯å¢ƒï¼Œè€Œä¸ä¼šå½±å“å…¨å±€çš„ Python å®‰è£…ã€‚</p><h3 id="41-å®‰è£…ä¾èµ–åŒ…"><a class="markdownIt-Anchor" href="#41-å®‰è£…ä¾èµ–åŒ…"></a> 4.1 å®‰è£…ä¾èµ–åŒ…</h3><p>ä½ å¯ä»¥åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ä½¿ç”¨Â <code>pip</code>Â æ¥å®‰è£…ä½ éœ€è¦çš„ä¾èµ–åŒ…ï¼š</p><p><code>pip install &lt;package_name&gt;</code></p><h3 id="42-æŸ¥çœ‹å®‰è£…çš„åŒ…"><a class="markdownIt-Anchor" href="#42-æŸ¥çœ‹å®‰è£…çš„åŒ…"></a> 4.2 æŸ¥çœ‹å®‰è£…çš„åŒ…</h3><p>ä½ å¯ä»¥ä½¿ç”¨Â <code>pip list</code>Â æŸ¥çœ‹è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…çš„æ‰€æœ‰åŒ…ï¼š</p><h3 id="43-å¸è½½åŒ…"><a class="markdownIt-Anchor" href="#43-å¸è½½åŒ…"></a> 4.3 å¸è½½åŒ…</h3><p>å¦‚æœä½ ä¸å†éœ€è¦æŸä¸ªåŒ…ï¼Œå¯ä»¥ä½¿ç”¨Â <code>pip uninstall</code>Â å¸è½½å®ƒï¼š</p><p><code>pip uninstall &lt;package_name&gt;</code></p><h2 id="5-ç”Ÿæˆ-requirementstxt"><a class="markdownIt-Anchor" href="#5-ç”Ÿæˆ-requirementstxt"></a> 5.Â ç”ŸæˆÂ requirements.txt</h2><p><code>requirements.txt</code>Â æ–‡ä»¶æ˜¯è®°å½•é¡¹ç›®ä¾èµ–åŒ…çš„å¸¸è§æ–¹å¼ï¼Œé€šå¸¸ç”¨äºåˆ†äº«å’Œå¤ç°ç¯å¢ƒã€‚</p><h3 id="51-åˆ›å»º-requirementstxt"><a class="markdownIt-Anchor" href="#51-åˆ›å»º-requirementstxt"></a> 5.1 åˆ›å»ºÂ requirements.txt</h3><p>ä½ å¯ä»¥ä½¿ç”¨Â <code>pip freeze</code>Â å‘½ä»¤ç”Ÿæˆå½“å‰è™šæ‹Ÿç¯å¢ƒçš„ä¾èµ–åŒ…åˆ—è¡¨ï¼Œå¹¶å°†å…¶ä¿å­˜åˆ°Â <code>requirements.txt</code>Â æ–‡ä»¶ä¸­ï¼š</p><p><code>pip freeze &gt; requirements.txt</code></p><p>è¯¥å‘½ä»¤ä¼šå°†è™šæ‹Ÿç¯å¢ƒä¸­æ‰€æœ‰å·²å®‰è£…çš„åŒ…åŠå…¶ç‰ˆæœ¬è®°å½•åˆ°Â <code>requirements.txt</code>Â æ–‡ä»¶ä¸­ã€‚</p><h3 id="52-å®‰è£…-requirementstxt-ä¸­çš„ä¾èµ–"><a class="markdownIt-Anchor" href="#52-å®‰è£…-requirementstxt-ä¸­çš„ä¾èµ–"></a> 5.2 å®‰è£…Â requirements.txtÂ ä¸­çš„ä¾èµ–</h3><p>å½“å…¶ä»–äººè·å–åˆ°ä½ çš„é¡¹ç›®ä»£ç æ—¶ï¼Œä»–ä»¬å¯ä»¥ä½¿ç”¨Â <code>requirements.txt</code>Â å®‰è£…é¡¹ç›®æ‰€éœ€çš„æ‰€æœ‰ä¾èµ–ï¼š</p><p><code>pip install -r requirements.txt</code></p><blockquote><p>æç¤ºï¼š<br />å¯ä»¥é€šè¿‡åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šé•œåƒæºæ¥å®‰è£… requirements.txt ä¸­çš„ä¾èµ–åŒ…ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨æ¸…åå¤§å­¦çš„é•œåƒæºï¼Œä½ å¯ä»¥è¿™æ ·è¿è¡Œï¼š<br />pip install -r requirements.txt -i <a href="https://pypi.tuna.tsinghua.edu.cn/simple">https://pypi.tuna.tsinghua.edu.cn/simple</a></p></blockquote><h2 id="6-é€€å‡ºè™šæ‹Ÿç¯å¢ƒ"><a class="markdownIt-Anchor" href="#6-é€€å‡ºè™šæ‹Ÿç¯å¢ƒ"></a> 6.Â é€€å‡ºè™šæ‹Ÿç¯å¢ƒ</h2><p>å½“ä½ å®Œæˆå·¥ä½œåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤é€€å‡ºè™šæ‹Ÿç¯å¢ƒï¼š</p><p><code>deactivate</code></p><p>é€€å‡ºåï¼Œä½ çš„å‘½ä»¤è¡Œä¼šå›åˆ°ç³»ç»Ÿçš„é»˜è®¤ Python ç¯å¢ƒã€‚</p><h2 id="7-åˆ é™¤è™šæ‹Ÿç¯å¢ƒ"><a class="markdownIt-Anchor" href="#7-åˆ é™¤è™šæ‹Ÿç¯å¢ƒ"></a> 7.Â åˆ é™¤è™šæ‹Ÿç¯å¢ƒ</h2><p>å¦‚æœä½ ä¸å†éœ€è¦æŸä¸ªè™šæ‹Ÿç¯å¢ƒï¼Œå¯ä»¥åˆ é™¤å®ƒã€‚åªéœ€è¦åˆ é™¤åŒ…å«è™šæ‹Ÿç¯å¢ƒçš„æ–‡ä»¶å¤¹å³å¯ï¼ˆé€šå¸¸æ˜¯Â <code>venv</code>Â æ–‡ä»¶å¤¹ï¼‰ã€‚</p><h2 id="8-ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒçš„å¥½å¤„"><a class="markdownIt-Anchor" href="#8-ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒçš„å¥½å¤„"></a> 8.Â ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒçš„å¥½å¤„</h2><ul><li><strong>éš”ç¦»ä¾èµ–</strong>ï¼šæ¯ä¸ªé¡¹ç›®éƒ½æœ‰è‡ªå·±çš„ä¾èµ–åŒ…ï¼Œé¿å…ç‰ˆæœ¬å†²çªã€‚</li><li><strong>å¹²å‡€çš„å·¥ä½œç¯å¢ƒ</strong>ï¼šä¸åŒé¡¹ç›®ä¹‹é—´çš„åº“ç‰ˆæœ¬ä¸ä¼šäº’ç›¸å½±å“ã€‚</li><li><strong>ä¾¿äºéƒ¨ç½²</strong>ï¼šé€šè¿‡Â <code>requirements.txt</code>Â æ–‡ä»¶ï¼Œä½ å¯ä»¥è½»æ¾åœ°ä¸ºå…¶ä»–å¼€å‘è€…æˆ–ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²é¡¹ç›®ã€‚</li></ul><h2 id="9python-idle-shell-ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ"><a class="markdownIt-Anchor" href="#9python-idle-shell-ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ"></a> 9.Python IDLE Shell ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ</h2><p>Python IDLE Shell å¯ä»¥ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒï¼Œä½†è®¾ç½®èµ·æ¥ç¨å¾®æœ‰ç‚¹ä¸åŒï¼Œå› ä¸º IDLE é»˜è®¤å¯åŠ¨çš„æ˜¯ç³»ç»Ÿ Python ç¯å¢ƒã€‚è¦åœ¨ IDLE ä¸­ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒï¼Œä½ éœ€è¦æ‰‹åŠ¨æŒ‡å®šè™šæ‹Ÿç¯å¢ƒä¸­çš„ Python è§£é‡Šå™¨ã€‚</p><p>myenv\Scripts\python.exe -m idlelib.idle</p><p>è¿™æ ·ï¼ŒIDLE å°†ä¼šå¯åŠ¨ï¼Œå¹¶ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒä¸­çš„ Python è§£é‡Šå™¨ã€‚ä½ å¯ä»¥åœ¨ IDLE ä¸­æ‰§è¡Œä»£ç ï¼Œå¹¶ç¡®ä¿å®ƒä½¿ç”¨çš„æ˜¯è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…çš„ä¾èµ–ï¼Œè€Œä¸æ˜¯å…¨å±€ Python ç¯å¢ƒä¸­çš„åº“ã€‚</p><p>æ³¨æ„ï¼šåœ¨IDLEæ²¡æœ‰å…³é—­ä¹‹å‰ï¼Œä¸èƒ½å®‰è£…å…¶ä»–åŒ…ã€‚å› ä¸ºæ˜¾ç¤ºIDLEçš„æ—¶å€™ï¼Œå‘½ä»¤è¿˜åœ¨æ‰§è¡Œã€‚</p><h3 id="æ£€æŸ¥-idle-æ˜¯å¦ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ"><a class="markdownIt-Anchor" href="#æ£€æŸ¥-idle-æ˜¯å¦ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ"></a> æ£€æŸ¥ IDLE æ˜¯å¦ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ</h3><p>åœ¨ IDLE ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ£€æŸ¥å½“å‰ Python ç¯å¢ƒæ˜¯å¦æ˜¯è™šæ‹Ÿç¯å¢ƒï¼š</p><p><code>import sys</code><br /><code>print(sys.executable)</code></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonçš„venvç¯å¢ƒè¿ç§»</title>
      <link href="/2025/03/09/Python/python%E7%9A%84venv%E7%8E%AF%E5%A2%83%E8%BF%81%E7%A7%BB/"/>
      <url>/2025/03/09/Python/python%E7%9A%84venv%E7%8E%AF%E5%A2%83%E8%BF%81%E7%A7%BB/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h2><p>ä½¿ç”¨Pythonå†…ç½®çš„venvæ¨¡å—ç®¡ç†pythonç¯å¢ƒï¼Œæ€ä¹ˆå®ç°ç¯å¢ƒè¿ç§»ã€‚</p><h2 id="æ–¹æ¡ˆä¸€-æ‹·è´è€ç¯å¢ƒä¸‹çš„libç›®å½•"><a class="markdownIt-Anchor" href="#æ–¹æ¡ˆä¸€-æ‹·è´è€ç¯å¢ƒä¸‹çš„libç›®å½•"></a> æ–¹æ¡ˆä¸€Â  æ‹·è´è€ç¯å¢ƒä¸‹çš„Libç›®å½•</h2><p>1ã€åœ¨æ–°è®¾å¤‡ä¸Šæ–°å»ºä¸åŸå§‹ç¯å¢ƒç›¸åŒpythonç‰ˆæœ¬çš„venvç¯å¢ƒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m venv my_venv</span><br></pre></td></tr></table></figure><p>2ã€å°†åŸå§‹ç¯å¢ƒ.venv ä¸‹çš„Libæ–‡ä»¶æ‹·è´åˆ°æ–°ç¯å¢ƒä¸­</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> -r old/venv/Lib new/my_venv/</span><br></pre></td></tr></table></figure><p>3ã€ç„¶åå°±å¯ä»¥åœ¨æ–°çš„ç¯å¢ƒä¸‹æ¿€æ´»ä½¿ç”¨äº†ã€‚</p><h2 id="æ–¹æ¡ˆäºŒ-ç›´æ¥å¤åˆ¶è™šæ‹Ÿç¯å¢ƒæ–‡ä»¶å¤¹"><a class="markdownIt-Anchor" href="#æ–¹æ¡ˆäºŒ-ç›´æ¥å¤åˆ¶è™šæ‹Ÿç¯å¢ƒæ–‡ä»¶å¤¹"></a> æ–¹æ¡ˆäºŒÂ Â ç›´æ¥å¤åˆ¶è™šæ‹Ÿç¯å¢ƒæ–‡ä»¶å¤¹</h2><p>1ã€å°†æ•´ä¸ªè™šæ‹Ÿç¯å¢ƒæ–‡ä»¶å¤¹ï¼ˆé€šå¸¸å‘½åä¸º venv æˆ–å…¶ä»–åç§°ï¼‰ä»ä¸€å°ç”µè„‘å¤åˆ¶åˆ°å¦ä¸€å°ç”µè„‘ã€‚</p><p>2ã€ä¿®æ”¹ pyvenv.cfg æ–‡ä»¶ä¸­çš„ home é…ç½®ä¸ºæ–°ç”µè„‘ä¸Š Python çš„å®‰è£…è·¯å¾„ã€‚</p><blockquote><p>æ³¨æ„ï¼šè¿™ç§æ–¹æ³•è¿ç§»ç¡®ä¿è¿ç§»å‰åç¯å¢ƒçš„pythonç‰ˆæœ¬å°½é‡ä¸€è‡´ï¼Œå’Œæ¶æ„å¿…é¡»ä¸€è‡´ã€‚</p><p>ä½¿ç”¨æ­¤ç§æ–¹å¼è¿ç§»åˆ°æ–°æœºå™¨åï¼Œç¡®ä¿è§£å‹åè™šæ‹Ÿç¯å¢ƒbinç›®å½•ä¸‹pythonè½¯è¿æ¥æ–‡ä»¶æŒ‡å‘æœ¬åœ°çš„pythonè·¯å¾„æ˜¯æ­£ç¡®çš„ã€‚å¦åˆ™ä¼šæŠ¥æ–‡ä»¶ä¸å­˜åœ¨ï¼š<br />bad interpreter: No such file or directory</p></blockquote><h2 id="æ–¹æ¡ˆä¸‰-å¯¼å‡ºå’Œå¯¼å…¥ä¾èµ–é¡¹"><a class="markdownIt-Anchor" href="#æ–¹æ¡ˆä¸‰-å¯¼å‡ºå’Œå¯¼å…¥ä¾èµ–é¡¹"></a> æ–¹æ¡ˆä¸‰Â  å¯¼å‡ºå’Œå¯¼å…¥ä¾èµ–é¡¹</h2><p><em>åœ¨åŸå§‹ç”µè„‘ä¸Šï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯¼å‡ºé¡¹ç›®çš„ä¾èµ–é¡¹åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼š</em></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip freeze &gt; requirements.txt</span><br></pre></td></tr></table></figure><p>å°†ç”Ÿæˆçš„ requirements.txt æ–‡ä»¶å¤åˆ¶åˆ°æ–°ç”µè„‘ã€‚</p><p>åœ¨æ–°ç”µè„‘ä¸Šï¼Œä½¿ç”¨ç›¸åŒç‰ˆæœ¬çš„ Python åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒã€‚</p><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°†ä¾èµ–é¡¹ä» requirements.txt å®‰è£…åˆ°æ–°çš„è™šæ‹Ÿç¯å¢ƒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure><p>å¦‚æœæ–°æœºå™¨ä¸­æ²¡æœ‰äº’è”ç½‘è®¿é—®æƒé™ï¼Œåˆ™å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤å®Œæˆ:</p><ol><li>åœ¨ç¬¬ä¸€å°è®¡ç®—æœºçš„venvä¸­è¿è¡Œ<code>pip wheel -w wheels -r packages.txt</code>.è¿™å°†ä¸ºæ‚¨æ‰€éœ€çš„æ‰€æœ‰è½¯ä»¶åŒ…ä¸‹è½½å¹¶æ„å»º<code>*.whl</code>è½¯ä»¶åŒ….è¯·æ³¨æ„ï¼Œè¿™æ˜¯å‡è®¾ä¸¤å°æœºå™¨çš„æ“ä½œç³»ç»Ÿå’Œä½“ç³»ç»“æ„éƒ½ç›¸ä¼¼ï¼</li><li>å°†wheelæ–‡ä»¶å¤åˆ¶åˆ°æ–°æœºå™¨ä¸Š.</li><li>åœ¨æ–°è®¡ç®—æœºä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„virtualenvå¹¶è¾“å…¥å®ƒ.</li><li>é€šè¿‡è½®å­åœ¨æ–°çš„venvä¸­å®‰è£…è½¯ä»¶åŒ…:<code>pip install -r packages.txt (è¿™ä¸ªæ–‡ä»¶éœ€è¦è‡ªå·±åˆ›å»ºåï¼ŒæŠŠæ‰€æœ‰whlæ–‡ä»¶åˆ—å‡ºï¼‰</code></li></ol><blockquote><p>æç¤ºï¼š<br />å¯ä»¥é€šè¿‡åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šé•œåƒæºæ¥å®‰è£… requirements.txt ä¸­çš„ä¾èµ–åŒ…ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨æ¸…åå¤§å­¦çš„é•œåƒæºï¼Œä½ å¯ä»¥è¿™æ ·è¿è¡Œï¼š<br />pip install -r requirements.txt -i <a href="https://pypi.tuna.tsinghua.edu.cn/simple">https://pypi.tuna.tsinghua.edu.cn/simple</a></p></blockquote><h2 id="æ–¹æ¡ˆå››-ç”¨dockeré•œåƒ"><a class="markdownIt-Anchor" href="#æ–¹æ¡ˆå››-ç”¨dockeré•œåƒ"></a> æ–¹æ¡ˆå››Â  ç”¨Dockeré•œåƒ</h2><p>åˆ›å»ºä¸€ä¸ª Docker é•œåƒï¼Œå°† Python ç¯å¢ƒå’Œé¡¹ç›®ä¸€èµ·æ‰“åŒ…ã€‚</p><p>åœ¨æ–°ç”µè„‘ä¸Šè¿è¡Œè¯¥ Docker é•œåƒï¼Œå³å¯è·å¾—ç›¸åŒçš„ Python ç¯å¢ƒã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ollama + Open WebUIChatboxæœ¬åœ°Windowséƒ¨ç½²</title>
      <link href="/2025/03/09/ollama/Ollama%20+%20Open%20WebUIChatbox%E6%9C%AC%E5%9C%B0Windows%E9%83%A8%E7%BD%B2/"/>
      <url>/2025/03/09/ollama/Ollama%20+%20Open%20WebUIChatbox%E6%9C%AC%E5%9C%B0Windows%E9%83%A8%E7%BD%B2/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-å®‰è£…ollama"><a class="markdownIt-Anchor" href="#ä¸€-å®‰è£…ollama"></a> ä¸€ã€å®‰è£…Ollama</h2><ol><li>è®¿é—®Â <a href="https://ollama.com/download">Ollama ä¸‹è½½é¡µé¢</a>ã€‚</li><li>é€‰æ‹©ï¼ˆWindowsã€Linux æˆ– macOSï¼‰å¹¶ä¸‹è½½ç›¸åº”çš„ç‰ˆæœ¬ã€‚</li><li>æŒ‰æŒ‡å¼•æµç¨‹å®‰è£… Ollamaã€‚</li></ol><h3 id="éªŒè¯"><a class="markdownIt-Anchor" href="#éªŒè¯"></a> éªŒè¯</h3><p>win+ræ‰“å¼€cmdå‘½ä»¤è¡Œå·¥å…·ï¼Œè¾“å…¥ ollama --version</p><p><img src="79edc646bba2482d8f44f0e734098c1f~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gv54Gr54Ob5aSpq75.webp" alt="image.png" /></p><h2 id="äºŒ-ä¸‹è½½deepseek-r1æ¨¡å‹"><a class="markdownIt-Anchor" href="#äºŒ-ä¸‹è½½deepseek-r1æ¨¡å‹"></a> äºŒã€ä¸‹è½½deepseek-r1æ¨¡å‹</h2><ol><li>è®¿é—®Â <a href="https://ollama.com/library/deepseek-r1">deepseek-r1æ¨¡å‹ä¸‹è½½é¡µé¢</a>ã€‚</li><li>æ ¹æ®ç¡¬ä»¶æ¡ä»¶é€‰æ‹©æ¨¡å‹ï¼Œå¤åˆ¶å‘½ä»¤åœ¨cmdæ‰§è¡Œ <img src="35a0969e41214357949c693cf0e686a9~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gv54Gr54Ob5aSpq75.webp" alt="image.png" /></li></ol><p>3.å®‰è£…å®Œæˆå³å¯åœ¨cmdå¼€å§‹ä½¿ç”¨ï¼ˆä¸‹æ¬¡è¿è¡Œæ¨¡å‹ä»åœ¨cmdä¸­æ‰§è¡Œä¸Šè¿°å‘½ä»¤ï¼Œä¾‹<code>ollama run deepseek-r1:1.5b</code>ï¼‰ <img src="c69391d7876143c0b0a4686c35736beb~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gv54Gr54Ob5aSpq75.webp" alt="image.png" /></p><p>å½“å‰å³å¯æœ¬åœ°ä½¿ç”¨deeseek-r1ï¼Œä»¥ä¸‹ä¸ºæ·»åŠ å¯¹è¯UIï¼Œå¯é€‰</p><h2 id="ä¸‰-å®‰è£…open-webuiå¯é€‰"><a class="markdownIt-Anchor" href="#ä¸‰-å®‰è£…open-webuiå¯é€‰"></a> ä¸‰ã€å®‰è£…open-webuiï¼ˆå¯é€‰ï¼‰</h2><p><strong>å‡†å¤‡</strong></p><ul><li>å®‰è£…Python 3.11æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚</li><li>å®‰è£…Node.jså’Œnpm</li></ul><h4 id="å¤‡æ³¨å®‰è£…å®Œæˆåpip-npmè®°å¾—å…ˆè®¾ç½®é•œåƒæº"><a class="markdownIt-Anchor" href="#å¤‡æ³¨å®‰è£…å®Œæˆåpip-npmè®°å¾—å…ˆè®¾ç½®é•œåƒæº"></a> å¤‡æ³¨ï¼šå®‰è£…å®Œæˆåpipã€npmè®°å¾—å…ˆè®¾ç½®é•œåƒæº</h4><h4 id="1-æ‰“å¼€git-bashæˆ–ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤å…‹éš†open-webuié¡¹ç›®åˆ°æœ¬åœ°"><a class="markdownIt-Anchor" href="#1-æ‰“å¼€git-bashæˆ–ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤å…‹éš†open-webuié¡¹ç›®åˆ°æœ¬åœ°"></a> 1. æ‰“å¼€Git Bashæˆ–ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å…‹éš†open-webuié¡¹ç›®åˆ°æœ¬åœ°ï¼š</h4><pre><code><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/open-webui/open-webui</span><br></pre></td></tr></table></figure></code></pre><p><strong>ps: å¦‚æœæœªå®‰è£…Gitï¼Œå¯ç›´æ¥ä¸‹è½½å‹ç¼©åŒ…</strong></p><p><img src="dcfa5da717464983a9d3a95ad734af3d~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gv54Gr54Ob5aSpq75.webp" alt="image.png" /> æˆ– <img src="c280808d5cff45158a9aa89777d575db~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gv54Gr54Ob5aSpq75.webp" alt="image.png" /></p><h4 id="2å®‰è£…ä¾èµ–å¹¶æ„å»ºé¡¹ç›®"><a class="markdownIt-Anchor" href="#2å®‰è£…ä¾èµ–å¹¶æ„å»ºé¡¹ç›®"></a> 2.å®‰è£…ä¾èµ–å¹¶æ„å»ºé¡¹ç›®</h4><ul><li>cmdä¸‹è¿›å…¥é¡¹ç›®ç›®å½•ã€‚</li></ul><p><img src="354b7031cad74d82aaa34b7bea1a511d~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gv54Gr54Ob5aSpq75.webp" alt="image.png" /></p><ul><li>æ‰§è¡Œ<code>npm install</code>å‘½ä»¤å®‰è£…æ‰€æœ‰ä¾èµ–ã€‚</li><li>æ‰§è¡Œ<code>npm run build</code>å‘½ä»¤æ„å»ºé¡¹ç›®ã€‚</li></ul><p>ps: æ„å»ºé¡¹ç›®å¯èƒ½å‡ºç°å†…å­˜æº¢å‡ºé—®é¢˜ï¼š<code># FATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - J</code>ï¼Œcmdæ‰§è¡Œ<code>setx NODE_OPTIONS --max_old_space_size=10240</code>åé‡æ–°æ‰§è¡Œbuildå‘½ä»¤</p><h4 id="3-å¯åŠ¨open-webui"><a class="markdownIt-Anchor" href="#3-å¯åŠ¨open-webui"></a> 3ã€å¯åŠ¨open-webui</h4><ul><li>è¿›å…¥é¡¹ç›®ç›®å½•ä¸‹çš„<code>backend</code>ç›®å½•ï¼ŒåŒå‡»æ‰§è¡Œ<code>start_windows.bat</code>è„šæœ¬å¯åŠ¨æœåŠ¡</li><li>æµè§ˆå™¨è¾“å…¥<a href="http://localhost:8080">http://localhost:8080</a> è¿›å…¥Open WebUI ç•Œé¢</li><li>æç¤ºæ³¨å†Œç”¨æˆ·ï¼Œè¾“å…¥æ³¨å†Œè¿›å…¥</li></ul><h4 id="4-é…ç½®ollamaè¿æ¥"><a class="markdownIt-Anchor" href="#4-é…ç½®ollamaè¿æ¥"></a> 4ã€é…ç½®ollamaè¿æ¥</h4><p>open-webuié¡µé¢ï¼Œç‚¹å‡»å³ä¸Šè§’å¤´åƒè¿›å…¥è®¾ç½®-ç®¡ç†å‘˜è®¾ç½®-å¤–éƒ¨è¿æ¥ï¼Œç‚¹å‡»ollamaè¿æ¥åœ°å€å³ä¸Šçš„è®¾ç½®å›¾æ ‡ï¼Œå°†ollamaé»˜è®¤è¿æ¥åœ°å€localhostä¿®æ”¹ä¸º127.0.0.1ï¼Œç‚¹å‡»åˆ·æ–°æŒ‰é’®æµ‹è¯•è¿æ¥ï¼ˆè¿æ¥å¤±è´¥æ— æ³•åŠ è½½åˆ°ollamaå®‰è£…çš„æœ¬åœ°æ¨¡å‹ï¼‰</p><p><img src="82ef94f1f0e74f219bdd3ef58c21d2ff~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gv54Gr54Ob5aSpq75.webp" alt="image.png" /></p><p><img src="a6978fb1a76e496ba2448deb60fd8900~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gv54Gr54Ob5aSpq75.webp" alt="image.png" /></p><p>å¯ä»¥é€‰æ‹©æ¨¡å‹å¼€å§‹å¯¹è¯äº†</p><p><img src="32946a76637f43da82ab1d9a7ffa68b7~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gv54Gr54Ob5aSpq75.webp" alt="image.png" /></p><h2 id="å››-å®‰è£…chatboxå¯é€‰"><a class="markdownIt-Anchor" href="#å››-å®‰è£…chatboxå¯é€‰"></a> å››ã€å®‰è£…Chatboxï¼ˆå¯é€‰ï¼‰</h2><ol><li>è®¿é—®Â <a href="https://chatboxai.app/zh">Chatbox ä¸‹è½½é¡µé¢</a>ã€‚</li><li>é€‰æ‹©ï¼ˆWindowsã€Linux æˆ– macOSï¼‰å¹¶ä¸‹è½½ç›¸åº”çš„ç‰ˆæœ¬ã€‚</li><li>æŒ‰æŒ‡å¼•æµç¨‹å®‰è£… Chatboxã€‚</li><li>æ‰“å¼€Chatboxï¼Œé€‰æ‹©æœ¬åœ°æ¨¡å‹ï¼Œå³å¯å¼€å§‹å¯¹è¯ <img src="5c2244de6b754d94bc4ffb321ccf964f~tplv-73owjymdk6-jj-mark-v100005o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gv54Gr54Ob5aSpq75.webp" alt="2025-02-05_091520.jpg" /></li></ol>]]></content>
      
      
      <categories>
          
          <category> æ™ºèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ollama </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³Docker Desktopé”™è¯¯ï¼šå®‰è£…kubernetesæ—¶ä¸€ç›´åœ¨StartingKubernetes failed to start</title>
      <link href="/2025/02/13/Docker/%E8%A7%A3%E5%86%B3Docker%20Desktop%E9%94%99%E8%AF%AF%EF%BC%9A%E5%AE%89%E8%A3%85kubernetes%E6%97%B6%E4%B8%80%E7%9B%B4%E5%9C%A8StartingKubernetes%20failed%20to%20start/"/>
      <url>/2025/02/13/Docker/%E8%A7%A3%E5%86%B3Docker%20Desktop%E9%94%99%E8%AF%AF%EF%BC%9A%E5%AE%89%E8%A3%85kubernetes%E6%97%B6%E4%B8%80%E7%9B%B4%E5%9C%A8StartingKubernetes%20failed%20to%20start/</url>
      
        <content type="html"><![CDATA[<p><img src="8bb569b943794712bd48df9ede0076f4.png" alt="" /><br />å®‰è£…kubernetesæ—¶ä¸€ç›´åœ¨StartingKubernetes<br />é”™è¯¯åŸå› ï¼šç”±äºå¢™çš„é—®é¢˜ï¼Œå¯¼è‡´æ‹‰å–å›½å¤–çš„K8sé•œåƒå¤±è´¥ã€‚</p><h3 id="è§£å†³åŠæ³•1ç§‘å­¦ä¸Šç½‘"><a class="markdownIt-Anchor" href="#è§£å†³åŠæ³•1ç§‘å­¦ä¸Šç½‘"></a> è§£å†³åŠæ³•1ï¼šç§‘å­¦ä¸Šç½‘</h3><h3 id="è§£å†³åŠæ³•2"><a class="markdownIt-Anchor" href="#è§£å†³åŠæ³•2"></a> è§£å†³åŠæ³•2ï¼š</h3><h4 id="æ­¥éª¤1å…‹éš†k8s-for-docker-desktopä»£ç "><a class="markdownIt-Anchor" href="#æ­¥éª¤1å…‹éš†k8s-for-docker-desktopä»£ç "></a> æ­¥éª¤1ï¼šå…‹éš†<a href="https://github.com/denverdino/k8s-for-docker-desktop?tab=readme-ov-file" title="k8s-for-docker-desktop">k8s-for-docker-desktop</a>ä»£ç </h4><h4 id="æ­¥éª¤2é€‰ä¸­è‡ªå·±çš„kubernetes-ç‰ˆæœ¬"><a class="markdownIt-Anchor" href="#æ­¥éª¤2é€‰ä¸­è‡ªå·±çš„kubernetes-ç‰ˆæœ¬"></a> æ­¥éª¤2ï¼šé€‰ä¸­è‡ªå·±çš„kubernetes ç‰ˆæœ¬</h4><p><img src="f953d88035f34cfda9fa9c37a33b303a.png" alt="" /></p><p>ä¸‹è½½zipåŒ…</p><p><img src="8f8d8a2ebdb44163815a368482ea8881.png" alt="" /></p><h4 id="æ­¥éª¤3powershellè¿è¡Œload_imagesps1æ–‡ä»¶"><a class="markdownIt-Anchor" href="#æ­¥éª¤3powershellè¿è¡Œload_imagesps1æ–‡ä»¶"></a> æ­¥éª¤3ï¼šPowerShellè¿è¡Œload_images.ps1æ–‡ä»¶</h4><p><img src="128bdad749bf4fb8b6c441fcf1d2a8d1.png" alt="" /></p><p>åœ¨ Mac ä¸Šæ‰§è¡Œå¦‚ä¸‹è„šæœ¬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./load_images.sh</span><br></pre></td></tr></table></figure><p>åœ¨Windowsä¸Šï¼Œä½¿ç”¨ PowerShell</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\load_images.ps1</span><br></pre></td></tr></table></figure><blockquote><p>è¯´æ˜:<br />å¦‚æœå› ä¸ºå®‰å…¨ç­–ç•¥æ— æ³•æ‰§è¡Œ PowerShell è„šæœ¬ï¼Œè¯·åœ¨ â€œä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œâ€ çš„ PowerShell ä¸­æ‰§è¡Œ Set-ExecutionPolicy RemoteSigned å‘½ä»¤ã€‚<br />å¦‚æœéœ€è¦ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹ images.properties æ–‡ä»¶è‡ªè¡ŒåŠ è½½ä½ è‡ªå·±éœ€è¦çš„é•œåƒ</p></blockquote><h4 id="æ­¥éª¤4é‡å¯docker"><a class="markdownIt-Anchor" href="#æ­¥éª¤4é‡å¯docker"></a> æ­¥éª¤4ï¼šé‡å¯docker</h4>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•åœ¨æœ¬åœ°éƒ¨ç½²Ollamaå¤§æ¨¡å‹å¹¶ä½¿ç”¨Pythonè¿›è¡Œç®€å•è®¿é—®</title>
      <link href="/2025/02/12/ollama/%E5%A6%82%E4%BD%95%E5%9C%A8%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2Ollama%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%B9%B6%E4%BD%BF%E7%94%A8Python%E8%BF%9B%E8%A1%8C%E7%AE%80%E5%8D%95%E8%AE%BF%E9%97%AE/"/>
      <url>/2025/02/12/ollama/%E5%A6%82%E4%BD%95%E5%9C%A8%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2Ollama%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%B9%B6%E4%BD%BF%E7%94%A8Python%E8%BF%9B%E8%A1%8C%E7%AE%80%E5%8D%95%E8%AE%BF%E9%97%AE/</url>
      
        <content type="html"><![CDATA[<h2 id="å¦‚ä½•åœ¨æœ¬åœ°éƒ¨ç½²ollamaå¤§æ¨¡å‹å¹¶ä½¿ç”¨pythonè¿›è¡Œç®€å•è®¿é—®"><a class="markdownIt-Anchor" href="#å¦‚ä½•åœ¨æœ¬åœ°éƒ¨ç½²ollamaå¤§æ¨¡å‹å¹¶ä½¿ç”¨pythonè¿›è¡Œç®€å•è®¿é—®"></a> å¦‚ä½•åœ¨æœ¬åœ°éƒ¨ç½²Ollamaå¤§æ¨¡å‹å¹¶ä½¿ç”¨Pythonè¿›è¡Œç®€å•è®¿é—®</h2><h3 id="ç®€ä»‹"><a class="markdownIt-Anchor" href="#ç®€ä»‹"></a> ç®€ä»‹</h3><p>Ollamaæ˜¯ä¸€ä¸ªå¼ºå¤§çš„å¤§å‹è¯­è¨€æ¨¡å‹å¹³å°ï¼Œå®ƒå…è®¸ç”¨æˆ·è½»æ¾åœ°ä¸‹è½½ã€å®‰è£…å’Œè¿è¡Œå„ç§å¤§å‹è¯­è¨€æ¨¡å‹ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†æŒ‡å¯¼ä½ å¦‚ä½•åœ¨ä½ çš„æœ¬åœ°æœºå™¨ä¸Šéƒ¨ç½²Ollamaï¼Œå¹¶å±•ç¤ºå¦‚ä½•ä½¿ç”¨Pythonè¿›è¡Œç®€å•çš„APIè°ƒç”¨ä»¥è®¿é—®è¿™äº›æ¨¡å‹ã€‚</p><h3 id="æ­¥éª¤1ä¸‹è½½å’Œå®‰è£…ollama"><a class="markdownIt-Anchor" href="#æ­¥éª¤1ä¸‹è½½å’Œå®‰è£…ollama"></a> æ­¥éª¤1ï¼šä¸‹è½½å’Œå®‰è£…Ollama</h3><p>é¦–å…ˆï¼Œè®¿é—®<a href="https://ollama.com/download">Ollama</a>å®˜ç½‘ä¸‹è½½Ollamaã€‚å®‰è£…è¿‡ç¨‹éå¸¸ç®€å•ï¼Œåªéœ€éµå¾ªå®‰è£…å‘å¯¼çš„æŒ‡ç¤ºå³å¯ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒOllamaä¼šå®‰è£…åœ¨ç³»ç»Ÿçš„é»˜è®¤è·¯å¾„ä¸‹ã€‚<br /><img src="293c33a45df64cac8d1cc6b74a916c50.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="æ›´æ”¹æ¨¡å‹ä¿å­˜è·¯å¾„"><a class="markdownIt-Anchor" href="#æ›´æ”¹æ¨¡å‹ä¿å­˜è·¯å¾„"></a> æ›´æ”¹æ¨¡å‹ä¿å­˜è·¯å¾„</h4><p>å¦‚æœä½ æƒ³æ›´æ”¹æ¨¡å‹çš„ä¿å­˜è·¯å¾„ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡æ¥å®ç°ã€‚åˆ›å»ºä¸€ä¸ªåä¸º<code>OLLAMA_MODELS</code>çš„ç¯å¢ƒå˜é‡ï¼Œå¹¶å°†å…¶å€¼è®¾ç½®ä¸ºä½ å¸Œæœ›ä¿å­˜æ¨¡å‹çš„è·¯å¾„ã€‚<br /><img src="8504a34493e64873952f3ecc23221941.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="æ­¥éª¤2éªŒè¯ollamaå®‰è£…"><a class="markdownIt-Anchor" href="#æ­¥éª¤2éªŒè¯ollamaå®‰è£…"></a> æ­¥éª¤2ï¼šéªŒè¯Ollamaå®‰è£…</h3><p>å®‰è£…å®Œæˆåï¼Œæ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼ˆcmdï¼‰å¹¶è¾“å…¥<code>ollama</code>æ¥éªŒè¯Ollamaæ˜¯å¦å®‰è£…æˆåŠŸã€‚å¦‚æœå®‰è£…æˆåŠŸï¼Œä½ å°†çœ‹åˆ°Ollamaçš„å¯åŠ¨ç•Œé¢ã€‚<br /><img src="8cc1a3b6828649d2aed6e8137a88188a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="æ­¥éª¤3é€‰æ‹©å¹¶ä¸‹è½½æ¨¡å‹"><a class="markdownIt-Anchor" href="#æ­¥éª¤3é€‰æ‹©å¹¶ä¸‹è½½æ¨¡å‹"></a> æ­¥éª¤3ï¼šé€‰æ‹©å¹¶ä¸‹è½½æ¨¡å‹</h3><p>æ¥ä¸‹æ¥ï¼Œè®¿é—®<a href="https://ollama.com/library/">Ollamaæ¨¡å‹åº“</a>æ¥æµè§ˆå’Œé€‰æ‹©ä½ éœ€è¦çš„æ¨¡å‹ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘é€‰æ‹©äº†<code>llama3.2</code>æ¨¡å‹ã€‚å¤åˆ¶æ¨¡å‹é¡µé¢ä¸Šæä¾›çš„ä»£ç ollama run llama3.2ï¼Œå¹¶å°†å…¶ç²˜è´´åˆ°cmdä¸­è¿è¡Œã€‚Ollamaå°†å¼€å§‹ä¸‹è½½æ¨¡å‹æ–‡ä»¶ï¼Œå¹¶åœ¨ä¸‹è½½å®Œæˆåè‡ªåŠ¨è¿è¡Œã€‚ä½ å¯ä»¥é€šè¿‡è¾“å…¥<code>/bye</code>æ¥é€€å‡ºå¯¹è¯ã€‚<br /><img src="c306f87ff5264e06b99b66b59df6475b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p><img src="83996baf08384484842670e1f6e4e1bf.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="æ­¥éª¤4ä½¿ç”¨pythonè®¿é—®æœ¬åœ°ollama"><a class="markdownIt-Anchor" href="#æ­¥éª¤4ä½¿ç”¨pythonè®¿é—®æœ¬åœ°ollama"></a> æ­¥éª¤4ï¼šä½¿ç”¨Pythonè®¿é—®æœ¬åœ°Ollama</h3><p>ä¸ºäº†ä½¿ç”¨Pythonè®¿é—®æœ¬åœ°è¿è¡Œçš„Ollamaæ¨¡å‹ï¼Œé¦–å…ˆéœ€è¦å¯åŠ¨Ollamaçš„æœåŠ¡å™¨æ¨¡å¼ã€‚åœ¨cmdä¸­è¾“å…¥<code>ollama serve</code>å¹¶è¿è¡Œã€‚OllamaæœåŠ¡å™¨å°†å¯åŠ¨ï¼Œå¹¶åœ¨æ—¥å¿—ä¸­æ˜¾ç¤ºè®¿é—®è·¯å¾„ï¼Œé€šå¸¸ç±»ä¼¼äº<code>http://localhost:11434/api/chat</code>ã€‚</p><h4 id="pythonè®¿é—®ä»£ç ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#pythonè®¿é—®ä»£ç ç¤ºä¾‹"></a> Pythonè®¿é—®ä»£ç ç¤ºä¾‹</h4><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªPythonä»£ç ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨<code>requests</code>åº“å‘OllamaæœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œå¹¶è·å–å“åº”ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="comment"># APIçš„URL</span></span><br><span class="line">url = <span class="string">&#x27;http://localhost:11434/api/chat&#x27;</span></span><br><span class="line">input_text = <span class="string">&quot;ç©¿å±±ç”²ï¼ˆæ±¤æµ¸é€ï¼Œå–ç”²é”‰ç¢ï¼ŒåŒçƒ­ç°é“›å†…æ…¢ç«ç‚’ä»¤é»„è‰²ï¼‰äº”é’±  çº¢è‰²æ›²ï¼ˆç‚’ï¼‰  å·ä¹Œï¼ˆä¸€æšï¼Œç°ç«ä¸­å¸¦ç„¦ç‚®ï¼‰å„äºŒé’±åŠ&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¦å‘é€çš„æ•°æ®</span></span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&quot;model&quot;</span>: <span class="string">&quot;llama3.2&quot;</span>,</span><br><span class="line">    <span class="string">&quot;messages&quot;</span>: [</span><br><span class="line">        &#123;<span class="string">&quot;role&quot;</span>:<span class="string">&quot;system&quot;</span>,<span class="string">&quot;content&quot;</span>: <span class="string">&quot;ä½ æ˜¯ä¸€ä¸ªä¸­è¯è¯ææå–å·¥å…·ï¼ŒåªçŸ¥é“è¯æåå­—ï¼Œä½ çš„å·¥ä½œæ˜¯ä»å­—ç¬¦ä¸²ä¸­æå–è¯æåå­—ï¼Œå¹¶ç”¨è‹±æ–‡é€—å·éš”å¼€ã€‚&quot;</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>,<span class="string">&quot;content&quot;</span>: <span class="string">&quot; &quot;</span>&#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;stream&quot;</span>: <span class="literal">False</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰¾åˆ°roleä¸ºuserçš„message</span></span><br><span class="line"><span class="keyword">for</span> message <span class="keyword">in</span> data[<span class="string">&quot;messages&quot;</span>]:</span><br><span class="line">    <span class="keyword">if</span> message[<span class="string">&quot;role&quot;</span>] == <span class="string">&quot;user&quot;</span>:</span><br><span class="line">        <span class="comment"># å°†è¾“å…¥æ–‡æœ¬æ·»åŠ åˆ°contentçš„å¼€å¤´</span></span><br><span class="line">        message[<span class="string">&quot;content&quot;</span>] = input_text</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†å­—å…¸è½¬æ¢ä¸ºJSONæ ¼å¼çš„å­—ç¬¦ä¸²</span></span><br><span class="line">json_data = json.dumps(data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘é€POSTè¯·æ±‚</span></span><br><span class="line">response = requests.post(url, data=json_data, headers=&#123;<span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°å“åº”å†…å®¹</span></span><br><span class="line"><span class="built_in">print</span>(response.text)</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç é¦–å…ˆè®¾ç½®äº†APIçš„URLå’Œè¾“å…¥æ–‡æœ¬ï¼Œç„¶åå®šä¹‰äº†è¦å‘é€çš„æ•°æ®ç»“æ„ï¼ŒåŒ…æ‹¬æ¨¡å‹åç§°ã€æ¶ˆæ¯åˆ—è¡¨å’Œæ˜¯å¦æµå¼ä¼ è¾“ã€‚åœ¨æ¶ˆæ¯åˆ—è¡¨ä¸­ï¼Œæˆ‘ä»¬ç‰¹åˆ«å…³æ³¨è§’è‰²ä¸ºuserçš„æ¶ˆæ¯ï¼Œå¹¶å°†å…¶å†…å®¹è®¾ç½®ä¸ºæˆ‘ä»¬çš„è¾“å…¥æ–‡æœ¬ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†æ•°æ®ç»“æ„è½¬æ¢ä¸ºJSONæ ¼å¼ï¼Œå¹¶ä½¿ç”¨requestsåº“å‘é€POSTè¯·æ±‚ã€‚æœ€åï¼Œæˆ‘ä»¬æ‰“å°å‡ºæœåŠ¡å™¨çš„å“åº”å†…å®¹ã€‚</p><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ å¯ä»¥è½»æ¾åœ°åœ¨æœ¬åœ°éƒ¨ç½²Ollamaå¤§æ¨¡å‹ï¼Œå¹¶ä½¿ç”¨Pythonè¿›è¡Œç®€å•çš„APIè°ƒç”¨ã€‚è¿™ä¸ºå¼€å‘åŸºäºå¤§å‹è¯­è¨€æ¨¡å‹çš„åº”ç”¨æä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„å¹³å°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ™ºèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ollama </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨Dockeræ­å»ºOllama DeepSeekå’ŒOpen Web UIçš„æ­¥éª¤</title>
      <link href="/2025/02/12/Docker/%E4%BD%BF%E7%94%A8Docker%E6%90%AD%E5%BB%BAOllama%20DeepSeek%E5%92%8COpen%20Web%20UI%E7%9A%84%E6%AD%A5%E9%AA%A4/"/>
      <url>/2025/02/12/Docker/%E4%BD%BF%E7%94%A8Docker%E6%90%AD%E5%BB%BAOllama%20DeepSeek%E5%92%8COpen%20Web%20UI%E7%9A%84%E6%AD%A5%E9%AA%A4/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€-å‡†å¤‡å·¥ä½œ"><a class="markdownIt-Anchor" href="#ä¸€-å‡†å¤‡å·¥ä½œ"></a> ä¸€ã€å‡†å¤‡å·¥ä½œ</h3><ul><li><p>å®‰è£…Dockerï¼š<br />ç¡®ä¿ä½ çš„ç³»ç»Ÿä¸­å·²ç»å®‰è£…äº†Dockerã€‚å¦‚æœå°šæœªå®‰è£…ï¼Œå¯ä»¥ä»Dockerå®˜æ–¹ç½‘ç«™ä¸‹è½½å¹¶å®‰è£…é€‚åˆä½ æ“ä½œç³»ç»Ÿçš„Dockerç‰ˆæœ¬ã€‚</p></li><li><p>æ‹‰å–é•œåƒï¼š<br />ä»Docker Hubæˆ–å…¶ä»–é•œåƒä»“åº“ä¸­æ‹‰å–Ollamaã€DeepSeekï¼ˆé€šå¸¸ä½œä¸ºOllamaçš„ä¸€ä¸ªæ¨¡å‹å­˜åœ¨ï¼‰å’ŒOpen Web UIçš„é•œåƒã€‚ å¯¹äºä¸åŒæ“ä½œç³»ç»Ÿï¼Œé‡å¯å‘½ä»¤å¯èƒ½æœ‰æ‰€ä¸åŒã€‚</p></li></ul><blockquote><p>ä¾‹å¦‚ï¼Œåœ¨Ubuntu/Debianç³»ç»Ÿä¸Šï¼Œå¯ä»¥ä½¿ç”¨systemctl daemon-reloadå’Œsystemctl restart ollamaå‘½ä»¤ï¼›åœ¨CentOSç³»ç»Ÿä¸Šï¼Œåˆ™å¯èƒ½éœ€è¦ä½¿ç”¨sudo yum updateã€sudo yum install lsofã€stop ollamaã€lsof -i :11434ã€kill å’Œollama serveç­‰å‘½ä»¤ç»„åˆã€‚</p></blockquote><h3 id="äºŒ-éƒ¨ç½²ollama"><a class="markdownIt-Anchor" href="#äºŒ-éƒ¨ç½²ollama"></a> äºŒã€éƒ¨ç½²Ollama</h3><ul><li>æ‹‰å–Ollamaé•œåƒï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull ollama/ollama</span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼Œå¦‚æœä½ éœ€è¦ç‰¹å®šç‰ˆæœ¬çš„Ollamaï¼Œå¯ä»¥ä½¿ç”¨å¸¦ç‰ˆæœ¬çš„æ ‡ç­¾ï¼Œå¦‚ollama/ollama:0.3.0ã€‚</p><ul><li>è¿è¡ŒOllamaå®¹å™¨ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -v /path/to/ollama:/root/.ollama -p 11434:11434 --name ollama ollama/ollama</span><br></pre></td></tr></table></figure><p>-dï¼šåå°è¿è¡Œå®¹å™¨ã€‚<br />-vï¼šå°†æœ¬åœ°æ–‡ä»¶å¤¹æŒ‚è½½åˆ°å®¹å™¨å†…ï¼Œç”¨äºå­˜å‚¨æ¨¡å‹å’Œæ•°æ®ã€‚<br />-pï¼šæ˜ å°„ç«¯å£ï¼Œæ–¹ä¾¿å¤–éƒ¨è®¿é—®ã€‚<br />â€“nameï¼šæŒ‡å®šå®¹å™¨åç§°ã€‚<br />å¯åŠ¨DeepSeekæ¨¡å‹ï¼ˆåœ¨Ollamaå®¹å™¨ä¸­ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it ollama ollama run deepseek-r1:1.5b</span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼Œæ ¹æ®ä½ ä¸‹è½½çš„DeepSeekæ¨¡å‹ç‰ˆæœ¬è¿›è¡Œè°ƒæ•´ã€‚</p><h3 id="ä¸‰-éƒ¨ç½²open-web-ui"><a class="markdownIt-Anchor" href="#ä¸‰-éƒ¨ç½²open-web-ui"></a> ä¸‰ã€éƒ¨ç½²Open Web UI</h3><ul><li>æ‹‰å–Open Web UIé•œåƒï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull ghcr.io/open-webui/open-webui:main</span><br></pre></td></tr></table></figure><p>è¿è¡ŒOpen Web UIå®¹å™¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 3000:8080 -e OLLAMA_BASE_URL=http://localhost:11434 -v /path/to/open-webui:/app/backend/data --name open-webui --restart always ghcr.io/open-webui/open-webui:main</span><br></pre></td></tr></table></figure><p>-pï¼šå°†å®¹å™¨çš„8080ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºçš„3000ç«¯å£ã€‚<br />-eï¼šé…ç½®OllamaæœåŠ¡çš„åŸºç¡€URLåœ°å€ã€‚<br />-vï¼šæŒ‚è½½æœ¬åœ°ç›®å½•åˆ°å®¹å™¨ï¼Œç”¨äºå­˜å‚¨Open Web UIçš„æ•°æ®ã€‚<br />â€“nameï¼šæŒ‡å®šå®¹å™¨åç§°ã€‚<br />â€“restart alwaysï¼šå®¹å™¨å¼‚å¸¸é€€å‡ºåè‡ªåŠ¨é‡å¯ã€‚</p><blockquote><p>æ³¨æ„ï¼šOLLAMA_BASE_URLåº”è¯¥è®¾ç½®ä¸ºOllamaæœåŠ¡çš„å®é™…è®¿é—®åœ°å€ã€‚å¦‚æœä½ çš„OllamaæœåŠ¡éƒ¨ç½²åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šï¼Œé‚£ä¹ˆè¿™é‡Œåº”è¯¥å¡«å†™è¿œç¨‹æœåŠ¡å™¨çš„IPåœ°å€æˆ–åŸŸåã€‚å¦‚æœéƒ¨ç½²åœ¨æœ¬æœºï¼Œå¯ä»¥ä½¿ç”¨localhostæˆ–127.0.0.1ã€‚ä½†æ˜¯ï¼Œåœ¨Dockerå®¹å™¨ä¸­è®¿é—®å®¿ä¸»æœºæ—¶ï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨å®¿ä¸»æœºçš„å®é™…IPåœ°å€æˆ–host.docker.internalï¼ˆåœ¨æŸäº›Dockerç‰ˆæœ¬ä¸­æ”¯æŒï¼‰ã€‚</p></blockquote><h3 id="å››-è®¿é—®å’Œä½¿ç”¨"><a class="markdownIt-Anchor" href="#å››-è®¿é—®å’Œä½¿ç”¨"></a> å››ã€è®¿é—®å’Œä½¿ç”¨</h3><ul><li><p>è®¿é—®Open Web UIï¼š<br />æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®<a href="http://localhost:3000">http://localhost:3000</a>ï¼ˆæˆ–ä½ è®¾ç½®çš„å…¶ä»–ç«¯å£ï¼‰ã€‚<br />ä½ åº”è¯¥èƒ½å¤Ÿçœ‹åˆ°Open Web UIçš„ç•Œé¢ï¼Œå¹¶é€šè¿‡å®ƒä¸DeepSeekæ¨¡å‹è¿›è¡Œäº¤äº’ã€‚</p></li><li><p>ä½¿ç”¨Open Web UIï¼š<br />åœ¨Open Web UIç•Œé¢ä¸­ï¼Œé€‰æ‹©DeepSeekæ¨¡å‹ã€‚<br />è¾“å…¥ä½ æƒ³è®©æ¨¡å‹å›ç­”çš„é—®é¢˜æˆ–æ–‡æœ¬ã€‚<br />ç‚¹å‡»â€œç”Ÿæˆâ€æˆ–ç±»ä¼¼çš„æŒ‰é’®ï¼ŒæŸ¥çœ‹æ¨¡å‹çš„è¾“å‡ºç»“æœã€‚</p></li></ul><blockquote><p>æ³¨æ„ï¼šä¹Ÿå¯ä»¥ä½¿ç”¨ChatBoxæ¡Œé¢å®¢æˆ·ç«¯è®¿é—®<br />ä¸‹è½½ChatBox(<a href="https://chatboxai.app/zh">https://chatboxai.app/zh</a>)<br />åœ¨è®¾ç½®ä¸­ï¼Œè®¾ç½®APIåŸŸåä¸º <a href="http://localhost:11434">http://localhost:11434</a><br />ä¹Ÿå¯ä»¥æŸ¥çœ‹æ¨¡å‹çš„è¾“å‡ºç»“æœ</p></blockquote><h3 id="äº”-æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#äº”-æ³¨æ„äº‹é¡¹"></a> äº”ã€æ³¨æ„äº‹é¡¹</h3><ul><li><p>ç¡¬ä»¶é…ç½®ï¼š<br />Ollamaå’ŒDeepSeekå¯¹ç¡¬ä»¶é…ç½®æœ‰ä¸€å®šçš„è¦æ±‚ã€‚ç¡®ä¿ä½ çš„æœåŠ¡å™¨æˆ–è®¡ç®—æœºæœ‰è¶³å¤Ÿçš„CPUã€å†…å­˜å’Œå­˜å‚¨ç©ºé—´æ¥è¿è¡Œè¿™äº›æœåŠ¡ã€‚</p></li><li><p>ç½‘ç»œé…ç½®ï¼š<br />å¦‚æœä½ çš„OllamaæœåŠ¡éƒ¨ç½²åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šï¼Œç¡®ä¿ä½ çš„æœåŠ¡å™¨èƒ½å¤Ÿè®¿é—®å¤–éƒ¨ç½‘ç»œï¼ˆç‰¹åˆ«æ˜¯å¦‚æœä½ éœ€è¦ä»å¤–éƒ¨ä¸‹è½½æ¨¡å‹æˆ–æ›´æ–°ï¼‰ã€‚<br />åŒæ—¶ï¼Œç¡®ä¿ä½ çš„Open Web UIèƒ½å¤Ÿè®¿é—®OllamaæœåŠ¡çš„åŸºç¡€URLåœ°å€ã€‚</p></li><li><p>å®‰å…¨æ€§ï¼š<br />åœ¨ç”Ÿäº§ç¯å¢ƒä¸­éƒ¨ç½²æ—¶ï¼Œè¯·æ³¨æ„å®‰å…¨æ€§é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨HTTPSæ¥ä¿æŠ¤ä½ çš„Webç•Œé¢å’Œæ•°æ®ä¼ è¾“ï¼›é™åˆ¶å¯¹OllamaæœåŠ¡çš„è®¿é—®æƒé™ï¼›å®šæœŸæ›´æ–°å’Œå¤‡ä»½ä½ çš„æ•°æ®å’Œæ¨¡å‹ç­‰ã€‚</p></li><li><p>æ€§èƒ½ä¼˜åŒ–ï¼š<br />æ ¹æ®ä½ çš„å®é™…éœ€æ±‚å’Œç¡¬ä»¶é…ç½®ï¼Œè°ƒæ•´Ollamaå’ŒDeepSeekçš„è¿è¡Œå‚æ•°ä»¥ä¼˜åŒ–æ€§èƒ½ã€‚ä¾‹å¦‚ï¼Œè°ƒæ•´æ¨¡å‹çš„æ‰¹é‡å¤§å°ã€å¹¶å‘è¯·æ±‚æ•°ç­‰ã€‚</p></li><li><p>Docker Composeï¼š<br />ä¸ºäº†ç®€åŒ–éƒ¨ç½²å’Œç®¡ç†è¿‡ç¨‹ï¼Œä½ å¯ä»¥ä½¿ç”¨Docker Composeæ¥ä¸€æ¬¡æ€§å¯åŠ¨æ•´ä¸ªåº”ç”¨æ ˆã€‚ç¼–å†™ä¸€ä¸ªdocker-compose.ymlæ–‡ä»¶æ¥å®šä¹‰Ollamaå’ŒOpen Web UIçš„æœåŠ¡å’Œé…ç½®ï¼Œç„¶åä½¿ç”¨docker-compose upå‘½ä»¤æ¥å¯åŠ¨æ‰€æœ‰æœåŠ¡ã€‚<br />é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ åº”è¯¥èƒ½å¤ŸæˆåŠŸä½¿ç”¨Dockeræ­å»ºOllamaã€DeepSeekå’ŒOpen Web UIï¼Œå¹¶é€šè¿‡Open Web UIä¸DeepSeekæ¨¡å‹è¿›è¡Œäº¤äº’ã€‚</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ™ºèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> ollama </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤§æ¨¡å‹ollamaå‘½ä»¤è¯¦è§£å¤§å…¨</title>
      <link href="/2025/02/12/ollama/%E5%A4%A7%E6%A8%A1%E5%9E%8Bollama%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3%E5%A4%A7%E5%85%A8/"/>
      <url>/2025/02/12/ollama/%E5%A4%A7%E6%A8%A1%E5%9E%8Bollama%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3%E5%A4%A7%E5%85%A8/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€-å¯åŠ¨ä¸åœæ­¢æœåŠ¡"><a class="markdownIt-Anchor" href="#ä¸€-å¯åŠ¨ä¸åœæ­¢æœåŠ¡"></a> ä¸€ã€å¯åŠ¨ä¸åœæ­¢æœåŠ¡</h3><ol><li><strong>å¯åŠ¨OllamaæœåŠ¡</strong></li></ol><ul><li><strong>ollama serve</strong>ï¼šå¯åŠ¨OllamaæœåŠ¡å™¨ï¼Œä»¥ä¾¿è¿è¡Œæ¨¡å‹å’Œå¤„ç†è¯·æ±‚ã€‚é¦–æ¬¡å¯åŠ¨å¯èƒ½ä¼šç”Ÿæˆsshç§é’¥æ–‡ä»¶ï¼Œå¹¶æç¤ºæœåŠ¡ç«¯å£çŠ¶æ€ã€‚å¦‚æœæœåŠ¡å·²åœ¨è¿è¡Œä¸­ï¼Œå¯ä»¥é€šè¿‡netstat -tulpn | grep 11434å‘½ä»¤è¿›è¡Œç¡®è®¤ã€‚</li></ul><ol start="2"><li><strong>é‡å¯OllamaæœåŠ¡</strong></li></ol><ul><li>å¯¹äºä¸åŒæ“ä½œç³»ç»Ÿï¼Œé‡å¯å‘½ä»¤å¯èƒ½æœ‰æ‰€ä¸åŒã€‚ä¾‹å¦‚ï¼Œåœ¨Ubuntu/Debianç³»ç»Ÿä¸Šï¼Œå¯ä»¥ä½¿ç”¨systemctl daemon-reloadå’Œsystemctl restart ollamaå‘½ä»¤ï¼›åœ¨CentOSç³»ç»Ÿä¸Šï¼Œåˆ™å¯èƒ½éœ€è¦ä½¿ç”¨sudo yum updateã€sudo yum install lsofã€stop ollamaã€lsof -i :11434ã€kill å’Œollama serveç­‰å‘½ä»¤ç»„åˆã€‚</li></ul><h3 id="äºŒ-æ¨¡å‹ç®¡ç†"><a class="markdownIt-Anchor" href="#äºŒ-æ¨¡å‹ç®¡ç†"></a> äºŒã€æ¨¡å‹ç®¡ç†</h3><ol><li><strong>åˆ›å»ºæ¨¡å‹</strong><ul><li>ollama create [Modelfileè·¯å¾„]ï¼šä½¿ç”¨åŒ…å«æ¨¡å‹ä¿¡æ¯çš„Modelfileæ¥åˆ›å»ºä¸€ä¸ªæ–°æ¨¡å‹ã€‚</li></ul></li><li><strong>æ˜¾ç¤ºæ¨¡å‹ä¿¡æ¯</strong><ul><li>ollama showï¼šæ˜¾ç¤ºç‰¹å®šæ¨¡å‹çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚æ¨¡å‹åç§°ã€ç‰ˆæœ¬ç­‰ã€‚</li></ul></li><li><strong>åˆ—å‡ºæ¨¡å‹</strong><ul><li>ollama listï¼šåˆ—å‡ºæœ¬åœ°æ‰€æœ‰å¯ç”¨çš„æ¨¡å‹ã€‚</li></ul></li><li><strong>ä»æ³¨å†Œè¡¨æ‹‰å–æ¨¡å‹</strong><ul><li>ollama pull [æ¨¡å‹åç§°]ï¼šä»æ¨¡å‹æ³¨å†Œè¡¨ä¸­æ‹‰å–ä¸€ä¸ªæ¨¡å‹åˆ°æœ¬åœ°ä½¿ç”¨ã€‚</li></ul></li><li><strong>æ¨é€æ¨¡å‹åˆ°æ³¨å†Œè¡¨</strong><ul><li>ollama push [æ¨¡å‹åç§°]ï¼šå°†æœ¬åœ°æ¨¡å‹æ¨é€åˆ°æ¨¡å‹æ³¨å†Œè¡¨ä¸­ï¼Œä»¥ä¾¿ä»–äººæˆ–å…¶ä»–ç³»ç»Ÿä½¿ç”¨ã€‚</li></ul></li><li><strong>å¤åˆ¶æ¨¡å‹</strong><ul><li>ollama cp [åŸæ¨¡å‹åç§°] [æ–°æ¨¡å‹åç§°]ï¼šå¤åˆ¶ä¸€ä¸ªæ¨¡å‹åˆ°å¦ä¸€ä¸ªä½ç½®æˆ–ç»™å®šåç§°çš„åœ°æ–¹ã€‚</li></ul></li><li><strong>åˆ é™¤æ¨¡å‹</strong><ul><li>ollama rm [æ¨¡å‹åç§°]ï¼šåˆ é™¤ä¸€ä¸ªå·²å®‰è£…çš„æ¨¡å‹ã€‚</li></ul></li></ol><h3 id="ä¸‰-è¿è¡Œæ¨¡å‹"><a class="markdownIt-Anchor" href="#ä¸‰-è¿è¡Œæ¨¡å‹"></a> ä¸‰ã€è¿è¡Œæ¨¡å‹</h3><ul><li><strong>ollama run [æ¨¡å‹åç§°]</strong>ï¼šè¿è¡Œä¸€ä¸ªå·²å®‰è£…çš„æ¨¡å‹ï¼Œæ‰§è¡ŒæŸäº›ä»»åŠ¡ã€‚å¯ä»¥æ ¹æ®éœ€è¦æŒ‡å®šæ¨¡å‹çš„å‚æ•°å’Œé…ç½®ã€‚</li></ul><h3 id="å››-ä¼šè¯ç®¡ç†"><a class="markdownIt-Anchor" href="#å››-ä¼šè¯ç®¡ç†"></a> å››ã€ä¼šè¯ç®¡ç†</h3><p>Ollamaè¿˜æä¾›äº†ä¸€äº›ä¸ä¼šè¯ç®¡ç†ç›¸å…³çš„å‘½ä»¤ï¼Œè¿™äº›å‘½ä»¤å¯ä»¥å¸®åŠ©æ›´å¥½åœ°æ§åˆ¶å’Œç®¡ç†ä¸æ¨¡å‹çš„äº¤äº’ï¼š</p><ol><li>åŠ è½½ä¼šè¯æˆ–æ¨¡å‹<ul><li><code>/load &lt;model&gt;</code>ï¼šåŠ è½½ä¸€ä¸ªç‰¹å®šçš„æ¨¡å‹æˆ–ä¼šè¯ã€‚å¯ä»¥æŒ‡å®šä¸€ä¸ªæ¨¡å‹çš„åç§°æˆ–è·¯å¾„æ¥åŠ è½½å®ƒã€‚</li></ul></li><li>ä¿å­˜ä¼šè¯<ul><li><code>/save &lt;model&gt;</code>ï¼šä¿å­˜å½“å‰çš„ä¼šè¯çŠ¶æ€æˆ–æ¨¡å‹ã€‚å¯ä»¥å°†å½“å‰ä¼šè¯æˆ–æ¨¡å‹çš„é…ç½®ä¿å­˜ä¸ºä¸€ä¸ªæ–‡ä»¶ï¼Œä»¥ä¾¿ä»¥åä½¿ç”¨ã€‚</li></ul></li><li>æ¸…é™¤ä¼šè¯ä¸Šä¸‹æ–‡<ul><li><code>/clear</code>ï¼šæ¸…é™¤ä¼šè¯ä¸Šä¸‹æ–‡ã€‚è¿™å°†åˆ é™¤å½“å‰ä¼šè¯ä¸­çš„æ‰€æœ‰å†å²è®°å½•æˆ–å¯¹è¯å†…å®¹ã€‚</li></ul></li><li>é€€å‡ºä¼šè¯<ul><li><code>/bye</code>ï¼šé€€å‡ºä¼šè¯ã€‚è¿™ä¸ªå‘½ä»¤å°†ç»“æŸå½“å‰ä¸æ¨¡å‹çš„å¯¹è¯ï¼Œå¹¶é€€å‡ºç¨‹åºã€‚</li></ul></li></ol><h3 id="äº”-å…¶ä»–å‘½ä»¤"><a class="markdownIt-Anchor" href="#äº”-å…¶ä»–å‘½ä»¤"></a> äº”ã€å…¶ä»–å‘½ä»¤</h3><ol><li>æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯<ul><li>ollama help [å‘½ä»¤åç§°] æˆ– ollama --helpï¼šè·å–æœ‰å…³Ollamaä»»ä½•å‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯ã€‚å¦‚æœæŒ‡å®šäº†å‘½ä»¤åç§°ï¼Œåˆ™æ˜¾ç¤ºè¯¥å‘½ä»¤çš„è¯¦ç»†å¸®åŠ©ä¿¡æ¯ã€‚</li></ul></li><li>æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯<ul><li>ollama versionï¼šæ˜¾ç¤ºå½“å‰Ollamaå·¥å…·çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚</li></ul></li><li>è®¾ç½®ä¼šè¯å‚æ•°å’Œé…ç½®<ul><li>/setï¼šç”¨äºè®¾ç½®ä¼šè¯å‚æ•°å’Œé…ç½®ã€‚ä¾‹å¦‚ï¼Œè®¾ç½®æ¶ˆæ¯æ ¼å¼ã€å¯ç”¨æˆ–ç¦ç”¨å†å²è®°å½•ç­‰ã€‚å…·ä½“å‚æ•°åŒ…æ‹¬<code>/set system&lt;string&gt;ã€/set template&lt;string&gt;ã€/set historyã€/set nohistoryã€/set wordwrapã€/set nowordwrapã€/set format jsonã€/set noformatã€/set verboseå’Œ/set quiet</code>ç­‰ã€‚</li></ul></li><li>æ˜¾ç¤ºé”®ç›˜å¿«æ·é”®<ul><li>/?shortcuts æˆ– /help shortcutsï¼šæ˜¾ç¤ºé”®ç›˜å¿«æ·é”®çš„å¸®åŠ©ä¿¡æ¯ï¼Œå¸®åŠ©æ›´å¿«é€Ÿåœ°è¿›è¡Œæ“ä½œã€‚</li></ul></li></ol><h3 id="å…­-ç¤ºä¾‹å®‰è£…qwen"><a class="markdownIt-Anchor" href="#å…­-ç¤ºä¾‹å®‰è£…qwen"></a> å…­ã€ç¤ºä¾‹ï¼šå®‰è£…qwen</h3><h4 id="1-å®‰è£…ollama"><a class="markdownIt-Anchor" href="#1-å®‰è£…ollama"></a> 1ã€å®‰è£…Ollama</h4><ol><li>æ‰“å¼€ç»ˆç«¯æˆ–å‘½ä»¤æç¤ºç¬¦ã€‚</li><li>è¾“å…¥ä»¥ä¸‹å‘½ä»¤ä»¥å®‰è£…Ollamaï¼š</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://ollama.com/install.sh | sh</span><br></pre></td></tr></table></figure><p>è¯¥å‘½ä»¤ä¼šä»Ollamaçš„å®˜æ–¹ç½‘ç«™ä¸‹è½½å¹¶å®‰è£…Ollamaã€‚</p><h4 id="2-ä¸‹è½½å¹¶è¿è¡Œqwen25æ¨¡å‹"><a class="markdownIt-Anchor" href="#2-ä¸‹è½½å¹¶è¿è¡Œqwen25æ¨¡å‹"></a> 2ã€ä¸‹è½½å¹¶è¿è¡Œqwen2.5æ¨¡å‹</h4><ol><li>å®‰è£…å®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æ‹‰å–ï¼ˆä¸‹è½½ï¼‰qwen2.5æ¨¡å‹ï¼š</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ollama pull qwen2.5-coder:7b</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä»¥qwen2.5-coderçš„7bç‰ˆæœ¬ä¸ºä¾‹ã€‚å¦‚æœæƒ³ä¸‹è½½å…¶ä»–ç‰ˆæœ¬çš„qwen2.5æ¨¡å‹ï¼Œè¯·å°†7bæ›¿æ¢ä¸ºç›¸åº”çš„ç‰ˆæœ¬å·ã€‚</p><ol start="2"><li>ä¸‹è½½å®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥è¿è¡Œqwen2.5æ¨¡å‹ï¼š</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ollama run qwen2.5-coder:7b</span><br></pre></td></tr></table></figure><p>è¯¥å‘½ä»¤ä¼šå¯åŠ¨OllamaæœåŠ¡ï¼Œå¹¶åŠ è½½qwen2.5-coder:7bæ¨¡å‹ã€‚ä¹‹åï¼Œå¯ä»¥é€šè¿‡Ollamaæä¾›çš„APIæ¥å£ä¸æ¨¡å‹è¿›è¡Œäº¤äº’ã€‚</p><h4 id="3-æµ‹è¯•qwen25æ¨¡å‹"><a class="markdownIt-Anchor" href="#3-æµ‹è¯•qwen25æ¨¡å‹"></a> 3ã€æµ‹è¯•qwen2.5æ¨¡å‹</h4><p>å¯ä»¥ä½¿ç”¨curlå‘½ä»¤æˆ–Pythonè„šæœ¬æ¥æµ‹è¯•qwen2.5æ¨¡å‹æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨curlå‘½ä»¤æµ‹è¯•qwen2.5æ¨¡å‹çš„ç¤ºä¾‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl http://localhost:11434/v1/chat/completions \</span><br><span class="line">-H &quot;Content-Type: application/json&quot; \</span><br><span class="line">-d &#x27;&#123; &quot;model&quot;: &quot;qwen2.5-coder:7b&quot;,&quot;stream&quot;:true, &quot;messages&quot;: [ &#123; &quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;ä½ å¥½&quot; &#125; ] &#125;&#x27;</span><br></pre></td></tr></table></figure><p>è¯¥å‘½ä»¤ä¼šå‘OllamaæœåŠ¡å‘é€ä¸€ä¸ªåŒ…å«ç”¨æˆ·æ¶ˆæ¯çš„è¯·æ±‚ï¼Œå¹¶ç­‰å¾…æ¨¡å‹è¿”å›å›ç­”ã€‚å¦‚æœæ¨¡å‹æ­£å¸¸å·¥ä½œï¼Œåº”è¯¥èƒ½å¤Ÿçœ‹åˆ°æ¨¡å‹è¿”å›çš„â€œä½ å¥½â€å¯¹åº”çš„å›ç­”ã€‚</p><blockquote><p>è¯·æ³¨æ„ï¼Œéšç€Ollamaçš„æ›´æ–°å’Œå‘å±•ï¼Œå¯èƒ½ä¼šæœ‰æ–°çš„å‘½ä»¤å’ŒåŠŸèƒ½è¢«æ·»åŠ æˆ–ä¿®æ”¹ã€‚å› æ­¤ï¼Œå»ºè®®å®šæœŸæŸ¥çœ‹Ollamaçš„å®˜æ–¹æ–‡æ¡£æˆ–GitHubä»“åº“ä»¥è·å–æœ€æ–°çš„å‘½ä»¤å’ŒåŠŸèƒ½ä¿¡æ¯ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> æ™ºèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ollama </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows11ä¸‹å®‰è£…Docker</title>
      <link href="/2025/02/11/Docker/Windows11%E4%B8%8B%E5%AE%89%E8%A3%85Docker/"/>
      <url>/2025/02/11/Docker/Windows11%E4%B8%8B%E5%AE%89%E8%A3%85Docker/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-å‡†å¤‡å·¥ä½œ"><a class="markdownIt-Anchor" href="#ä¸€-å‡†å¤‡å·¥ä½œ"></a> ä¸€ã€å‡†å¤‡å·¥ä½œ</h2><p>å…ˆä¸‹è½½ä»¥ä¸‹èµ„æºï¼Œæš‚æ—¶ä¸è¦å®‰è£…ï¼š<br /><a href="https://desktop.docker.com/win/main/amd64/Docker%20Desktop%20Installer.exe" title="Dockerå®‰è£…åŒ…">Dockerå®‰è£…åŒ…</a><br /><a href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi" title="Wsl2å®‰è£…åŒ…">Wsl2å®‰è£…åŒ…</a></p><h2 id="äºŒ-å¼€å§‹å®‰è£…"><a class="markdownIt-Anchor" href="#äºŒ-å¼€å§‹å®‰è£…"></a> äºŒã€å¼€å§‹å®‰è£…</h2><h3 id="1æ‰“å¼€ä¸»æ¿biosçš„è™šæ‹ŸåŒ–é€‰é¡¹å¯ä»¥åœ¨ä»»åŠ¡ç®¡ç†å™¨ä¸­ç¡®å®æ˜¯å¦å·²ç»æ‰“å¼€"><a class="markdownIt-Anchor" href="#1æ‰“å¼€ä¸»æ¿biosçš„è™šæ‹ŸåŒ–é€‰é¡¹å¯ä»¥åœ¨ä»»åŠ¡ç®¡ç†å™¨ä¸­ç¡®å®æ˜¯å¦å·²ç»æ‰“å¼€"></a> 1.æ‰“å¼€ä¸»æ¿BIOSçš„è™šæ‹ŸåŒ–é€‰é¡¹ï¼Œå¯ä»¥åœ¨ä»»åŠ¡ç®¡ç†å™¨ä¸­ç¡®å®æ˜¯å¦å·²ç»æ‰“å¼€</h3><p><img src="383486-20240823102848468-621425153.png" alt="image" /></p><h3 id="2å‹¾ä¸Šè™šæ‹Ÿæœºå¹³å°æ‰€æœ‰é€‰é¡¹å»ºè®®å®Œæˆè¿™ä¸€æ­¥éª¤é‡å¯"><a class="markdownIt-Anchor" href="#2å‹¾ä¸Šè™šæ‹Ÿæœºå¹³å°æ‰€æœ‰é€‰é¡¹å»ºè®®å®Œæˆè¿™ä¸€æ­¥éª¤é‡å¯"></a> 2.å‹¾ä¸Šè™šæ‹Ÿæœºå¹³å°æ‰€æœ‰é€‰é¡¹ï¼ˆå»ºè®®å®Œæˆè¿™ä¸€æ­¥éª¤é‡å¯ï¼‰</h3><p><img src="383486-20240823102936461-2085152227.png" alt="image" /></p><h3 id="3ç”¨ç®¡ç†å‘˜èº«ä»½æ‰“å¼€powershellæ‰§è¡Œä¸‹é¢å‘½ä»¤å¯åŠ¨wsl"><a class="markdownIt-Anchor" href="#3ç”¨ç®¡ç†å‘˜èº«ä»½æ‰“å¼€powershellæ‰§è¡Œä¸‹é¢å‘½ä»¤å¯åŠ¨wsl"></a> 3.ç”¨ç®¡ç†å‘˜èº«ä»½æ‰“å¼€PowerShellï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤å¯åŠ¨wsl</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart</span><br></pre></td></tr></table></figure><h3 id="4æ‰§è¡Œä¸‹é¢å‘½ä»¤å¯åŠ¨è™šæ‹Ÿæœºç»™åŠŸèƒ½"><a class="markdownIt-Anchor" href="#4æ‰§è¡Œä¸‹é¢å‘½ä»¤å¯åŠ¨è™šæ‹Ÿæœºç»™åŠŸèƒ½"></a> 4.æ‰§è¡Œä¸‹é¢å‘½ä»¤å¯åŠ¨è™šæ‹Ÿæœºç»™åŠŸèƒ½</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart</span><br></pre></td></tr></table></figure><h3 id="5å®‰è£…ä¹‹å‰ä¸‹è½½çš„å®‰è£…åŒ…wsl_update_x64msiå»ºè®®å®Œæˆè¿™ä¸€æ­¥éª¤é‡å¯"><a class="markdownIt-Anchor" href="#5å®‰è£…ä¹‹å‰ä¸‹è½½çš„å®‰è£…åŒ…wsl_update_x64msiå»ºè®®å®Œæˆè¿™ä¸€æ­¥éª¤é‡å¯"></a> 5.å®‰è£…ä¹‹å‰ä¸‹è½½çš„å®‰è£…åŒ…ã€wsl_update_x64.msiã€‘ï¼ˆå»ºè®®å®Œæˆè¿™ä¸€æ­¥éª¤é‡å¯ï¼‰</h3><h3 id="6å°†wsl2è®¾ç½®ä¸ºé»˜è®¤ç‰ˆæœ¬"><a class="markdownIt-Anchor" href="#6å°†wsl2è®¾ç½®ä¸ºé»˜è®¤ç‰ˆæœ¬"></a> 6.å°†WSL2è®¾ç½®ä¸ºé»˜è®¤ç‰ˆæœ¬</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --set-default-version 2</span><br></pre></td></tr></table></figure><h3 id="7å®‰è£…dockerå®‰è£…åŒ…docker-desktop-installerexe"><a class="markdownIt-Anchor" href="#7å®‰è£…dockerå®‰è£…åŒ…docker-desktop-installerexe"></a> 7.å®‰è£…dockerå®‰è£…åŒ…ã€Docker Desktop Installer.exeã€‘</h3><h2 id="ä¸‰-dockeré…ç½®"><a class="markdownIt-Anchor" href="#ä¸‰-dockeré…ç½®"></a> ä¸‰ã€dockeré…ç½®</h2><h3 id="1ä¿®æ”¹dockeré»˜è®¤é•œåƒä¸‹è½½ç›®å½•"><a class="markdownIt-Anchor" href="#1ä¿®æ”¹dockeré»˜è®¤é•œåƒä¸‹è½½ç›®å½•"></a> 1.ä¿®æ”¹dockeré»˜è®¤é•œåƒä¸‹è½½ç›®å½•</h3><p>Windows11 Dockeré•œåƒå­˜å‚¨è·¯å¾„æ›´æ”¹ï¼ˆéCç›˜è·¯å¾„ï¼‰<br />åŸºäºWSL2å®‰è£…dockeråï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šå‘ç°å¤§é‡çš„dockeré•œåƒæ–‡ä»¶ï¼Œä½¿ç³»ç»ŸCç›˜å®¹é‡æ¿€å¢ï¼Œå¯¹ç”µè„‘åç»­ä½¿ç”¨é€ æˆä¸ä¾¿ï¼Œæ‰€ä»¥éœ€è¦åœ¨å®‰è£…çš„æ—¶å€™ï¼Œæ‰‹åŠ¨ä¿®æ”¹dockerçš„é•œåƒåœ°å€ï¼Œä½¿å¾—é•œåƒæ–‡ä»¶ä¿å­˜åˆ°å¦å¤–çš„éç³»ç»Ÿç›˜ä¸­ã€‚<br /><img src="383486-20240823104424706-999894212.png" alt="image" /></p><p>æœ€æ–°çš„windowsæä¾›äº†æ–°çš„è™šæ‹ŸåŒ–æŠ€æœ¯ï¼ˆWSL/WSL2ï¼‰ï¼Œæ‰€ä»¥è®¾ç½®é¡µé¢ä¸èƒ½é•œåƒçš„å­˜å‚¨ä½ç½®è¿›è¡Œä¿®æ”¹äº†ã€‚</p><h4 id="ä¿®æ”¹æ–¹æ¡ˆ"><a class="markdownIt-Anchor" href="#ä¿®æ”¹æ–¹æ¡ˆ"></a> ä¿®æ”¹æ–¹æ¡ˆ</h4><p>é€€å‡ºDocker Desktop</p><h4 id="step-01-cmd-æŸ¥çœ‹wslåº”ç”¨"><a class="markdownIt-Anchor" href="#step-01-cmd-æŸ¥çœ‹wslåº”ç”¨"></a> step 01 cmd æŸ¥çœ‹WSLåº”ç”¨</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --list -v</span><br></pre></td></tr></table></figure><p>ç¡®ä¿æ‰€æœ‰wslåº”ç”¨éƒ½åœæ­¢<br /><img src="383486-20240823104439916-867659365.png" alt="image" /></p><h4 id="step-02-å¯¼å‡ºdockeré•œåƒæ–‡ä»¶"><a class="markdownIt-Anchor" href="#step-02-å¯¼å‡ºdockeré•œåƒæ–‡ä»¶"></a> step 02 å¯¼å‡ºdockeré•œåƒæ–‡ä»¶</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wsl --export docker-desktop-data &quot;D:\docker\docker-desktop-data.tar&quot;</span><br><span class="line">wsl --export docker-desktop &quot;D:\docker\docker-desktop.tar&quot;</span><br></pre></td></tr></table></figure><h4 id="step-03-æ³¨é”€docker-desktop-data-docker-desktop"><a class="markdownIt-Anchor" href="#step-03-æ³¨é”€docker-desktop-data-docker-desktop"></a> step 03 æ³¨é”€docker-desktop-dataã€docker-desktop</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wsl --unregister docker-desktop-data</span><br><span class="line">wsl --unregister docker-desktop</span><br></pre></td></tr></table></figure><h4 id="step-04-æŒ‡å®šæ–‡ä»¶å¤¹é‡æ–°å¯¼å…¥"><a class="markdownIt-Anchor" href="#step-04-æŒ‡å®šæ–‡ä»¶å¤¹é‡æ–°å¯¼å…¥"></a> step 04 æŒ‡å®šæ–‡ä»¶å¤¹é‡æ–°å¯¼å…¥</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wsl --import docker-desktop-data D:\docker\data &quot;D:\docker\docker-desktop-data.tar&quot; --version 2</span><br><span class="line">wsl --import docker-desktop D:\docker\desktop &quot;D:\docker\docker-desktop.tar&quot; --version 2</span><br></pre></td></tr></table></figure><h4 id="step-05-é‡å¯docker"><a class="markdownIt-Anchor" href="#step-05-é‡å¯docker"></a> step 05 é‡å¯Docker</h4><h3 id="2é…ç½®dockeré˜¿é‡Œé•œåƒä»“åº“"><a class="markdownIt-Anchor" href="#2é…ç½®dockeré˜¿é‡Œé•œåƒä»“åº“"></a> 2.é…ç½®dockeré˜¿é‡Œé•œåƒä»“åº“</h3><pre><code>&quot;registry-mirrors&quot;: [    &quot;https://r32otmli.mirror.aliyuncs.com&quot;  ]</code></pre><p><img src="383486-20240823103412875-760451404.png" alt="image" /></p><h2 id="å››-å®‰è£…åå›¾ç‰‡å±•ç¤º"><a class="markdownIt-Anchor" href="#å››-å®‰è£…åå›¾ç‰‡å±•ç¤º"></a> å››ã€å®‰è£…åå›¾ç‰‡å±•ç¤º</h2><p><img src="383486-20240823103427125-280064765.png" alt="image" /></p><p>æœ¬æ–‡ä½œè€…ï¼šjory</p><p>æœ¬æ–‡é“¾æ¥ï¼š<a href="https://www.cnblogs.com/jory/p/18375482">https://www.cnblogs.com/jory/p/18375482</a></p><p>ç‰ˆæƒå£°æ˜ï¼šæœ¬ä½œå“é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 2.5 ä¸­å›½å¤§é™†è®¸å¯åè®®è¿›è¡Œè®¸å¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è™šæ‹ŸåŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qtä¸­æ‰‹åŠ¨é…ç½®MSVC2017ç¯å¢ƒ</title>
      <link href="/2025/02/06/Qt/Qt%E4%B8%AD%E6%89%8B%E5%8A%A8%E9%85%8D%E7%BD%AEMSVC2017%E7%8E%AF%E5%A2%83/"/>
      <url>/2025/02/06/Qt/Qt%E4%B8%AD%E6%89%8B%E5%8A%A8%E9%85%8D%E7%BD%AEMSVC2017%E7%8E%AF%E5%A2%83/</url>
      
        <content type="html"><![CDATA[<h3 id="1-å®‰è£…msvc2017"><a class="markdownIt-Anchor" href="#1-å®‰è£…msvc2017"></a> 1. å®‰è£…MSVC2017</h3><p>é¦–å…ˆå®‰è£…VS2017ï¼ˆè¿‡ç¨‹ç•¥ï¼‰</p><h3 id="2-å®‰è£…qt-5142"><a class="markdownIt-Anchor" href="#2-å®‰è£…qt-5142"></a> 2. å®‰è£…Qt 5.14.2</h3><p>ä¸‹è½½Qt 5.14.2ï¼Œç‚¹å‡»å®‰è£…åŒ…ï¼Œå‹¾é€‰MSVC 2017 64-bitã€MinGW 7.3.0 64-bitï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥è¿›è¡Œå®‰è£…ã€‚<br /><img src="9aa5b29506314228b3e66586aa36f95f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="3-é€šè¿‡visual-studioå®‰è£…msvc2017ç¼–è¯‘å™¨ä»¥åŠwindow10-sdkå·¥å…·"><a class="markdownIt-Anchor" href="#3-é€šè¿‡visual-studioå®‰è£…msvc2017ç¼–è¯‘å™¨ä»¥åŠwindow10-sdkå·¥å…·"></a> 3. é€šè¿‡Visual Studioå®‰è£…MSVC2017ç¼–è¯‘å™¨ä»¥åŠwindow10 SDKå·¥å…·</h3><ul><li><p><strong>1ï¼‰ä¸‹è½½Visual studio 2022å®‰è£…åŒ…ï¼š</strong><a href="https://visualstudio.microsoft.com/zh-hans/downloads/">ä¸‹è½½åœ°å€</a></p><p>å‹¾é€‰C<ins>æ¡Œé¢å¼€å‘ä»¥åŠWindows 10 SDKã€MSVC 2017 C</ins>ï¼Œç„¶åä¸‹ä¸€æ­¥å¼€å§‹å®‰è£…ã€‚<br /><img src="ab0b03c183014571bdf7196cbfd36730.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li><li><p><strong>2ï¼‰é…ç½®Windows10è°ƒè¯•å·¥å…·åŒ…ï¼š</strong><br />åœ¨åº”ç”¨ç¨‹åºä¸­æ‰¾åˆ°Windows kit<br /><img src="ed2d19ff308b4f85bb2e5ed7438de395.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />å³é”®æ›´æ”¹ï¼Œå†ç‚¹å‡»Repairï¼Œå°†å›¾ä¸­çš„é€‰é¡¹å‹¾é€‰<br /><img src="0b906899a7974c56bda9a9f873e9e317.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />é…ç½®æˆåŠŸåé€€å‡ºï¼Œå¹¶é‡å¯qtcreatorã€‚</p></li><li><p><strong>3ï¼‰åœ¨qtcreatorä¸­é…ç½®msvc2017ç¼–è¯‘å™¨ï¼š</strong><br />æŒ‰ç…§ä¸Šé¢æ­¥éª¤å®‰è£…å®Œæˆåï¼Œè¿›å…¥åˆ°qtcreatoré…ç½®Kitç•Œé¢ï¼Œä¼šå‘ç°æ–°å¢åŠ äº†ç¼–è¯‘å™¨ï¼š<br /><img src="e13906c00ecb4afe967e243af8048cbc.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ç‚¹å‡»å³è¾¹æ·»åŠ æŒ‰é’®ï¼Œå†ç‚¹å‡»MSVCï¼Œé€‰æ‹©C++ï¼š<br /><img src="4ac985d386bb4bc39460bdff6fe95b5f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>æ–°å»ºä¸€ä¸ªMSVCï¼Œä¾æ¬¡é…ç½®ç›¸å…³å‚æ•°ï¼Œä¸‹å›¾ä¸­çº¢è‰²æ–¹æ¡†ä¸­å‚æ•°ä¸ºï¼š</p><blockquote><p>64ä½ç³»ç»Ÿ SDKç‰ˆæœ¬å· -vcvars_ver= MSVCç‰ˆæœ¬å·<br />æ­¤å¤„ä¸ºx64 10.0.20348.0 -vcvars_ver=14.16<br />ä»¥ä¸Šç‰ˆæœ¬å·å…¨éƒ¨å¯ä»¥åœ¨ç¬¬äºŒæ­¥çš„å®‰è£…å·¥å…·ä¸­æŸ¥åˆ°</p></blockquote><p><img src="bcd5e82d2cf84db7ab73125e1db2b3c7.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />é…ç½®å®Œæˆåç‚¹å‡»åº”ç”¨ï¼Œç„¶åé€‰æ‹©æ„å»ºå¥—ä»¶(Kit)é€‰é¡¹ç•Œé¢ï¼š<br />ç‚¹å‡»ä¸‹å›¾ä¸­çš„åºå·1ï¼Œç„¶ååœ¨ç¬¬äºŒä¸ªçº¢è‰²æ–¹æ¡†ä¸­é€‰æ‹©ä¸Šä¸€æ­¥é…ç½®å¥½çš„MSVCç¼–è¯‘å™¨ï¼Œæœ€åç‚¹å‡»åº”ç”¨ï¼ŒMSVC2017æ‰‹åŠ¨é…ç½®å®Œæˆã€‚<br /><img src="4bdc2380f1994ce7b6280de71b0d15c5.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />MSVC2017æ‰‹åŠ¨é…ç½®å®Œæˆåï¼Œé‡æ–°æ„å»ºé¡¹ç›®ï¼Œé€‰æ‹©MSVC2017 debugè¿è¡Œå³å¯.</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VS </tag>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QT5æ„å»ºå¥—ä»¶æ£€æµ‹ä¸åˆ°MSVC2017è§£å†³æ–¹æ³•</title>
      <link href="/2025/02/06/Qt/QT5%E6%9E%84%E5%BB%BA%E5%A5%97%E4%BB%B6%E6%A3%80%E6%B5%8B%E4%B8%8D%E5%88%B0MSVC2017%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/"/>
      <url>/2025/02/06/Qt/QT5%E6%9E%84%E5%BB%BA%E5%A5%97%E4%BB%B6%E6%A3%80%E6%B5%8B%E4%B8%8D%E5%88%B0MSVC2017%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h2><p>è®°å½•ä¸€ä¸‹ QT5æ„å»ºå¥—ä»¶æ£€æµ‹ä¸åˆ° MSVC2017 è§£å†³æ–¹æ³• ã€‚<code>Qt Creator + MSVCå¼€å‘ç¯å¢ƒæ­å»ºï¼ˆQt Creator é›†æˆå·¥å…· + MSVCç¼–è¯‘ï¼‰</code></p><hr /><h2 id="ä¸€-æœ¬åœ°ç¯å¢ƒ"><a class="markdownIt-Anchor" href="#ä¸€-æœ¬åœ°ç¯å¢ƒ"></a> ä¸€ã€æœ¬åœ°ç¯å¢ƒ</h2><ul><li>ç”µè„‘æ“ä½œç³»ç»Ÿï¼šWin11</li><li>Qt ç‰ˆæœ¬ï¼šQt 5.14.2</li></ul><h2 id="äºŒ-ç°è±¡"><a class="markdownIt-Anchor" href="#äºŒ-ç°è±¡"></a> äºŒã€ç°è±¡</h2><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒMSVC2017 32bit å’Œ MSVC2017 64bit çš„å‰é¢éƒ½æœ‰ä¸€ä¸ªé»„è‰²çš„æ„Ÿå¹å·<br /><img src="b25acd5884fa872219193d31e704f451.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>å°†é¼ æ ‡ç§»è‡³é»„è‰²æ„Ÿå¹å·çš„ä½ç½®ï¼Œå¯ä»¥çœ‹åˆ°è­¦å‘Šä¿¡æ¯ä¸ºï¼šå·¥å…·åŒ…ä¸­æ²¡æœ‰è®¾ç½®ç¼–è¯‘å™¨<br /><img src="ce3328e98016e5233123aaf832139470.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h2 id="ä¸‰-è§£å†³åŠæ³•"><a class="markdownIt-Anchor" href="#ä¸‰-è§£å†³åŠæ³•"></a> ä¸‰ã€è§£å†³åŠæ³•</h2><p>1ã€æ‰“å¼€ Visual Studio Installer<br /><img src="9a5cc61a944c3e8dc651c15996676c35.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />2ã€ç‚¹å‡»ä¿®æ”¹<br /><img src="4e3963337e2ce560c14b4bb6bc490a9f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />3ã€é€‰æ‹©å•ä¸ªç»„ä»¶ï¼Œå‹¾é€‰ <code>MSVC v141-VS 2017 C++ x64/x86 Spectre ç¼“è§£åº“(v14.16)</code> å’Œ <code>MSVC v141-VS2017 C++ x64/x86ç”Ÿæˆå·¥å…·(v14.16)</code>ï¼Œé€‰æ‹©ä¿®æ”¹<br /><img src="19122b58869c72786d78f464b1264f6c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />4ã€å®‰è£… msvc è°ƒè¯•å™¨<br />ä¸‹è½½åœ°å€ï¼š<a href="https://download.microsoft.com/download/4/2/2/42245968-6A79-4DA7-A5FB-08C0AD0AE661/windowssdk/winsdksetup.exe">https://download.microsoft.com/download/4/2/2/42245968-6A79-4DA7-A5FB-08C0AD0AE661/windowssdk/winsdksetup.exe</a></p><p>ç›´æ¥å…¨éƒ¨ä¸‹ä¸€æ­¥å°±å¥½äº†ï¼Œç­‰å¾…å®‰è£…å®Œæˆâ€¦ï¼ˆ<strong>æ­¤è¿‡ç¨‹ä¸èƒ½æ–­ç½‘</strong>ï¼‰<br /><img src="564b56305c78f2d2990d676b4ecf4fee.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />5ã€æ‰“å¼€ Qt Creatorï¼Œé€‰æ‹© <code>å·¥å…·-&gt;é€‰é¡¹</code><br /><img src="e729b710df90c26f924c757cd0dbad63.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />â‘ ã€æ·»åŠ  msvc2017 32bit ç¼–è¯‘å™¨<br />Kit -&gt; ç¼–è¯‘å™¨ -&gt; æ·»åŠ  -&gt; MSVC -&gt; C++</p><ul><li>åç§°ï¼šMicrosoft Visual C++ Compiler MSVC2017_32</li><li>åˆå§‹åŒ–ï¼šD:\VS2022\VC\Auxiliary\Build\vcvarsall.bat<code>ï¼ˆè¿™ä¸ªå’Œä½ çš„å®‰è£…è·¯å¾„æœ‰å…³ç³»ï¼‰</code> å’Œ x86</li><li>ABIï¼šè‡ªå®šä¹‰ã€x86ã€windowsã€msvc2017ã€peã€32bit</li></ul><p>ç‚¹å‡» Applyã€‚</p><p>ç»§ç»­æ·»åŠ </p><p>â‘¡ã€æ·»åŠ  msvc2017 64bit ç¼–è¯‘å™¨<br />Kit -&gt; ç¼–è¯‘å™¨ -&gt; æ·»åŠ </p><ul><li>åç§°ï¼šMicrosoft Visual C++ Compiler MSVC2017_64</li><li>åˆå§‹åŒ–ï¼šD:\VS2022\VC\Auxiliary\Build\vcvarsall.bat<code>ï¼ˆè¿™ä¸ªå’Œä½ çš„å®‰è£…è·¯å¾„æœ‰å…³ç³»ï¼‰</code> å’Œ x86_amd64</li><li>ABIï¼šè‡ªå®šä¹‰ã€x86ã€windowsã€msvc2017ã€peã€64bit</li></ul><p>ç‚¹å‡» Apply<br /><img src="491ae4d7b0d00587578469452f2b3938.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />6ã€ç‚¹å¼€ Debuggers<br />ç¡®è®¤ä¸€ä¸‹å­˜åœ¨ä¸‹å›¾çº¢æ¡†å†…è¿™ä¸¤ä¸ª<br /><img src="4acf3c57b45c38dc7d6ada309c1a1753.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />7ã€é…ç½® kits å†… MSVC2017 32bit å’Œ 64bit<br />ç‚¹ MSVC2017 32 bitï¼Œä¿®æ”¹ C++ å’Œ Debuggerï¼Œå†ç‚¹å‡» Apply<br /><img src="d370c535ce704306a77105d721531f16.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ç‚¹ MSVC2017 64 bitï¼Œä¿®æ”¹ C++ å’Œ Debuggerï¼Œå†ç‚¹å‡» Apply<br /><img src="888d3c9ebee53e781456fe41d8d6fa0f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>8ã€åˆ›å»ºé¡¹ç›®<br />åˆ›å»ºçš„æ—¶å€™ï¼Œè®°å¾—é€‰ MSVC 2017<br /><img src="f3f8f2398956fc0ddf9b7ba9efc6ebf6.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ç¼–è¯‘è¿è¡ŒæˆåŠŸ<br /><img src="6f420023c28caec97e00950db444fbac.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VS </tag>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windowsæ­å»ºDocker+K8s</title>
      <link href="/2025/01/24/kubernetes/Windows%E6%90%AD%E5%BB%BADocker+K8s/"/>
      <url>/2025/01/24/kubernetes/Windows%E6%90%AD%E5%BB%BADocker+K8s/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¿®æ”¹-docker-desktop-çš„é»˜è®¤å®‰è£…è·¯å¾„optional"><a class="markdownIt-Anchor" href="#ä¿®æ”¹-docker-desktop-çš„é»˜è®¤å®‰è£…è·¯å¾„optional"></a> ä¿®æ”¹ Docker Desktop çš„é»˜è®¤å®‰è£…è·¯å¾„ï¼ˆOptionalï¼‰</h2><ul><li>ç¡®ä¿ <code>C:\Program Files</code> è·¯å¾„ä¸­æ²¡æœ‰ <code>Docker</code> æ–‡ä»¶å¤¹</li><li>åœ¨æƒ³è¦çš„å®‰è£…è·¯å¾„ä¸­æ–°å»º <code>Docker</code> æ–‡ä»¶å¤¹</li><li>ç®¡ç†å‘˜æ¨¡å¼æ‰“å¼€ Windows Terminal</li><li>åˆ›å»ºç›®å½•é“¾æ¥ï¼Œå…¶ä¸­ <code>F:\Docker</code> ä¸ºæƒ³è¦å®‰è£…çš„ä½ç½®</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mklink /j &quot;C:\Program Files\Docker&quot; &quot;F:\Docker&quot;</span><br></pre></td></tr></table></figure><ul><li>ä¸‹è½½å¹¶è¿è¡Œå®‰è£…åŒ…</li><li>å®‰è£…å®Œæˆåï¼Œå¯ä»¥å‘ç° C ç›˜å ç”¨æ²¡æœ‰å‘ç”Ÿå˜åŒ–</li></ul><h2 id="å®‰è£…docker-desktop"><a class="markdownIt-Anchor" href="#å®‰è£…docker-desktop"></a> å®‰è£…Docker Desktop</h2><p>ä»å®˜ç½‘ä¸‹è½½ï¼Œç„¶åç›´æ¥å®‰è£…å³å¯ï¼Œè¿‡ç¨‹å¾ˆç®€å•ï¼Œä¸€ç›´Nextå°±è¡Œã€‚</p><p>æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„å°±æ˜¯è¦çœ‹å¥½å¯¹åº”çš„ç‰ˆæœ¬ï¼Œå› ä¸ºåè¾¹æ¶‰åŠåˆ°ç‰ˆæœ¬çš„é—®é¢˜ã€‚</p><p><a href="https://www.docker.com/products/docker-desktop">https://www.docker.com/products/docker-desktop</a></p><p>å®‰è£…å®Œæˆï¼ŒåŒå‡»å›¾æ ‡ï¼Œæ‰“å¼€æ¡Œé¢ç¨‹åºï¼Œå°±å¯ä»¥çœ‹åˆ°å·¦ä¸‹è§’æœ‰ä¸€ä¸ªç»¿è‰²çš„é²¸é±¼æ ‡è¯†ï¼Œæ³¨æ„ï¼Œè¿™ä¸ªæ—¶å€™åªæœ‰ä¸€ä¸ªï¼š</p><p><img src="25f999589a3468fcfcaf8d18f900f5f7.png" alt="" /></p><p><img src="b7049175ecf74a547f73a00205ff2fc7.png" alt="" /></p><p>ä¸­é—´çš„æ‰“é©¬èµ›å…‹çš„é»˜è®¤ä¹Ÿæ˜¯æ²¡æœ‰çš„ï¼Œè¿™æ˜¯æˆ‘å·²ç»å®‰è£…å¥½çš„ã€‚</p><h2 id="ä¿®æ”¹æœ¬åœ°é•œåƒçš„å­˜å‚¨ä½ç½®optional"><a class="markdownIt-Anchor" href="#ä¿®æ”¹æœ¬åœ°é•œåƒçš„å­˜å‚¨ä½ç½®optional"></a> ä¿®æ”¹æœ¬åœ°é•œåƒçš„å­˜å‚¨ä½ç½®ï¼ˆOptionalï¼‰</h2><p>åŸå­˜å‚¨è·¯å¾„ï¼š<code>C:\Users\GCH\AppData\Local\Docker\wsl</code></p><p><img src="0554d5d96a567fcd86f550d4e5e0f79c.png" alt="" /></p><p>1ã€åœæ­¢è¿è¡Œä¸­çš„å®¹å™¨<br />æŸ¥è¯¢æ˜¯å¦æœ‰è¿è¡Œä¸­çš„å®¹å™¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure><p>2ã€å³é”®å›¾æ ‡ï¼Œç‚¹å‡» <code>Quit Docker Desktop</code>ï¼Œé€€å‡º <code>Docker Desktop</code><br />Docker Desktop å®‰è£…äº†ä¸¤ä¸ªç‰¹æ®Šç”¨é€”çš„å†…éƒ¨ Linux å‘è¡Œç‰ˆ: <code>docker-desktop</code> å’Œ <code>docker-desktop-data</code>ï¼ˆä¸¤è€…éƒ½ä¸èƒ½ç”¨äºä¸€èˆ¬å¼€å‘ï¼‰</p><ul><li>ç¬¬ä¸€ä¸ªï¼ˆdocker-desktopï¼‰ç”¨äºè¿è¡Œ Docker engine</li><li>ç¬¬äºŒä¸ªï¼ˆdocker-desktop-dataï¼‰ç”¨äºå­˜å‚¨ containers å’Œ images</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># æŸ¥è¯¢ Docker Desktop è¿è¡ŒçŠ¶æ€</span><br><span class="line">wsl -l -v</span><br></pre></td></tr></table></figure><p><img src="39c3ae52994cec409c1f991ea077630f.png" alt="" /></p><p>3ã€å¯¼å‡ºï¼Œæ³¨é”€ï¼Œç„¶åå¯¼å…¥<br />åªè¿ç§» <code>docker-desktop-data</code> å³å¯ï¼Œè‹¥å·²æœ‰çš„ images è¾ƒå¤§ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šè€—ç‚¹æ—¶é—´ã€‚</p><pre><code>wsl --export docker-desktop-data F:\docker-desktop-data.tarwsl --unregister docker-desktop-datawsl --import docker-desktop-data &quot;F:\\docker_images&quot; &quot;F:\\docker-desktop-data.tar&quot; --version 2</code></pre><p><img src="facd9cfda47b9de1d20e01ffec1dbadc.png" alt="" /><br />4ã€é‡æ–°å¯åŠ¨ Docker Desktop<br />5ã€pull ä¸€ä¸ªé•œåƒï¼Œæµ‹è¯•ä¸€ä¸‹<br />æ²¡é—®é¢˜çš„è¯ï¼Œå°±å¯ä»¥æŠŠ docker-desktop-data.tar å‹ç¼©æ–‡ä»¶åˆ æ‰äº†</p><h2 id="é…ç½®é•œåƒåŠ é€Ÿ"><a class="markdownIt-Anchor" href="#é…ç½®é•œåƒåŠ é€Ÿ"></a> é…ç½®é•œåƒåŠ é€Ÿ</h2><p><img src="22b85504c32aacaab0e1f6459c84fa05.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;https://registry.docker-cn.com&quot;,</span><br><span class="line">&quot;http://hub-mirror.c.163.com&quot;,</span><br><span class="line">&quot;https://docker.mirrors.ustc.edu.cn&quot;,</span><br><span class="line">&quot;https://xxxx.mirror.aliyuncs.com&quot; //é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿï¼Œç™»å½•è‡ªå·±çš„é˜¿é‡Œäº‘è´¦å·è·å–</span><br></pre></td></tr></table></figure><p>å®‰è£…å¥½DockeræœåŠ¡å’Œé…ç½®é•œåƒåŠ é€Ÿä»¥åï¼ŒK8sé»˜è®¤æ˜¯å…³é—­çŠ¶æ€çš„ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ‰“å¼€ï¼š<br /><img src="82a2da0bd6c803ca9f424bf007cde56b.png" alt="" /></p><p>è¯·æ³¨æ„ï¼</p><p><code>è¿™ä¸ªæ—¶å€™ä¸è¦è½»æ˜“çš„æ‰“å¼€å®ƒ</code>ï¼Œé™¤éä½ æœ‰VPNï¼Œä¸”ç½‘é€Ÿæ¯”è¾ƒå¥½ã€‚</p><p>å› ä¸ºå¼€å¯K8sï¼Œä¸»è¦æ˜¯å¯åŠ¨å¯¹åº”çš„æœåŠ¡ï¼Œå¤§æ¦‚æœ‰ä¸ƒå…«ä¸ªæœåŠ¡ï¼Œé•œåƒæ˜¯å¾ˆéº»çƒ¦çš„ï¼Œç‰¹åˆ«æ˜¯æ²¡æœ‰é…ç½®æœ¬åœ°åŠ é€Ÿçš„æƒ…å†µä¸‹ï¼ˆåŠ é€Ÿå¯ä»¥ç”¨é˜¿é‡Œäº‘æˆ–è€…ä¸­ç§‘å¤§çš„åœ°å€ï¼Œç™¾åº¦å³å¯ï¼‰ã€‚æ‰€ä»¥éœ€è¦ä»è¿œç¨‹ä»“åº“æŠŠé•œåƒæ‹‰ä¸‹æ¥ï¼Œè¿‡ç¨‹å¾ˆæ…¢ï¼Œå³ä¾¿æˆ‘ç”¨VPNäº†ï¼Œä¹Ÿä¸€ä¸ªå°æ—¶æœªæˆåŠŸï¼Œæ— å¥ˆåªèƒ½é‡è£…ï¼Œæ¢äº†ç¬¬äºŒç§æ–¹æ¡ˆã€‚</p><h2 id="å®‰è£…k8sæœåŠ¡"><a class="markdownIt-Anchor" href="#å®‰è£…k8sæœåŠ¡"></a> å®‰è£…K8sæœåŠ¡</h2><p>ä¸Šè¾¹ç›´æ¥æ‰‹åŠ¨å¯åŠ¨çš„æ–¹å¼å·²ç»æ”¾å¼ƒï¼Œæ¢æˆäº†é˜¿é‡Œçš„æœ¬åœ°é•œåƒï¼š<br /><a href="https://github.com/AliyunContainerService/k8s-for-docker-desktop">https://github.com/AliyunContainerService/k8s-for-docker-desktop</a></p><p>ç›´æ¥cloneä»£ç ï¼Œåˆ‡æ¢åˆ°å½“å‰Docker Desktopå¯¹åº”ç‰ˆæœ¬çš„åˆ†æ”¯ï¼Œç„¶åæ ¹æ®ä»–ä»¬çš„READMEæ“ä½œå³å¯ï¼Œæ¯”è¾ƒç®€å•ï¼Œé•œåƒæ‹‰å–å®Œæˆåï¼Œå°±å¯ä»¥çœ‹åˆ°å¤šäº†ä¸€äº›é•œåƒï¼š<br /><img src="14674957b54cefd333a75e0180d82a7e.png" alt="" /></p><blockquote><p>æ³¨æ„Docker Desktopçš„k8sç‰ˆæœ¬è¦æ±‚ Docker -&gt; About Docker Desktop</p></blockquote><blockquote><p>é˜¿é‡Œäº‘READMEæ“ä½œåœ¨PowerShellï¼Œéƒ½æ˜¯åŸºäºå…‹éš†ä¸‹æ¥çš„ç›®å½•è¿›è¡Œ</p></blockquote><h3 id="æ­¥éª¤"><a class="markdownIt-Anchor" href="#æ­¥éª¤"></a> æ­¥éª¤</h3><h4 id="å…‹éš†ä»£ç "><a class="markdownIt-Anchor" href="#å…‹éš†ä»£ç "></a> å…‹éš†ä»£ç </h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/AliyunContainerService/k8s-for-docker-desktop.git</span><br></pre></td></tr></table></figure><h4 id="åœ¨windowsä¸Šä½¿ç”¨-powershellè¿›æ¥å…‹éš†çš„ä»£ç ç›®å½•"><a class="markdownIt-Anchor" href="#åœ¨windowsä¸Šä½¿ç”¨-powershellè¿›æ¥å…‹éš†çš„ä»£ç ç›®å½•"></a> åœ¨Windowsä¸Šï¼Œä½¿ç”¨ PowerShell,è¿›æ¥å…‹éš†çš„ä»£ç ç›®å½•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\load_images.ps1</span><br></pre></td></tr></table></figure><p>è¯´æ˜:</p><blockquote><p>å¦‚æœå› ä¸ºå®‰å…¨ç­–ç•¥æ— æ³•æ‰§è¡Œ PowerShell è„šæœ¬ï¼Œè¯·åœ¨ â€œä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œâ€ çš„ PowerShell ä¸­æ‰§è¡Œ Set-ExecutionPolicy RemoteSigned å‘½ä»¤ã€‚</p></blockquote><blockquote><p>å¦‚æœéœ€è¦ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹ images.properties æ–‡ä»¶è‡ªè¡ŒåŠ è½½ä½ è‡ªå·±éœ€è¦çš„é•œåƒ<br />å¼€å¯ Kubernetesï¼Œå¹¶ç­‰å¾… Kubernetes å¼€å§‹è¿è¡Œ</p></blockquote><p>å¼€å¯ Kubernetesï¼Œå¹¶ç­‰å¾… Kubernetes å¼€å§‹è¿è¡Œ<br /><img src="af4e6a12d5c387ea90863da12eba7fe7.png" alt="" /></p><h3 id="é…ç½®-kubernetes-æ§åˆ¶å°"><a class="markdownIt-Anchor" href="#é…ç½®-kubernetes-æ§åˆ¶å°"></a> é…ç½® Kubernetes æ§åˆ¶å°</h3><h4 id="éƒ¨ç½²-kubernetes-dashboard"><a class="markdownIt-Anchor" href="#éƒ¨ç½²-kubernetes-dashboard"></a> éƒ¨ç½² Kubernetes dashboard</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f kubernetes-dashboard.yaml</span><br></pre></td></tr></table></figure><p>æ£€æŸ¥ kubernetes-dashboard åº”ç”¨çŠ¶æ€</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pod -n kubernetes-dashboard</span><br></pre></td></tr></table></figure><p>å¼€å¯ API Server è®¿é—®ä»£ç†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl proxy</span><br></pre></td></tr></table></figure><p>é€šè¿‡å¦‚ä¸‹ URL è®¿é—® Kubernetes dashboard</p><p><a href="http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy/">http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy/</a></p><h4 id="é…ç½®æ§åˆ¶å°è®¿é—®ä»¤ç‰Œ"><a class="markdownIt-Anchor" href="#é…ç½®æ§åˆ¶å°è®¿é—®ä»¤ç‰Œ"></a> é…ç½®æ§åˆ¶å°è®¿é—®ä»¤ç‰Œ</h4><p>æˆæƒkube-systemé»˜è®¤æœåŠ¡è´¦å·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f kube-system-default.yaml</span><br></pre></td></tr></table></figure><p>å¯¹äºWindowsç¯å¢ƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$TOKEN=((kubectl -n kube-system describe secret default | Select-String &quot;token:&quot;) -split &quot; +&quot;)[1]</span><br><span class="line">kubectl config set-credentials docker-desktop --token=&quot;$&#123;TOKEN&#125;&quot;</span><br><span class="line">echo $TOKEN</span><br></pre></td></tr></table></figure><p>ç™»å½•dashboardçš„æ—¶å€™</p><p>é€‰æ‹© ä»¤ç‰Œ</p><p><img src="3c6750c6430e8753178f5730455c5f4a.png" alt="" /></p><p>è¾“å…¥ä¸Šæ–‡æ§åˆ¶å°è¾“å‡ºçš„å†…å®¹</p><p>æˆ–è€…é€‰æ‹© Kubeconfig æ–‡ä»¶,è·¯å¾„å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Win: %UserProfile%\.kube\config</span><br></pre></td></tr></table></figure><p>ç‚¹å‡»ç™»é™†ï¼Œè¿›å…¥Kubernetes Dashboard</p><p>å‚è€ƒï¼š<a href="https://www.bilibili.com/video/BV1m5411J7Q6?p=1&amp;vd_source=10332ffe931de86faa42900544751c8c">https://www.bilibili.com/video/BV1m5411J7Q6?p=1&amp;vd_source=10332ffe931de86faa42900544751c8c</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> kubernetes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>K8sçš„èµ„æºç»„ä»¶ä»‹ç»</title>
      <link href="/2025/01/24/kubernetes/K8s%E7%9A%84%E8%B5%84%E6%BA%90%E7%BB%84%E4%BB%B6%E4%BB%8B%E7%BB%8D/"/>
      <url>/2025/01/24/kubernetes/K8s%E7%9A%84%E8%B5%84%E6%BA%90%E7%BB%84%E4%BB%B6%E4%BB%8B%E7%BB%8D/</url>
      
        <content type="html"><![CDATA[<h3 id="å¼•è¨€"><a class="markdownIt-Anchor" href="#å¼•è¨€"></a> å¼•è¨€</h3><p>è¿™ç¯‡é‡ç‚¹ä»‹ç»K8sçš„èµ„æºç»„ä»¶å’Œç›¸å…³é…ç½®ä½¿ç”¨ã€‚</p><h3 id="1-node-pod"><a class="markdownIt-Anchor" href="#1-node-pod"></a> 1. Node &amp; Pod</h3><p>Node:</p><blockquote><p>æ˜¯ Pod çœŸæ­£è¿è¡Œçš„ä¸»æœºï¼Œå¯ä»¥æ˜¯ç‰©ç†æœºï¼Œä¹Ÿå¯ä»¥æ˜¯è™šæ‹Ÿæœºã€‚ä¸ºäº†ç®¡ç† Podï¼Œæ¯ä¸ª Node èŠ‚ç‚¹ä¸Šè‡³å°‘è¦è¿è¡Œ container runtimeï¼ˆæ¯”å¦‚ docker, rkt, containerdï¼‰ã€kubelet å’Œ kube-proxy æœåŠ¡ã€‚</p></blockquote><p>Pod:</p><blockquote><p>æ˜¯ä¸€ç»„ç´§å¯†å…³è”çš„å®¹å™¨é›†åˆï¼ˆä¹Ÿå¯ä»¥æ˜¯å•ä¸ªå®¹å™¨ï¼‰ï¼Œå®ƒä»¬å…±äº« IPCï¼ˆè¿›ç¨‹é—´é€šä¿¡ï¼‰ ï¼Œ Network namespace å’Œ æ–‡ä»¶å­˜å‚¨ï¼ˆéœ€æŒ‚è½½åˆ°å®¹å™¨ï¼‰ï¼Œæ˜¯ Kubernetes è°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚</p></blockquote><p>Nodeå’ŒPodçš„å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br /><img src="2b44838f9ab8efe32c10e73cb7435198.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ä¸Šå›¾ä¸­çš„Nodeä¸­å…±æœ‰4ä¸ªPodï¼Œåˆ†åˆ«ä¸ºï¼š<br /><img src="4d9ecc5065378073c8e79119b1879536.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="2-namespaces"><a class="markdownIt-Anchor" href="#2-namespaces"></a> 2. Namespaces</h3><blockquote><p>æ˜¯å¯¹ä¸€ç»„èµ„æºå’Œå¯¹è±¡çš„æŠ½è±¡é›†åˆï¼Œç›¸å½“äºç»™k8sç³»ç»Ÿå†…éƒ¨çš„å¯¹è±¡åˆ’åˆ†ä¸€äº›å‘½åç©ºé—´ã€‚å¸¸è§çš„ pods, services, replication controllers å’Œ deployments ç­‰éƒ½æ˜¯å±äºæŸä¸€ä¸ª namespace çš„ï¼ˆé»˜è®¤æ˜¯ defaultï¼‰ã€‚</p></blockquote><p>åˆ›å»ºå‘½åç©ºé—´çš„é…ç½®ç¤ºä¾‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Namespace</span>  <span class="comment"># è¡¨ç¤ºè¦åˆ›å»ºçš„èµ„æºç±»å‹ä¸ºå‘½åç©ºé—´</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">test</span>     <span class="comment"># å‘½åç©ºé—´åç§°ä¸ºtest</span></span><br></pre></td></tr></table></figure><blockquote><p>å‘½åç©ºé—´çš„ä½¿ç”¨åˆ™æ˜¯é€šè¿‡Podæˆ–Serviceä¸­çš„<code>metadata.namespace</code>å­—æ®µæ¥å£°æ˜ã€‚</p></blockquote><h3 id="3-service"><a class="markdownIt-Anchor" href="#3-service"></a> 3. Service</h3><blockquote><p>æ˜¯åº”ç”¨æœåŠ¡çš„æŠ½è±¡ï¼Œä¸ºåº”ç”¨æä¾›è´Ÿè½½å‡è¡¡å’ŒæœåŠ¡å‘ç°ã€‚å®ƒé€šè¿‡å°†å¤šä¸ª Pod IP å’Œç«¯å£åˆ—è¡¨ç»„æˆ endpointsï¼Œç”± kube-proxy è´Ÿè´£å°†æœåŠ¡ IP è´Ÿè½½å‡è¡¡åˆ°è¿™äº› endpoints ä¸Šã€‚</p></blockquote><blockquote><p>æ¯ä¸ª Service éƒ½ä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ª cluster IPï¼ˆä»…åœ¨é›†ç¾¤å†…éƒ¨å¯è®¿é—®çš„è™šæ‹Ÿåœ°å€ï¼‰å’Œ DNS åï¼Œå…¶ä»–å®¹å™¨å¯ä»¥é€šè¿‡è¯¥åœ°å€æˆ– DNS æ¥è®¿é—®æœåŠ¡ï¼Œè€Œä¸éœ€è¦äº†è§£åç«¯å®¹å™¨çš„è¿è¡Œã€‚</p></blockquote><p>Serviceæ¨¡å‹å¦‚ä¸‹æ‰€ç¤ºï¼š<br /><img src="213e2f88e59c46de3a9ebbc3fb05d85d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />åˆ›å»ºServiceçš„é…ç½®ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">kind:</span> <span class="string">Service</span>               <span class="comment"># åˆ›å»ºçš„èµ„æºç±»å‹ä¸ºæœåŠ¡</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">metadata:</span>                   <span class="comment"># èµ„æºçš„å…ƒæ•°æ®</span></span><br><span class="line">  <span class="attr">name:</span> &#123;&#123;<span class="string">name</span>&#125;&#125;            <span class="comment"># æœåŠ¡åç§°</span></span><br><span class="line">  <span class="attr">namespace:</span> &#123;&#123;<span class="string">namespace</span>&#125;&#125;  <span class="comment"># æ‰€å±namespace</span></span><br><span class="line"><span class="attr">spec:</span>                       <span class="comment"># æŒ‡å®šæœåŠ¡çš„è§„æ ¼ï¼ŒåŒ…æ‹¬é€‰æ‹©å™¨å’Œç«¯å£</span></span><br><span class="line">  <span class="attr">selector:</span>                 <span class="comment"># ç”¨äºæŒ‡å®šæœåŠ¡æ‰€é€‰æ‹©çš„Podçš„æ ‡ç­¾</span></span><br><span class="line">    <span class="attr">k8s-app:</span> &#123;&#123;<span class="string">name</span>&#125;&#125;       <span class="comment"># é€‰æ‹©å…·æœ‰æ ‡ç­¾k8s-appä¸”å€¼ä¸ºå ä½ç¬¦&#123;&#123;name&#125;&#125;çš„Pod</span></span><br><span class="line">  <span class="attr">ports:</span>                    <span class="comment"># æŒ‡å®šæœåŠ¡çš„ç«¯å£æ˜ å°„è§„åˆ™</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">serviceport</span>       <span class="comment"># å®šä¹‰äº†ä¸€ä¸ªåä¸ºserviceportçš„ç«¯å£æ˜ å°„ï¼Œå°†å®¹å™¨å†…çš„8081ç«¯å£æ˜ å°„åˆ°æœåŠ¡çš„ç«¯å£8081ä¸Š</span></span><br><span class="line">    <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">8081</span>              <span class="comment"># æœåŠ¡å¯¹å¤–å¼€æ”¾çš„è®¿é—®ç«¯å£</span></span><br><span class="line">    <span class="attr">targetPort:</span> <span class="number">8081</span>        <span class="comment"># å®¹å™¨å†…ç«¯å£</span></span><br></pre></td></tr></table></figure><h3 id="4-ingress"><a class="markdownIt-Anchor" href="#4-ingress"></a> 4. Ingress</h3><blockquote><p>ä¸ºè¿›å…¥é›†ç¾¤çš„è¯·æ±‚æä¾›è·¯ç”±è§„åˆ™çš„é›†åˆï¼Œç±»ä¼¼äºåå‘ä»£ç†Nginxçš„ä½œç”¨ï¼Œå®ƒå¯ä»¥æŒ‰è§„åˆ™å°†è¯·æ±‚è·¯ç”±åˆ°å…·ä½“çš„Serviceä¸Šã€‚</p></blockquote><p>Ingressæ¨¡å‹å¦‚ä¸‹å›¾ç¤ºä¾‹ï¼š<br /><img src="4a0a654f7207e40ba4b505e3554579af.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />åˆ›å»ºIngressçš„é…ç½®è§„åˆ™ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">extensions/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Ingress</span>              <span class="comment"># åˆ›å»ºçš„èµ„æºç±»å‹ä¸ºIngress</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">test</span></span><br><span class="line"><span class="attr">spec:</span>                      <span class="comment"># æŒ‡å®šIngressçš„è§„æ ¼ï¼ŒåŒ…æ‹¬è§„åˆ™ï¼ˆrules)</span></span><br><span class="line">  <span class="attr">rules:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">host:</span> <span class="string">foo.bar.com</span>      <span class="comment"># è¯·æ±‚çš„ä¸»æœºåï¼Œä¼šç”¨äºRequestä¸­çš„Hostå¤´è¿‡æ»¤</span></span><br><span class="line">    <span class="attr">http:</span>                  <span class="comment"># ä½¿ç”¨httpåè®®</span></span><br><span class="line">      <span class="attr">paths:</span>               <span class="comment"># è¯·æ±‚è·¯å¾„é…ç½®</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">backend:</span>           <span class="comment"># æŒ‡å®šè¦è¯·æ±‚çš„åç«¯æœåŠ¡</span></span><br><span class="line">          <span class="attr">serviceName:</span> <span class="string">s1</span>  <span class="comment"># åç«¯æœåŠ¡åç§°</span></span><br><span class="line">          <span class="attr">servicePort:</span> <span class="number">80</span>  <span class="comment"># åç«¯æœåŠ¡ç«¯å£</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">host:</span> <span class="string">bar.foo.com</span></span><br><span class="line">    <span class="attr">http:</span></span><br><span class="line">      <span class="attr">paths:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">backend:</span></span><br><span class="line">          <span class="attr">serviceName:</span> <span class="string">s2</span></span><br><span class="line">          <span class="attr">servicePort:</span> <span class="number">80</span></span><br></pre></td></tr></table></figure><h3 id="5-deployment"><a class="markdownIt-Anchor" href="#5-deployment"></a> 5. Deployment</h3><blockquote><p>ç”¨äºæ— çŠ¶æ€ Pod éƒ¨ç½²å£°æ˜ï¼Œè¿™äº›Podå¯¹éƒ¨ç½²é¡ºåºæ²¡æœ‰è¦æ±‚ï¼ˆå¦‚nginx)ï¼Œå¯ä»¥å®šä¹‰ Pod çš„å‰¯æœ¬æ•°é‡ï¼Œè°ƒåº¦ç­–ç•¥ç­‰ï¼Œæ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§éƒ¨ç½²æ–¹å¼ï¼Œä¸€èˆ¬å°† Pod çš„å®šä¹‰å†…ç½®åœ¨ Deployment ä¸­ã€‚</p></blockquote><p>Deploymentçš„é…ç½®è§„åˆ™ç¤ºä¾‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span>          <span class="comment"># åˆ›å»ºçš„èµ„æºç±»å‹ä¸ºDeployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> &#123;&#123;<span class="string">name</span>&#125;&#125;</span><br><span class="line">  <span class="attr">namespace:</span> &#123;&#123;<span class="string">namespace</span>&#125;&#125;</span><br><span class="line"><span class="attr">spec:</span>                     <span class="comment"># Deploymentçš„è§„æ ¼ï¼ŒåŒ…æ‹¬å‰¯æœ¬æ•°ï¼ˆreplicasï¼‰ã€é€‰æ‹©å™¨ï¼ˆselectorï¼‰ã€æ¨¡æ¿ï¼ˆtemplateï¼‰ç­‰ã€‚</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">2</span>             <span class="comment"># åˆ›å»º2ä¸ªpodå‰¯æœ¬</span></span><br><span class="line">  <span class="attr">selector:</span>               <span class="comment"># é€‰æ‹©Podçš„æ¡ä»¶é…ç½® </span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">k8s-app:</span> &#123;&#123;<span class="string">name</span>&#125;&#125;   <span class="comment"># é€‰æ‹©å…·æœ‰æ ‡ç­¾k8s-appä¸”å€¼ä¸ºå ä½ç¬¦&#123;&#123;name&#125;&#125;çš„Pod</span></span><br><span class="line">  <span class="attr">template:</span>               <span class="comment"># ç”¨äºå®šä¹‰Podçš„æ¨¡æ¿</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span>             <span class="comment"># è®¾ç½®Podçš„æ ‡ç­¾</span></span><br><span class="line">        <span class="attr">k8s-app:</span> &#123;&#123;<span class="string">name</span>&#125;&#125;</span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">terminationGracePeriodSeconds:</span> <span class="number">10</span>  <span class="comment"># Podçš„ä¼˜é›…ç»ˆæ­¢æœŸé™ä¸º10ç§’</span></span><br><span class="line">      <span class="attr">nodeSelector:</span></span><br><span class="line">        <span class="attr">k8s-meeting:</span> <span class="literal">true</span> <span class="comment"># æŒ‰éœ€è°ƒæ•´</span></span><br><span class="line">      <span class="attr">volumes:</span>    <span class="comment"># å®šä¹‰äº†ä¸¤ä¸ªå­˜å‚¨å·logå’Œconf</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">log</span></span><br><span class="line">        <span class="attr">hostPath:</span> <span class="comment"># ä½¿ç”¨ä¸»æœºç£ç›˜è·¯å¾„/var/log/quanshi/&#123;&#123;name&#125;&#125;è¿›è¡ŒæŒ‚è½½ï¼Œ ç±»å‹ä¸ºç›®å½•æˆ–åˆ›å»ºç›®å½•</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">/var/log/quanshi/&#123;&#123;name&#125;&#125;</span></span><br><span class="line">          <span class="attr">type:</span> <span class="string">DirectoryOrCreate</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">conf</span></span><br><span class="line">        <span class="attr">configMap:</span>        <span class="comment"># ä½¿ç”¨åç§°ä¸º&#123;&#123;name&#125;&#125;çš„ConfigMapé…ç½®æ•°æ®è¿›è¡ŒæŒ‚è½½</span></span><br><span class="line">          <span class="attr">name:</span> &#123;&#123;<span class="string">name</span>&#125;&#125;</span><br><span class="line">      <span class="attr">containers:</span>         <span class="comment"># å®¹å™¨å®šä¹‰ï¼Œåç§°å’Œé•œåƒå‡ä½¿ç”¨å ä½ç¬¦è¡¨ç¤º</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> &#123;&#123;<span class="string">name</span>&#125;&#125;    <span class="comment"># å®¹å™¨åç§°</span></span><br><span class="line">        <span class="attr">image:</span> &#123;&#123;<span class="string">image</span>&#125;&#125;  <span class="comment"># å®¹å™¨ä½¿ç”¨çš„é•œåƒåç§°</span></span><br><span class="line">        <span class="attr">env:</span>              <span class="comment"># æ³¨å…¥åˆ°ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ï¼Œç¨‹åºèƒ½è¯»åˆ°ï¼Œæ¯ä¸ªPodå¯ä»¥ä¸åŒ                 </span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">NODE_IP</span></span><br><span class="line">          <span class="attr">valueFrom:</span></span><br><span class="line">            <span class="attr">fieldRef:</span></span><br><span class="line">              <span class="attr">fieldPath:</span> <span class="string">status.hostIP</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">POD_NAME</span></span><br><span class="line">          <span class="attr">valueFrom:</span></span><br><span class="line">            <span class="attr">fieldRef:</span></span><br><span class="line">              <span class="attr">fieldPath:</span> <span class="string">metadata.name</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">POD_NAMESPACE</span></span><br><span class="line">          <span class="attr">valueFrom:</span></span><br><span class="line">            <span class="attr">fieldRef:</span></span><br><span class="line">              <span class="attr">fieldPath:</span> <span class="string">metadata.namespace</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">POD_IP</span></span><br><span class="line">          <span class="attr">valueFrom:</span></span><br><span class="line">            <span class="attr">fieldRef:</span></span><br><span class="line">              <span class="attr">fieldPath:</span> <span class="string">status.podIP</span></span><br><span class="line">        <span class="attr">resources:</span></span><br><span class="line">          <span class="attr">limits:</span>      <span class="comment"># æŒ‡å®šå®¹å™¨å¯ä»¥ä½¿ç”¨çš„æœ€å¤§èµ„æºç©ºé—´</span></span><br><span class="line">            <span class="attr">cpu:</span> <span class="string">2000m</span>      <span class="comment"># 2ä¸ªCPUæ ¸å¿ƒ</span></span><br><span class="line">            <span class="attr">memory:</span> <span class="string">4000Mi</span>  <span class="comment"># 4000Mi=4GB</span></span><br><span class="line">          <span class="attr">requests:</span>    <span class="comment"># è¡¨ç¤ºå®¹å™¨éƒ¨ç½²éœ€è¦çš„æœ€å°èµ„æº</span></span><br><span class="line">            <span class="attr">cpu:</span> <span class="string">100m</span>       <span class="comment"># å ç”¨ä¸€ä¸ªCPUæ ¸å¿ƒçš„1/10, 1C=1000m</span></span><br><span class="line">            <span class="attr">memory:</span> <span class="string">150Mi</span>   <span class="comment"># 150MB</span></span><br><span class="line">        <span class="attr">securityContext:</span>    <span class="comment"># å®¹å™¨ç‰¹æƒé…ç½®ï¼Œæœ‰ä¸€äº›ç‰¹æ®Šçš„åœºæ™¯éœ€è¦é…ç½®ï¼Œä¾‹å¦‚syslog</span></span><br><span class="line">          <span class="attr">privileged:</span> <span class="literal">false</span></span><br><span class="line">        <span class="attr">volumeMounts:</span>       <span class="comment"># æŒ‡å®šå®¹å™¨ä¸­çš„æŒ‚è½½å·å’ŒæŒ‚è½½è·¯å¾„</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">log</span>         <span class="comment"># å·logï¼ˆä¸Šé¢æœ‰æŒ‡å®šï¼‰æŒ‚è½½åˆ°å®¹å™¨çš„/var/log/quanshiç›®å½•ä¸‹</span></span><br><span class="line">          <span class="attr">mountPath:</span> <span class="string">/var/log/quanshi</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">conf</span>        <span class="comment"># å·confï¼ˆä¸Šé¢æœ‰æŒ‡å®šï¼‰æŒ‚è½½åˆ°å®¹å™¨çš„/mnt/confç›®å½•ä¸‹</span></span><br><span class="line">          <span class="attr">mountPath:</span> <span class="string">/mnt/conf</span></span><br></pre></td></tr></table></figure><h3 id="6-statefulset"><a class="markdownIt-Anchor" href="#6-statefulset"></a> 6. StatefulSet</h3><p>ä¸ºäº†è§£å†³æœ‰çŠ¶æ€æœåŠ¡çš„éƒ¨ç½²é—®é¢˜ï¼Œèƒ½åšåˆ°æœ‰åºéƒ¨ç½²ï¼Œæœ‰åºæ‰©å±•ï¼Œå³ Pod æ˜¯æœ‰é¡ºåºçš„ã€‚åœ¨éƒ¨ç½²æˆ–è€…æ‰©å±•çš„æ—¶å€™è¦ä¾æ®å®šä¹‰çš„é¡ºåºä¾æ¬¡ä¾åºè¿›è¡Œï¼ˆå³ä» 0 åˆ° N-1ï¼Œåœ¨ä¸‹ä¸€ä¸ª Pod è¿è¡Œä¹‹å‰æ‰€æœ‰ä¹‹å‰çš„ Pod å¿…é¡»éƒ½æ˜¯ Running å’Œ Ready çŠ¶æ€ï¼‰ã€‚</p><p>å…¸å‹åœºæ™¯æœ‰ï¼š</p><blockquote><ul><li>æ•°æ®åº“éƒ¨ç½²ï¼ˆå¦‚<code>MySQL</code>ï¼‰ï¼Œæ¯ä¸ªPodéƒ½æœ‰ä¸€ä¸ªç¨³å®šçš„ç½‘ç»œæ ‡è¯†å’Œå”¯ä¸€çš„æŒä¹…åŒ–å­˜å‚¨å·ï¼Œå¯ä»¥ç¡®ä¿æ•°æ®çš„æŒä¹…æ€§å’Œä¸€è‡´æ€§ï¼›</li><li>æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå¦‚<code>Kafka</code>ï¼‰æ¯ä¸ªPodéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ç½‘ç»œæ ‡è¯†å’ŒæŒä¹…åŒ–å­˜å‚¨å·ï¼Œç¡®ä¿æ¶ˆæ¯çš„å¯é æ€§å’ŒæŒä¹…åŒ–å­˜å‚¨ï¼›</li><li>åˆ†å¸ƒå¼ç¼“å­˜ï¼ˆå¦‚<code>Redis</code>)ï¼Œæ¯ä¸ªPodéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ç½‘ç»œæ ‡è¯†å’ŒæŒä¹…åŒ–å­˜å‚¨å·ï¼Œå¯ä»¥ç¡®ä¿ç¼“å­˜æ•°æ®çš„å¯é æ€§å’Œä¸€è‡´æ€§ã€‚</li></ul></blockquote><p>åˆ›å»ºStatefulSetçš„é…ç½®ç¤ºä¾‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span>            <span class="comment"># å…ˆå®šä¹‰ä¸€ä¸ªServiceï¼Œä¾›ä¸‹æ–‡çš„StatefulSetä½¿ç”¨</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">web</span></span><br><span class="line">  <span class="attr">clusterIP:</span> <span class="string">None</span>  <span class="comment"># Noneè¡¨ç¤ºä¸åˆ†é…é›†ç¾¤IP</span></span><br><span class="line">  <span class="attr">selector:</span>        <span class="comment"># é€‰æ‹©å…·æœ‰æ ‡ç­¾app: nginxçš„Podä¸è¯¥Serviceå…³è”</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">nginx</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">StatefulSet</span>         <span class="comment"># åˆ›å»ºçš„èµ„æºç±»å‹ä¸ºStatefulSet</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">web</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">serviceName:</span> <span class="string">&quot;nginx&quot;</span>    <span class="comment"># æŒ‡å®šStatefulSetå…³è”çš„Serviceåç§°ä¸ºnginx</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">2</span>             <span class="comment"># StatefulSetçš„å‰¯æœ¬æ•°ä¸º2ï¼Œå³åˆ›å»º2ä¸ªPodã€‚</span></span><br><span class="line">  <span class="attr">selector:</span>               </span><br><span class="line">    <span class="attr">matchLabels:</span>          <span class="comment"># é€šè¿‡æ ‡ç­¾é€‰æ‹©å™¨æ¥é€‰æ‹©è¦å…³è”çš„Podã€‚</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">template:</span>               <span class="comment"># StatefulSetåˆ›å»ºPodæ—¶çš„æ¨¡æ¿   </span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span>             <span class="comment"># è®¾ç½®Podçš„æ ‡ç­¾ä¸ºapp: nginx</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span>         <span class="comment"># å®šä¹‰Podä¸­çš„å®¹å™¨åç§°å’Œé•œåƒåç§°</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx</span></span><br></pre></td></tr></table></figure><h3 id="7-daemonset"><a class="markdownIt-Anchor" href="#7-daemonset"></a> 7. DaemonSet</h3><blockquote><p>ä¿è¯åœ¨æ¯å° Node ä¸Šéƒ½è¿è¡Œä¸€ä¸ªå®¹å™¨å®ä¾‹ï¼Œä¾›ä¸»æœºä¸Šçš„æ‰€æœ‰Podå…±ç”¨ã€‚å¸¸ç”¨æ¥éƒ¨ç½²ä¸€äº›é›†ç¾¤çš„æ—¥å¿—ã€ç›‘æ§æˆ–è€…å…¶ä»–ç³»ç»Ÿç®¡ç†åº”ç”¨ï¼Œå¦‚syslog-ng, filebeatç­‰ã€‚</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">DaemonSet</span></span><br></pre></td></tr></table></figure><h3 id="8-configmap"><a class="markdownIt-Anchor" href="#8-configmap"></a> 8. ConfigMap</h3><blockquote><p>ç”¨äºä¿å­˜é…ç½®æ•°æ®çš„é”®å€¼å¯¹ï¼Œå¯ä»¥ç”¨æ¥ä¿å­˜å•ä¸ªå±æ€§ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥ä¿å­˜é…ç½®æ–‡ä»¶ã€‚</p></blockquote><p>å…¸å‹ä½¿ç”¨åœºæ™¯ï¼š</p><blockquote><ol><li>é…ç½®æ³¨å…¥ï¼šå°†åº”ç”¨ç¨‹åºçš„é…ç½®ä¿¡æ¯æ³¨å…¥åˆ°å®¹å™¨ä¸­ã€‚é€šè¿‡å°†ConfigMapæŒ‚è½½åˆ°å®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥è¯»å–ConfigMapä¸­çš„é…ç½®æ•°æ®å¹¶åº”ç”¨åˆ°è¿è¡Œæ—¶ç¯å¢ƒä¸­ã€‚</li><li>åŠ¨æ€é…ç½®æ›´æ–°ï¼šå½“åº”ç”¨ç¨‹åºçš„é…ç½®ä¿¡æ¯å‘ç”Ÿæ›´æ”¹æ—¶ï¼Œå¯ä»¥é€šè¿‡æ›´æ–°ConfigMapæ¥å®ç°åŠ¨æ€é…ç½®æ›´æ–°ã€‚è¿™æ ·ï¼Œæ— éœ€é‡æ–°æ„å»ºå’Œé‡æ–°éƒ¨ç½²åº”ç”¨ç¨‹åºï¼Œå°±å¯ä»¥æ›´æ–°åº”ç”¨ç¨‹åºçš„é…ç½®ã€‚</li><li>ç¯å¢ƒå˜é‡æ³¨å…¥ï¼šé€šè¿‡å°†ConfigMapçš„å€¼è®¾ç½®ä¸ºç¯å¢ƒå˜é‡ï¼Œå¯ä»¥å°†é…ç½®ä¿¡æ¯ä¼ é€’ç»™åº”ç”¨ç¨‹åºä½œä¸ºç¯å¢ƒå˜é‡ã€‚</li><li>å…±äº«é…ç½®ï¼šå¤šä¸ªåº”ç”¨ç¨‹åºå¯ä»¥å…±äº«åŒä¸€ä¸ªConfigMapï¼Œä»¥ä¾¿å®ƒä»¬å¯ä»¥ä½¿ç”¨ç›¸åŒçš„é…ç½®ä¿¡æ¯ã€‚</li></ol></blockquote><p>åˆ›å»ºConfigMapçš„é…ç½®ç¤ºä¾‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ConfigMap</span>             <span class="comment"># åˆ›å»ºçš„èµ„æºç±»å‹ä¸ºConfigMap</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">special-config</span>      <span class="comment"># ConfigMapçš„åç§°ä¸ºspecial-config</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">default</span>        <span class="comment"># ConfigMapæ‰€å±çš„å‘½åç©ºé—´ä¸ºdefault</span></span><br><span class="line"><span class="attr">data:</span></span><br><span class="line">  <span class="attr">special.how:</span> <span class="string">very</span>         <span class="comment"># å®šä¹‰äº†ä¸€ä¸ªé”®å€¼å¯¹ï¼Œé”®ä¸ºspecial.howï¼Œå€¼ä¸ºvery</span></span><br><span class="line">  <span class="attr">special.type:</span> <span class="string">charm</span>       <span class="comment"># å®šä¹‰äº†ä¸€ä¸ªé”®å€¼å¯¹ï¼Œé”®ä¸ºspecial.typeï¼Œå€¼ä¸ºcharmã€‚</span></span><br><span class="line">  <span class="attr">game.properties:</span> <span class="string">|</span>        <span class="comment"># å®šä¹‰äº†ä¸€ä¸ªé”®å€¼å¯¹ï¼Œé”®ä¸ºgame.propertiesï¼Œå€¼ä¸ºå¤šè¡Œæ–‡æœ¬ã€‚</span></span><br><span class="line">    <span class="string">enemies=aliens</span>          <span class="comment"># game.propertieså†…éƒ¨å®šä¹‰ä¸€ä¸ªé…ç½®é¡¹ï¼Œé”®ä¸ºenemiesï¼Œå€¼ä¸ºaliens</span></span><br><span class="line">    <span class="string">lives=3</span></span><br><span class="line">    <span class="string">secret.code.allowed=true</span></span><br><span class="line">    <span class="string">secret.code.lives=30</span>   </span><br><span class="line">  <span class="attr">ui.properties:</span> <span class="string">|</span>           <span class="comment"># å®šä¹‰äº†ä¸€ä¸ªé”®å€¼å¯¹ï¼Œé”®ä¸ºui.propertiesï¼Œå€¼ä¸ºå¤šè¡Œæ–‡æœ¬ã€‚</span></span><br><span class="line">    <span class="string">color.good=purple</span></span><br><span class="line">    <span class="string">color.bad=yellow</span></span><br><span class="line">    <span class="string">allow.textmode=true</span></span><br><span class="line">    <span class="string">how.nice.to.look=fairlyNice</span></span><br></pre></td></tr></table></figure><h3 id="9-hpa"><a class="markdownIt-Anchor" href="#9-hpa"></a> 9. HPA</h3><p>å…¨ç§°ä¸ºHorizontal Pod Autoscalingï¼Œå¯ä»¥æ ¹æ® CPU ä½¿ç”¨ç‡æˆ–åº”ç”¨è‡ªå®šä¹‰ metrics è‡ªåŠ¨æ‰©å±• Pod æ•°é‡ã€‚</p><p>CAï¼ˆCluster AutoScalerï¼‰ç”¨äºæä¾›Nodeçº§æ‰©å®¹ï¼Œæ”¯æŒæ›´é«˜æ•ˆçš„æ‰©ç¼©å®¹ã€‚</p><p>CAå¯ä»¥å’Œ HPAé…åˆä½¿ç”¨ï¼š<br /><img src="43de3d0cbc357c8f28dd95601f4ab798.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kubernetes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ROS2ç®€ä»‹ä¸åŸºæœ¬ä½¿ç”¨</title>
      <link href="/2025/01/24/ROS/ROS2%E7%AE%80%E4%BB%8B%E4%B8%8E%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"/>
      <url>/2025/01/24/ROS/ROS2%E7%AE%80%E4%BB%8B%E4%B8%8E%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="1-ros2-ä»‹ç»ä¸å®‰è£…"><a class="markdownIt-Anchor" href="#1-ros2-ä»‹ç»ä¸å®‰è£…"></a> 1. ROS2 ä»‹ç»ä¸å®‰è£…</h2><h3 id="11-ros2-çš„å†å²"><a class="markdownIt-Anchor" href="#11-ros2-çš„å†å²"></a> 1.1 ROS2 çš„å†å²</h3><ul><li>ROSï¼ˆRobot Operating Systemï¼Œæœºå™¨äººæ“ä½œç³»ç»Ÿï¼‰ï¼Œä½† ROS æœ¬èº«å¹¶ä¸æ˜¯ä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼Œè€Œæ˜¯å¯ä»¥å®‰è£…åœ¨ç°åœ¨å·²æœ‰çš„æ“ä½œç³»ç»Ÿä¸Šï¼ˆLinuxã€Windowsã€Macï¼‰çš„è½¯ä»¶åº“å’Œå·¥å…·é›†</li><li>ROS å‡ºç”Ÿäº 2007 å¹´ï¼ŒROS çš„å‡ºç°è§£å†³äº†æœºå™¨äººå„ä¸ªç»„ä»¶ä¹‹é—´çš„é€šä¿¡é—®é¢˜ï¼ŒåŒæ—¶åŸºäº ROS å®Œå–„çš„é€šä¿¡æœºåˆ¶ï¼Œè¶Šæ¥è¶Šå¤šçš„ä¼˜ç§€çš„æœºå™¨äººç®—æ³•é›†æˆåˆ°äº† ROS ä¸­æ¥</li><li>ç°åœ¨çš„ ROS åŠŸèƒ½å·²ç»å˜å¾—éå¸¸çš„ä¸°å¯Œå’Œå¼ºå¤§ã€‚ä½†éšç€å¯¹ ROS åŠŸèƒ½ä¸Šè¦æ±‚è¶Šæ¥è¶Šå¤šï¼Œ<strong>ä¸€äº›åŸå§‹çš„æ¶æ„å’Œè®¾è®¡ä¸èƒ½å¤Ÿæ»¡è¶³ç›®å‰çš„ä½¿ç”¨éœ€æ±‚ï¼Œè¿™ä¹Ÿæ˜¯ ROS2 å‡ºç°çš„åŸå› </strong></li></ul><h4 id="111-ros-çš„ä½œç”¨"><a class="markdownIt-Anchor" href="#111-ros-çš„ä½œç”¨"></a> 1.1.1 ROS çš„ä½œç”¨</h4><ul><li>åšä¸€ä¸ªæœºå™¨äººéœ€è¦æ¶‰åŠåˆ°å¤šä¸ªéƒ¨åˆ†ï¼Œè€Œä¸”è¿™äº›éƒ¨åˆ†ä¹‹é—´è¿˜è¦è¿›è¡Œé€šä¿¡ï¼Œå¦‚æœæƒ³è¦æ•´ä¸ªæœºå™¨äººå¯ä»¥è·‘èµ·æ¥ï¼Œé‚£ä¹ˆå¿…é¡»è¦æœ‰ä¸€ä¸ªä¸œè¥¿å°†ä¸‹é¢çš„å‡ ä¸ªéƒ¨åˆ†åˆç†çš„è¿æ¥åˆ°ä¸€èµ·ï¼Œè¿™ä¸ªä¸œè¥¿å°±æ˜¯ ROS<ul><li>æ„ŸçŸ¥éƒ¨åˆ†ï¼šæ¿€å…‰é›·è¾¾ã€æ·±åº¦ç›¸æœºã€IMUã€é‡Œç¨‹è®¡ã€ç¢°æ’æ„ŸçŸ¥ã€å»ºå›¾</li><li>å†³ç­–éƒ¨åˆ†ï¼šè·¯å¾„è§„åˆ’ï¼ˆnavigationï¼‰ç®—æ³•ã€å®šä½ç®—æ³•</li><li>æ§åˆ¶éƒ¨åˆ†ï¼šè½®å­é©±åŠ¨</li></ul></li></ul><h4 id="112-ä¸ºä»€ä¹ˆéœ€è¦-ros2"><a class="markdownIt-Anchor" href="#112-ä¸ºä»€ä¹ˆéœ€è¦-ros2"></a> 1.1.2 ä¸ºä»€ä¹ˆéœ€è¦ ROS2</h4><ul><li>2007 å¹´ ROS å¼€å‘äººå‘˜è®¾è®¡å’Œåˆ¶ä½œ ROS æ—¶ï¼Œå½“æ—¶åªæƒ³ç€ç®€åŒ–æœºå™¨äººçš„å¼€å‘ï¼Œå¹¶æ²¡æœ‰æƒ³åˆ°è¿‡ä»Šå¤©é‚£ä¹ˆå¤šçš„åŠŸèƒ½éœ€æ±‚ï¼Œæ¯”å¦‚<strong>å•†ä¸šåŒ–è¦æ±‚çš„ç¨³å®šæ€§ã€ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€å¤šæœºååŒã€æ•°æ®åŠ å¯†</strong>ç­‰</li><li>ROS å‘å±•çš„åå‡ å¹´é‡Œï¼Œæœºå™¨äººå¯¹ ROS çš„åŠŸèƒ½è¦æ±‚è¶Šæ¥è¶Šå¤šï¼ŒROS å¼€å‘äººå‘˜åªèƒ½åœ¨åŸæœ‰çš„ ROS ä¸Šä¿®ä¿®è¡¥è¡¥ã€‚éšç€ ROS ä¸æ–­çš„æ·»åŠ æ–°åŠŸèƒ½ï¼Œ<strong>ROS å˜å¾—è¶Šæ¥è¶Šè‡ƒè‚¿</strong>ï¼Œç¥–ä¼ ä»£ç ä¹Ÿè¶Šæ¥è¶Šå¤šã€‚ROS å¼€å‘äººå‘˜å‘ç°åœ¨åŸæœ‰çš„ ROS æ¶æ„ä¸Šä¿®ä¿®è¡¥è¡¥ååˆ†æ¶ˆè€—å¤´å‘ï¼Œäºæ˜¯ ROS å®˜æ–¹é‡æ–°è®¾è®¡åˆ¶ä½œäº† ROS2</li></ul><h4 id="113-ros2-ç‰ˆæœ¬å¯¹ç…§è¡¨"><a class="markdownIt-Anchor" href="#113-ros2-ç‰ˆæœ¬å¯¹ç…§è¡¨"></a> 1.1.3 ROS2 ç‰ˆæœ¬å¯¹ç…§è¡¨</h4><ul><li>ROS2 æ˜¯åœ¨ ROS çš„åŸºç¡€ä¸Šè®¾è®¡å¼€å‘çš„ç¬¬äºŒä»£æœºå™¨äººæ“ä½œç³»ç»Ÿï¼Œå¯ç®€åŒ–æœºå™¨äººå¼€å‘ä»»åŠ¡ï¼ŒåŠ é€Ÿæœºå™¨äººè½åœ°çš„è½¯ä»¶åº“å’Œå·¥å…·é›†<br /><img src="3ca4d9399b3e53e675dbfd863d98611c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></li></ul><h3 id="12-ros-å’Œ-ros2-å¯¹æ¯”"><a class="markdownIt-Anchor" href="#12-ros-å’Œ-ros2-å¯¹æ¯”"></a> 1.2 ROS å’Œ ROS2 å¯¹æ¯”</h3><h4 id="121-ros-å­˜åœ¨çš„é—®é¢˜"><a class="markdownIt-Anchor" href="#121-ros-å­˜åœ¨çš„é—®é¢˜"></a> 1.2.1 ROS å­˜åœ¨çš„é—®é¢˜</h4><ul><li>ROS çš„è®¾è®¡ç›®æ ‡æ˜¯ç®€åŒ–æœºå™¨äººçš„å¼€å‘ï¼ŒROS ä¸ºæ­¤è®¾è®¡äº†ä¸€æ•´å¥—é€šä¿¡æœºåˆ¶ï¼ˆè¯é¢˜ã€æœåŠ¡ã€å‚æ•°ã€åŠ¨ä½œï¼‰<ul><li>é€šè¿‡è¿™äº›é€šä¿¡æœºåˆ¶ï¼ŒROS å®ç°äº†å°†æœºå™¨äººçš„å„ä¸ªç»„ä»¶ç»™çš„è¿æ¥èµ·æ¥ï¼Œåœ¨è®¾è®¡è¿™å¥—é€šä¿¡æœºåˆ¶çš„æ—¶å€™å°±è®¾è®¡äº†ä¸€ä¸ªå«åš ROS Master çš„ä¸œè¥¿ï¼Œæ‰€æœ‰èŠ‚ç‚¹ï¼ˆå¯ä»¥ç†è§£ä¸ºæŸä¸€ä¸ªç»„ä»¶ï¼Œæ¯”å¦‚ï¼šæ¿€å…‰é›·è¾¾ï¼‰çš„é€šä¿¡å»ºç«‹å¿…é¡»ç»è¿‡è¿™ä¸ªä¸»èŠ‚ç‚¹</li><li><strong>ä¸€æ—¦ ROS Master ä¸»èŠ‚ç‚¹æŒ‚æ‰åï¼Œå°±ä¼šé€ æˆæ•´ä¸ªç³»ç»Ÿé€šä¿¡çš„å¼‚å¸¸</strong>ï¼ŒROS çš„ä¸ç¨³å®šè¿™ä¸ªé—®é¢˜ï¼Œå¦‚æœæ˜¯æƒ³åŸºäº ROS åšå•†ä¸šåŒ–æœºå™¨äººï¼ˆæ¯”å¦‚æ— äººé©¾é©¶æ±½è½¦ï¼‰ï¼Œå°±ä¼šé€ æˆéå¸¸ä¸¥é‡çš„åæœ</li><li><strong>ROS è¿˜å­˜åœ¨ä»¥ä¸‹é—®é¢˜</strong>ï¼š1ã€é€šä¿¡åŸºäº TCP å®ç°ï¼Œå®æ—¶æ€§å·®ã€ç³»ç»Ÿå¼€é”€å¤§ï¼›2ã€å¯¹ Python3 æ”¯æŒä¸å‹å¥½ï¼Œéœ€è¦é‡æ–°ç¼–è¯‘ï¼›3ã€æ¶ˆæ¯æœºåˆ¶ä¸å…¼å®¹ï¼›4ã€æ²¡æœ‰åŠ å¯†æœºåˆ¶ã€å®‰å…¨æ€§ä¸é«˜<br /><img src="018c84e7bcde71ed77d1a2311b2c64b8.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></li></ul></li></ul><blockquote><p><strong>ç½‘ç»œä¼ è¾“å¯é æ€§å¯¹æ¯”</strong></p><ul><li>ROS1 æ˜¯åŸºäº TCP/IP æ„å»ºçš„ï¼ŒTCP/IP å¾ˆéš¾åœ¨æ— çº¿é€šä¿¡ä¸­ä¼ è¾“æ•°æ®ï¼Œå› ä¸ºä¸­æ–­å¯èƒ½ä¼šå¯¼è‡´å›é€€ã€é‡ä¼ å’Œå»¶è¿Ÿ<br />ROS2 ä¸­çš„ DDS ä½¿ç”¨ UDP ä¼ é€æ•°æ®ï¼Œä¸ä¼šå°è¯•é‡æ–°ä¼ è¾“æ•°æ®ï¼Œç›¸åï¼ŒDDS å†³å®šåœ¨ä¸å¯é çš„æ¡ä»¶ä¸‹ä½•æ—¶ä»¥åŠå¦‚ä½•é‡æ–°ä¼ è¾“ï¼ŒDDS å¼•å…¥äº†æœåŠ¡è´¨é‡ (QoS) æ¥å…¬å¼€è¿™äº›è®¾ç½®ï¼Œä»¥ä¼˜åŒ–å¯ç”¨å¸¦å®½å’Œå»¶è¿Ÿ</li></ul></blockquote><h4 id="122-ros-ä¸-ros2-æ¶æ„å¯¹æ¯”"><a class="markdownIt-Anchor" href="#122-ros-ä¸-ros2-æ¶æ„å¯¹æ¯”"></a> 1.2.2 ROS ä¸ ROS2 æ¶æ„å¯¹æ¯”</h4><ul><li><strong>OS å±‚</strong><ul><li>ROSï¼šåªæ”¯æŒ linux å¹³å°</li><li>ROS2ï¼šæ”¯æŒ windowsã€mac ç”šè‡³æ˜¯åµŒå…¥å¼ RTOS å¹³å°</li></ul></li><li><strong>ä¸­é—´ä»¶å±‚</strong>ï¼ˆä¸­é—´ä»¶å°±æ˜¯ä»‹äºæŸä¸¤ä¸ªæˆ–è€…å¤šä¸ªèŠ‚ç‚¹ä¸­é—´çš„ç»„ä»¶ï¼Œæä¾›å¤šä¸ªèŠ‚ç‚¹é—´é€šä¿¡ç”¨çš„ï¼‰<ul><li><strong>å»ä¸­å¿ƒåŒ– master</strong>ï¼šROS å’Œ ROS2 ä¸­é—´ä»¶ä¸åŒä¹‹å¤„åœ¨äºï¼ŒROS2 å–æ¶ˆäº† master èŠ‚ç‚¹ï¼Œå»ä¸­å¿ƒåŒ–åï¼Œå„ä¸ªèŠ‚ç‚¹ä¹‹é—´å¯ä»¥é€šè¿‡ DDS çš„èŠ‚ç‚¹ç›¸äº’å‘ç°ï¼Œå„ä¸ªèŠ‚ç‚¹éƒ½æ˜¯å¹³ç­‰çš„ï¼Œä¸”å¯ä»¥ 1 å¯¹ 1ã€1 å¯¹ nã€n å¯¹ n è¿›è¡Œäº’ç›¸é€šä¿¡</li><li><strong>ä¸é€ é€šä¿¡çš„è½®å­</strong>ï¼šé€šä¿¡ç›´æ¥æ›´æ¢ä¸º DDS è¿›è¡Œå®ç°ï¼Œé‡‡ç”¨ DDS é€šä¿¡ï¼Œä½¿å¾— ROS2 çš„å®æ—¶æ€§ã€å¯é æ€§å’Œè¿ç»­æ€§ä¸Šéƒ½æœ‰äº†å¢å¼º</li></ul></li><li><strong>åº”ç”¨å±‚</strong><ul><li>Python2 åˆ° Python3 çš„æ”¯æŒ</li><li>ç¼–è¯‘ç³»ç»Ÿçš„æ”¹è¿›ï¼ˆcatkin åˆ° amentï¼‰</li><li>C++ æ ‡å‡†æ›´æ–°åˆ° C++11</li><li>å¯ä»¥ä½¿ç”¨ç›¸åŒ API çš„è¿›ç¨‹é—´å’Œè¿›ç¨‹å†…é€šä¿¡<br /><img src="b92654ca47eb9b4ce91a4abe61ef3617.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></li></ul></li></ul><blockquote><p><strong>ä»€ä¹ˆæ˜¯ DDSï¼Ÿ</strong></p><ul><li>DDSï¼ˆData Distribution Serviceï¼Œæ•°æ®åˆ†å‘æœåŠ¡ï¼‰ï¼Œæ˜¯ OMGï¼ˆObject Management Groupï¼Œå¯¹è±¡ç®¡ç†ç»„ç»‡ï¼‰å‘å¸ƒçš„<strong>åˆ†å¸ƒå¼é€šä¿¡è§„èŒƒ/åè®®</strong>ï¼Œé‡‡ç”¨è®¢é˜…å‘å¸ƒæ¨¡å‹ï¼Œ<strong>ä»¥ä¸­é—´ä»¶çš„å½¢å¼æä¾›é€šä¿¡æœåŠ¡</strong>ï¼Œå¹¶æä¾› QoSï¼ˆQuality of Serviceï¼‰ç­–ç•¥ï¼Œä¿éšœæ•°æ®å®æ—¶ã€é«˜æ•ˆã€çµæ´»çš„åˆ†å‘</li><li>DDS åè®®å¤§è‡´æµç¨‹æ˜¯å¤šå¯¹å¤šçš„å•å‘æ•°æ®äº¤äº’ï¼Œ<strong>é€šä¿¡æ¨¡å‹ä¸ºåˆ†å¸ƒå¼ç»“æ„ï¼Œæ²¡æœ‰ä¸­å¿ƒèŠ‚ç‚¹</strong>ï¼ŒåŒä¸€ä¸ªæ•°æ®ç©ºé—´ä»»ä½•ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´éƒ½èƒ½ç›´æ¥é€šä¿¡ï¼ŒDDS é‡‡ç”¨<strong>ä»¥æ•°æ®ä¸ºä¸­å¿ƒçš„å‘å¸ƒ-è®¢é˜…æ¨¡å‹</strong> DCPSï¼ˆData-Centric Publish-Subscribeï¼‰</li><li><a href="https://www.cnblogs.com/tomato-haha/p/17696510.html">åˆ†å¸ƒå¼å®æ—¶é€šä¿¡-DDS æ¦‚è¿°</a><br /><img src="d1004d707e588b1d3228d2e81da2d3a2.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></li></ul></blockquote><h3 id="13-å®‰è£…-ros2"><a class="markdownIt-Anchor" href="#13-å®‰è£…-ros2"></a> 1.3 å®‰è£… ROS2</h3><ul><li><p><strong>ä¸€é”®å®‰è£… ROS2</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">wget</span> http://fishros.com/install <span class="literal">-O</span> fishros &amp;&amp; . fishros</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸è½½</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt remove ros<span class="literal">-galactic-</span>*</span><br><span class="line">sudo apt autoremove</span><br></pre></td></tr></table></figure></li><li><p><strong>å®‰è£…ä½ç½®æŸ¥è¯¢</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /opt/ros/galactic(æ ¹æ®å®‰è£…ç‰ˆæœ¬æ›¿æ¢)/</span><br><span class="line"><span class="built_in">ls</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="14-ros2-åˆä½“éªŒ"><a class="markdownIt-Anchor" href="#14-ros2-åˆä½“éªŒ"></a> 1.4 ROS2 åˆä½“éªŒ</h3><ul><li><p><strong>å¯åŠ¨ä¹Œé¾Ÿæ¨¡æ‹Ÿå™¨èŠ‚ç‚¹</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run turtlesim turtlesim_node</span><br></pre></td></tr></table></figure></li><li><p><strong>å¯åŠ¨ä¹Œé¾Ÿé¥æ§å™¨èŠ‚ç‚¹</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 run turtlesim turtle_teleop_key</span><br></pre></td></tr></table></figure></li></ul><h3 id="15-ros2-ç³»ç»Ÿæ¶æ„"><a class="markdownIt-Anchor" href="#15-ros2-ç³»ç»Ÿæ¶æ„"></a> 1.5 ROS2 ç³»ç»Ÿæ¶æ„</h3><p><img src="0b2e79245f30c44a666dcbb01c285bbe.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="151-æ“ä½œç³»ç»Ÿå±‚"><a class="markdownIt-Anchor" href="#151-æ“ä½œç³»ç»Ÿå±‚"></a> 1.5.1 æ“ä½œç³»ç»Ÿå±‚</h4><ul><li>ROS2 æœ¬èº«å°±æ˜¯åŸºäº Linuxã€Windows æˆ–è€… macOS ç³»ç»Ÿå»ºç«‹çš„ï¼Œé©±åŠ¨è®¡ç®—æœºç¡¬ä»¶ã€åº•å±‚ç½‘ç»œé€šä¿¡ç­‰å®ç°éƒ½æ˜¯äº¤ç”±æ“ä½œç³»ç»Ÿæ¥å®ç°çš„</li></ul><h4 id="152-ddså®ç°å±‚"><a class="markdownIt-Anchor" href="#152-ddså®ç°å±‚"></a> 1.5.2 DDSå®ç°å±‚</h4><ul><li>DDSå® ç°å±‚å…¶å®å°±æ˜¯å¯¹ä¸åŒå¸¸è§çš„ DDS æ¥å£è¿›è¡Œå†æ¬¡çš„å°è£…ï¼Œè®©å…¶ä¿æŒç»Ÿä¸€æ€§ï¼Œä¸º DDS æŠ½è±¡å±‚æä¾›ç»Ÿä¸€çš„ API</li></ul><h4 id="153-æŠ½è±¡-dds-å±‚rmw"><a class="markdownIt-Anchor" href="#153-æŠ½è±¡-dds-å±‚rmw"></a> 1.5.3 æŠ½è±¡ DDS å±‚ï¼ˆRMWï¼‰</h4><ul><li>è¿™ä¸€å±‚å°† DDS å®ç°å±‚è¿›ä¸€æ­¥çš„å°è£…ï¼Œä½¿å¾— DDS æ›´å®¹æ˜“ä½¿ç”¨ï¼šåŸå› åœ¨äº DDS éœ€è¦å¤§é‡çš„è®¾ç½®å’Œé…ç½®ï¼ˆåˆ†åŒºï¼Œä¸»é¢˜åç§°ï¼Œå‘ç°æ¨¡å¼ï¼Œæ¶ˆæ¯åˆ›å»º,â€¦ï¼‰ï¼Œè¿™äº›è®¾ç½®éƒ½æ˜¯åœ¨ ROS2 çš„æŠ½è±¡å±‚ä¸­å®Œæˆçš„</li></ul><h4 id="154-ros2-å®¢æˆ·ç«¯åº“rcl"><a class="markdownIt-Anchor" href="#154-ros2-å®¢æˆ·ç«¯åº“rcl"></a> 1.5.4 ROS2 å®¢æˆ·ç«¯åº“ï¼ˆRCLï¼‰</h4><ul><li>RCLï¼ˆROS Client Libraryï¼ŒROS å®¢æˆ·ç«¯åº“ï¼‰ï¼Œå…¶å®å°±æ˜¯ ROS çš„ä¸€ç§ APIï¼Œæä¾›äº†å¯¹ ROS è¯é¢˜ã€æœåŠ¡ã€å‚æ•°ã€Action ç­‰æ¥å£ï¼Œä¸åŒè¯­è¨€å¯¹åº”ä¸åŒ RCLï¼Œä½†åŸºæœ¬åŠŸèƒ½éƒ½æ˜¯ç›¸åŒçš„<ul><li>Python è¯­è¨€æä¾›äº† rclpy æ¥æ“ä½œ ROS2 çš„èŠ‚ç‚¹è¯é¢˜æœåŠ¡ç­‰</li><li>C++ åˆ™ä½¿ç”¨ rclcpp æä¾› API æ“ä½œ ROS2 çš„èŠ‚ç‚¹è¯é¢˜å’ŒæœåŠ¡ç­‰<br /><img src="ef066483bf4bbe4bb4360fe545c61a79.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></li></ul></li></ul><blockquote><p><strong>GUI å’Œ CLI</strong></p><ul><li>GUIï¼ˆGraphical User Interfaceï¼Œå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼‰ï¼ŒWindows æ˜¯å°±æ˜¯å¯è§†åŒ–çš„ï¼Œé€šè¿‡é¼ æ ‡ç‚¹å‡»æŒ‰é’®ç­‰å›¾å½¢åŒ–äº¤äº’å®Œæˆä»»åŠ¡</li><li>CLIï¼ˆCommand-Line Interfaceï¼Œå‘½ä»¤è¡Œç•Œé¢ï¼‰ï¼Œç»ˆç«¯ï¼ˆé»‘æ¡†æ¡†ï¼‰å°±æ˜¯å‘½ä»¤è¡Œç•Œé¢</li></ul></blockquote><blockquote><p><strong>ä»€ä¹ˆæ˜¯ APIï¼Ÿ</strong></p><ul><li>APIï¼ˆ Application Programming Interfaceï¼Œåº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼‰ï¼Œ<strong>æ¯”å¦‚ä½ å†™äº†ä¸€ä¸ªåº“ï¼Œé‡Œé¢æœ‰å¾ˆå¤šå‡½æ•°</strong>ï¼Œå¦‚æœåˆ«äººè¦ä½¿ç”¨è¿™ä¸ªåº“ï¼Œä½†å¹¶ä¸çŸ¥é“æ¯ä¸ªå‡½æ•°å†…éƒ¨æ˜¯æ€ä¹ˆå®ç°çš„ã€‚ä½¿ç”¨çš„äºº<strong>éœ€è¦çœ‹ä½ çš„æ–‡æ¡£æˆ–è€…æ³¨é‡Š</strong>æ‰çŸ¥é“è¿™ä¸ªå‡½æ•°çš„å…¥å£å‚æ•°å’Œè¿”å›å€¼æˆ–è€…è¿™ä¸ªå‡½æ•°æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ã€‚<strong>å¯¹äºä½¿ç”¨è€…æ¥è¯´æ¥è¯´ï¼Œä½ çš„è¿™äº›å‡½æ•°å°±æ˜¯ API</strong></li><li>API åœ¨ä¸åŒè¯­è¨€ä¸­çš„è¡¨ç°å½¢å¼ä¸åŒï¼Œåœ¨ C/C++ è¡¨ç°ä¸ºå¤´æ–‡ä»¶ï¼Œåœ¨ Python ä¸­è¡¨ç°ä¸º Python æ–‡ä»¶</li></ul></blockquote><h4 id="155-åº”ç”¨å±‚"><a class="markdownIt-Anchor" href="#155-åº”ç”¨å±‚"></a> 1.5.5 åº”ç”¨å±‚</h4><ul><li>åº”ç”¨å±‚å°±æ˜¯å†™ä»£ç ä»¥åŠ ROS2 å¼€å‘çš„å„ç§å¸¸ç”¨çš„æœºå™¨äººç›¸å…³å¼€å‘å·¥å…·æ‰€åœ¨çš„å±‚</li></ul><h3 id="16-ä¸­é—´ä»¶-dds-æ¶æ„"><a class="markdownIt-Anchor" href="#16-ä¸­é—´ä»¶-dds-æ¶æ„"></a> 1.6 ä¸­é—´ä»¶ DDS æ¶æ„</h3><h4 id="161-ä»€ä¹ˆæ˜¯ä¸­é—´ä»¶"><a class="markdownIt-Anchor" href="#161-ä»€ä¹ˆæ˜¯ä¸­é—´ä»¶"></a> 1.6.1 ä»€ä¹ˆæ˜¯ä¸­é—´ä»¶</h4><ul><li><strong>ä¸­é—´ä»¶å°±æ˜¯ä»‹äºæŸä¸¤ä¸ªæˆ–è€…å¤šä¸ªèŠ‚ç‚¹ä¸­é—´çš„ç»„ä»¶ï¼Œå°±æ˜¯æä¾›å¤šä¸ªèŠ‚ç‚¹ä¸­é—´é€šä¿¡ç”¨çš„</strong><ul><li>ä¸­é—´ä»¶æ˜¯ä¸€ç§ç‹¬ç«‹çš„ç³»ç»Ÿè½¯ä»¶æˆ–æœåŠ¡ç¨‹åºï¼Œåˆ†å¸ƒå¼åº”ç”¨è½¯ä»¶å€ŸåŠ©è¿™ç§è½¯ä»¶åœ¨ä¸åŒçš„æŠ€æœ¯ä¹‹é—´å…±äº«èµ„æº</li><li>ä¸­é—´ä»¶ä½äºå®¢æˆ·æœº/æœåŠ¡å™¨çš„æ“ä½œç³»ç»Ÿä¹‹ä¸Šï¼Œç®¡ç†è®¡ç®—æœºèµ„æºå’Œç½‘ç»œé€šè®¯ï¼Œæ˜¯è¿æ¥ä¸¤ä¸ªç‹¬ç«‹åº”ç”¨ç¨‹åºæˆ–ç‹¬ç«‹ç³»ç»Ÿçš„è½¯ä»¶</li></ul></li><li>ROS1 çš„ä¸­é—´ä»¶æ˜¯ ROS ç»„ç»‡è‡ªå·±åŸºäº TCP/UDP æœºåˆ¶å»ºç«‹çš„</li><li>ROS2 é‡‡ç”¨äº†ç¬¬ä¸‰æ–¹çš„ DDS ä½œä¸ºä¸­é—´ä»¶ï¼Œå°†DDSæœåŠ¡æ¥å£è¿›è¡Œäº†ä¸€å±‚æŠ½è±¡ï¼Œä¿è¯äº†ä¸Šå±‚åº”ç”¨å±‚è°ƒç”¨æ¥å£çš„ç»Ÿä¸€æ€§ã€‚åŸºäº DDS çš„äº’ç›¸å‘ç°åè®®ï¼ŒROS2 ç»ˆäºå¹²æ‰äº† ROS1 ä¸­çš„ Master èŠ‚ç‚¹</li></ul><h4 id="162-dds-å’Œ-ros2-æ¶æ„"><a class="markdownIt-Anchor" href="#162-dds-å’Œ-ros2-æ¶æ„"></a> 1.6.2 DDS å’Œ ROS2 æ¶æ„</h4><ul><li>ROS2 ä¸ºæ¯å®¶ DDS ä¾›åº”å•†éƒ½å¼€å‘äº†å¯¹åº”çš„ DDS_Interface å³ DDS æ¥å£å±‚ï¼Œç„¶åé€šè¿‡ DDS Abstract æŠ½è±¡å±‚æ¥ç»Ÿä¸€ DDS çš„ API<br /><img src="47fc2b857fd45ae85f4d08e094a0a438.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></li></ul><h4 id="163-dds-é€šä¿¡æ¨¡å‹"><a class="markdownIt-Anchor" href="#163-dds-é€šä¿¡æ¨¡å‹"></a> 1.6.3 DDS é€šä¿¡æ¨¡å‹</h4><ul><li><p>DDS é€šä¿¡æ¨¡å‹ï¼šå¯ä»¥å®šä¹‰è¯é¢˜çš„æ•°æ®ç»“æ„ï¼ˆç±»ä¼¼äº ROS2 ä¸­çš„æ¥å£ç±»å‹ï¼‰</p><ul><li>Posï¼šä¸€ä¸ªç¼–å· id çš„è½¦çš„ä½ç½® x,y</li><li>DDS çš„å‚ä¸è€…ï¼ˆParticipantï¼‰é€šè¿‡å‘å¸ƒå’Œè®¢é˜…ä¸»é¢˜æ•°æ®è¿›è¡Œé€šä¿¡<br /><img src="c3dca278065385ecb683d39fc7edb3cd.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></li></ul></li><li><p>DDS çš„åº”ç”¨å±‚é€šè¿‡ DDS è¿›è¡Œæ•°æ®è®¢é˜…å‘å¸ƒï¼ŒDDS é€šè¿‡ä¼ è¾“å±‚è¿›è¡Œæ•°æ®çš„æ”¶å‘<br /><img src="757b83c23b44886d96463dae6516131c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p></li></ul><h4 id="164-dds-ä¼˜ç¼ºç‚¹"><a class="markdownIt-Anchor" href="#164-dds-ä¼˜ç¼ºç‚¹"></a> 1.6.4 DDS ä¼˜ç¼ºç‚¹</h4><ul><li><strong>ä¼˜åŠ¿</strong><ul><li><strong>å‘å¸ƒ/è®¢é˜…æ¨¡å‹</strong><ul><li>ç®€å•è§£è€¦ï¼Œå¯ä»¥è½»æ¾å®ç°ç³»ç»Ÿè§£è€¦</li></ul></li><li><strong>æ€§èƒ½</strong><ul><li>åœ¨å‘å¸ƒ/è®¢é˜…æ¨¡å¼ä¸­ï¼Œä¸è¯·æ±‚/å›å¤æ¨¡å¼ç›¸æ¯”ï¼Œå»¶è¿Ÿæ›´ä½ï¼Œååé‡æ›´é«˜</li></ul></li><li><strong>è¿œç¨‹å‚ä¸è€…çš„è‡ªåŠ¨å‘ç°</strong><ul><li>æ­¤æœºåˆ¶æ˜¯ DDS çš„ä¸»è¦åŠŸèƒ½ä¹‹ä¸€ã€‚é€šä¿¡æ˜¯åŒ¿åçš„ã€è§£è€¦çš„ï¼Œå¼€å‘è€…ä¸å¿…æ‹…å¿ƒè¿œç¨‹å‚ä¸è€…çš„æœ¬åœ°åŒ–</li></ul></li><li><strong>ä¸°å¯Œçš„ Qos å‚æ•°é›†</strong><ul><li>å…è®¸è°ƒæ•´é€šä¿¡çš„å„ä¸ªæ–¹é¢ï¼šå¯é æ€§ã€æŒä¹…æ€§ã€å†—ä½™ã€å¯¿å‘½ã€ä¼ è¾“è®¾ç½®ã€èµ„æº</li></ul></li><li><strong>å®æ—¶å‘å¸ƒ/è®¢é˜…åè®® (RTPS)</strong><ul><li>è¯¥åè®®å‡ ä¹å¯ä»¥é€šè¿‡ä»»ä½•ä¼ è¾“å®ç°ï¼Œå…è®¸åœ¨ UDPã€TCPã€å…±äº«å†…å­˜å’Œç”¨æˆ·ä¼ è¾“ä¸­ä½¿ç”¨ DDSï¼Œå¹¶å®ç°ä¸åŒ DDS å®ç°ä¹‹é—´çš„çœŸæ­£äº’æ“ä½œæ€§</li></ul></li></ul></li><li><strong>åŠ£åŠ¿</strong><ul><li>API å¤æ‚ï¼ŒDDS çš„çµæ´»æ€§æ˜¯ä»¥å¤æ‚æ€§ä¸ºä»£ä»·çš„</li><li>ç³»ç»Ÿå¼€é”€ç›¸å¯¹è¾ƒå¤§</li><li>ç¤¾åŒºæ”¯æŒé—®é¢˜ï¼ŒROS2 è¿‘ä¸¤å¹´æ¥ä½¿ç”¨ DDS åç¤¾åŒºè¡¨ç°è¿˜æ˜¯ä¸é”™çš„</li></ul></li></ul><blockquote><p><strong>ä½¿ç”¨ DDS çš„ç†ç”±</strong></p><ul><li>DDS å·²ç»åº”ç”¨åœ¨å†›äº‹ã€æ½œè‰‡å„ä¸ªé¢†åŸŸï¼Œç¨³å®šæ€§ã€å®æ—¶æ€§ç»è¿‡å®é™…æ£€éªŒ</li><li>ä½¿ç”¨ DDS éœ€è¦ç»´æŠ¤çš„ä»£ç è¦å°‘å¾—å¤šï¼Œå¯ä»¥è®© ROS2 å¼€å‘äººå‘˜è…¾å‡ºæ‰‹ä¸“æ³¨æœºå™¨äººå¼€å‘</li><li>DDS æœ‰å®šä¹‰å¥½çš„è¡Œä¸ºå’Œè§„èŒƒå¹¶ä¸”æœ‰å®Œå–„çš„æ–‡æ¡£</li><li>DDS æä¾›äº†æ¨èçš„ç”¨ä¾‹å’Œè½¯ä»¶ APIï¼Œæœ‰è¾ƒå¥½çš„è¯­è¨€æ”¯æŒ</li></ul></blockquote><h2 id="2-ros2-ç¬¬ä¸€ä¸ªèŠ‚ç‚¹"><a class="markdownIt-Anchor" href="#2-ros2-ç¬¬ä¸€ä¸ªèŠ‚ç‚¹"></a> 2. ROS2 ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</h2><h3 id="21-ä½¿ç”¨-cmakelisttxt-ç¼–è¯‘-ros2-çš„èŠ‚ç‚¹"><a class="markdownIt-Anchor" href="#21-ä½¿ç”¨-cmakelisttxt-ç¼–è¯‘-ros2-çš„èŠ‚ç‚¹"></a> 2.1 ä½¿ç”¨ CMakeList.txt ç¼–è¯‘ ROS2 çš„èŠ‚ç‚¹</h3><h4 id="211-åŠ¨æ€é“¾æ¥åº“"><a class="markdownIt-Anchor" href="#211-åŠ¨æ€é“¾æ¥åº“"></a> 2.1.1 åŠ¨æ€é“¾æ¥åº“</h4><ul><li>ç¨‹åºç¼–è¯‘ä¸€èˆ¬éœ€è¦ç»<strong>é¢„å¤„ç†ã€ç¼–è¯‘ã€æ±‡ç¼–å’Œé“¾æ¥</strong>å‡ ä¸ªæ­¥éª¤<ul><li>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæœ‰äº›å…¬å…±ä»£ç éœ€è¦åå¤ä½¿ç”¨ï¼Œå°±æŠŠè¿™äº›ä»£ç ç¼–è¯‘æˆä¸ºâ€œåº“â€æ–‡ä»¶</li><li><strong>é™æ€åº“</strong>ï¼šåœ¨é“¾æ¥æ­¥éª¤ä¸­ï¼Œé“¾æ¥å™¨å°†ä»åº“æ–‡ä»¶å–å¾—æ‰€éœ€çš„ä»£ç ï¼Œå¤åˆ¶åˆ°ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œè¿™ç§åº“ç§°ä¸ºé™æ€ï¼ˆé“¾æ¥ï¼‰åº“ï¼Œå…¶ç‰¹ç‚¹æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ä¸­åŒ…å«äº†åº“ä»£ç çš„ä¸€ä»½å®Œæ•´æ‹·è´ï¼Œç¼ºç‚¹æ˜¯è¢«å¤šæ¬¡ä½¿ç”¨å°±ä¼šå¤šä»½å†—ä½™æ‹·è´</li><li><strong>åŠ¨æ€åº“</strong>ï¼šè¿˜æœ‰ä¸€ç§åº“ï¼Œå°±æ˜¯ç¨‹åºåœ¨å¼€å§‹è¿è¡Œåè°ƒç”¨åº“å‡½æ•°æ—¶æ‰è¢«è½½å…¥ï¼Œè¿™ç§åº“ç‹¬ç«‹äºç°æœ‰çš„ç¨‹åºï¼Œå…¶æœ¬èº«ä¸å¯æ‰§è¡Œï¼Œä½†åŒ…å«ç€ç¨‹åºéœ€è¦è°ƒç”¨çš„ä¸€äº›å‡½æ•°ï¼Œè¿™ç§åº“ç§°ä¸ºåŠ¨æ€ï¼ˆé“¾æ¥ï¼‰åº“ï¼ˆDynamic Link Libraryï¼‰</li><li>åœ¨ widows å¹³å°ä¸‹ï¼Œé™æ€é“¾æ¥åº“æ˜¯ .lib æ–‡ä»¶ï¼ŒåŠ¨æ€åº“æ–‡ä»¶æ˜¯ .dll æ–‡ä»¶ã€‚åœ¨ linux å¹³å°ä¸‹ï¼Œé™æ€é“¾æ¥åº“æ˜¯ .a æ–‡ä»¶ï¼ŒåŠ¨æ€é“¾æ¥åº“æ˜¯ .so æ–‡ä»¶<br /><img src="f70d37186e6315ec4eb031cfea8e72ef.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></li></ul></li></ul><h4 id="212-ç¼–è¯‘-ros2-çš„-c-èŠ‚ç‚¹"><a class="markdownIt-Anchor" href="#212-ç¼–è¯‘-ros2-çš„-c-èŠ‚ç‚¹"></a> 2.1.2 ç¼–è¯‘ ROS2 çš„ C++ èŠ‚ç‚¹</h4><ul><li><p><strong>åˆ›å»ºå·¥ä½œç©ºé—´å¹¶ç¼–å†™èŠ‚ç‚¹</strong></p><ul><li>æ‰“å¼€ç»ˆç«¯ï¼Œåˆ›å»º d2lros2/chapt2/basic å·¥ä½œç©ºé—´ç›®å½•å¹¶ç”¨ VSCode æ‰“å¼€</li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir <span class="literal">-p</span> d2lros2/chapt2/basic</span><br><span class="line">code d2lros2</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨ basic ç›®å½•ä¸‹åˆ›å»º first_ros2_node.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;rclcpp/rclcpp.hpp&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> **argv)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è°ƒç”¨ rclcpp çš„åˆå§‹åŒ–å‡½æ•°</span></span><br><span class="line">    rclcpp::<span class="built_in">init</span>(argc, argv);</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Hello World!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è°ƒç”¨ rclcpp çš„å¾ªç¯è¿è¡Œåˆ›å»ºçš„ first_node èŠ‚ç‚¹</span></span><br><span class="line">    rclcpp::<span class="built_in">spin</span>(std::<span class="built_in">make_shared</span>&lt;rclcpp::Node&gt;(<span class="string">&quot;first_node&quot;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨ basic ç›®å½•ä¸‹åˆ›å»º CMakeList.txt</span></span><br><span class="line">cmake_minimum_required(VERSION 3.16)</span><br><span class="line">project(first_node)</span><br><span class="line"></span><br><span class="line">find_package(rclcpp REQUIRED)</span><br><span class="line">add_executable(first_node first_ros2_node.cpp)</span><br><span class="line">target_link_libraries(first_node rclcpp::rclcpp)</span><br></pre></td></tr></table></figure></li><li><p><strong>ç¼–è¯‘ä¸è¿è¡Œ</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/d2lros2/chapt2/basic</span><br><span class="line">mkdir build</span><br><span class="line"><span class="built_in">cd</span> build</span><br><span class="line">cmake ..</span><br><span class="line">make</span><br><span class="line">./first_node</span><br></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello World!</span><br></pre></td></tr></table></figure></li></ul><h3 id="22-cmake-ä¾èµ–æŸ¥æ‰¾æµç¨‹"><a class="markdownIt-Anchor" href="#22-cmake-ä¾èµ–æŸ¥æ‰¾æµç¨‹"></a> 2.2 CMake ä¾èµ–æŸ¥æ‰¾æµç¨‹</h3><ul><li><p>find_package æŸ¥æ‰¾è·¯å¾„å¯¹åº”çš„ç¯å¢ƒå˜é‡å¦‚ä¸‹</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;package&gt;_DIR</span><br><span class="line">CMAKE_PREFIX_PATH</span><br><span class="line">CMAKE_FRAMEWORK_PATH</span><br><span class="line">CMAKE_APPBUNDLE_PATH</span><br><span class="line">PATH</span><br></pre></td></tr></table></figure></li><li><p>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥æŒ‡ä»¤ echo $PATH</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span></span><br><span class="line">/opt/ros/galactic/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin</span><br></pre></td></tr></table></figure></li><li><p>PATH ä¸­çš„è·¯å¾„å¦‚æœä»¥ bin æˆ– sbin ç»“å°¾ï¼Œåˆ™è‡ªåŠ¨å›é€€åˆ°ä¸Šä¸€çº§ç›®å½•ï¼Œæ¥ç€æ£€æŸ¥è¿™äº›ç›®å½•ä¸‹çš„</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;prefix&gt;/(lib/&lt;arch&gt;|lib|share)/cmake/&lt;name&gt;*/ (U)</span><br><span class="line">&lt;prefix&gt;/(lib/&lt;arch&gt;|lib|share)/&lt;name&gt;*/ (U)</span><br><span class="line">&lt;prefix&gt;/(lib/&lt;arch&gt;|lib|share)/&lt;name&gt;*/(cmake|CMake)/ (U)</span><br></pre></td></tr></table></figure><ul><li>cmake æ‰¾åˆ°è¿™äº›ç›®å½•åï¼Œä¼šå¼€å§‹ä¾æ¬¡æ‰¾ <strong><package>Config.cmake</strong> æˆ– <strong>Find<package>.cmake</strong> æ–‡ä»¶ï¼Œæ‰¾åˆ°åå³å¯æ‰§è¡Œè¯¥æ–‡ä»¶å¹¶ç”Ÿæˆç›¸å…³é“¾æ¥ä¿¡æ¯</li><li>æ‰“å¼€ /opt/ros/humble/share/rclcpp/cmake ä¼šå‘ç° rclcppConfig.cmake å°±åœ¨å…¶ä¸­</li></ul></li></ul><h3 id="23-ros2-èŠ‚ç‚¹ä»‹ç»"><a class="markdownIt-Anchor" href="#23-ros2-èŠ‚ç‚¹ä»‹ç»"></a> 2.3 ROS2 èŠ‚ç‚¹ä»‹ç»</h3><ul><li><p>ROS2 ä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿæ˜¯åªè´Ÿè´£ä¸€ä¸ªå•ç‹¬çš„æ¨¡å—åŒ–çš„åŠŸèƒ½ï¼ˆæ¯”å¦‚ä¸€ä¸ªèŠ‚ç‚¹è´Ÿè´£æ§åˆ¶è½¦è½®è½¬åŠ¨ã€ä¸€ä¸ªèŠ‚ç‚¹è´Ÿè´£ä»æ¿€å…‰é›·è¾¾è·å–æ•°æ®ã€ä¸€ä¸ªèŠ‚ç‚¹è´Ÿè´£å¤„ç†æ¿€å…‰é›·è¾¾çš„æ•°æ®ã€ä¸€ä¸ªèŠ‚ç‚¹è´Ÿè´£å®šä½ç­‰ç­‰ï¼‰</p></li><li><p><strong>ROS2 ä¸€å…±æœ‰å››ç§é€šä¿¡æ–¹å¼å®ç°èŠ‚ç‚¹ä¹‹é—´çš„äº¤äº’</strong></p><ul><li>è¯é¢˜ - topics</li><li>æœåŠ¡ - services</li><li>åŠ¨ä½œ - Action</li><li>å‚æ•° - parameters<br /><img src="475d0478f8c1f255b637322831846016.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></li></ul></li><li><p><strong>ROS2 èŠ‚ç‚¹å¸¸ç”¨æŒ‡ä»¤</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯åŠ¨åŠŸèƒ½åŒ…ä¸‹çš„èŠ‚ç‚¹ï¼Œæ ¼å¼ï¼šros2 run &lt;package_name&gt; &lt;executable_name&gt;</span></span><br><span class="line">ros2 run turtlesim turtlesim_node</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹èŠ‚ç‚¹åˆ—è¡¨</span></span><br><span class="line">ros2 node list</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹èŠ‚ç‚¹ä¿¡æ¯</span></span><br><span class="line">ros2 node info &lt;node_name&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ˜ å°„èŠ‚ç‚¹åç§°</span></span><br><span class="line">ros2 run turtlesim turtlesim_node <span class="literal">--ros-args</span> <span class="literal">--remap</span> __node:=my_turtle</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡ŒèŠ‚ç‚¹æ—¶è®¾ç½®å‚æ•°</span></span><br><span class="line">ros2 run example_parameters_rclcpp parameters_basic <span class="literal">--ros-args</span> <span class="literal">-p</span> rcl_log_level:=<span class="number">10</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="24-ros2-å·¥ä½œç©ºé—´å’ŒåŠŸèƒ½åŒ…"><a class="markdownIt-Anchor" href="#24-ros2-å·¥ä½œç©ºé—´å’ŒåŠŸèƒ½åŒ…"></a> 2.4 ROS2 å·¥ä½œç©ºé—´å’ŒåŠŸèƒ½åŒ…</h3><blockquote><p>ä¸€ä¸ªå·¥ä½œç©ºé—´ä¸‹å¯ä»¥æœ‰å¤šä¸ªåŠŸèƒ½åŒ…ï¼Œä¸€ä¸ªåŠŸèƒ½åŒ…å¯ä»¥æœ‰å¤šä¸ªèŠ‚ç‚¹å­˜åœ¨</p></blockquote><ul><li><p><strong>å·¥ä½œç©ºé—´</strong>æ˜¯åŒ…å«è‹¥å¹²ä¸ªåŠŸèƒ½åŒ…çš„ç›®å½•ï¼Œä¸€å¼€å§‹å¤§å®¶æŠŠå·¥ä½œç©ºé—´ç†è§£æˆä¸€ä¸ªæ–‡ä»¶å¤¹å°±è¡Œäº†ã€‚è¿™ä¸ªæ–‡ä»¶å¤¹åŒ…å«ä¸‹æœ‰ srcï¼Œæ‰€ä»¥ä¸€èˆ¬æ–°å»ºä¸€ä¸ªå·¥ä½œç©ºé—´çš„æ“ä½œå°±åƒä¸‹é¢ä¸€æ ·</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/d2lros2/chapt2/</span><br><span class="line">mkdir <span class="literal">-p</span> chapt2_ws/src</span><br></pre></td></tr></table></figure></li><li><p><strong>åŠŸèƒ½åŒ…</strong>å¯ä»¥ç†è§£ä¸ºå­˜æ”¾èŠ‚ç‚¹çš„åœ°æ–¹ï¼Œ<strong>ROS2 ä¸­åŠŸèƒ½åŒ…æ ¹æ®ç¼–è¯‘æ–¹å¼çš„ä¸åŒåˆ†ä¸ºä¸‰ç§ç±»å‹</strong></p><ul><li>ament_pythonï¼Œé€‚ç”¨äº python ç¨‹åº</li><li>cmakeï¼Œé€‚ç”¨äº C++</li><li>ament_cmakeï¼Œé€‚ç”¨äº C++ ç¨‹åºï¼Œæ˜¯ cmake çš„å¢å¼ºç‰ˆ</li></ul></li><li><p><strong>åŠŸèƒ½åŒ…è·å–çš„ä¸¤ç§æ–¹å¼</strong></p><ul><li><strong>1. å®‰è£…è·å–</strong></li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install ros-&lt;version&gt;<span class="literal">-package_name</span></span><br></pre></td></tr></table></figure><ul><li><strong>2. æ‰‹åŠ¨ç¼–è¯‘è·å–</strong><ul><li>éœ€è¦ä¸‹è½½æºç ç„¶åè¿›è¡Œç¼–è¯‘ç”Ÿæˆç›¸å…³æ–‡ä»¶</li><li>ä¸€èˆ¬èƒ½å®‰è£…çš„åŠŸèƒ½åŒ…éƒ½æ˜¯ä½œè€…ç¼–è¯‘å¥½ç¨‹åºå°†å¯æ‰§è¡Œæ–‡ä»¶ä¸Šä¼ åˆ°ä»“åº“ä¸­ï¼Œç„¶åæ‰èƒ½å¤Ÿé€šè¿‡ apt è¿›è¡Œå®‰è£…ï¼Œå¦‚æœä½œè€…è¿˜æ²¡æ¥å¾—åŠæµ‹è¯•ä¸Šä¼ ï¼Œæˆ–è€…å¿˜è®°äº†æµ‹è¯•ä¸Šä¼ ï¼Œå°±ä¼šæ‰¾ä¸åˆ°å¯¹åº”çš„åŒ…ï¼Œè¿™æ—¶å€™å°±éœ€è¦æ‰‹åŠ¨ç¼–è¯‘å®‰è£…äº†</li><li><strong>æ‰‹åŠ¨ç¼–è¯‘ä¹‹åï¼Œéœ€è¦æ‰‹åŠ¨ source å·¥ä½œç©ºé—´çš„ install ç›®å½•</strong></li></ul></li></ul></li><li><p><strong>ä¸åŠŸèƒ½åŒ…ç›¸å…³çš„æŒ‡ä»¤ ros2 pkg</strong></p><ul><li><strong>åˆ›å»ºåŠŸèƒ½åŒ…</strong></li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 pkg create &lt;package<span class="literal">-name</span>&gt; <span class="literal">--build-type</span> &#123;cmake,ament_cmake,ament_python&#125; <span class="literal">--dependencies</span> &lt;ä¾èµ–åå­—&gt;</span><br></pre></td></tr></table></figure><ul><li><strong>åˆ—å‡ºå¯æ‰§è¡Œæ–‡ä»¶</strong></li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ros2 pkg executables <span class="comment"># åˆ—å‡ºæ‰€æœ‰</span></span><br><span class="line">ros2 pkg executables turtlesim <span class="comment"># åˆ—å‡º turtlesim åŠŸèƒ½åŒ…çš„æ‰€æœ‰å¯æ‰§è¡Œæ–‡ä»¶</span></span><br></pre></td></tr></table></figure><ul><li><strong>åˆ—å‡ºæ‰€æœ‰çš„åŒ…</strong></li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ros2 pkg list</span><br></pre></td></tr></table></figure><ul><li><strong>è¾“å‡ºæŸä¸ªåŒ…æ‰€åœ¨è·¯å¾„çš„å‰ç¼€</strong></li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ros2 pkg prefix &lt;package-name&gt;</span></span><br><span class="line">ros2 pkg prefix turtlesim</span><br></pre></td></tr></table></figure><ul><li><strong>åˆ—å‡ºåŒ…çš„æ¸…å•æè¿°æ–‡ä»¶</strong></li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¯ä¸ªåŠŸèƒ½åŒ…éƒ½æœ‰ä¸€ä¸ªæ ‡é…çš„ manifest.xml æ–‡ä»¶ï¼Œç”¨äºè®°å½•è¿™ä¸ªåŒ…çš„åå­—ã€æ„å»ºå·¥å…·ã€ç¼–è¯‘ä¿¡æ¯ã€æ‹¥æœ‰è€…å’Œä½œç”¨ç­‰ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># é€šè¿‡è¿™ä¸ªä¿¡æ¯ï¼Œå°±å¯ä»¥è‡ªåŠ¨ä¸ºè¯¥åŠŸèƒ½åŒ…å®‰è£…ä¾èµ–ï¼Œæ„å»ºæ—¶ç¡®å®šç¼–è¯‘é¡ºåºç­‰</span></span><br><span class="line">ros2 pkg xml turtlesim</span><br></pre></td></tr></table></figure></li></ul><h3 id="25-ros2-æ„å»ºå·¥å…·ä¹‹-colcon"><a class="markdownIt-Anchor" href="#25-ros2-æ„å»ºå·¥å…·ä¹‹-colcon"></a> 2.5 ROS2 æ„å»ºå·¥å…·ä¹‹ colcon</h3><ul><li><p><strong>ä»€ä¹ˆæ˜¯ colcon</strong></p><ul><li>colcon å…¶å®æ˜¯ä¸€ä¸ªåŠŸèƒ½åŒ…æ„å»ºå·¥å…·ï¼Œç”¨æ¥ç¼–è¯‘ä»£ç çš„ï¼ŒROS2 é»˜è®¤æ˜¯æ²¡æœ‰å®‰è£… colcon çš„ï¼Œ<strong>colcon ç›¸å½“äº ROS1 ä¸­çš„ catkin å·¥å…·</strong></li></ul></li><li><p><strong>å®‰è£… colcon</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt<span class="literal">-get</span> install python3<span class="literal">-colcon-common-extensions</span></span><br></pre></td></tr></table></figure></li><li><p><strong>ç¼–è¯‘æµ‹è¯•</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/d2lros2/chapt2/</span><br><span class="line">mkdir colcon_test_ws &amp;&amp; <span class="built_in">cd</span> colcon_test_ws</span><br></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/ros2/examples src/examples <span class="literal">-b</span> galactic</span><br><span class="line">colcon build</span><br></pre></td></tr></table></figure></li></ul><p><img src="606fa851dca7ce7babffb6210c0e6702.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><blockquote><p>æ„å»ºå®Œæˆåï¼Œåœ¨ src åŒçº§ç›®å½•åº”è¯¥ä¼šçœ‹åˆ° buildã€install å’Œ log ç›®å½•</p><ul><li>build ç›®å½•å­˜å‚¨çš„æ˜¯ä¸­é—´æ–‡ä»¶ï¼Œå¯¹äºæ¯ä¸ªåŒ…ï¼Œå°†åˆ›å»ºä¸€ä¸ªå­æ–‡ä»¶å¤¹ï¼Œåœ¨å…¶ä¸­è°ƒç”¨ä¾‹å¦‚CMake</li><li>install ç›®å½•æ˜¯æ¯ä¸ªè½¯ä»¶åŒ…å°†å®‰è£…åˆ°çš„ä½ç½®ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ªåŒ…éƒ½å°†å®‰è£…åˆ°å•ç‹¬çš„å­ç›®å½•ä¸­</li><li>log ç›®å½•åŒ…å«æœ‰å…³æ¯ä¸ª colcon è°ƒç”¨çš„å„ç§æ—¥å¿—ä¿¡æ¯</li></ul></blockquote><ul><li><p><strong>è¿è¡Œæµ‹è¯•</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿è¡Œä¸€ä¸ªè®¢è€…èŠ‚ç‚¹</span></span><br><span class="line"><span class="built_in">cd</span> ~/d2lros2/chapt2/colcon_test_ws</span><br><span class="line">source install/setup.bash</span><br><span class="line">ros2 run examples_rclcpp_minimal_subscriber subscriber_member_function</span><br></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯ï¼Œå…ˆsourceï¼Œå†è¿è¡Œä¸€ä¸ªå‘è¡Œè€…èŠ‚ç‚¹</span></span><br><span class="line">source install/setup.bash</span><br><span class="line">ros2 run examples_rclcpp_minimal_publisher publisher_member_function</span><br></pre></td></tr></table></figure></li><li><p><strong>æ€»ç»“</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åªç¼–è¯‘ä¸€ä¸ªåŒ…</span></span><br><span class="line">colcon build <span class="literal">--packages-select</span> YOUR_PKG_NAME</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸ç¼–è¯‘æµ‹è¯•å•å…ƒ</span></span><br><span class="line">colcon build <span class="literal">--packages-select</span> YOUR_PKG_NAME <span class="literal">--cmake-args</span> <span class="literal">-DBUILD_TESTING</span>=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡Œç¼–è¯‘çš„åŒ…çš„æµ‹è¯•</span></span><br><span class="line">colcon test</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…è®¸é€šè¿‡æ›´æ”¹ src ä¸‹çš„éƒ¨åˆ†æ–‡ä»¶æ¥æ”¹å˜ install</span></span><br><span class="line">colcon build <span class="literal">--symlink-install</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="26-ä½¿ç”¨-rclcpp-ç¼–å†™èŠ‚ç‚¹"><a class="markdownIt-Anchor" href="#26-ä½¿ç”¨-rclcpp-ç¼–å†™èŠ‚ç‚¹"></a> 2.6 ä½¿ç”¨ RCLCPP ç¼–å†™èŠ‚ç‚¹</h3><ul><li><p><strong>åˆ›å»ºå·¥ä½œç©ºé—´</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/d2lros2/chapt2/</span><br><span class="line">mkdir <span class="literal">-p</span> chapt2_ws/src/</span><br></pre></td></tr></table></figure></li><li><p><strong>åˆ›å»º example_cpp åŠŸèƒ½åŒ…</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> chapt2_ws/src</span><br><span class="line"><span class="comment"># pkg create æ˜¯åˆ›å»ºåŒ…çš„æ„æ€</span></span><br><span class="line"><span class="comment"># --build-type ç”¨æ¥æŒ‡å®šè¯¥åŒ…çš„ç¼–è¯‘ç±»å‹ï¼Œä¸€å…±æœ‰ä¸‰ä¸ªå¯é€‰é¡¹ ament_pythonã€ament_cmakeã€cmake</span></span><br><span class="line"><span class="comment"># --dependencies æŒ‡çš„æ˜¯è¿™ä¸ªåŠŸèƒ½åŒ…çš„ä¾èµ–ï¼Œè¿™é‡Œæ˜¯ ros2 çš„ C++ å®¢æˆ·ç«¯æ¥å£ rclcpp</span></span><br><span class="line">ros2 pkg create example_cpp <span class="literal">--build-type</span> ament_cmake <span class="literal">--dependencies</span> rclcpp</span><br></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">tree <span class="comment"># æŸ¥çœ‹ src ä¸‹çš„ç›®å½•ç»“æ„</span></span><br><span class="line">.</span><br><span class="line">â””â”€â”€ example_cpp</span><br><span class="line">     â”œâ”€â”€ CMakeLists.txt</span><br><span class="line"> â”œâ”€â”€ include</span><br><span class="line"> â”‚ â””â”€â”€ example_cpp</span><br><span class="line"> â”œâ”€â”€ package.xml</span><br><span class="line"> â””â”€â”€ src</span><br><span class="line"> </span><br><span class="line"><span class="number">4</span> directories, <span class="number">2</span> files</span><br></pre></td></tr></table></figure></li><li><p><strong>åˆ›å»ºèŠ‚ç‚¹</strong></p><ul><li>åœ¨ example_cpp/src ä¸‹åˆ›å»ºä¸€ä¸ª node_01.cpp æ–‡ä»¶</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;rclcpp/rclcpp.hpp&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> **argv)</span> </span>&#123;</span><br><span class="line">    <span class="comment">/* åˆå§‹åŒ–rclcpp */</span></span><br><span class="line">    rclcpp::<span class="built_in">init</span>(argc, argv);</span><br><span class="line">    <span class="comment">/*äº§ç”Ÿä¸€ä¸ªnode_01çš„èŠ‚ç‚¹*/</span> <span class="keyword">auto</span> node = std::<span class="built_in">make_shared</span>&lt;rclcpp::Node&gt;(<span class="string">&quot;node_01&quot;</span>);</span><br><span class="line">    <span class="comment">// æ‰“å°ä¸€å¥è‡ªæˆ‘ä»‹ç» RCLCPP_INFO(node-&gt;get_logger(), &quot;node_01èŠ‚ç‚¹å·²ç»å¯åŠ¨.&quot;);</span></span><br><span class="line">    <span class="comment">/* è¿è¡ŒèŠ‚ç‚¹ï¼Œå¹¶æ£€æµ‹é€€å‡ºä¿¡å· Ctrl+C*/</span></span><br><span class="line">    rclcpp::<span class="built_in">spin</span>(node);</span><br><span class="line">    <span class="comment">/* åœæ­¢è¿è¡Œ */</span></span><br><span class="line">    rclcpp::<span class="built_in">shutdown</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>ä¿®æ”¹ CMakeLists.txt</strong></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨ CMakeLists.txt æœ«å°¾æ·»åŠ ä¸‹è¿°ä»£ç </span></span><br><span class="line"></span><br><span class="line">add_executable(node_01 src/node_01.cpp)</span><br><span class="line">ament_target_dependencies(node_01 rclcpp)</span><br><span class="line"></span><br><span class="line">install(TARGETS</span><br><span class="line">  node_01</span><br><span class="line">  DESTINATION lib/$&#123;PROJECT_NAME&#125; </span><br><span class="line">)</span><br></pre></td></tr></table></figure></li><li><p><strong>ç¼–è¯‘è¿è¡Œ</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/d2lros2/chapt2/chapt2_ws</span><br><span class="line">colcon build</span><br></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source install/setup.bash</span><br><span class="line">ros2 run example_cpp node_01</span><br></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">INFO</span>] [<span class="number">1711876723.907901312</span>] [<span class="type">node_01</span>]: node_01 <span class="built_in">start</span></span><br></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ros2 node list  <span class="comment"># å½“èŠ‚ç‚¹è¿è¡Œèµ·æ¥åï¼ŒæŸ¥çœ‹ç°æœ‰çš„èŠ‚ç‚¹</span></span><br><span class="line">/node_01</span><br></pre></td></tr></table></figure></li></ul><h3 id="27-é¢å‘å¯¹è±¡ç¼–ç¨‹æ€æƒ³"><a class="markdownIt-Anchor" href="#27-é¢å‘å¯¹è±¡ç¼–ç¨‹æ€æƒ³"></a> 2.7 é¢å‘å¯¹è±¡ç¼–ç¨‹æ€æƒ³</h3><blockquote><p><strong>è®¡ç®—æœºç¼–ç¨‹ä¸‰ç§ç¼–ç¨‹æ€æƒ³</strong></p><ul><li>é¢å‘è¿‡ç¨‹ç¼–ç¨‹æ€æƒ³ã€‚ç¼©å†™ï¼šPOP</li><li>é¢å‘å¯¹è±¡ç¼–ç¨‹æ€æƒ³ã€‚ç¼©å†™ï¼šOOP</li><li>å‡½æ•°å¼æ€æƒ³ã€‚ç¼©å†™ï¼šFP</li></ul></blockquote><h4 id="271-ä¸‰ç§ç¼–ç¨‹æ€æƒ³å¯¹æ¯”"><a class="markdownIt-Anchor" href="#271-ä¸‰ç§ç¼–ç¨‹æ€æƒ³å¯¹æ¯”"></a> 2.7.1 ä¸‰ç§ç¼–ç¨‹æ€æƒ³å¯¹æ¯”</h4><blockquote><p>ç”¨ä¸‰ç§æ€æƒ³æŠŠå¤§è±¡è£…è¿›å†°ç®±</p></blockquote><ul><li><strong>é¢å‘è¿‡ç¨‹çš„æ€æƒ³</strong><ul><li>æŠŠå¤§è±¡å¡è¿›å»</li><li>å…³ä¸Šå†°ç®±é—¨</li></ul></li><li><strong>é¢å‘å¯¹è±¡çš„æ€æƒ³</strong><ul><li>æŠŠå†°ç®±ç†è§£ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œå°±å¯ä»¥ç ”ç©¶ä½ å®¶å†°ç®±ç”±å“ªäº›éƒ¨åˆ†ï¼ˆæŒ‡ä»¤è£…ç½®ç­‰ï¼‰ç»„æˆï¼Œå†°ç®±èƒ½å¹²ä»€ä¹ˆï¼ˆåˆ¶å†·ã€è°ƒæ¸©ç­‰ï¼‰ï¼Ÿå¯¹è±¡çš„è¡Œä¸ºå…¶å®æ˜¯å¯¹å…¶å±æ€§çš„æ“ä½œï¼š<strong>å¯¹è±¡ = å±æ€§ + è¡Œä¸º</strong></li><li><strong>é‡‡ç”¨ OOP çš„æ–¹æ³•æŠŠå¤§è±¡è£…è¿›å†°ç®±</strong><ul><li>è°ƒç”¨ï¼šå†°ç®±-&gt;æ‰“å¼€é—¨(è¡Œä¸º)</li><li>è°ƒç”¨ï¼šå†°ç®±-&gt;è£…ä¸œè¥¿(è¡Œä¸º)</li><li>è°ƒç”¨ï¼šå†°ç®±-&gt;å…³é—­é—¨(è¡Œä¸º)</li></ul></li></ul></li><li><strong>å‡½æ•°å¼ç¼–ç¨‹</strong><ul><li>å®šä¹‰å…³è¿›ï¼ˆå†°ç®±ï¼Œå¤§è±¡ï¼‰å‡½æ•°</li><li>å®ç°å‡½æ•°ï¼šå…³é—¨(æ”¾å…¥(å¼€é—¨(å†°ç®±)ï¼Œå¤§è±¡))</li></ul></li></ul><h4 id="272-é¢å‘å¯¹è±¡ç¼–ç¨‹"><a class="markdownIt-Anchor" href="#272-é¢å‘å¯¹è±¡ç¼–ç¨‹"></a> 2.7.2 é¢å‘å¯¹è±¡ç¼–ç¨‹</h4><ul><li><strong>ç±»ä¸å¯¹è±¡ï¼ˆæŠ½è±¡ä¸å…·ä½“ï¼‰</strong><ul><li>é€šè¿‡è°ƒç”¨<strong>å®¹å£°ï¼ˆå…·ä½“å†°ç®±å“ç‰Œï¼‰å†°ç®±</strong>çš„å¼€é—¨ã€è£…ä¸œè¥¿å’Œå…³é—¨ä¸‰ä¸ªè¡Œä¸ºæ¥æŠŠå¤§è±¡è£…è¿›å†°ç®±ï¼Œè¿™æ—¶å¯ä»¥æŠŠ<strong>å®¹å£°å†°ç®±</strong>ï¼ˆå…·ä½“çš„ï¼‰ç§°ä¹‹ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œè€Œ<strong>å†°ç®±</strong>ï¼ˆæŠ½è±¡çš„ï¼‰å°±ç§°ä¸ºä¸€ä¸ªç±»</li><li>åœ¨ ROS2 ä¸­çš„ DDS æ˜¯æœ‰å¾ˆå¤šå‚å®¶çš„ï¼ŒROS2 ä¸ºäº†åŒ¹é…ä¸åŒå‚å®¶çš„ DDSï¼Œå°±è®¾è®¡é™¤äº† DDS æŠ½è±¡å±‚ï¼Œè€Œæ¯ä¸€ä¸ªå…·ä½“çš„ DDS å‚å®¶ï¼Œå¯ä»¥ç§°ä¹‹ä¸ºä¸€ä¸ª DDS çš„å¯¹è±¡ï¼Œæ˜¯å…·ä½“çš„</li></ul></li><li><strong>å°è£…ã€ç»§æ‰¿ä¸å¤šæ€</strong></li></ul><h3 id="28-ä½¿ç”¨é¢å‘å¯¹è±¡æ–¹å¼ç¼–å†™-ros2-èŠ‚ç‚¹"><a class="markdownIt-Anchor" href="#28-ä½¿ç”¨é¢å‘å¯¹è±¡æ–¹å¼ç¼–å†™-ros2-èŠ‚ç‚¹"></a> 2.8 ä½¿ç”¨é¢å‘å¯¹è±¡æ–¹å¼ç¼–å†™ ROS2 èŠ‚ç‚¹</h3><ul><li><p>åœ¨ d2lros2/chapt2/chapt2_ws/src/example_cpp/src ä¸‹æ–°å»º node_02.cpp</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;rclcpp/rclcpp.hpp&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªç±»èŠ‚ç‚¹ï¼Œåå­—å«åšNode03,ç»§æ‰¿è‡ªNode.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Node03</span> : <span class="keyword">public</span> rclcpp::Node &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°,æœ‰ä¸€ä¸ªå‚æ•°ä¸ºèŠ‚ç‚¹åç§°</span></span><br><span class="line"><span class="built_in">Node03</span>(std::string name) : <span class="built_in">Node</span>(name) &#123;</span><br><span class="line">    <span class="comment">// æ‰“å°ä¸€å¥</span></span><br><span class="line"><span class="built_in">RCLCPP_INFO</span>(<span class="keyword">this</span>-&gt;<span class="built_in">get_logger</span>(), <span class="string">&quot;å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯%s.&quot;</span>,name.<span class="built_in">c_str</span>());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> **argv)</span> </span>&#123;</span><br><span class="line">    rclcpp::<span class="built_in">init</span>(argc, argv);</span><br><span class="line">    <span class="comment">/*äº§ç”Ÿä¸€ä¸ªnode_03çš„èŠ‚ç‚¹*/</span></span><br><span class="line">    <span class="keyword">auto</span> node = std::<span class="built_in">make_shared</span>&lt;Node03&gt;(<span class="string">&quot;node_03&quot;</span>);</span><br><span class="line">    <span class="comment">/* è¿è¡ŒèŠ‚ç‚¹ï¼Œå¹¶æ£€æµ‹é€€å‡ºä¿¡å·*/</span></span><br><span class="line">    rclcpp::<span class="built_in">spin</span>(node);</span><br><span class="line">    rclcpp::<span class="built_in">shutdown</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>ä¿®æ”¹ CMakeLists.txt</strong></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨ CMakeLists.txt æœ«å°¾æ·»åŠ ä¸‹è¿°ä»£ç </span></span><br><span class="line"></span><br><span class="line">add_executable(node_02 src/node_02.cpp)</span><br><span class="line">ament_target_dependencies(node_02 rclcpp)</span><br><span class="line"></span><br><span class="line">install(TARGETS</span><br><span class="line">  node_02</span><br><span class="line">  DESTINATION lib/$&#123;PROJECT_NAME&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure></li><li><p><strong>ç¼–è¯‘è¿è¡Œ</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">colcon build <span class="literal">--packages-select</span> example_cpp</span><br><span class="line">source install/setup.bash</span><br><span class="line">ros2 run example_cpp node_02</span><br></pre></td></tr></table></figure></li></ul><h3 id="29-colcon-ä½¿ç”¨è¿›é˜¶"><a class="markdownIt-Anchor" href="#29-colcon-ä½¿ç”¨è¿›é˜¶"></a> 2.9 colcon ä½¿ç”¨è¿›é˜¶</h3><h4 id="291-æ„å»ºç³»ç»Ÿä¸æ„å»ºå·¥å…·"><a class="markdownIt-Anchor" href="#291-æ„å»ºç³»ç»Ÿä¸æ„å»ºå·¥å…·"></a> 2.9.1 æ„å»ºç³»ç»Ÿä¸æ„å»ºå·¥å…·</h4><ul><li><p>ä¸¤è€…çš„åŒºåˆ†ç‚¹åœ¨äºé’ˆå¯¹çš„å¯¹è±¡ä¸åŒï¼Œæ„å»ºç³»ç»Ÿä¹‹é’ˆå¯¹ä¸€ä¸ªå•ç‹¬çš„åŒ…è¿›è¡Œæ„å»ºï¼Œè€Œæ„å»ºå·¥å…·é‡ç‚¹åœ¨äºæŒ‰ç…§ä¾èµ–å…³ç³»ä¾æ¬¡è°ƒç”¨æ„å»ºç³»ç»Ÿå®Œæˆä¸€ç³»åˆ—åŠŸèƒ½åŒ…çš„æ„å»º</p><ul><li>ROS ä¸­ç”¨åˆ°çš„æ„å»ºç³»ç»Ÿï¼šCMakeã€ament_cmakeã€catkinã€Python setuptools</li><li>ROS ä¸­ç”¨åˆ°çš„æ„å»ºå·¥å…·ï¼šcolconã€catkin_makeã€catkin_make_isolatedã€catkin_tools</li></ul><blockquote><p><strong>colcon ä½œä¸ºæ„å»ºå·¥å…·ï¼Œé€šè¿‡è°ƒç”¨ CMakeã€Python setuptools ç­‰æ„å»ºç³»ç»Ÿå®Œæˆæ„å»º</strong></p></blockquote></li><li><p><strong>å¸¸è§æ„å»ºç³»ç»Ÿ</strong></p><ul><li><strong>CMake</strong>ï¼šæ˜¯ä¸€ä¸ªè·¨å¹³å°æ„å»ºç³»ç»Ÿç”Ÿæˆå™¨ã€‚é¡¹ç›®ä½¿ç”¨ç‹¬ç«‹äºå¹³å°çš„æ–‡ä»¶æŒ‡å®šå…¶ç”Ÿæˆè¿‡ç¨‹ã€‚ç”¨æˆ·é€šè¿‡ä½¿ç”¨ CMake ä¸ºå…¶å¹³å°ä¸Šçš„æœ¬æœºå·¥å…·ç”Ÿæˆæ„å»ºç³»ç»Ÿæ¥æ„å»ºé¡¹ç›®</li><li><strong>Python setuptools</strong>ï¼šPython åŒ…çš„æ‰“åŒ…å¸¸ç”¨å·¥å…·ã€‚Python åŒ…ä½¿ç”¨æ–‡ä»¶æ¥æè¿°ä¾èµ–é¡¹ï¼Œä»¥åŠå¦‚ä½•æ„å»ºå’Œå®‰è£…å†…å®¹ã€‚åœ¨ ROS2 ä¸­ï¼ŒåŠŸèƒ½åŒ…å¯ä»¥æ˜¯â€œæ™®é€šâ€ Python åŒ…ï¼Œè€Œåœ¨ ROS1 ä¸­ï¼Œä»»ä½• Python åŠŸèƒ½éƒ½æ˜¯ä» CMake æ–‡ä»¶è§¦å‘ <a href="http://setup.py">setup.py</a> è¿›è¡Œæ‰“åŒ…</li><li><strong>catkin</strong>ï¼šåŸºäº CMakeï¼Œå¹¶æä¾›äº†ä¸€ç»„æ–¹ä¾¿çš„å‡½æ•°ï¼Œä½¿ç¼–å†™ CMake åŒ…æ›´å®¹æ˜“ã€‚å®ƒè‡ªåŠ¨ç”Ÿæˆ CMake é…ç½®æ–‡ä»¶ä»¥åŠ pkg é…ç½®æ–‡ä»¶ã€‚å®ƒè¿˜æä¾›äº†æ³¨å†Œä¸åŒç±»å‹æµ‹è¯•çš„å‡½æ•°</li></ul></li><li><p><strong>å¸¸è§æ„å»ºå·¥å…·</strong></p><ul><li><strong>catkin_make</strong>ï¼šè¯¥å·¥å…·ä»…è°ƒç”¨ CMake ä¸€æ¬¡ï¼Œå¹¶ä½¿ç”¨ CMake çš„å‡½æ•°åœ¨å•ä¸ªä¸Šä¸‹æ–‡ä¸­å¤„ç†æ‰€æœ‰åŒ…ã€‚è™½ç„¶è¿™æ˜¯ä¸€ç§æœ‰æ•ˆçš„æ–¹æ³•ï¼Œå› ä¸ºæ‰€æœ‰åŒ…ä¸­çš„æ‰€æœ‰ç›®æ ‡éƒ½å¯ä»¥å¹¶è¡ŒåŒ–ï¼Œä½†å®ƒå…·æœ‰æ˜æ˜¾çš„ç¼ºç‚¹ï¼šç”±äºæ‰€æœ‰å‡½æ•°åç§°ã€ç›®æ ‡å’Œæµ‹è¯•éƒ½å…±äº«ä¸€ä¸ªå‘½åç©ºé—´ï¼Œå¹¶ä¸”è§„æ¨¡æ›´å¤§ï¼Œè¿™å¾ˆå®¹æ˜“å¯¼è‡´å†²çª</li><li><strong>colcon</strong>ï¼šcolcon æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºæ”¹è¿›æ„å»ºï¼Œæµ‹è¯•å’Œä½¿ç”¨å¤šä¸ªè½¯ä»¶åŒ…çš„å·¥ä½œæµç¨‹ã€‚å®ƒè‡ªåŠ¨åŒ–äº†æµç¨‹ï¼Œå¤„ç†äº†è®¢è´­å¹¶è®¾ç½®äº†ä½¿ç”¨è½¯ä»¶åŒ…çš„ç¯å¢ƒ</li><li><strong>ament_tools</strong>ï¼šç”±ç”¨äºæ„å»º ROS2 åŒ…çš„ç‹¬ç«‹ Python3 åŒ…æä¾›ã€‚å®ƒæ˜¯ä¸ºå¼•å¯¼ ROS2 é¡¹ç›®è€Œå¼€å‘çš„ï¼Œå› æ­¤ä»…é’ˆå¯¹ Python3ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ Linuxï¼ŒMacOS å’Œ Windows ä¸Šè¿è¡Œ</li></ul></li></ul><h4 id="292-colcon-æ„å»ºè¿›é˜¶ä¹‹-build-å‚æ•°è§£æ"><a class="markdownIt-Anchor" href="#292-colcon-æ„å»ºè¿›é˜¶ä¹‹-build-å‚æ•°è§£æ"></a> 2.9.2 colcon æ„å»ºè¿›é˜¶ä¹‹ build å‚æ•°è§£æ</h4><ul><li><p><strong>æ„å»ºæŒ‡ä»¤</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">--packages-select</span>ï¼Œä»…ç”Ÿæˆå•ä¸ªåŒ…ï¼ˆæˆ–é€‰å®šçš„åŒ…ï¼‰</span><br><span class="line"><span class="literal">--packages-up-to</span>ï¼Œæ„å»ºé€‰å®šçš„åŒ…ï¼ŒåŒ…æ‹¬å…¶ä¾èµ–é¡¹</span><br><span class="line"><span class="literal">--packages-above</span>ï¼Œæ•´ä¸ªå·¥ä½œåŒºï¼Œç„¶åå¯¹å…¶ä¸­ä¸€ä¸ªåŒ…è¿›è¡Œäº†æ›´æ”¹ã€‚æ­¤æŒ‡ä»¤å°†é‡æ„æ­¤åŒ…ä»¥åŠï¼ˆé€’å½’åœ°ï¼‰ä¾èµ–äºæ­¤åŒ…çš„æ‰€æœ‰åŒ…</span><br></pre></td></tr></table></figure></li><li><p><strong>æŒ‡å®šæ„å»ºåå®‰è£…çš„ç›®å½•</strong></p><ul><li>å¯ä»¥é€šè¿‡ --build-base å‚æ•°å’Œ --install-baseï¼ŒæŒ‡å®šæ„å»ºç›®å½•å’Œå®‰è£…ç›®å½•</li></ul></li><li><p><strong>åˆå¹¶æ„å»ºç›®å½•</strong></p><ul><li>â€“merge-installï¼Œä½œä¸ºæ‰€æœ‰è½¯ä»¶åŒ…çš„å®‰è£…å‰ç¼€ï¼Œè€Œä¸æ˜¯å®‰è£…åŸºä¸­çš„è½¯ä»¶åŒ…ç‰¹å®šå­ç›®å½• --install-base</li><li>å¦‚æœæ²¡æœ‰æ­¤é€‰é¡¹ï¼Œæ¯ä¸ªåŒ…éƒ½å°†æä¾›è‡ªå·±çš„ç¯å¢ƒå˜é‡è·¯å¾„ï¼Œä»è€Œå¯¼è‡´éå¸¸é•¿çš„ç¯å¢ƒå˜é‡å€¼</li><li>ä½¿ç”¨æ­¤é€‰é¡¹æ—¶ï¼Œæ·»åŠ åˆ°ç¯å¢ƒå˜é‡çš„å¤§å¤šæ•°è·¯å¾„å°†ç›¸åŒï¼Œä»è€Œå¯¼è‡´ç¯å¢ƒå˜é‡å€¼æ›´çŸ­</li></ul></li><li><p><strong>ç¬¦å·é“¾æ¥å®‰è£…</strong></p><ul><li>å¯ç”¨ --symlink-install åå°†ä¸ä¼šæŠŠæ–‡ä»¶æ‹·è´åˆ° install ç›®å½•ï¼Œè€Œæ˜¯é€šè¿‡åˆ›å»ºç¬¦å·é“¾æ¥çš„æ–¹å¼</li></ul></li><li><p><strong>é”™è¯¯æ—¶ç»§ç»­å®‰è£…</strong></p><ul><li>å¯ç”¨ --continue-on-errorï¼Œå½“å‘ç”Ÿé”™è¯¯çš„æ—¶å€™ç»§ç»­è¿›è¡Œç¼–è¯‘</li></ul></li><li><p><strong>CMake å‚æ•°</strong></p><ul><li>â€“cmake-argsï¼Œå°†ä»»æ„å‚æ•°ä¼ é€’ç»™ CMakeã€‚ä¸å…¶ä»–é€‰é¡¹åŒ¹é…çš„å‚æ•°å¿…é¡»ä»¥ç©ºæ ¼ä¸ºå‰ç¼€</li></ul></li><li><p><strong>æ§åˆ¶æ„å»ºçº¿ç¨‹</strong></p><ul><li><p>â€“executor EXECUTOR</p><ul><li>ç”¨äºå¤„ç†æ‰€æœ‰ä½œä¸šçš„æ‰§è¡Œç¨‹åºã€‚é»˜è®¤å€¼æ˜¯æ ¹æ®æ‰€æœ‰å¯ç”¨æ‰§è¡Œç¨‹åºæ‰©å±•çš„ä¼˜å…ˆçº§é€‰æ‹©çš„ã€‚è¦æŸ¥çœ‹å®Œæ•´åˆ—è¡¨ï¼Œè¯·è°ƒç”¨ colcon extensions colcon_core.executor --verbose</li><li>sequential [colcon-core]ï¼šä¸€æ¬¡å¤„ç†ä¸€ä¸ªåŒ…</li><li>parallel [colcon-parallel-executor]ï¼šå¤„ç†å¤šä¸ªä½œä¸šå¹³è¡Œ</li></ul></li><li><p>â€“parallel-workers NUMBER</p><ul><li>è¦å¹¶è¡Œå¤„ç†çš„æœ€å¤§ä½œä¸šæ•°ã€‚é»˜è®¤å€¼ä¸º os.cpu_count() ç»™å‡ºçš„é€»è¾‘ CPU å†…æ ¸æ•°</li></ul></li></ul></li><li><p><strong>å¼€å¯æ„å»ºæ—¥å¿—</strong></p><ul><li>ä½¿ç”¨ --log-level å¯ä»¥è®¾ç½®æ—¥å¿—çº§åˆ«ï¼Œæ¯”å¦‚ --log-level info</li></ul></li></ul><h3 id="210-ros2-èŠ‚ç‚¹å‘ç°ä¸å¤šæœºé€šä¿¡"><a class="markdownIt-Anchor" href="#210-ros2-èŠ‚ç‚¹å‘ç°ä¸å¤šæœºé€šä¿¡"></a> 2.10 ROS2 èŠ‚ç‚¹å‘ç°ä¸å¤šæœºé€šä¿¡</h3><ul><li><strong>ROS2 ç”¨äºé€šè®¯çš„é»˜è®¤ä¸­é—´ä»¶æ˜¯ DDSï¼Œåœ¨ DDS ä¸­ï¼Œä¸åŒé€»è¾‘ç½‘ç»œå…±äº«ç‰©ç†ç½‘ç»œçš„ä¸»è¦æœºåˆ¶ç§°ä¸ºåŸŸ (Domain) ID</strong><ul><li>åŒä¸€åŸŸä¸Šçš„ ROS2 èŠ‚ç‚¹å¯ä»¥è‡ªç”±åœ°ç›¸äº’å‘ç°å¹¶å‘é€æ¶ˆæ¯ï¼Œè€Œä¸åŒåŸŸä¸Šçš„ ROS2 èŠ‚ç‚¹åˆ™ä¸èƒ½</li><li>æ‰€æœ‰ ROS2 èŠ‚ç‚¹é»˜è®¤ä½¿ç”¨åŸŸ ID ä¸º 0</li><li>ä¸ºé¿å…åœ¨åŒä¸€ç½‘ç»œä¸Šè¿è¡Œ ROS2 çš„ä¸åŒè®¡ç®—æœºç»„ä¹‹é—´äº’ç›¸å¹²æ‰°ï¼Œåº”ä¸ºæ¯ç»„è®¾ç½®ä¸åŒçš„åŸŸ ID</li></ul></li><li><strong>é€‰æ‹©åŸŸ IDï¼ˆçŸ­ç‰ˆæœ¬ï¼‰</strong><ul><li>åªéœ€é€‰æ‹©ä¸€ä¸ªä»‹äº 0 å’Œ 101 ä¹‹é—´çš„å®‰å…¨çš„åŸŸ ID (åŒ…æ‹¬ 0 å’Œ 101)</li></ul></li><li><strong>é€‰æ‹©åŸŸ IDï¼ˆé•¿ç‰ˆæœ¬ï¼‰</strong><ul><li>DDS ä½¿ç”¨åŸŸ ID è®¡ç®—å°†ç”¨äºå‘ç°å’Œé€šè®¯çš„ UDP ç«¯å£ï¼Œç½‘ç»œä¸­ UDP ç«¯å£æ˜¯æ— ç¬¦å· 16 ä½æ•´å‹ï¼Œå› æ­¤å¯ä»¥åˆ†é…çš„æœ€å¤§ç«¯å£å·æ˜¯ 65535</li></ul></li><li><strong>ç‰¹å®šå¹³å°çš„çº¦æŸï¼š</strong><ul><li>ä¸ºäº†å®ç°æœ€å¤§çš„å…¼å®¹æ€§ï¼Œåœ¨é€‰æ‹©åŸŸè´¦å·æ—¶åº”éµå¾ªä¸€äº›ç‰¹å®šäºå¹³å°çš„é™„åŠ çº¦æŸã€‚ç‰¹åˆ«æ˜¯ï¼Œæœ€å¥½é¿å…åœ¨æ“ä½œç³»ç»Ÿçš„ä¸´æ—¶ç«¯å£èŒƒå›´ä¸­åˆ†é…åŸŸ IDï¼Œé¿å… ROS2 èŠ‚ç‚¹ä½¿ç”¨çš„ç«¯å£ä¸è®¡ç®—æœºä¸Šçš„å…¶ä»–ç½‘ç»œæœåŠ¡ä¹‹é—´å¯èƒ½çš„å†²çª</li></ul></li><li><strong>å‚ä¸è€…çº¦æŸ</strong><ul><li>å¯¹äºè®¡ç®—æœºä¸Šè¿è¡Œçš„æ¯ä¸ª ROS2 è¿›ç¨‹ï¼Œå°†åˆ›å»ºä¸€ä¸ª DDS â€œparticipantâ€ã€‚ç”±äºæ¯ä¸ª DDS å‚ä¸è€…å ç”¨è®¡ç®—æœºä¸Šçš„ä¸¤ä¸ªç«¯å£ï¼Œå› æ­¤åœ¨ä¸€å°è®¡ç®—æœºä¸Šè¿è¡Œ 120 ä¸ªä»¥ä¸Šçš„ ROS2 è¿›ç¨‹å¯èƒ½ä¼šæº¢å‡ºåˆ°å…¶ä»–åŸŸ ID æˆ–ä¸´æ—¶ç«¯å£</li></ul></li><li><strong>åŸŸIDåˆ°UDPç«¯å£å·è®¡ç®—å™¨</strong><ul><li><a href="http://dev.ros2.fishros.com/doc/Concepts/About-Domain-ID.html#domain-id-to-udp-port-calculator">http://dev.ros2.fishros.com/doc/Concepts/About-Domain-ID.html#domain-id-to-udp-port-calculator</a></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ROS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>c++ä¹‹ç»„åˆã€ç»§æ‰¿ã€èšåˆåŠä¾èµ–</title>
      <link href="/2025/01/23/C/c++%E4%B9%8B%E7%BB%84%E5%90%88%E3%80%81%E7%BB%A7%E6%89%BF%E3%80%81%E8%81%9A%E5%90%88%E5%8F%8A%E4%BE%9D%E8%B5%96/"/>
      <url>/2025/01/23/C/c++%E4%B9%8B%E7%BB%84%E5%90%88%E3%80%81%E7%BB%A7%E6%89%BF%E3%80%81%E8%81%9A%E5%90%88%E5%8F%8A%E4%BE%9D%E8%B5%96/</url>
      
        <content type="html"><![CDATA[<p>åœ¨å­¦ä¹ c++çš„è¿‡ç¨‹ä¸­ç›¸ä¿¡å¤§å®¶å¯¹è¿™å‡ ä¸ªæ¦‚å¿µéƒ½ä¸é™Œç”Ÿã€‚ c++ä¸­ä¸€äº›å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼éƒ½æ˜¯ç”±è¿™å‡ ç§ç‰¹æ€§ç»„åˆè€Œæˆã€‚æœ¬æ–‡å†ä»æ•´ä½“å¯¹è¿™ä¸ªæ¦‚å¿µæˆ–è€…ç‰¹æ€§è¿›è¡Œç®€è¦çš„ä»‹ç»ã€‚</p><h2 id="ç»„åˆ"><a class="markdownIt-Anchor" href="#ç»„åˆ"></a> ç»„åˆ</h2><p>c++ä¸­ç±»ä¹‹é—´çš„ä¸€ç§å…³ç³»å«åš&quot;has-a&quot;çš„å…³ç³»ã€‚è¿™ç§å…³ç³»è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªç±»ä¸­åŒ…å«å¦ä¸€ç±»çš„å¯¹è±¡ï¼Œä½“ç°äº†â€œæœ‰ä¸€ä¸ªâ€çš„å…³ç³»ã€‚è¿™ä¸ªè¢«åŒ…å«çš„ç±»ä¸€èˆ¬ä»¥å®ä¾‹å¯¹è±¡çš„å½¢å¼å­˜åœ¨ï¼Œè€ŒéæŒ‡é’ˆå¯¹è±¡çš„å½¢å¼å­˜åœ¨ã€‚è¯·çœ‹ä¸‹é¢çš„ç¤ºä¾‹:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Engine</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">start</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;å¼•æ“å¯åŠ¨&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">car</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">Engine engine;  <span class="comment">//è¿™é‡Œä»¥å®ä¾‹çš„å½¢å¼å­˜åœ¨ï¼Œè€ŒéæŒ‡é’ˆï¼Œåœ¨ç±»å…³ç³»ä¸­æ˜¯ç»„åˆçš„å…³ç³»</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">startCar</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">engine.<span class="built_in">start</span>();  <span class="comment">//å¯åŠ¨å¼•æ“</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç»„åˆç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#ç»„åˆç‰¹ç‚¹"></a> ç»„åˆç‰¹ç‚¹</h3><ul><li>ç»„åˆå…³ç³»ä¸‹è¢«åŒ…å«çš„ç±»æ— æ³•ç‹¬ç«‹å­˜åœ¨ï¼Œå³éƒ¨åˆ†ä¸èƒ½è„±ç¦»æ•´ä½“å­˜åœ¨</li><li>è¢«åŒ…å«çš„ç±»å®ä¾‹ç”Ÿå‘½å‘¨æœŸä¸åŒ…å«ç±»å®ä¾‹ç»‘å®š</li><li>è¿™ä¸¤ä¸ªç±»æ˜¯å¼ºæ‹¥æœ‰å…³ç³»ï¼Œä¸ªäººç†è§£æ˜¯é€šè¿‡å®ä¾‹å¯¹è±¡å®ç°è¿™ä¸ªéšå«çš„ä½œç”¨çš„ï¼Œå¦‚æœæ˜¯æŒ‡é’ˆå¯¹è±¡çš„é‚£ä¹ˆå°±ä¸èƒ½ç†è§£ä¸ºå¼ºæ‹¥æœ‰å…³ç³»ã€‚</li></ul><h2 id="ç»§æ‰¿"><a class="markdownIt-Anchor" href="#ç»§æ‰¿"></a> ç»§æ‰¿</h2><p>ç»§æ‰¿å…³ç³»æ˜¯c++ä¸­ç‰¹åˆ«é‡è¦çš„ä¸€ç§å…³ç³»ï¼Œå®ƒåŒæ ·æ˜¯ç”¨äºæè¿°ä¸¤ä¸ªç±»å…³ç³»ã€‚ç”¨ä¸€ä¸ªè‹±æ–‡æè¿°ç»§æ‰¿çš„å°±æ˜¯&quot;is-a&quot;ï¼Œæ ¸å¿ƒå«ä¹‰æ˜¯ä¸€ä¸ªç±»æ˜¯å¦å¤–ä¸€ä¸ªç±»çš„ç‰¹æ®Šç±»å‹ï¼Œå³â€œæ˜¯ä¸€ä¸ªâ€çš„å…³ç³»ã€‚å…·ä½“ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">makeSound</span><span class="params">()</span>   <span class="comment">//è™šå‡½æ•°</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;åŠ¨ç‰©çš„å«å£°&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>: <span class="keyword">class</span> <span class="title class_">Animal</span>  <span class="comment">//ç»§æ‰¿å…³ç³»ï¼Œç‹—ä¹Ÿæ˜¯åŠ¨ç‰©çš„ä¸€ç§ï¼ŒDogç±»æ˜¯Animalçš„ä¸€ç§ç‰¹æ®Šç±»å‹</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">makeSound</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;æ±ªæ±ª&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç»§æ‰¿ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#ç»§æ‰¿ç‰¹ç‚¹"></a> ç»§æ‰¿ç‰¹ç‚¹</h3><ul><li>å¼ºè€¦åˆå…³ç³»</li><li>å­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ‰€æœ‰ç‰¹æ€§</li><li>æ”¯æŒå¤šæ€ï¼Œåœ¨ç»§æ‰¿ä¸­è¿™ä¸ªå¤šæ€æ˜¯è¿è¡Œæ—¶å¤šæ€ï¼›åŒæ ·æœ‰ç¼–è¯‘æ—¶å¤šæ€ï¼Œå³ä¸€ä¸ªåŒä¸€ä¸ªå‡½æ•°æˆ–è€…æ–¹æ³•å¯ä»¥å®šä¹‰ä¸åŒçš„å‚æ•°ï¼Œè¿™æ˜¯ç¼–è¯‘æ—¶å¤šæ€ï¼Œä¹Ÿå«é™æ€å¤šæ€ã€‚</li></ul><h2 id="èšåˆ"><a class="markdownIt-Anchor" href="#èšåˆ"></a> èšåˆ</h2><p>èšåˆä¹Ÿæ˜¯c++ä¸­ç±»ä¹‹é—´å…³ç³»çš„ä¸€ç§ï¼Œè¿™ç§å…³ç³»ä¸ç»„åˆç±»ä¼¼ï¼Œä¹Ÿæ˜¯&quot;has-a&quot;å…³ç³»çš„ä¸€ç§ã€‚åŒºåˆ«æ˜¯åœ¨èšåˆå…³ç³»ä¸‹è¢«åŒ…å«å¯¹è±¡çš„å­˜åœ¨æ˜¯ä»¥æŒ‡é’ˆå¯¹è±¡çš„å½¢å¼å­˜åœ¨çš„ã€‚è¯·çœ‹ä¸‹é¢çš„ç¤ºä¾‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">std::string name;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">School</span>  <span class="comment">//å­¦æ ¡ç±»</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">std::vector&lt;Student*&gt; students;  <span class="comment">//å­¦ç”Ÿå¯¹è±¡çš„é›†åˆ,èšåˆå…³ç³»ï¼Œæ³¨æ„è¿™é‡Œæè¿°å­¦ç”Ÿçš„ç±»å‹æ˜¯Student*</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">addStudent</span><span class="params">(Student* stu)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">students.<span class="built_in">push_back</span>(stu);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="èšåˆç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#èšåˆç‰¹ç‚¹"></a> èšåˆç‰¹ç‚¹</h3><ul><li>æ¾è€¦åˆçš„å…³ç³»ï¼Œæ¯”ç»„åˆçš„æ¾è€¦åˆè¿˜è¦é€ï¼Œä¹Ÿå¯ä»¥å«åšå¼±æ‹¥æœ‰å…³ç³»</li><li>è¢«åŒ…å«çš„ç±»å¯ä»¥ç‹¬ç«‹å­˜åœ¨ï¼Œå³éƒ¨åˆ†å¯ä»¥è„±ç¦»æ•´ä½“å­˜åœ¨</li><li>ç”Ÿå‘½å‘¨æœŸç‹¬ç«‹</li></ul><h2 id="ä¾èµ–å…³ç³»"><a class="markdownIt-Anchor" href="#ä¾èµ–å…³ç³»"></a> ä¾èµ–å…³ç³»</h2><p>é™¤äº†ä¸Šé¢çš„3ä¸­å…³ç³»å¤–ï¼Œè¿˜æœ‰ä¸€ç§ä¾èµ–å…³ç³»ï¼Œé‚£æ€ä¹ˆå«åšä¾èµ–å…³ç³»å‘¢ï¼Ÿç›¸ä¿¡å¤§å®¶ä¹Ÿæœ‰åˆ°ç±»ä¼¼çš„æƒ…å†µï¼Œä¸€ä¸ªç±»ä½¿ç”¨å¦å¤–ä¸€ä¸ªç±»æ—¶ä»…åœ¨å‡½æ•°å‚æ•°ä¸­ä½¿ç”¨ã€‚è¿™ç§æƒ…å†µæ˜æ˜¾ä¸å±äºä¸Šé¢çš„3ç§å…³ç³»ï¼Œæ‰€ä»¥è¿™é‡Œå°±æœ‰äº†ä¾èµ–å…³ç³»ã€‚é‚£éƒ½æœ‰å“ªäº›æƒ…å†µå±äºä¾èµ–å…³ç³»å‘¢ï¼Ÿ</p><ul><li>å‡½æ•°å‚æ•°</li><li>ä½œä¸ºè¿”å›ç±»å‹</li><li>åœ¨æˆå‘˜å‡½æ•°ä¸­ä»¥å±€éƒ¨å˜é‡å‡ºç°</li><li>é™æ€æ–¹æ³•è°ƒç”¨</li></ul><p>å…·ä½“ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Printer</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(Document doc)</span> </span>&#123;  <span class="comment">//å‚æ•°ä¾èµ–</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨ Document å¯¹è±¡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Report <span class="title">createReport</span><span class="params">()</span> </span>&#123;    <span class="comment">// è¿”å›ç±»å‹ä¾èµ–</span></span><br><span class="line">Report report;         <span class="comment">// å±€éƒ¨å˜é‡ä¾èµ–</span></span><br><span class="line"><span class="keyword">return</span> report;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">process</span><span class="params">()</span> </span>&#123;</span><br><span class="line">Logger::<span class="built_in">log</span>(<span class="string">&quot;Processing&quot;</span>);  <span class="comment">// é™æ€æ–¹æ³•è°ƒç”¨ä¾èµ–</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="ä¾èµ–å…³ç³»ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#ä¾èµ–å…³ç³»ç‰¹ç‚¹"></a> ä¾èµ–å…³ç³»ç‰¹ç‚¹</h3><ul><li>è¿™æ˜¯ä¸€ç§æœ€å¼±çš„å…³ç³»ï¼Œå…³ç³»å¼ºåº¦å¦‚ä¸‹:ä¾èµ–å…³ç³»&lt;èšåˆå…³ç³»&lt;ç»„åˆå…³ç³»&lt;ç»§æ‰¿å…³ç³»ã€‚</li></ul><h2 id="è®¾è®¡åŸåˆ™"><a class="markdownIt-Anchor" href="#è®¾è®¡åŸåˆ™"></a> è®¾è®¡åŸåˆ™</h2><ul><li>ä¼˜å…ˆä½¿ç”¨ç»„åˆè€Œéç»§æ‰¿</li><li>åˆç†ä½¿ç”¨ç»§æ‰¿</li></ul><h2 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h2><p>c++ä¸­éå¸¸é‡è¦çš„è®¾è®¡æ¨¡å¼ï¼Œå°±æ˜¯å¯¹ä¸Šé¢çš„å‡ ç§å…³ç³»çš„ç»„åˆè¿ç”¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”¨Enterprise Architectç”»ç±»å›¾å’Œé¡ºåºå›¾</title>
      <link href="/2025/01/23/EA/%E7%94%A8Enterprise%20Architect%E7%94%BB%E7%B1%BB%E5%9B%BE%E5%92%8C%E9%A1%BA%E5%BA%8F%E5%9B%BE/"/>
      <url>/2025/01/23/EA/%E7%94%A8Enterprise%20Architect%E7%94%BB%E7%B1%BB%E5%9B%BE%E5%92%8C%E9%A1%BA%E5%BA%8F%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<h3 id="æ–°å»ºä¸€ä¸ªproject"><a class="markdownIt-Anchor" href="#æ–°å»ºä¸€ä¸ªproject"></a> æ–°å»ºä¸€ä¸ªProject</h3><p>æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œâ€œ<strong>æ–‡ä»¶-æ–°å»ºé¡¹ç›®</strong>â€ï¼Œç„¶åé€‰æ‹©ä¿å­˜ä½ç½®å°±å¥½äº†ï¼Œæ¨¡å¼çš„è¯ç”±äºæˆ‘å–œæ¬¢ä¸€ä¸ªåŒ…ä¸€å¼ å›¾æ‰€ä»¥ä¸€èˆ¬éƒ½é€‰æ‹©â€œ<strong>æ–°å»ºåŒ…çš„æ—¶å€™åŒæ—¶æ–°å»ºå›¾</strong>â€ã€‚<br />ä¼šå¼¹å‡ºä¸€ä¸ªæ¨¡å‹å‘å¯¼çš„å¯¹è¯æ¡†ï¼Œ æ˜¯ç»™ä½ å¯¼å…¥æ¨¡æ¿çš„ï¼Œæˆ‘ä¸éœ€è¦ï¼Œæ‰€ä»¥éƒ½ä¸é€‰ç›´æ¥ç‚¹ç¡®å®šã€‚<br /><img src="bVxO8f.png" alt="å›¾ç‰‡æè¿°" title="å›¾ç‰‡æè¿°" /><br />åœ¨é¡¹ç›®æµè§ˆå™¨é‡Œæ–°å¢åŒ…ï¼Œä¸€ä¸ªå›¾ä¸€ä¸ªåŒ…æ¯”è¾ƒèˆ’æœï¼š<br /><img src="bVxPbe.png" alt="å›¾ç‰‡æè¿°" title="å›¾ç‰‡æè¿°" /><br />UMLçš„å›¾å°±ä¸»è¦åœ¨<strong>UML Structural</strong>å’Œ<strong>UML Behavioral</strong>ä¸¤ä¸ªåŒ…é‡Œï¼š<br /><img src="bVxPaz.png" alt="å›¾ç‰‡æè¿°" title="å›¾ç‰‡æè¿°" /><br /><img src="bVxPaL.png" alt="å›¾ç‰‡æè¿°" title="å›¾ç‰‡æè¿°" /><br />æœ‰æ—¶å€™ä½ æ–°å»ºåœ¨å›¾é‡Œçš„å…ƒç´ åˆ é™¤äº†åªæ˜¯åœ¨å›¾é‡Œåˆ é™¤è€Œæ²¡æœ‰åœ¨åŒ…é‡Œåˆ é™¤ï¼Œä½œä¸ºä¸€ä¸ªå¼ºè¿«ç—‡ï¼Œæ€»æ˜¯è¦å¤šåŠ¨æ‰‹åˆ ä¸€æ¬¡= =<br />EAè¿˜æä¾›ä¸€äº›åƒWordé‚£æ ·çš„æ“ä½œï¼Œæ¯”å¦‚è¿™ä¸¤ä¸ªæŒ‰é’®å¯ä»¥ä¿®æ”¹å…ƒç´ çš„å±‚æ¬¡å…³ç³»ï¼š<br /><img src="bVxPdw.png" alt="å›¾ç‰‡æè¿°" title="å›¾ç‰‡æè¿°" /></p><h3 id="ç±»å›¾"><a class="markdownIt-Anchor" href="#ç±»å›¾"></a> ç±»å›¾</h3><p>ç±»å›¾æŒºå¥½ç”»çš„ï¼Œä»å·¥å…·ç®±é‡Œæ‹–ä¸€ä¸ªâ€œ<strong>Class</strong>â€è¿›å»ï¼Œä¼šè‡ªåŠ¨å¼¹å‡ºä¸€ä¸ªè®¾ç½®Classçš„ç•Œé¢ã€‚<br /><img src="bVxO75.png" alt="å›¾ç‰‡æè¿°" title="å›¾ç‰‡æè¿°" /><br />åœ¨â€œClass1â€é‚£ä¸ªä½ç½®å†™ç±»çš„åç§°ï¼š<br /><img src="bVxPaO.png" alt="å›¾ç‰‡æè¿°" title="å›¾ç‰‡æè¿°" /><br />å³ä¸‹æ–¹çš„â€œ<strong>è¯¦ç»†</strong>â€é€‰é¡¹å¡é‡Œå¯ä»¥è®¾ç½®ç±»çš„å±æ€§çš„æ“ä½œï¼ŒåæœŸå¦‚æœæƒ³è®¾ç½®å¯ä»¥åœ¨ç±»ä¸Šâ€œ<strong>å³é”®-åŠŸèƒ½ä¸å±æ€§</strong>â€é‡Œä¹Ÿå¯ä»¥ä¿®æ”¹ï¼š<br /><img src="bVxPaz.png" alt="å›¾ç‰‡æè¿°" title="å›¾ç‰‡æè¿°" /><br />ç±»ä¹‹é—´çš„å…³è”åœ¨å·¥å…·ç®±å­çš„è¿™ä¸ªä½ç½®ï¼š<br /><img src="bVxPbu.png" alt="å›¾ç‰‡æè¿°" title="å›¾ç‰‡æè¿°" /><br /><strong>æ·»åŠ ä¸¤ä¸ªç±»çš„å…³è”çš„æ–¹æ³•</strong>æ˜¯ï¼šé€‰ä¸­ç›¸åº”å…³è”å·¥å…·ï¼Œç„¶åæŒ‰ä½é¼ æ ‡åœ¨ä¸€ä¸ªç±»å’Œå¦ä¸€ä¸ªç±»ä¹‹é—´æ‹–å‡ºä¸€æ¡çº¿<br /><strong>åŒå‡»å…³è”çš„çº¿</strong>æˆ–è€…**é€‰ä¸­çº¿åâ€œå³é”®-ç‰¹æ€§â€**éƒ½å¯ä»¥è®¾ç½®å…³è”çš„å±æ€§ï¼š<br /><img src="bVxPbO.png" alt="å›¾ç‰‡æè¿°" title="å›¾ç‰‡æè¿°" /><br />åœ¨â€œè§’è‰²â€é€‰é¡¹å¡é‡Œå¯ä»¥è®¾ç½®å¤šé‡æ€§ï¼š<br /><img src="bVxPbQ.png" alt="å›¾ç‰‡æè¿°" title="å›¾ç‰‡æè¿°" /></p><p><strong>ä¸è¿‡EA12çš„ç±»å›¾æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå¦‚æœä¸€ä¸ªç±»æ²¡æœ‰å±æ€§æˆ–è€…æ²¡æœ‰æ“ä½œï¼Œå®ƒå°±ä¼šæ˜¾ç¤ºæˆäºŒæ æˆ–è€…ä¸€æ è€Œä¸æ˜¯æ ‡å‡†çš„ä¸‰æ â€¦â€¦å¯¹äºè¦è€ƒè¯•çš„è¿˜æ˜¯EAæ–°æ‰‹çš„äººæ¥è¯´TATâ€¦â€¦åªå¥½åŠ ä¸€ä¸ªå«â€œâ€¦â€çš„å±æ€§å’Œæ“ä½œé¡¶ä¸Š= =</strong></p><h3 id="é¡ºåºå›¾"><a class="markdownIt-Anchor" href="#é¡ºåºå›¾"></a> é¡ºåºå›¾</h3><p>EAçš„é¡ºåºå›¾çš„æ¯ä¸ªå¯¹è±¡çš„ç”Ÿå‘½çº¿éƒ½æ˜¯ä»ç›¸åŒçš„é«˜åº¦å¼€å§‹çš„ï¼Œåæ­£æˆ‘è¯•å›¾æ‹–çš„æ—¶å€™ä¸èƒ½æŠŠæŸä¸ªå¯¹è±¡æ‹–ä¸‹æ¥Orz<br /><strong>Actor</strong>å’Œ<strong>Lifeline</strong>æ˜¯ä¸¤ä¸ªæœ‰ç”Ÿå‘½çº¿çš„ä¸œè¥¿ï¼Œå…ˆè¦æ–°å»ºå®ƒä»¬ï¼Œæ‹–åˆ°å›¾é‡Œå°±å¥½äº†<br /><strong>Fragment</strong>æ˜¯ç”¨äºè¡¨ç¤ºç»“æ„åŒ–æ§åˆ¶çš„<br />æ¶ˆæ¯ä¼ é€’åœ¨Interaction Relationshipé‡Œï¼Œä¸€å…±æœ‰4ä¸ªï¼Œ1æ˜¯å¯¹è±¡ä¹‹é—´ä¼ é€’çš„æ¶ˆæ¯ï¼Œ2æ˜¯è‡ªä¼ é€’çš„æ¶ˆæ¯ï¼Œ3å’Œ4æˆ‘ç›®å‰å‘ç°æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«â€”â€”å¦‚æœæƒ³è¦è¡¨ç¤ºè‡ªè°ƒç”¨å°±åœ¨å•ä¸€å¯¹è±¡çš„ç”Ÿå‘½çº¿ä¸Šç‚¹ä¸€ä¸‹ï¼Œå¦‚æœè¡¨ç¤ºä¸¤ä¸ªå¯¹è±¡ä¹‹é—´çš„è°ƒç”¨å°±åœ¨è°ƒç”¨è€…å’Œè¢«è°ƒç”¨è€…ä¹‹é—´æ‹–ä¸€æ¡çº¿â€¦â€¦<br /><img src="bVxPb1.png" alt="å›¾ç‰‡æè¿°" title="å›¾ç‰‡æè¿°" /><br />ç”¨Lifelineæ–°å»ºä¸€ä¸ªå¯¹è±¡ï¼ŒåŒå‡»å®ƒæˆ–è€…å³é”®-ç‰¹æ€§å¯ä»¥è®¾ç½®å±æ€§ï¼Œå¯¹è±¡çš„åç§°è²Œä¼¼æ˜¯è¦è‡ªå·±å†™â€œï¼šâ€æ¥ç¬¦åˆUMLè§„èŒƒã€‚<br /><img src="bVxPck.png" alt="å›¾ç‰‡æè¿°" title="å›¾ç‰‡æè¿°" /><br />æ¶ˆæ¯å°±æ˜¯ç‚¹å‡»ä¸€ä¸‹å•ä¸€å¯¹è±¡çš„ç”Ÿå‘½çº¿æˆ–è€…åœ¨è°ƒç”¨è€…å’Œè¢«è°ƒç”¨è€…ä¹‹é—´æ‹–ä¸€æ¡çº¿äº§ç”Ÿå‡ºæ¥çš„å¯¹è±¡ï¼ŒåŒæ ·æ˜¯åŒå‡»æˆ–è€…å³é”®å°±å¯ä»¥è®¾ç½®å±æ€§ï¼Œå…·ä½“å¦‚ä¸‹ï¼š<br /><img src="bVxPcl.png" alt="å›¾ç‰‡æè¿°" title="å›¾ç‰‡æè¿°" /><br />æœ‰æ—¶å€™æ¶ˆæ¯éœ€è¦åœ¨ç‰¹å®šæ¡ä»¶ä¸‹æ‰èƒ½å‘å‡ºï¼Œä¹Ÿå¯ä»¥è®¾ç½®ï¼š<br /><img src="bVxPc2.png" alt="å›¾ç‰‡æè¿°" title="å›¾ç‰‡æè¿°" /><br />æ–°å»ºä¸€ä¸ªå¦‚ä¸‹è®¾ç½®çš„è‡ªè°ƒç”¨ï¼Œå¯ä»¥è§„å®šæ¡ä»¶ï¼š<br /><img src="bVxPc3.png" alt="å›¾ç‰‡æè¿°" title="å›¾ç‰‡æè¿°" /><br />è¿˜æœ‰ç»“æ„åŒ–æ§åˆ¶ï¼Œç”¨Fragmentå®ç°ï¼Œæ‹–ä¸€ä¸ªåˆ°å›¾é‡Œï¼Œç„¶åå¯ä»¥åŒå‡»è®¾ç½®å±æ€§ï¼š<br /><img src="bVxPda.png" alt="å›¾ç‰‡æè¿°" title="å›¾ç‰‡æè¿°" /><br />æœ€åçš„ç»“æœï¼š<br /><img src="bVxPdn.png" alt="å›¾ç‰‡æè¿°" title="å›¾ç‰‡æè¿°" /></p><h3 id="å¯¼å‡º"><a class="markdownIt-Anchor" href="#å¯¼å‡º"></a> å¯¼å‡º</h3><p><strong>Ctrl+T</strong>æˆ–è€…åœ¨èœå•æ é‡Œâ€œ<strong>å›¾-ä¿å­˜å›¾åˆ°æ–‡ä»¶</strong>â€å°±å¯ä»¥æŠŠå›¾å¯¼å‡ºä¸ºå›¾ç‰‡ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> EA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Enterprise Architectç±»å›¾çš„ç»˜åˆ¶</title>
      <link href="/2025/01/23/EA/Enterprise%20Architect%E7%B1%BB%E5%9B%BE%E7%9A%84%E7%BB%98%E5%88%B6/"/>
      <url>/2025/01/23/EA/Enterprise%20Architect%E7%B1%BB%E5%9B%BE%E7%9A%84%E7%BB%98%E5%88%B6/</url>
      
        <content type="html"><![CDATA[<h3 id="1æ–°å»ºç±»å›¾"><a class="markdownIt-Anchor" href="#1æ–°å»ºç±»å›¾"></a> 1.æ–°å»ºç±»å›¾</h3><p><img src="84e40145e0bb1e6d934c630c9f3a545d.png" alt="" /></p><p>æ–°å»ºå›¾ï¼Œå¼¹å‡ºçš„çª—å£å¦‚ä¸‹</p><p><img src="e9ecafdebc263dfb85f2476cfa7e88c4.png" alt="" /></p><h3 id="2ç»˜åˆ¶ç±»å›¾"><a class="markdownIt-Anchor" href="#2ç»˜åˆ¶ç±»å›¾"></a> 2.ç»˜åˆ¶ç±»å›¾</h3><p>å¸¸ç”¨ç±»ä¹‹é—´çš„å…³ç³»</p><p><img src="6017eaa18bd4eff32c219629f76ff00c.png" alt="" /></p><p>ä¸Šæ–¹èœå•æ æ‰¾åˆ°å›¾ï¼Œæ‰¾åˆ°å¹¶æ‰“å¼€å·¥å…·ç®±çš„è§†å›¾ï¼Œ</p><p><img src="4956d699ab02b2b648c484589794eece.png" alt="" /></p><p>é¼ æ ‡æ‚¬æµ®å°±ä¼šæ˜¾ç¤ºå…ƒç´ å¯¹åº”çš„ä¿¡æ¯åŠŸèƒ½ï¼Œæ‹–åˆ°å…ƒç´ åˆ°å·¥ä½œåŒºå°±ä¼šå¯¹åº”ç”Ÿæˆï¼Œæ–°å»ºä¸€ä¸ªç±»ï¼Œ</p><p><img src="2202761bdd9e4a2cb4518a16d6535ca1.png" alt="" /></p><p>åœ¨ç±»ä¸Šé¼ æ ‡å³é”®æ·»åŠ å…¶ä»–ä¿¡æ¯ï¼Œå¸¸ç”¨çš„æ˜¯åŠŸèƒ½ä¸å±æ€§çš„å±æ€§å’Œæ“ä½œï¼Œ</p><p><img src="e0481c3904400e18017c68236d561e09.png" alt="" /></p><p>å…¶ä¸­å±æ€§æ˜¯æˆå‘˜å˜é‡ï¼Œæ“ä½œæ˜¯æ–¹æ³•ï¼Œ</p><p><img src="f387432f840abe4bef91ab927f50c2e8.png" alt="" /></p><p>ç±»ä¹‹é—´çš„å…³ç³»ï¼Œå¯ä»¥åœ¨å·¥å…·ç®±é‡Œæ·»åŠ ï¼Œä¹Ÿå¯ä»¥åœ¨ç±»çš„ ç®­å¤´æ ·å¼çš„é‚£ä¸ªå›¾æ ‡ ä¸Šæ‹–åŠ¨</p><p><img src="82c13be83970cfe8ef17b97875c2c431.png" alt="" />Â <img src="a45c76bc3dd23b695a9357968bf10a00.png" alt="" /></p><h3 id="3å¤šç§ç±»çš„å…³ç³»çš„ç±»å›¾ç»˜åˆ¶"><a class="markdownIt-Anchor" href="#3å¤šç§ç±»çš„å…³ç³»çš„ç±»å›¾ç»˜åˆ¶"></a> 3.å¤šç§ç±»çš„å…³ç³»çš„ç±»å›¾ç»˜åˆ¶</h3><p>æœ‰æ—¶å€™ï¼Œç±»çš„å…³ç³»ä¸æ­¢ä¸€ç§ï¼Œä¸¤ä¸ªç±»ä¹‹é—´å¯èƒ½æœ‰å¤šç§å…³ç³»ï¼Œå¦‚ä¸‹</p><p>ä¸¤ä¸ªç±»ä¹‹é—´æœ‰èšåˆã€ä¾èµ–ä¸¤ç§å…³ç³»ï¼Œä½¿ç”¨Enterprise Architectï¼Œå…ˆç”»èšåˆå…³ç³»ï¼Œ</p><p><img src="d9fbc19f1bba99f892c70a9505c35760.png" alt="" /></p><p>ç„¶ååœ¨è¿æ¥çº¿ä¸Šï¼Œå³é”®é€‰æ‹©é«˜çº§â€“&gt;æ”¹å˜æ–¹å‘,ç›®æ ‡åˆ°èµ·å§‹<img src="269d1247b1e3e538f6aea05cf9bde9d4.png" alt="" /></p><p>ç»“æœå¦‚ä¸‹ï¼š</p><p><img src="fc2b550bba7dd052a83a161285052fdc.png" alt="" /></p>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> EA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cursorä½¿ç”¨ä»‹ç»</title>
      <link href="/2025/01/23/Editor/Cursor%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D/"/>
      <url>/2025/01/23/Editor/Cursor%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D/</url>
      
        <content type="html"><![CDATA[<p>Cursoræ˜¯ä¸€æ¬¾AIä»£ç ç¼–è¾‘å™¨ï¼Œå®˜ç½‘åœ°å€ä¸º<a href="https://www.cursor.com/">https://www.cursor.com/</a>  ç›´æ¥åœ¨å®˜ç½‘ä¸‹è½½å®‰è£…å³å¯ï¼ŒåŸºäºVS CodeäºŒæ¬¡å¼€å‘è€Œæ¥ï¼Œä¹‹æ‰€ä»¥æ²¡æœ‰é‡‡ç”¨æ’ä»¶æ–¹å¼ï¼Œåœ¨å®˜æ–¹ç½‘ç«™ä¸Šç»™å‡ºçš„ç­”æ¡ˆæ˜¯æŸäº›åŠŸèƒ½æ’ä»¶æ— æ³•å®ç°ï¼Œäº§å“ä¸“æ³¨åœ¨ä½¿ç”¨AIæ¥è¿›è¡Œç¼–ç¨‹æ–¹é¢ï¼Œä»·æ ¼æ–¹é¢è¿˜ä¸ä¾¿å®œï¼ŒProå•æœˆ20åˆ€ï¼Œä¼ä¸šç‰ˆå•æœˆå•ä¸ªç”¨æˆ·40åˆ€ï¼Œä½†æŸäº›åŠŸèƒ½ç¡®å®å¥½ç”¨å•Šï¼Œæœ‰æ‰¾å¤–åŒ…æ›¿ä½ å®Œæˆéƒ¨åˆ†å·¥ä½œçš„æ„Ÿè§‰ï¼Œä¸ä»˜è´¹çš„è¯ä½¿ç”¨æ¬¡æ•°æœ‰é™åˆ¶ã€‚</p><p>æœ€åŸºæœ¬åŠŸèƒ½ï¼šTabé”®ä»£ç è‡ªåŠ¨è¡¥å…¨ã€‚åœ¨å†™ä»£ç æ—¶ï¼Œåé¢ä¼šæœ‰ä»£ç æç¤ºï¼Œå®˜ç½‘ä¸Šè¯´æ˜¯ä¸€ä¸ªæ›´å¼ºå¤§çš„ Copilotï¼ˆGithubå‡ºå“çš„ä»£ç è¡¥å…¨å·¥å…·ï¼‰ï¼ŒCopilotæˆ‘åªä½“éªŒè¿‡ï¼Œæ²¡æœ‰æ·±åº¦ä½¿ç”¨ï¼Œä¸èƒ½ç»™å‡ºæ¯”è¾ƒå‡†ç¡®çš„å¯¹æ¯”è¯„ä»·ã€‚</p><p>ç¬¬äºŒä¸ªç‰¹è‰²åŠŸèƒ½ï¼šæ ¹æ®æç¤ºä¿®æ”¹ä»£ç æˆ–ç”Ÿæˆå‘½ä»¤ã€‚å¿«æ·é”®Ctrl/Cmd + kï¼Œæ¯”å¦‚ä¸‹å›¾ï¼Œæ‰¾åˆ°éœ€è¦ä¼˜åŒ–é—®é¢˜ä»£ç ç‰‡æ®µï¼Œé€‰ä¸­éœ€è¦ä¼˜åŒ–ä¸€æ®µä»£ç ï¼Œå¿«æ·é”®Ctrl/Cmd + kï¼Œè¾“å…¥æç¤ºâ€œä¼˜åŒ–ä¸€ä¸‹â€ï¼Œå°±ä¼šç”Ÿæˆæ–°ä»£ç ï¼Œæ¯”è¾ƒæœ‰ç‰¹è‰²æ˜¯å¯ä»¥åˆ†æ®µéƒ¨åˆ†æ¥å—ä¿®æ”¹ï¼Œæ ¹æ®å³ä¾§å›¾ä¸­çº¢æ¡†å†…å¿«æ·é”®æ“ä½œå³å¯ï¼Œå¦‚æœæœ‰é”™è¯¯ï¼Œè¿˜å¯ä»¥ç»§ç»­è¿›è¡ŒAI Fixä¿®å¤ï¼Œç”¨æ¥é‡æ„ä»£ç æ•ˆç‡ä¼šå¤§å¤§æé«˜ã€‚</p><p><img src="c073be0274504fe6a16d67d06beb37eb.png" alt="" /></p><p>å¦‚æœåœ¨ç»ˆç«¯ä¸­æŒ‰å¿«æ·é”®Ctrl/Cmd + kï¼ŒåŒæ ·ä¼šå‡ºç°æç¤ºæ¡†ï¼Œè¾“å…¥â€œæ„å»ºå‘½ä»¤â€ï¼Œå°±ä¼šåœ¨å‘½ä»¤è¡Œä¸­ç”Ÿæˆè¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œå‘½ä»¤ç¨åŠ ä¿®æ”¹å°±èƒ½æ‰§è¡Œï¼Œæ„Ÿè§‰å·²ç»éå¸¸å‰å®³äº†ï¼Œç†è®ºä¸Šå¯ä»¥åœ¨è¿™ä¸ªç»ˆç«¯é‡Œè¿æ¥ä¸Šè¿œç¨‹æœåŠ¡å™¨ï¼Œé€šè¿‡æç¤ºç”Ÿæˆè¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œè¿™å¯¹äºç»ˆç«¯å‘½ä»¤ä¸å¤ªç†Ÿæ‚‰çš„åŒå­¦éå¸¸æœ‰å¸®åŠ©ã€‚</p><p><img src="f531bfbdf9ed4d97989e80a37ec9106a.png" alt="" /></p><p>ç¬¬ä¸‰ä¸ªç‰¹è‰²åŠŸèƒ½ï¼šèŠå¤©åŠŸèƒ½ã€‚å¿«æ·é”®Ctrl/Cmd + Lï¼Œä¼šå•ç‹¬æ‰“å¼€å³ä¾§çª—å£ï¼ŒåŒæ ·æ˜¯è¾“å…¥â€œä¼˜åŒ–ä¸€ä¸‹â€ï¼Œç”Ÿæˆä»£ç åç‚¹å‡»å³ä¸Šè§’Applyåº”ç”¨åˆ°ä»£ç ä¸­ï¼Œä¸‹é¢è¿˜ä¼šæ€»ç»“æ”¹è¿›çš„å†…å®¹ï¼Œä¹Ÿå¯ç”¨ç»§ç»­é—®ï¼Œè¿›è¡Œå¤šè½®èŠå¤©ï¼Œç›´åˆ°æ„Ÿè§‰å¯ä»¥åå†åº”ç”¨ï¼Œä¹Ÿå¯ä»¥é—²èŠï¼Œé—®ä¸€äº›å’Œä»£ç æ— å…³çš„é—®é¢˜ä¹Ÿæ²¡æœ‰é—®é¢˜ã€‚</p><p><img src="77f134b3bdeb45f882293e1959a01151.png" alt="" /></p><p>Cursorä¼šå¯¹ä»£ç è¿›è¡Œç´¢å¼•ï¼Œä¼šè®¡ç®—ä»£ç åº“ä¸­çš„æ¯ä¸ªæ–‡ä»¶çš„åµŒå…¥å‘é‡ï¼Œå¹¶å°†ä½¿ç”¨è¿™äº›åµŒå…¥å‘é‡æ¥æé«˜ä»£ç åº“ç­”æ¡ˆçš„å‡†ç¡®æ€§ã€‚å¦‚æœåœ¨èŠå¤©æ—¶ï¼Œä½¿ç”¨å¿«æ·é”®Ctrl/Cmd + Enterï¼Œä¼šä½¿ç”¨è¿™é¡¹åŠŸèƒ½æ¥æœç´¢é¡¹ç›®ä¸‹ä»£ç å†…å®¹æ¥æé«˜ç­”æ¡ˆçš„å‡†ç¡®æ€§ï¼Œä¹Ÿæ˜¯ç‰¹è‰²åŠŸèƒ½ä¹‹ä¸€ã€‚</p><p>ç¬¬å››ä¸ªç‰¹è‰²åŠŸèƒ½ï¼šAI Reviewä»£ç </p><p>ReviewåŠŸèƒ½ç›®å‰è¿˜æ˜¯Betaæµ‹è¯•ä¸­ï¼Œéœ€è¦ç°åœ¨è®¾ç½®ä¸­å¯ç”¨ï¼Œå¦‚éœ€è¦é•¿æ–‡æœ¬åŠŸèƒ½çš„ä¹Ÿåœ¨è¿™é‡Œå¯ç”¨ï¼Œç›®å‰èŠå¤©ä¸­tokené™åˆ¶ä¸º20000ä¸ªï¼Œå¿«æ·æç¤ºä¸­ä¸º10000ä¸ªã€‚</p><p><img src="bf85e9a7a6824464b31c09c75682611c.png" alt="" /></p><p>æ ¹æ®æç¤ºï¼ŒCtrl/Cmd + Shift + Pï¼Œè¾“å…¥Reload Windowï¼Œé‡è½½çª—å£ï¼Œå°±èƒ½çœ‹åˆ°èŠå¤©çª—å£å³è¾¹å‡ºç°Reviewæ ‡ç­¾é¡µäº†ã€‚</p><p><img src="b117530903174875ad87dffa28f102c9.png" alt="" /></p><p>é‡è½½çª—å£åï¼ŒåŒæ ·æ˜¯è¾“å…¥æç¤ºï¼Œä¸‹é¢ä¹Ÿæä¾›äº†å››é¡¹å¯¹åº”çš„ReviewåŠŸèƒ½ï¼ŒReview Working Stateå¯ä»¥å¯¹æœªæäº¤çš„å·¥ä½œç©ºé—´å†…ä»£ç è¿›è¡ŒReviewï¼ŒReview Last Commitä¹ŸæŒºæ–¹ä¾¿çš„ï¼Œåœ¨å¼€å‘åˆ†æ”¯æäº¤ä»£ç åç›´æ¥è¿›è¡ŒReviewï¼ŒReviewåå†åˆå¹¶åˆ°ä¸Šå±‚åˆ†æ”¯ã€‚</p><p><img src="3ad2c0e915c14e8fa03bec371c84803e.png" alt="" /></p><p>Cursorå¯ä»¥é…ç½®ä½¿ç”¨å…¶ä»–AIï¼Œå‘é€ä»»æ„æ•°é‡çš„ AI æ¶ˆæ¯</p><p><img src="9fe12b87ec7f42dd8de58ceae2780b31.png" alt="" /></p><p>å¯ä»¥å¯¹ä½¿ç”¨çš„æ¨¡å‹è¿›è¡Œè®¾ç½®ï¼Œé€‰æ‹©ä½¿ç”¨å“ªäº›æ¨¡å‹ï¼Œå¯ä»¥åŒæ—¶ä½¿ç”¨å¤šä¸ªæ¨¡å‹ï¼ŒGPT-4, GPT-4o, and Claude 3.5 Sonnetéƒ½æ˜¯æ”¶è´¹çš„é«˜çº§æ¨¡å‹</p><p><img src="59f8a70d1e5f4036ba884f459c8d8bda.png" alt="" /></p><p>æ€»ç»“Cursorä½¿ç”¨ï¼Œç¼–å†™ä»£ç ä¸­å¯ä»¥ä½¿ç”¨tabé”®è¡¥å…¨ä»£ç ï¼Œä½¿ç”¨æç¤ºï¼ˆCtrl/Cmd + kï¼‰ç”Ÿæˆã€ä¿®æ”¹æˆ–é‡æ„ä»£ç ï¼ŒåŒæ ·å¯ä»¥ä½¿ç”¨èŠå¤©ï¼ˆCtrl/Cmd + Lï¼‰æ–¹å¼ç”Ÿæˆã€ä¿®æ”¹æˆ–é‡æ„ä»£ç ï¼Œåœ¨èŠå¤©æ—¶ä½¿ç”¨Ctrl/Cmd + Enterå‘é€ä¿¡æ¯ä¼šç´¢å¼•æœ¬åœ°ä»£ç æé«˜å›ç­”å‡†ç¡®ç‡ï¼ŒBetaæµ‹è¯•ä¸­çš„Reviewä»£ç åŠŸèƒ½éå¸¸å¥½ç”¨ã€‚</p><p>ä»¥ä¸Šä¸ºCursorä½¿ç”¨æ€»ç»“ï¼ŒCursoræ˜¯éå¸¸æœ‰åˆ›æ–°çš„äº§å“ï¼Œä¸ç®¡æ˜¯å¦æ˜¯åœ¨è®¡ç®—æœºè¡Œä¸šéƒ½åº”è¯¥ä½“éªŒä¸€ä¸‹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ™ºèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Editor </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt5.14.2ä¸VS2022é…ç½®</title>
      <link href="/2025/01/23/Qt/Qt5.14.2%E4%B8%8EVS2022%E9%85%8D%E7%BD%AE/"/>
      <url>/2025/01/23/Qt/Qt5.14.2%E4%B8%8EVS2022%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h3 id="1qt6è¦åœ¨çº¿å®‰è£…å®‰è£…æ—¶é—´æ¯”è¾ƒé•¿è¦æ±‚ç½‘ç»œè¦ç¨³å®šä¸é€‚åˆå¿«é€Ÿå®‰è£…"><a class="markdownIt-Anchor" href="#1qt6è¦åœ¨çº¿å®‰è£…å®‰è£…æ—¶é—´æ¯”è¾ƒé•¿è¦æ±‚ç½‘ç»œè¦ç¨³å®šä¸é€‚åˆå¿«é€Ÿå®‰è£…"></a> 1.qt6è¦åœ¨çº¿å®‰è£…ï¼Œå®‰è£…æ—¶é—´æ¯”è¾ƒé•¿ï¼Œè¦æ±‚ç½‘ç»œè¦ç¨³å®šï¼Œä¸é€‚åˆå¿«é€Ÿå®‰è£…</h3><h3 id="2ä½¿ç”¨qt5142ç¦»çº¿å®‰è£…åŒ…å®‰è£…é€Ÿåº¦å¿«å¯ä»¥å¿«é€Ÿå®‰è£…"><a class="markdownIt-Anchor" href="#2ä½¿ç”¨qt5142ç¦»çº¿å®‰è£…åŒ…å®‰è£…é€Ÿåº¦å¿«å¯ä»¥å¿«é€Ÿå®‰è£…"></a> 2.ä½¿ç”¨qt5.14.2ç¦»çº¿å®‰è£…åŒ…ï¼Œå®‰è£…é€Ÿåº¦å¿«ï¼Œå¯ä»¥å¿«é€Ÿå®‰è£…ã€‚</h3><h3 id="3å®‰è£…å®Œqt5142åæ‰“å¼€qtcreate401æ‰“å¼€-å·¥å…·-é€‰é¡¹-kitså‘ç°å¦‚ä¸‹å›¾è¯·æ·»åŠ å›¾ç‰‡æè¿°"><a class="markdownIt-Anchor" href="#3å®‰è£…å®Œqt5142åæ‰“å¼€qtcreate401æ‰“å¼€-å·¥å…·-é€‰é¡¹-kitså‘ç°å¦‚ä¸‹å›¾è¯·æ·»åŠ å›¾ç‰‡æè¿°"></a> 3.å®‰è£…å®Œqt.5.14.2åæ‰“å¼€QtCreate4.0.1ï¼Œæ‰“å¼€ å·¥å…·-&gt;é€‰é¡¹-&gt;Kits,å‘ç°å¦‚ä¸‹å›¾:<img src="3957818c37824febb58428f07be07c9c.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" /></h3><p>æ²¡æœ‰æ‰¾åˆ°MSVC2017,å®‰è£…qtæ—¶é€‰æ‹©å®‰è£…MSVC2017çš„ï¼Œ</p><h3 id="4æ‰“å¼€visual-studio-installerç¡®ä¿vs2022å·²ç»å®‰è£…msvc2017"><a class="markdownIt-Anchor" href="#4æ‰“å¼€visual-studio-installerç¡®ä¿vs2022å·²ç»å®‰è£…msvc2017"></a> 4.æ‰“å¼€Visual Studio Installerï¼Œç¡®ä¿VS2022å·²ç»å®‰è£…MSVC2017</h3><p><img src="1739412d46f8472694f032e11ed0adc9.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" /></p><h3 id="5ç¡®ä¿windowsdkæœ‰å®‰è£…"><a class="markdownIt-Anchor" href="#5ç¡®ä¿windowsdkæœ‰å®‰è£…"></a> 5.ç¡®ä¿WindowSDKæœ‰å®‰è£…</h3><p><img src="287d0be02ecb42709e3cd665e2862006.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" /></p><h3 id="6åˆ°qtcreateä¸­-å·¥å…·-é€‰é¡¹-debuggersæŸ¥çœ‹æœ‰æ²¡æœ‰è°ƒè¯•å™¨è¯·æ·»åŠ å›¾ç‰‡æè¿°"><a class="markdownIt-Anchor" href="#6åˆ°qtcreateä¸­-å·¥å…·-é€‰é¡¹-debuggersæŸ¥çœ‹æœ‰æ²¡æœ‰è°ƒè¯•å™¨è¯·æ·»åŠ å›¾ç‰‡æè¿°"></a> 6.åˆ°qtcreateä¸­ å·¥å…·-&gt;é€‰é¡¹-&gt;Debuggersï¼ŒæŸ¥çœ‹æœ‰æ²¡æœ‰è°ƒè¯•å™¨<img src="1cc37fa3551248208d90908988a0a839.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" /></h3><p>å¦‚æœæ²¡æœ‰,åˆ°æ§åˆ¶é¢æ¿-&gt;ç¨‹åºå¸è½½ï¼ŒæŸ¥æ‰¾<br /><img src="fe6bd62734f242f38173d4de966c6f90.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" /><br />å³å‡»-&gt;æ›´æ”¹ï¼Œå‹¾é€‰å¦‚ä¸‹å›¾<br /><img src="c6b0ed42d1cd4d9d85ccbee4e9a4c62c.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" /><br />ç­‰å¾…å®‰è£…å®Œæˆã€‚</p><h3 id="7å®‰è£…å®Œæˆååœ¨qtcreate-å·¥å…·-é€‰é¡¹-kits-debuggersä¸­çœ‹åˆ°cdbexeè°ƒè¯•å™¨è¯·æ·»åŠ å›¾ç‰‡æè¿°"><a class="markdownIt-Anchor" href="#7å®‰è£…å®Œæˆååœ¨qtcreate-å·¥å…·-é€‰é¡¹-kits-debuggersä¸­çœ‹åˆ°cdbexeè°ƒè¯•å™¨è¯·æ·»åŠ å›¾ç‰‡æè¿°"></a> 7.å®‰è£…å®Œæˆåï¼Œåœ¨qtcreate-&gt;å·¥å…·-&gt;é€‰é¡¹-&gt;kits-&gt;Debuggersä¸­çœ‹åˆ°cdb.exeè°ƒè¯•å™¨<img src="9881360ef2fb40bea4b6c0a919d74d8e.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" /></h3><h3 id="8é‡æ–°æ·»åŠ ç¼–è¯‘å™¨"><a class="markdownIt-Anchor" href="#8é‡æ–°æ·»åŠ ç¼–è¯‘å™¨"></a> 8.é‡æ–°æ·»åŠ ç¼–è¯‘å™¨</h3><p><img src="9a6a84129e2e418ea22fe1aa8e53c1f7.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" /><br /><img src="7830505dc93840c1861c605182d45ebf.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" /><br /><img src="7dea8eb776ba489d9e7e448bf749c197.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" /></p><h3 id="9é‡æ–°é…ç½®kitsä¸­æ„å»ºå¥—ä»¶kit"><a class="markdownIt-Anchor" href="#9é‡æ–°é…ç½®kitsä¸­æ„å»ºå¥—ä»¶kit"></a> 9.é‡æ–°é…ç½®Kitsä¸­æ„å»ºå¥—ä»¶(Kit)</h3><p><img src="2ff9dd414e594ce7a3ca891646758410.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" /><br /><img src="42f2e1b2e9ce4d458cfcb9c35eb606e2.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" /></p><h3 id="10å¦‚æœæŠ¥é”™"><a class="markdownIt-Anchor" href="#10å¦‚æœæŠ¥é”™"></a> 10.å¦‚æœæŠ¥é”™</h3><p><img src="05d22aabd75f49b1a24672e94bed155a.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" /><br />åŸå› <br /><img src="81302eb55c644d749558b922042c1b0e.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" /><br />è§£å†³<br /><img src="e22052e1461c4b5f933b9cea6ed9724e.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" /></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntuæ·»åŠ ç”¨æˆ·å¢åŠ sudoæˆæƒ</title>
      <link href="/2025/01/21/Ubuntu/Ubuntu%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E5%A2%9E%E5%8A%A0sudo%E6%8E%88%E6%9D%83/"/>
      <url>/2025/01/21/Ubuntu/Ubuntu%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E5%A2%9E%E5%8A%A0sudo%E6%8E%88%E6%9D%83/</url>
      
        <content type="html"><![CDATA[<h2 id="1å®‰è£…sudo"><a class="markdownIt-Anchor" href="#1å®‰è£…sudo"></a> 1.å®‰è£…sudo</h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install sudo</span><br></pre></td></tr></table></figure><h2 id="2åˆ›å»ºç”¨æˆ·"><a class="markdownIt-Anchor" href="#2åˆ›å»ºç”¨æˆ·"></a> 2.åˆ›å»ºç”¨æˆ·</h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo useradd -m username</span><br><span class="line">sudo passwd username</span><br><span class="line">sudo usermod -s /bin/bash username</span><br></pre></td></tr></table></figure><h2 id="3è®©ç”¨æˆ·æ‹¥æœ‰sudoæƒé™"><a class="markdownIt-Anchor" href="#3è®©ç”¨æˆ·æ‹¥æœ‰sudoæƒé™"></a> 3.è®©ç”¨æˆ·æ‹¥æœ‰sudoæƒé™</h2><p>åœ¨Linuxç³»ç»Ÿä¸­ï¼Œå¦‚æœä½ æƒ³è®©ä¸€ä¸ªåä¸ºusernameçš„ç”¨æˆ·æ‹¥æœ‰sudoæƒé™ï¼Œä½ éœ€è¦ç¼–è¾‘/etc/sudoersæ–‡ä»¶æˆ–è€…ä½¿ç”¨usermodå‘½ä»¤å°†è¯¥ç”¨æˆ·æ·»åŠ åˆ°sudoç»„ä¸­ï¼ˆå‡è®¾ä½ çš„ç³»ç»Ÿä½¿ç”¨sudoç»„æ¥ç®¡ç†sudoæƒé™ï¼‰ã€‚ä¸‹é¢æ˜¯ä¸¤ç§æ–¹æ³•çš„è¯¦ç»†æ­¥éª¤ï¼š</p><h3 id="æ–¹æ³•ä¸€ç¼–è¾‘etcsudoersæ–‡ä»¶"><a class="markdownIt-Anchor" href="#æ–¹æ³•ä¸€ç¼–è¾‘etcsudoersæ–‡ä»¶"></a> æ–¹æ³•ä¸€:ç¼–è¾‘/etc/sudoersæ–‡ä»¶</h3><p>åœ¨æ‰“å¼€çš„ç¼–è¾‘å™¨ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹è¡Œæ¥ç»™äºˆusernameç”¨æˆ·sudoæƒé™ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username ALL=(ALL:ALL) ALL</span><br></pre></td></tr></table></figure><p>è¿™è¡Œé…ç½®çš„æ„æ€æ˜¯ï¼šç”¨æˆ·usernameå¯ä»¥ä»ä»»ä½•ä¸»æœºï¼ˆALLï¼‰ä»¥ä»»ä½•ç”¨æˆ·ï¼ˆç¬¬ä¸€ä¸ªALLï¼‰å’Œä»»ä½•ç»„ï¼ˆç¬¬äºŒä¸ªALLï¼‰çš„èº«ä»½æ‰§è¡Œä»»ä½•å‘½ä»¤ï¼ˆæœ€åä¸€ä¸ªALLï¼‰ã€‚</p><h3 id="æ–¹æ³•äºŒä½¿ç”¨usermodå‘½ä»¤å°†ç”¨æˆ·æ·»åŠ åˆ°sudoç»„"><a class="markdownIt-Anchor" href="#æ–¹æ³•äºŒä½¿ç”¨usermodå‘½ä»¤å°†ç”¨æˆ·æ·»åŠ åˆ°sudoç»„"></a> æ–¹æ³•äºŒ:ä½¿ç”¨usermodå‘½ä»¤å°†ç”¨æˆ·æ·»åŠ åˆ°sudoç»„</h3><h4 id="1ç¡®ä¿å­˜åœ¨sudoç»„"><a class="markdownIt-Anchor" href="#1ç¡®ä¿å­˜åœ¨sudoç»„"></a> 1ï¼‰ç¡®ä¿å­˜åœ¨sudoç»„ï¼š</h4><p>åœ¨å¤§å¤šæ•°åŸºäºDebiançš„ç³»ç»Ÿï¼ˆå¦‚Ubuntuï¼‰ä¸­ï¼Œsudoç»„æ˜¯é»˜è®¤å­˜åœ¨çš„ã€‚ä½†åœ¨æŸäº›ç³»ç»Ÿä¸­ï¼Œå¯èƒ½éœ€è¦æ‰‹åŠ¨åˆ›å»ºæˆ–ç¡®è®¤è¯¥ç»„çš„å­˜åœ¨ã€‚</p><h4 id="2å°†ç”¨æˆ·usernameæ·»åŠ åˆ°sudoç»„"><a class="markdownIt-Anchor" href="#2å°†ç”¨æˆ·usernameæ·»åŠ åˆ°sudoç»„"></a> 2ï¼‰å°†ç”¨æˆ·usernameæ·»åŠ åˆ°sudoç»„</h4><p>ä½¿ç”¨usermodå‘½ä»¤çš„-aGé€‰é¡¹å°†ç”¨æˆ·æ·»åŠ åˆ°sudoç»„ï¼ŒåŒæ—¶ä¿ç•™ç”¨æˆ·åŸæœ‰çš„å…¶ä»–ç»„æˆå‘˜èµ„æ ¼ã€‚</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo usermod -aG sudo username</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UE5å’ŒVS2022ä¸‹è½½å®‰è£…</title>
      <link href="/2025/01/12/UE/UE5%E5%92%8CVS2022%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85/"/>
      <url>/2025/01/12/UE/UE5%E5%92%8CVS2022%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<p>å…ˆçœ‹ä¸€ä¸‹UEå’ŒVSçš„å…¼å®¹æ€§</p><p><img src="95d620d6fcf923253fc81839ec3a6c2d.png" alt="" /></p><p><img src="922fc85c063699f858c15b23459f4f4a.png" alt="" /></p><p>ä¸ºäº†è®©VSæ›´å¥½å…¼å®¹UE5ï¼Œå› æ­¤è¿™é‡Œä¸‹è½½VS2022ç‰ˆæœ¬</p><h2 id="æ­¥éª¤"><a class="markdownIt-Anchor" href="#æ­¥éª¤"></a> æ­¥éª¤</h2><h3 id="ä¸€-visual-studioä¸‹è½½å®‰è£…"><a class="markdownIt-Anchor" href="#ä¸€-visual-studioä¸‹è½½å®‰è£…"></a> ä¸€ã€Visual Studioä¸‹è½½å®‰è£…</h3><p>1. è¿›å…¥<a href="https://visualstudio.microsoft.com/zh-hans/vs/" title="Visual Studio å®˜ç½‘">Visual Studio å®˜ç½‘</a>ï¼Œç‚¹å‡»ä¸‹è½½</p><p><img src="473229b9ca4df2ca42f07a8172101436.png" alt="" /></p><p>ä¸‹è½½ç¤¾åŒºç‰ˆå³å¯</p><p><img src="371ffb77d1b674b34e766fe5567d7f5f.png" alt="" /></p><p>ä¸‹è½½åç‚¹å‡»åº”ç”¨ç¨‹åºå¼€å§‹å®‰è£…</p><p><img src="c574315478132dd359c907203a06a28c.png" alt="" /></p><p>2. åœ¨å®‰è£…ç¨‹åºçš„â€œå·¥ä½œè´Ÿè·â€é¢æ¿ï¼Œå…ˆå‹¾é€‰â€œä½¿ç”¨C++â€çš„æ¸¸æˆå¼€å‘ï¼Œç„¶åå‹¾é€‰â€œWindows 10 SDKâ€å’Œâ€œUnreal Engine å®‰è£…ç¨‹åºâ€</p><p><img src="61abf6f289d96993768f0a2e873782d9.png" alt="" /></p><p>åœ¨å®‰è£…ç¨‹åºçš„â€œå•ä¸ªç»„ä»¶â€é¢æ¿ï¼Œä¿è¯å¦‚ä¸‹é€‰é¡¹å·²è¢«å‹¾é€‰ï¼š</p><p><img src="db3581be82eb3aed589f05048e70f2e2.png" alt="" /></p><p><img src="d36eafea2e7b01fba4b0e927735c156c.png" alt="" /></p><p>3. å¯ä»¥å†è®¾ç½®ä¸€ä¸‹å®‰è£…ä½ç½®</p><p><img src="f728a21ccfa50377312447bcb1116db2.png" alt="" /></p><p>4. ç‚¹å‡»å®‰è£…</p><p><img src="37ae23423df7cf83f16783762a92564f.png" alt="" /></p><p>5. å…¶å®ƒæ³¨æ„<br />1.UE5.4ä¸æ”¯æŒVS2022ä¹‹å‰çš„ç‰ˆæœ¬</p><p>2.VS2022å®‰è£…é€‰é¡¹è¦æœ‰</p><p>.NET æ¡Œé¢å¼€å‘<br />ä½¿ç”¨ C++ è¿›è¡Œæ¡Œé¢å¼€å‘<br />ä½¿ç”¨ C++ è¿›è¡Œæ¸¸æˆå¼€å‘<br />C++ profiling tools<br />C++ AddressSanitizer<br />Windows 10 SDK (10.0.18362 or Newer)<br />Unreal Engine installer</p><p>åœ¨å•ä¸ªç»„ä»¶ä¸­ é€‰æ‹©<br />.netcore3.1(ä¸å—æ”¯æŒ)<br />.net6.0è¿è¡Œæ—¶(é•¿æœŸæ”¯æŒï¼‰<br />.netframework4.6.2<br />.netframework4.7.2<br />é»˜è®¤å‹¾ä¸­çš„ä¸ç”¨å–æ¶ˆ</p><h3 id="äºŒ-visual-studio-integration-toolæ’ä»¶å®‰è£…"><a class="markdownIt-Anchor" href="#äºŒ-visual-studio-integration-toolæ’ä»¶å®‰è£…"></a> äºŒã€Visual Studio Integration Toolæ’ä»¶å®‰è£…</h3><p>â€œVisual Studio Integration Toolâ€æ’ä»¶å¯ä¸Visual StudioååŒå·¥ä½œï¼Œä»¥åœ¨C++ä»£ç ä¸­æ˜¾ç¤ºæœ‰å…³è“å›¾èµ„äº§çš„ä¿¡æ¯ã€‚</p><p>åœ¨è™šå¹»å•†åŸä¸­æœç´¢â€œVisual Studio Integration Toolâ€æ’ä»¶å¹¶å®‰è£…åˆ°å¼•æ“</p><p><img src="95434a4121ccc0d263cc0f5af5300a9e.png" alt="" /></p><p>åœ¨è™šå¹»ç¼–è¾‘å™¨ä¸­çš„æ’ä»¶ä¸­æœç´¢â€œVisual Studio Integration Toolâ€å¹¶å‹¾é€‰</p><p><img src="17483e1a59c8b45bf74817727e77b646.png" alt="" /></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VS </tag>
            
            <tag> UE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸‹å®‰è£…navicat_navicat</title>
      <link href="/2025/01/02/Navicat/Linux%E4%B8%8B%E5%AE%89%E8%A3%85navicat/"/>
      <url>/2025/01/02/Navicat/Linux%E4%B8%8B%E5%AE%89%E8%A3%85navicat/</url>
      
        <content type="html"><![CDATA[<h3 id="1åœ¨httpswwwnavicatcomcndownloadnavicat-premiumä¸‹è½½navicatå®‰è£…åŒ…"><a class="markdownIt-Anchor" href="#1åœ¨httpswwwnavicatcomcndownloadnavicat-premiumä¸‹è½½navicatå®‰è£…åŒ…"></a> 1.åœ¨<a href="https://www.navicat.com.cn/download/navicat-premium" title="https://www.navicat.com.cn/download/navicat-premium">https://www.navicat.com.cn/download/navicat-premium</a>ä¸‹è½½navicatå®‰è£…åŒ…</h3><p><img src="b7ad4fbdb3b318e2e90856de20f3d9f1.png" alt="" /></p><h3 id="2åœ¨ç»ˆç«¯æ‰§è¡Œå‘½ä»¤"><a class="markdownIt-Anchor" href="#2åœ¨ç»ˆç«¯æ‰§è¡Œå‘½ä»¤"></a> 2.åœ¨ç»ˆç«¯æ‰§è¡Œå‘½ä»¤</h3><p>ç»™navicat16-premium-cs.AppImageèµ‹äºˆå¯æ‰§è¡Œçš„æƒé™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x navicat16-premium-cs.AppImage</span><br></pre></td></tr></table></figure><p>å¯åŠ¨Navicat16</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./navicat16-premium-cs.AppImage</span><br></pre></td></tr></table></figure><h3 id="3ç‚¹å‡»è¿æ¥mysqlè¾“å…¥è¿æ¥åä»¥åŠå¯†ç ç‚¹å‡»ç¡®å®š"><a class="markdownIt-Anchor" href="#3ç‚¹å‡»è¿æ¥mysqlè¾“å…¥è¿æ¥åä»¥åŠå¯†ç ç‚¹å‡»ç¡®å®š"></a> 3.ç‚¹å‡»è¿æ¥â€”â€”mysqlâ€”â€”è¾“å…¥è¿æ¥åä»¥åŠå¯†ç ï¼Œç‚¹å‡»ç¡®å®šã€‚</h3><p><img src="3c6c7628b05057f0a5040c60f69c7b60.png" alt="" /></p><p>å…¶ä¸­ï¼Œ</p><p>è¿æ¥åï¼šä¸ºè¿™æ¬¡è¿æ¥èµ·ä¸ªåå­—ï¼Œå¯ä»¥éšæ„å¡«å†™</p><p>ä¸»æœºï¼šmysqlæ•°æ®åº“æ‰€åœ¨çš„ä¸»æœºçš„ip</p><p>ç«¯å£ï¼šmysqlæœåŠ¡æ‰€åœ¨çš„ç«¯å£å·</p><p>ç”¨æˆ·åã€å¯†ç ï¼šç™»å½•mysqlæ—¶çš„ç”¨æˆ·åã€å¯†ç </p><p>å…¶å®å°±æ˜¯åœ¨ç»ˆç«¯æ‰§è¡ŒmysqlÂ  -h192.168.110.112Â  -P3306Â  -urootÂ  -på‘½ä»¤æ‰€å†™çš„å‚æ•°</p><p>ç‚¹å‡»æµ‹è¯•è¿æ¥å¯ä»¥æµ‹è¯•èƒ½å¦æ­£å¸¸è¿æ¥æŒ‡å®šçš„æ•°æ®åº“</p><h3 id="4navicat-éœ€è¦æ³¨å†Œå¦‚ä¸æ³¨å†Œåªæœ‰14å¤©çš„ä½¿ç”¨æ—¶é—´æ‰§è¡Œä¸‹é¢ä¸¤ä¸ªå‘½ä»¤å³å¯æ— é™ä½¿ç”¨"><a class="markdownIt-Anchor" href="#4navicat-éœ€è¦æ³¨å†Œå¦‚ä¸æ³¨å†Œåªæœ‰14å¤©çš„ä½¿ç”¨æ—¶é—´æ‰§è¡Œä¸‹é¢ä¸¤ä¸ªå‘½ä»¤å³å¯æ— é™ä½¿ç”¨"></a> 4.navicat éœ€è¦æ³¨å†Œï¼Œå¦‚ä¸æ³¨å†Œåªæœ‰14å¤©çš„ä½¿ç”¨æ—¶é—´ï¼Œæ‰§è¡Œä¸‹é¢ä¸¤ä¸ªå‘½ä»¤ï¼Œå³å¯æ— é™ä½¿ç”¨ï¼š</h3><p>å…³é—­Navicatç¨‹åºï¼Œåˆ é™¤å¦‚ä¸‹2ä¸ªæ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -rf ~/.config/navicat</span><br><span class="line"><span class="built_in">rm</span> -rf ~/.config/dconf/user</span><br></pre></td></tr></table></figure><p>å†æ¬¡é‡æ–°å¯åŠ¨navicatå³å¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Navicat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®¹å™¨æŠ€æœ¯-docker swarmï¼ˆä¸€ï¼‰</title>
      <link href="/2024/12/31/Docker/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF-docker%20swarm%EF%BC%88%E4%B8%80%EF%BC%89/"/>
      <url>/2024/12/31/Docker/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF-docker%20swarm%EF%BC%88%E4%B8%80%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h2 id="1-é›†ç¾¤çš„åŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#1-é›†ç¾¤çš„åŸºæœ¬æ¦‚å¿µ"></a> 1. é›†ç¾¤çš„åŸºæœ¬æ¦‚å¿µ</h2><p>æˆ‘ä»¬çš„åº”ç”¨éšç€ä¸šåŠ¡çš„æ‰©å±•ï¼Œä»å¼€å§‹çš„å•ä½“æ¶æ„ï¼Œåˆ°åˆ†å¸ƒå¼æ¶æ„ï¼Œå†åˆ°å¾®æœåŠ¡æ¶æ„ï¼Œå…¶ä¸­çš„æ ¸å¿ƒç†å¿µå°±æ˜¯ç”¨èµ„æºæ¢å–æ€§èƒ½ã€‚å•å°æœåŠ¡å™¨çš„æ€§èƒ½æ˜¯ç”±ç“¶é¢ˆçš„ï¼Œéšç€ä¸šåŠ¡çš„æ‰©å±•ã€è®¿é—®é‡çš„å¢å¤§ã€è®¡ç®—é‡çš„å¢å¤§ï¼ŒIOè¯»å†™éœ€æ±‚çš„å¢å¤§ï¼Œé€æ¸æ— æ³•æ”¯æ’‘ï¼Œäºæ˜¯ä¾¿é€šè¿‡é›†ç¾¤æŠ€æœ¯å°†å¤šå°æœºå™¨æ„æˆé›†ç¾¤ï¼Œè°ƒåº¦é›†ç¾¤å†…çš„å¤šå°æœåŠ¡å™¨ååŒè¿›è¡Œå·¥ä½œï¼Œä»¥æ»¡è¶³åº”ç”¨è¿è¡Œçš„éœ€è¦ï¼Œæå‡åº”ç”¨çš„æ€§èƒ½ã€‚è¿™æ˜¯åˆ†å¸ƒå¼æ¶æ„çš„åŸºæœ¬æ€æƒ³ã€‚</p><p>è¿™é‡Œçš„å…³é”®æŠ€æœ¯å°±æ˜¯é›†ç¾¤æŠ€æœ¯ã€‚é›†ç¾¤æ˜¯ä¸€ç»„ç›¸äº’ç‹¬ç«‹çš„ã€é€šè¿‡é«˜é€Ÿç½‘ç»œäº’è”çš„è®¡ç®—æœºæ„æˆäº†ä¸€ä¸ªç»„ï¼Œå¹¶ä»¥å•ä¸€ç³»ç»Ÿçš„æ¨¡å¼åŠ ä»¥ç®¡ç†ã€‚æ¯ä¸ªé›†ç¾¤èŠ‚ç‚¹éƒ½æ˜¯è¿è¡Œå…¶è‡ªå·±è¿›ç¨‹çš„ä¸€ä¸ªç‹¬ç«‹æœåŠ¡å™¨ï¼Œä½†æ˜¯å¯¹äºç”¨æˆ·æ¥è®²ï¼Œé›†ç¾¤å´åƒæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æœåŠ¡å™¨ã€ä¸€ä¸ªå•ä¸€çš„ç³»ç»Ÿï¼Œé›†ç¾¤æ¡†æ¶å°±åƒæ˜¯å¤šå°ç”µè„‘çš„æ“ä½œç³»ç»Ÿï¼Œå®ƒå°†å„ä¸ªèŠ‚ç‚¹ååŒèµ·æ¥å‘ç”¨æˆ·æä¾›ç³»ç»Ÿèµ„æºï¼Œç³»ç»ŸæœåŠ¡ï¼Œé€šè¿‡ç½‘ç»œè¿æ¥å½¢æˆä¸€ä¸ªä¸ªç»„åˆæ¥å…±åŒå®Œä¸€ä¸ªä¸ªä»»åŠ¡ã€‚é›†ç¾¤ç³»ç»Ÿæœ€æ ¸å¿ƒçš„æŠ€æœ¯å°±æ˜¯è°ƒåº¦æŠ€æœ¯ï¼Œå°±åƒä¸€å°ç”µè„‘æœ€æ ¸å¿ƒçš„å°±æ˜¯cpuçš„è°ƒåº¦èƒ½åŠ›ä¸€æ ·.</p><p>æ„å»ºé›†ç¾¤çš„ç›®çš„ï¼š</p><ul><li>1 æé«˜æ€§èƒ½<br />ä¸€äº›è®¡ç®—å¯†é›†å‹åº”ç”¨ï¼Œå¦‚ï¼šå¤©æ°”é¢„æŠ¥ã€æ ¸è¯•éªŒæ¨¡æ‹Ÿç­‰ï¼Œéœ€è¦è®¡ç®—æœºè¦æœ‰å¾ˆå¼ºçš„è¿ç®—å¤„ç†èƒ½åŠ›ï¼Œç°æœ‰çš„æŠ€æœ¯ï¼Œå³ä½¿æ™®é€šçš„å¤§å‹æœºå™¨è®¡ç®—ä¹Ÿå¾ˆéš¾èƒœä»»ã€‚è¿™æ—¶ï¼Œä¸€èˆ¬éƒ½ä½¿ç”¨è®¡ç®—æœºé›†ç¾¤æŠ€æœ¯ï¼Œé›†ä¸­å‡ åå°ç”šè‡³ä¸Šç™¾å°è®¡ç®—æœºçš„è¿ç®—èƒ½åŠ›æ¥æ»¡è¶³è¦æ±‚ã€‚æé«˜å¤„ç†æ€§èƒ½ä¸€ç›´æ˜¯é›†ç¾¤æŠ€æœ¯ç ”ç©¶çš„ä¸€ä¸ªé‡è¦ç›®æ ‡ä¹‹ä¸€ã€‚</li><li>2 é™ä½æˆæœ¬<br />é€šå¸¸ä¸€å¥—è¾ƒå¥½çš„é›†ç¾¤é…ç½®ï¼Œå…¶è½¯ç¡¬ä»¶å¼€é”€è¦è¶…è¿‡100000ç¾å…ƒã€‚ä½†ä¸ä»·å€¼ä¸Šç™¾ä¸‡ç¾å…ƒçš„ä¸“ç”¨è¶…çº§è®¡ç®—æœºç›¸æ¯”å·²å±ç›¸å½“ä¾¿å®œã€‚åœ¨è¾¾åˆ°åŒæ ·æ€§èƒ½çš„æ¡ä»¶ä¸‹ï¼Œé‡‡ç”¨è®¡ç®—æœºé›†ç¾¤æ¯”é‡‡ç”¨åŒç­‰è¿ç®—èƒ½åŠ›çš„å¤§å‹è®¡ç®—æœºå…·æœ‰æ›´é«˜çš„æ€§ä»·æ¯”ã€‚</li><li>3 æé«˜å¯æ‰©å±•æ€§<br />ç”¨æˆ·è‹¥æƒ³æ‰©å±•ç³»ç»Ÿèƒ½åŠ›ï¼Œä¸å¾—ä¸è´­ä¹°æ›´é«˜æ€§èƒ½çš„æœåŠ¡å™¨ï¼Œæ‰èƒ½è·å¾—é¢å¤–æ‰€éœ€çš„CPU å’Œå­˜å‚¨å™¨ã€‚å¦‚æœé‡‡ç”¨é›†ç¾¤æŠ€æœ¯ï¼Œåˆ™åªéœ€è¦å°†æ–°çš„æœåŠ¡å™¨åŠ å…¥é›†ç¾¤ä¸­å³å¯ï¼Œå¯¹äºå®¢æˆ·æ¥çœ‹ï¼ŒæœåŠ¡æ— è®ºä»è¿ç»­æ€§è¿˜æ˜¯æ€§èƒ½ä¸Šéƒ½å‡ ä¹æ²¡æœ‰å˜åŒ–ï¼Œå¥½åƒç³»ç»Ÿåœ¨ä¸çŸ¥ä¸è§‰ä¸­å®Œæˆäº†å‡çº§ã€‚</li><li>4 å¢å¼ºå¯é æ€§<br />é›†ç¾¤æŠ€æœ¯ä½¿ç³»ç»Ÿåœ¨æ•…éšœå‘ç”Ÿæ—¶ä»å¯ä»¥ç»§ç»­å·¥ä½œï¼Œå°†ç³»ç»Ÿåœè¿æ—¶é—´å‡åˆ°æœ€å°ã€‚é›†ç¾¤ç³»ç»Ÿåœ¨æé«˜ç³»ç»Ÿçš„å¯é æ€§çš„åŒæ—¶ï¼Œä¹Ÿå¤§å¤§å‡å°äº†æ•…éšœæŸå¤±ã€‚</li></ul><p>é›†ç¾¤æ ¹æ®åº”ç”¨åœºæ™¯å’Œä¾§é‡ç‚¹çš„ä¸åŒæœ‰ä¸åŒçš„åˆ†ç±»ï¼ŒåŒ…æ‹¬é«˜æ€§èƒ½è®¡ç®—é›†ç¾¤(ä¾§é‡å¹¶è¡Œè®¡ç®—)ã€è´Ÿè½½å‡è¡¡é›†ç¾¤ã€é«˜å¯ç”¨æ€§é›†ç¾¤ã€‚é›†ç¾¤æ˜¯é€šè¿‡é›†ç¾¤æ¡†æ¶ç»„ç»‡èµ·å¤šå°æœºå™¨å½¢æˆçš„ï¼Œé›†ç¾¤æ¡†æ¶ç›¸å½“äºé›†ç¾¤çš„æ“ä½œç³»ç»Ÿï¼Œé™¤äº†ç»„æˆé›†ç¾¤çš„æœºå™¨çš„æ€§èƒ½å½±å“å¤–ï¼Œå½±å“é›†ç¾¤èƒ½åŠ›å°±æ˜¯é›†ç¾¤æ¡†æ¶çš„è°ƒåº¦ç®—æ³•äº†ã€‚å¦‚æˆ‘åœ¨å¹³å¸¸å·¥ä½œä¸­ç»å¸¸æ¥è§¦æ›™å…‰è¶…ç®—å°±æ˜¯é«˜æ€§èƒ½è®¡ç®—æœºé›†ç¾¤ï¼ˆHPCï¼‰ã€‚</p><p>ç°å¦‚ä»Šï¼Œå¾ˆå¤šåº”ç”¨éƒ½æ”¯æŒé›†ç¾¤åŒ–éƒ¨ç½²ï¼Œå¦‚ä¾§é‡æ•°æ®å­˜å‚¨çš„mysqlé›†ç¾¤ã€ElasticSearché›†ç¾¤ç­‰ï¼Œä¾§é‡å¤§æ•°æ®å¤„ç†çš„Hadoopé›†ç¾¤ã€sparké›†ç¾¤ç­‰ï¼Œä¾§é‡ä»»åŠ¡è°ƒåº¦çš„Jenkinsé›†ç¾¤ã€chronosé›†ç¾¤ç­‰ï¼Œé›†ç¾¤åŒ–åº”ç”¨çš„è°ƒåº¦ç®—æ³•æ³¨é‡åº”ç”¨è‡ªèº«çš„ä»»åŠ¡ï¼Œæ ¹æ®åº”ç”¨ä¸åŒæœ‰å„è‡ªçš„ä¾§é‡ç‚¹ã€‚</p><p>è€Œæˆ‘ä»¬çš„åº”ç”¨åœ¨å¾®æœåŠ¡æ¶æ„ä¸‹ï¼Œéšç€ä¸šåŠ¡çš„æ‰©å±•ï¼ŒæœåŠ¡è¶Šæ¥è¶Šå¤šï¼Œæ€»ä¸èƒ½ä¸€ç›´å°†æ‰€æœ‰æœåŠ¡åŠå…¶ä¾èµ–çš„å®¹å™¨å…¨éƒ¨éƒ¨ç½²åœ¨ä¸€å°æœºå™¨ä¸Šï¼Œè¿™æ ·æœåŠ¡å™¨æ’‘ä¸ä½ï¼Œä¹Ÿå¤±å»äº†åˆ†å¸ƒå¼æ¶æ„çš„æ„ä¹‰ã€‚è¦å°†dockerå®¹å™¨éƒ¨ç½²åˆ°ä¸åŒæœºå™¨ä¸Šï¼Œåˆè¦è®©å®ƒä»¬åè°ƒå·¥ä½œï¼Œå¹¶ä¸”èƒ½å¤Ÿå¯¹è¿™äº›å®¹å™¨å¯¹è¿›è¡Œæ•æ·çš„ç”Ÿå‘½å‘¨æœŸçš„ç®¡ç†ï¼Œå°±éœ€è¦æ„å»ºå®¹å™¨é›†ç¾¤äº†ã€‚èƒ½å®ç°dockerå®¹å™¨é›†ç¾¤æ„å»ºå’Œç®¡ç†çš„å·¥å…·ä¹Ÿæœ‰å¤šç§ï¼Œå…¶ä¸­æœ€åŸºç¡€çš„å°±æ˜¯Docker Swarmã€‚</p><h2 id="2-docker-swarm"><a class="markdownIt-Anchor" href="#2-docker-swarm"></a> 2. Docker Swarm</h2><p><code>Swarm</code> æ˜¯ Docker å®˜æ–¹æä¾›çš„ä¸€æ¬¾é›†ç¾¤ç®¡ç†å·¥å…·ï¼Œå†…ç½®åœ¨dockerä¹‹ä¸­ï¼Œé€šè¿‡dockerå¼•æ“çš„SwarmKitæˆä¸º Docker çš„ä¸€ä¸ªå­å‘½ä»¤ï¼Œæ˜¯åŸç”Ÿçš„dockeré›†ç¾¤ç¼–æ’å·¥å…·ï¼Œæ˜¯æ›¾ç»çš„Dockerä¸‰å‰‘å®¢é¡¹ç›®ä¹‹ä¸€ã€‚é€šè¿‡Swarmå¯ä»¥ç”¨å‡ æ¡ç®€å•çš„å‘½ä»¤å°±å°†è‹¥å¹²å° Docker ä¸»æœºæŠ½è±¡ä¸ºä¸€ä¸ªæ•´ä½“ï¼Œå¿«é€Ÿçš„åˆ›å»ºä¸€ä¸ªdockeré›†ç¾¤ï¼Œå¹¶ä¸”é€šè¿‡ä¸€ä¸ªå…¥å£ç»Ÿä¸€ç®¡ç†é›†ç¾¤å„ä¸ªæœºå™¨ä¸Šçš„å„ç§ Docker èµ„æºã€‚</p><p>æèµ·å®¹å™¨é›†ç¾¤ç®¡ç†å°±ç»•ä¸å¼€k8sï¼Œç°åœ¨ä¸»æµçš„å®¹å™¨ç®¡ç†å·¥å…·å°±æ˜¯k8sï¼Œä½†æ˜¯Swarmé¡¹ç›®ä¹Ÿæ˜¯ä¸€ä¸ªç»å…¸ï¼Œå’Œk8så¯¹æ¯”ï¼ŒSwarmæ›´è½»é‡çº§ï¼Œæ˜¯äº†è§£å®¹å™¨é›†ç¾¤æŠ€æœ¯çš„å…¥é—¨å·¥å…·ï¼Œå¯¹äºä¸€äº›å°å‹çš„å®¹å™¨é›†ç¾¤åº”ç”¨åœºæ™¯æ˜¯å¾ˆç®€å•è€Œæœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚</p><p>ä¸€ä¸ª Swarm é›†ç¾¤ç”±ä¸€ä¸ªæˆ–å¤šä¸ª Docker èŠ‚ç‚¹ç»„æˆï¼Œè¿™äº›èŠ‚ç‚¹å¯ä»¥æ˜¯ç‰©ç†æœåŠ¡å™¨ã€è™šæ‹Ÿæœºæˆ–äº‘å®ä¾‹ï¼Œå”¯ä¸€çš„å‰æå°±æ˜¯æ‰€æœ‰èŠ‚ç‚¹é€šè¿‡å¯é çš„ç½‘ç»œç›¸è¿ã€‚èŠ‚ç‚¹åœ¨åŠ å…¥é›†ç¾¤çš„æ—¶å€™ä¼šè¢«é…ç½®ä¸ºç®¡ç†èŠ‚ç‚¹ï¼ˆManagerï¼‰æˆ–å·¥ä½œèŠ‚ç‚¹ï¼ˆWorkerï¼‰ï¼Œåç»­è¿˜èƒ½è¿›è¡Œå‡çº§æˆ–é™çº§ã€‚</p><p>ç®¡ç†èŠ‚ç‚¹è´Ÿè´£æ‰§è¡Œå®¹å™¨çš„ç¼–æ’å’Œé›†ç¾¤çš„ç®¡ç†å·¥ä½œï¼Œé›†ç¾¤ç¼–æ’ç®¡ç†æŒ‡ä»¤åœ¨mangerèŠ‚ç‚¹ä¸‹è¾¾ã€‚ç”±äºSwarmå®é™…ä¸Šæ˜¯é€šè¿‡agentè°ƒç”¨äº†æœ¬åœ°çš„<code>Docker daemon</code>æ¥è¿è¡Œå®¹å™¨ï¼Œå½“Swarmé›†ç¾¤æœåŠ¡å‡ºç°æ•…éšœæ—¶ï¼Œæ— æ³•æ¥å—æ–°çš„è¯·æ±‚ï¼Œä½†å·²ç»è¿è¡Œèµ·æ¥çš„å®¹å™¨å°†ä¸ä¼šå—åˆ°å½±å“ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä¸ºé¿å…å•ç‚¹æ•…éšœï¼Œswarmå¯ä»¥éƒ¨ç½²å¤šä¸ªmanagerèŠ‚ç‚¹ï¼Œdockerå®˜æ–¹å»ºè®®ä½¿ç”¨<code>å¥‡æ•°ä¸ªèŠ‚ç‚¹</code>ï¼Œæœ€å¥½æ˜¯3åˆ°5ä¸ªï¼Œä¸èƒ½å¤§äº7ä¸ªï¼Œè¿™äº›ç®¡ç†èŠ‚ç‚¹é‡‡ç”¨<code>ä¸»ä»</code>æ¨¡å¼ï¼Œåˆ†ä¸º<code>leader</code>å’Œ<code>follower</code>ï¼Œfollweræ¥æ”¶åˆ°å‘½ä»¤æ—¶ä¼šè½¬å‘ç»™leaderï¼Œå®ƒä»¬ä¼šé€šè¿‡Raftåè®®è¿›è¡ŒçŠ¶æ€åŒæ­¥ï¼Œå¹¶åœ¨LeaderèŠ‚ç‚¹å‘ç”Ÿæ•…éšœæ—¶åˆ†å¸ƒå¼é€‰ä¸¾å‡ºå¦ä¸€ä¸ªLeaderç»§ç»­æ‰§è¡Œç¼–æ’ä»»åŠ¡ã€‚</p><p>å·¥ä½œèŠ‚ç‚¹æ¥æ”¶æ¥è‡ªç®¡ç†èŠ‚ç‚¹çš„ä»»åŠ¡å¹¶æ‰§è¡Œï¼Œå¹¶ä¸”é»˜è®¤manager nodeä¹Ÿæ˜¯ä¸€ä¸ªwork nodeï¼Œä¸è¿‡å¯ä»¥å°†å®ƒè®¾ç½®ä¸º<code>Drain</code>æ¨¡å¼ï¼Œè®©å®ƒåªè´Ÿè´£ç¼–æ’å’Œç®¡ç†å·¥ä½œã€‚<br /><img src="edb958c93890abe3e3f1e97ecb7e3a0b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><strong>æœåŠ¡</strong>æ˜¯è¦åœ¨é›†ç¾¤èŠ‚ç‚¹ä¸Šæ‰§è¡Œçš„ä»»åŠ¡çš„å®šä¹‰ï¼Œå®ƒæ˜¯swarmç³»ç»Ÿçš„ä¸­å¿ƒç»“æ„ï¼Œæ˜¯ç”¨æˆ·ä¸swarmäº¤äº’çš„ä¸»è¦æ ¹æºã€‚åˆ›å»ºæœåŠ¡æ—¶ï¼ŒæŒ‡å®šåœ¨è¿è¡Œçš„å®¹å™¨ä¸­ä½¿ç”¨çš„å®¹å™¨æ˜ åƒå’Œæ‰§è¡Œçš„å‘½ä»¤ï¼ŒæœåŠ¡ä¸­è¿˜æœ‰è¯¸å¦‚æ‰©ç¼©å®¹ã€æ»šåŠ¨å‡çº§ä»¥åŠç®€å•å›æ»šç­‰ç‰¹æ€§ã€‚</p><p>æœåŠ¡åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šå…¨å±€æœåŠ¡ï¼ˆglobalï¼‰å’Œå¤åˆ¶æœåŠ¡ï¼ˆreplicatedï¼‰ã€‚<br /><strong>å¤åˆ¶æœåŠ¡</strong>ï¼šswarm managerä¼šæ ¹æ®æŒ‡ä»¤è®¾ç½®çš„è§„æ¨¡åœ¨èŠ‚ç‚¹ä¹‹é—´åˆ†é…ç‰¹å®šæ•°é‡çš„å‰¯æœ¬ä»»åŠ¡ã€‚<br /><strong>å…¨å±€æœåŠ¡</strong>ï¼šä¼šåœ¨é›†ç¾¤ä¸­çš„æ¯ä¸ªå¯ç”¨èŠ‚ç‚¹ä¸Šä¸ºè¯¥æœåŠ¡è¿è¡Œä¸€ä¸ªä»»åŠ¡ã€‚</p><p><strong>ä»»åŠ¡</strong>åŒ…å«ä¸€ä¸ªDockerå®¹å™¨å’Œå®¹å™¨è¿è¡Œçš„å‘½ä»¤ï¼Œå®ƒæ˜¯swarmçš„<code>æœ€å°è°ƒåº¦å•å…ƒ</code>ï¼Œä¼¼äºè°ƒåº¦å™¨æ”¾ç½®å®¹å™¨çš„â€œæ§½â€ã€‚ç®¡ç†å™¨èŠ‚ç‚¹æ ¹æ®æœåŠ¡è§„æ¨¡ä¸­è®¾ç½®çš„å‰¯æœ¬æ•°å°†ä»»åŠ¡åˆ†é…ç»™å·¥ä½œèŠ‚ç‚¹ï¼Œç”±å·¥ä½œèŠ‚ç‚¹å»æ‰§è¡Œã€‚ä»»åŠ¡ä¸€æ—¦åˆ†é…ç»™èŠ‚ç‚¹ï¼Œå°±ä¸èƒ½ç§»åŠ¨åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹ã€‚å®ƒåªèƒ½åœ¨æŒ‡å®šçš„èŠ‚ç‚¹ä¸Šè¿è¡Œæˆ–å¤±è´¥ã€‚ä¸€æ—¦å®¹å™¨å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œè°ƒåº¦ç¨‹åºå°±ä¼šè¯†åˆ«å‡ºä»»åŠ¡å¤„äºè¿è¡ŒçŠ¶æ€ã€‚å¦‚æœå®¹å™¨æœªé€šè¿‡è¿è¡ŒçŠ¶å†µæ£€æŸ¥æˆ–ç»ˆæ­¢ï¼Œåˆ™ä»»åŠ¡å°†ç»ˆæ­¢ã€‚<br /><img src="33e5fea1bd1ca077c50abbfec9521e87.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />swarm manageré»˜è®¤ä½¿ç”¨ <code>ingress</code> è´Ÿè½½å‡è¡¡æ¥æš´éœ²éœ€è¦è®©å¤–éƒ¨è®¿é—®çš„æœåŠ¡ã€‚æˆ‘ä»¬å¯ä»¥ä¸ºæœåŠ¡é…ç½®ä¸€ä¸ªå¤–éƒ¨ç«¯å£ï¼Œå¦‚æœæ²¡æœ‰æ˜¾å¼æŒ‡å®šç«¯å£çš„è¯ï¼Œé‚£ä¹ˆswarm managerä¼šè‡ªåŠ¨åˆ†é…30000-32767ä¹‹é—´çš„ä»»æ„ä¸€ä¸ªç«¯å£ç»™åˆ°serviceã€‚</p><p>swarnæ¨¡å¼æœ‰ä¸€ä¸ªå†…éƒ¨çš„DNSç»„ä»¶ï¼ŒSwarm managerèŠ‚ç‚¹ä¼šä¸ºé›†ç¾¤ä¸­çš„æ¯ä¸ªæœåŠ¡åˆ†é…å”¯ä¸€çš„DNSè®°å½•å’Œè´Ÿè½½å‡è¡¡VIPï¼Œé€šè¿‡Swarmå†…ç½®çš„DNSæœåŠ¡å™¨å¯ä»¥æŸ¥è¯¢åˆ°é›†ç¾¤ä¸­æ¯ä¸ªè¿è¡Œçš„å®¹å™¨ï¼Œå®ç°å¯¹æœåŠ¡çš„å„ä¸ªå‰¯æœ¬å®¹å™¨çš„æœåŠ¡å‘ç°ï¼Œä½¿ç”¨å†…éƒ¨è´Ÿè½½å‡è¡¡æœºåˆ¶æ¥æ¥å—é›†ç¾¤ä¸­èŠ‚ç‚¹çš„è¯·æ±‚ï¼ŒåŸºäºDNSåå­—è§£ææ¥å®ç°ã€‚</p><h2 id="3-é›†ç¾¤èŠ‚ç‚¹å‡†å¤‡"><a class="markdownIt-Anchor" href="#3-é›†ç¾¤èŠ‚ç‚¹å‡†å¤‡"></a> 3. é›†ç¾¤èŠ‚ç‚¹å‡†å¤‡</h2><p>åœ¨æ­å»ºé›†ç¾¤ä¹‹å‰éœ€è¦å…ˆå‡†å¤‡èŠ‚ç‚¹æœºå™¨ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨ä»¥ä¸‹ä¸‰å°æœºå™¨æ¥æ„å»ºé›†ç¾¤ã€‚</p><table><thead><tr><th>æ“ä½œç³»ç»Ÿ</th><th>ä¸»æœºå</th><th>ipåœ°å€</th></tr></thead><tbody><tr><td>centOS7.6</td><td>server</td><td>192.168.137.200</td></tr><tr><td>centOS7.6</td><td>woker1</td><td>192.168.137.201</td></tr><tr><td>centOS7.6</td><td>woker2</td><td>192.168.137.202</td></tr></tbody></table><p>å¯¹äºèŠ‚ç‚¹æœºå™¨éœ€è¦åšä»¥ä¸‹å‡†å¤‡ï¼š</p><ul><li>å®‰è£… Docker</li><li>ç¡®ä¿èƒ½ä¸å…¶ä»–èŠ‚ç‚¹é€šä¿¡ï¼Œé˜²ç«å¢™æ”¾è¡Œï¼Œæˆ–è€…è‡³å°‘å¼€æ”¾ä»¥ä¸‹ç«¯å£<ul><li>2377/tcpï¼šç”¨äºå®¢æˆ·ç«¯ä¸ Swarm è¿›è¡Œå®‰å…¨é€šä¿¡ã€‚</li><li>7946/tcp ä¸ 7946/udpï¼šç”¨äºæ§åˆ¶é¢ gossip åˆ†å‘ã€‚</li><li>4789/udpï¼šç”¨äºåŸºäº VXLAN çš„è¦†ç›–ç½‘ç»œã€‚</li></ul></li><li>é…ç½®ä¸»æœºåç§°ä»¥åŒºåˆ†ä¸åŒæœºå™¨</li><li>ç¡®ä¿èŠ‚ç‚¹æœºå™¨ä¹‹é—´æ—¶é—´åŒæ­¥</li></ul><p>é›†ç¾¤æœºå™¨æ¯”è¾ƒå°‘çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨è¿›è¡Œé…ç½®ã€‚</p><p>æ•´ç†çš„shellè„šæœ¬å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line">SERVER_NAME=(server worker1 worker2)</span><br><span class="line">SERVER_IP=(192.168.137.201 192.168.137.202 192.168.137.203)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é…ç½®æœ¬åœ°hosts</span></span><br><span class="line">sed -i &#x27;3,$d&#x27; /etc/hosts</span><br><span class="line">echo -e &quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">swarm cluster<span class="string">&quot; &gt;&gt; /etc/hosts</span></span></span><br><span class="line">let SER_LEN=$&#123;#SERVER_IP[@]&#125;-1</span><br><span class="line">for ((i=0;i&lt;=$SER_LEN;i++)); do</span><br><span class="line">    echo &quot;$&#123;SERVER_IP[i]&#125;  $&#123;SERVER_NAME[i]&#125;&quot; &gt;&gt; /etc/hosts</span><br><span class="line">done</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">åŒæ­¥serverçš„å¯†é’¥åˆ°å…¶ä»–èŠ‚ç‚¹</span></span></span><br><span class="line">SSH_RROT_PASSWD=123456</span><br><span class="line">bash &lt;(curl -sSL https://gitee.com/yx571304/olz/raw/master/shell/ssh-key-copy.sh) &quot;$(echo $&#123;SERVER_IP[@]&#125;)&quot; root $SSH_RROT_PASSWD</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">åŒæ­¥ hosts åˆ°å…¶ä»–èŠ‚ç‚¹</span></span></span><br><span class="line">for node in $&#123;SERVER_IP[@]&#125;; do</span><br><span class="line">    echo &quot;[INFO] scp hosts -----&gt; $node&quot;</span><br><span class="line">    scp /etc/hosts $node:/etc/hosts</span><br><span class="line">done</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">æ‰‹åŠ¨æŒ‡å®šç½‘å¡ eth0(æ­¤ç½‘å¡ä¸º SERVER_IP å˜é‡ä¸­çš„IPç½‘å¡)</span></span></span><br><span class="line">for node in $&#123;SERVER_IP[@]&#125;; do</span><br><span class="line">    ssh -T $node &lt;&lt;&#x27;EOF&#x27;</span><br><span class="line">    HOST_IF=eth0</span><br><span class="line">    HOST_IP=$(ip a|grep &quot;$HOST_IF$&quot;|awk &#x27;&#123;print $2&#125;&#x27;|cut -d&#x27;/&#x27; -f1)</span><br><span class="line">    hostnamectl set-hostname $(grep $HOST_IP /etc/hosts | awk &#x27;&#123;print $2&#125;&#x27;)</span><br><span class="line">EOF</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">for node in $&#123;SERVER_IP[@]&#125;; do</span><br><span class="line">    echo &quot;[INFO] Config -----&gt; $node&quot;</span><br><span class="line">    ssh -T $node &lt;&lt;&#x27;EOF&#x27;</span><br><span class="line">    # ä¼˜åŒ–sshè¿æ¥é€Ÿåº¦</span><br><span class="line">    sed -i &quot;s/#UseDNS yes/UseDNS no/&quot; /etc/ssh/sshd_config</span><br><span class="line">    sed -i &quot;s/GSSAPIAuthentication .*/GSSAPIAuthentication no/&quot; /etc/ssh/sshd_config</span><br><span class="line">    systemctl restart sshd</span><br><span class="line"></span><br><span class="line">    # é…ç½®é˜¿é‡Œäº‘yumæº</span><br><span class="line">    rm -f /etc/yum.repos.d/*.repo</span><br><span class="line">    curl -so /etc/yum.repos.d/epel-7.repo http://mirrors.aliyun.com/repo/epel-7.repo</span><br><span class="line">    curl -so /etc/yum.repos.d/Centos-7.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span><br><span class="line">    sed -i &#x27;/aliyuncs.com/d&#x27; /etc/yum.repos.d/Centos-7.repo /etc/yum.repos.d/epel-7.repo</span><br><span class="line">    </span><br><span class="line">    # é˜²ç«å¢™</span><br><span class="line">    firewall-cmd --set-default-zone=public</span><br><span class="line">    firewall-cmd --complete-reload</span><br><span class="line">    firewall-cmd --zone=public --add-port=2377/tcp --permanent</span><br><span class="line">    firewall-cmd --zone=public --add-port=7946/tcp --permanent</span><br><span class="line">    firewall-cmd --zone=public --add-port=7946/udp --permanent</span><br><span class="line">    firewall-cmd --zone=public --add-port=4789/udp --permanent</span><br><span class="line">    firewall-cmd --reload</span><br><span class="line"></span><br><span class="line">    # æ–‡ä»¶/è¿›ç¨‹ é™åˆ¶</span><br><span class="line">    if [ ! &quot;$(grep &#x27;# My Limits&#x27; /etc/security/limits.conf)&quot; ]; then</span><br><span class="line">        echo -e &quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">My Limits&quot;</span> &gt;&gt; /etc/security/limits.conf</span></span><br><span class="line">        echo &quot;* soft nofile 65535&quot; &gt;&gt; /etc/security/limits.conf</span><br><span class="line">        echo &quot;* hard nofile 65535&quot; &gt;&gt; /etc/security/limits.conf</span><br><span class="line">        echo &quot;* soft nproc 65535&quot;  &gt;&gt; /etc/security/limits.conf</span><br><span class="line">        echo &quot;* hard nproc 65535&quot;  &gt;&gt; /etc/security/limits.conf</span><br><span class="line">        echo &quot;* soft  memlock  unlimited&quot;  &gt;&gt; /etc/security/limits.conf</span><br><span class="line">        echo &quot;* hard memlock  unlimited&quot;  &gt;&gt; /etc/security/limits.conf</span><br><span class="line">    fi</span><br><span class="line"></span><br><span class="line">    # å¯ç”¨è·¯ç”±è½¬å‘</span><br><span class="line">    echo &#x27;net.ipv4.ip_forward = 1&#x27; &gt;&gt; /etc/sysctl.conf</span><br><span class="line">    echo &#x27;net.bridge.bridge-nf-call-iptables = 1&#x27; &gt;&gt; /etc/sysctl.conf</span><br><span class="line">    echo &#x27;net.bridge.bridge-nf-call-ip6tables = 1&#x27; &gt;&gt; /etc/sysctl.conf</span><br><span class="line"></span><br><span class="line">    # åŒæ—¶åŒä¸€ç”¨æˆ·å¯ä»¥ç›‘æ§çš„ç›®å½•æ•°é‡</span><br><span class="line">    echo &#x27;fs.inotify.max_user_watches=524288&#x27; &gt;&gt; /etc/sysctl.conf</span><br><span class="line"></span><br><span class="line">    # è¿›ç¨‹æ‹¥æœ‰VMA(è™šæ‹Ÿå†…å­˜åŒºåŸŸ)çš„æ•°é‡</span><br><span class="line">    echo &#x27;vm.max_map_count=655360&#x27; &gt;&gt; /etc/sysctl.conf</span><br><span class="line"></span><br><span class="line">    # TIME_WAIT</span><br><span class="line">    echo &#x27;net.ipv4.tcp_syncookies = 1&#x27; &gt;&gt; /etc/sysctl.conf</span><br><span class="line">    echo &#x27;net.ipv4.tcp_tw_reuse = 1&#x27; &gt;&gt; /etc/sysctl.conf</span><br><span class="line">    echo &#x27;net.ipv4.tcp_tw_recycle = 1&#x27; &gt;&gt; /etc/sysctl.conf</span><br><span class="line"></span><br><span class="line">    modprobe br_netfilter</span><br><span class="line">    sysctl -p -w /etc/sysctl.conf</span><br><span class="line">    </span><br><span class="line">    # stop/disable selinux</span><br><span class="line">    setenforce 0</span><br><span class="line">    sed -i &#x27;s#SELINUX=.*#SELINUX=disabled#&#x27; /etc/selinux/config</span><br><span class="line">EOF</span><br><span class="line">done</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è®¾ç½®æ—¶é—´åŒæ­¥</span></span><br><span class="line">for node in $&#123;SERVER_IP[@]&#125;; do</span><br><span class="line">    echo &quot;[INFO] Install ntpdate -----&gt; $node&quot;</span><br><span class="line">    ssh -T $node &lt;&lt;&#x27;EOF&#x27;</span><br><span class="line">    yum install -y ntpdate</span><br><span class="line">    ntpdate ntp1.aliyun.com</span><br><span class="line">    hwclock -w</span><br><span class="line">    crontab -l &gt; /tmp/crontab.tmp</span><br><span class="line">    echo &quot;*/20 * * * * /usr/sbin/ntpdate ntp1.aliyun.com &gt; /dev/null 2&gt;&amp;1 &amp;&amp; /usr/sbin/hwclock -w&quot; &gt;&gt; /tmp/crontab.tmp</span><br><span class="line">    cat /tmp/crontab.tmp | uniq &gt; /tmp/crontab</span><br><span class="line">    crontab /tmp/crontab</span><br><span class="line">    rm -f /tmp/crontab.tmp /tmp/crontab</span><br><span class="line">EOF</span><br><span class="line">done</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å®‰è£…docker, ä»å®‰è£…æºè·å–æœ€æ–°ç¨³å®šç‰ˆæœ¬å¹¶å®‰è£…(äºŒè¿›åˆ¶ç‰ˆ)</span></span><br><span class="line">for node in $&#123;SERVER_IP[@]&#125;; do</span><br><span class="line">    echo &quot;[INFO] Install docker -----&gt; $node&quot;</span><br><span class="line">    ssh -T $node &lt;&lt;&#x27;EOF&#x27;</span><br><span class="line">    bash &lt;(curl -sSL https://gitee.com/yx571304/olz/raw/master/shell/docker/install.sh) -i docker</span><br><span class="line">    sed -i &#x27;s/&quot;live-restore&quot;: true/&quot;live-restore&quot;: false/g&#x27; /etc/docker/daemon.json</span><br><span class="line">    systemctl daemon-reload</span><br><span class="line">    systemctl restart docker.service</span><br><span class="line">EOF</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šè„šæœ¬å°†æŠŠé›†ç¾¤æœºå™¨çš„ç¯å¢ƒé…ç½®å¥½ï¼Œå¹¶ä¸”ä¸ºæ¯å°æœºå™¨å®‰è£…å¥½dockerï¼Œä½¿ç”¨çš„æ—¶å€™æ³¨æ„ä¿®æ”¹<code>ERVER_NAME</code>ã€<code>SERVER_IP</code>ã€<code>SSH_RROT_PASSWD</code>ä»¥åŠ<code>HOST_IF</code>ã€‚</p><p>Ps: æµ‹è¯•ç¯å¢ƒä¸‹ä¹Ÿå¯ä»¥åˆ©ç”¨<code>docker machine</code>å¿«é€Ÿåˆ›å»ºdockerè™šæ‹Ÿä¸»æœºç”¨ä½œé›†ç¾¤èŠ‚ç‚¹ï¼Œæˆ–è€…é€šè¿‡ä»¥ä¸‹ç½‘ç«™<a href="https://labs.play-with-docker.com/">https://labs.play-with-docker.com/</a>ï¼Œå…è´¹åˆ›å»ºå‡ å°æœºå™¨è¿›è¡Œæµ‹è¯•ï¼Œè¿™é‡Œæä¾›çš„åœ¨çº¿è™šæ‹Ÿæœºåœ°å€åªèƒ½ä½¿ç”¨å››ä¸ªå°æ—¶ã€‚</p><h2 id="4-é›†ç¾¤æ„å»º"><a class="markdownIt-Anchor" href="#4-é›†ç¾¤æ„å»º"></a> 4. é›†ç¾¤æ„å»º</h2><p>ä¸åŒ…å«åœ¨ä»»ä½• Swarm ä¸­çš„ Docker èŠ‚ç‚¹ï¼Œç§°ä¸ºè¿è¡Œäºå•å¼•æ“ï¼ˆSingle-Engineï¼‰æ¨¡å¼ã€‚ä¸€æ—¦è¢«åŠ å…¥ Swarm é›†ç¾¤ï¼Œåˆ™åˆ‡æ¢ä¸º <code>Swarm æ¨¡å¼</code>ã€‚ç¬¬ä¸€æ­¥æˆ‘ä»¬è¦åšçš„å°±æ˜¯åˆå§‹åŒ– Swarmã€‚</p><h3 id="41-åˆå§‹åŒ–swarmé›†ç¾¤"><a class="markdownIt-Anchor" href="#41-åˆå§‹åŒ–swarmé›†ç¾¤"></a> 4.1 åˆå§‹åŒ–swarmé›†ç¾¤</h3><p>è¿™é‡Œæˆ‘å°†serveræœºå™¨ä½œä¸ºmanagerèŠ‚ç‚¹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker swarm init --advertise-addr 192.168.137.201</span><br></pre></td></tr></table></figure><p><code>docker swarm init</code> ä¼šé€šçŸ¥ Docker æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ Swarmï¼Œå¹¶å°†è‡ªèº«è®¾ç½®ä¸ºç¬¬ä¸€ä¸ªç®¡ç†èŠ‚ç‚¹ï¼ŒåŒæ—¶ä¹Ÿä¼šä½¿è¯¥èŠ‚ç‚¹å¼€Swarm æ¨¡å¼ã€‚</p><p><code>--advertise-addr</code> å‚æ•°é…ç½®å½“å‰ç®¡ç†èŠ‚ç‚¹çš„å‘å¸ƒåœ°å€ï¼Œå…¶ä»–èŠ‚ç‚¹å¿…é¡»èƒ½è¿æ¥è¿™ä¸ªåœ°å€ã€‚åœ¨æœºå™¨åªæœ‰ä¸€ä¸ªipçš„æƒ…å†µä¸‹å¯ä»¥çœç•¥ï¼Œå¦‚æœç”±å¤šä¸ªipåˆ™å¿…é¡»æ‰‹åŠ¨æŒ‡å®šã€‚<br /><img src="27f9b1ce60f5dfa2ee473c6879cbf201.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />çœ‹åˆ°ä»¥ä¸Šè¾“å‡ºå°±ä»£è¡¨è¿™swarmé›†ç¾¤åˆå§‹åŒ–æˆåŠŸã€‚è¾“å‡ºä¿¡æ¯ä¸­è¿˜åŒ…å«äº†å°†å…¶ä»–èŠ‚ç‚¹ä½œä¸ºç®¡ç†èŠ‚ç‚¹æˆ–è€…å·¥ä½œèŠ‚ç‚¹åŠ å…¥åˆ°é›†ç¾¤çš„æç¤ºã€‚</p><p>å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹é›†ç¾¤å’ŒèŠ‚ç‚¹çš„çŠ¶æ€ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker info</span><br></pre></td></tr></table></figure><p><img src="fd90a93c366912874e9686ec98e0eb4b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker node ls</span><br></pre></td></tr></table></figure><p><img src="1310da72cc591fd3acf2da8f53ca59f3.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />å¯ä»¥çœ‹åˆ°å½“å‰æœºå™¨å·²ç»ä½œä¸ºç®¡ç†èŠ‚ç‚¹ä¸­çš„leaderåŠ å…¥åˆ°é›†ç¾¤ä¸­äº†ã€‚</p><h3 id="42-èŠ‚ç‚¹åŠ å…¥é›†ç¾¤"><a class="markdownIt-Anchor" href="#42-èŠ‚ç‚¹åŠ å…¥é›†ç¾¤"></a> 4.2 èŠ‚ç‚¹åŠ å…¥é›†ç¾¤</h3><p>å…¶ä»–èŠ‚ç‚¹å¯ä»¥ä»¥å·¥ä½œèŠ‚ç‚¹æˆ–ç®¡ç†èŠ‚ç‚¹çš„æ–¹å¼åŠ å…¥é›†ç¾¤ã€‚å¦‚æœæ˜¯ä½œä¸ºå·¥ä½œèŠ‚ç‚¹ï¼Œåªéœ€è¦å¤åˆ¶é›†ç¾¤åˆå§‹åŒ–åçš„æç¤ºå‘½ä»¤åœ¨èŠ‚ç‚¹æœºå™¨ä¸Šæ‰§è¡Œå³å¯ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker swarm join --token SWMTKN-1-0hm7th9vtv18f3s41x1wb6ddcgwxv9yx54333bovht7vajykgx-780i8mbd9pfza43jl0gl564ef 192.168.137.201:2377</span><br></pre></td></tr></table></figure><p><img src="e9a916095115997194ba2de20743477e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />æˆ‘ä»¬ä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦æ–°å¢çš„èŠ‚ç‚¹çš„ç±»å‹ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤é‡æ–°è·å–åŠ å…¥æœºå™¨çš„å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker swarm join-token worker # æŸ¥çœ‹å·¥ä½œèŠ‚ç‚¹åŠ å…¥é›†ç¾¤çš„æŒ‡ä»¤å’Œä»¤ç‰Œ</span><br></pre></td></tr></table></figure><p><img src="6cbd3b401b1447053f192f6b51b1223e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker swarm join-token manager # æŸ¥çœ‹ç®¡ç†èŠ‚ç‚¹åŠ å…¥é›†ç¾¤çš„æŒ‡ä»¤å’Œä»¤ç‰Œ</span><br></pre></td></tr></table></figure><p><img src="d5d4b8f4b4fabb91fddbaedae42f4069.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />è¿œç¨‹è¿æ¥åˆ°worker1æœºå™¨ï¼Œå°†å…¶åŠ å…¥åˆ°é›†ç¾¤ä¸­<br /><img src="a90e7d04ac0a6c76df20005e9b797b4f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />å†è¿œç¨‹è¿æ¥åˆ°worker2æœºå™¨ï¼Œå°†å…¶åŠ å…¥åˆ°é›†ç¾¤ä¸­<br /><img src="67b21e68a1f89e498831c9f4a253ca69.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ä¹‹ååœ¨managerèŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯serveræœºå™¨ï¼Œå°±å¯ä»¥çœ‹åˆ°é›†ç¾¤çš„èŠ‚ç‚¹ä¿¡æ¯äº†(åªèƒ½æ˜¯managerèº«ä»½æ‰å¯æŸ¥çœ‹)ã€‚<br /><img src="f6260a21da5d494584efa316e5667ed2.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ä»¥ä¸Šæ˜¯æ‰‹åŠ¨åŠ å…¥é›†ç¾¤çš„è¿‡ç¨‹ï¼Œå¦‚æœåœ¨éœ€è¦å¿«é€ŸåŠ å…¥é›†ç¾¤çš„è¯ï¼Œå¯ä»¥åœ¨ä¸Šé¢é…ç½®èŠ‚ç‚¹æœºå™¨çš„shellè„šæœ¬çš„åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œåœ¨æœºå™¨é…ç½®å®Œæˆä¹‹åè‡ªåŠ¨æ„å»ºé›†ç¾¤</p><h3 id="43-åˆ·æ–°ä»¤ç‰Œ"><a class="markdownIt-Anchor" href="#43-åˆ·æ–°ä»¤ç‰Œ"></a> 4.3 åˆ·æ–°ä»¤ç‰Œ</h3><p>tokenæ˜¯ä¸€ä¸ªèŠ‚ç‚¹åŠ å…¥swarmé›†ç¾¤çš„å”¯ä¸€å¿…è¦æ¡ä»¶ï¼Œéå¸¸é‡è¦ï¼Œç‰¹åˆ«æ˜¯ç®¡ç†å™¨ä»¤ç‰Œï¼Œå› ä¸ºå®ƒä»¬å…è®¸æ–°çš„ç®¡ç†å™¨èŠ‚ç‚¹åŠ å…¥å¹¶è·å¾—å¯¹æ•´ä¸ªè¿›ç¨‹çš„æ§åˆ¶ã€‚tokenä¸åº”è¯¥ç»™å’Œåº”ç”¨æºç é‚£äº›å­˜æ”¾åœ¨ä¸€èµ·ï¼Œå®˜æ–¹æ¨è<code>è‡³å°‘6ä¸ªæœˆ</code>å¯¹tokenè¿›è¡Œä¸€æ¬¡åˆ·æ–°ã€‚</p><p>åˆ·æ–°ä»¤ç‰Œå‘½ä»¤å¦‚ä¸‹ï¼Œå¯ä»¥æŒ‡å®šåˆ·æ–°workerèŠ‚ç‚¹ä»¤ç‰Œè¿˜æ˜¯managerèŠ‚ç‚¹ä»¤ç‰Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker swarm join-token --rotate worker</span><br></pre></td></tr></table></figure><p><img src="45a6b35cd0147c8035911bdd3b18de38.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />tokenåˆ·æ–°å¯¹å·²åŠ å…¥é›†ç¾¤çš„èŠ‚ç‚¹ä¸ä¼šæœ‰å½±å“ï¼Œä½†æ˜¯åç»­æƒ³åŠ å…¥é›†ç¾¤çš„èŠ‚ç‚¹å¿…é¡»ä½¿ç”¨æ–°çš„tokenã€‚</p><h3 id="44-é›†ç¾¤é”å®š"><a class="markdownIt-Anchor" href="#44-é›†ç¾¤é”å®š"></a> 4.4 é›†ç¾¤é”å®š</h3><p>å°½ç®¡swarmå†…ç½®æœ‰å¾ˆå¤šçš„åŸç”Ÿå®‰å…¨æœºåˆ¶ï¼Œä½†æ˜¯é‡å¯ä¸€ä¸ªæ—§çš„ç®¡ç†èŠ‚ç‚¹æˆ–è¿›è¡Œå¤‡ä»½æ¢å¤ä»æœ‰å¯èƒ½å¯¹é›†ç¾¤é€ æˆå½±å“ã€‚</p><p>ä¸€ä¸ªæ—§çš„ç®¡ç†èŠ‚ç‚¹é‡æ–°æ¥å…¥ Swarm ä¼šè‡ªåŠ¨è§£å¯†å¹¶è·å¾— <code>Raft</code> æ•°æ®åº“ä¸­é•¿æ—¶é—´åºåˆ—çš„è®¿é—®æƒï¼Œè¿™ä¼šå¸¦æ¥å®‰å…¨éšæ‚£ã€‚</p><p>è¿›è¡Œå¤‡ä»½æ¢å¤å¯èƒ½ä¼šæŠ¹æ‰æœ€æ–°çš„ Swarm é…ç½®ã€‚</p><p>ä¸ºäº†è§„é¿ä»¥ä¸Šé—®é¢˜ï¼ŒDocker æä¾›äº†è‡ªåŠ¨é”æœºåˆ¶æ¥é”å®š Swarmï¼Œè¿™ä¼šå¼ºåˆ¶è¦æ±‚é‡å¯çš„ç®¡ç†èŠ‚ç‚¹åœ¨æä¾›ä¸€ä¸ªé›†ç¾¤è§£é”ç ä¹‹åæ‰æœ‰æƒä»æ–°æ¥å…¥é›†ç¾¤ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åœ¨é›†ç¾¤åˆå§‹åŒ–çš„æ—¶å€™å¯ç”¨swarmé›†ç¾¤çš„è‡ªåŠ¨é”å®šåŠŸèƒ½ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker swarm init --autolock --advertise-addr 192.168.137.201</span><br></pre></td></tr></table></figure><p>å¯¹äºå·²ç»å­˜åœ¨çš„é›†ç¾¤ï¼Œå¯ä»¥åœ¨ç®¡ç†èŠ‚ç‚¹ä¸Šé€šè¿‡ä»¥ä¸‹æ–¹å¼å¯åŠ¨æˆ–ç¦ç”¨è‡ªåŠ¨é”å®šåŠŸèƒ½ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker swarm update --autolock=true</span><br></pre></td></tr></table></figure><p><img src="1a0142d46616d3d407fe65a1901e3ccc.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />å¯ç”¨äº†è‡ªåŠ¨é”å®šåŠŸèƒ½ä¹‹åè¾“å‡ºçš„å¯†é’¥éå¸¸é‡è¦ï¼Œåç»­é›†ç¾¤é‡Œçš„ç®¡ç†èŠ‚ç‚¹é‡å¯ç­‰æ“ä½œéœ€è¦ç”¨åˆ°ï¼Œè¯·å¦¥å–„ä¿å­˜ã€‚</p><p>ä¸‹é¢æˆ‘å°†ä¸¤ä¸ªå·¥ä½œèŠ‚ç‚¹éƒ½å…ˆå‡çº§åˆ°ç®¡ç†èŠ‚ç‚¹<br /><img src="0c697cea32531fc6c6532140d1ea6a3f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />å¯ç”¨äº†è‡ªåŠ¨é”å®šåŠŸèƒ½ä¹‹åï¼Œç®¡ç†èŠ‚ç‚¹å°†é‡å¯ä¹‹åå°†æ— æ³•ç›´æ¥åŠ å…¥åˆ°é›†ç¾¤ä¸­ï¼Œåœ¨worker1ä¸Šé‡å¯docker<br /><img src="5bc9b2efc949f47567c15a97f6fda3ab.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />å°è¯•ä½¿ç”¨docker nodeå‘½ä»¤<br /><img src="7bcf83fe33c2b18fbdbbe0e80db6a892.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ä»serveræœºå™¨ä¸Šå¯ä»¥çœ‹åˆ°worker1èŠ‚ç‚¹å¤„äº <code>unreachable</code> çŠ¶æ€<br /><img src="c39285e921d140a025e24496630930ef.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />åœ¨worker1ä¸Šæ‰§è¡Œ <code>docker swarm unlock</code> å‘½ä»¤æ¥ä¸ºè§£é” Swarmï¼Œéœ€è¦æä¾›è§£é”ç ï¼Œä¹Ÿå°±æ˜¯åˆšæ‰é…ç½® <code>--autolock=true</code> æ—¶ç”Ÿäº§çš„å¯†é’¥ã€‚<br /><img src="5e4ee9fcfab6c83f1820797f4cb010b0.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />è§£é”ä¹‹åï¼Œworker1å°±é‡æ–°æ¥å…¥ Swarmï¼Œå†æ¬¡æ‰§è¡Œ docker node ls å‘½ä»¤å¯ä»¥çœ‹åˆ°æ˜¾ç¤º ready å’Œ reachableçŠ¶æ€äº†</p><p>æœ‰äº›æ—¶å€™æˆ‘ä»¬å¯èƒ½ä¼šå¿˜è®°è§£é”ç ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹ç°ç”¨çš„è§£é”ç </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker swarm unlock-key</span><br></pre></td></tr></table></figure><p><img src="c95fefa7b85379d1d79fa30bf149f8ae.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ä¸ºäº†ä¿è¯è§£é”ç çš„å®‰å…¨ï¼Œé¿å…æ³„éœ²ï¼Œæˆ‘ä»¬å¯ä»¥å®šæœŸçš„åˆ·æ–°æ›´æ¢è§£é”ç </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker swarm unlock-key --rotate</span><br></pre></td></tr></table></figure><p><img src="4e0726951db0998047c4e23e69682eab.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />å½“åˆ·æ–°è§£é”é’¥åŒ™æ—¶ï¼Œæˆ‘ä»¬å°†æ—§è§£é”ç çš„è®°å½•ä¿å­˜ä¸€æ®µæ—¶é—´ï¼Œå› ä¸ºè§£é”ç åœ¨ç®¡ç†èŠ‚ç‚¹ä¹‹é—´åŒæ­¥éœ€è¦ä¸€å°æ®µæ—¶é—´ï¼Œå¦‚æœå…¶ä»–ç®¡ç†èŠ‚ç‚¹åœ¨æ‹¿åˆ°æ–°è§£é”ç ä¹‹å‰å®•æœºï¼Œé‚£ä¹ˆå®ƒä»å¯èƒ½ç”¨æ—§è§£é”ç è§£é”ã€‚</p><h2 id="5-swarmé›†ç¾¤ç®¡ç†åŸºæœ¬å‘½ä»¤"><a class="markdownIt-Anchor" href="#5-swarmé›†ç¾¤ç®¡ç†åŸºæœ¬å‘½ä»¤"></a> 5. swarmé›†ç¾¤ç®¡ç†åŸºæœ¬å‘½ä»¤</h2><h3 id="51-docker-swarm"><a class="markdownIt-Anchor" href="#51-docker-swarm"></a> 5.1 docker swarm</h3><p>docker swarm å‘½ä»¤ç”¨äºé›†ç¾¤ç®¡ç†ï¼Œå¸¸ç”¨çš„å‘½ä»¤å¦‚ä¸‹ï¼Œå¯ç”¨â€“helpæŸ¥çœ‹è¯¦ç»†è¯´æ˜ï¼š<br /><img src="de8a4458c5e9fad9aa53522d5ca77b2c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="511-docker-swarm-init-option"><a class="markdownIt-Anchor" href="#511-docker-swarm-init-option"></a> 5.1.1 docker swarm init [OPTION]</h4><p>åˆå§‹åŒ–é›†ç¾¤ï¼Œå¸¸ç”¨å‚æ•°æœ‰ï¼š</p><ul><li>â€“advertise-addr: å¤šç½‘å¡çš„æƒ…å†µä¸‹ï¼ŒæŒ‡å®šéœ€è¦ä½¿ç”¨çš„ipï¼Œæˆ–è€…æŒ‡å®šä¸€ä¸ªèŠ‚ç‚¹ä¸Šæ²¡æœ‰çš„ IPï¼Œæ¯”å¦‚ä¸€ä¸ªè´Ÿè½½å‡è¡¡çš„ IP</li><li>â€“listen-addr: æŒ‡å®šç›‘å¬çš„ ip ä¸ç«¯å£ï¼Œé€šå¸¸ä¸ <code>--advertise-addr</code> ç›¸åŒ¹é…ï¼Œå¦‚æœ <code>--advertise-addr</code> è®¾ç½®äº†ä¸€ä¸ªè¿œç¨‹ IP åœ°å€ï¼ˆå¦‚è´Ÿè½½å‡è¡¡çš„IPåœ°å€ï¼‰ï¼Œè¯¥å±æ€§ä¹Ÿæ˜¯éœ€è¦è®¾ç½®çš„</li><li>â€“autolock: æŒ‡å®šé›†ç¾¤å¯ç”¨è‡ªåŠ¨é”å®šåŠŸèƒ½</li><li>â€“availability: èŠ‚ç‚¹çš„æœ‰æ•ˆæ€§(â€œactiveâ€|â€œpauseâ€|â€œdrainâ€)<ul><li>Activeï¼šé›†ç¾¤ä¸­è¯¥Nodeå¯ä»¥è¢«æŒ‡æ´¾Task</li><li>Pauseï¼šé›†ç¾¤ä¸­è¯¥Nodeä¸å¯ä»¥è¢«æŒ‡æ´¾æ–°çš„Taskï¼Œä½†æ˜¯å…¶ä»–å·²ç»å­˜åœ¨çš„Taskä¿æŒè¿è¡Œ</li><li>Drainï¼šé›†ç¾¤ä¸­è¯¥Nodeä¸å¯ä»¥è¢«æŒ‡æ´¾æ–°çš„Taskï¼ŒSwarm Scheduleråœæ‰å·²ç»å­˜åœ¨çš„Taskï¼Œå¹¶å°†å®ƒä»¬è°ƒåº¦åˆ°å¯ç”¨çš„Nodeä¸Š</li></ul></li></ul><h4 id="512-docker-swarm-join-token-option-worker-manager"><a class="markdownIt-Anchor" href="#512-docker-swarm-join-token-option-worker-manager"></a> 5.1.2 docker swarm join-token [OPTION] (worker | manager)</h4><p>ç®¡ç†é›†ç¾¤ä»¤ç‰Œï¼Œå¯æŸ¥çœ‹ã€åˆ·æ–°ä»¤ç‰Œï¼Œåªèƒ½åœ¨ç®¡ç†èŠ‚ç‚¹æ‰§è¡Œï¼Œå‚æ•°å¦‚ä¸‹ï¼š</p><ul><li>-q:åªè¾“å‡ºä»¤ç‰Œ</li><li>â€“rotate: åˆ·æ–°ä»¤ç‰Œ</li></ul><h4 id="513-docker-swarm-join-options-hostport"><a class="markdownIt-Anchor" href="#513-docker-swarm-join-options-hostport"></a> 5.1.3 docker swarm join [OPTIONS] HOST:PORT</h4><p>å°†ä¸€ä¸ªèŠ‚ç‚¹æœºå™¨åŠ å…¥é›†ç¾¤ï¼Œéœ€è¦åœ¨èŠ‚ç‚¹æœºå™¨ä¸Šæ‰§è¡Œï¼Œå¸¸ç”¨å‚æ•°å¦‚ä¸‹ï¼š</p><ul><li>â€“advertise-addr: å¤šç½‘å¡çš„æƒ…å†µä¸‹ï¼ŒæŒ‡å®šéœ€è¦ä½¿ç”¨çš„ip</li><li>â€“listen-addr: æŒ‡å®šç›‘å¬çš„ ip ä¸ç«¯å£ï¼Œé€šå¸¸ä¸ --advertise-addr ç›¸åŒ¹é…</li><li>â€“availability: èŠ‚ç‚¹çš„æœ‰æ•ˆæ€§(â€œactiveâ€|â€œpauseâ€|â€œdrainâ€)</li><li>â€“tokenï¼šé›†ç¾¤ä»¤ç‰Œ</li></ul><h4 id="514-docker-swarm-update-options"><a class="markdownIt-Anchor" href="#514-docker-swarm-update-options"></a> 5.1.4 docker swarm update [OPTIONS]</h4><p>æ›´æ–°é›†ç¾¤çŠ¶æ€ï¼Œåªèƒ½åœ¨ç®¡ç†èŠ‚ç‚¹æ‰§è¡Œï¼Œå¸¸ç”¨å‚æ•°å¦‚ä¸‹ï¼š</p><ul><li>â€“autolockï¼šä¿®æ”¹ç®¡ç†èŠ‚ç‚¹çš„è‡ªåŠ¨é”å®šåŠŸèƒ½é…ç½®ï¼Œå¯ç”¨å€¼æœ‰: trueã€false</li><li>â€“cert-expiryï¼šéªŒè¯èŠ‚ç‚¹ä¹‹é—´çš„é€šè®¯ä»¤ç‰Œçš„é—´éš”ï¼Œé»˜è®¤æ—¶2160å°æ—¶ï¼Œå¯ç”¨å•ä½: ns|us|ms|s|m|h</li><li>â€“dispatcher-heartbeatï¼šå¿ƒè·³åŒ…é—´éš”æ—¶é•¿ï¼Œé»˜è®¤5ç§’ï¼Œå¯ç”¨å•ä½ï¼šns|us|ms|s|m|h</li><li>â€“task-history-limitï¼šä»»åŠ¡å†å²è®°å½•ä¿ç•™é™åˆ¶</li></ul><h4 id="515-docker-swarm-leave-options"><a class="markdownIt-Anchor" href="#515-docker-swarm-leave-options"></a> 5.1.5 docker swarm leave [OPTIONS]</h4><p>è„±ç¦»é›†ç¾¤ï¼Œåœ¨éœ€è¦é€€å‡ºçš„èŠ‚ç‚¹æ‰§è¡Œï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªç®¡ç†èŠ‚ç‚¹çš„æƒ…å†µä¸‹ï¼Œç®¡ç†èŠ‚ç‚¹é€€å‡ºé›†ç¾¤ï¼Œé›†ç¾¤è§£æ•£ã€‚å‚æ•°å¦‚ä¸‹ï¼š</p><ul><li>-f: å¼ºåˆ¶é€€å‡ºé›†ç¾¤</li></ul><p>ä¸€ä¸ªèŠ‚ç‚¹é€€å‡ºé›†ç¾¤ä¹‹åï¼Œdocker node lså‘½ä»¤è¿˜å¯ä»¥çœ‹åˆ°è¯¥èŠ‚ç‚¹ä¿¡æ¯ï¼Œåªæ˜¯å¤„äºdownçŠ¶æ€ã€‚</p><h4 id="516-docker-swarm-unlock-key-options"><a class="markdownIt-Anchor" href="#516-docker-swarm-unlock-key-options"></a> 5.1.6 docker swarm unlock-key [OPTIONS]</h4><p>ç®¡ç†è§£é”ç ï¼Œå¯æŸ¥çœ‹ã€åˆ·æ–°è§£é”ç </p><ul><li>-qï¼šåªè¾“å‡ºè§£é”ç </li><li>â€“rotateï¼šåˆ·æ–°è§£é”ç </li></ul><h4 id="517-docker-swarm-unlock"><a class="markdownIt-Anchor" href="#517-docker-swarm-unlock"></a> 5.1.7 docker swarm unlock</h4><p>è§£é”ä¸€ä¸ªç®¡ç†èŠ‚ç‚¹</p><h3 id="52-docker-node"><a class="markdownIt-Anchor" href="#52-docker-node"></a> 5.2 docker node</h3><p>docker node å‘½ä»¤ç”¨äºèŠ‚ç‚¹ç®¡ç†ï¼Œå¸¸ç”¨çš„å‘½ä»¤å¦‚ä¸‹ï¼š<br /><img src="acda30f55c51c88391ffc5e4c0e03886.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="521-docker-node-ls-options"><a class="markdownIt-Anchor" href="#521-docker-node-ls-options"></a> 5.2.1 docker node ls [OPTIONS]</h4><p>åˆ—å‡ºé›†ç¾¤ä¸­çš„èŠ‚ç‚¹ï¼Œåªèƒ½åœ¨ç®¡ç†èŠ‚ç‚¹æ“ä½œ</p><h4 id="522-docker-node-inspect-options-selfnode-node"><a class="markdownIt-Anchor" href="#522-docker-node-inspect-options-selfnode-node"></a> 5.2.2 docker node inspect [OPTIONS] self|NODE [NODEâ€¦]</h4><p>æŸ¥çœ‹èŠ‚ç‚¹çš„è¯¦ç»†ä¿¡æ¯ï¼Œåªèƒ½åœ¨ç®¡ç†èŠ‚ç‚¹æ“ä½œ</p><ul><li>â€“prettyï¼šæ ¼å¼åŒ–è¾“å‡ºä¿¡æ¯<br />å¯ä»¥ä½¿ç”¨selfæŸ¥çœ‹å½“å‰èŠ‚ç‚¹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨èŠ‚ç‚¹åç§°æŸ¥çœ‹å…¶ä»–èŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡å¤šä¸ªèŠ‚ç‚¹åç§°ä¸€æ¬¡æ€§æŸ¥çœ‹å¤šä¸ªèŠ‚ç‚¹</li></ul><h4 id="523-docker-node-demote-node-node"><a class="markdownIt-Anchor" href="#523-docker-node-demote-node-node"></a> 5.2.3 docker node demote NODE [NODEâ€¦]</h4><p>å¯¹èŠ‚ç‚¹è¿›è¡Œé™çº§ï¼Œä»ç®¡ç†èŠ‚ç‚¹é™çº§åˆ°å·¥ä½œèŠ‚ç‚¹ï¼Œé€šè¿‡èŠ‚ç‚¹åç§°ä¸€æ¬¡æ€§å¯ä»¥å¯¹å¤šä¸ªå‡ ç‚¹è¿›è¡Œæ“ä½œï¼Œå°½é‡å¤šä¸ªèŠ‚ç‚¹è¿›è¡Œæ“ä½œï¼Œä¿æŒç®¡ç†èŠ‚ç‚¹æ˜¯å¥‡æ•°ä¸ªï¼Œåªèƒ½åœ¨ç®¡ç†èŠ‚ç‚¹æ“ä½œ</p><h4 id="524-docker-node-promote-node-node"><a class="markdownIt-Anchor" href="#524-docker-node-promote-node-node"></a> 5.2.4 docker node promote NODE [NODEâ€¦]</h4><p>å¯¹èŠ‚ç‚¹è¿›è¡Œå‡çº§ï¼Œä»å·¥ä½œèŠ‚ç‚¹å‡çº§åˆ°ç®¡ç†èŠ‚ç‚¹ï¼Œé€šè¿‡èŠ‚ç‚¹åç§°ä¸€æ¬¡æ€§å¯ä»¥å¯¹å¤šä¸ªå‡ ç‚¹è¿›è¡Œæ“ä½œï¼Œå°½é‡å¤šä¸ªèŠ‚ç‚¹è¿›è¡Œæ“ä½œï¼Œä¿æŒç®¡ç†èŠ‚ç‚¹æ˜¯å¥‡æ•°ä¸ªï¼Œåªèƒ½åœ¨ç®¡ç†èŠ‚ç‚¹æ“ä½œ</p><h4 id="525-docker-node-ps-options-node"><a class="markdownIt-Anchor" href="#525-docker-node-ps-options-node"></a> 5.2.5 docker node ps [OPTIONS] [NODEâ€¦]</h4><p>æŸ¥çœ‹èŠ‚ç‚¹ä¸Šæ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¯ä»¥é€šè¿‡èŠ‚ç‚¹åç§°æŸ¥çœ‹æŸä¸€èŠ‚ç‚¹çš„ä»»åŠ¡ï¼Œé»˜è®¤æ˜¯å½“å‰èŠ‚ç‚¹ï¼Œåªèƒ½åœ¨ç®¡ç†èŠ‚ç‚¹æ“ä½œ</p><h4 id="526-docker-node-update-options-node"><a class="markdownIt-Anchor" href="#526-docker-node-update-options-node"></a> 5.2.6 docker node update [OPTIONS] NODE</h4><p>æ›´æ”¹ä¸€ä¸ªèŠ‚ç‚¹çš„é…ç½®ï¼Œåªèƒ½åœ¨ç®¡ç†èŠ‚ç‚¹æ“ä½œ</p><ul><li>â€“availabilityï¼šæ›´æ”¹èŠ‚ç‚¹çš„çŠ¶æ€ï¼Œå¯ç”¨çŠ¶æ€æœ‰ï¼šâ€œactiveâ€ã€â€œpauseâ€ã€â€œdrainâ€</li><li>â€“label-addï¼šä¸ºèŠ‚ç‚¹æ·»åŠ æˆ–æ›´æ–°æ ‡ç­¾ï¼Œä»¥key=valueçš„å½¢å¼</li><li>â€“label-rmï¼šç§»é™¤èŠ‚ç‚¹æ ‡ç­¾</li><li>â€“roleï¼šè®¾ç½®èŠ‚ç‚¹è§’è‰²ï¼Œå¯ç”¨å€¼ï¼šâ€œworkerâ€ã€â€œmanagerâ€ï¼Œç›¸å½“äºå‡é™çº§</li></ul><h4 id="527-docker-node-rm-options-node-node"><a class="markdownIt-Anchor" href="#527-docker-node-rm-options-node-node"></a> 5.2.7 docker node rm [OPTIONS] NODE [NODEâ€¦]</h4><p>é€šè¿‡èŠ‚ç‚¹åç§°ç§»é™¤èŠ‚ç‚¹ï¼Œåªèƒ½åœ¨ç®¡ç†èŠ‚ç‚¹æ“ä½œï¼Œå¯ä»¥ä¸€æ¬¡ç§»é™¤å¤šä¸ªèŠ‚ç‚¹ï¼Œä¸€ä¸ªèŠ‚ç‚¹ä½¿ç”¨docker swarm leaveå‘½ä»¤è„±ç¦»é›†ç¾¤ä¹‹åè¿˜å¯ä»¥ç”¨docker node lså‘½ä»¤çœ‹åˆ°ï¼Œä½¿ç”¨docker node rmç§»é™¤çš„èŠ‚ç‚¹å°†å½»åº•ä¸å†é›†ç¾¤ä¸­ã€‚</p><ul><li>-fï¼šå¼ºåˆ¶ç§»é™¤</li></ul><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br />åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/weixin_37648525/article/details/125346643">https://blog.csdn.net/weixin_37648525/article/details/125346643</a></p>]]></content>
      
      
      <categories>
          
          <category> è™šæ‹ŸåŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>xargså‘½ä»¤ç”¨æ³•</title>
      <link href="/2024/12/30/Ubuntu/xargs%E5%91%BD%E4%BB%A4%E7%94%A8%E6%B3%95/"/>
      <url>/2024/12/30/Ubuntu/xargs%E5%91%BD%E4%BB%A4%E7%94%A8%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>äº‹ä¾‹1ï¼šæŠŠæ–‡ä»¶ç»“æœåšä¸ºå‚æ•°ï¼ŒæŸ¥çœ‹æ–‡ä»¶å¤§å°</p><p><img src="1267400-20221010172646605-934330873.png" alt="" /></p><p>cat 1.txt | xargs -i ls -hl {}</p><p><img src="1267400-20221010172646561-1419744810.png" alt="" /></p><p>-iÂ  ç”¨ {} ä»£æ›¿ä¼ é€’çš„æ•°æ®</p><p>{}Â  ä½œä¸ºcatçš„ç»“æœï¼Œåœ¨xargsä½œä¸ºä¸€ä¸ªå‚æ•°</p><p>ls : æ­¤å¤„ä¸æ”¯æŒå‘½ä»¤åˆ«åï¼Œä½¿ç”¨llä¼šæŠ¥é”™</p><p><img src="1267400-20221010172646630-952469597.png" alt="" /></p><p>äº‹ä¾‹2ï¼šæŠŠfindå‡ºæ¥çš„æ–‡ä»¶å¤åˆ¶åˆ°æŒ‡å®šç›®å½•ä¸‹</p><p>æ€è·¯ï¼š</p><p>1ï¼‰æŠŠéœ€è¦æŸ¥æ‰¾çš„æ–‡ä»¶åç§°å­˜æ”¾åˆ°1.txtæ–‡ä»¶é‡Œé¢</p><p>2ï¼‰é€šè¿‡forå¾ªç¯æ‰¾åˆ°æ–‡ä»¶</p><p>3ï¼‰é€šè¿‡xargs -i å¤åˆ¶æ‰¾åˆ°çš„æ–‡ä»¶</p><p>cat 1.txt</p><p>for i in `cat 1.txt`; do find .Â Â -name â€œ$iâ€ |xargs -i cp {} /tmp/`date +%Y%m%d`Â Â ;done</p><p>ll /tmp/`date +%Y%m%d`</p><p><img src="1267400-20221010172646623-1574160751.png" alt="" /></p><p>-iÂ  å’Œ-I çš„åŒºåˆ«ï¼Œ-I è¦åŠ ä¸€ä¸ª{}</p><p>-i :Â Â xargs -iÂ  Â  Â  Â cp {} /tmp/</p><p>-I :Â  xargs -I {}Â Â Â cp {} /tmp/</p><p>[root@localhost ~]# for i in `cat 1.txt`; do find .Â Â -name â€œ$iâ€ |xargs -iÂ Â cp {} /tmp/`date +%Y%m%d`Â Â ;done</p><p>[root@localhost ~]# rm -f /tmp/20220811/*</p><p>[root@localhost ~]# for i in `cat 1.txt`; do find .Â Â -name â€œ$iâ€ |xargs -I {}Â Â Â cp {} /tmp/`date +%Y%m%d`Â Â ;done</p><p>[root@localhost ~]# ll /tmp/20220811/</p><p>æ€»ç”¨é‡ 8</p><p>-rw-râ€“r-- 1 root root 2656 8æœˆÂ Â 11 17:54 nginx.conf</p><p>-rw-râ€“r-- 1 root rootÂ Â 744 8æœˆÂ Â 11 17:54 <a href="http://ping-test.sh">ping-test.sh</a></p><p>äº‹ä¾‹3ï¼šæ‰¹é‡åˆ é™¤dockerå®¹å™¨</p><p>åˆ é™¤å®¹å™¨ï¼šdocker ps -aq | xargs docker rm</p><p>åˆ é™¤é•œåƒï¼šdocker images -q | xargs docker rmi</p><p>-fÂ  å¼ºåˆ¶åˆ é™¤</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®¹å™¨æŠ€æœ¯-docker swarmï¼ˆäºŒï¼‰</title>
      <link href="/2024/12/30/Docker/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF-docker%20swarm%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
      <url>/2024/12/30/Docker/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF-docker%20swarm%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬ç¯‡æ˜¯ docker swarm æŠ€æœ¯ç‚¹çš„ç¬¬äºŒç¯‡ï¼Œåœ¨ä¸Šä¸€ç¯‡ å®¹å™¨æŠ€æœ¯â€”docker swarmï¼ˆä¸€ï¼‰çš„åŸºç¡€ä¸Šç»§ç»­å¾€ä¸‹è®²ã€‚</p></blockquote><h2 id="6-éƒ¨ç½²æœåŠ¡"><a class="markdownIt-Anchor" href="#6-éƒ¨ç½²æœåŠ¡"></a> 6. éƒ¨ç½²æœåŠ¡</h2><h3 id="61-åŸºæœ¬éƒ¨ç½²æ“ä½œ"><a class="markdownIt-Anchor" href="#61-åŸºæœ¬éƒ¨ç½²æ“ä½œ"></a> 6.1 åŸºæœ¬éƒ¨ç½²æ“ä½œ</h3><p>åŸºäºdocker swarmçš„dockeré›†ç¾¤å·²ç»æ­å»ºå®Œæˆï¼Œæˆ‘ä»¬çš„ç›®çš„æ˜¯è¦åœ¨é›†ç¾¤ä¸­éƒ¨ç½²åº”ç”¨ã€‚swarmé›†ç¾¤éƒ¨ç½²åº”ç”¨æœ€åŸºæœ¬çš„å‘½ä»¤æ˜¯docker serviceï¼Œå®ƒçš„ä½¿ç”¨æ–¹å¼ç±»ä¼¼äºdocker containerï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸€ç›´ç”¨çš„dockerå‘½ä»¤ï¼Œdockerå‘½ä»¤æ˜¯docker containerçš„ç®€å†™ï¼‰ï¼Œä¹Ÿå’Œdocker containerå‘½ä»¤ä¸€æ ·é€‚åˆéƒ¨ç½²å•ä¸ªåº”ç”¨ï¼Œä¸èƒ½è¿›è¡Œç¼–æ’ï¼Œåªä¸è¿‡ä¸€ä¸ªæ˜¯ç”¨äºå•æœºï¼Œä¸€ä¸ªç”¨äºé›†ç¾¤ã€‚</p><p>ä¸‹é¢ä»¥åœ¨swarmé›†ç¾¤ä¸­éƒ¨ç½²nginxä¸ºä¾‹ï¼š</p><p>é»˜è®¤çš„æƒ…å†µä¸‹ï¼Œç®¡ç†èŠ‚ç‚¹ä¹Ÿæ˜¯ä¸€ä¸ªå·¥ä½œèŠ‚ç‚¹ï¼ŒæœåŠ¡ä¹Ÿä¼šéƒ¨ç½²åœ¨äº†ç®¡ç†èŠ‚ç‚¹ä¸Šï¼Œå¦‚æœæˆ‘ä»¬ä¸å¸Œæœ›æœåŠ¡éƒ¨ç½²åœ¨ç®¡ç†èŠ‚ç‚¹ä¸Šçš„è¯ï¼Œå¯ä»¥å°†ç®¡ç†èŠ‚ç‚¹è®¾ç½®ä¸ºdarinçŠ¶æ€ã€‚<br /><img src="f793ce05cb236f3ef09eed07a780683c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ä¹‹åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤éƒ¨ç½²nginxåº”ç”¨ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service create --name nginx-test --replicas 2 -p 8080:80 nginx:1.21.6</span><br></pre></td></tr></table></figure><p><img src="fb41ca816a3d3ac90cc9f509fb78b281.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />swarmé›†ç¾¤ä¸­è¿›è¡Œåº”ç”¨éƒ¨ç½²ä½¿ç”¨docker swarm createå‘½ä»¤ï¼Œè¯¥å‘½ä»¤ä¸ç†Ÿæ‚‰çš„ docker container run å‘½ä»¤çš„è®¸å¤šå‚æ•°æ˜¯ç›¸åŒçš„ï¼Œä¸Šé¢çš„å‘½ä»¤ä¸­å£°æ˜åŸºäºnginx:1.21.6é•œåƒéƒ¨ç½²åº”ç”¨ï¼ŒæœåŠ¡åç§°ä¸ºnginx-testï¼Œå°†å®¹å™¨å†…éƒ¨çš„80ç«¯å£æ˜ å°„åˆ°é›†ç¾¤ç½‘ç»œçš„8080ç«¯å£ï¼Œåœ¨é›†ç¾¤èŠ‚ç‚¹ä¹‹ä¸­ä¿æŒ2ä¸ªæœåŠ¡å‰¯æœ¬(å³ä¸¤ä¸ªå®¹å™¨)ã€‚ä»ä¸Šé¢çš„è¾“å‡ºè¿˜å¯ä»¥çœ‹å‡ºï¼Œç®¡ç†èŠ‚ç‚¹é¦–å…ˆä¼šæ ¹æ®ç‰ˆæœ¬è·å–é•œåƒæ‘˜è¦ï¼Œå¦‚æœç®¡ç†èŠ‚ç‚¹è·å–ä¸åˆ°ï¼Œåˆ™è¿˜æœ‰åœ¨å„ä¸ªèŠ‚ç‚¹åˆ†åˆ«å°è¯•è·å–ï¼Œç„¶åæ‹‰å–é•œåƒã€‚</p><p>å‘½ä»¤æ‰§è¡Œå®Œæˆä¹‹åï¼Œå¯ä»¥é€šè¿‡docker service lsæŸ¥çœ‹æœåŠ¡çš„çŠ¶æ€</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service ls</span><br></pre></td></tr></table></figure><p><img src="5791d835a24586198efe371ad2e54149.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />å¯ä»¥çœ‹åˆ°æœåŠ¡å·²ç»éƒ¨ç½²æˆå‘˜ï¼Œ2/2è¡¨ç¤ºä¸¤ä¸ªæœåŠ¡å‰¯æœ¬éƒ½æ­£å¸¸ã€‚æˆ‘ä»¬åˆ›å»ºçš„æ‰€æœ‰æœåŠ¡éƒ½ä¼šè¢« Swarm æŒç»­ç›‘æ§ï¼ŒSwarm ä¼šåœ¨åå°è¿›è¡Œè½®è®­æ£€æŸ¥ï¼ˆReconciliation Loopï¼‰ï¼Œæ¥æŒç»­æ¯”è¾ƒæœåŠ¡çš„å®é™…çŠ¶æ€å’ŒæœŸæœ›çŠ¶æ€æ˜¯å¦ä¸€è‡´ã€‚å¦‚æœä¸€è‡´ï¼Œåˆ™æ— é¡»ä»»ä½•é¢å¤–æ“ä½œï¼›å¦‚æœä¸ä¸€è‡´ï¼ŒSwarm ä¼šä½¿å…¶ä¸€è‡´ã€‚æ¢å¥è¯è¯´ï¼ŒSwarm ä¼šä¸€ç›´ç¡®ä¿å®é™…çŠ¶æ€èƒ½å¤Ÿæ»¡è¶³æœŸæœ›çŠ¶æ€çš„è¦æ±‚ã€‚</p><p>ä¾‹å¦‚è¿™é‡Œçš„ä¸¤ä¸ªnginxçš„å®¹å™¨å…¶ä¸­ä¸€ä¸ªå®•æœºäº†ï¼Œswarmä¼šé‡æ–°å¯åŠ¨ä¸€ä¸ªå‰¯æœ¬ï¼Œè®©æ­£å¸¸è¿è¡Œçš„nginxå®¹å™¨å§‹ç»ˆä¿æŒåœ¨ä¸¤ä¸ªï¼Œè¿™ä½¿å¾—æœåŠ¡åœ¨é¢å¯¹èŠ‚ç‚¹å®•æœºç­‰é—®é¢˜æ—¶å…·æœ‰è‡ªæ„ˆèƒ½åŠ›ã€‚</p><p>é€šè¿‡docker service ps nginx-testæŸ¥çœ‹æœåŠ¡çš„è¯¦ç»†ä¿¡æ¯<br /><img src="9b608f45519872598bce851684c5b74d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />å¯ä»¥çœ‹åˆ°ï¼Œä¸¤ä¸ªnginxå®¹å™¨åˆ†åˆ«å¯åŠ¨åœ¨serverèŠ‚ç‚¹å’Œworker1èŠ‚ç‚¹ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡swarmé›†ç¾¤ä¸­çš„ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹çš„ipåŠ ä¸Šå¼€æ”¾å‡ºæ¥çš„8080ç«¯å£è®¿é—®åˆ°nginxåº”ç”¨ã€‚<br /><img src="5f60d423e21c6fc1da6d47ed40a5ef47.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />è¿™é‡Œæˆ‘é€šè¿‡192.168.137.201è¿™ä¸ªipè¿›è¡Œè®¿é—®ï¼Œä¹Ÿèƒ½è®¿é—®å¾—é€šã€‚192.168.137.201å¯¹äºçš„èŠ‚ç‚¹æ˜¯serverï¼Œè€Œå¯åŠ¨çš„nginxå®¹å™¨å¹¶æ²¡æ³•åœ¨serverä¸Šï¼Œè¿™æ˜¯å› ä¸ºåœ¨é»˜è®¤çš„æƒ…å†µä¸‹swarmé›†ç¾¤é‡‡ç”¨ingressæ¨¡å¼å‘å¸ƒç«¯å£ï¼Œé€šè¿‡è·¯ç”±ç½‘æ ¼æ¨¡å¼è®©æˆ‘ä»¬å‘å¸ƒçš„ç«¯å£åœ¨é›†ç¾¤æ¯ä¸€ä¸ªèŠ‚ç‚¹ä¸Šå£éƒ½å¯ä»¥è®¿é—®ï¼Œå†é€šè¿‡å†…éƒ¨çš„è´Ÿè½½å‡è¡¡è‡ªåŠ¨è½¬å‘åˆ°å®é™…çš„è¿è¡Œçš„å®¹å™¨ä¹‹ä¸­ã€‚</p><p>æˆ‘ä»¬çš„åº”ç”¨åœ¨å®é™…çš„åº”ç”¨ä¸­å¯èƒ½ä¼šæ ¹æ®è®¿é—®é‡è¿›è¡Œæ‰©å®¹ã€ç¼©å®¹ï¼Œå³æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´å®¹å™¨å¯åŠ¨çš„æ•°é‡ï¼Œé€šè¿‡docker service scaleå‘½ä»¤å¯ä»¥å¾ˆæ–¹ä¾¿å¾—è¿›è¡Œæ“ä½œã€‚ä¾‹å¦‚ä¸‹é¢å°†nginxå®¹å™¨æ‰©å±•åˆ°4ä¸ªã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service scale nginx-test=4</span><br></pre></td></tr></table></figure><p><img src="d9b203f747646c7e6a5843bdbeeedcb4.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />å†å¯¹å…¶è¿›è¡Œniginx-testæœåŠ¡è¿›è¡Œç¼©å®¹<br /><img src="a26ece0343651f7e9c2d59ac9b25d257.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />æœ‰äº›æ—¶å€™æˆ‘ä»¬ä¼šå¯¹æœåŠ¡çš„é…ç½®è¿›è¡Œä¿®æ”¹ï¼Œä¾‹å¦‚å¢åŠ ä¸€ä¸ªæ˜ å°„ç«¯å£ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service update --publish-add 8081:80 nginx-test</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°8080ã€8081éƒ½æ˜ å°„åˆ°äº†å®¹å™¨å†…éƒ¨çš„80ç«¯å£ã€‚åœ¨ä½¿ç”¨docker service updateå‘½ä»¤æ›´æ–°æœåŠ¡æ—¶ï¼Œdockerä¼šåœæ­¢ç°æœ‰çš„å®¹å™¨å¹¶ä¸”ç”¨æ–°çš„é…ç½®å¯åŠ¨æ–°çš„å®¹å™¨ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡docker service updateå‘½ä»¤æ¥æ›´æ–°å®¹å™¨é•œåƒï¼Œå®ç°æ—¥å¸¸å·¥ä½œä¸­çš„ç‰ˆæœ¬è¿­ä»£ï¼Œè¿˜å¯ä»¥é€šè¿‡é…ç½®å®ç°æ»šåŠ¨æ›´æ–°ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service update --image nginx:latest --update-parallelism 1 --update-delay 20s nginx-test</span><br></pre></td></tr></table></figure><p><img src="6db17a87059eebb8647e67bbd1821aba.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />è¿™é‡Œæˆ‘ä»¬æŒ‡å®šå¯¹nginx-testæœåŠ¡è¿›è¡Œæ›´æ–°ï¼Œé‡‡ç”¨ nginx:latestæ–°é•œåƒ, --update-parallelism å£°æ˜æ¯æ¬¡ä½¿ç”¨æ–°é•œåƒæ›´æ–°ä¸¤ä¸ªå‰¯æœ¬ï¼Œâ€“update-delay å£°æ˜æ¯æ¬¡æ›´æ–°æœŸé—´æœ‰ 20s çš„å»¶è¿Ÿã€‚</p><p>é€šè¿‡ä¸€ä¸ªæ–°çš„xshellçª—å£è¿æ¥serveræœåŠ¡å™¨ï¼Œç”¨docker service ps nginx-testå¯ä»¥çœ‹åˆ°ï¼Œä¸¤ä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨ä¸€ä¸ªå·²ç»æ›´æ–°åˆ°latestç‰ˆæœ¬ï¼Œä¸€ä¸ªè¿˜æ²¡æœ‰ã€‚å…¶ä»–é‚£äº›å·²ç»shutdownçš„å®¹å™¨æ˜¯æ‰§è¡Œupdateå‘½ä»¤ä¹‹åå…³é—­æ‰çš„å®¹å™¨ã€‚<br /><img src="4488da0ded61eb9748d1f3988cbb2cb2.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />æ›´æ–°å®Œæˆä¹‹åï¼Œä¸¤ä¸ªæœåŠ¡å‰¯æœ¬éƒ½å·²ç»æ˜¯lastesç‰ˆæœ¬äº†ã€‚<br /><img src="d04e249ad4df7dc7ca93bedabaa82b86.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />æœåŠ¡æ›´æ–°æ—¶ï¼Œè¿˜å¯ä»¥é…ç½®æ›´æ–°å¤±è´¥å›æ»šç­–ç•¥ã€‚å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service update --image nginx:latest --update-parallelism 1 --update-delay 20s --rollback-parallelism=2 --rollback-monitor=20s --rollback-max-failure-ratio=.2 nginx-test</span><br></pre></td></tr></table></figure><p>å…¶ä¸­â€“rollback-parallelism=2 å£°æ˜æ›´æ–°å¤±è´¥æ—¶æ¯æ¬¡å›æ»šä¸¤ä¸ªä»»åŠ¡ï¼Œâ€“rollback-monitorå£°æ˜å›æ»šåï¼Œä»»åŠ¡å°†è¢«ç›‘è§†20ç§’ï¼Œä»¥ç¡®ä¿å®ƒä»¬ä¸ä¼šé€€å‡ºï¼Œâ€“rollback-max-failure-ratio å£°æ˜å…è®¸æœ€å¤§å¤±è´¥ç‡ä¸º20%ï¼Œè¿™æ˜¯ä¸€ä¸ª0åˆ°1ä¹‹é—´çš„æµ®ç‚¹æ•°ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ‰‹åŠ¨å›æ»šï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service update --rollback nginx-test</span><br></pre></td></tr></table></figure><p><img src="66a24b8ec7c10fda64ddb69f1d06b6b6.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ä»¥ä¸Šæˆ‘ä»¬åœ¨updateå‘½ä»¤å£°æ˜çš„æ›´æ–°ç­–ç•¥ã€å›æ»šç­–ç•¥ï¼Œåœ¨å£°æ˜ä¹‹åéƒ½ä¼šè¢«ä¿å­˜ï¼Œä¸‹æ¬¡æ›´æ–°ã€å›æ»šæ—¶ä¼šæŒ‰ç…§è¿™æ¬¡ç­–ç•¥æ‰§è¡Œæ— éœ€å†é…ç½®ã€‚é€šè¿‡docker service inspectå‘½ä»¤æŸ¥çœ‹æœåŠ¡è¯¦ç»†ä¿¡æ¯å¯ä»¥çœ‹åˆ°ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service inspect nginx-test</span><br></pre></td></tr></table></figure><p><img src="32d7ee016a6fc5aa6b8f318a5404783b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />è¿™äº›ç­–ç•¥ä¹Ÿå¯ä»¥åœ¨åˆ›å»ºæœåŠ¡çš„æ—¶å€™å°±è®¾ç½®å¥½ã€‚</p><p>å¦‚æœéœ€è¦ç§»é™¤æŸä¸ªæœåŠ¡ï¼Œå¯ä»¥ç”¨docker service rm å‘½ä»¤ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è¿™ä¸ªæœåŠ¡ä½¿ç”¨è¦è°¨æ…ï¼Œå®ƒä¸ä¼šåšäºŒæ¬¡æé†’çš„ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service rm nginx-test</span><br></pre></td></tr></table></figure><p><img src="8087ed650b4b0ff16a37d79b23c0eeee.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="62-é…ç½®æ–‡ä»¶ç®¡ç†"><a class="markdownIt-Anchor" href="#62-é…ç½®æ–‡ä»¶ç®¡ç†"></a> 6.2 é…ç½®æ–‡ä»¶ç®¡ç†</h3><p>docker cliä¸­æœ‰ä¸€ä¸ªdocker configå‘½ä»¤ï¼Œè¿™ä¸ªå‘½ä»¤ç”¨äºç®¡ç†dockeré…ç½®æ–‡ä»¶ï¼Œä¸»è¦ç”¨äºswarmæ¨¡å¼åˆ›å»ºæœåŠ¡æ—¶è¿›è¡Œé…ç½®æ–‡ä»¶ç»Ÿä¸€ç®¡ç†ã€‚</p><p>ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªå‘¢ï¼Ÿè¿˜æ˜¯ä»¥nginxä¸ºä¾‹ï¼Œnginxä¸‹æœ‰ä¸ªnginx.confæ–‡ä»¶ç”¨äºé…ç½®ä»£ç†ä¿¡æ¯ï¼Œæˆ‘ä»¬ä»¥æœåŠ¡çš„æ–¹å¼éƒ¨ç½²nginxï¼Œå¯åŠ¨äº†å¤šä¸ªå®¹å™¨ï¼Œæ­£å¸¸æƒ…å†µä¸‹ä¸€ä¸ªæœåŠ¡çš„å¤šä¸ªå‰¯æœ¬åº”è¯¥ä¿æŒä¸€è‡´ï¼Œç»Ÿä¸€ä¿®æ”¹ï¼Œå¦‚æœæŠŠè¿™äº›å­˜æ”¾åœ¨å®¹å™¨ä¸­åç»­ä¿®æ”¹ä¼šå¾ˆä¸æ–¹ä¾¿ï¼Œè€Œä¸”å®¹æ˜“å‡ºé”™å¯¼è‡´å‰¯æœ¬å®¹å™¨ä¸ä¸€è‡´ã€‚</p><p>docker config çš„åˆ›å»ºï¼š<br />(1) åˆ›å»ºæ–‡ä»¶ï¼š<br /><img src="5d8179731b2f38fc3875b0bee4ab4614.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />(2) åˆ›å»ºconfig</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker config create nginx-conf ./default.conf</span><br></pre></td></tr></table></figure><p><img src="9b7320e6ba7a4d2e7eaeef0b23e3a82d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />æŸ¥çœ‹config</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker config ls</span><br></pre></td></tr></table></figure><p><img src="c661a46bb9aecf8e45f2c45c5c7a380b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />æŸ¥çœ‹configçš„è¯¦ç»†ä¿¡æ¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker config inspect nginx-conf</span><br></pre></td></tr></table></figure><p><img src="75ea795f2484146f9606e442d9c01457.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />é»˜è®¤æƒ…å†µä¸‹æ–‡ä»¶å†…å®¹æ˜¯é€šè¿‡base64ç®—æ³•åŠ å¯†çš„ï¼Œå¯ä»¥åœ¨æŸ¥çœ‹çš„æ—¶å€™å¯¹å…¶è¿›è¡Œè§£å¯†</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker config inspect -f &#x27;&#123;&#123;json .Spec.Data&#125;&#125;&#x27; nginx-conf | cut -d &#x27;&quot;&#x27; -f2 | base64 -d</span><br></pre></td></tr></table></figure><p><img src="47cc98a9235c185e8e3304b8e70ee310.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />åˆ é™¤config</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker config rm nginx-conf</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘å°±ä¸åˆ é™¤äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯åœ¨æœåŠ¡åˆ›å»ºçš„æ—¶å€™ä½¿ç”¨é…ç½®æ–‡ä»¶äº†ï¼Œé€šè¿‡â€“configå‚æ•°è®¾ç½®é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡sourceå‚æ•°æŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨docker configçš„åç§°ï¼Œé€šè¿‡targetæŒ‡å®šè¦æ›¿æ¢çš„å®¹å™¨å†…éƒ¨çš„æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service create --name nginx-test --replicas 2 --config source=nginx-conf,target=/etc/nginx/conf.d/default.conf -p 8080:8000 nginx:latest</span><br></pre></td></tr></table></figure><p><img src="24265e6d996fd8601a75b65375380c9a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />è¿™é‡Œå°†å®¹å™¨æ˜ å°„ç«¯å£æ”¹ä¸º8000æ˜¯ä¸é…ç½®æ–‡ä»¶çš„ç›‘å¬ç«¯å£å¯¹åº”ï¼ŒéªŒè¯é…ç½®æ˜¯å¦ç”Ÿæ•ˆï¼Œé€šè¿‡å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹è®¿é—®nginxï¼Œå¦‚ä¸‹ï¼š<br /><img src="b912d7b0309012fe69af576706b836ed.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />è¿›å…¥worker2èŠ‚ç‚¹çœ‹ä¸€ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬è®¾ç½®çš„é…ç½®æ–‡ä»¶ç¡®å®å­˜åœ¨<br /><img src="b1aece5b3ac5fb039497c748ffc672f0.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />å¯¹äºé…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¸èƒ½é€šè¿‡ä¿®æ”¹åŸæ–‡ä»¶çš„æ–¹å¼ç›´æ¥è¿›è¡Œæ›´æ–°ï¼Œåªèƒ½å¤Ÿåˆ›å»ºæ–°çš„é…ç½®æ–‡ä»¶ï¼Œç„¶åé€šè¿‡docker service updateå‘½ä»¤æ¥å¯¹æœåŠ¡è¿›è¡Œæ›´æ–°ã€‚ä¸ºäº†æ›´å®¹æ˜“åœ°æ›´æ–°æˆ–å›é€€ Configï¼Œå¯ä»¥è€ƒè™‘åœ¨ Config Name ä¸­æ·»åŠ ç‰ˆæœ¬å·æˆ–æ—¥æœŸã€‚</p><p>swarmå¯¹é…ç½®æ–‡ä»¶çš„ç®¡ç†æœºåˆ¶æ˜¯è¿™æ ·çš„ï¼š</p><p>åœ¨ Swarm ä¸­æ·»åŠ ä¸€ä¸ª Config æ—¶ï¼ŒDocker é€šè¿‡ TLS è¿æ¥æŠŠ Config å‘é€ç»™ Swarm Managerã€‚è¿™ä¸ª Config ç»è¿‡åŠ å¯†åï¼Œå­˜å‚¨åœ¨ Raft æ—¥å¿—ä¸­ï¼Œè€Œä¸”æ•´ä¸ª Raft æ—¥å¿—ä¼šè¢«å¤åˆ¶åˆ°å…¶ä»– Manager ä¸­ï¼Œç¡®ä¿ Config çš„é«˜å¯ç”¨æ€§ã€‚</p><p>åœ¨æ–°åˆ›å»ºçš„æˆ–æ­£åœ¨è¿è¡Œçš„æœåŠ¡æ·»åŠ  Config æ—¶ï¼ŒConfig å°†ä½œä¸ºæ–‡ä»¶å®‰è£…åˆ°å®¹å™¨ä¸­ï¼Œæ–‡ä»¶è·¯å¾„é»˜è®¤ä¸º linux å®¹å™¨ä¸­çš„ <code>/&lt;config-name&gt;</code></p><p>å¯ä»¥åœ¨ä»»ä½•æ—¶å€™é€šè¿‡æ›´æ–°æœåŠ¡çš„æ–¹å¼æˆæƒå…¶ä»–çš„ Config æˆ–ç§»é™¤å·²æœ‰çš„Config è®¿é—®æƒã€‚</p><p>å¦‚æœèŠ‚ç‚¹æ˜¯ Swarm Managerï¼Œæˆ–è€…æ­£åœ¨è¿è¡ŒæœåŠ¡ä»»åŠ¡å·²è¢«æˆæƒè®¿é—®è¿™ä¸ª Configï¼Œé‚£ä¹ˆè¿™ä¸ªèŠ‚ç‚¹æ‰èƒ½è®¿é—®è¿™ä¸ªé…ç½®ã€‚å½“å®¹å™¨ä»»åŠ¡åœæ­¢è¿è¡Œæ—¶ï¼Œå…±äº«ç»™å®ƒçš„ Config å°†ä»è¯¥å®¹å™¨çš„å†…å­˜æ–‡ä»¶ç³»ç»Ÿä¸­å¸è½½ï¼Œå¹¶ä»èŠ‚ç‚¹çš„å†…å­˜åˆ·æ–°ã€‚</p><p>å¦‚æœä¸€ä¸ªèŠ‚ç‚¹è¿è¡Œäº†ä¸€ä¸ªå¸¦ Config çš„ä»»åŠ¡å®¹å™¨ï¼Œåœ¨å®ƒå¤±å»ä¸ Swarm çš„è¿æ¥åï¼Œè¿™ä¸ªä»»åŠ¡å®¹å™¨ä»ç„¶å¯ä»¥è®¿é—®å…¶ Configï¼Œä½†åªæœ‰åœ¨èŠ‚ç‚¹é‡æ–°è¿æ¥åˆ° Swarm æ—¶æ‰èƒ½æ¥æ”¶æ›´æ–°ã€‚</p><p>æ­£åœ¨è¿è¡Œçš„æœåŠ¡æ­£åœ¨ä½¿ç”¨çš„ Config ä¸èƒ½åˆ é™¤ã€‚æƒ³è¦åœ¨ä¸ä¸­æ–­æ­£åœ¨è¿è¡Œçš„æœåŠ¡çš„æƒ…å†µä¸‹åˆ é™¤é…ç½®å¯ä»¥å‚è€ƒ ã€ŠRotate a configã€‹ã€‚</p><h3 id="63-å·æ˜ å°„"><a class="markdownIt-Anchor" href="#63-å·æ˜ å°„"></a> 6.3 å·æ˜ å°„</h3><p>å·æ˜ å°„æ˜¯dockerå®¹å™¨ä¸€ä¸ªéå¸¸åŸºæœ¬ä¹Ÿéå¸¸æœ‰ç”¨çš„åŠŸèƒ½ï¼Œèƒ½å¤Ÿä¿è¯å°±ç®—å®¹å™¨æŒ‚äº†ï¼Œæ•°æ®ä¾æ—§ä¿ç•™åœ¨å®¿ä¸»æœºä¸Šï¼Œä¸ä¼šä¸¢å¤±ï¼ŒåŒæ—¶ä¹Ÿä¿è¯äº†å®¹å™¨çš„å¯ç§»æ¤æ€§ï¼Œåªè¦é‡è¦æ•°æ®è¿˜åœ¨ï¼Œæˆ‘ä»¬åªè¦é‡æ–°å¯åŠ¨ä¸€ä¸ªå®¹å™¨å³å¯ã€‚</p><p>åœ¨swarmé›†ç¾¤ä¸‹ä¸€æ ·å¯ä»¥åšå·æ˜ å°„ï¼Œé€šè¿‡å·æ˜ å°„æ¥ç®¡ç†å®¹å™¨ä¸­çš„é‡è¦æ•°æ®ã€‚é›†ç¾¤æœåŠ¡ä¸­çš„å·æ˜ å°„å‚æ•°å’Œå•æœºæ¨¡å¼ä¸‹æœ‰æ‰€ä¸åŒï¼Œå¯ä»¥åœ¨åˆ›å»ºæœåŠ¡æ—¶é€šè¿‡â€“mountå‚æ•°é…ç½®ï¼Œæˆ–è€…é€šè¿‡updateå‘½ä»¤ä¸­çš„â€“mount-add å’Œâ€“mount-rmæ¥ç®¡ç†ã€‚</p><p>é›†ç¾¤æœåŠ¡ä¸­å·æ˜ å°„æœ‰ä¸¤ç§æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯volumeå’Œbindï¼Œé»˜è®¤æ˜¯volumeã€‚</p><h4 id="631-volumesæ¨¡å¼"><a class="markdownIt-Anchor" href="#631-volumesæ¨¡å¼"></a> 6.3.1 volumesæ¨¡å¼</h4><p>å¦‚æœæŒ‡å®šçš„å·åœ¨ä¸»æœºä¸Šå·²ç»å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨æŒ‡å®šçš„å·ï¼Œå¦‚æœåœ¨ç‰¹å®šä¸»æœºä¸Šæ‰§è¡Œå®¹å™¨å¯åŠ¨ä»»åŠ¡æ—¶è¿™äº›å·ä¸å­˜åœ¨ï¼Œåˆ™ä¼šæ ¹æ®æœåŠ¡ä¸Šçš„å·è§„èŒƒè‡ªåŠ¨åˆ›å»ºå·ï¼Œé»˜è®¤è·¯å¾„ä¸º /var/lib/docker/volumes/{your_custom_volume}/_data</p><p>è¿˜æ˜¯ä»¥nginxæœåŠ¡éƒ¨ç½²ä¸ºä¾‹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºæœåŠ¡ï¼Œå°†å®¹å™¨ä¸­/usr/share/nginx/htmlç›®å½•æ˜ å°„åˆ°nginx_dataï¼Œnginx_dataæ˜¯å·åã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service create --replicas 1 --mount type=volume,src=nginx_data,dst=/usr/share/nginx/html --name nginx-test2 nginx</span><br></pre></td></tr></table></figure><p><img src="181b9c511102c7cae55766e2d9fbc02b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />å¯ä»¥çœ‹åˆ°æœåŠ¡å‰¯æœ¬è¿è¡Œåœ¨ worker1èŠ‚ç‚¹ä¸Šï¼Œsshåˆ°worker1èŠ‚ç‚¹ï¼Œå¯ä»¥çœ‹åˆ°æ˜ å°„å‡ºæ¥çš„å·å·²ç»åˆ›å»ºäº†ï¼Œå®é™…è·¯å¾„ä¸º/var/lib/docker/volumes/nginx_data/_data<br /><img src="6ecbedcc8876f2c27f2f3baa3837be2c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />é»˜è®¤çš„æƒ…å†µä¸‹ï¼Œè‡ªåŠ¨åˆ›å»ºçš„å·ä½¿ç”¨çš„é©±åŠ¨æ˜¯ localï¼Œå¯ä»¥åœ¨â€“mountå‚æ•°ä¸­ä½¿ç”¨æ›´å…·ä½“çš„é…ç½®è¿›è¡Œè®¾ç½®ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service create --mounttype=volume,src=&lt;VOLUME-NAME&gt;,dst=&lt;CONTAINER-PATH&gt;,volume-driver=&lt;DRIVER&gt;,volume-opt=&lt;KEY0&gt;=&lt;VALUE0&gt;,volume-opt=&lt;KEY1&gt;=&lt;VALUE1&gt; --name myservice &lt;IMAGE&gt;</span><br></pre></td></tr></table></figure><h4 id="632-bindæ¨¡å¼"><a class="markdownIt-Anchor" href="#632-bindæ¨¡å¼"></a> 6.3.2 bindæ¨¡å¼</h4><p>å°†å®¿ä¸»æœºæŸä¸ªç›®å½•æ˜ å°„åˆ°dockerå®¹å™¨ï¼Œç›®å½•å¿…é¡»å·²ç»å­˜åœ¨ï¼Œå¦‚æœèŠ‚ç‚¹åˆå§‹åŒ–ä»»åŠ¡å®¹å™¨æ—¶è·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ™ä¼šæŠ¥é”™ï¼ŒæœåŠ¡ä»»åŠ¡æ‰§è¡Œå¤±è´¥ã€‚å¾ˆé€‚åˆç”¨äºéƒ¨ç½²ç½‘ç«™ï¼Œå¯ä»¥å®¿ä¸»æœºçš„è¿™ä¸ªç›®å½•ä½œä¸ºgitç‰ˆæœ¬ç›®å½•ï¼Œæ¯æ¬¡updateä»£ç çš„æ—¶å€™ï¼Œå®¹å™¨å°±ä¼šæ›´æ–°ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service create --replicas 1 --mount type=bind,src=/home/yyl/nginx,dst=/usr/share/nginx/html --name nginx-test3 nginx</span><br></pre></td></tr></table></figure><p><img src="ff1450f3533d1c082034927623a4fc17.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />åœ¨worker1ã€worker2ä¸¤ä¸ªèŠ‚ç‚¹é¢„å…ˆåˆ›å»ºå¯¹åº”çš„ç›®å½•åï¼Œå¯åŠ¨å°±æ­£å¸¸äº†ã€‚<br /><img src="652977158f89d14fc37310c656e3c4c4.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />bindæ¨¡å¼çš„å·æ˜ å°„å¿…é¡»ä¿è¯èŠ‚ç‚¹ä¸Šå·²ç»å­˜åœ¨å¯¹åº”çš„è·¯å¾„ï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚å®˜æ–¹æ¨èä½¿ç”¨volumeæ¨¡å¼ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨bindæ¨¡å¼çš„è¯ï¼Œå¯ä»¥é€šè¿‡èŠ‚ç‚¹æ ‡ç­¾æŒ‡å®šæœåŠ¡ä»»åŠ¡åœ¨æŸäº›å…·å¤‡æ˜ å°„ç›®å½•çš„èŠ‚ç‚¹ä¸Šè¿è¡Œï¼Œä½†æ˜¯è¿™æ ·ä¹Ÿå¯èƒ½å¯¼è‡´é—®é¢˜ï¼Œå¦‚æœä½ çš„å‰¯æœ¬å®¹å™¨æŒ‚æ‰äº†ï¼Œswarmè°ƒåº¦å™¨ä¼šè°ƒåº¦åœ¨å…¶ä»–èŠ‚ç‚¹é‡æ–°å¯åŠ¨ï¼Œä»¥ä¿è¯å­˜åœ¨è¶³å¤Ÿçš„å‰¯æœ¬ï¼Œä½†æ˜¯ç”±äºèŠ‚ç‚¹æ¡ä»¶çš„é™åˆ¶å¯èƒ½å¯¼è‡´æ²¡æœ‰åˆé€‚çš„èŠ‚ç‚¹å¯ä»¥æŒ‡æ´¾ã€‚</p><h4 id="633-nfsæ¨¡å¼"><a class="markdownIt-Anchor" href="#633-nfsæ¨¡å¼"></a> 6.3.3 NFSæ¨¡å¼</h4><p>ä»¥ä¸Šä¸¤ç§æ–¹å¼éƒ½æ˜¯å•æœºdockerä¸Šæ•°æ®å…±äº«æ–¹å¼ï¼Œä½¿ç”¨çš„å·éƒ½æ˜¯åœ¨èŠ‚ç‚¹æœºå™¨ä¸Šçš„ï¼Œå¤šä¸ªä»»åŠ¡å‰¯æœ¬çš„æƒ…å†µä¸‹æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šæœ‰ç›¸åº”çš„å·ï¼Œåœ¨é›†ç¾¤ä¸­è¿™å¯èƒ½ä¸é€‚ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨NFSæ¥å®ç°å…±äº«å­˜å‚¨æˆ–ç½‘ç»œå­˜å‚¨ã€‚</p><p>NFSæ˜¯ä¸€ç§åŸºäºTCP/IPä¼ è¾“çš„ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿåè®®ã€‚é€šè¿‡ä½¿ç”¨NFSåè®®ï¼Œå®¢æˆ·æœºå¯ä»¥åƒè®¿é—®æœ¬åœ°ç›®å½•ä¸€æ ·è®¿é—®è¿œç¨‹æœåŠ¡å™¨ä¸­çš„å…±äº«èµ„æºã€‚å¯¹äºå¤§å¤šæ•°è´Ÿè½½å‡è¡¡ç¾¤æ¥è¯´ï¼Œä½¿ç”¨NFSåè®®æ¥å…±äº«æ•°æ®å­˜å‚¨æ˜¯æ¯”è¾ƒå¸¸è§çš„åšæ³•ï¼ŒNFSä¹Ÿæ˜¯å­˜å‚¨è®¾å¤‡å¿…ç„¶æ”¯æŒçš„ä¸€ç§åè®®ã€‚ä½†æ˜¯ç”±äºNFSæ²¡æœ‰ç”¨æˆ·è®¤è¯æœºåˆ¶ï¼Œä¸”æ•°æ®åœ¨ç½‘ç»œä¸Šçš„æ˜æ–‡ä¼ è¾“ï¼Œæ‰€ä»¥å®‰å…¨æ€§å¾ˆå·®ï¼Œä¸€èˆ¬åªåœ¨å±€åŸŸç½‘ä¸­ä½¿ç”¨</p><p>NFSæœåŠ¡çš„å®ç°ä¾èµ–äºRPCæœºåˆ¶ï¼Œå·²å®Œæˆè¿œç¨‹åˆ°æœ¬åœ°çš„æ˜ å°„è¿‡ç¨‹ã€‚æ‰€ä»¥éœ€è¦å®‰è£…nfs-utilsã€rpcbindè½¯ä»¶åŒ…æ¥æä¾›NFSå…±äº«æœåŠ¡ï¼Œå‰è€…ç”¨äºNFSå…±äº«å‘å¸ƒå’Œè®¿é—®ï¼Œåè€…ç”¨äºRPCçš„æ”¯æŒã€‚</p><p>ä¸‹é¢å¯ä»¥ç®€å•æ¼”ç¤ºæ€ä¹ˆé…ç½®NFSæœåŠ¡<br />1ã€å…ˆé…ç½®ä¸»æœº<br />é¦–å…ˆå®‰è£…nfs-utilsã€rpcbindè½¯ä»¶åŒ…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install nfs-utils rpcbind</span><br></pre></td></tr></table></figure><p>ç„¶åé…ç½®é…ç½®å…±äº«ç›®å½•ï¼Œå¹¶èµ‹äºˆç›¸åº”çš„æƒé™<br /><img src="73b0da263ee1cd37102a3a26cadbbb44.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ä¿®æ”¹/etc/exportsæ–‡ä»¶ï¼Œæ·»åŠ è§„åˆ™ã€‚<br />()ä¸­çš„æ˜¯æ·»åŠ çš„æƒé™ï¼Œè¿™é‡Œé€‰æ‹©çš„æ˜¯å¯è¯»å¯å†™ï¼ŒåŒæ—¶å†™å…¥ç£ç›˜å’Œå†…å­˜ï¼Œrootç”¨æˆ·ä¸éš<br />è—ã€‚æ­¤å¤–ï¼Œæˆ‘è¿™è¾¹é€‰æ‹©çš„æ˜¯è¿™ä¸ª137.0ç½‘æ®µçš„ç”¨æˆ·éƒ½å¯ä»¥ä½¿ç”¨è¿™ä¸ªNFSæœåŠ¡</p><p><img src="110a804ad280cfa63f1fd0e23a53e307.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ç„¶åå¼€å¯nfsã€rpcbindæœåŠ¡<br /><img src="700a2455ba2aa32f7cc1a004b47cba04.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />é€šè¿‡ç«¯å£æŸ¥çœ‹æ˜¯å¦å·²ç»è¿è¡ŒæœåŠ¡ã€‚111æ˜¯rpcbindï¼Œæ¥ç€nfsæ˜¯2049ç«¯å£<br /><img src="17fae223f5246a80734417367257a35e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />exportfs -rv ï¼›æ˜¯ç”¨æ¥æŸ¥çœ‹æœ¬NFSå…±äº«æœåŠ¡å™¨å‘å¸ƒäº†å“ªäº›ç›®å½•å’Œåœ°å€</p><p>é€šè¿‡rpcinfo -p æŸ¥çœ‹nfséœ€è¦ç”¨åˆ°çš„ç«¯å£ï¼Œé˜²ç«å¢™å¼€æ”¾ç›¸åº”çš„ç«¯å£ï¼Œæˆ–è€…ç›´æ¥å…³é—­é˜²ç«å¢™<br /><img src="235e46043c5007a822a4091061adc6cb.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />2ã€é…ç½®å®¢æˆ·æœº<br />é¦–å…ˆå®‰è£…nfs-utilsã€rpcbindæœåŠ¡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y nfs-utils rpcbind</span><br></pre></td></tr></table></figure><p>é€šè¿‡ showmount -e ip å‘½ä»¤è·å–å…±äº«ç›®å½•<br /><img src="dc95688b6ae5c7c319e1a07a4e0d1b1e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />åˆ›å»ºä¸€ä¸ªæœ¬åœ°ç›®å½•ï¼Œå¹¶å°†å…¶æŒ‚è½½åˆ°nfsæœåŠ¡<br /><img src="7f87b33e79205016f44e3a14cfec058c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />è¯¦ç»†ä½¿ç”¨æ–¹å¼è¯·å‚è€ƒä»¥ä¸‹æ–‡ç« ï¼š<a href="https://onedrive.live.com/view.aspx?resid=EF6B119B2A13E5E!1737&amp;id=documents&amp;wd=target%28%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF.one%7C96F10A3D-DB4B-4A78-A032-44AC9B5A1DEF/docker%E2%80%94docker%20swarm%7CD44D7E57-E224-4693-BA7F-5970CFFEA5F5/%29%20onenote:https://d.docs.live.net/0ef6b119b2a13e5e/%E6%96%87%E6%A1%A3/_net/%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF.one#docker%E2%80%94docker%20swarm&amp;section-id=%7B96F10A3D-DB4B-4A78-A032-44AC9B5A1DEF%7D&amp;page-id=%7BD44D7E57-E224-4693-BA7F-5970CFFEA5F5%7D&amp;object-id=%7B766FFAE2-E401-4C84-BFE9-0E376D49E903%7D&amp;90">NFSå…±äº«å­˜å‚¨</a></p><p>nfsæœåŠ¡å·²ç»éƒ¨ç½²å®Œæ¯•ï¼Œæ¥ä¸‹æ¥é€šè¿‡swarmé›†ç¾¤å®ç°å·å…±äº«</p><p>swarm é›†ç¾¤ä½¿ç”¨nfså·æŒ‚è½½ï¼Œåœ¨ä¸ç”¨docker stackçš„æƒ…å†µä¸‹éœ€è¦å…ˆåœ¨å„ä¸ªèŠ‚ç‚¹åˆ›å»ºnfsæ•°æ®å·ï¼Œè¿™é‡Œå…ˆä½¿ç”¨ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åœ¨å„ä¸ªèŠ‚ç‚¹ä¸Šåˆ›å»ºnfsæ•°æ®å·ï¼Œdocker stackæ–¹å¼ä¹‹åå†è®²ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume create --driver local --opt type=nfs --opt o=addr=192.168.137.202,rw --opt device=:/home/yyl/shared nfs-share</span><br></pre></td></tr></table></figure><p><img src="17f8a51b861bd84fab1cf7b640cf8561.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåˆ›å»ºnfså·æ—¶ï¼Œdevice å‚æ•°æ˜¯æŒ‡nfsæœåŠ¡ç«¯å…±äº«ç›®å½•çš„è·¯å¾„</p><p>ä¹‹åï¼Œå†ç®¡ç†èŠ‚ç‚¹ä¸Šä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºæœåŠ¡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service create --replicas 2 --mount type=volume,src=nfs-share,dst=/usr/share/nginx/html --name nginx-nfs nginx</span><br></pre></td></tr></table></figure><p><img src="0bfd9987b0126d88db7f2f5f9bb47f49.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />å¯ä»¥çœ‹åˆ°æœåŠ¡çš„ä¸¤ä¸ªä»»åŠ¡å·²ç»åˆ†åˆ«è¿è¡Œåœ¨ä¸¤ä¸ªå·¥ä½œèŠ‚ç‚¹ä¸Šäº†ï¼Œæ¥ä¸‹æ¥åˆ°worker2æœåŠ¡å™¨ä¸Šï¼Œæ‰¾åˆ°å·å¯¹åº”çš„è·¯å¾„ï¼Œåœ¨è·¯å¾„ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶</p><p><img src="b4e66e7a7a76d2089521bca3038cdcc7.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />å†åˆ°worker1æœåŠ¡å™¨ä¸Šï¼Œå¯ä»¥çœ‹åˆ°worker1ä¸‹ä¹Ÿæœ‰äº†æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„æ–‡ä»¶ï¼Œä¸¤è¾¹å†…å®¹æ˜¯ä¼šä¿æŒåŒæ­¥çš„</p><h3 id="64-ç§æœ‰åº“ä½¿ç”¨"><a class="markdownIt-Anchor" href="#64-ç§æœ‰åº“ä½¿ç”¨"></a> 6.4 ç§æœ‰åº“ä½¿ç”¨</h3><p>æ—¥å¸¸å·¥ä½œä¸­å¯¹äºç§æœ‰åº“çš„æ­å»ºå’Œä½¿ç”¨æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œswarmé›†ç¾¤ä¸­é€šè¿‡ç§æœ‰åº“é•œåƒåˆ›å»ºæœåŠ¡ï¼Œå¦‚æœç§æœ‰ä»“åº“ä½¿ç”¨httpåè®®ï¼Œéœ€è¦åœ¨å„ä¸ªèŠ‚ç‚¹çš„dockerä¸»æœºä¸­å…ˆè®¾ç½®ä¿¡ä»»ç§æœ‰åº“åœ°å€ã€‚</p><p>ä¿®æ”¹å„ä¸ªèŠ‚ç‚¹çš„/etc/docker/daemon.jsonæ–‡ä»¶ï¼Œåœ¨insecure-registriesèŠ‚ç‚¹ä¸­æ·»åŠ ç§æœ‰é•œåƒä»“åº“åœ°å€ï¼Œä¹‹åé‡å¯dockeræœåŠ¡ï¼š<br /><img src="a6121acadfc9ba735a4dd051ebf0ad47.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />æ³¨æ„ç®¡ç†èŠ‚ç‚¹é‡å¯dockerä¹‹åï¼Œéœ€è¦é€šè¿‡è§£é”ç è¿›è¡Œè§£é”ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼ŒèŠ‚ç‚¹æ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ä¸€ä¸ªä¸€ä¸ªå»é…ç½®daemon.jsonæ–‡ä»¶æ¯”è¾ƒéº»çƒ¦ï¼Œå¯ä»¥åœ¨ä¸Šé¢çš„é›†ç¾¤åˆå§‹åŒ–è„šæœ¬ä¸­æ·»åŠ ä¸€äº›å‘½ä»¤ï¼Œåœ¨é›†ç¾¤åˆå§‹åŒ–çš„æ—¶å€™å°†ç§æœ‰ä»“åº“åœ°å€æ·»åŠ è¿›å»ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å®‰è£…docker, ä»å®‰è£…æºè·å–æœ€æ–°ç¨³å®šç‰ˆæœ¬å¹¶å®‰è£…(äºŒè¿›åˆ¶ç‰ˆ)</span></span><br><span class="line">for node in $&#123;SERVER_IP[@]&#125;; do</span><br><span class="line">    echo &quot;[INFO] Install docker -----&gt; $node&quot;</span><br><span class="line">    ssh -T $node &lt;&lt;&#x27;EOF&#x27;</span><br><span class="line">    bash &lt;(curl -sSL https://gitee.com/yx571304/olz/raw/master/shell/docker/install.sh) -i docker</span><br><span class="line">    sed -i &#x27;s/&quot;live-restore&quot;: true/&quot;live-restore&quot;: false/g&#x27; /etc/docker/daemon.json</span><br><span class="line"><span class="meta prompt_">   # </span><span class="language-bash">è®¾ç½®ç§æœ‰ä»“åº“</span></span><br><span class="line">   sed -i &#x27;s/&quot;insecure-registries&quot;: [&quot;127.0.0.1&quot;]/&quot;insecure-registries&quot;: [&quot;127.0.0.1&quot;, &quot;xx.xx.xx.xx:8082&quot;]/g&#x27; /etc/docker/daemon.json</span><br><span class="line">    systemctl daemon-reload</span><br><span class="line">    systemctl restart docker.service</span><br><span class="line">EOF</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>ç”±äºæˆ‘éƒ¨ç½²çš„ç§æœ‰åº“æ‹‰å–dockeré•œåƒéœ€è¦è®¤è¯ï¼Œæ‰€ä»¥è¿˜å¾—åœ¨ç®¡ç†èŠ‚ç‚¹ç™»å½•ç§æœ‰ä»“åº“ã€‚<br /><img src="b00e57c9b7d832f1b503ebbe54470843.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ä¹‹åé€šè¿‡â€“with-registry-authå‚æ•°ä½¿ç”¨åŠ å¯†çš„WALæ—¥å¿—å°†ç™»å½•ä»¤ç‰Œä»æœ¬åœ°å®¢æˆ·ç«¯ä¼ é€’åˆ°éƒ¨ç½²æœåŠ¡çš„swarmèŠ‚ç‚¹ï¼Œå°±å¯ä»¥é€šè¿‡æŒ‡å®šé•œåƒæ¥æºä»“åº“è¿›è¡ŒæœåŠ¡åˆ›å»ºäº†ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service create --with-registry-auth --publish 8005:80 --name dockersample xx.xx.xx.xx:8082/dockersample</span><br></pre></td></tr></table></figure><p><img src="5c959a8c0a728a9adda5a8e42fc9e5f2.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />å¯ä»¥çœ‹åˆ°å·²ç»é€šè¿‡å‘å¸ƒåœ¨ç§æœ‰ä»“åº“çš„é•œåƒåˆ›å»ºäº†æœåŠ¡ï¼Œä¸¤ä¸ªä»»åŠ¡åˆ†åˆ«è¿è¡Œåœ¨ä¸¤ä¸ªèŠ‚ç‚¹ã€‚</p><p>åœ¨ä¸¤ä¸ªå·¥ä½œèŠ‚ç‚¹ä¸­æŸ¥çœ‹é•œåƒï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°å·¥ä½œèŠ‚ç‚¹ä¸Šæ‹‰å–äº†é•œåƒï¼Œå¯åŠ¨äº†å®¹å™¨ã€‚<br /><img src="dec6461b884e9f2a7384a6dbdd7470c9.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />é€šè¿‡é›†ç¾¤ä¸­çš„ä»»æ„ä¸€ä¸ªipå’Œ8005ç«¯å£å¯ä»¥è®¿é—®åˆ°å¯åŠ¨èµ·æ¥çš„æœåŠ¡<br /><img src="1e6d1b433d87ef2ab09ff76017131ea7.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h2 id="7-æœåŠ¡ç®¡ç†åŸºæœ¬å‘½ä»¤"><a class="markdownIt-Anchor" href="#7-æœåŠ¡ç®¡ç†åŸºæœ¬å‘½ä»¤"></a> 7. æœåŠ¡ç®¡ç†åŸºæœ¬å‘½ä»¤</h2><p>docker service å‘½ä»¤ç”¨äºswamé›†ç¾¤ä¸­å¯¹æœåŠ¡è¿›è¡Œéƒ¨ç½²å’Œç®¡ç†ï¼Œå¸¸ç”¨çš„å‘½ä»¤å¦‚ä¸‹ï¼Œå¯ç”¨â€“helpæŸ¥çœ‹è¯¦ç»†è¯´æ˜ï¼š<br /><img src="21cb6d385cdaf8e224c97333280f1e70.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h3 id="71-docker-service-create-options-image-command-arg"><a class="markdownIt-Anchor" href="#71-docker-service-create-options-image-command-arg"></a> 7.1 docker service create [OPTIONS] IMAGE [COMMAND] [ARGâ€¦]</h3><p>æŒ‰ç…§æŒ‡å®šçš„å‚æ•°åˆ›å»ºæœåŠ¡ï¼Œåé¢å¯ä»¥å‘½ä»¤å’Œå‚æ•°ï¼Œç±»ä¼¼docker runï¼Œå¸¸ç”¨çš„é€‰é¡¹æœ‰ï¼š</p><ul><li>â€“name: æŒ‡å®šæœåŠ¡åç§°</li><li>â€“labelï¼šè®¾ç½®æœåŠ¡æ ‡ç­¾</li><li>â€“modeï¼šè®¾ç½®æœåŠ¡æ¨¡å¼ï¼Œå¯ç”¨å€¼ï¼šglobalã€replicatedï¼Œé»˜è®¤å€¼æ˜¯replicated<ul><li>globalï¼šå…¨å±€æ¨¡å¼ï¼Œä¼šåœ¨æ¯ä¸€ä¸ªå¯ç”¨èŠ‚ç‚¹éƒ½åˆ›å»ºä¸€ä¸ªæœåŠ¡å‰¯æœ¬ï¼Œè€Œä¸”æ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸”åªæœ‰ä¸€ä¸ª</li><li>replicatedï¼šå¤åˆ¶æ¨¡å¼ï¼Œå¯ä»¥æŒ‡å®šå¤åˆ¶ä¸ªæ•°ï¼Œé»˜è®¤æ˜¯1ï¼Œswarmè°ƒåº¦å™¨ä¼šè°ƒåº¦å¯ä»¥èŠ‚ç‚¹åˆ›å»ºæŒ‡å®šæ•°é‡çš„å‰¯æœ¬ï¼Œä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥åŒæ—¶æœ‰å¤šä¸ªå‰¯æœ¬</li></ul></li><li>â€“replicas: ä»»åŠ¡å‰¯æœ¬ä¸ªæ•°ï¼Œä¸â€“mode=replicatedï¼Œæ­é…ä½¿ç”¨</li><li>â€“replicas-max-per-nodeï¼šæ¯ä¸ªèŠ‚ç‚¹å¯ä»¥è¿è¡Œçš„ä»»åŠ¡çš„æœ€å¤§ä¸ªæ•°ï¼Œé»˜è®¤æ˜¯0ï¼Œè¡¨ç¤ºæ²¡æœ‰é™åˆ¶</li><li>â€“envï¼šè®¾ç½®è¿è¡Œæ—¶ç¯å¢ƒå˜é‡</li><li>â€“workdirï¼šè®¾ç½®å·¥ä½œç›®å½•</li><li>â€“userï¼šè®¾ç½®ç”¨æˆ·</li><li>â€“publish: ç«¯å£æ˜ å°„ï¼Œé»˜è®¤ä½¿ç”¨ ingress ç½‘ç»œæ¨¡å¼ï¼Œä½¿ç”¨swarmé›†ç¾¤çš„è´Ÿè½½å‡è¡¡ï¼Œä¼šåœ¨æ¯ä¸€ä¸ªèŠ‚ç‚¹ä¸Šéƒ½å¼€æ”¾é…ç½®çš„ç«¯å£ï¼Œå¹¶ä¸”è‡ªåŠ¨è½¬å‘åˆ°å®¹å™¨å†…éƒ¨ã€‚å¦‚æœä¸æƒ³ä½¿ç”¨swarmé›†ç¾¤è´Ÿè½½å‡è¡¡ï¼Œæƒ³è¦è‡ªå·±æ›´åŠ çµæ´»åœ°åšè·¯ç”±ç­–ç•¥ï¼Œå¯ä»¥è®¾ç½®ä¸ºmode=hostæ¨¡å¼ï¼Œè¿™ç§æ¨¡å¼ä¸‹swarmé›†ç¾¤åªä¼šåœ¨ä»»åŠ¡è¿è¡Œçš„èŠ‚ç‚¹ä¸Šå¼€æ”¾é…ç½®çš„ç«¯å£ï¼Œä½ éœ€è¦çŸ¥é“ä»»åŠ¡å‰¯æœ¬è¿è¡Œåœ¨å“ªä¸ªå‡ ç‚¹ä¸Šï¼Œä¸€èˆ¬æƒ…å†µä¸‹â€“publish mode=host æ¨¡å¼å’Œ --mode=globalä¸€èµ·ä½¿ç”¨ã€‚<br />ç¤ºä¾‹ï¼š</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker service create --publish 8000:80 nginx</span><br><span class="line">docker service create --publish published=8080,target=80 nginx</span><br><span class="line">docker service create --mode global --publish mode=host,target=80,published=8080 --name=nginx nginx:latest</span><br></pre></td></tr></table></figure><ul><li>â€“mountï¼šé…ç½®å·æŒ‚è½½ï¼Œå¸¸ç”¨çš„ä¸¤ç§æŒ‚è½½æ–¹å¼æ˜¯volumeå’Œbindï¼ŒåŒºåˆ«åœ¨äºä¸€ä¸ªä¼šè‡ªåŠ¨åˆ›å»ºå·ï¼Œä¸€ä¸ªå¿…é¡»èŠ‚ç‚¹ä¸Šå·²ç»å­˜åœ¨ç›¸åº”çš„å·<br />ç¤ºä¾‹ï¼š</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker service create --mount src=&lt;VOLUME-NAME&gt;,dst=&lt;CONTAINER-PATH&gt; --name myservice &lt;IMAGE&gt;</span><br><span class="line">docker service create --mount type=bind,src=&lt;HOST-PATH&gt;,dst=&lt;CONTAINER-PATH&gt; --name myservice &lt;IMAGE&gt;</span><br></pre></td></tr></table></figure><p>volumeæ¨¡å¼å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè®¾ç½®å·é©±åŠ¨å’Œå„ç§å‚æ•°ï¼Œé»˜è®¤å·é©±åŠ¨æ˜¯localï¼Œä¸åŒçš„å·é©±åŠ¨ç¨‹åºæŒ‰ç…§ä»¥ä¸‹æ–¹å¼é…ç½®ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service create --mount type=volume,src=&lt;VOLUME-NAME&gt;,dst=&lt;CONTAINER-PATH&gt;,volume-driver=&lt;DRIVER&gt;,volume-opt=&lt;KEY0&gt;=&lt;VALUE0&gt;,volume-opt=&lt;KEY1&gt;=&lt;VALUE1&gt; --name myservice &lt;IMAGE&gt;</span><br></pre></td></tr></table></figure><p>bindæ¨¡å¼å¯ä»¥è®²ç›®æ ‡è·¯å¾„è£…è½½ä¸ºåªè¯»ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker service create --mount type=bind,src=&lt;HOST-PATH&gt;,dst=&lt;CONTAINER-PATH&gt;,readonly --name myservice &lt;IMAGE&gt;</span><br></pre></td></tr></table></figure><ul><li>â€“networkï¼šé…ç½®ç½‘ç»œï¼Œä¸åŒçš„swarmæœåŠ¡å¯ä»¥å…±æœ‰ä¸€ä¸ªè¦†ç›–ç½‘ç»œï¼Œè¿™æ ·ä¸åŒçš„æœåŠ¡ä¹‹é—´å°±å¯ä»¥é€šè®¯ï¼Œç½‘ç»œæœ‰å¯ä»¥åšå¾ˆå¤šçš„é…ç½®ï¼Œæœ€åŸºæœ¬çš„ç”¨æ³•å¦‚ä¸‹ï¼š</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker network create --driveroverlay my-network</span><br><span class="line">docker service create \--replicas3 \--networkmy-network \--namemy-web \nginx</span><br></pre></td></tr></table></figure><ul><li>â€“config: è®¾ç½®é…ç½®æ–‡ä»¶</li><li>â€“secretï¼šè®¾ç½®æœºå¯†ä¿¡æ¯ï¼Œä¸â€“configç±»ä¼¼</li><li>â€“reserve-memoryï¼šé…ç½®æœåŠ¡å¯åŠ¨éœ€è¦æœ€å°‘çš„å†…å­˜ï¼Œå¦‚æœæ²¡æœ‰æ»¡è¶³è¦æ±‚çš„èŠ‚ç‚¹ï¼Œåˆ™æœåŠ¡å°†ä¿æŒæŒ‚èµ·çŠ¶æ€ï¼Œç›´åˆ°åˆé€‚çš„èŠ‚ç‚¹å¯ä»¥è¿è¡Œå…¶ä»»åŠ¡ä¸ºæ­¢</li><li>â€“reserve-cpuï¼šé…ç½®æœåŠ¡å¯åŠ¨éœ€è¦æœ€å°‘çš„cpuä¸ªæ•°ï¼Œå¦‚æœæ²¡æœ‰æ»¡è¶³è¦æ±‚çš„èŠ‚ç‚¹ï¼Œåˆ™æœåŠ¡å°†ä¿æŒæŒ‚èµ·çŠ¶æ€ï¼Œç›´åˆ°åˆé€‚çš„èŠ‚ç‚¹å¯ä»¥è¿è¡Œå…¶ä»»åŠ¡ä¸ºæ­¢</li><li>â€“constraintï¼šè®¾ç½®ä»»åŠ¡èŠ‚ç‚¹çº¦æŸï¼Œåªæœ‰æ»¡è¶³çº¦æŸçš„èŠ‚ç‚¹ä¼šè¢«è°ƒåº¦è¿è¡Œä»»åŠ¡å‰¯æœ¬ï¼Œéœ€è¦é…ç½®é›†ç¾¤å†…çš„èŠ‚ç‚¹çš„æ ‡ç­¾ä½¿ç”¨ï¼Œç”¨äºè°ƒåº¦ä»»åŠ¡åœ¨åˆé€‚çš„èŠ‚ç‚¹ä¸Šè¿è¡Œï¼Œé¿å…è°ƒåº¦åˆ°ä¸€äº›ä¸ç¬¦åˆæœåŠ¡è¿è¡Œæ¡ä»¶çš„èŠ‚ç‚¹ï¼Œå¯¼è‡´æœåŠ¡è¿è¡Œå¤±è´¥</li><li>â€“placement-prefï¼šé…ç½®æ”¾ç½®é¦–é€‰é¡¹ï¼Œä¸â€“constraintç±»ä¼¼ï¼Œå¯ä»¥ç»“åˆâ€“constraintã€â€“reserve-cpuã€â€“reserve-memoryä¸€èµ·ä½¿ç”¨ï¼Œç­›é€‰åˆé€‚çš„èŠ‚ç‚¹ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œä¸è¦åšå‡ºæ— æ³•è¾¾åˆ°çš„æ¡ä»¶ç­›é€‰ã€‚</li><li>â€“update-delayï¼šæ›´æ–°ç­–ç•¥ï¼Œä¸¤æ¬¡æ›´æ–°ä»»åŠ¡ä¹‹é—´é—´éš”å¤šé•¿ï¼Œé»˜è®¤0sï¼Œå¯ç”¨æ—¶é—´å•ä½ï¼šnsã€usã€msã€sã€mã€h</li><li>â€“update-failure-actionï¼šæ›´æ–°å¤±è´¥æ—¶çš„æ“ä½œï¼Œé»˜è®¤ä¸ºpauseï¼Œå¯ç”¨å€¼ï¼špauseã€continueã€rollback</li><li>â€“update-max-failure-ratioï¼šå¯ä»¥å®¹å¿çš„æ›´æ–°å¤±è´¥æ¯”ä¾‹ï¼Œé»˜è®¤æ—¶0ï¼Œå¯ç”¨å€¼ä¸º0åˆ°1çš„æµ®ç‚¹æ•°ï¼Œè¡¨ç¤ºæ›´æ–°å¤±è´¥çš„ç™¾åˆ†æ¯”ï¼Œ1ä¸º100%</li><li>â€“update-monitorï¼šæ›´æ–°ä¹‹åéœ€è¦ç›‘æ§å®¹å™¨æ­£å¸¸è¿è¡Œå¤šé•¿æ—¶é—´ï¼Œé»˜è®¤æ˜¯5s</li><li>â€“update-parallelismï¼šæ¯æ¬¡åŒæ—¶æ ¹æ®çš„ä»»åŠ¡å‰¯æœ¬ä¸ªæ•°ï¼Œé»˜è®¤æ˜¯1</li><li>â€“rollback-delayï¼šå›æ»šç­–ç•¥ï¼Œä¸¤æ¬¡å›æ»šä»»åŠ¡ä¹‹é—´é—´éš”å¤šé•¿ï¼Œé»˜è®¤0sï¼Œå¯ç”¨æ—¶é—´å•ä½ï¼šnsã€usã€msã€sã€mã€h</li><li>â€“rollback-failure-actionï¼šå›æ»šå¤±è´¥æ—¶çš„æ“ä½œï¼Œé»˜è®¤ä¸ºpauseï¼Œå¯ç”¨å€¼ï¼špauseã€continueã€rollback</li><li>â€“rollback-max-failure-ratioï¼šå¯ä»¥å®¹å¿çš„å›æ»šå¤±è´¥æ¯”ä¾‹ï¼Œé»˜è®¤æ—¶0ï¼Œå¯ç”¨å€¼ä¸º0åˆ°1çš„æµ®ç‚¹æ•°ï¼Œè¡¨ç¤ºæ›´æ–°å¤±è´¥çš„ç™¾åˆ†æ¯”ï¼Œ1ä¸º100%</li><li>â€“rollback-monitorï¼šå›æ»šä¹‹åéœ€è¦ç›‘æ§å®¹å™¨æ­£å¸¸è¿è¡Œå¤šé•¿æ—¶é—´ï¼Œé»˜è®¤æ˜¯5s</li><li>â€“rollback-parallelismï¼šæ¯æ¬¡åŒæ—¶æ ¹æ®çš„ä»»åŠ¡å‰¯æœ¬ä¸ªæ•°ï¼Œé»˜è®¤æ˜¯1</li><li>â€“restart-conditionï¼šé…ç½®é‡å¯ç­–ç•¥ï¼Œå¯ç”¨å€¼æœ‰:â€œnoneâ€ã€â€œon-failureâ€ã€â€œanyâ€ï¼Œé»˜è®¤æ˜¯any</li><li>â€“restart-delayï¼šå°è¯•é‡å¯çš„æ—¶é—´é—´éš”</li><li>â€“restart-max-attemptsï¼šå°è¯•é‡å¯çš„æœ€å¤§æ¬¡æ•°</li><li>â€“with-registry-authï¼šæœåŠ¡åˆ›å»ºçš„æ—¶å€™ï¼Œå„ä¸ªå·¥ä½œèŠ‚ç‚¹åŒæ­¥ç®¡ç†èŠ‚ç‚¹çš„ç§æœ‰ä»“åº“ç™»å½•å‡­è¯ï¼Œä»è€Œå„ä¸ªèŠ‚ç‚¹å¯ç”¨æ‹‰å–ç§æœ‰ä»“åº“é•œåƒ</li></ul><p>create å‘½ä»¤æ˜¯docker serviceå¾ˆé‡è¦çš„ä¸€ä¸ªå‘½ä»¤ï¼Œæ¶‰åŠçš„ç›¸å…³é€‰é¡¹éå¸¸å¤šï¼Œè¿™é‡Œæ²¡æœ‰åˆ—å…¨ï¼Œä¹Ÿæ²¡æœ‰è®²è§£å¾—å¾ˆè¯¦ç»†ï¼Œå¤§å®¶å®é™…ç”¨åˆ°çš„æ—¶å€™å†å…·ä½“äº†è§£ã€‚</p><h3 id="72-docker-service-ls-options"><a class="markdownIt-Anchor" href="#72-docker-service-ls-options"></a> 7.2 docker service ls [OPTIONS]</h3><p>åˆ—å‡ºæ‰€æœ‰æœåŠ¡ï¼Œå‘½ä»¤å¸¸ç”¨é€‰é¡¹å¦‚ä¸‹ï¼š</p><ul><li>-fï¼šå¯¹æœåŠ¡è¿›è¡Œè¿‡æ»¤</li><li>-qï¼šåªå±•ç¤ºid</li></ul><h3 id="73-docker-service-ps-options-service-service"><a class="markdownIt-Anchor" href="#73-docker-service-ps-options-service-service"></a> 7.3 docker service ps [OPTIONS] SERVICE [SERVICEâ€¦]</h3><p>åˆ—å‡ºä¸€ä¸ªæˆ–å¤šä¸ªæœåŠ¡çš„è¯¦ç»†ä»»åŠ¡ä¿¡æ¯ï¼Œå¯ä»¥æŸ¥çœ‹æœåŠ¡å¯¹äºçš„ä»»åŠ¡å‰¯æœ¬çš„çŠ¶æ€ï¼Œå…·ä½“åœ¨å“ªä¸ªèŠ‚ç‚¹ç­‰ï¼Œå‘½ä»¤å¸¸ç”¨é€‰é¡¹å¦‚ä¸‹ï¼š</p><ul><li>-fï¼šå¯¹ä»»åŠ¡è¿›è¡Œè¿‡æ»¤</li><li>-qï¼šåªå±•ç¤ºid</li></ul><h3 id="74-docker-service-inspect-options-service-service"><a class="markdownIt-Anchor" href="#74-docker-service-inspect-options-service-service"></a> 7.4 docker service inspect [OPTIONS] SERVICE [SERVICEâ€¦]</h3><p>æŸ¥çœ‹ä¸€ä¸ªæˆ–å¤šä¸ªæœåŠ¡çš„å…ƒä¿¡æ¯ï¼Œèƒ½å¤Ÿäº†è§£åˆ°æœåŠ¡å†…éƒ¨çš„å¾ˆå¤šé…ç½®å’Œä¸€äº›åŸç†ï¼Œå¸¸ç”¨é€‰é¡¹å¦‚ä¸‹ï¼š</p><ul><li>â€“prettyï¼šå¯¹æœåŠ¡ä¿¡æ¯è¿›è¡Œæ ¼å¼åŒ–</li></ul><h3 id="75-docker-service-logs-options-servicetask"><a class="markdownIt-Anchor" href="#75-docker-service-logs-options-servicetask"></a> 7.5 docker service logs [OPTIONS] SERVICE|TASK</h3><p>é€šè¿‡æœåŠ¡æˆ–ä»»åŠ¡çš„åç§°ã€idï¼Œè¾“å‡ºæœåŠ¡æˆ–è€…ä»»åŠ¡çš„æ—¥å¿—ä¿¡æ¯ï¼Œå¯¹äºæ’æŸ¥é”™è¯¯æœ‰ç”¨ï¼Œå¸¸ç”¨é€‰é¡¹å¦‚ä¸‹ï¼š</p><ul><li>â€“sinceï¼šç»™å®šä¸€ä¸ªæ—¶é—´æˆ³ï¼Œè¾“å‡ºä»ç»™å®šæ—¶é—´ä¹‹åçš„æ—¥å¿—</li><li>-nï¼šè¾“å‡ºæœ€åå¤šå°‘è¡Œ</li><li>-tï¼šæ˜¾ç¤ºæ¯è¡Œæ—¥å¿—çš„æ—¶é—´</li></ul><h3 id="76-docker-service-scale-servicereplicas-servicereplicas"><a class="markdownIt-Anchor" href="#76-docker-service-scale-servicereplicas-servicereplicas"></a> 7.6 docker service scale SERVICE=REPLICAS [SERVICE=REPLICASâ€¦]</h3><p>è®¾ç½®æœåŠ¡çš„å‰¯æœ¬ä¸ªæ•°ï¼Œé€‰é¡¹å¦‚ä¸‹ï¼š</p><ul><li>-dï¼šåå°è¿è¡Œå‘½ä»¤</li></ul><h3 id="77-docker-service-update-options-service"><a class="markdownIt-Anchor" href="#77-docker-service-update-options-service"></a> 7.7 docker service update [OPTIONS] SERVICE</h3><p>æŒ‰ç…§æ–°çš„é…ç½®æ›´æ–°æœåŠ¡ï¼Œupdateå‘½ä»¤çš„å¤§éƒ¨åˆ†å‚æ•°é…ç½®ä¼šå…³é—­åŸæœ‰çš„å‰¯æœ¬å®¹å™¨ï¼Œé‡æ–°å¯åŠ¨æ–°çš„å®¹å™¨ã€‚å¸¸ç”¨é€‰é¡¹å¦‚ä¸‹ï¼š</p><ul><li>â€“imageï¼šæ›´æ–°æœåŠ¡ä½¿ç”¨çš„é•œåƒï¼Œä¸€èˆ¬ç”¨äºå¯¹æœåŠ¡è¿›è¡Œè¿­ä»£å‡çº§ï¼ŒæŒ‡å®šæ–°çš„é•œåƒæ ‡ç­¾é‡å¯å®¹å™¨</li><li>â€“replicasï¼šæ›´æ–°æœåŠ¡çš„å‰¯æœ¬æ•°é‡ï¼Œç”¨äºæ‰©å®¹ç¼©å®¹ï¼Œå’Œdocker service scaleåŠŸèƒ½ç›¸åŒ</li><li>â€“replicas-max-per-nodeï¼šå•ä¸ªèŠ‚ç‚¹æœ€å¤šå¯éƒ¨ç½²å¤šå°‘ä¸ªå‰¯æœ¬</li><li>â€“env-addï¼šæ·»åŠ æˆ–æ›´æ–°ç¯å¢ƒå˜é‡</li><li>â€“env-rmï¼šç§»é™¤ç¯å¢ƒå˜é‡</li><li>â€“workdirï¼šæ›´æ”¹å·¥ä½œç›®å½•</li><li>â€“userï¼šæ›´æ”¹ç”¨æˆ·</li><li>â€“publish-addï¼šæ·»åŠ æˆ–æ›´æ–°ç«¯å£æ˜ å°„ï¼Œä¸createå‘½ä»¤ä¸­çš„æ ¼å¼ä¸€æ ·</li><li>â€“publish-rmï¼šé€šè¿‡ç›®æ ‡ç«¯å£åˆ é™¤å·²å‘å¸ƒçš„ç«¯å£</li><li>â€“mount-addï¼šæ–°å¢æˆ–æ›´æ–°å·æ˜ å°„é…ç½®</li><li>â€“mount-rmï¼šç§»é™¤å·æ˜ å°„é…ç½®</li><li>â€“network-addï¼šæ·»åŠ ç½‘ç»œ</li><li>â€“network-rmï¼šç§»é™¤ç½‘ç»œ</li><li>â€“config-addï¼šæ·»åŠ æˆ–è€…æ›´æ–°æœåŠ¡é…ç½®æ–‡ä»¶</li><li>â€“config-rmï¼šåˆ é™¤æœåŠ¡é…ç½®æ–‡ä»¶</li><li>â€“secret-addï¼šæ·»åŠ æˆ–æ›´æ–°æœºå¯†æ•°æ®</li><li>â€“secret-rmï¼šåˆ é™¤æœºå¯†æ•°æ®</li><li>â€“reserve-memoryï¼šé…ç½®æœåŠ¡å¯åŠ¨éœ€è¦æœ€å°‘çš„å†…å­˜</li><li>â€“reserve-cpuï¼šé…ç½®æœåŠ¡å¯åŠ¨éœ€è¦æœ€å°‘çš„cpuä¸ªæ•°</li><li>â€“constraint-addï¼šæ·»åŠ æˆ–æ›´æ–°çº¦æŸ</li><li>â€“constraint-rmï¼šåˆ é™¤çº¦æŸ</li><li>â€“placement-pref-addï¼šæ·»åŠ æˆ–æ›´æ–°é¦–é€‰é¡¹</li><li>â€“placement-pref-rmï¼šåˆ é™¤é¦–é€‰é¡¹</li><li>â€“rollbackï¼šå›æ»šåˆ°ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œä¸èƒ½å’Œupdateé™¤å›æ»šé…ç½®ä¹‹å¤–çš„å…¶ä»–å‘½ä»¤ä¸€èµ·ä½¿ç”¨ï¼Œç›¸å½“äºdocker service rollbackå‘½ä»¤</li><li>â€“forceï¼šå¼ºåˆ¶æ›´æ–°ï¼Œupdateå‘½ä»¤æœ‰ä¸€äº›å‚æ•°ä¸ä¼šå¯¼è‡´å¯åŠ¨æ–°çš„å®¹å™¨ï¼Œé€šè¿‡è¿™ä¸ªå‚æ•°å¯ä»¥å¼ºåˆ¶å¯åŠ¨æ–°çš„å®¹å™¨</li></ul><p>updateå‘½ä»¤ä¹Ÿæ˜¯docker serviceå¾ˆé‡è¦çš„å‘½ä»¤ä¹‹ä¸€ï¼Œè¿™é‡Œå¯ç”¨çš„é€‰é¡¹æ²¡æœ‰åˆ—å…¨ï¼Œä¹Ÿæ²¡æœ‰è®²çš„å¾ˆè¯¦ç»†ï¼Œä½†æ˜¯updateå‘½ä»¤ç›¸å…³é€‰é¡¹å¯ä»¥åˆ†å¸ƒä¸‰ç±»ï¼Œä¸€äº›æ˜¯updateç‰¹æœ‰çš„ï¼Œå¦‚â€“forceã€â€“rollbackç­‰ï¼Œä¸€äº›æ˜¯å’Œcreateå‘½ä»¤ä¸­çš„å‚æ•°é…ç½®å¯¹äºï¼Œä½†æ˜¯å­˜åœ¨æ›´æ–°å’Œç§»é™¤ä¸¤ç§æƒ…å†µçš„ï¼Œå¦‚â€“publish-addã€â€“publish-rmç­‰ï¼Œä¸€äº›æ˜¯å’Œcreateå‘½ä»¤ä¸­çš„å‚æ•°ä¸€æ ·çš„ï¼Œå¦‚â€“rollback-delayã€â€“update-delayç­‰ï¼Œè¿™ä¸€éƒ¨åˆ†å°±æ²¡æœ‰åˆ—å‡ºæ¥äº†ã€‚</p><h3 id="78-docker-service-rollback-options-service"><a class="markdownIt-Anchor" href="#78-docker-service-rollback-options-service"></a> 7.8 docker service rollback [OPTIONS] SERVICE</h3><p>æŒ‰ç…§å›æ»šé…ç½®å›æ»šä¸€ä¸ªæœåŠ¡ï¼Œé€‰é¡¹å¦‚ä¸‹ï¼š</p><ul><li>-dï¼šåå°è¿è¡Œå‘½ä»¤</li></ul><h3 id="79-docker-service-rm-service-service"><a class="markdownIt-Anchor" href="#79-docker-service-rm-service-service"></a> 7.9 docker service rm SERVICE [SERVICEâ€¦]</h3><p>ç§»é™¤ä¸€ä¸ªæˆ–è€…å¤šä¸ªæœåŠ¡ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¥å‘½ä»¤ä¸ä¼šäºŒæ¬¡ç¡®è®¤ï¼Œä½¿ç”¨çš„æ—¶å€™è¯·å°å¿ƒã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br />åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/weixin_37648525/article/details/125347670">https://blog.csdn.net/weixin_37648525/article/details/125347670</a></p>]]></content>
      
      
      <categories>
          
          <category> è™šæ‹ŸåŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¿®æ”¹MySQL8çš„å¯†ç </title>
      <link href="/2024/12/29/MySQL/%E4%BF%AE%E6%94%B9MySQL8%E7%9A%84%E5%AF%86%E7%A0%81/"/>
      <url>/2024/12/29/MySQL/%E4%BF%AE%E6%94%B9MySQL8%E7%9A%84%E5%AF%86%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<p>è¦åœ¨ MySQL8(ä¸­ä¿®æ”¹å¯†ç ï¼Œé€šå¸¸æ¨èä½¿ç”¨ <code>ALTER USER</code> è¯­å¥ã€‚MySQL8 åœ¨å®‰å…¨æ€§å’Œæƒé™ç®¡ç†ä¸Šè¿›è¡Œäº†æ”¹è¿›ï¼Œå› æ­¤æ¨èä½¿ç”¨è¿™ä¸ªæ–¹æ³•ã€‚ä¸‹é¢æ˜¯è¯¦ç»†æ­¥éª¤ï¼š</p><h4 id="æ­¥éª¤-1-ä½¿ç”¨ç®¡ç†å‘˜è´¦æˆ·ç™»å½•-mysql"><a class="markdownIt-Anchor" href="#æ­¥éª¤-1-ä½¿ç”¨ç®¡ç†å‘˜è´¦æˆ·ç™»å½•-mysql"></a> æ­¥éª¤ 1: ä½¿ç”¨ç®¡ç†å‘˜è´¦æˆ·ç™»å½• MySQL</h4><p>é¦–å…ˆï¼Œä½¿ç”¨å…·æœ‰è¶³å¤Ÿæƒé™çš„ç®¡ç†å‘˜è´¦æˆ·ï¼ˆé€šå¸¸æ˜¯ <code>root</code>ï¼‰ç™»å½•åˆ° MySQLã€‚ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿›å…¥ MySQL å‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure><p>ç„¶åè¾“å…¥å½“å‰çš„å¯†ç ã€‚</p><h4 id="æ­¥éª¤-2-ä¿®æ”¹å¯†ç "><a class="markdownIt-Anchor" href="#æ­¥éª¤-2-ä¿®æ”¹å¯†ç "></a> æ­¥éª¤ 2: ä¿®æ”¹å¯†ç </h4><p>åœ¨ MySQL 8 ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>ALTER USER</code> è¯­å¥æ¥ä¿®æ”¹å¯†ç ã€‚ä¾‹å¦‚ï¼Œè¦ä¿®æ”¹ <code>root</code> ç”¨æˆ·çš„å¯†ç ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;new_password&#x27;;</span><br></pre></td></tr></table></figure><ul><li><code>root</code> æ˜¯ç”¨æˆ·åã€‚</li><li><code>localhost</code> æ˜¯å…è®¸è®¿é—®çš„ä¸»æœºåï¼Œå¯ä»¥æ˜¯ <code>localhost</code> æˆ–è€…æ˜¯ <code>%</code>ï¼ˆè¡¨ç¤ºå…è®¸ä»ä»»ä½•ä¸»æœºç™»å½•ï¼‰ã€‚</li><li><code>'new_password'</code> æ˜¯ä½ æƒ³è¦è®¾ç½®çš„æ–°å¯†ç ã€‚</li></ul><h4 id="æ­¥éª¤-3-åˆ·æ–°æƒé™"><a class="markdownIt-Anchor" href="#æ­¥éª¤-3-åˆ·æ–°æƒé™"></a> æ­¥éª¤ 3: åˆ·æ–°æƒé™</h4><p>æ‰§è¡Œå®Œ <code>ALTER USER</code> å‘½ä»¤åï¼Œä¸ºäº†ç¡®ä¿å¯†ç ä¿®æ”¹ç«‹å³ç”Ÿæ•ˆï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤åˆ·æ–°æƒé™ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure><h4 id="æ­¥éª¤-4-é€€å‡º-mysql"><a class="markdownIt-Anchor" href="#æ­¥éª¤-4-é€€å‡º-mysql"></a> æ­¥éª¤ 4: é€€å‡º MySQL</h4><p>ä¿®æ”¹å¯†ç åï¼Œé€€å‡º MySQL å‘½ä»¤è¡Œï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit;</span><br></pre></td></tr></table></figure><h4 id="æ­¥éª¤-5-ä½¿ç”¨æ–°å¯†ç ç™»å½•"><a class="markdownIt-Anchor" href="#æ­¥éª¤-5-ä½¿ç”¨æ–°å¯†ç ç™»å½•"></a> æ­¥éª¤ 5: ä½¿ç”¨æ–°å¯†ç ç™»å½•</h4><p>é‡æ–°ç™»å½• MySQL æ—¶ï¼Œä½¿ç”¨ä½ åˆšåˆšè®¾ç½®çš„æ–°å¯†ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure><p>è¾“å…¥ä½ è®¾å®šçš„æ–°å¯†ç ï¼Œåº”è¯¥å°±èƒ½æˆåŠŸç™»å½•äº†ã€‚</p><h4 id="å…¶ä»–å¸¸è§æƒ…å†µ"><a class="markdownIt-Anchor" href="#å…¶ä»–å¸¸è§æƒ…å†µ"></a> å…¶ä»–å¸¸è§æƒ…å†µ</h4><h4 id="1-ä¿®æ”¹å…¶ä»–ç”¨æˆ·çš„å¯†ç "><a class="markdownIt-Anchor" href="#1-ä¿®æ”¹å…¶ä»–ç”¨æˆ·çš„å¯†ç "></a> 1. <strong>ä¿®æ”¹å…¶ä»–ç”¨æˆ·çš„å¯†ç </strong></h4><p>å¦‚æœä½ éœ€è¦ä¿®æ”¹å…¶ä»–ç”¨æˆ·çš„å¯†ç ï¼Œåªéœ€å°†ç”¨æˆ·åå’Œä¸»æœºåæ›¿æ¢ä¸ºç›®æ ‡ç”¨æˆ·ã€‚ä¾‹å¦‚ï¼Œä¿®æ”¹ <code>user1</code> ç”¨æˆ·çš„å¯†ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER USER &#x27;user1&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;new_password&#x27;;</span><br></pre></td></tr></table></figure><h4 id="2-å¿˜è®°å¯†ç "><a class="markdownIt-Anchor" href="#2-å¿˜è®°å¯†ç "></a> 2. <strong>å¿˜è®°å¯†ç </strong></h4><p>å¦‚æœä½ å¿˜è®°äº† MySQL <code>root</code> ç”¨æˆ·çš„å¯†ç ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤è¿›è¡Œé‡ç½®ã€‚è¿™é‡Œçš„æ­¥éª¤å‡è®¾ä½ æ‹¥æœ‰æ“ä½œ MySQL æ•°æ®ç›®å½•å’Œç³»ç»Ÿæƒé™ï¼š</p><h5 id="21-åœæ­¢-mysql-æœåŠ¡"><a class="markdownIt-Anchor" href="#21-åœæ­¢-mysql-æœåŠ¡"></a> 2.1 åœæ­¢ MySQL æœåŠ¡</h5><p>é¦–å…ˆï¼Œåœæ­¢ MySQL æœåŠ¡ã€‚</p><ul><li><p><strong>Windows</strong>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net stop mysql</span><br></pre></td></tr></table></figure></li><li><p><strong>Linux</strong>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl stop mysql</span><br></pre></td></tr></table></figure></li></ul><h5 id="22-å¯åŠ¨-mysql-æ— å¯†ç æ¨¡å¼"><a class="markdownIt-Anchor" href="#22-å¯åŠ¨-mysql-æ— å¯†ç æ¨¡å¼"></a> 2.2 å¯åŠ¨ MySQL æ— å¯†ç æ¨¡å¼</h5><p>ç„¶åï¼Œå¯åŠ¨ MySQL å¹¶è·³è¿‡æˆæƒè¡¨æ¥å…è®¸ä¸éœ€è¦å¯†ç ç™»å½•ã€‚</p><ul><li><p><strong>Windows</strong>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --skip-grant-tables</span><br></pre></td></tr></table></figure></li><li><p><strong>Linux</strong>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mysqld_safe --skip-grant-tables &amp;amp;</span><br></pre></td></tr></table></figure></li></ul><h5 id="23-ç™»å½•-mysql"><a class="markdownIt-Anchor" href="#23-ç™»å½•-mysql"></a> 2.3 ç™»å½• MySQL</h5><p>æ¥ä¸‹æ¥ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç™»å½• MySQLï¼ˆä¸éœ€è¦å¯†ç ï¼‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root</span><br></pre></td></tr></table></figure><h5 id="24-ä¿®æ”¹å¯†ç "><a class="markdownIt-Anchor" href="#24-ä¿®æ”¹å¯†ç "></a> 2.4 ä¿®æ”¹å¯†ç </h5><p>ç™»å½• MySQL åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¿®æ”¹ <code>root</code> ç”¨æˆ·çš„å¯†ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;new_password&#x27;;</span><br></pre></td></tr></table></figure><h5 id="25-é€€å‡ºå¹¶é‡å¯-mysql"><a class="markdownIt-Anchor" href="#25-é€€å‡ºå¹¶é‡å¯-mysql"></a> 2.5 é€€å‡ºå¹¶é‡å¯ MySQL</h5><p>å®Œæˆå¯†ç ä¿®æ”¹åï¼Œé€€å‡º MySQLï¼Œç„¶åé‡å¯ MySQL æœåŠ¡ã€‚</p><ul><li><p><strong>Windows</strong>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net start mysql</span><br></pre></td></tr></table></figure></li><li><p><strong>Linux</strong>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start mysql</span><br></pre></td></tr></table></figure></li></ul><h5 id="26-ä½¿ç”¨æ–°å¯†ç ç™»å½•"><a class="markdownIt-Anchor" href="#26-ä½¿ç”¨æ–°å¯†ç ç™»å½•"></a> 2.6 ä½¿ç”¨æ–°å¯†ç ç™»å½•</h5><p>ç°åœ¨ä½ åº”è¯¥èƒ½å¤Ÿä½¿ç”¨æ–°å¯†ç ç™»å½• MySQLã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure><h4 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h4><ul><li><strong>æ¨èæ–¹æ³•</strong>ï¼šä½¿ç”¨ <code>ALTER USER</code> è¯­å¥ä¿®æ”¹å¯†ç ã€‚</li><li><strong>å…¶ä»–ç”¨æˆ·</strong>ï¼šä¿®æ”¹å…¶ä»–ç”¨æˆ·å¯†ç æ—¶ï¼Œåªéœ€æ›¿æ¢ç”¨æˆ·åã€‚</li><li><strong>å¿˜è®°å¯†ç </strong>ï¼šé€šè¿‡è·³è¿‡æˆæƒè¡¨é‡ç½®å¯†ç ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Dockerã€‘Dockerfile æ–‡ä»¶ç¼–å†™</title>
      <link href="/2024/12/23/Docker/%E3%80%90Docker%E3%80%91Dockerfile%20%E6%96%87%E4%BB%B6%E7%BC%96%E5%86%99/"/>
      <url>/2024/12/23/Docker/%E3%80%90Docker%E3%80%91Dockerfile%20%E6%96%87%E4%BB%B6%E7%BC%96%E5%86%99/</url>
      
        <content type="html"><![CDATA[<p>ç¼–å†™ Dockerfile æ˜¯åˆ›å»º Docker é•œåƒçš„æ ¸å¿ƒæ­¥éª¤ã€‚Dockerfile æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«äº†æ„å»ºé•œåƒæ‰€éœ€çš„ä¸€ç³»åˆ—æŒ‡ä»¤å’Œé…ç½®ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†è¯¦ç»†ä»‹ç» Dockerfile çš„ç¼–å†™ï¼ŒåŒ…æ‹¬å…¶åŸºæœ¬ç»“æ„ã€å¸¸ç”¨æŒ‡ä»¤ã€ä¼˜åŒ–æŠ€å·§å’Œç¤ºä¾‹ã€‚</p><h3 id="dockerfile-åŸºæœ¬ç»“æ„"><a class="markdownIt-Anchor" href="#dockerfile-åŸºæœ¬ç»“æ„"></a> Dockerfile åŸºæœ¬ç»“æ„</h3><p>ä¸€ä¸ªå…¸å‹çš„ Dockerfile ç”±ä¸€ç³»åˆ—æŒ‡ä»¤ç»„æˆï¼Œæ¯ä¸ªæŒ‡ä»¤å®šä¹‰äº†é•œåƒæ„å»ºè¿‡ç¨‹ä¸­çš„ä¸€ä¸ªæ­¥éª¤ã€‚å¸¸è§çš„æŒ‡ä»¤åŒ…æ‹¬ <code>FROM</code>ã€<code>RUN</code>ã€<code>COPY</code>ã€<code>CMD</code>ã€<code>EXPOSE</code> ç­‰ã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨çš„åŸºç¡€é•œåƒ</span></span><br><span class="line"><span class="keyword">FROM</span> ubuntu:<span class="number">20.04</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»´æŠ¤è€…ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">LABEL</span><span class="language-bash"> maintainer=<span class="string">&quot;yourname@example.com&quot;</span></span></span><br><span class="line"><span class="comment"># è®¾ç½®ç¯å¢ƒå˜é‡ ENV DEBIAN_FRONTEND=noninteractive</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…ä¾èµ–å’Œè½¯ä»¶åŒ…</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apt-get update &amp;&amp; apt-get install -y </span></span><br><span class="line">    curl \</span><br><span class="line">vim \</span><br><span class="line">git</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤åˆ¶æ–‡ä»¶åˆ°é•œåƒ</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> . /app</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å·¥ä½œç›®å½•</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /app</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æš´éœ²ç«¯å£</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®¹å™¨å¯åŠ¨æ—¶è¿è¡Œçš„å‘½ä»¤</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;python3&quot;</span>, <span class="string">&quot;app.py&quot;</span>]</span></span><br></pre></td></tr></table></figure><h3 id="å¸¸ç”¨æŒ‡ä»¤è¯¦è§£"><a class="markdownIt-Anchor" href="#å¸¸ç”¨æŒ‡ä»¤è¯¦è§£"></a> å¸¸ç”¨æŒ‡ä»¤è¯¦è§£</h3><h4 id="1-from"><a class="markdownIt-Anchor" href="#1-from"></a> 1. <code>FROM</code></h4><p><code>FROM</code> æŒ‡ä»¤ç”¨äºæŒ‡å®šåŸºç¡€é•œåƒã€‚æ¯ä¸ª Dockerfile å¿…é¡»ä»¥ <code>FROM</code> å¼€å¤´ã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> &lt;image&gt;[:&lt;tag&gt;]</span><br></pre></td></tr></table></figure><ul><li><code>&lt;image&gt;</code>ï¼šåŸºç¡€é•œåƒçš„åç§°ã€‚</li><li><code>&lt;tag&gt;</code>ï¼šå¯é€‰ï¼ŒæŒ‡å®šé•œåƒçš„ç‰ˆæœ¬å·æˆ–æ ‡ç­¾ã€‚</li></ul><h5 id="ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹"></a> ç¤ºä¾‹</h5><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„ Ubuntu ä½œä¸ºåŸºç¡€é•œåƒ</span></span><br><span class="line"><span class="keyword">FROM</span> ubuntu:latest</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ Python 3.9 çš„å®˜æ–¹é•œåƒ</span></span><br><span class="line"><span class="keyword">FROM</span> python:<span class="number">3.9</span></span><br></pre></td></tr></table></figure><h4 id="2-label"><a class="markdownIt-Anchor" href="#2-label"></a> 2. <code>LABEL</code></h4><p><code>LABEL</code> æŒ‡ä»¤ç”¨äºæ·»åŠ å…ƒæ•°æ®ï¼Œå¦‚ç»´æŠ¤è€…ä¿¡æ¯ã€ç‰ˆæœ¬å·ç­‰ã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">LABEL</span><span class="language-bash"> &lt;key&gt;=&lt;value&gt; [&lt;key&gt;=&lt;value&gt; ...]</span></span><br></pre></td></tr></table></figure><h5 id="ç¤ºä¾‹-2"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-2"></a> ç¤ºä¾‹</h5><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ ç»´æŠ¤è€…ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">LABEL</span><span class="language-bash"> maintainer=<span class="string">&quot;yourname@example.com&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ ç‰ˆæœ¬ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">LABEL</span><span class="language-bash"> version=<span class="string">&quot;1.0&quot;</span></span></span><br><span class="line"><span class="keyword">LABEL</span><span class="language-bash"> description=<span class="string">&quot;This is a sample application.&quot;</span></span></span><br></pre></td></tr></table></figure><h4 id="3-env"><a class="markdownIt-Anchor" href="#3-env"></a> 3. <code>ENV</code></h4><p><code>ENV</code> æŒ‡ä»¤ç”¨äºè®¾ç½®ç¯å¢ƒå˜é‡ã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ENV</span> &lt;key&gt;=&lt;value&gt;</span><br></pre></td></tr></table></figure><h5 id="ç¤ºä¾‹-3"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-3"></a> ç¤ºä¾‹</h5><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®ç¯å¢ƒå˜é‡</span></span><br><span class="line"><span class="keyword">ENV</span> APP_ENV=production</span><br><span class="line"><span class="keyword">ENV</span> DEBUG=false</span><br></pre></td></tr></table></figure><h4 id="4-run"><a class="markdownIt-Anchor" href="#4-run"></a> 4. <code>RUN</code></h4><p><code>RUN</code> æŒ‡ä»¤ç”¨äºåœ¨é•œåƒæ„å»ºè¿‡ç¨‹ä¸­æ‰§è¡Œå‘½ä»¤ã€‚é€šå¸¸ç”¨äºå®‰è£…è½¯ä»¶åŒ…ã€æ‰§è¡Œè„šæœ¬ç­‰ã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">RUN</span><span class="language-bash"> &lt;<span class="built_in">command</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>&lt;command&gt;</code>ï¼šè¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œå¯ä»¥æ˜¯ä»»ä½• shell å‘½ä»¤ã€‚</li></ul><h5 id="ç¤ºä¾‹-4"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-4"></a> ç¤ºä¾‹</h5><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£… nginx</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apt-get update &amp;&amp; apt-get install -y nginx</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡Œè„šæœ¬</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> /path/to/script.sh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£… Python åŒ…</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> pip install -r requirements.txt</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šå¯¹äºå®‰è£…å¤šä¸ªè½¯ä»¶åŒ…çš„æƒ…å†µï¼Œé€šå¸¸ä¼šå°†å¤šä¸ªå‘½ä»¤åˆå¹¶æˆä¸€æ¡ <code>RUN</code> æŒ‡ä»¤ï¼Œä»¥å‡å°‘æ„å»ºå±‚æ•°ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apt-get update &amp;&amp; \</span></span><br><span class="line"><span class="language-bash">    apt-get install -y nginx curl vim</span></span><br></pre></td></tr></table></figure><h4 id="5-copy"><a class="markdownIt-Anchor" href="#5-copy"></a> 5. <code>COPY</code></h4><p><code>COPY</code> æŒ‡ä»¤ç”¨äºå°†æ–‡ä»¶æˆ–ç›®å½•ä»ä¸»æœºå¤åˆ¶åˆ°é•œåƒä¸­ã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">COPY</span><span class="language-bash"> &lt;src&gt; &lt;dest&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>&lt;src&gt;</code>ï¼šè¦å¤åˆ¶çš„æ–‡ä»¶æˆ–ç›®å½•çš„è·¯å¾„ã€‚</li><li><code>&lt;dest&gt;</code>ï¼šé•œåƒä¸­çš„ç›®æ ‡è·¯å¾„ã€‚</li></ul><h5 id="ç¤ºä¾‹-5"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-5"></a> ç¤ºä¾‹</h5><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¤åˆ¶å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åˆ° /app ç›®å½•</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> . /app</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤åˆ¶ç‰¹å®šæ–‡ä»¶</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> config.yml /etc/myapp/config.yml</span></span><br></pre></td></tr></table></figure><h4 id="6-add"><a class="markdownIt-Anchor" href="#6-add"></a> 6. <code>ADD</code></h4><p><code>ADD</code> æŒ‡ä»¤ä¸ <code>COPY</code> ç±»ä¼¼ï¼Œä½†æ”¯æŒæ›´å¤šåŠŸèƒ½ï¼Œå¦‚è‡ªåŠ¨è§£å‹ tar æ–‡ä»¶å’Œä» URL ä¸‹è½½æ–‡ä»¶ã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ADD</span><span class="language-bash"> &lt;src&gt; &lt;dest&gt;</span></span><br></pre></td></tr></table></figure><h5 id="ç¤ºä¾‹-6"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-6"></a> ç¤ºä¾‹</h5><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è§£å‹æ–‡ä»¶å¹¶å¤åˆ¶</span></span><br><span class="line"><span class="keyword">ADD</span><span class="language-bash"> myapp.tar.gz /usr/src/app</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä» URL ä¸‹è½½æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">ADD</span><span class="language-bash"> http://example.com/file.txt /path/in/container</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼š<code>ADD</code> æŒ‡ä»¤åŠŸèƒ½å¼ºå¤§ï¼Œä½†é€šå¸¸æ¨èä½¿ç”¨ <code>COPY</code> æŒ‡ä»¤ï¼Œé™¤ééœ€è¦ <code>ADD</code> çš„ç‰¹æ®ŠåŠŸèƒ½ã€‚</p><h4 id="7-workdir"><a class="markdownIt-Anchor" href="#7-workdir"></a> 7. <code>WORKDIR</code></h4><p><code>WORKDIR</code> æŒ‡ä»¤ç”¨äºè®¾ç½®å·¥ä½œç›®å½•ã€‚åç»­æŒ‡ä»¤ï¼ˆå¦‚ <code>RUN</code>ã€<code>CMD</code>ã€<code>COPY</code> ç­‰ï¼‰å°†åœ¨æ­¤ç›®å½•ä¸­æ‰§è¡Œã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> &lt;path&gt;</span></span><br></pre></td></tr></table></figure><h5 id="ç¤ºä¾‹-7"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-7"></a> ç¤ºä¾‹</h5><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®å·¥ä½œç›®å½•ä¸º /app WORKDIR /app</span></span><br></pre></td></tr></table></figure><h4 id="8-expose"><a class="markdownIt-Anchor" href="#8-expose"></a> 8. <code>EXPOSE</code></h4><p><code>EXPOSE</code> æŒ‡ä»¤ç”¨äºå£°æ˜å®¹å™¨è¿è¡Œæ—¶ç›‘å¬çš„ç«¯å£ã€‚è¯¥æŒ‡ä»¤ä»…ç”¨äºæ–‡æ¡£è¯´æ˜ï¼Œä¸ä¼šçœŸæ­£åœ°æ‰“å¼€ç«¯å£ã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">EXPOSE</span> &lt;port&gt; [&lt;port&gt;/&lt;protocol&gt;...]</span><br></pre></td></tr></table></figure><ul><li><code>&lt;port&gt;</code>ï¼šè¦æš´éœ²çš„ç«¯å£å·ã€‚</li><li><code>&lt;protocol&gt;</code>ï¼šå¯é€‰ï¼ŒæŒ‡å®šåè®®ï¼ˆé»˜è®¤æ˜¯ <code>tcp</code>ï¼‰ã€‚</li></ul><h5 id="ç¤ºä¾‹-8"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-8"></a> ç¤ºä¾‹</h5><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æš´éœ²ç«¯å£ 80</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æš´éœ²ç«¯å£ 8080ï¼Œä½¿ç”¨ TCP åè®®</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8080</span>/tcp</span><br></pre></td></tr></table></figure><h4 id="9-cmd"><a class="markdownIt-Anchor" href="#9-cmd"></a> 9. <code>CMD</code></h4><p><code>CMD</code> æŒ‡ä»¤ç”¨äºæŒ‡å®šå®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œçš„å‘½ä»¤ã€‚æ¯ä¸ª Dockerfile åªèƒ½æœ‰ä¸€ä¸ª <code>CMD</code> æŒ‡ä»¤ï¼Œè‹¥æœ‰å¤šä¸ª <code>CMD</code> æŒ‡ä»¤ï¼Œåªæœ‰æœ€åä¸€ä¸ªç”Ÿæ•ˆã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;executable&quot;</span>, <span class="string">&quot;param1&quot;</span>, <span class="string">&quot;param2&quot;</span>]</span></span><br></pre></td></tr></table></figure><h5 id="ç¤ºä¾‹-9"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-9"></a> ç¤ºä¾‹</h5><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ shell å½¢å¼</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;nginx&quot;</span>, <span class="string">&quot;-g&quot;</span>, <span class="string">&quot;daemon off;&quot;</span>]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ shell æ ¼å¼</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> nginx -g <span class="string">&quot;daemon off;&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨é»˜è®¤å‘½ä»¤å¯åŠ¨</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;python3&quot;</span>, <span class="string">&quot;app.py&quot;</span>]</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼š<code>CMD</code> æŒ‡ä»¤çš„å†…å®¹ä¼šè¢« <code>docker run</code> å‘½ä»¤è¡Œå‚æ•°è¦†ç›–ã€‚å¦‚æœéœ€è¦ç¡®ä¿å‘½ä»¤æ‰§è¡Œï¼Œå¯ä»¥ä½¿ç”¨ <code>ENTRYPOINT</code> æŒ‡ä»¤ã€‚</p><h4 id="10-entrypoint"><a class="markdownIt-Anchor" href="#10-entrypoint"></a> 10. <code>ENTRYPOINT</code></h4><p><code>ENTRYPOINT</code> æŒ‡ä»¤ç”¨äºé…ç½®å®¹å™¨å¯åŠ¨æ—¶è¿è¡Œçš„ä¸»ç¨‹åºã€‚ä¸ <code>CMD</code> ä¸åŒï¼Œ<code>ENTRYPOINT</code> æŒ‡ä»¤ä¼šä¿æŒå…¶è®¾ç½®çš„å‘½ä»¤è¡Œå‚æ•°ï¼Œå¹¶å°† <code>docker run</code> å‘½ä»¤è¡Œå‚æ•°é™„åŠ åœ¨åé¢ã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ENTRYPOINT</span><span class="language-bash"> [<span class="string">&quot;executable&quot;</span>, <span class="string">&quot;param1&quot;</span>, <span class="string">&quot;param2&quot;</span>]</span></span><br></pre></td></tr></table></figure><h5 id="ç¤ºä¾‹-10"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-10"></a> ç¤ºä¾‹</h5><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½® entrypoint ä¸º /bin/bash</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="language-bash"> [<span class="string">&quot;/bin/bash&quot;</span>]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ exec æ ¼å¼</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="language-bash"> [<span class="string">&quot;nginx&quot;</span>, <span class="string">&quot;-g&quot;</span>, <span class="string">&quot;daemon off;&quot;</span>]</span></span><br></pre></td></tr></table></figure><h4 id="11-volume"><a class="markdownIt-Anchor" href="#11-volume"></a> 11. <code>VOLUME</code></h4><p><code>VOLUME</code> æŒ‡ä»¤ç”¨äºå£°æ˜æŒ‚è½½ç‚¹ï¼Œä½¿æ•°æ®å·åœ¨å®¹å™¨å’Œä¸»æœºä¹‹é—´å…±äº«ã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">VOLUME</span><span class="language-bash"> [<span class="string">&quot;&lt;path&gt;&quot;</span>]</span></span><br></pre></td></tr></table></figure><h5 id="ç¤ºä¾‹-11"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-11"></a> ç¤ºä¾‹</h5><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½® /data ä¸ºæ•°æ®å·</span></span><br><span class="line"><span class="keyword">VOLUME</span><span class="language-bash"> [<span class="string">&quot;/data&quot;</span>]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šå¤šä¸ªæŒ‚è½½ç‚¹</span></span><br><span class="line"><span class="keyword">VOLUME</span><span class="language-bash"> [<span class="string">&quot;/data&quot;</span>, <span class="string">&quot;/var/lib/mysql&quot;</span>]</span></span><br></pre></td></tr></table></figure><h4 id="12-user"><a class="markdownIt-Anchor" href="#12-user"></a> 12. <code>USER</code></h4><p><code>USER</code> æŒ‡ä»¤ç”¨äºè®¾ç½®è¿è¡Œåç»­æŒ‡ä»¤çš„ç”¨æˆ·ã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USER</span> &lt;username&gt;[:&lt;group&gt;]</span><br></pre></td></tr></table></figure><h5 id="ç¤ºä¾‹-12"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-12"></a> ç¤ºä¾‹</h5><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ç‰¹å®šç”¨æˆ·è¿è¡ŒæŒ‡ä»¤</span></span><br><span class="line"><span class="keyword">USER</span> myuser</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šç”¨æˆ·å’Œç»„</span></span><br><span class="line"><span class="keyword">USER</span> myuser:mygroup</span><br></pre></td></tr></table></figure><h4 id="13-arg"><a class="markdownIt-Anchor" href="#13-arg"></a> 13. <code>ARG</code></h4><p><code>ARG</code> æŒ‡ä»¤ç”¨äºå®šä¹‰æ„å»ºå‚æ•°ï¼Œè¿™äº›å‚æ•°åœ¨æ„å»ºæ—¶å¯è¢«ä¼ é€’ç»™ Dockerã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ARG</span> &lt;name&gt;[=&lt;default value&gt;]</span><br></pre></td></tr></table></figure><h5 id="ç¤ºä¾‹-13"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-13"></a> ç¤ºä¾‹</h5><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®šä¹‰æ„å»ºå‚æ•°</span></span><br><span class="line"><span class="keyword">ARG</span> VERSION=<span class="number">1.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨æ„å»ºå‚æ•°</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">echo</span> <span class="string">&quot;Building version <span class="variable">$VERSION</span>&quot;</span></span></span><br></pre></td></tr></table></figure><p>æ„å»ºæ—¶å¯ä»¥é€šè¿‡ <code>--build-arg</code> ä¼ é€’å‚æ•°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build --build-arg VERSION=2.0 .</span><br></pre></td></tr></table></figure><h4 id="14-healthcheck"><a class="markdownIt-Anchor" href="#14-healthcheck"></a> 14. <code>HEALTHCHECK</code></h4><p><code>HEALTHCHECK</code> æŒ‡ä»¤ç”¨äºå®šä¹‰å®¹å™¨å†…åº”ç”¨çš„å¥åº·æ£€æŸ¥æœºåˆ¶ã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">HEALTHCHECK</span><span class="language-bash"> [OPTIONS] CMD &lt;<span class="built_in">command</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>CMD &lt;command&gt;</code>ï¼šæ‰§è¡Œæ£€æŸ¥çš„å‘½ä»¤ã€‚</li><li><code>[OPTIONS]</code>ï¼šé…ç½®æ£€æŸ¥çš„é€‰é¡¹ã€‚</li></ul><h5 id="å¸¸ç”¨é€‰é¡¹"><a class="markdownIt-Anchor" href="#å¸¸ç”¨é€‰é¡¹"></a> å¸¸ç”¨é€‰é¡¹</h5><ul><li><code>--interval=&lt;duration&gt;</code>ï¼šè®¾ç½®æ£€æŸ¥é—´éš”ï¼ˆé»˜è®¤ 30sï¼‰ã€‚</li><li><code>--timeout=&lt;duration&gt;</code>ï¼šè®¾ç½®è¶…æ—¶æ—¶é—´ï¼ˆé»˜è®¤ 30sï¼‰ã€‚</li><li><code>--retries=&lt;count&gt;</code>ï¼šè®¾ç½®å¤±è´¥é‡è¯•æ¬¡æ•°ï¼ˆé»˜è®¤ 3ï¼‰ã€‚</li><li><code>--start-period=&lt;duration&gt;</code>ï¼šåˆå§‹åŒ–å¯åŠ¨æ—¶é—´ï¼Œé¿å…å¯åŠ¨åˆæœŸçš„æ£€æŸ¥å¤±è´¥ï¼ˆé»˜è®¤ 0sï¼‰ã€‚</li></ul><h5 id="ç¤ºä¾‹-14"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-14"></a> ç¤ºä¾‹</h5><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®å¥åº·æ£€æŸ¥</span></span><br><span class="line"><span class="keyword">HEALTHCHECK</span><span class="language-bash"> --interval=30s --<span class="built_in">timeout</span>=10s --retries=3 \</span></span><br><span class="line"><span class="language-bash">  CMD curl -f http://localhost/ || <span class="built_in">exit</span> 1</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># ç¦ç”¨å¥åº·æ£€æŸ¥</span></span><br><span class="line"><span class="keyword">HEALTHCHECK</span><span class="language-bash"> NONE</span></span><br></pre></td></tr></table></figure><h4 id="15-onbuild"><a class="markdownIt-Anchor" href="#15-onbuild"></a> 15. <code>ONBUILD</code></h4><p><code>ONBUILD</code> æŒ‡ä»¤ç”¨äºå®šä¹‰ä¸€ä¸ªè§¦å‘å™¨ï¼Œå½“ä»¥æ­¤é•œåƒä¸ºåŸºç¡€æ„å»ºæ–°çš„é•œåƒæ—¶æ‰§è¡Œç‰¹å®šæŒ‡ä»¤ã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ONBUILD</span> &lt;instruction&gt;</span><br></pre></td></tr></table></figure><h5 id="ç¤ºä¾‹-15"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-15"></a> ç¤ºä¾‹</h5><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®šä¹‰ä¸€ä¸ªè§¦å‘å™¨ï¼Œå½“ä»¥æ­¤é•œåƒä¸ºåŸºç¡€æ„å»ºæ—¶è‡ªåŠ¨æ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">ONBUILD</span> <span class="keyword">COPY</span><span class="language-bash"> . /app</span></span><br></pre></td></tr></table></figure><h3 id="dockerfile-ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#dockerfile-ç¤ºä¾‹"></a> Dockerfile ç¤ºä¾‹</h3><h4 id="ç¤ºä¾‹-1ç®€å•çš„-python-åº”ç”¨"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-1ç®€å•çš„-python-åº”ç”¨"></a> ç¤ºä¾‹ 1ï¼šç®€å•çš„ Python åº”ç”¨</h4><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ Python</p><p>åº”ç”¨ Dockerfile ç¤ºä¾‹ï¼š</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨å®˜æ–¹ Python 3.9 é•œåƒä½œä¸ºåŸºç¡€é•œåƒ</span></span><br><span class="line"><span class="keyword">FROM</span> python:<span class="number">3.9</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å·¥ä½œç›®å½•</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /app</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤åˆ¶å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œç›®å½•</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> . .</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…ä¾èµ–</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> pip install -r requirements.txt</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æš´éœ²åº”ç”¨ç«¯å£</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">5000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å®¹å™¨å¯åŠ¨å‘½ä»¤</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;python&quot;</span>, <span class="string">&quot;app.py&quot;</span>]</span></span><br></pre></td></tr></table></figure><h4 id="ç¤ºä¾‹-2nodejs-åº”ç”¨"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-2nodejs-åº”ç”¨"></a> ç¤ºä¾‹ 2ï¼šNode.js åº”ç”¨</h4><p>è¿™æ˜¯ä¸€ä¸ª Node.js åº”ç”¨çš„ Dockerfile ç¤ºä¾‹ï¼š</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨å®˜æ–¹ Node.js é•œåƒ</span></span><br><span class="line"><span class="keyword">FROM</span> node:<span class="number">14</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å·¥ä½œç›®å½•</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /usr/src/app</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤åˆ¶ package.json å’Œ package-lock.json</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> package*.json ./</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…ä¾èµ–</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> npm install</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤åˆ¶åº”ç”¨ä»£ç </span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> . .</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æš´éœ²ç«¯å£</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">3000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨åº”ç”¨</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;node&quot;</span>, <span class="string">&quot;server.js&quot;</span>]</span></span><br></pre></td></tr></table></figure><h4 id="ç¤ºä¾‹-3nginx-åå‘ä»£ç†"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-3nginx-åå‘ä»£ç†"></a> ç¤ºä¾‹ 3ï¼šNginx åå‘ä»£ç†</h4><p>è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ Nginx ä½œä¸ºåå‘ä»£ç†çš„ Dockerfile ç¤ºä¾‹ï¼š</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨å®˜æ–¹ Nginx é•œåƒ</span></span><br><span class="line"><span class="keyword">FROM</span> nginx:alpine</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤åˆ¶è‡ªå®šä¹‰é…ç½®æ–‡ä»¶åˆ° Nginx çš„é»˜è®¤é…ç½®ç›®å½•</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> nginx.conf /etc/nginx/nginx.conf</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æš´éœ² HTTP å’Œ HTTPS ç«¯å£</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">80</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">443</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨ Nginx</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;nginx&quot;</span>, <span class="string">&quot;-g&quot;</span>, <span class="string">&quot;daemon off;&quot;</span>]</span></span><br></pre></td></tr></table></figure><h4 id="ç¤ºä¾‹-4å¤šé˜¶æ®µæ„å»º"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-4å¤šé˜¶æ®µæ„å»º"></a> ç¤ºä¾‹ 4ï¼šå¤šé˜¶æ®µæ„å»º</h4><p>å¤šé˜¶æ®µæ„å»ºç”¨äºä¼˜åŒ–é•œåƒä½“ç§¯å’Œæ„å»ºæ•ˆç‡ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªå¤šé˜¶æ®µæ„å»ºçš„ç¤ºä¾‹ï¼š</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¬¬ä¸€é˜¶æ®µï¼šæ„å»ºåº”ç”¨</span></span><br><span class="line"><span class="keyword">FROM</span> golang:<span class="number">1.16</span> as builder</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å·¥ä½œç›®å½•</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /app</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤åˆ¶æºç </span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> . .</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼–è¯‘åº”ç”¨</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> go build -o myapp</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¬¬äºŒé˜¶æ®µï¼šåˆ›å»ºæœ€å°é•œåƒ</span></span><br><span class="line"><span class="keyword">FROM</span> alpine:latest</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…å¿…è¦çš„ä¾èµ–</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apk --no-cache add ca-certificates</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤åˆ¶ç¼–è¯‘å¥½çš„åº”ç”¨</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> --from=builder /app/myapp /usr/local/bin/myapp</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æš´éœ²åº”ç”¨ç«¯å£</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨åº”ç”¨</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;myapp&quot;</span>]</span></span><br></pre></td></tr></table></figure><h3 id="dockerfile-ä¼˜åŒ–æŠ€å·§"><a class="markdownIt-Anchor" href="#dockerfile-ä¼˜åŒ–æŠ€å·§"></a> Dockerfile ä¼˜åŒ–æŠ€å·§</h3><h4 id="1-å‡å°‘é•œåƒä½“ç§¯"><a class="markdownIt-Anchor" href="#1-å‡å°‘é•œåƒä½“ç§¯"></a> 1. å‡å°‘é•œåƒä½“ç§¯</h4><ul><li>ä½¿ç”¨è½»é‡çº§åŸºç¡€é•œåƒï¼ˆå¦‚ <code>alpine</code>ï¼‰ã€‚</li><li>åˆå¹¶ <code>RUN</code> æŒ‡ä»¤ï¼Œå‡å°‘é•œåƒå±‚æ•°ã€‚</li><li>åˆ é™¤ä¸å¿…è¦çš„æ–‡ä»¶å’Œç¼“å­˜ã€‚</li></ul><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨è½»é‡çº§é•œåƒ</span></span><br><span class="line"><span class="keyword">FROM</span> node:<span class="number">14</span>-alpine</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå¹¶å‘½ä»¤</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apk add --no-cache curl &amp;&amp; \</span></span><br><span class="line"><span class="language-bash">    <span class="built_in">rm</span> -rf /var/cache/apk/*</span></span><br></pre></td></tr></table></figure><h4 id="2-ä½¿ç”¨ç¼“å­˜"><a class="markdownIt-Anchor" href="#2-ä½¿ç”¨ç¼“å­˜"></a> 2. ä½¿ç”¨ç¼“å­˜</h4><ul><li>åˆ©ç”¨ Docker ç¼“å­˜åŠ å¿«æ„å»ºé€Ÿåº¦ã€‚</li><li>å°†ä¸å¸¸æ›´æ”¹çš„å‘½ä»¤æ”¾åœ¨ Dockerfile çš„ä¸Šæ–¹ï¼Œä»¥ä¾¿ç¼“å­˜å±‚æ¬¡ã€‚</li></ul><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…ˆå¤åˆ¶ package.json</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> package.json ./</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç„¶åå®‰è£…ä¾èµ–</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> npm install</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ€åå¤åˆ¶åº”ç”¨ä»£ç </span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> . .</span></span><br></pre></td></tr></table></figure><h4 id="3-å®‰å…¨æ€§"><a class="markdownIt-Anchor" href="#3-å®‰å…¨æ€§"></a> 3. å®‰å…¨æ€§</h4><ul><li>ä½¿ç”¨é root ç”¨æˆ·è¿è¡Œåº”ç”¨ã€‚</li><li>å®šæœŸæ›´æ–°åŸºç¡€é•œåƒå’Œè½¯ä»¶åŒ…ã€‚</li></ul><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºé root ç”¨æˆ·</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> groupadd -r myuser &amp;&amp; useradd -r -g myuser myuser</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡æ¢åˆ°é root ç”¨æˆ·</span></span><br><span class="line"><span class="keyword">USER</span> myuser</span><br></pre></td></tr></table></figure><h3 id="ç»“è®º"><a class="markdownIt-Anchor" href="#ç»“è®º"></a> ç»“è®º</h3><p>ç¼–å†™ Dockerfile æ˜¯åˆ›å»º Docker é•œåƒçš„æ ¸å¿ƒæ­¥éª¤ï¼Œäº†è§£æ¯ä¸ªæŒ‡ä»¤çš„ä½œç”¨å’Œç”¨æ³•å¯ä»¥å¸®åŠ©ä½ æ›´å¥½åœ°æ„å»ºå’Œä¼˜åŒ– Docker é•œåƒã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä½ å¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„åŸºç¡€é•œåƒï¼Œåˆç†ä½¿ç”¨æŒ‡ä»¤ï¼Œç»“åˆä¼˜åŒ–æŠ€å·§ï¼Œæ„å»ºå‡ºé«˜æ•ˆã€å®‰å…¨çš„ Docker é•œåƒã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å’Œç¼–å†™ Dockerfileã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è™šæ‹ŸåŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL8å¯ç”¨è¿œç¨‹è¿æ¥</title>
      <link href="/2024/12/19/MySQL/MySQL8%E5%90%AF%E7%94%A8%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/"/>
      <url>/2024/12/19/MySQL/MySQL8%E5%90%AF%E7%94%A8%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/</url>
      
        <content type="html"><![CDATA[<p>è¦åœ¨ MySQL 8 ä¸­å¯ç”¨è¿œç¨‹è¿æ¥ï¼Œéœ€è¦æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p><p>1.åœ¨ MySQL 8 æœåŠ¡å™¨ä¸Šï¼Œæ‰“å¼€ MySQL é…ç½®æ–‡ä»¶ä»¥è¿›è¡Œç¼–è¾‘ã€‚é€šå¸¸ï¼ŒMySQL çš„é…ç½®æ–‡ä»¶ä½äº <code>/etc/mysql/mysql.conf.d/mysqld.cnf</code>ã€‚</p><p>ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆä¾‹å¦‚ <code>nano</code> æˆ– <code>vim</code>ï¼‰æ‰“å¼€é…ç½®æ–‡ä»¶ï¼š</p><p><code>sudo nano /etc/mysql/mysql.conf.d/mysqld.cnf</code></p><p>å¦‚æœ MySQL é…ç½®æ–‡ä»¶ä½äºä¸åŒçš„ä½ç½®ï¼Œè¯·ç›¸åº”åœ°ä¿®æ”¹è·¯å¾„ã€‚</p><p>2.æ‰¾åˆ°å¹¶ç¼–è¾‘ <code>bind-address</code> é€‰é¡¹ã€‚å°† <code>bind-address</code> æ›´æ”¹ä¸º MySQL æœåŠ¡å™¨çš„ IP åœ°å€ï¼Œæˆ–è€…å°†å…¶æ›´æ”¹ä¸º <code>0.0.0.0</code> ä»¥å…è®¸ä»»ä½• IP åœ°å€è¿æ¥åˆ°æœåŠ¡å™¨ã€‚ä¾‹å¦‚ï¼š</p><p><code>bind-address = 0.0.0.0</code></p><p>è¿™å°†å…è®¸æ¥è‡ªä»»ä½• IP åœ°å€çš„è¿œç¨‹è¿æ¥ã€‚å¦‚æœæƒ³è¦é™åˆ¶åˆ°ç‰¹å®š IP åœ°å€ï¼Œè¯·å°†å…¶æ›¿æ¢ä¸ºç›¸åº”çš„ IP åœ°å€ã€‚</p><p>3.ä¿å­˜å¹¶å…³é—­æ–‡ä»¶ã€‚</p><p>4.é‡æ–°å¯åŠ¨ MySQL æœåŠ¡ï¼Œä»¥ä¾¿æ–°é…ç½®ç”Ÿæ•ˆï¼š</p><p><code>sudo systemctl restart mysql</code></p><p>5.æ¥ä¸‹æ¥ï¼Œç™»å½•åˆ° MySQL å¹¶æ‡ä¸€ä¸ªå…è®¸è¿œç¨‹è®¿é—®çš„ç”¨æˆ·ï¼Œå¹¶ä¸ºå…¶åˆ†é…é€‚å½“çš„æƒé™ã€‚ä¾‹å¦‚ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º <code>remoteuser</code> çš„ç”¨æˆ·ï¼Œåˆ†é…æƒé™ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE USER <span class="string">&#x27;remoteuser&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED BY <span class="string">&#x27;123321&#x27;</span>; </span><br><span class="line">GRANT ALL PRIVILEGES ON *.* TO <span class="string">&#x27;remoteuser&#x27;</span>@<span class="string">&#x27;%&#x27;</span> WITH GRANT OPTION;</span><br><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure><p>è¯·å°† <code>'remoteuser'</code> æ›¿æ¢ä¸ºå¸Œæœ›åˆ›å»ºçš„ç”¨æˆ·åï¼Œ<code>'%'</code> å…è®¸ä»ä»»ä½•ä¸»æœºè¿œç¨‹è¿æ¥ï¼Œ<code>'password'</code> æ›¿æ¢ä¸ºç”¨æˆ·çš„å¯†ç ã€‚</p><p>6.æœ€åï¼Œç¡®ä¿é˜²ç«å¢™ä¸é˜»æ­¢ MySQL çš„è¿æ¥è¯·æ±‚ã€‚æ ¹æ®æ“ä½œç³»ç»Ÿå’Œé˜²ç«å¢™é…ç½®ï¼Œå¯èƒ½éœ€è¦æ›´æ–°é˜²ç«å¢™è§„åˆ™ä»¥å…è®¸ MySQL 3306 ç«¯å£çš„æµé‡ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu20.04ç‰ˆæœ¬çš„NVIDIAæ˜¾å¡é©±åŠ¨ç¨‹åºå®‰è£…</title>
      <link href="/2024/12/19/NVIDIA/Ubuntu20.04%E7%89%88%E6%9C%AC%E7%9A%84NVIDIA%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F%E5%AE%89%E8%A3%85/"/>
      <url>/2024/12/19/NVIDIA/Ubuntu20.04%E7%89%88%E6%9C%AC%E7%9A%84NVIDIA%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F%E5%AE%89%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<h3 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h3><p>æˆ‘åœ¨å­¦ä¹ æ·±åº¦å­¦ä¹ æ—¶ï¼Œåœ¨Ubuntuç³»ç»Ÿä¸‹å®‰è£…NVIDIAæ˜¾å¡é©±åŠ¨è¸©è¿‡äº†ä¸€äº›å‘ï¼Œæµªè´¹äº†å¾ˆå¤šçš„æ—¶é—´ï¼Œç°åœ¨æƒ³å‡ºä¸€ä¸ªå®å®çº§çš„æ”»ç•¥ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©å¤§å®¶èŠ‚çº¦æ—¶é—´ï¼Œè§„é¿ä¸€äº›æ¯’æ•™ç¨‹çš„ç³Ÿç²•ã€‚</p><p>å¦‚æœå¤§å®¶é€šè¿‡æˆ‘çš„æ”»ç•¥å®‰è£…æˆåŠŸï¼Œè¯·åœ¨è¯„è®ºåŒºæ‰“å‡ºâ€œ<strong>å¥½ç”¨</strong>â€œå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©åˆ°æ›´å¤šäººã€‚</p><h3 id="1ä¸‹è½½nvidiaå®˜æ–¹é©±åŠ¨"><a class="markdownIt-Anchor" href="#1ä¸‹è½½nvidiaå®˜æ–¹é©±åŠ¨"></a> 1.ä¸‹è½½NVIDIAå®˜æ–¹é©±åŠ¨</h3><p>å®˜æ–¹é“¾æ¥å¦‚ä¸‹:</p><p><a href="https://www.nvidia.cn/geforce/drivers/" title="NVIDIAæ˜¾å¡é©±åŠ¨">NVIDIAæ˜¾å¡é©±åŠ¨</a></p><p><strong>æé†’ï¼š</strong></p><p>1.ç”±äºæ˜¯å¤–å›½ç½‘ç«™æ²¡æœ‰â€œvipâ€å¯èƒ½ä¼šæ…¢ä¸€ç‚¹è¯·è€å¿ƒç­‰å¾…ã€‚</p><p>2.è¿™é‡Œè¦å‡†å¤‡ä¸€ä¸ªUç›˜åœ¨Windowsç³»ç»Ÿä¸‹è½½åä¼ å…¥Ubuntuçš„ç³»ç»Ÿï¼Œä¸»è¦æ˜¯æ“ä½œæ–¹ä¾¿ï¼Œé¿å…ä¸€äº›ä¸å¿…è¦çš„éº»çƒ¦ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥å°è¯•ä»Ubuntuç³»ç»Ÿé‡Œä¸‹è½½ï¼ˆä¸å»ºè®®å•Šï¼‰</p><p>1.è¿›å…¥å®˜ç½‘</p><p>1.æŸ¥çœ‹é…ç½®ï¼š</p><p>æ§åˆ¶é¢æ¿-&gt;ç¡¬ä»¶å’Œå£°éŸ³-&gt;è®¾å¤‡ç®¡ç†å™¨-&gt;æ˜¾ç¤ºé€‚é…å™¨Â  æŸ¥çœ‹ç›¸å…³é…ç½®ã€‚</p><p><img src="531963dd01bc4ba8bfd21a2764c8f955.png" alt="531963dd01bc4ba8bfd21a2764c8f955.png" /></p><p>2.é€‰æ‹©é…ç½®ï¼š</p><ul><li>å…¶ä¸­å‰ä¸‰ä¸ªé€‰é¡¹æ ¹æ®è‡ªå·±çš„æ˜¾å¡å‹å·æ¥ã€‚</li><li>åä¸‰ä¸ªé€‰é¡¹è¦æ ¹æ®ä¸‹æ–¹å›¾ç‰‡è¿›è¡Œé€‰æ‹©ã€‚</li><li>å¼€å§‹æœç´¢ã€‚</li></ul><p><img src="95167edb6a014665a2d4b8f713158444.png" alt="95167edb6a014665a2d4b8f713158444.png" /></p><p>2.ä¸‹è½½å®‰è£…åŒ…</p><p>1.è·å–ä¸‹è½½</p><p>ä¸‹è½½æœ€æ–°çš„ç‰ˆæœ¬å³å¯</p><p><img src="0cd7f535fbaf4a4c88edec49ed18c4ad.png" alt="0cd7f535fbaf4a4c88edec49ed18c4ad.png" /></p><p>2.ç«‹å³ä¸‹è½½</p><p><img src="e9be9beb532e43ca83ce28e574b33698.png" alt="e9be9beb532e43ca83ce28e574b33698.png" /></p><p>3.ç§»åŠ¨è‡³Uç›˜</p><p>å°†ä¸‹è½½åçš„å®‰è£…åŒ…ç§»è‡³Uç›˜ä¼ å…¥åˆ°Ubuntuç³»ç»Ÿçš„ä¸»ç›®å½•ä¸‹ã€‚</p><h3 id="2å®‰è£…nvidiaå®˜æ–¹é©±åŠ¨"><a class="markdownIt-Anchor" href="#2å®‰è£…nvidiaå®˜æ–¹é©±åŠ¨"></a> 2.å®‰è£…NVIDIAå®˜æ–¹é©±åŠ¨</h3><h4 id="1è®¾ç½®bios"><a class="markdownIt-Anchor" href="#1è®¾ç½®bios"></a> 1.è®¾ç½®BIOS</h4><p>å°†ç”µè„‘é‡å¯ï¼Œé‡å¯è¿‡ç¨‹ä¸­ä¸€ç›´æŒ‰ä½F2é”®è¿›å…¥biosç•Œé¢ï¼ˆ<strong>è”æƒ³æ‹¯æ•‘è€…æ˜¯è¿™ä¸ªæŒ‰é”®ï¼Œè‹¥æ˜¯ä¸åŒå“ç‰Œè¦å…ˆæŸ¥è¯¢ä¸€ä¸‹å¯¹åº”æŒ‰é”®</strong>ï¼‰</p><p>æ‰¾åˆ°Securityå°†<strong>secure boot</strong>å…³é—­ï¼ˆ<strong>ä¸€å®šè¦è¿›è¡Œè¿™ä¸€æ­¥</strong>ï¼‰å¦åˆ™åœ¨åç»­çš„å®‰è£…æ—¶ä¼šè¦æ±‚å’±ä»¬å¯¹é©±åŠ¨ç¨‹åºè¿›è¡Œç­¾åä¹‹ç±»çš„æ“ä½œï¼Œå¤§å¤§å¢åŠ äº†å®‰è£…çš„ç¹çç¨‹åº¦å’Œå¤±è´¥çš„å¯èƒ½æ€§ã€‚ï¼ˆä¸è¿‡æˆ‘ç›¸ä¿¡å®‰è£…åŒç³»ç»Ÿçš„æ—¶å€™å¤§å®¶å·²ç»å°†è¯¥è®¾ç½®å…³é—­äº†ï¼Œä¸è¿‡ä¸ºäº†ä»¥é˜²ä¸‡ä¸€è¯·å¤§å®¶å†æ¬¡è¿›å…¥ç¡®è®¤ä¸€ä¸‹ï¼‰</p><p>æŒ‰F10ä¿å­˜å¹¶é€€å‡ºã€‚</p><p>è¿›å…¥Ubuntuç³»ç»Ÿã€‚</p><h4 id="2æ‰§è¡Œç›¸å…³æ“ä½œ"><a class="markdownIt-Anchor" href="#2æ‰§è¡Œç›¸å…³æ“ä½œ"></a> 2.æ‰§è¡Œç›¸å…³æ“ä½œ</h4><p>1.æ‰¾åˆ°ä¼ å…¥ubuntuçš„é©±åŠ¨æ–‡ä»¶</p><p>å³é”®åœ¨ç»ˆç«¯è¿›è¡Œæ‰“å¼€ã€‚</p><p>æ·»åŠ æ‰§è¡Œæƒé™ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +<span class="built_in">x</span> (è¯¥æ–‡ä»¶å)</span><br></pre></td></tr></table></figure><p>è¾“å…¥NVä¹‹åæŒ‰ä¸‹Tabé”®å®ƒä¼šè‡ªåŠ¨è¡¥é½ã€‚è¾“å…¥å¯†ç å¼€å§‹å®‰è£…ã€‚</p><p><img src="c2442f91a2b24a55b335acb31e451089.png" alt="c2442f91a2b24a55b335acb31e451089.png" /></p><p>2.è¿è¡Œå®‰è£…ç¨‹åº</p><p>åœ¨ç›®æ ‡æ–‡ä»¶å¤¹ä¸‹æ‰“å¼€ç»ˆç«¯è¾“å…¥ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo bash ï¼ˆå¯¹åº”çš„è½¯ä»¶åŒ…åç§°ï¼‰(NV.....ç”¨Tabé”®è‡ªåŠ¨è¡¥é½)</span><br></pre></td></tr></table></figure><p><img src="30ae6de3aafb4e3e8b3ebfcc5d9aefbe.png" alt="30ae6de3aafb4e3e8b3ebfcc5d9aefbe.png" /></p><p>3.æ‰§è¡Œç›¸å…³æƒé™</p><p><strong>continue-&gt;yes-&gt;ok</strong></p><p><img src="2c3595e614924626a2297db3b7e83fd4.png" alt="2c3595e614924626a2297db3b7e83fd4.png" /><img src="bdabf91c4abc4c91aca243aed2a97009.png" alt="bdabf91c4abc4c91aca243aed2a97009.png" /><img src="53a7153c47ff4cd9bb0b4004cb86785a.png" alt="53a7153c47ff4cd9bb0b4004cb86785a.png" /></p><h4 id="3é‡å¯ç”µè„‘ç¡®è®¤é©±åŠ¨æ˜¯å¦å®‰è£…"><a class="markdownIt-Anchor" href="#3é‡å¯ç”µè„‘ç¡®è®¤é©±åŠ¨æ˜¯å¦å®‰è£…"></a> 3.é‡å¯ç”µè„‘ç¡®è®¤é©±åŠ¨æ˜¯å¦å®‰è£…</h4><p>æ‰“å¼€ç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvidia-smi</span><br></pre></td></tr></table></figure><p>è¿›å…¥å¦‚ä¸‹ç•Œé¢ä»£è¡¨æ‚¨å·²ç»å®‰è£…æˆåŠŸäº†ã€‚</p><p><img src="0557c0a261b64e8b9e021959eb8c5d2f.png" alt="0557c0a261b64e8b9e021959eb8c5d2f.png" /></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br />åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/2301_76831056/article/details/143232570">https://blog.csdn.net/2301_76831056/article/details/143232570</a></p>]]></content>
      
      
      <categories>
          
          <category> æ“ä½œç³»ç»Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> NVIDIA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu20.04å®‰è£…dockeræ•™ç¨‹(åœ¨çº¿)</title>
      <link href="/2024/12/16/Docker/Ubuntu20.04%E5%AE%89%E8%A3%85docker%E6%95%99%E7%A8%8B(%E5%9C%A8%E7%BA%BF)/"/>
      <url>/2024/12/16/Docker/Ubuntu20.04%E5%AE%89%E8%A3%85docker%E6%95%99%E7%A8%8B(%E5%9C%A8%E7%BA%BF)/</url>
      
        <content type="html"><![CDATA[<p>åœ¨ Ubuntu20.04 ä¸Šå®‰è£… Docker Engine çš„è¯¦ç»†æ­¥éª¤å¦‚ä¸‹ï¼š</p><p>1. å¸è½½æ—§ç‰ˆæœ¬</p><p>é¦–å…ˆï¼Œå¸è½½å¯èƒ½ä¸ Docker Engine å†²çªçš„éå®˜æ–¹åŒ…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> pkg <span class="keyword">in</span> docker.io docker-doc docker-compose docker-compose-v2 podman-docker containerd runc; <span class="keyword">do</span> sudo apt-get remove <span class="variable">$pkg</span>; <span class="keyword">done</span></span><br></pre></td></tr></table></figure><p>2. è®¾ç½® Docker çš„ apt ä»“åº“</p><ul><li>æ›´æ–°åŒ…åˆ—è¡¨ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><ul><li>å®‰è£…ä¾èµ–åŒ…ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install ca-certificates curl</span><br></pre></td></tr></table></figure><ul><li>æ·»åŠ  Docker å®˜æ–¹ GPG å¯†é’¥ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo install -m 0755 -d /etc/apt/keyrings</span><br><span class="line">sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc</span><br><span class="line">sudo <span class="built_in">chmod</span> a+r /etc/apt/keyrings/docker.asc</span><br></pre></td></tr></table></figure><ul><li>æ·»åŠ  Docker ä»“åº“åˆ° apt æºï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> \</span><br><span class="line">  <span class="string">&quot;deb [arch=<span class="subst">$(dpkg --print-architecture)</span> signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \</span></span><br><span class="line"><span class="string">  <span class="subst">$(. /etc/os-release &amp;&amp; echo <span class="string">&quot;<span class="variable">$VERSION_CODENAME</span>&quot;</span>)</span> stable&quot;</span> | \</span><br><span class="line">Â  sudo <span class="built_in">tee</span> /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br></pre></td></tr></table></figure><ul><li>æ›´æ–°åŒ…åˆ—è¡¨ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><p>3. å®‰è£…DockeråŒ…</p><p>å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Docker Engineï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Â sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span><br></pre></td></tr></table></figure><p>å¦‚æœå®‰è£…è¿‡ç¨‹ä¸­æœ‰éƒ¨åˆ†ä¸‹è½½å¤±è´¥ï¼Œå¯ä»¥æ‰‹åŠ¨åœ¨hostsæ–‡ä»¶ä¸­æ·»åŠ download.docker.comçš„IPåœ°å€ï¼Œå¹¶é…ç½®resolv.confæ–‡ä»¶ã€‚</p><p>4.é…ç½®é•œåƒåŠ é€Ÿå™¨</p><ul><li>æ‰“å¼€daemon.jsonæ–‡ä»¶</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/docker/daemon.json</span><br></pre></td></tr></table></figure><p>æ›´æ”¹ä¸ºä»¥ä¸‹å†…å®¹å¹¶ä¿å­˜ï¼ˆctrl+oä¿å­˜ï¼Œctrl+xé€€å‡ºï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;registry-mirrors&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;https://hub.rat.dev&quot;</span>,Â  Â  Â  Â </span><br><span class="line">    <span class="string">&quot;https://docker.1panel.live&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://docker.m.daocloud.io&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://dockerproxy.com&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://docker.mirrors.ustc.edu.cn&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://docker.nju.edu.cn&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://iju9kaj2.mirror.aliyuncs.com&quot;</span>,</span><br><span class="line">    <span class="string">&quot;http://hub-mirror.c.163.com&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://cr.console.aliyun.com&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://hub.docker.com&quot;</span>,</span><br><span class="line">    <span class="string">&quot;http://mirrors.ustc.edu.cn&quot;</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>é‡å¯dockeræœåŠ¡</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure><p>5. ï¼ˆå¯é€‰ï¼‰å¯ä»¥é¿å…æ¯æ¬¡éƒ½æ·»åŠ sudo</p><ul><li>åˆ›å»º dockerç”¨æˆ·ç»„ï¼ˆå¦‚æœå°šæœªåˆ›å»ºï¼‰ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo groupadd docker</span><br></pre></td></tr></table></figure><ul><li>å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ° `docker` ç»„ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo usermod -aG docker <span class="variable">$USER</span></span><br></pre></td></tr></table></figure><ul><li>é‡æ–°åŠ è½½ç”¨æˆ·ç»„ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">newgrp docker</span><br></pre></td></tr></table></figure><p>6. éªŒè¯å®‰è£…</p><p>è¿è¡Œ `hello-world` é•œåƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo docker pull hello-world</span><br><span class="line">sudo docker run hello-world</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ç›´æ¥sudo docker run hello-worldï¼Œæ­¤å‘½ä»¤ä¼šè‡ªåŠ¨ä¸‹è½½æµ‹è¯•é•œåƒå¹¶åœ¨å®¹å™¨ä¸­è¿è¡Œå®ƒã€‚</p><p>å‡ºç°ä»¥ä¸‹å†…å®¹å³æˆåŠŸ:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">xxx@xxxx:~$ docker run hello-world</span><br><span class="line"></span><br><span class="line">Hello from Docker!</span><br><span class="line">This message shows that your installation appears to be working correctly.</span><br><span class="line"></span><br><span class="line">To generate this message, Docker took the following steps:</span><br><span class="line"> 1. The Docker client contacted the Docker daemon.</span><br><span class="line"> 2. The Docker daemon pulled the <span class="string">&quot;hello-world&quot;</span> image from the Docker Hub(amd64)</span><br><span class="line"> 3.The Docker daemon created a new container from that image <span class="built_in">which</span> runs theexecutable that produces the output you are currently reading.</span><br><span class="line"> 4.The Docker daemon streamed that output to the Docker client, <span class="built_in">which</span> sent itto your terminal.</span><br><span class="line"></span><br><span class="line">To try something more ambitious, you can run an ubuntu container with:</span><br><span class="line">S docker run it ubuntu bash</span><br><span class="line"></span><br><span class="line">Share images, automate workflows, and more with a free Docker ID:</span><br><span class="line"> https://hub.docker.com/</span><br><span class="line"></span><br><span class="line">For more examples and ideas,visit:</span><br><span class="line"> https://docs.docker.com/get-started/ </span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è™šæ‹ŸåŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu20.04ç³»ç»Ÿä¸­å®‰è£…Docker(ç¦»çº¿)</title>
      <link href="/2024/12/16/Docker/Ubuntu20.04%E7%B3%BB%E7%BB%9F%E4%B8%AD%E5%AE%89%E8%A3%85Docker(%E7%A6%BB%E7%BA%BF)/"/>
      <url>/2024/12/16/Docker/Ubuntu20.04%E7%B3%BB%E7%BB%9F%E4%B8%AD%E5%AE%89%E8%A3%85Docker(%E7%A6%BB%E7%BA%BF)/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-æ›´æ¢æº"><a class="markdownIt-Anchor" href="#ä¸€-æ›´æ¢æº"></a> ä¸€ã€æ›´æ¢æº</h2><p>ä»è½¯ä»¶æ›´æ–°ä¸­è®¾ç½®ï¼Œè‡ªè¡Œé€‰æ‹©æœ€ä½³æœåŠ¡å™¨ï¼Œå®Œæˆåæ‰§è¡Œï¼š<strong>sudo apt-get update</strong></p><p><img src="8961d333fe2d47569ea9f57b134f1079.jpeg" alt="" /></p><h2 id="äºŒ-nvidiaé©±åŠ¨å®‰è£…"><a class="markdownIt-Anchor" href="#äºŒ-nvidiaé©±åŠ¨å®‰è£…"></a> äºŒã€Nvidiaé©±åŠ¨å®‰è£…</h2><p>æ£€æŸ¥é©±åŠ¨å®‰è£…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvidia-smi</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¾ç¤ºä»¥ä¸‹ç•Œé¢ï¼Œåˆ™é©±åŠ¨çŠ¶æ€æ­£å¸¸ã€‚</p><p><img src="5adb039ecd294fcfafb8bd384cfea594.png" alt="" /></p><p>è‹¥æ²¡æœ‰å®‰è£…é©±åŠ¨åˆ™é¦–å…ˆéœ€è¦å®‰è£…ã€‚è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹æ”¯æŒçš„é©±åŠ¨ç‰ˆæœ¬ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ubuntu-drivers devices</span><br></pre></td></tr></table></figure><p><img src="be459e66dc554dcba0ee514cce847476.png" alt="" /></p><p>ubuntuç³»ç»Ÿæ˜¾å¡çš„é©±åŠ¨å®‰è£…æ˜¯æ¯”è¾ƒå®¹æ˜“å‡ºé—®é¢˜çš„åœ°æ–¹ï¼Œä¸€èˆ¬æœ‰ä¸‰ç§æ–¹å¼ã€‚</p><p><strong>ï¼ˆ1ï¼‰ä»è½¯ä»¶æ›´æ–°ä¸­é€‰æ‹©é©±åŠ¨å®‰è£…</strong></p><p>é€‰æ‹©åˆé€‚çš„é©±åŠ¨ï¼Œåº”ç”¨æ›´æ”¹ï¼Œç­‰å¾…ä¸‹è½½å®‰è£…å³å¯ã€‚éœ€è¦ä¸€æ®µæ—¶é—´ã€‚</p><p><img src="bc8bf0bad3b541588b1cdfe3fde8bdae.png" alt="" /></p><p><strong>ï¼ˆ2ï¼‰ä½¿ç”¨æŒ‡ä»¤å®‰è£…ï¼Œå‡è®¾é€‰æ‹©ä¸Šå›¾ä¸­å¯ç”¨çš„ nvidia-utils-470 é©±åŠ¨ï¼Œæ‰§è¡Œ</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install nvidia-utils-470</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ3ï¼‰é©±åŠ¨æ–‡ä»¶åŒ…å®‰è£…</strong></p><p>é€šè¿‡Â Nvidiaé©±åŠ¨å®˜ç½‘ï¼šÂ <a href="https://www.nvidia.cn/drivers/lookup/" title="Â ä¸‹è½½ NVIDIA å®˜æ–¹é©±åŠ¨ | NVIDIA">ä¸‹è½½ NVIDIA å®˜æ–¹é©±åŠ¨ | NVIDIA</a>Â é€‰æ‹©ä¸‹è½½é€‚é…è‡ªå·±æ˜¾å¡çš„é©±åŠ¨ã€‚</p><p><img src="ae43d2894e8a42dbaab111563ffc2db2.png" alt="" /></p><p><img src="f6460bf089b44fafa9831484602044ee.png" alt="" /></p><p><img src="5f1e4441fa6c42c4ba68abee9c115bd2.png" alt="" /></p><p>ä¸‹è½½åæ‰§è¡ŒæŒ‡ä»¤å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sh NVIDIA-Linux-x86_64-470.256.02.run</span><br></pre></td></tr></table></figure><h2 id="ä¸‰-dockerå®‰è£…"><a class="markdownIt-Anchor" href="#ä¸‰-dockerå®‰è£…"></a> ä¸‰ã€Dockerå®‰è£…</h2><p>Docker Engineå®‰è£…å‚è€ƒï¼š<a href="https://docs.docker.com/engine/install/ubuntu/" title="https://docs.docker.com/engine/install/ubuntu/">https://docs.docker.com/engine/install/ubuntu/</a></p><p><strong>ï¼ˆ1ï¼‰é…ç½®Dockerçš„aptä»“ï¼ˆéœ€è¦ç§‘å­¦ä¸Šç½‘ï¼Œå¦‚æœæ— æ³•ç§‘å­¦ä¸Šç½‘ï¼Œè¿˜æœ‰ç¦»çº¿å®‰è£…çš„æ–¹æ³•ï¼‰</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Add Docker&#x27;s official GPG key:</span></span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install ca-certificates curl</span><br><span class="line">sudo install -m 0755 -d /etc/apt/keyrings</span><br><span class="line">sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc</span><br><span class="line">sudo <span class="built_in">chmod</span> a+r /etc/apt/keyrings/docker.asc</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add the repository to Apt sources:</span></span><br><span class="line"><span class="built_in">echo</span> \</span><br><span class="line">  <span class="string">&quot;deb [arch=<span class="subst">$(dpkg --print-architecture)</span> signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \</span></span><br><span class="line"><span class="string">  <span class="subst">$(. /etc/os-release &amp;&amp; echo <span class="string">&quot;<span class="variable">$VERSION_CODENAME</span>&quot;</span>)</span> stable&quot;</span> | \</span><br><span class="line">  sudo <span class="built_in">tee</span> /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br><span class="line"></span><br><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ2ï¼‰å®‰è£…DockeråŒ…</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span><br></pre></td></tr></table></figure><p><strong>ï¼ˆ3ï¼‰hello-worldéªŒè¯ï¼Œå®Œæˆå®‰è£…</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run hello-world</span><br></pre></td></tr></table></figure><p><strong>å¦‚æœåœ¨ç¬¬ï¼ˆ1ï¼‰æ­¥çš„æœ€åæ‰§è¡Œ sudo apt-get update æ—¶æŠ¥Â <a href="http://download.docker.com">download.docker.com</a>Â 443 æ— æ³•è¿æ¥ï¼Œåˆ™å¯ä»¥ç¦»çº¿ä¸‹è½½è¿™äº›å®‰è£…åŒ…å®‰è£…ï¼š</strong></p><p>ï¼ˆ1ï¼‰å»ç½‘å€ï¼š<a href="https://download.docker.com/linux/ubuntu/dists/" title="https://download.docker.com/linux/ubuntu/dists/">https://download.docker.com/linux/ubuntu/dists/</a></p><p><img src="c6a69cbf98524231ba081aafd244f63a.png" alt="" /></p><p>ï¼ˆ2ï¼‰åœ¨åˆ—è¡¨ä¸­é€‰æ‹©ä½ çš„Ubuntuç‰ˆæœ¬ï¼Œä»¥Ubuntu 20.04ä¸ºä¾‹ï¼Œè¾“å…¥æŸ¥çœ‹æŒ‡ä»¤åé€‰æ‹© <strong>focal</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsb_release -a</span><br></pre></td></tr></table></figure><p><img src="6658ab82bf4c4545bf8d6492768674d6.png" alt="" /></p><p>ï¼ˆ3ï¼‰è¿›å…¥åˆ° /pool/stable è·¯å¾„ä¸‹ï¼Œç¡®å®šä½ çš„åº”ç”¨æ¶æ„ã€‚æˆ‘é€‰ amd64</p><p><img src="7b5e5bd1674d4338a409e922669f611e.png" alt="" />Â <img src="0fd4d760c2294841a071328be2e235f3.png" alt="" /></p><p>ï¼ˆ4ï¼‰éœ€è¦ä¸‹è½½çš„ä»¥ä¸‹å‡ ä¸ªdebå®‰è£…æ–‡ä»¶ï¼Œç‰ˆæœ¬ï¼ˆå¯é€‰æœ€æ–°ï¼‰å’Œæ¶æ„ï¼ˆä¸èƒ½é”™ï¼‰éƒ½ç¡®è®¤å¥½ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">containerd.io_&lt;version&gt;_&lt;<span class="built_in">arch</span>&gt;.deb</span><br><span class="line">docker-ce_&lt;version&gt;_&lt;<span class="built_in">arch</span>&gt;.deb</span><br><span class="line">docker-ce-cli_&lt;version&gt;_&lt;<span class="built_in">arch</span>&gt;.deb</span><br><span class="line">docker-buildx-plugin_&lt;version&gt;_&lt;<span class="built_in">arch</span>&gt;.deb</span><br><span class="line">docker-compose-plugin_&lt;version&gt;_&lt;<span class="built_in">arch</span>&gt;.deb</span><br></pre></td></tr></table></figure><p>ï¼ˆ5ï¼‰ä¸‹è½½åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹åï¼Œç»ˆç«¯è¿›å…¥è¯¥æ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œå®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg -i *.deb</span><br></pre></td></tr></table></figure><p>ï¼ˆ6ï¼‰hello-worldéªŒè¯ï¼Œå®Œæˆå®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo service docker start</span><br><span class="line">sudo docker run hello-world</span><br></pre></td></tr></table></figure><h2 id="å››-å®‰è£…nvidiaå®¹å™¨å·¥å…·åŒ…"><a class="markdownIt-Anchor" href="#å››-å®‰è£…nvidiaå®¹å™¨å·¥å…·åŒ…"></a> å››ã€å®‰è£…Nvidiaå®¹å™¨å·¥å…·åŒ…</h2><p><strong>1ã€é€šè¿‡Aptå®‰è£…</strong></p><p>ï¼ˆ1ï¼‰é…ç½®ä¸‹è½½ä»“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://nvidia.github.io/libnvidia-container/gpgkey | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit-keyring.gpg \</span><br><span class="line">  &amp;&amp; curl -s -L https://nvidia.github.io/libnvidia-container/stable/deb/nvidia-container-toolkit.list | \</span><br><span class="line">  sed <span class="string">&#x27;s#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://#g&#x27;</span> | \</span><br><span class="line">  sudo <span class="built_in">tee</span> /etc/apt/sources.list.d/nvidia-container-toolkit.list</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰æ‰§è¡Œæ›´æ–°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰å®‰è£…Nvidiaå®¹å™¨å·¥å…·åŒ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y nvidia-container-toolkit</span><br></pre></td></tr></table></figure><p><strong>2ã€é…ç½®Docker</strong></p><p>ï¼ˆ1ï¼‰ä½¿ç”¨ nvidia-ctk æŒ‡ä»¤é…ç½®å®¹å™¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nvidia-ctk runtime configure --runtime=docker</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰é‡å¯Dockerè¿›ç¨‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure><h2 id="äº”-dockerå»æ‰sudo"><a class="markdownIt-Anchor" href="#äº”-dockerå»æ‰sudo"></a> äº”ã€dockerå»æ‰sudo</h2><p>dockeråˆšå®‰è£…å®Œï¼Œæ‰§è¡ŒæŒ‡ä»¤æ—¶éƒ½æ˜¯éœ€è¦sudo dockerï¼Œå»é™¤å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ï¼ˆ1ï¼‰æŸ¥çœ‹ç”¨æˆ·ç»„åŠæˆå‘˜</span></span><br><span class="line">sudo <span class="built_in">cat</span> /etc/group | grep docker</span><br><span class="line"> </span><br><span class="line"><span class="comment">#ï¼ˆ2ï¼‰æ·»åŠ dockerç»„</span></span><br><span class="line">sudo groupadd docker </span><br><span class="line"> </span><br><span class="line"><span class="comment">#ï¼ˆ3ï¼‰æ·»åŠ ç”¨æˆ·åˆ°dockerç»„</span></span><br><span class="line">sudo gpasswd -a <span class="variable">$&#123;USER&#125;</span> docker</span><br><span class="line"> </span><br><span class="line"><span class="comment">#ï¼ˆ4ï¼‰å¢åŠ è¯»å†™æƒé™</span></span><br><span class="line">sudo <span class="built_in">chmod</span> a+rw /var/run/docker.sock</span><br><span class="line"> </span><br><span class="line"><span class="comment">#ï¼ˆ5ï¼‰é‡å¯docker</span></span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è™šæ‹ŸåŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu 20.04 ç³»ç»Ÿå®‰è£…DockeråŠnvidia-docker2</title>
      <link href="/2024/12/16/Docker/Ubuntu%2020.04%20%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85Docker%E5%8F%8Anvidia-docker2/"/>
      <url>/2024/12/16/Docker/Ubuntu%2020.04%20%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85Docker%E5%8F%8Anvidia-docker2/</url>
      
        <content type="html"><![CDATA[<blockquote><h2 id="excerpt"><a class="markdownIt-Anchor" href="#excerpt"></a> Excerpt</h2><p>Ubuntu 20.04 ç³»ç»Ÿå®‰è£…DockeråŠnvidia-docker2å®‰è£…Dockerå¸è½½ä¹‹å‰çš„Dockerç¯å¢ƒå¦‚æœä¹‹å‰å·²ç»å®‰è£…äº†è€ç‰ˆæœ¬ Dockerï¼Œé‚£ä¹ˆåœ¨å®‰è£…æ–°ç‰ˆæœ¬Dockerä¹‹å‰éœ€è¦å°†å…¶å…ˆå¸è½½ã€‚sudo apt-get remove docker docker-engine <a href="http://docker.io">docker.io</a>â€¦</p></blockquote><hr /><h2 id="å®‰è£…docker"><a class="markdownIt-Anchor" href="#å®‰è£…docker"></a> <strong>å®‰è£…Docker</strong></h2><h3 id="å¸è½½ä¹‹å‰çš„dockerç¯å¢ƒ"><a class="markdownIt-Anchor" href="#å¸è½½ä¹‹å‰çš„dockerç¯å¢ƒ"></a> <strong>å¸è½½ä¹‹å‰çš„Dockerç¯å¢ƒ</strong></h3><p>å¦‚æœä¹‹å‰å·²ç»å®‰è£…äº†è€ç‰ˆæœ¬<code>Docker</code>ï¼Œé‚£ä¹ˆåœ¨å®‰è£…æ–°ç‰ˆæœ¬<code>Docker</code>ä¹‹å‰éœ€è¦å°†å…¶å…ˆå¸è½½ã€‚</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove docker docker-engine docker.io containerd runc</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”¨è¿™ç§æ–¹æ³•ä¸èƒ½æŠŠä¹‹å‰å­˜åœ¨çš„é•œåƒã€å®¹å™¨åŠå…¶ä»–æ•°æ®æ¸…ç†ã€‚å¦‚æœæƒ³å®Œå…¨æ¸…ç†æ‰ä¹‹å‰çš„æ•°æ®ï¼Œå¯ä»¥æ‰§è¡Œä¸‹é¢çš„å‡ è¡Œå‘½ä»¤ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get purge docker-ce docker-ce-cli containerd.io docker-compose-plugin</span><br><span class="line">sudo rm -rf /var/lib/docker</span><br><span class="line">sudo rm -rf /var/lib/containerd</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…docker-2"><a class="markdownIt-Anchor" href="#å®‰è£…docker-2"></a> <strong>å®‰è£…Docker</strong></h3><ol><li>é…ç½®<code>apt</code>ä»“åº“</li></ol><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install ca-certificates curl gnupg lsb-release</span><br><span class="line">sudo mkdir -p /etc/apt/keyrings</span><br><span class="line">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg</span><br><span class="line">echo \</span><br><span class="line"> &quot;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \</span><br><span class="line"> $(lsb_release -cs) stable&quot; | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br></pre></td></tr></table></figure><ol><li>å®‰è£…æœ€æ–°ç‰ˆæœ¬<code>Docker</code></li></ol><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin</span><br></pre></td></tr></table></figure><ol><li>éªŒè¯<code>Docker</code>ç¯å¢ƒæ˜¯å¦å®‰è£…æˆåŠŸ</li></ol><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run hello-world</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¾ç¤ºä»¥ä¸‹ä¿¡æ¯ï¼Œåˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Unable to find image &#x27;hello-world:latest&#x27; locally</span><br><span class="line">latest: Pulling from library/hello-world</span><br><span class="line">2db29710123e: Pull complete</span><br><span class="line">Digest: sha256:94ebc7edf3401f299cd3376a1669bc0a49aef92d6d2669005f9bc5ef028dc333</span><br><span class="line">Status: Downloaded newer image for hello-world:latest</span><br><span class="line"></span><br><span class="line">Hello from Docker!</span><br><span class="line">This message shows that your installation appears to be working correctly.</span><br><span class="line"></span><br><span class="line">To generate this message, Docker took the following steps:</span><br><span class="line">1. The Docker client contacted the Docker daemon.</span><br><span class="line">2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub. (amd64)</span><br><span class="line">3. The Docker daemon created a new container from that image which runs the executable that produces the output you are currently reading.</span><br><span class="line">4. The Docker daemon streamed that output to the Docker client, which sent it to your terminal. </span><br><span class="line"></span><br><span class="line">To try something more ambitious, you can run an Ubuntu container with:</span><br><span class="line">$ docker run -it ubuntu bash</span><br><span class="line"></span><br><span class="line">Share images, automate workflows, and more with a free Docker ID:</span><br><span class="line">https://hub.docker.com/ </span><br><span class="line"></span><br><span class="line">For more examples and ideas, visit: </span><br><span class="line">https://docs.docker.com/get-started/</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…nvidia-docker2"><a class="markdownIt-Anchor" href="#å®‰è£…nvidia-docker2"></a> <strong>å®‰è£…nvidia-docker2</strong></h2><h3 id="å®‰è£…dockerç¯å¢ƒ"><a class="markdownIt-Anchor" href="#å®‰è£…dockerç¯å¢ƒ"></a> <strong>å®‰è£…Dockerç¯å¢ƒ</strong></h3><p>å¦‚æœè¿˜æ²¡æœ‰å®‰è£…<code>Docker</code>ç¯å¢ƒï¼Œé‚£ä¹ˆéœ€è¦å…ˆå®‰è£…ä¸€ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½åé€šè¿‡å®˜æ–¹çš„ä¾¿æ·è„šæœ¬è¿›è¡Œå®‰è£…ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¸Šæ–‡çš„æ–¹æ³•ç”¨<code>apt</code>å‘½ä»¤å®‰è£…ã€‚</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl https://get.docker.com | sh \</span><br><span class="line">&amp;&amp; sudo systemctl --now enable docker</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…nvidia-docker2-2"><a class="markdownIt-Anchor" href="#å®‰è£…nvidia-docker2-2"></a> <strong>å®‰è£…<code>nvidia-docker2</code></strong></h3><ol><li>é…ç½®<code>apt</code>ä»“åº“</li></ol><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">distribution=$(. /etc/os-release;echo $ID$VERSION_ID) \</span><br><span class="line">      &amp;&amp; curl -fsSL https://nvidia.github.io/libnvidia-container/gpgkey | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit-keyring.gpg \</span><br><span class="line">  &amp;&amp; curl -s -L https://nvidia.github.io/libnvidia-container/$distribution/libnvidia-container.list | \</span><br><span class="line">  sed &#x27;s#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://#g&#x27; | \</span><br><span class="line">  sudo tee /etc/apt/sources.list.d/nvidia-container-toolkit.list</span><br></pre></td></tr></table></figure><ol><li>å®‰è£…<code>nvidia-docker2</code>åŒ…</li></ol><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install -y nvidia-docker2</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåéœ€è¦é‡å¯<code>Docker</code>:</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure><ol><li>éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ</li></ol><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run --rm --gpus all nvidia/cuda:11.6.2-base-ubuntu20.04 nvidia-smi</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œå¦‚æœæ˜¾ç¤ºè·Ÿä¸‹é¢ç±»ä¼¼çš„å†…å®¹ï¼Œè¯´æ˜<code>nvidia-docker2</code>å·²ç»å®‰è£…æˆåŠŸã€‚</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Fri Jan  6 01:20:11 2023       </span><br><span class="line">+-----------------------------------------------------------------------------+</span><br><span class="line">| NVIDIA-SMI 470.129.06   Driver Version: 470.129.06   CUDA Version: 11.6     |</span><br><span class="line">|-------------------------------+----------------------+----------------------+</span><br><span class="line">| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |</span><br><span class="line">| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |</span><br><span class="line">|                               |                      |               MIG M. |</span><br><span class="line">|===============================+======================+======================|</span><br><span class="line">|   0  NVIDIA GeForce ...  Off  | 00000000:01:00.0 Off |                  N/A |</span><br><span class="line">| N/A   45C    P8     1W /  N/A |    376MiB /  3911MiB |     19%      Default |</span><br><span class="line">|                               |                      |                  N/A |</span><br><span class="line">+-------------------------------+----------------------+----------------------+</span><br><span class="line">                                                                               </span><br><span class="line">+-----------------------------------------------------------------------------+</span><br><span class="line">| Processes:                                                                  |</span><br><span class="line">|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |</span><br><span class="line">|        ID   ID                                                   Usage      |</span><br><span class="line">|=============================================================================|</span><br><span class="line">+-----------------------------------------------------------------------------+</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è™šæ‹ŸåŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLã€PostgreSQLã€ClickHouseã€MongoDBåŒºåˆ«ï¼Œé€‚ç”¨åœºæ™¯</title>
      <link href="/2024/12/15/MySQL/MySQL%E3%80%81PostgreSQL%E3%80%81ClickHouse%E3%80%81MongoDB%E5%8C%BA%E5%88%AB%EF%BC%8C%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF/"/>
      <url>/2024/12/15/MySQL/MySQL%E3%80%81PostgreSQL%E3%80%81ClickHouse%E3%80%81MongoDB%E5%8C%BA%E5%88%AB%EF%BC%8C%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF/</url>
      
        <content type="html"><![CDATA[<ul><li>å…³äºæ•°æ®åº“ï¼Œå¤§å­¦æ—¶å€™æˆ‘ä»¬åªçŸ¥é“MySQLï¼Œç¨å¾®æ·±å…¥ç‚¹å†åŠ ä¸ŠRedisã€MongoDBç­‰éå…³ç³»å‹æ•°æ®åº“ã€‚ç„¶è€Œï¼Œè¿›å…¥å…¬å¸æ¥æ‰‹ä¸€ä¸ªé¡¹ç›®ï¼Œå‘ç°å…¶ä¸­ç”¨åˆ°å¤šç§æ•°æ®åº“ï¼Œæ¯ç§æ•°æ®åº“éƒ½æœ‰è‡ªèº«çš„ä¼˜åŠ¿å’Œå±€é™æ€§ï¼Œæ•…åœ¨æ­¤æ¢³ç†ä¸‹æ—¥å¸¸å¸¸ç”¨æ•°æ®åº“ã€å¯¹åº”åŒºåˆ«ä»¥åŠå„è‡ªçš„é€‚ç”¨åœºæ™¯ã€‚</li><li>mysqlã€postgresqlã€clickhouseã€mongodbæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œå„è‡ªé€‚åˆåœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ä½¿ç”¨</li></ul><h2 id="ä¸€-å¸¸ç”¨æ•°æ®åº“æ¦‚è§ˆ"><a class="markdownIt-Anchor" href="#ä¸€-å¸¸ç”¨æ•°æ®åº“æ¦‚è§ˆ"></a> ä¸€ã€å¸¸ç”¨æ•°æ®åº“æ¦‚è§ˆ</h2><h3 id="11-å…³ç³»å‹æ•°æ®åº“"><a class="markdownIt-Anchor" href="#11-å…³ç³»å‹æ•°æ®åº“"></a> 1.1 å…³ç³»å‹æ•°æ®åº“</h3><p><strong>å…³ç³»å‹æ•°æ®åº“é€šå¸¸æ˜¯ä¸šåŠ¡å‹é¡¹ç›®çš„ä¸»åŠ›æ•°æ®åº“</strong>ï¼ŒåŸå› ä»¥ä¸‹ï¼š</p><ul><li>æ–¹ä¾¿ä¸šåŠ¡å»ºæ¨¡ï¼Œè¡¨çš„å…³ç³»å’Œä¸šåŠ¡ä¹‹é—´çš„å…³è”æ˜¯ç±»ä¼¼çš„</li><li>æ•°æ®ä¸€è‡´æ€§ï¼Œå…³ç³»å‹æ•°æ®åº“ä¸€èˆ¬æ”¯æŒACIDç‰¹æ€§ï¼Œå¯ç”¨äºæ ¸å¿ƒä¸šåŠ¡åœºæ™¯çš„æ•°æ®æŒä¹…åŒ–</li></ul><p>å…³ç³»å‹æ•°æ®åº“çš„åŸºæœ¬å•ä½æ˜¯<strong>è¡¨</strong>ï¼Œè¡¨ä¸è¡¨ä¹‹é—´é€šè¿‡<strong>é”®</strong>å…³è”ï¼Œæ¯”å¦‚å­¦ç”Ÿè¡¨å’Œç­çº§è¡¨ï¼Œå¯ä»¥é€šè¿‡ç­çº§IDï¼ŒæŠŠå­¦ç”Ÿå’Œç­çº§å…³è”èµ·æ¥ã€‚</p><p><img src="8d160c78792c43ed9e5f55442705960d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>å…³ç³»å‹æ•°æ®åº“çš„ç»å…¸ä»£è¡¨ï¼šMySQLã€Orcleã€PostgreSQLã€SQLiteç­‰ã€‚</p><h3 id="12-éå…³ç³»å‹æ•°æ®åº“"><a class="markdownIt-Anchor" href="#12-éå…³ç³»å‹æ•°æ®åº“"></a> 1.2 éå…³ç³»å‹æ•°æ®åº“</h3><p>éå…³ç³»å‹æ•°æ®åº“å…¶å®åªæ˜¯ä¸€ä¸ªæ¯”è¾ƒç¬¼ç»Ÿçš„å«æ³•ï¼Œå®é™…åˆ†ç±»ä¸‹æœ‰éå¸¸å¤šï¼Œè¿™é‡Œåªä»‹ç»<strong>é”®å€¼å¯¹</strong>ã€<strong>æ–‡æ¡£</strong>ã€<strong>åˆ—å¼å­˜å‚¨</strong>ã€<strong>å›¾å½¢ç»“æ„</strong>ç­‰å‡ ç§ã€‚</p><h4 id="121-kvæ•°æ®åº“"><a class="markdownIt-Anchor" href="#121-kvæ•°æ®åº“"></a> 1.2.1 KVæ•°æ®åº“</h4><p>KVæ•°æ®åº“ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨æ•°æ®ï¼Œå¸¸è§åº•å±‚æ•°æ®ç»“æ„å®ç°æ˜¯å“ˆå¸Œè¡¨ï¼Œè¯»æ•°æ®å¤æ‚åº¦æ˜¯O(1)ã€‚</p><table><thead><tr><th>key</th><th>value</th></tr></thead><tbody><tr><td>name</td><td>jw</td></tr><tr><td>score</td><td>{chinese:90, math:99}</td></tr></tbody></table><p>key-valueå­˜å‚¨çš„æ•°æ®é€šå¸¸å•ä¸ªkey-valueå°±æ˜¯ä¸€ä¸ªæ¡ç‹¬ç«‹çš„æ•°æ®ï¼Œå¾ˆæ–¹ä¾¿æ°´å¹³æ‰©å±•ï¼Œå¯ä»¥æ ¹æ®keyæ•£åˆ—åˆ°ä¸åŒçš„åˆ†ç‰‡ï¼Œä¸”è¯»çš„æ€§èƒ½æå¥½ï¼Œå› æ­¤å¸¸ç”¨äºåšç¼“å­˜ã€‚</p><p>ç»å…¸ä»£è¡¨æœ‰Redisã€Memcachedå’ŒLevelDBç­‰ã€‚</p><h4 id="122-æ–‡æ¡£å‹æ•°æ®åº“"><a class="markdownIt-Anchor" href="#122-æ–‡æ¡£å‹æ•°æ®åº“"></a> 1.2.2 æ–‡æ¡£å‹æ•°æ®åº“</h4><p>æ–‡æ¡£å‹æ•°æ®åº“çš„æ•°æ®ä»¥æ–‡æ¡£çš„å½¢å¼å­˜å‚¨æ•°æ®ï¼Œæ¯ä¸ªæ–‡æ¡£ç±»ä¼¼ä¸€ä¸ªJSONå¯¹è±¡ã€‚</p><p>æ¯”äºKVå­˜å‚¨ï¼Œæ–‡æ¡£å‹æ•°æ®åº“åŒæ ·å¯¹æ°´å¹³æ‰©å±•å‹å¥½ï¼Œ<strong>ä¸”å…·æœ‰æ›´å¥½çš„æŸ¥è¯¢æ€§èƒ½ï¼Œæ”¯æŒå¤æ‚æŸ¥è¯¢</strong>ï¼Œè€ŒKVå­˜å‚¨å‡ ä¹åªé€šè¿‡keyæ¥è¯»å–æ•°æ®ã€‚</p><p><img src="541f2647d9824f8d8084a8d9d3cf647a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>ç»å…¸çš„æ–‡æ¡£å‹æ•°æ®åº“æœ‰MongoDBã€CouchDBå’ŒElasticsearchç­‰ã€‚</p><h4 id="123-åˆ—å¼å­˜å‚¨æ•°æ®åº“"><a class="markdownIt-Anchor" href="#123-åˆ—å¼å­˜å‚¨æ•°æ®åº“"></a> 1.2.3 åˆ—å¼å­˜å‚¨æ•°æ®åº“</h4><p>ç»å…¸çš„åˆ—å¼å­˜å‚¨æ•°æ®åº“æœ‰HBaseã€Druidã€ClickHouseç­‰ï¼Œä¸åŒåˆ—å¼æ•°æ®åº“çš„åº•å±‚å®ç°å·®åˆ«æŒºå¤§çš„ï¼Œå®ƒä»¬çš„å…±åŒç‚¹æ˜¯æŒ‰åˆ—å­˜å‚¨ã€‚</p><p>æ¯”å¦‚è¯´MySQLå­˜ä¸€ä¸ªå­¦ç”Ÿä¿¡æ¯ï¼Œæœ‰å­¦å·å’Œå§“åç­‰ï¼Œè¿™ä¸¤ä¸ªå­—æ®µåœ¨åŒä¸€è¡Œï¼Œå­˜æ”¾ä¹Ÿæ˜¯åœ¨ä¸€èµ·çš„ï¼›ä½†æ˜¯åˆ—å¼æ•°æ®åº“ä¼šæŒ‰åˆ—åˆ’åˆ†å­˜å‚¨ï¼ŒæŠŠå­¦å·å’Œå§“ååˆ†å¼€å­˜å‚¨ï¼Œ<strong>ç›¸åŒçš„æ•°æ®ç±»å‹æœ‰åˆ©äºè¿›è¡Œæ•°æ®å‹ç¼©ã€èšåˆæ“ä½œç­‰</strong>ã€‚</p><p>ä¸‹é¢æ˜¯HBaseçš„ä¸€æ¡æ•°æ®ç»„æˆè§£æï¼Œä¸€ä¸ªRow Keyï¼ˆè¡Œé”®ï¼‰ä¸‹æœ‰å¤šä¸ªColumn Familyï¼ˆåˆ—æ—ï¼‰ï¼Œåˆ—æ—ä¸‹é¢æœ‰Column Qualifierï¼ˆåˆ—é™å®šç¬¦ï¼‰ï¼Œæœ€åä¼šæ ¹æ®è®¾ç½®ä¿å­˜è‹¥å¹²ä¸ªç‰ˆæœ¬ï¼Œå½¢æˆTimestamp/version: Cell Valueçš„é”®å€¼å¯¹ã€‚è¿™é‡Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“<strong>ä¸åŒçš„åˆ—æ—æ˜¯åˆ†å¼€å­˜å‚¨çš„</strong>å°±è¡Œäº†ã€‚<br /><img src="f4aaa28d70a74b05b54a8a40978b3370.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="124-å›¾æ•°æ®åº“"><a class="markdownIt-Anchor" href="#124-å›¾æ•°æ®åº“"></a> 1.2.4 å›¾æ•°æ®åº“</h4><p>å›¾æ•°æ®åº“çš„åŸºæœ¬å•å…ƒæ˜¯<strong>ç‚¹</strong>å’Œ<strong>è¾¹</strong>ï¼Œç»å…¸çš„å›¾æ•°æ®åº“åŒ…æ‹¬Neo4jã€OrientDBã€TigerGraphç­‰ã€‚</p><p>ç®€å•æ¥è¯´ç‚¹è¡¨ç¤ºå®ä½“ï¼Œè€Œè¾¹åˆ™è¡¨ç¤ºå®ä½“é—´çš„å…³ç³»ï¼Œç»„æˆä¸€ä¸ªæ•´ä½“åï¼Œå¯ä»¥å½¢æˆçŸ¥è¯†å›¾è°±ã€ç¤¾äº¤ç½‘ç»œã€é‡‘èé£æ§ç½‘ç»œç­‰ã€‚</p><p><img src="f8b9f6642e86454a95a996189004906b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>æ¯”å¦‚å­˜å‚¨äº†ä¸Šå›¾å…³ç³»ï¼Œå¯ä»¥ç›´æ¥æŸ¥è¯¢å…³æ³¨äº†è±†å°åŒ Codingçš„ç”¨æˆ·ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MATCH (user:User &#123;name: &#x27;è±†å°åŒ Coding&#x27;&#125;)&lt;-[:FOLLOWS]-(follower:User) RETURN follower.name</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°æŸ¥è¯¢ä½¿ç”¨äº† Neo4j çš„å›¾æŸ¥è¯¢è¯­è¨€ Cypherã€‚å®ƒé¦–å…ˆé€šè¿‡ MATCH å­å¥æ‰¾åˆ°åä¸ºè±†å°åŒ çš„ç”¨æˆ·èŠ‚ç‚¹ userï¼Œç„¶åé€šè¿‡ <code>-[:FOLLOWS]-&gt;</code> å…³ç³»æŸ¥æ‰¾æ‰€æœ‰å…³æ³¨äº†è¯¥ç”¨æˆ·çš„èŠ‚ç‚¹ followerã€‚æœ€åï¼Œé€šè¿‡ RETURN å­å¥è¿”å›å…³æ³¨è€…çš„å§“åã€‚</p><h3 id="13-sqlä¸nosqlåŒºåˆ«"><a class="markdownIt-Anchor" href="#13-sqlä¸nosqlåŒºåˆ«"></a> 1.3 SQLä¸NoSQLåŒºåˆ«</h3><p>NoSqlæ˜¯ç›¸å¯¹äºä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“è€Œè¨€ï¼Œæœ‰å¾ˆå¤§å·®å¼‚çš„ä¸€ç§æ•°æ®åº“ã€‚</p><h4 id="131-ç»“æ„åŒ–ä¸éç»“æ„åŒ–"><a class="markdownIt-Anchor" href="#131-ç»“æ„åŒ–ä¸éç»“æ„åŒ–"></a> 1.3.1 ç»“æ„åŒ–ä¸éç»“æ„åŒ–</h4><p>ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“æ˜¯ç»“æ„åŒ–æ•°æ®ï¼Œæ¯ä¸€å¼ è¡¨éƒ½æœ‰ä¸¥æ ¼çš„çº¦æŸä¿¡æ¯ï¼šå­—æ®µåã€å­—æ®µæ•°æ®ç±»å‹ã€å­—æ®µçº¦æŸç­‰ç­‰ä¿¡æ¯ï¼Œæ’å…¥çš„æ•°æ®å¿…é¡»éµå®ˆè¿™äº›çº¦æŸï¼š</p><p><img src="1bddaaa8159746008dee9dc5e400104c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>è€ŒNoSqlåˆ™å¯¹æ•°æ®åº“æ ¼å¼æ²¡æœ‰ä¸¥æ ¼çº¦æŸï¼Œå¾€å¾€å½¢å¼æ¾æ•£ï¼Œè‡ªç”±ã€‚</p><p>å¯ä»¥æ˜¯é”®å€¼å‹ï¼š</p><p><img src="89e9e9ffed04509d41d2ee30ccbd03ab.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>ä¹Ÿå¯ä»¥æ˜¯æ–‡æ¡£å‹ï¼š</p><p><img src="682e8e1f1d5b769da7cf9404e12166ba.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>ç”šè‡³å¯ä»¥æ˜¯å›¾æ ¼å¼ï¼š</p><p><img src="e683c15dd697fc91f15fe2838f7eedd4.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="132-å…³è”å’Œéå…³è”"><a class="markdownIt-Anchor" href="#132-å…³è”å’Œéå…³è”"></a> 1.3.2 å…³è”å’Œéå…³è”</h4><p>ä¼ ç»Ÿæ•°æ®åº“çš„è¡¨ä¸è¡¨ä¹‹é—´å¾€å¾€å­˜åœ¨å…³è”ï¼Œä¾‹å¦‚å¤–é”®ï¼š</p><p><img src="c1d4005835c768f2faa2984645a59507.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>è€Œéå…³ç³»å‹æ•°æ®åº“ä¸å­˜åœ¨å…³è”å…³ç³»ï¼Œè¦ç»´æŠ¤å…³ç³»è¦ä¹ˆé ä»£ç ä¸­çš„ä¸šåŠ¡é€»è¾‘ï¼Œè¦ä¹ˆé æ•°æ®ä¹‹é—´çš„è€¦åˆï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span> id<span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span> name<span class="punctuation">:</span> <span class="string">&quot;å¼ ä¸‰&quot;</span><span class="punctuation">,</span> orders<span class="punctuation">:</span> <span class="punctuation">[</span> <span class="punctuation">&#123;</span> id<span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span> item<span class="punctuation">:</span> <span class="punctuation">&#123;</span> id<span class="punctuation">:</span> <span class="number">10</span><span class="punctuation">,</span> title<span class="punctuation">:</span> <span class="string">&quot;è£è€€6&quot;</span><span class="punctuation">,</span> price<span class="punctuation">:</span> <span class="number">4999</span> <span class="punctuation">&#125;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span> <span class="punctuation">&#123;</span> id<span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span> item<span class="punctuation">:</span> <span class="punctuation">&#123;</span> id<span class="punctuation">:</span> <span class="number">20</span><span class="punctuation">,</span> title<span class="punctuation">:</span> <span class="string">&quot;å°ç±³11&quot;</span><span class="punctuation">,</span> price<span class="punctuation">:</span> <span class="number">3999</span> <span class="punctuation">&#125;</span> <span class="punctuation">&#125;</span> <span class="punctuation">]</span> <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>æ­¤å¤„è¦ç»´æŠ¤â€œå¼ ä¸‰â€çš„è®¢å•ä¸å•†å“â€œè£è€€â€å’Œâ€œå°ç±³11â€çš„å…³ç³»ï¼Œä¸å¾—ä¸å†—ä½™çš„å°†è¿™ä¸¤ä¸ªå•†å“ä¿å­˜åœ¨å¼ ä¸‰çš„è®¢å•æ–‡æ¡£ä¸­ï¼Œä¸å¤Ÿä¼˜é›…ã€‚è¿˜æ˜¯å»ºè®®ç”¨ä¸šåŠ¡æ¥ç»´æŠ¤å…³è”å…³ç³»ã€‚</p><h4 id="133-æŸ¥è¯¢æ–¹å¼"><a class="markdownIt-Anchor" href="#133-æŸ¥è¯¢æ–¹å¼"></a> 1.3.3 æŸ¥è¯¢æ–¹å¼</h4><p>ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“ä¼šåŸºäºSqlè¯­å¥åšæŸ¥è¯¢ï¼Œè¯­æ³•æœ‰ç»Ÿä¸€æ ‡å‡†ï¼›</p><p>è€Œä¸åŒçš„éå…³ç³»æ•°æ®åº“æŸ¥è¯¢è¯­æ³•å·®å¼‚æå¤§ï¼Œäº”èŠ±å…«é—¨å„ç§å„æ ·ã€‚</p><p><img src="44aac4d7671a10db8c38d5da0422f8fe.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="134-äº‹åŠ¡"><a class="markdownIt-Anchor" href="#134-äº‹åŠ¡"></a> 1.3.4 äº‹åŠ¡</h4><p>ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“èƒ½æ»¡è¶³äº‹åŠ¡ACIDçš„åŸåˆ™ã€‚</p><p><img src="fff39da9d93503ac1c0553ba1898d2b6.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>è€Œéå…³ç³»å‹æ•°æ®åº“å¾€å¾€ä¸æ”¯æŒäº‹åŠ¡ï¼Œæˆ–è€…ä¸èƒ½ä¸¥æ ¼ä¿è¯ACIDçš„ç‰¹æ€§ï¼Œåªèƒ½å®ç°åŸºæœ¬çš„ä¸€è‡´æ€§ã€‚</p><h4 id="135-æ€»ç»“"><a class="markdownIt-Anchor" href="#135-æ€»ç»“"></a> 1.3.5 æ€»ç»“</h4><p>é™¤äº†ä¸Šè¿°å››ç‚¹ä»¥å¤–ï¼Œåœ¨å­˜å‚¨æ–¹å¼ã€æ‰©å±•æ€§ã€æŸ¥è¯¢æ€§èƒ½ä¸Šå…³ç³»å‹ä¸éå…³ç³»å‹ä¹Ÿéƒ½æœ‰ç€æ˜¾è‘—å·®å¼‚ï¼Œæ€»ç»“å¦‚ä¸‹ï¼š</p><p><img src="82502b3a90a6babbf209e6e32b283282.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><ul><li><p>å­˜å‚¨æ–¹å¼</p><ul><li>å…³ç³»å‹æ•°æ®åº“åŸºäºç£ç›˜è¿›è¡Œå­˜å‚¨ï¼Œä¼šæœ‰å¤§é‡çš„ç£ç›˜IOï¼Œå¯¹æ€§èƒ½æœ‰ä¸€å®šå½±å“</li><li>éå…³ç³»å‹æ•°æ®åº“ï¼Œä»–ä»¬çš„æ“ä½œæ›´å¤šçš„æ˜¯ä¾èµ–äºå†…å­˜æ¥æ“ä½œï¼Œå†…å­˜çš„è¯»å†™é€Ÿåº¦ä¼šéå¸¸å¿«ï¼Œæ€§èƒ½è‡ªç„¶ä¼šå¥½ä¸€äº›</li></ul></li><li><p>æ‰©å±•æ€§</p><ul><li>å…³ç³»å‹æ•°æ®åº“é›†ç¾¤æ¨¡å¼ä¸€èˆ¬æ˜¯ä¸»ä»ï¼Œä¸»ä»æ•°æ®ä¸€è‡´ï¼Œèµ·åˆ°æ•°æ®å¤‡ä»½çš„ä½œç”¨ï¼Œç§°ä¸ºå‚ç›´æ‰©å±•ã€‚</li><li>éå…³ç³»å‹æ•°æ®åº“å¯ä»¥å°†æ•°æ®æ‹†åˆ†ï¼Œå­˜å‚¨åœ¨ä¸åŒæœºå™¨ä¸Šï¼Œå¯ä»¥ä¿å­˜æµ·é‡æ•°æ®ï¼Œè§£å†³å†…å­˜å¤§å°æœ‰é™çš„é—®é¢˜ã€‚ç§°ä¸ºæ°´å¹³æ‰©å±•ã€‚</li><li>å…³ç³»å‹æ•°æ®åº“å› ä¸ºè¡¨ä¹‹é—´å­˜åœ¨å…³è”å…³ç³»ï¼Œå¦‚æœåšæ°´å¹³æ‰©å±•ä¼šç»™æ•°æ®æŸ¥è¯¢å¸¦æ¥å¾ˆå¤šéº»çƒ¦</li></ul></li></ul><h2 id="äºŒ-mysql"><a class="markdownIt-Anchor" href="#äºŒ-mysql"></a> äºŒã€MySQL</h2><p><strong>ç±»å‹</strong>ï¼šå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆRDBMSï¼‰</p><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ul><li><strong>å¼€æº</strong>ï¼šå¹¿æ³›ä½¿ç”¨ï¼Œç¤¾åŒºæ”¯æŒä¸°å¯Œã€‚ä»»ä½•äººéƒ½å¯ä»¥è·å–å¹¶ä½¿ç”¨å®ƒçš„æºä»£ç ï¼Œè¿™ä¸ºå¼€å‘è€…æä¾›äº†å¾ˆå¤§çš„çµæ´»æ€§ï¼Œå› ä¸ºä»–ä»¬å¯ä»¥æŒ‰ç…§è‡ªå·±çš„éœ€æ±‚å®šåˆ¶æ•°æ®åº“ç³»ç»Ÿ</li><li><strong>æˆç†Ÿç¨³å®š</strong>ï¼šç»è¿‡é•¿æ—¶é—´çš„å‘å±•ï¼Œæ€§èƒ½å’Œç¨³å®šæ€§éƒ½éå¸¸å¥½ã€‚MySQLå…·æœ‰ä¼˜ç§€çš„æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨<strong>è¯»å–</strong>æ“ä½œæ–¹é¢ã€‚å®ƒå¯ä»¥å¤„ç†å¤§é‡çš„æ•°æ®ï¼Œå¹¶æ”¯æŒé«˜å¹¶å‘ç”¨æˆ·è¿æ¥</li><li><strong>ACIDäº‹åŠ¡æ”¯æŒ</strong>ï¼šæ”¯æŒäº‹åŠ¡å¤„ç†ï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ã€‚</li><li><strong>ç´¢å¼•ä¼˜åŒ–</strong>ï¼šæ”¯æŒå¤šç§ç´¢å¼•ç±»å‹ï¼ŒæŸ¥è¯¢æ€§èƒ½ä¼˜ç§€ã€‚</li><li><strong>å¯æ‰©å±•æ€§</strong>ï¼šMySQLæ”¯æŒå„ç§æ‰©å±•åŠŸèƒ½ï¼Œå¦‚åˆ†åŒºã€å¤åˆ¶å’Œåˆ†ç‰‡ç­‰ï¼Œè¿™ä½¿å¾—å®ƒèƒ½å¤Ÿå¤„ç†å¤§è§„æ¨¡çš„æ•°æ®å’Œå¤æ‚çš„ä¸šåŠ¡éœ€æ±‚</li><li><strong>è½»é‡çº§</strong>ï¼šèµ„æºå ç”¨ç›¸å¯¹è¾ƒå°‘ï¼Œé€‚åˆä¸­å°å‹é¡¹ç›®ã€‚</li><li>æ”¯æŒå¤šç§æ•°æ®ç±»å‹ï¼Œå¦‚æ•´æ•°ã€æµ®ç‚¹æ•°ã€å­—ç¬¦ã€æ—¥æœŸå’Œæ—¶é—´ç­‰ï¼›æ‹¥æœ‰ä¸åŒçš„å­˜å‚¨å¼•æ“ï¼Œå¦‚InnoDBå’ŒMyISAMï¼Œåˆ†åˆ«é€‚ç”¨äºä¸åŒçš„åº”ç”¨åœºæ™¯ï¼›æ”¯æŒåˆ†åŒºåŠŸèƒ½ï¼Œå¯ä»¥ä¼˜åŒ–å¤§æ•°æ®é‡çš„å­˜å‚¨å’Œè®¿é—®æ€§èƒ½</li></ul><p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p><ul><li><strong>Webåº”ç”¨</strong>ï¼šå¦‚åšå®¢ã€è®ºå›ã€ç”µå­å•†åŠ¡ç½‘ç«™ç­‰ã€‚</li><li><strong>ä¸­å°ä¼ä¸š</strong>ï¼šé€‚åˆä¸­å°ä¼ä¸šçš„æ•°æ®ç®¡ç†å’Œå­˜å‚¨éœ€æ±‚ã€‚</li><li><strong>OLTPç³»ç»Ÿ</strong>ï¼šåœ¨çº¿äº‹åŠ¡å¤„ç†ç³»ç»Ÿï¼Œéœ€è¦é¢‘ç¹çš„è¯»å†™æ“ä½œã€‚</li></ul><p>MySQL å¯¹äºå¤æ‚æ¡ä»¶æŸ¥è¯¢çš„æ”¯æŒå¹¶ä¸å¥½ã€‚MySQL æœ€å¤šä½¿ç”¨ä¸€ä¸ªæ¡ä»¶æ¶‰åŠçš„ç´¢å¼•æ¥è¿‡æ»¤ï¼Œç„¶åå‰©ä½™çš„æ¡ä»¶åªèƒ½åœ¨éå†è¡Œè¿‡ç¨‹ä¸­è¿›è¡Œå†…å­˜è¿‡æ»¤ï¼Œå¯¹è¿™ä¸ªè¿‡ç¨‹ä¸äº†è§£çš„åŒå­¦å¯ä»¥å…ˆè¡Œé˜…è¯»ä¸€ä¸‹MySQL å¤æ‚ where è¯­å¥åˆ†æ</p><p>ä¸Šè¿°è¿™ç§å¤„ç†å¤æ‚æ¡ä»¶æŸ¥è¯¢çš„æ–¹å¼å› ä¸ºåªèƒ½é€šè¿‡ä¸€ä¸ªç´¢å¼•è¿›è¡Œè¿‡æ»¤ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œå¤§é‡çš„ I/O æ“ä½œæ¥è¯»å–è¡Œæ•°æ®ï¼Œå¹¶æ¶ˆè€— CPU è¿›è¡Œå†…å­˜è¿‡æ»¤ï¼Œå¯¼è‡´æŸ¥è¯¢æ€§èƒ½çš„ä¸‹é™ã€‚</p><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li><strong>å†™å…¥æ€§èƒ½</strong>ï¼šè™½ç„¶MySQLåœ¨è¯»å–æ“ä½œæ–¹é¢è¡¨ç°å‡ºè‰²ï¼Œä½†åœ¨å¤„ç†å¤§é‡å†™å…¥æ“ä½œæ—¶å¯èƒ½ä¼šé‡åˆ°æ€§èƒ½ç“¶é¢ˆã€‚è¿™å¯èƒ½å¯¼è‡´åœ¨é«˜å¹¶å‘å†™å…¥åœºæ™¯ä¸‹æ€§èƒ½ä¸‹é™ã€‚</li><li><strong>å¤æ‚æŸ¥è¯¢æ€§èƒ½</strong>ï¼šå¯¹äºå¤æ‚æŸ¥è¯¢ï¼ŒMySQLå¯èƒ½æ²¡æœ‰ä¸€äº›**ä¸“é—¨çš„æ•°æ®åº“ç³»ç»Ÿï¼ˆå¦‚PostgreSQLï¼‰**è¡¨ç°å¾—é‚£ä¹ˆå‡ºè‰²ã€‚è¿™å¯èƒ½ä¼šåœ¨å¤„ç†å¤æ‚çš„SQLæŸ¥è¯¢æ—¶å½±å“åˆ°æ€§èƒ½ã€‚</li><li><strong>åŠŸèƒ½ä¸°å¯Œåº¦</strong>ï¼šç›¸æ¯”ä¸€äº›å…¶ä»–çš„æ•°æ®åº“ç³»ç»Ÿï¼ŒMySQLçš„åŠŸèƒ½ä¸°å¯Œåº¦å¯èƒ½ç¨æ˜¾ä¸è¶³ã€‚ä¾‹å¦‚ï¼Œå®ƒåœ¨å…¨æ–‡æœç´¢ã€æ•°æ®å®Œæ•´æ€§çº¦æŸç­‰æ–¹é¢å¯èƒ½æ²¡æœ‰ä¸€äº›ä¸“é—¨çš„æ•°æ®åº“ç³»ç»Ÿé‚£ä¹ˆå¼ºå¤§ã€‚</li><li><strong>æœ€å¤§è¿æ¥æ•°</strong>ï¼šMySQLçš„æœ€å¤§è¿æ¥æ•°ç›¸å¯¹è¾ƒå°ï¼Œè¿™å¯èƒ½ä¼šé™åˆ¶å¹¶å‘ç”¨æˆ·è¿æ¥çš„æ•°é‡ã€‚</li></ul><h2 id="ä¸‰-postgresql"><a class="markdownIt-Anchor" href="#ä¸‰-postgresql"></a> ä¸‰ã€PostgreSQL</h2><h3 id="31-ç‰¹ç‚¹-é€‚ç”¨åœºæ™¯"><a class="markdownIt-Anchor" href="#31-ç‰¹ç‚¹-é€‚ç”¨åœºæ™¯"></a> 3.1 ç‰¹ç‚¹ã€é€‚ç”¨åœºæ™¯</h3><p><strong>ç±»å‹</strong>ï¼šå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆRDBMSï¼‰</p><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ul><li><strong>é«˜çº§ç‰¹æ€§</strong>ï¼šæ”¯æŒå¤§éƒ¨åˆ†çš„SQLæ ‡å‡†ï¼Œå¹¶æä¾›äº†å¾ˆå¤šå…¶ä»–ç°ä»£ç‰¹æ€§ï¼Œå¦‚å¤æ‚æŸ¥è¯¢ã€å¤–é”®ã€è§¦å‘å™¨ã€è§†å›¾ã€äº‹åŠ¡å®Œæ•´æ€§ã€å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ç­‰é«˜çº§ç‰¹æ€§</li><li><strong>æ‰©å±•æ€§å¼º</strong>ï¼šæ”¯æŒå¤šç§æ‰©å±•ï¼Œå¦‚å…¨æ–‡æœç´¢ã€åœ°ç†ç©ºé—´æ•°æ®å¤„ç†ç­‰ã€‚</li><li><strong>å¯å®šåˆ¶æ€§</strong>ï¼šé«˜åº¦å¯å®šåˆ¶ï¼Œæ”¯æŒç”¨æˆ·è‡ªå®šä¹‰æ•°æ®ç±»å‹å’Œå‡½æ•°ã€‚</li><li><strong>ACIDäº‹åŠ¡æ”¯æŒ</strong>ï¼šå¼ºä¸€è‡´æ€§å’Œäº‹åŠ¡æ”¯æŒã€‚</li><li><strong>å¼€æº</strong>ï¼šç¤¾åŒºæ´»è·ƒï¼Œæ–‡æ¡£ä¸°å¯Œã€‚</li></ul><p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p><ul><li><strong>å¤æ‚æŸ¥è¯¢</strong>ï¼šéœ€è¦æ‰§è¡Œå¤æ‚æŸ¥è¯¢å’Œåˆ†æçš„åœºæ™¯ã€‚</li><li><strong>å¤§æ•°æ®é‡</strong>ï¼šé€‚åˆå¤„ç†å¤§è§„æ¨¡æ•°æ®é›†ã€‚å¦‚ç‰©è”ç½‘å’Œå¤§æ•°æ®åœºæ™¯</li><li><strong>ä¼ä¸šçº§åº”ç”¨</strong>ï¼šéœ€è¦é«˜å¯é æ€§å’Œä¸€è‡´æ€§çš„ä¼ä¸šçº§åº”ç”¨ã€‚é€‚ç”¨äºé‡‘èç³»ç»Ÿï¼Œå¯ä»¥ç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§</li><li><strong>åœ°ç†ä¿¡æ¯ç³»ç»Ÿ</strong>ï¼šæ”¯æŒåœ°ç†ç©ºé—´æ•°æ®å¤„ç†ï¼Œé€‚åˆGISåº”ç”¨ã€‚</li></ul><h3 id="32-mysqlä¸postgresqlå¯¹æ¯”"><a class="markdownIt-Anchor" href="#32-mysqlä¸postgresqlå¯¹æ¯”"></a> 3.2 MySQLä¸PostgreSQLå¯¹æ¯”</h3><p>MySQLå’ŒPostgreSQLæ˜¯ä¸¤ç§å¸¸è§çš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆRDBMSï¼‰ï¼Œå®ƒä»¬éƒ½å…·æœ‰å¼ºå¤§çš„åŠŸèƒ½å’Œå¹¿æ³›çš„ç¤¾åŒºæ”¯æŒï¼Œä½†åœ¨æŸäº›æ–¹é¢å­˜åœ¨ä¸€äº›å·®å¼‚ï¼ŒåŒ…æ‹¬ç‰¹ç‚¹ã€æ€§èƒ½ã€æ‰©å±•æ€§ã€å®‰å…¨æ€§ä»¥åŠé€‚ç”¨åœºæ™¯ç­‰æ–¹é¢ã€‚</p><h4 id="321-ç‰¹ç‚¹æ¯”è¾ƒ"><a class="markdownIt-Anchor" href="#321-ç‰¹ç‚¹æ¯”è¾ƒ"></a> 3.2.1 ç‰¹ç‚¹æ¯”è¾ƒ</h4><ul><li><p>MySQLç‰¹ç‚¹</p><ul><li><p>MySQL æ˜¯ä¸€ä¸ªåŸºäºå®¢æˆ·ç«¯-æœåŠ¡å™¨æ¶æ„çš„å¼€æºæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œç”± Oracle å…¬å¸å¼€å‘å’Œç»´æŠ¤ã€‚å®ƒä»¥å…¶ç®€å•æ€§ã€æ˜“ç”¨æ€§å’Œé«˜æ€§èƒ½è€Œé—»å</p></li><li><p>MySQL æ”¯æŒå¤šç§å­˜å‚¨å¼•æ“ï¼ŒåŒ…æ‹¬ InnoDBã€MyISAMã€MEMORY ç­‰ã€‚æ¯ä¸ªå­˜å‚¨å¼•æ“éƒ½å…·æœ‰ä¸åŒçš„ç‰¹æ€§å’Œä¼˜åŒ–ç­–ç•¥ï¼Œå¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„å¼•æ“</p></li><li><p>MySQL åœ¨å¤„ç†å¤§é‡è¯»æ“ä½œæ—¶è¡¨ç°è‰¯å¥½ï¼Œå¹¶ä¸”é€‚ç”¨äºæ•°æ®å­˜å‚¨å’Œè¯»å–éœ€æ±‚è¾ƒé«˜çš„åº”ç”¨åœºæ™¯</p></li></ul></li><li><p>PostgreSQLç‰¹ç‚¹</p><ul><li><p>PostgreSQL æ˜¯ä¸€ä¸ªå¼€æºå¯¹è±¡-å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œå…·æœ‰å¼ºå¤§çš„åŠŸèƒ½å’Œé«˜åº¦å¯æ‰©å±•æ€§ã€‚å®ƒä»¥å…¶çµæ´»æ€§ã€ä¸°å¯Œçš„æ•°æ®ç±»å‹å’Œé«˜çº§ç‰¹æ€§è€Œå—åˆ°å¼€å‘è€…çš„é’çã€‚</p></li><li><p>PostgreSQL æ”¯æŒå¤æ‚çš„æ•°æ®ç±»å‹ï¼Œå¦‚æ•°ç»„ã€JSONã€XML ç­‰ï¼Œå¹¶æä¾›äº†ä¸°å¯Œçš„å†…ç½®å‡½æ•°å’Œæ“ä½œç¬¦ï¼Œä½¿å¾—æ•°æ®å¤„ç†æ›´åŠ çµæ´»å’Œæ–¹ä¾¿ã€‚</p></li><li><p>PostgreSQL é‡‡ç”¨ MVCCï¼ˆå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼‰æŠ€æœ¯æ¥å¤„ç†å¹¶å‘è®¿é—®ï¼Œæ”¯æŒé«˜åº¦å¹¶å‘çš„åº”ç”¨åœºæ™¯ã€‚</p></li><li><p>PostgreSQL å¯¹å®Œæ•´æ€§çº¦æŸå’Œäº‹åŠ¡å¤„ç†æä¾›äº†å¼ºå¤§çš„æ”¯æŒï¼Œä½¿å¾—æ•°æ®çš„ä¸€è‡´æ€§å’Œå¯é æ€§å¾—åˆ°ä¿è¯ã€‚</p></li></ul></li></ul><h4 id="322-æ€§èƒ½æ¯”è¾ƒ"><a class="markdownIt-Anchor" href="#322-æ€§èƒ½æ¯”è¾ƒ"></a> 3.2.2 æ€§èƒ½æ¯”è¾ƒ</h4><p>æ€§èƒ½æ˜¯é€‰æ‹©æ•°æ®åº“çš„å…³é”®å› ç´ ä¹‹ä¸€ã€‚ä»¥ä¸‹æ˜¯ MySQL å’Œ PostgreSQL åœ¨æ€§èƒ½æ–¹é¢çš„æ¯”è¾ƒ</p><ul><li><p>MySQLæ€§èƒ½</p><ul><li>MySQL åœ¨å¤„ç†å¤§é‡è¯»æ“ä½œæ—¶è¡¨ç°å‡ºè‰²ã€‚å…¶å­˜å‚¨å¼•æ“ InnoDB æä¾›äº†è¡Œçº§é”å®šå’Œé«˜æ•ˆçš„äº‹åŠ¡å¤„ç†ï¼Œé€‚ç”¨äºå¹¶å‘è¯»å–çš„åœºæ™¯</li><li>MySQL é€šè¿‡æŸ¥è¯¢ç¼“å­˜æ¥æé«˜è¯»å–æ€§èƒ½ã€‚æŸ¥è¯¢ç¼“å­˜å¯ä»¥ç¼“å­˜æŸ¥è¯¢ç»“æœï¼Œé¿å…é‡å¤æ‰§è¡Œç›¸åŒçš„æŸ¥è¯¢è¯­å¥</li><li>MySQL åœ¨å¤„ç†ç®€å•æŸ¥è¯¢å’Œå¤§é‡è¿æ¥æ—¶è¡¨ç°å‡ºè‰²ï¼Œé€‚ç”¨äº Web åº”ç”¨ç¨‹åºå’Œè®¸å¤šå°å‹æ•°æ®åº“çš„åœºæ™¯</li></ul></li><li><p>PostgreSQLç‰¹ç‚¹</p><ul><li>PostgreSQL åœ¨å¤„ç†å¤æ‚æŸ¥è¯¢å’Œå¤§é‡å†™æ“ä½œæ—¶è¡¨ç°å‡ºè‰²ã€‚å®ƒé€šè¿‡ä¼˜åŒ–æŸ¥è¯¢æ‰§è¡Œè®¡åˆ’å’Œç´¢å¼•æ¥æé«˜æŸ¥è¯¢æ€§èƒ½</li><li>PostgreSQL é‡‡ç”¨ MVCC æŠ€æœ¯ï¼Œä½¿å¾—å¹¶å‘è®¿é—®æ—¶ä¸ä¼šå‡ºç°é˜»å¡å’Œå†²çªï¼Œä»è€Œæä¾›äº†æ›´å¥½çš„å¹¶å‘å¤„ç†æ€§èƒ½</li><li>PostgreSQL åœ¨å¤„ç†å¤æ‚æŸ¥è¯¢å’Œå…·æœ‰å¤æ‚æ•°æ®ç±»å‹çš„æ“ä½œæ—¶è¡¨ç°å‡ºè‰²ã€‚å®ƒçš„æŸ¥è¯¢ä¼˜åŒ–å™¨å¯ä»¥æ™ºèƒ½åœ°é€‰æ‹©æœ€ä½³æ‰§è¡Œè®¡åˆ’ï¼Œå¹¶ä¸”æ”¯æŒå„ç§ç´¢å¼•ç±»å‹å’Œé«˜çº§æŸ¥è¯¢åŠŸèƒ½</li></ul></li></ul><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ€§èƒ½æ¯”è¾ƒæ˜¯ä¸€ä¸ªå¤æ‚çš„ä¸»é¢˜ï¼Œå—åˆ°å¤šä¸ªå› ç´ çš„å½±å“ï¼Œå¦‚ç¡¬ä»¶é…ç½®ã€æ•°æ®é‡ã€æŸ¥è¯¢ç±»å‹å’Œç´¢å¼•è®¾è®¡ç­‰ã€‚å› æ­¤ï¼Œå…·ä½“çš„æ€§èƒ½è¡¨ç°å¯èƒ½å› å®é™…æƒ…å†µè€Œå¼‚ã€‚åœ¨é€‰æ‹©æ•°æ®åº“æ—¶ï¼Œå»ºè®®è¿›è¡ŒåŸºå‡†æµ‹è¯•å’Œæ€§èƒ½ä¼˜åŒ–ï¼Œä»¥ç¡®ä¿æœ€ä½³æ€§èƒ½</p><h4 id="323-æ‰©å±•æ€§æ¯”è¾ƒ"><a class="markdownIt-Anchor" href="#323-æ‰©å±•æ€§æ¯”è¾ƒ"></a> 3.2.3 æ‰©å±•æ€§æ¯”è¾ƒ</h4><p>æ‰©å±•æ€§æ˜¯ä¸€ä¸ªé‡è¦çš„è€ƒè™‘å› ç´ ï¼Œç‰¹åˆ«æ˜¯åœ¨åº”å¯¹æ•°æ®é‡å¢é•¿å’Œå¹¶å‘è®¿é—®å¢åŠ çš„æƒ…å†µä¸‹ã€‚ä»¥ä¸‹æ˜¯ MySQL å’Œ PostgreSQL åœ¨æ‰©å±•æ€§æ–¹é¢çš„æ¯”è¾ƒï¼š</p><ul><li><p>MySQLæ‰©å±•æ€§</p><ul><li>MySQL åœ¨æ°´å¹³æ‰©å±•æ–¹é¢è¡¨ç°è‰¯å¥½ã€‚å®ƒæ”¯æŒä¸»ä»å¤åˆ¶å’Œåˆ†ç‰‡æŠ€æœ¯ï¼Œå¯ä»¥å°†æ•°æ®åˆ†å¸ƒåœ¨å¤šä¸ªæœåŠ¡å™¨ä¸Šï¼Œä»¥æé«˜è¯»å†™æ€§èƒ½å’Œå®¹é‡</li><li>MySQL è¿˜æ”¯æŒåŸºäºè§¦å‘å™¨å’Œå­˜å‚¨è¿‡ç¨‹çš„å¤æ‚ä¸šåŠ¡é€»è¾‘ï¼Œå¯ä»¥å°†ä¸€äº›è®¡ç®—ä»»åŠ¡å’Œä¸šåŠ¡é€»è¾‘è½¬ç§»åˆ°æ•°æ®åº“æœåŠ¡å™¨ä¸Šè¿›è¡Œå¤„ç†</li></ul></li><li><p>PostgreSQLæ‰©å±•æ€§</p><ul><li>PostgreSQL åœ¨æ°´å¹³æ‰©å±•æ–¹é¢ä¹Ÿè¡¨ç°è‰¯å¥½ã€‚å®ƒæ”¯æŒæµå¤åˆ¶å’Œé€»è¾‘å¤åˆ¶ï¼Œå¯ä»¥å°†æ•°æ®å¤åˆ¶åˆ°å¤šä¸ªèŠ‚ç‚¹ä¸Šï¼Œä»¥å®ç°è´Ÿè½½å‡è¡¡å’Œé«˜å¯ç”¨æ€§</li><li>PostgreSQL è¿˜æ”¯æŒåˆ†åŒºè¡¨å’Œå¹¶è¡ŒæŸ¥è¯¢ï¼Œå¯ä»¥æ›´å¥½åœ°å¤„ç†å¤§å‹æ•°æ®é›†å’Œå¤æ‚æŸ¥è¯¢</li></ul></li></ul><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ‰©å±•æ€§æ˜¯ä¸€ä¸ªç»¼åˆé—®é¢˜ï¼Œè¿˜éœ€è¦è€ƒè™‘ç¡¬ä»¶èµ„æºã€ç½‘ç»œæ‹“æ‰‘ã€è´Ÿè½½å‡è¡¡ç­‰å› ç´ ã€‚é€‰æ‹©é€‚å½“çš„æ‰©å±•ç­–ç•¥å’Œæ¶æ„è®¾è®¡å¯¹äºå®ç°é«˜æ€§èƒ½å’Œå¯æ‰©å±•çš„æ•°æ®åº“ç³»ç»Ÿè‡³å…³é‡è¦ã€‚</p><h4 id="324-å®‰å…¨æ€§æ¯”è¾ƒ"><a class="markdownIt-Anchor" href="#324-å®‰å…¨æ€§æ¯”è¾ƒ"></a> 3.2.4 å®‰å…¨æ€§æ¯”è¾ƒ</h4><p>å®‰å…¨æ€§æ˜¯æ•°æ®åº“ç®¡ç†çš„é‡è¦æ–¹é¢ã€‚ä»¥ä¸‹æ˜¯ MySQL å’Œ PostgreSQL åœ¨å®‰å…¨æ€§æ–¹é¢çš„æ¯”è¾ƒï¼š</p><ul><li><p>MySQLå®‰å…¨æ€§</p><ul><li>MySQL æä¾›äº†åŸºæœ¬çš„å®‰å…¨åŠŸèƒ½ï¼Œå¦‚ç”¨æˆ·è®¤è¯ã€è®¿é—®æ§åˆ¶å’ŒåŠ å¯†ä¼ è¾“ã€‚å¯ä»¥ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œèº«ä»½éªŒè¯ï¼Œå¹¶æ ¹æ®ç”¨æˆ·çš„æƒé™æ§åˆ¶æ•°æ®åº“å’Œè¡¨çš„è®¿é—®</li><li>MySQL æ”¯æŒ SSL/TLS åŠ å¯†åè®®ï¼Œå¯ä»¥é€šè¿‡é…ç½® SSL è¯ä¹¦æ¥ä¿æŠ¤æ•°æ®ä¼ è¾“çš„å®‰å…¨æ€§</li></ul></li><li><p>PostgreSQLå®‰å…¨æ€§</p><ul><li>PostgreSQL æä¾›äº†ä¸°å¯Œçš„å®‰å…¨åŠŸèƒ½ï¼Œå¦‚å¼ºå¤§çš„èº«ä»½è®¤è¯å’Œè®¿é—®æ§åˆ¶æœºåˆ¶ã€‚å®ƒæ”¯æŒåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC) å’Œç»†ç²’åº¦çš„æƒé™ç®¡ç†ï¼Œå¯ä»¥ä¸ºç”¨æˆ·å’Œç»„åˆ†é…ä¸åŒçš„æƒé™çº§åˆ«</li><li>PostgreSQL æä¾›äº†è¡Œçº§åˆ«çš„å®‰å…¨æ€§ï¼Œå¯ä»¥åœ¨è¡¨çš„è¡Œçº§åˆ«ä¸Šå®šä¹‰è®¿é—®æ§åˆ¶è§„åˆ™ï¼Œä»¥å®ç°æ›´ç»†ç²’åº¦çš„æ•°æ®ä¿æŠ¤</li><li>PostgreSQL æ”¯æŒåŠ å¯†å­˜å‚¨å’Œä¼ è¾“ï¼Œå¯ä»¥ä½¿ç”¨ SSL/TLS åŠ å¯†åè®®æ¥ä¿æŠ¤æ•°æ®çš„å®‰å…¨æ€§</li><li>PostgreSQL æä¾›äº†é«˜çº§çš„å®¡è®¡åŠŸèƒ½ï¼Œå¯ä»¥è®°å½•ç”¨æˆ·æ“ä½œå’Œæ•°æ®åº“å˜æ›´çš„æ—¥å¿—ï¼Œä»¥å®ç°å®‰å…¨å®¡è®¡å’Œæ•…éšœæ’é™¤</li></ul></li></ul><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ— è®ºæ˜¯ MySQL è¿˜æ˜¯ PostgreSQLï¼Œåœ¨å®‰å…¨æ€§æ–¹é¢éƒ½éœ€è¦åˆç†é…ç½®å’Œç®¡ç†ã€‚è¿™åŒ…æ‹¬è®¾ç½®å¼ºå¯†ç ã€å®šæœŸæ›´æ–°è½¯ä»¶è¡¥ä¸ã€é™åˆ¶ç½‘ç»œè®¿é—®å’Œå¤‡ä»½æ•°æ®ç­‰æªæ–½ï¼Œä»¥ä¿æŠ¤æ•°æ®åº“å…å—æ½œåœ¨çš„å®‰å…¨å¨èƒã€‚</p><h4 id="325-é€‚ç”¨åœºæ™¯æ¯”è¾ƒ"><a class="markdownIt-Anchor" href="#325-é€‚ç”¨åœºæ™¯æ¯”è¾ƒ"></a> 3.2.5 é€‚ç”¨åœºæ™¯æ¯”è¾ƒ</h4><p>MySQL å’Œ PostgreSQL åœ¨åŠŸèƒ½å’Œæ€§èƒ½ä¸Šçš„å·®å¼‚ä½¿å¾—å®ƒä»¬åœ¨ä¸åŒçš„åœºæ™¯ä¸‹å…·æœ‰ä¸åŒçš„ä¼˜åŠ¿ã€‚ä»¥ä¸‹æ˜¯å®ƒä»¬çš„é€‚ç”¨åœºæ™¯æ¯”è¾ƒ</p><ul><li><p>MySQLé€‚ç”¨åœºæ™¯</p><ul><li>MySQL é€‚ç”¨äºéœ€è¦å¤„ç†å¤§é‡è¯»æ“ä½œçš„åº”ç”¨ï¼Œå¦‚ Web åº”ç”¨ç¨‹åºã€ç”µå­å•†åŠ¡ç½‘ç«™å’Œåšå®¢å¹³å°ç­‰ã€‚å®ƒçš„ç®€å•æ€§å’Œé«˜æ€§èƒ½ä½¿å¾—å®ƒæˆä¸ºè®¸å¤šå°å‹å’Œä¸­å‹é¡¹ç›®çš„é¦–é€‰</li><li>MySQL è¿˜é€‚ç”¨äºéœ€è¦å¤§è§„æ¨¡æ°´å¹³æ‰©å±•å’Œé«˜å¯ç”¨æ€§çš„åº”ç”¨åœºæ™¯ã€‚å®ƒçš„ä¸»ä»å¤åˆ¶å’Œåˆ†ç‰‡æŠ€æœ¯å¯ä»¥æä¾›æ›´å¥½çš„æ€§èƒ½å’Œå®¹é‡</li></ul></li><li><p>PostgreSQLé€‚ç”¨åœºæ™¯</p><ul><li>PostgreSQL é€‚ç”¨äºéœ€è¦å¤æ‚æ•°æ®ç±»å‹å’Œé«˜çº§ç‰¹æ€§çš„åº”ç”¨ï¼Œå¦‚åœ°ç†ä¿¡æ¯ç³»ç»Ÿ (GIS)ã€å¤§æ•°æ®åˆ†æå’Œç§‘å­¦ç ”ç©¶ç­‰ã€‚å®ƒçš„çµæ´»æ€§å’Œä¸°å¯Œçš„åŠŸèƒ½ä½¿å¾—å®ƒæˆä¸ºå¤„ç†å¤æ‚æ•°æ®å’ŒæŸ¥è¯¢çš„é¦–é€‰</li><li>PostgreSQL è¿˜é€‚ç”¨äºéœ€è¦é«˜åº¦å¹¶å‘å’Œå¯æ‰©å±•æ€§çš„åº”ç”¨åœºæ™¯ï¼Œå¦‚é‡‘èäº¤æ˜“ç³»ç»Ÿã€ç‰©è”ç½‘åº”ç”¨å’Œå¤§å‹ä¼ä¸šè§£å†³æ–¹æ¡ˆ</li></ul></li></ul><p>éœ€è¦æ ¹æ®å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚å’Œé¡¹ç›®è§„æ¨¡æ¥é€‰æ‹©é€‚åˆçš„æ•°æ®åº“ã€‚å¦‚æœå¯¹æ•°æ®åº“çš„ç®€å•æ€§å’Œæ€§èƒ½è¦æ±‚è¾ƒé«˜ï¼Œå¯ä»¥é€‰æ‹© MySQLã€‚å¦‚æœéœ€è¦æ›´å¤æ‚çš„æ•°æ®ç±»å‹å’ŒåŠŸèƒ½ï¼Œä»¥åŠé«˜åº¦å¹¶å‘å’Œå¯æ‰©å±•æ€§ï¼Œå¯ä»¥é€‰æ‹© PostgreSQLã€‚</p><h4 id="326-è¡¥å……"><a class="markdownIt-Anchor" href="#326-è¡¥å……"></a> 3.2.6 è¡¥å……</h4><p>1ã€æ•°æ®æ¨¡å‹å’Œç‰¹æ€§ï¼š</p><p>MySQLï¼šMySQLæ˜¯ä¸€ç§åŸºäºå®¢æˆ·ç«¯-æœåŠ¡å™¨æ¶æ„çš„æ•°æ®åº“ç³»ç»Ÿï¼Œå®ƒé‡‡ç”¨äº†ä¸»è¦ä½¿ç”¨SQLçš„å…³ç³»å‹æ•°æ®æ¨¡å‹ã€‚æ”¯æŒACIDï¼ˆåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§ï¼‰äº‹åŠ¡ï¼Œå¹¶æä¾›äº†å¤šç§å­˜å‚¨å¼•æ“ï¼Œå¦‚InnoDBã€MyISAMç­‰ï¼Œå¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©é€‚å½“çš„å­˜å‚¨å¼•æ“ã€‚MySQLä¹Ÿå…·æœ‰è¾ƒå¥½çš„å¯æ‰©å±•æ€§å’Œæ€§èƒ½ã€‚</p><p>PostgreSQLï¼šPostgreSQLä¹Ÿæ˜¯ä¸€ç§å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒSQLè¯­è¨€å’ŒACIDäº‹åŠ¡ã€‚ä¸MySQLç›¸æ¯”ï¼ŒPostgreSQLæä¾›äº†æ›´ä¸°å¯Œçš„æ•°æ®ç±»å‹ã€æ›´å¼ºå¤§çš„åŠŸèƒ½å’Œæ›´é«˜æ•ˆçš„æ‰©å±•æ€§ã€‚å®ƒæ”¯æŒå¤æ‚çš„æŸ¥è¯¢ã€è§¦å‘å™¨ã€è§†å›¾ã€å­˜å‚¨è¿‡ç¨‹ã€è‡ªå®šä¹‰å‡½æ•°ã€åœ°ç†ç©ºé—´æ•°æ®å’Œå…¨æ–‡æœç´¢ç­‰ã€‚</p><p>2ã€é€‚ç”¨åœºæ™¯</p><p>MySQLï¼šMySQLé€šå¸¸ç”¨äºwebåº”ç”¨ç¨‹åºã€å°å‹åˆ°ä¸­å‹è§„æ¨¡çš„æ•°æ®å­˜å‚¨éœ€æ±‚ï¼Œä»¥åŠéœ€è¦å¿«é€Ÿè¯»å–å’Œå†™å…¥çš„åœºæ™¯ã€‚å®ƒåœ¨å¤„ç†å¤§é‡äº‹åŠ¡å’Œé«˜å¹¶å‘æ–¹é¢è¡¨ç°è‰¯å¥½ï¼Œä¹Ÿé€‚åˆç”¨äºæ•°æ®é©±åŠ¨å‹åº”ç”¨ç¨‹åºã€‚</p><p>PostgreSQLï¼šPostgreSQL é€‚ç”¨äºéœ€è¦é«˜çº§åŠŸèƒ½ã€å¤æ‚æŸ¥è¯¢å’Œæ›´ä¸¥æ ¼æ•°æ®å®Œæ•´æ€§çš„åœºæ™¯ã€‚å®ƒåœ¨æ•°æ®åˆ†æã€åœ°ç†ä¿¡æ¯ç³»ç»Ÿã€ç§‘å­¦ç ”ç©¶å’Œå¤§å‹ä¼ä¸šåº”ç”¨ç¨‹åºç­‰é¢†åŸŸå¹¿æ³›ä½¿ç”¨ã€‚</p><p>3ã€æ‰©å®¹æˆæœ¬</p><p>MySQL ï¼šåœ¨MySQLä¸­ï¼Œæ‰©å®¹çš„æˆæœ¬ç›¸å¯¹è¾ƒä½ã€‚å¯ä»¥é€šè¿‡æ°´å¹³æ‰©å±•ï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨ä¸»ä»å¤åˆ¶æˆ–åˆ†ç‰‡ï¼‰æ¥å¢åŠ ç³»ç»Ÿçš„å¤„ç†èƒ½åŠ›å’Œå­˜å‚¨å®¹é‡ã€‚MySQLçš„ç”Ÿæ€ç³»ç»Ÿéå¸¸ä¸°å¯Œï¼Œæœ‰è®¸å¤šå·¥å…·å’Œè§£å†³æ–¹æ¡ˆå¯ä¾›é€‰æ‹©ï¼Œæ”¯æŒé«˜å¯ç”¨æ€§å’Œè´Ÿè½½å‡è¡¡ã€‚</p><p>PostgreSQLï¼šPostgreSQLçš„æ‰©å®¹æˆæœ¬ç›¸å¯¹è¾ƒé«˜ã€‚ç”±äºå…¶é«˜çº§åŠŸèƒ½å’Œå¤æ‚æ€§ï¼Œéœ€è¦æ›´å¤šçš„é…ç½®å’Œç®¡ç†å·¥ä½œã€‚æ‰©å±•PostgreSQLå¯èƒ½æ¶‰åŠåˆ°åˆ†åŒºã€å¤åˆ¶ã€å¹¶è¡ŒæŸ¥è¯¢ç­‰æŠ€æœ¯ï¼Œéœ€è¦æ›´å¤šçš„èµ„æºå’Œä¸“ä¸šçŸ¥è¯†ã€‚</p><h3 id="33-å°èŠ‚"><a class="markdownIt-Anchor" href="#33-å°èŠ‚"></a> 3.3 å°èŠ‚</h3><p>MySQL å’Œ PostgreSQL éƒ½æ˜¯å¼ºå¤§çš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œå…·æœ‰å„è‡ªçš„ç‰¹ç‚¹å’Œä¼˜åŠ¿ã€‚MySQL ç®€å•æ˜“ç”¨ã€æ€§èƒ½ä¼˜è¶Šï¼Œé€‚ç”¨äºå¤„ç†å¤§é‡è¯»æ“ä½œå’Œå°å‹é¡¹ç›®ï¼›è€Œ PostgreSQL å¼ºå¤§çµæ´»ã€å…·å¤‡ä¸°å¯Œçš„æ•°æ®ç±»å‹å’Œé«˜çº§ç‰¹æ€§ï¼Œé€‚ç”¨äºå¤„ç†å¤æ‚æ•°æ®å’Œå¤§å‹é¡¹ç›®ã€‚</p><h2 id="å››-clickhouse"><a class="markdownIt-Anchor" href="#å››-clickhouse"></a> å››ã€ClickHouse</h2><h3 id="41-ç‰¹ç‚¹-é€‚ç”¨åœºæ™¯"><a class="markdownIt-Anchor" href="#41-ç‰¹ç‚¹-é€‚ç”¨åœºæ™¯"></a> 4.1 ç‰¹ç‚¹ã€é€‚ç”¨åœºæ™¯</h3><p><strong>ç±»å‹</strong>ï¼šåˆ—å¼å­˜å‚¨æ•°æ®åº“</p><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ul><li><strong>é«˜æ€§èƒ½</strong>ï¼šä¸“ä¸ºOLAPï¼ˆåœ¨çº¿åˆ†æå¤„ç†ï¼‰è®¾è®¡ï¼ŒæŸ¥è¯¢é€Ÿåº¦éå¸¸å¿«ã€‚</li><li><strong>åˆ—å¼å­˜å‚¨</strong>ï¼šæ•°æ®æŒ‰åˆ—å­˜å‚¨ï¼Œé€‚åˆå¤§è§„æ¨¡æ•°æ®åˆ†æã€‚</li><li><strong>æ”¯æŒæ°´å¹³æ‰©å±•å’Œåˆ†å¸ƒå¼éƒ¨ç½²</strong>ï¼šæ”¯æŒåˆ†å¸ƒå¼éƒ¨ç½²ï¼Œæ°´å¹³æ‰©å±•èƒ½åŠ›å¼ºã€‚</li><li><strong>å®æ—¶åˆ†æ</strong>ï¼šæ”¯æŒå®æ—¶æ•°æ®å¤„ç†å’Œåˆ†æã€‚</li><li><strong>å¼€æº</strong>ï¼šç¤¾åŒºæ´»è·ƒï¼Œæ–‡æ¡£ä¸°å¯Œã€‚</li><li>æ”¯æŒå¿«é€Ÿå¤„ç†å¤§è§„æ¨¡æ•°æ®å¹¶æ”¯æŒé«˜å¹¶å‘æŸ¥è¯¢ï¼›å…·æœ‰æ•°æ®å†—ä½™å’Œè‡ªåŠ¨æ•…éšœè½¬ç§»åŠŸèƒ½ï¼Œä¿è¯æ•°æ®çš„å®‰å…¨æ€§å’Œå¯é æ€§</li></ul><p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p><ul><li><p>å¤§æ•°æ®åˆ†æã€æ—¥å¿—åˆ†æã€å®æ—¶æ•°æ®å¤„ç†å’Œæ•°æ®ä»“åº“ç­‰åœºæ™¯</p><ul><li><strong>å¤§æ•°æ®åˆ†æ</strong>ï¼šé€‚åˆå¤„ç†å¤§è§„æ¨¡æ•°æ®é›†ï¼Œè¿›è¡Œå®æ—¶åˆ†æå’ŒæŠ¥è¡¨ç”Ÿæˆ</li><li><strong>æ—¥å¿—åˆ†æ</strong>ï¼šé€‚åˆå¤„ç†æ—¥å¿—æ•°æ®ï¼Œè¿›è¡Œç›‘æ§å’Œåˆ†æ</li></ul></li><li><p><strong>BIç³»ç»Ÿ</strong>ï¼šå•†ä¸šæ™ºèƒ½ç³»ç»Ÿï¼Œéœ€è¦å¿«é€Ÿå“åº”å¤æ‚çš„åˆ†ææŸ¥è¯¢ã€‚</p></li><li><p><strong>ç‰©è”ç½‘</strong>ï¼šå¤„ç†å¤§é‡ä¼ æ„Ÿå™¨æ•°æ®ï¼Œè¿›è¡Œå®æ—¶ç›‘æ§å’Œåˆ†æã€‚</p></li><li><p>é€‚ç”¨äºéœ€è¦é«˜æ€§èƒ½ã€é«˜å¯é æ€§å’Œä½å»¶è¿ŸæŸ¥è¯¢çš„æ•°æ®å¤„ç†ä»»åŠ¡</p></li></ul><p>ä¼˜å¼‚çš„æ€§èƒ½å’Œå®æ—¶åˆ†æèƒ½åŠ›</p><ul><li><p>ClickHouseçš„æ€§èƒ½ç‰¹ç‚¹ï¼š</p><ul><li><p>åˆ—å¼å­˜å‚¨ï¼šClickHouseé‡‡ç”¨äº†åˆ—å¼å­˜å‚¨ï¼Œå¯¹äºèšåˆæŸ¥è¯¢å’Œæ•°æ®åˆ†æéå¸¸æœ‰æ•ˆã€‚</p></li><li><p>æ•°æ®å‹ç¼©ï¼šClickHouseå…·æœ‰é«˜æ•ˆçš„æ•°æ®å‹ç¼©æœºåˆ¶ï¼Œå¯ä»¥æ˜¾è‘—å‡å°‘å­˜å‚¨ç©ºé—´å’ŒI/Oå¼€é”€ã€‚</p></li><li><p>åˆ†å¸ƒå¼å¤„ç†ï¼šClickHouseæ”¯æŒåˆ†å¸ƒå¼éƒ¨ç½²ï¼Œèƒ½å¤Ÿå¤„ç†å¤§è§„æ¨¡æ•°æ®é›†ã€‚</p></li></ul></li><li><p>ClickHouseçš„æ•°æ®åˆ†æ</p><ul><li>ClickHouseåˆ™ä¸“æ³¨äºæ•°æ®åˆ†æåœºæ™¯ï¼Œç‰¹åˆ«æ˜¯å¯¹äºåœ¨çº¿åˆ†æå¤„ç†ï¼ˆOLAPï¼‰ä»»åŠ¡ã€‚å®ƒæ”¯æŒSQLæŸ¥è¯¢ï¼Œå…·æœ‰é«˜æ•ˆçš„åˆ—å¼å­˜å‚¨å’Œå‹ç¼©æœºåˆ¶ï¼Œé€‚ç”¨äºæ‰§è¡Œå¤æ‚çš„èšåˆæŸ¥è¯¢</li></ul></li></ul><h3 id="42-clickhouseä¸mysqlçš„é€‚ç”¨åœºæ™¯å¯¹æ¯”"><a class="markdownIt-Anchor" href="#42-clickhouseä¸mysqlçš„é€‚ç”¨åœºæ™¯å¯¹æ¯”"></a> 4.2 ClickHouseä¸MySQLçš„é€‚ç”¨åœºæ™¯å¯¹æ¯”</h3><p>ClickHouseå’ŒMySQLæ˜¯ä¸¤ç§å®Œå…¨ä¸åŒçš„æ•°æ®åº“ç³»ç»Ÿã€‚</p><ul><li><p><strong>MySQLçš„é€‚ç”¨åœºæ™¯</strong>ï¼šMySQLé€‚ç”¨äºäº‹åŠ¡å¤„ç†ï¼Œå¦‚ç½‘ç«™åå°ã€è®¢å•å¤„ç†ã€ç”¨æˆ·ç®¡ç†ç­‰åœºæ™¯ã€‚å®ƒæ”¯æŒACIDäº‹åŠ¡ã€ä¸€è‡´æ€§ä»¥åŠä¸°å¯Œçš„SQLåŠŸèƒ½ã€‚</p></li><li><p><strong>ClickHouseçš„é€‚ç”¨åœºæ™¯</strong>ï¼šClickHouseåˆ™æ›´é€‚åˆäºæ•°æ®åˆ†æã€æŠ¥è¡¨ç”Ÿæˆã€å®æ—¶ç›‘æ§ç­‰åœºæ™¯ã€‚å®ƒæ”¯æŒé«˜é€Ÿçš„æ•°æ®å¯¼å…¥å’ŒæŸ¥è¯¢ï¼Œé€‚ç”¨äºå¤„ç†å¤§è§„æ¨¡æ•°æ®é›†ã€‚</p></li></ul><p>clickhouse ä¸æ”¯æŒäº‹åŠ¡ã€ä¸å­˜åœ¨éš”ç¦»çº§åˆ«ï¼Œå…¶å®šä½æ˜¯åˆ†ææ€§æ•°æ®åº“ OLAPç³»åˆ—ï¼Œcount()æœ‰å¤©ç„¶ä¼˜åŠ¿ï¼›MongoDBæœ€åˆä¸æ”¯æŒï¼Œ4.0æ”¯æŒäº‹åŠ¡ ACIDã€‚</p><h2 id="äº”-mongodb"><a class="markdownIt-Anchor" href="#äº”-mongodb"></a> äº”ã€MongoDB</h2><h3 id="51-ç‰¹ç‚¹-é€‚ç”¨åœºæ™¯"><a class="markdownIt-Anchor" href="#51-ç‰¹ç‚¹-é€‚ç”¨åœºæ™¯"></a> 5.1 ç‰¹ç‚¹ã€é€‚ç”¨åœºæ™¯</h3><p><strong>ç±»å‹</strong>ï¼šNoSQLæ–‡æ¡£æ•°æ®åº“ï¼ˆæ•°æ®æ¨¡å¼ä¸å›ºå®šã€ç»“æ„å¯ä»¥ä¸åŒï¼‰</p><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ul><li><strong>æ–‡æ¡£å­˜å‚¨</strong>ï¼šä»¥JSON-likeçš„äºŒè¿›åˆ¶æ–‡æ¡£æ ¼å¼ï¼ˆBSONæ ¼å¼ï¼‰å­˜å‚¨æ•°æ®ï¼Œçµæ´»æ€§é«˜ã€‚æ•°æ®æ¨¡å¼ä¸å›ºå®šã€ç»“æ„å¯ä»¥ä¸åŒ</li><li><strong>æ°´å¹³æ‰©å±•</strong>ï¼šæ”¯æŒåˆ†ç‰‡ï¼Œå®¹æ˜“æ°´å¹³æ‰©å±•ã€‚</li><li><strong>é«˜æ€§èƒ½</strong>ï¼šè¯»å†™æ€§èƒ½ä¼˜ç§€ï¼Œé€‚åˆé«˜å¹¶å‘åœºæ™¯ã€‚</li><li><strong>åŠ¨æ€æ¨¡å¼</strong>ï¼šæ”¯æŒåŠ¨æ€æ¨¡å¼ï¼Œæ— éœ€é¢„å…ˆå®šä¹‰è¡¨ç»“æ„ã€‚</li><li><strong>ä¸°å¯Œçš„æŸ¥è¯¢è¯­è¨€</strong>ï¼šæ”¯æŒå¤æ‚çš„æŸ¥è¯¢æ“ä½œï¼Œå¦‚èšåˆã€æ’åºã€åˆ†ç»„ç­‰ã€‚</li><li>å…·å¤‡çµæ´»çš„æ–‡æ¡£æ¨¡å‹ã€å¼ºå¤§çš„æŸ¥è¯¢èƒ½åŠ›å’Œæ°´å¹³æ‰©å±•æ€§ï¼›æ”¯æŒæ•°æ®åˆ†ç‰‡ã€é«˜å¯ç”¨æ€§å’Œåœ°ç†ç©ºé—´ç´¢å¼•ç­‰åŠŸèƒ½</li></ul><p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p><ul><li><p>é€‚ç”¨äºéœ€è¦çµæ´»çš„æ•°æ®æ¨¡å‹ã€å¿«é€Ÿå¼€å‘è¿­ä»£ã€å¤§è§„æ¨¡æ•°æ®å¤„ç†å’Œé«˜å¯ç”¨æ€§éœ€æ±‚çš„åº”ç”¨åœºæ™¯</p></li><li><p>å¦‚å†…å®¹ç®¡ç†ç³»ç»Ÿï¼ˆCMSï¼‰ã€å¤§æ•°æ®åº”ç”¨ã€å®æ—¶åˆ†æä¸æ—¥å¿—æ•°æ®å¤„ç†ã€ç”µå­å•†åŠ¡ç³»ç»Ÿã€ç‰©è”ç½‘ï¼ˆIoTï¼‰åº”ç”¨ã€ç¤¾äº¤ç½‘ç»œå¹³å°å’Œäº‘è®¡ç®—ç­‰</p><ul><li><p><strong>å†…å®¹ç®¡ç†ç³»ç»Ÿ</strong>ï¼šå¦‚åšå®¢ã€æ–°é—»ç½‘ç«™ç­‰ï¼Œéœ€è¦å­˜å‚¨å’Œæ£€ç´¢å¤§é‡éç»“æ„åŒ–æ•°æ®ã€‚</p></li><li><p><strong>å®æ—¶åˆ†æ</strong>ï¼šé€‚åˆå¤„ç†å®æ—¶æ•°æ®æµï¼Œè¿›è¡Œå®æ—¶åˆ†æã€‚</p></li><li><p><strong>ç‰©è”ç½‘</strong>ï¼šå¤„ç†å¤§é‡ä¼ æ„Ÿå™¨æ•°æ®ï¼Œå­˜å‚¨å’Œæ£€ç´¢éç»“æ„åŒ–æ•°æ®ã€‚</p></li><li><p><strong>ç¤¾äº¤åª’ä½“</strong>ï¼šé€‚åˆå­˜å‚¨å’Œæ£€ç´¢ç”¨æˆ·ç”Ÿæˆçš„å†…å®¹ï¼Œå¦‚å¸–å­ã€è¯„è®ºç­‰ã€‚</p></li><li><p><strong>ç¼“å­˜å±‚</strong>ï¼šä½œä¸ºç¼“å­˜å±‚ï¼Œæé«˜åº”ç”¨æ€§èƒ½ã€‚</p></li></ul></li></ul><p>ä½¿ç”¨ MongoDB æ—¶ï¼Œæ•°æ®æ¨¡å¼ä¸æ˜¯å›ºå®šçš„ã€‚åœ¨ä¸€ä¸ªé›†åˆå†…éƒ¨åˆ é™¤æˆ–ä¿®æ”¹æ–‡æ¡£çš„æŸäº›å±æ€§æ˜¯å¯è¡Œçš„ï¼Œè¿™å°±æä¾›äº†å¾ˆå¤§çš„çµæ´»æ€§ã€‚è€Œä¸”ï¼ŒåŒä¸€é›†åˆå†…çš„æ–‡æ¡£ï¼Œå…¶ç»“æ„å¯ä»¥æ˜¯å®Œå…¨ä¸åŒçš„ã€‚</p><p>åœ¨ MongoDB ä¸­ï¼Œæ•°æ®æ˜¯ä»¥ç±»ä¼¼äº JSON æ–‡ä»¶çš„åå€¼å¯¹å½¢å¼å­˜åœ¨çš„ï¼Œå› å…¶æ¨¡å¼è®¾è®¡ï¼Œå®ƒå¯¹æ•°æ®çš„çº¦æŸæ¡ä»¶è¾ƒå°‘ã€‚å› æ­¤å¦‚æœæ•°æ®æ˜¯å¿«é€Ÿå˜åŒ–çš„ï¼ŒMongoDB å°±å¾ˆæœ‰ä¼˜åŠ¿ã€‚å¦å¤–ï¼ŒMongoDB è¿˜æä¾›äº†é¢„å®šä¹‰çš„ç»“æ„ï¼Œå¦‚æœéœ€è¦ä¹Ÿå¯ä»¥ä½¿ç”¨</p><h3 id="52-mysqlä¸mongodbå¯¹æ¯”"><a class="markdownIt-Anchor" href="#52-mysqlä¸mongodbå¯¹æ¯”"></a> 5.2 MySQLä¸MongoDBå¯¹æ¯”</h3><ul><li><p>MongoDB æ˜¯ä¸€ç§æ–‡æ¡£å‹æ•°æ®åº“ï¼Œç”±äºå®ƒä¸é™åˆ¶æ•°æ®é‡å’Œæ•°æ®ç±»å‹ï¼Œå®ƒæ˜¯<strong>é«˜å®¹é‡ç¯å¢ƒ</strong>ä¸‹æœ€åˆé€‚çš„è§£å†³æ–¹æ¡ˆã€‚ç”±äº MongoDB å…·å¤‡äº‘æœåŠ¡éœ€è¦çš„æ°´å¹³å¯ä¼¸ç¼©æ€§å’Œçµæ´»æ€§ï¼Œå®ƒéå¸¸é€‚åˆäº‘è®¡ç®—æœåŠ¡çš„å¼€å‘ã€‚å¦å¤–ï¼Œå®ƒé™ä½äº†è´Ÿè½½ï¼Œç®€åŒ–äº†ä¸šåŠ¡æˆ–é¡¹ç›®å†…éƒ¨çš„æ‰©å±•ï¼Œå®ç°äº†<strong>é«˜å¯ç”¨</strong>å’Œæ•°æ®çš„å¿«é€Ÿæ¢å¤ã€‚</p></li><li><p>å°½ç®¡ MongoDB æœ‰é‚£ä¹ˆå¤šä¼˜ç‚¹ï¼Œä½† <strong>MySQL</strong> ä¹Ÿåœ¨æŸäº›æ–¹é¢ä¼˜äº MongoDBï¼Œä¾‹å¦‚<strong>å¯é æ€§</strong>å’Œ<strong>æ•°æ®ä¸€è‡´æ€§</strong>ã€‚å¦å¤–ï¼Œå¦‚æœä¼˜å…ˆè€ƒè™‘<strong>å®‰å…¨æ€§</strong>ï¼ŒMySQL å°±æ˜¯å®‰å…¨æ€§æœ€é«˜çš„ DBMS ä¹‹ä¸€ã€‚</p></li><li><p>è€Œä¸”ï¼Œå½“åº”ç”¨ç¨‹åºéœ€è¦æŠŠå¤šä¸ªæ“ä½œè§†ä¸ºä¸€ä¸ªäº‹åŠ¡ï¼ˆæ¯”å¦‚ä¼šè®¡æˆ–é“¶è¡Œç³»ç»Ÿï¼‰æ—¶ï¼Œå…³ç³»æ•°æ®åº“æ˜¯æœ€åˆé€‚çš„é€‰æ‹©ã€‚é™¤äº†å®‰å…¨æ€§ï¼ŒMySQL çš„äº‹åŠ¡ç‡ä¹Ÿå¾ˆé«˜ã€‚å®é™…ä¸Šï¼Œ<strong>MongoDB æ”¯æŒå¿«é€Ÿæ’å…¥æ•°æ®ï¼Œè€Œ MySQL ç›¸åï¼Œå®ƒæ”¯æŒäº‹åŠ¡æ“ä½œï¼Œå¹¶å…³æ³¨äº‹åŠ¡å®‰å…¨æ€§</strong>ã€‚</p></li></ul><h2 id="å…­-æ€»ç»“"><a class="markdownIt-Anchor" href="#å…­-æ€»ç»“"></a> å…­ã€æ€»ç»“</h2><h3 id="61-å››ç§æ•°æ®åº“é€‚ç”¨åœºæ™¯"><a class="markdownIt-Anchor" href="#61-å››ç§æ•°æ®åº“é€‚ç”¨åœºæ™¯"></a> 6.1 å››ç§æ•°æ®åº“é€‚ç”¨åœºæ™¯</h3><ul><li><strong>MySQL</strong>ï¼šé€‚åˆä¸­å°å‹ä¼ä¸šã€Webåº”ç”¨ã€OLTPç³»ç»Ÿï¼ˆäº‹åŠ¡å¤„ç†ï¼Œå¯é ã€æ•°æ®ä¸€è‡´æ€§ã€å®‰å…¨æ€§ï¼›å¤æ‚æ¡ä»¶æŸ¥è¯¢è¾ƒå·®ï¼‰</li><li><strong>PostgreSQL</strong>ï¼šé€‚åˆå¤æ‚æŸ¥è¯¢ã€å¤§æ•°æ®é‡ã€ä¼ä¸šçº§åº”ç”¨ã€åœ°ç†ä¿¡æ¯ç³»ç»Ÿ</li><li><strong>ClickHouse</strong>ï¼šé€‚åˆå¤§æ•°æ®åˆ†æã€æ—¥å¿—åˆ†æã€BIç³»ç»Ÿã€ç‰©è”ç½‘ï¼ˆå®æ—¶åˆ†æã€é«˜å¹¶å‘æŸ¥è¯¢ï¼‰</li><li><strong>MongoDB</strong>ï¼šé€‚åˆå†…å®¹ç®¡ç†ç³»ç»Ÿã€å®æ—¶åˆ†æã€ç‰©è”ç½‘ã€ç¤¾äº¤åª’ä½“ã€ç¼“å­˜å±‚ï¼ˆæ•°æ®æ¨¡å‹çµæ´»ï¼Œå¤§è§„æ¨¡æ•°æ®å¤„ç†ï¼‰</li></ul><p>é€‰æ‹©å“ªç§æ•°æ®åº“å–å†³äºä½ çš„å…·ä½“éœ€æ±‚ï¼ŒåŒ…æ‹¬æ•°æ®è§„æ¨¡ã€æŸ¥è¯¢å¤æ‚åº¦ã€æ€§èƒ½è¦æ±‚ã€æ‰©å±•æ€§ç­‰å› ç´ ã€‚</p><h3 id="62-åœºæ™¯ä¸“ç”¨æ•°æ®åº“"><a class="markdownIt-Anchor" href="#62-åœºæ™¯ä¸“ç”¨æ•°æ®åº“"></a> 6.2 åœºæ™¯ä¸“ç”¨æ•°æ®åº“</h3><p>éšç€ä¸šåŠ¡çš„å¤æ‚ï¼Œæˆ‘ä»¬ä¼šå‘ç°ä¸åŒåœºæ™¯ä¸‹å¯¹æ•°æ®åº“çš„è¦æ±‚å·®å¼‚ä¼šå¾ˆå¤§ï¼š</p><ol><li>ä¸€è‡´æ€§ä¼˜å…ˆï¼Œé€‰ç”¨å…³ç³»å‹æ•°æ®åº“ã€‚</li><li>é«˜æ€§èƒ½å…¨æ–‡æœç´¢ï¼Œä½¿ç”¨Elasticsearchã€‚</li><li>éå…³é”®æ•°æ®ï¼Œè¯»å¤šå†™å°‘ï¼Œé‡å¤§ï¼Œé€‰ç”¨åˆ—å¼å­˜å‚¨ã€‚</li><li>ç¦»çº¿æ•°æ®åˆ†æï¼ŒHiveã€‚</li></ol><h3 id="63-è¡¥å……mysqlé‡åˆ°ç“¶é¢ˆ"><a class="markdownIt-Anchor" href="#63-è¡¥å……mysqlé‡åˆ°ç“¶é¢ˆ"></a> 6.3 è¡¥å……â€”â€”MySQLé‡åˆ°ç“¶é¢ˆ</h3><p>å¦‚æœæ˜¯å•æœºMySQLé­é‡æ€§èƒ½ç“¶é¢ˆï¼Œå¯ä»¥é€šè¿‡ä¸»ä»æ¶æ„è¯»å†™åˆ†ç¦»ï¼Œå †æœºå™¨çš„æ–¹å¼è§£å†³ï¼Œå¦ä¸€ä¸ªæ–¹å‘æ˜¯å¢åŠ ç¼“å­˜ï¼Œå¦‚Redisç­‰ï¼Œå‡å°‘æ‰“åˆ°ç‰©ç†å­˜å‚¨çš„è¯·æ±‚é‡ã€‚</p><p>å¦‚æœæ˜¯æ•°æ®é‡å¤ªå¤§ï¼Œå•è¡¨æŸ¥è¯¢æ€§èƒ½ä¸‹é™ï¼Œå¯ä»¥è€ƒè™‘åˆ†åº“åˆ†è¡¨ï¼Œä½†æ˜¯åˆ†åº“åˆ†è¡¨åœ¨å¼€å‘æ—¶éœ€è¦è€ƒè™‘æ›´å¤šåˆ†å¸ƒå¼äº‹åŠ¡ã€æ°´å¹³æ‰©å±•ç­‰å› ç´ ï¼Œå¯¹ç ”å‘æ•ˆç‡æœ‰å½±å“ã€‚å› æ­¤ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥è€ƒè™‘ä½¿ç”¨åˆ†å¸ƒå¼æ•°æ®åº“ï¼Œå¦‚TiDBç­‰ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> PostgreSQL </tag>
            
            <tag> ClickHouse </tag>
            
            <tag> MongoDBåŒºåˆ« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®‰è£…Nvidia-Docker</title>
      <link href="/2024/12/13/Docker/%E5%AE%89%E8%A3%85Nvidia-Docker/"/>
      <url>/2024/12/13/Docker/%E5%AE%89%E8%A3%85Nvidia-Docker/</url>
      
        <content type="html"><![CDATA[<p>Docker å’Œ NVIDIA Dockerï¼ˆnvidia-dockerï¼‰å¯ä»¥åŒæ—¶å­˜åœ¨äºåŒä¸€ç³»ç»Ÿä¸­ï¼Œå¹¶ä¸”é€šå¸¸æ˜¯è¿™æ ·é…ç½®çš„ã€‚<br />NVIDIA Docker æ˜¯åœ¨æ ‡å‡† Docker çš„åŸºç¡€ä¸Šæ·»åŠ çš„ä¸€ä¸ªæ‰©å±•ï¼Œä½¿å¾— Docker å®¹å™¨å¯ä»¥è®¿é—® NVIDIA GPUã€‚</p><h4 id="æ£€æŸ¥-nvidia-docker-ç»„ä»¶æ˜¯å¦å·²å®‰è£…"><a class="markdownIt-Anchor" href="#æ£€æŸ¥-nvidia-docker-ç»„ä»¶æ˜¯å¦å·²å®‰è£…"></a> æ£€æŸ¥ NVIDIA Docker ç»„ä»¶æ˜¯å¦å·²å®‰è£…</h4><ul><li>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æ£€æŸ¥ nvidia-container-toolkit æˆ– nvidia-docker2 æ˜¯å¦å·²å®‰è£…ï¼š</li><li>å¯¹äºUbuntuï¼Œä½¿ç”¨:</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg -l | grep nvidia-docker</span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg -l | grep nvidia-container-toolkit</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¸€äº›å…³äºè¿™ä¸¤è€…å…³ç³»å’Œå®‰è£…æ–¹å¼çš„è¯¦ç»†è§£é‡Šï¼š</p><h4 id="nvidia-docker-æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#nvidia-docker-æ˜¯ä»€ä¹ˆ"></a> NVIDIA Docker æ˜¯ä»€ä¹ˆï¼Ÿ</h4><ul><li>NVIDIA Dockerï¼ˆç‰¹åˆ«æ˜¯ nvidia-docker2 æˆ– NVIDIA Container Toolkitï¼‰ä¸æ˜¯æ›¿ä»£ Docker çš„ç‹¬ç«‹åº”ç”¨ï¼Œè€Œæ˜¯ä¸€å¥—å·¥å…·å’Œæ’ä»¶ï¼Œä½¿å¾— Docker å®¹å™¨èƒ½å¤Ÿä»¥æ”¯æŒ CUDA å’Œå…¶ä»– NVIDIA åº“çš„æ–¹å¼ï¼Œå®‰å…¨åœ°è®¿é—®å®¿ä¸»æœºä¸Šçš„ NVIDIA GPUã€‚è¿™æ˜¯é€šè¿‡ç‰¹æ®Šçš„ runtimeï¼Œå³ nvidia-container-runtime å®ç°çš„ã€‚</li></ul><h4 id="å®‰è£…-nvidia-docker"><a class="markdownIt-Anchor" href="#å®‰è£…-nvidia-docker"></a> å®‰è£… NVIDIA Docker</h4><ul><li><p>åœ¨å·²æœ‰ Docker çš„ç³»ç»Ÿä¸Šå®‰è£… NVIDIA Docker å®é™…ä¸Šå°±æ˜¯åœ¨å®‰è£…ä¸€ä¸ªé¢å¤–çš„ç»„ä»¶ï¼Œè€Œä¸æ˜¯æ›¿æ¢æˆ–ç§»é™¤ç°æœ‰çš„ Docker å®‰è£…ã€‚ä»¥ä¸‹æ˜¯å®‰è£…æ­¥éª¤çš„æ¦‚è§ˆï¼š</p></li><li><h5 id="1ç¡®è®¤-docker-å·²å®‰è£…"><a class="markdownIt-Anchor" href="#1ç¡®è®¤-docker-å·²å®‰è£…"></a> 1.ç¡®è®¤ Docker å·²å®‰è£…ï¼š</h5></li><li><p>ç¡®ä¿ Docker å·²ç»å®‰è£…å¹¶è¿è¡Œåœ¨ä½ çš„ç³»ç»Ÿä¸Šã€‚å¯ä»¥é€šè¿‡è¿è¡Œ docker version æ¥æ£€æŸ¥ã€‚</p></li><li><h5 id="2å®‰è£…-nvidia-container-toolkit"><a class="markdownIt-Anchor" href="#2å®‰è£…-nvidia-container-toolkit"></a> 2.å®‰è£… NVIDIA Container Toolkitï¼š</h5></li><li><p>å®‰è£… NVIDIA Container Toolkitï¼Œä»¥ä¾¿ Docker å¯ä»¥ä½¿ç”¨ NVIDIA GPUã€‚å®‰è£…å‘½ä»¤å–å†³äºä½ çš„æ“ä½œç³»ç»Ÿï¼Œä¸€èˆ¬éœ€è¦æ·»åŠ  NVIDIA çš„ä»“åº“å¹¶å®‰è£… nvidia-docker2 åŒ…ï¼š</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">distribution=$(. /etc/os-release;echo $ID$VERSION_ID) curl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo apt-key add - curl -s -L https://nvidia.github.io/nvidia-docker/$distribution/nvidia-docker.list | sudo tee /etc/apt/sources.list.d/nvidia-docker.list sudo apt-get update sudo apt-get install -y nvidia-docker2 sudo systemctl restart docker</span><br></pre></td></tr></table></figure><ul><li><h5 id="3éªŒè¯-nvidia-docker-å®‰è£…"><a class="markdownIt-Anchor" href="#3éªŒè¯-nvidia-docker-å®‰è£…"></a> 3.éªŒè¯ NVIDIA Docker å®‰è£…ï¼š</h5></li><li><p>å®‰è£…å®Œæˆåï¼Œä½ å¯ä»¥é€šè¿‡è¿è¡Œä¸€ä¸ªæµ‹è¯•å‘½ä»¤æ¥éªŒè¯ NVIDIA GPU çš„é›†æˆï¼š</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --rm --gpus all nvidia/cuda:11.0-base nvidia-smi</span><br></pre></td></tr></table></figure><h4 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h4><ul><li><strong>Docker å’Œ NVIDIA Docker</strong> æ˜¯å¯ä»¥å¹¶ä¸”é€šå¸¸ä¼šä¸€èµ·å®‰è£…åœ¨åŒä¸€ä¸ªç³»ç»Ÿä¸Šçš„ã€‚NVIDIA Docker ä¾èµ–äºæ™®é€šçš„ Docker æœåŠ¡ï¼Œå¹¶æ‰©å±•å…¶åŠŸèƒ½ï¼Œä½¿å…¶èƒ½å¤Ÿç®¡ç† GPU èµ„æºã€‚</li><li><strong>ç‹¬ç«‹å®‰è£…</strong>ï¼šæ²¡æœ‰å¿…è¦å•ç‹¬å®‰è£… NVIDIA Dockerï¼Œå› ä¸ºå®ƒæ˜¯ä½œä¸º Docker çš„ä¸€ä¸ªæ‰©å±•è€Œå­˜åœ¨çš„ã€‚ä½ åªéœ€è¦åœ¨å·²å®‰è£… Docker çš„åŸºç¡€ä¸Šæ·»åŠ  NVIDIA Docker ç»„ä»¶ã€‚</li></ul><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br />åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/qq_44702930/article/details/138953253">https://blog.csdn.net/qq_44702930/article/details/138953253</a></p>]]></content>
      
      
      <categories>
          
          <category> è™šæ‹ŸåŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dockerä¸­å›¾å½¢åŒ–ç•Œé¢çš„è½¬å‘</title>
      <link href="/2024/12/13/Docker/docker%E4%B8%AD%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2%E7%9A%84%E8%BD%AC%E5%8F%91/"/>
      <url>/2024/12/13/Docker/docker%E4%B8%AD%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2%E7%9A%84%E8%BD%AC%E5%8F%91/</url>
      
        <content type="html"><![CDATA[<p>åœ¨Dockerä¸­é»˜è®¤æƒ…å†µä¸‹æ˜¯æ²¡æœ‰å›¾å½¢åŒ–ç•Œé¢çš„ï¼Œå› ä¸ºDockerä¸»è¦æ˜¯ä¸ºæ— å¤´ï¼ˆheadlessï¼‰ç¯å¢ƒè®¾è®¡çš„ã€‚å¦‚æœæƒ³åœ¨Dockerå®¹å™¨ä¸­è¿è¡Œå›¾å½¢åŒ–ç¨‹åºï¼Œå¹¶ä¸”å¸Œæœ›è¿™äº›ç¨‹åºçš„çª—å£æ˜¾ç¤ºåœ¨å®¿ä¸»æœºä¸Šï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼å®ç°ã€‚</p><h2 id="ä¸€-ä½¿ç”¨x11è½¬å‘é€‚ç”¨äºlinuxç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#ä¸€-ä½¿ç”¨x11è½¬å‘é€‚ç”¨äºlinuxç³»ç»Ÿ"></a> ä¸€ã€ ä½¿ç”¨X11è½¬å‘ï¼ˆé€‚ç”¨äºLinuxç³»ç»Ÿï¼‰</h2><p>Linuxç³»ç»Ÿä¸­é€šå¸¸ä½¿ç”¨X11ä½œä¸ºæ˜¾ç¤ºæœåŠ¡å™¨ï¼Œå¯ä»¥é€šè¿‡X11è½¬å‘æ¥å°†å®¹å™¨å†…çš„å›¾å½¢åŒ–ç¨‹åºçª—å£æ˜¾ç¤ºåˆ°å®¿ä¸»æœºä¸Š</p><ul><li><strong>1.å…è®¸å®¿ä¸»æœºçš„X11è¿æ¥</strong>ï¼š<ul><li>åœ¨å®¿ä¸»æœºä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå…è®¸X11æ¥å—æ¥è‡ªDockerå®¹å™¨çš„è¿æ¥</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xhost +</span><br></pre></td></tr></table></figure><ul><li>æ³¨æ„ï¼š<code>xhost +</code> ä¼šå…è®¸ä»»ä½•å®¢æˆ·ç«¯è®¿é—®å®¿ä¸»æœºçš„XæœåŠ¡å™¨ï¼Œå¯èƒ½å­˜åœ¨å®‰å…¨é£é™©ã€‚ä¸ºäº†æ›´å®‰å…¨çš„æ“ä½œï¼Œå¯ä»¥æŒ‡å®šç‰¹å®šçš„ä¸»æœºï¼Œä¾‹å¦‚ï¼š</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xhost +local:docker</span><br></pre></td></tr></table></figure><ul><li><strong>2.è¿è¡ŒDockerå®¹å™¨å¹¶è®¾ç½®DISPLAYå˜é‡</strong>ï¼š<ul><li>åœ¨è¿è¡Œå®¹å™¨æ—¶ï¼Œéœ€è¦å°†å®¿ä¸»æœºçš„X11 socketç›®å½•æ˜ å°„åˆ°å®¹å™¨å†…ï¼Œå¹¶è®¾ç½®<code>DISPLAY</code>å˜é‡ï¼ŒæŒ‡å®šå®¿ä¸»æœºçš„Xæ˜¾ç¤ºæœåŠ¡</li></ul></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --<span class="built_in">rm</span> \</span><br><span class="line">  -e DISPLAY=<span class="variable">$DISPLAY</span> \</span><br><span class="line">  -v /tmp/.X11-unix:/tmp/.X11-unix \</span><br><span class="line">  my_ros_image</span><br></pre></td></tr></table></figure><ul><li><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>-e DISPLAY=$DISPLAY</code>ï¼šå°†å®¿ä¸»æœºçš„<code>DISPLAY</code>ç¯å¢ƒå˜é‡ä¼ é€’ç»™Dockerå®¹å™¨ï¼Œä½¿å®¹å™¨å†…ç¨‹åºçŸ¥é“åº”è¯¥å°†çª—å£æ˜¾ç¤ºåœ¨å“ªä¸ªå±å¹•ä¸Šã€‚</li><li><code>-v /tmp/.X11-unix:/tmp/.X11-unix</code>ï¼šå°†å®¿ä¸»æœºçš„X11 socketç›®å½•æ˜ å°„åˆ°å®¹å™¨å†…ï¼Œä»¥ä¾¿å®¹å™¨èƒ½å¤Ÿä¸å®¿ä¸»æœºçš„XæœåŠ¡å™¨é€šä¿¡ã€‚</li></ul></li><li><p><strong>3. å¯åŠ¨å›¾å½¢åŒ–ç¨‹åº</strong>ï¼š</p><ul><li>è¿›å…¥å®¹å™¨åï¼Œå¯åŠ¨å›¾å½¢åŒ–ç¨‹åºï¼ˆå¦‚<code>rviz</code>ã€<code>gazebo</code>ç­‰ï¼‰ï¼Œå®ƒçš„çª—å£å°†æ˜¾ç¤ºåœ¨å®¿ä¸»æœºçš„æ¡Œé¢ä¸Šã€‚</li></ul></li></ul><h5 id="æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#æ³¨æ„äº‹é¡¹"></a> æ³¨æ„äº‹é¡¹ï¼š</h5><ul><li>å®¹å™¨å’Œå®¿ä¸»æœºçš„XæœåŠ¡å™¨ä¹‹é—´éœ€è¦æƒé™åŒ¹é…ï¼Œå¦åˆ™å¯èƒ½å‡ºç°â€œæ‹’ç»è¿æ¥â€çš„é”™è¯¯ã€‚</li><li><code>xhost +</code>å…è®¸æ‰€æœ‰å®¢æˆ·ç«¯è®¿é—®XæœåŠ¡å™¨ï¼Œå¯èƒ½æœ‰å®‰å…¨éšæ‚£ã€‚å¦‚æœåœ¨å¤šç”¨æˆ·ç³»ç»Ÿä¸­ä½¿ç”¨ï¼Œå»ºè®®å¯ç”¨<code>xhost +local:</code>è¿™ç§æ›´å®‰å…¨çš„æ–¹å¼ã€‚</li></ul><h2 id="äºŒ-ä½¿ç”¨vncé€‚ç”¨äºæ‰€æœ‰å¹³å°"><a class="markdownIt-Anchor" href="#äºŒ-ä½¿ç”¨vncé€‚ç”¨äºæ‰€æœ‰å¹³å°"></a> äºŒã€ä½¿ç”¨VNCï¼ˆé€‚ç”¨äºæ‰€æœ‰å¹³å°ï¼‰</h2><p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯Windowsã€macOSæˆ–ä½ ä¸æƒ³ä¾èµ–X11è½¬å‘ï¼Œå¯ä»¥é€šè¿‡VNCï¼ˆè™šæ‹Ÿç½‘ç»œè®¡ç®—ï¼‰åœ¨å®¹å™¨ä¸­è¿è¡Œå›¾å½¢åŒ–ç•Œé¢ï¼Œå¹¶é€šè¿‡VNCå®¢æˆ·ç«¯åœ¨å®¿ä¸»æœºä¸Šè®¿é—®å›¾å½¢åŒ–ç•Œé¢ã€‚</p><ul><li><strong>1.åœ¨Dockeré•œåƒä¸­å®‰è£…VNCæœåŠ¡</strong>ï¼š<ul><li>é¦–å…ˆéœ€è¦åœ¨Dockeré•œåƒä¸­å®‰è£…VNCæœåŠ¡å™¨å’Œä¸€ä¸ªæ¡Œé¢ç¯å¢ƒï¼Œä¾‹å¦‚XFCE4ã€‚å¯ä»¥åœ¨Dockerfileä¸­è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š</li></ul></li></ul><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> ubuntu:<span class="number">18.04</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apt-get update &amp;&amp; apt-get install -y \</span></span><br><span class="line"><span class="language-bash">  xfce4 \</span></span><br><span class="line"><span class="language-bash">  xfce4-goodies \</span></span><br><span class="line"><span class="language-bash">  tightvncserver \</span></span><br><span class="line"><span class="language-bash">  &amp;&amp; apt-get clean</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®VNCå¯åŠ¨è„šæœ¬ </span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">mkdir</span> ~/.vnc &amp;&amp; \</span></span><br><span class="line"><span class="language-bash">    <span class="built_in">echo</span> <span class="string">&quot;xfce4-session &amp;&quot;</span> &gt; ~/.vnc/xstartup &amp;&amp; \</span></span><br><span class="line"><span class="language-bash"><span class="built_in">chmod</span> +x ~/.vnc/xstartup</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;vncserver&quot;</span>, <span class="string">&quot;:1&quot;</span>, <span class="string">&quot;-geometry&quot;</span>, <span class="string">&quot;1280x1024&quot;</span>, <span class="string">&quot;-depth&quot;</span>, <span class="string">&quot;24&quot;</span>]</span></span><br></pre></td></tr></table></figure><ul><li><strong>2.å¯åŠ¨Dockerå®¹å™¨</strong>ï¼š<ul><li>æ„å»ºé•œåƒå¹¶è¿è¡Œå®¹å™¨ï¼š</li></ul></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker build -t my_vnc_ros_image .</span><br><span class="line">docker run -p 5901:5901 my_vnc_ros_image</span><br></pre></td></tr></table></figure><ul><li><p>è¿™æ ·ä¼šå°†å®¹å™¨ä¸­çš„VNCæœåŠ¡æ˜ å°„åˆ°å®¿ä¸»æœºçš„5901ç«¯å£ã€‚</p></li><li><p><strong>3.åœ¨å®¿ä¸»æœºä¸Šä½¿ç”¨VNCå®¢æˆ·ç«¯è¿æ¥</strong>ï¼š</p><ul><li>ä½¿ç”¨VNCå®¢æˆ·ç«¯ï¼ˆå¦‚<code>RealVNC</code>æˆ–<code>TigerVNC</code>ï¼‰ï¼Œè¿æ¥åˆ°å®¿ä¸»æœºçš„<code>localhost:5901</code>ï¼Œä½ å°±å¯ä»¥çœ‹åˆ°å®¹å™¨å†…çš„å›¾å½¢åŒ–ç•Œé¢ã€‚</li></ul></li></ul><h5 id="ä¼˜ç‚¹"><a class="markdownIt-Anchor" href="#ä¼˜ç‚¹"></a> ä¼˜ç‚¹ï¼š</h5><ul><li>è¿™ç§æ–¹å¼è·¨å¹³å°ï¼ˆWindowsã€macOSã€Linuxï¼‰éƒ½å¯ç”¨ï¼Œä¸ä¾èµ–å®¿ä¸»æœºçš„æ˜¾ç¤ºç³»ç»Ÿï¼ˆå¦‚X11ï¼‰ã€‚</li><li>VNCå¯ä»¥æä¾›ä¸€ä¸ªå®Œæ•´çš„è™šæ‹Ÿæ¡Œé¢ç¯å¢ƒã€‚</li></ul><h2 id="ä¸‰-ä½¿ç”¨xpraæ— ç¼æ¨¡å¼é€‚ç”¨äºlinuxå’Œmacos"><a class="markdownIt-Anchor" href="#ä¸‰-ä½¿ç”¨xpraæ— ç¼æ¨¡å¼é€‚ç”¨äºlinuxå’Œmacos"></a> ä¸‰ã€ä½¿ç”¨Xpraï¼ˆæ— ç¼æ¨¡å¼ï¼Œé€‚ç”¨äºLinuxå’ŒmacOSï¼‰</h2><p>Xpraæ˜¯ä¸€ç§â€œæ— ç¼â€è¿œç¨‹æ¡Œé¢å·¥å…·ï¼Œå®ƒå…è®¸å°†å®¹å™¨å†…çš„å›¾å½¢åŒ–åº”ç”¨æ˜¾ç¤ºä¸ºå®¿ä¸»æœºä¸Šçš„ç‹¬ç«‹çª—å£ï¼Œè€Œä¸éœ€è¦æ•´ä¸ªæ¡Œé¢ç¯å¢ƒã€‚ç›¸æ¯”VNCï¼ŒXpraæ›´è½»é‡ï¼Œä¸”åœ¨Linuxå’ŒmacOSä¸Šä½¿ç”¨è¾ƒä¸ºæ–¹ä¾¿ã€‚</p><ul><li><strong>1.åœ¨Dockeré•œåƒä¸­å®‰è£…Xpra</strong>ï¼š<ul><li>åœ¨Dockerfileä¸­æ·»åŠ å®‰è£…Xpraçš„æŒ‡ä»¤ï¼š</li></ul></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RUN apt-get update &amp;&amp; apt-get install -y xpra</span><br></pre></td></tr></table></figure><ul><li><strong>2.å¯åŠ¨XpraæœåŠ¡å™¨</strong>ï¼š<ul><li>è¿è¡Œå®¹å™¨æ—¶ï¼Œå¯åŠ¨XpraæœåŠ¡å™¨å¹¶æ˜ å°„ç«¯å£ï¼š</li></ul></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --<span class="built_in">rm</span> \</span><br><span class="line">  -e DISPLAY=:14 \</span><br><span class="line">  -p 14500:14500 \</span><br><span class="line">  my_xpra_ros_image xpra start :14 --bind-tcp=0.0.0.0:14500 --no-daemon</span><br></pre></td></tr></table></figure><ul><li><strong>3.åœ¨å®¿ä¸»æœºä¸Šå®‰è£…Xpraå®¢æˆ·ç«¯</strong>ï¼š<ul><li>å®‰è£…Xpraå®¢æˆ·ç«¯åï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤è¿æ¥åˆ°å®¹å™¨ï¼š</li></ul></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xpra attach tcp:localhost:14500</span><br></pre></td></tr></table></figure><ul><li>æ­¤æ—¶å¯ä»¥åœ¨å®¿ä¸»æœºä¸Šä»¥çª—å£å½¢å¼çœ‹åˆ°å®¹å™¨ä¸­çš„å›¾å½¢åŒ–ç¨‹åºã€‚</li></ul><h5 id="ä¼˜ç‚¹-2"><a class="markdownIt-Anchor" href="#ä¼˜ç‚¹-2"></a> ä¼˜ç‚¹ï¼š</h5><ul><li>Xpraæ˜¯æ— ç¼çš„ï¼Œä¸åƒVNCé‚£æ ·éœ€è¦è™šæ‹Ÿæ¡Œé¢ï¼Œå®ƒå¯ä»¥åœ¨å®¿ä¸»æœºä¸Šæ˜¾ç¤ºä¸ºç‹¬ç«‹çš„çª—å£ã€‚</li><li>æ”¯æŒLinuxå’ŒmacOSï¼Œé€‚åˆå›¾å½¢åŒ–åº”ç”¨çš„å¼€å‘å’Œè°ƒè¯•ã€‚</li></ul><h2 id="å››-ä½¿ç”¨x11è½¬å‘åˆ°windowsé€‚ç”¨äºwindowsç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#å››-ä½¿ç”¨x11è½¬å‘åˆ°windowsé€‚ç”¨äºwindowsç³»ç»Ÿ"></a> å››ã€ä½¿ç”¨X11è½¬å‘åˆ°Windowsï¼ˆé€‚ç”¨äºWindowsç³»ç»Ÿï¼‰</h2><p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯Windowsï¼Œå¯ä»¥å®‰è£…X11æœåŠ¡å™¨ï¼ˆå¦‚Xmingæˆ–VcXsrvï¼‰æ¥æ¥æ”¶Dockerå®¹å™¨çš„å›¾å½¢åŒ–è¾“å‡ºã€‚</p><ul><li><strong>1.å®‰è£…Xmingæˆ–VcXsrv</strong>ï¼š<ul><li>ä¸‹è½½å¹¶å®‰è£…Xmingæˆ–VcXsrvï¼Œç¡®ä¿å…¶åœ¨è¿è¡Œå¹¶ä¸”ç›‘å¬X11è¿æ¥ã€‚</li></ul></li><li><strong>2.é…ç½®ç¯å¢ƒå˜é‡</strong>ï¼š<ul><li>åœ¨Windowsçš„<code>CMD</code>æˆ–<code>PowerShell</code>ä¸­ï¼Œæ‰¾åˆ°Xming/VcXsrvçš„IPåœ°å€ï¼Œé€šå¸¸æ˜¯<code>localhost</code>æˆ–è€…<code>172.17.0.1</code>ã€‚</li><li>å°†ç¯å¢ƒå˜é‡<code>DISPLAY</code>è®¾ç½®ä¸ºè¯¥IPåœ°å€åŠ ä¸Š<code>:0</code>ï¼ˆä¾‹å¦‚<code>DISPLAY=172.17.0.1:0</code>ï¼‰ã€‚</li></ul></li><li><strong>3.è¿è¡ŒDockerå®¹å™¨å¹¶è®¾ç½®DISPLAY</strong>ï¼š<ul><li>ä½¿ç”¨ç±»ä¼¼äºLinuxçš„X11è½¬å‘æ–¹æ³•ï¼Œå°†<code>DISPLAY</code>å’ŒX11 socketä¼ é€’ç»™å®¹å™¨ï¼š```</li></ul></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --<span class="built_in">rm</span> \</span><br><span class="line">  -e DISPLAY=172.17.0.1:0 \</span><br><span class="line">  -v /tmp/.X11-unix:/tmp/.X11-unix \</span><br><span class="line">  my_ros_image</span><br></pre></td></tr></table></figure><ul><li><strong>4.è¿è¡Œå›¾å½¢åŒ–ç¨‹åº</strong>ï¼š<ul><li>å›¾å½¢åŒ–ç¨‹åºçš„çª—å£åº”è¯¥ä¼šæ˜¾ç¤ºåœ¨Windowsçš„æ¡Œé¢ä¸Šã€‚</li></ul></li></ul><h2 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h2><ul><li><strong>X11è½¬å‘</strong>ï¼šé€‚åˆLinuxå’ŒmacOSç³»ç»Ÿï¼Œä¾èµ–å®¿ä¸»æœºçš„X11æœåŠ¡å™¨ã€‚</li><li><strong>VNC</strong>ï¼šè·¨å¹³å°ï¼Œé€‚åˆéœ€è¦å®Œæ•´æ¡Œé¢ç¯å¢ƒçš„åœºæ™¯ã€‚</li><li><strong>Xpra</strong>ï¼šè½»é‡ä¸”æ— ç¼æ˜¾ç¤ºï¼Œé€‚åˆLinuxå’ŒmacOSï¼Œç‹¬ç«‹çª—å£æ˜¾ç¤ºã€‚</li><li><strong>Windows X11è½¬å‘</strong>ï¼šéœ€è¦Xmingæˆ–VcXsrvç­‰å·¥å…·ã€‚</li></ul><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br />åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/m0_55127902/article/details/142370039">https://blog.csdn.net/m0_55127902/article/details/142370039</a></p>]]></content>
      
      
      <categories>
          
          <category> è™šæ‹ŸåŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Fast DDSå…¥é—¨-Fast DDSä»‹ç»</title>
      <link href="/2024/12/06/DDS/Fast%20DDS%E5%85%A5%E9%97%A8-Fast%20DDS%E4%BB%8B%E7%BB%8D/"/>
      <url>/2024/12/06/DDS/Fast%20DDS%E5%85%A5%E9%97%A8-Fast%20DDS%E4%BB%8B%E7%BB%8D/</url>
      
        <content type="html"><![CDATA[<h3 id="1-å‰è¨€"><a class="markdownIt-Anchor" href="#1-å‰è¨€"></a> 1 å‰è¨€</h3><p>Fast DDSæ˜¯DDSï¼ˆæ•°æ®åˆ†å‘æœåŠ¡ï¼‰è§„èŒƒçš„C++å®ç°ï¼ŒDDSæ˜¯ç”±å¯¹è±¡ç®¡ç†ç»„ï¼ˆOMGï¼‰å®šä¹‰çš„åè®®ã€‚Fast DDSåº“æä¾›åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼ˆAPIï¼‰å’Œé€šä¿¡åè®®ï¼Œç”¨äºéƒ¨ç½²ä»¥æ•°æ®ä¸ºä¸­å¿ƒçš„å‘å¸ƒ-è®¢é˜…ï¼ˆDCPSï¼‰æ¨¡å‹ï¼Œç›®çš„æ˜¯åœ¨å®æ—¶ç³»ç»Ÿä¹‹é—´å»ºç«‹é«˜æ•ˆå¯é çš„ä¿¡æ¯åˆ†å‘ã€‚Fast DDSåœ¨èµ„æºå¤„ç†æ–¹é¢å…·æœ‰å¯é¢„æµ‹æ€§ã€å¯æ‰©å±•æ€§ã€çµæ´»æ€§å’Œé«˜æ•ˆæ€§ã€‚ä¸ºäº†æ»¡è¶³è¿™äº›è¦æ±‚ï¼Œå®ƒä½¿ç”¨äº†ç±»å‹åŒ–æ¥å£ï¼Œå¹¶ä¾èµ–äºä¸€ä¸ªå¤šå¯¹å¤šçš„åˆ†å¸ƒå¼ç½‘ç»œèŒƒä¾‹ï¼Œè¯¥èŒƒä¾‹å·§å¦™åœ°å…è®¸å°†é€šä¿¡çš„å‘å¸ƒæ–¹å’Œè®¢é˜…æ–¹åˆ†ç¦»ã€‚Fast DDSåŒ…æ‹¬ï¼š</p><ul><li><p>DDS APIå®ç°ã€‚</p></li><li><p>Fast DDS-Genï¼Œä¸€ç§ç”¨äºæ¡¥æ¥ç±»å‹åŒ–æ¥å£å’Œä¸­é—´ä»¶å®ç°çš„ç”Ÿæˆå·¥å…·ã€‚</p></li><li><p>åº•å±‚RTPSæœ‰çº¿åè®®å®ç°ã€‚</p></li></ul><p>é™¤äº†ä»¥ä¸Šå†…å®¹ï¼ŒFast DDSå·²è¢«é€‰ä¸ºRobot Operating System 2ï¼ˆROS 2ï¼‰åœ¨æ¯ä¸ªé•¿æœŸï¼ˆLTSï¼‰ç‰ˆæœ¬å’Œå¤§å¤šæ•°éLTSç‰ˆæœ¬ä¸­æ”¯æŒçš„é»˜è®¤ä¸­é—´ä»¶ã€‚</p><h3 id="2-ä»€ä¹ˆæ˜¯dds"><a class="markdownIt-Anchor" href="#2-ä»€ä¹ˆæ˜¯dds"></a> 2 ä»€ä¹ˆæ˜¯DDS</h3><p>æ•°æ®åˆ†å‘æœåŠ¡ï¼ˆDDSï¼‰æ˜¯ä¸€ç§ç”¨äºåˆ†å¸ƒå¼è½¯ä»¶åº”ç”¨ç¨‹åºé€šä¿¡çš„ä»¥æ•°æ®ä¸ºä¸­å¿ƒçš„é€šä¿¡åè®®ã€‚å®ƒæè¿°äº†å®ç°æ•°æ®æä¾›è€…å’Œæ•°æ®ä½¿ç”¨è€…ä¹‹é—´é€šä¿¡çš„é€šä¿¡åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼ˆAPIï¼‰å’Œé€šä¿¡è¯­ä¹‰ã€‚</p><p>ç”±äºå®ƒæ˜¯ä¸€ä¸ªä»¥æ•°æ®ä¸ºä¸­å¿ƒçš„å‘å¸ƒ-è®¢é˜…ï¼ˆDCPSï¼‰æ¨¡å‹ï¼Œå› æ­¤åœ¨å…¶å®ç°ä¸­å®šä¹‰äº†ä¸‰ä¸ªå…³é”®åº”ç”¨ç¨‹åºå®ä½“ï¼šå‘å¸ƒå®ä½“ï¼Œå®ƒå®šä¹‰äº†ä¿¡æ¯ç”Ÿæˆå¯¹è±¡åŠå…¶è´¢äº§ï¼›è®¢é˜…å®ä½“ï¼Œå®šä¹‰ä¿¡æ¯æ¶ˆè´¹å¯¹è±¡åŠå…¶è´¢äº§ï¼›å’Œé…ç½®å®ä½“ï¼Œå®ƒä»¬å®šä¹‰ä½œä¸ºä¸»é¢˜ä¼ è¾“çš„ä¿¡æ¯ç±»å‹ï¼Œå¹¶ä½¿ç”¨å…¶æœåŠ¡è´¨é‡ï¼ˆQoSï¼‰è´¢äº§åˆ›å»ºå‘å¸ƒè€…å’Œè®¢é˜…è€…ï¼Œä»¥ç¡®ä¿ä¸Šè¿°å®ä½“çš„æ­£ç¡®æ€§èƒ½ã€‚</p><p>DDSä½¿ç”¨QoSæ¥å®šä¹‰DDSå®ä½“çš„è¡Œä¸ºç‰¹å¾ã€‚QoSç”±å„ä¸ªQoSç­–ç•¥ï¼ˆä»QoSPolicyæ´¾ç”Ÿçš„ç±»å‹çš„å¯¹è±¡ï¼‰ç»„æˆã€‚ç­–ç•¥ä¸­å¯¹æ­¤è¿›è¡Œäº†æè¿°ã€‚</p><p>åœ¨DCPSæ¨¡å‹ä¸­ï¼Œä¸ºé€šä¿¡åº”ç”¨ç¨‹åºç³»ç»Ÿçš„å¼€å‘å®šä¹‰äº†å››ä¸ªåŸºæœ¬è¦ç´ ã€‚</p><p>å‘å¸ƒè€…æ˜¯è´Ÿè´£åˆ›å»ºå’Œé…ç½®å…¶å®ç°çš„DataWriterçš„DCPSå®ä½“ã€‚DataWriteræ˜¯è´Ÿè´£å®é™…å‘å¸ƒæ¶ˆæ¯çš„å®ä½“ã€‚æ¯ä¸ªäººéƒ½å°†æœ‰ä¸€ä¸ªæŒ‡å®šçš„ä¸»é¢˜ï¼Œåœ¨è¯¥ä¸»é¢˜ä¸‹å‘å¸ƒæ¶ˆæ¯ã€‚</p><p>è®¢é˜…è€…æ˜¯è´Ÿè´£æ¥æ”¶åœ¨å…¶è®¢é˜…çš„ä¸»é¢˜ä¸‹å‘å¸ƒçš„æ•°æ®çš„DCPSå®ä½“ã€‚å®ƒæœåŠ¡äºä¸€ä¸ªæˆ–å¤šä¸ªDataReaderå¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡è´Ÿè´£å‘åº”ç”¨ç¨‹åºä¼ é€’æ–°æ•°æ®çš„å¯ç”¨æ€§ã€‚</p><p>ä¸»é¢˜æ˜¯ç»‘å®šå‘å¸ƒå’Œè®¢é˜…çš„å®ä½“ã€‚å®ƒåœ¨DDSåŸŸä¸­æ˜¯å”¯ä¸€çš„ã€‚é€šè¿‡TopicDescriptionï¼Œå®ƒå¯ä»¥ç»Ÿä¸€å‘å¸ƒå’Œè®¢é˜…çš„æ•°æ®ç±»å‹ã€‚</p><p>é¢†åŸŸè¿™æ˜¯ç”¨äºé“¾æ¥å±äºä¸€ä¸ªæˆ–å¤šä¸ªåº”ç”¨ç¨‹åºçš„æ‰€æœ‰å‘å¸ƒè€…å’Œè®¢é˜…è€…çš„æ¦‚å¿µï¼Œè¿™äº›åº”ç”¨ç¨‹åºåœ¨ä¸åŒä¸»é¢˜ä¸‹äº¤æ¢æ•°æ®ã€‚è¿™äº›å‚ä¸åŸŸçš„å•ç‹¬åº”ç”¨ç¨‹åºç§°ä¸ºDomainParticipantã€‚DDSåŸŸç”±åŸŸIDæ ‡è¯†ã€‚DomainParticipantå®šä¹‰åŸŸIDä»¥æŒ‡å®šå…¶æ‰€å±çš„DDSåŸŸã€‚å…·æœ‰ä¸åŒIDçš„ä¸¤ä¸ªDomainParticipantä¸çŸ¥é“ç½‘ç»œä¸­å½¼æ­¤çš„å­˜åœ¨ã€‚å› æ­¤ï¼Œå¯ä»¥åˆ›å»ºå‡ ä¸ªé€šä¿¡ä¿¡é“ã€‚è¿™é€‚ç”¨äºæ¶‰åŠå¤šä¸ªDDSåº”ç”¨ç¨‹åºçš„åœºæ™¯ï¼Œå®ƒä»¬å„è‡ªçš„DomainParticipantå½¼æ­¤é€šä¿¡ï¼Œä½†è¿™äº›åº”ç”¨ç¨‹åºä¸å¾—å¹²æ‰°ã€‚DomainParticipantå……å½“å…¶ä»–DCPSå®ä½“çš„å®¹å™¨ï¼Œå……å½“å‘å¸ƒè€…ã€è®¢é˜…è€…å’Œä¸»é¢˜å®ä½“çš„å·¥å‚ï¼Œå¹¶åœ¨åŸŸä¸­æä¾›ç®¡ç†æœåŠ¡ã€‚</p><p>è¿™äº›å…ƒç´ å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="0c8e08a1967e7a65491c84702ad7eddd.bmp" alt="" /></p><p>DDSåŸŸä¸­çš„DCPSæ¨¡å‹å®ä½“</p><h3 id="3-ä»€ä¹ˆæ˜¯rtps"><a class="markdownIt-Anchor" href="#3-ä»€ä¹ˆæ˜¯rtps"></a> 3 ä»€ä¹ˆæ˜¯RTPS</h3><p>å®æ—¶å‘å¸ƒè®¢é˜…ï¼ˆRTPSï¼‰åè®®æ˜¯ä¸ºæ”¯æŒDDSåº”ç”¨ç¨‹åºè€Œå¼€å‘çš„ï¼Œæ˜¯ä¸€ç§åŸºäºå°½åŠ›ä¼ è¾“ï¼ˆå¦‚UDP/IPï¼‰çš„å‘å¸ƒè®¢é˜…é€šä¿¡ä¸­é—´ä»¶ã€‚æ­¤å¤–ï¼ŒFast DDSè¿˜æ”¯æŒTCPå’Œå…±äº«å†…å­˜ï¼ˆSHMï¼‰ä¼ è¾“ã€‚</p><p>RTPSè®¾è®¡ä¸ºæ”¯æŒå•æ’­å’Œå¤šæ’­é€šä¿¡ã€‚</p><p>RTPSç»§æ‰¿è‡ªDDSï¼Œå¯ä»¥æ‰¾åˆ°åŸŸçš„æ¦‚å¿µï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªå•ç‹¬çš„é€šä¿¡å¹³é¢ã€‚å¤šä¸ªåŸŸå¯ä»¥åŒæ—¶ç‹¬ç«‹å…±å­˜ã€‚åŸŸåŒ…å«ä»»æ„æ•°é‡çš„RTPSPå‚ä¸è€…ï¼Œå³èƒ½å¤Ÿå‘é€å’Œæ¥æ”¶æ•°æ®çš„å…ƒç´ ã€‚ä¸ºæ­¤ï¼ŒRTPSPå‚ä¸è€…ä½¿ç”¨å…¶ç«¯ç‚¹ï¼š</p><p>RTPSWriterï¼šèƒ½å¤Ÿå‘é€æ•°æ®çš„ç«¯ç‚¹ã€‚</p><p>RTPSReaderï¼šèƒ½å¤Ÿæ¥æ”¶æ•°æ®çš„ç«¯ç‚¹ã€‚</p><p>RTPSParticipantå¯ä»¥æœ‰ä»»æ„æ•°é‡çš„ç¼–å†™å™¨å’Œè¯»å–å™¨ç«¯ç‚¹ã€‚</p><p><img src="dc557734941f2cc0eed043ef60f93de3.bmp" alt="" /></p><p>RTPSé«˜çº§æ¶æ„</p><p>é€šä¿¡å›´ç»•ä¸»é¢˜å±•å¼€ï¼Œä¸»é¢˜å®šä¹‰å’Œæ ‡è®°æ­£åœ¨äº¤æ¢çš„æ•°æ®ã€‚ä¸»é¢˜ä¸å±äºç‰¹å®šå‚ä¸è€…ã€‚å‚ä¸è€…é€šè¿‡RTPSWriterå¯¹ä¸»é¢˜ä¸‹è¦å‘å¸ƒçš„æ•°æ®ç”Ÿæˆæ•°æ®æ›´æ–°ï¼ˆChangeï¼‰ï¼Œé€šè¿‡RTPSReaderæ¥æ”¶ä¸å…¶è®¢é˜…ä¸»é¢˜ç›¸å…³çš„æ•°æ®æ›´æ–°ã€‚é€šä¿¡å•å…ƒç§°ä¸ºChangeï¼Œå®ƒè¡¨ç¤ºåœ¨Topicä¸‹å†™å…¥çš„æ•°æ®çš„æ›´æ–°ã€‚RTPSReader/RTPSWriteråœ¨å…¶å†å²è®°å½•ä¸­æ³¨å†Œè¿™äº›æ•°æ®æ›´æ–°ï¼Œå†å²è®°å½•æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œç”¨ä½œæœ€è¿‘æ•°æ®æ›´æ–°çš„ç¼“å­˜ã€‚</p><p>åœ¨eProsima Fast DDSçš„é»˜è®¤é…ç½®ä¸­ï¼Œå½“æ‚¨é€šè¿‡RTPSWriterç«¯ç‚¹å‘å¸ƒæ›´æ”¹æ—¶ï¼Œä¼šåœ¨å¹•åæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p><ul><li><p>Changeå°†æ·»åŠ åˆ°RTPSWriterçš„å†å²ç¼“å­˜ä¸­ã€‚</p></li><li><p>RTPSWriterå°†Changeå‘é€ç»™å®ƒåŒ¹é…çš„ä»»ä½•RTPSReaderã€‚</p></li><li><p>æ¥æ”¶åˆ°æ•°æ®åï¼ŒRTPSReaderå°†ä½¿ç”¨æ–°çš„Changeæ›´æ–°å…¶å†å²ç¼“å­˜ã€‚</p></li></ul><p>Fast DDSæ”¯æŒå¤šç§é…ç½®ï¼Œå…è®¸æ‚¨æ›´æ”¹RTPSWriter/RTPSReaderçš„è¡Œä¸ºã€‚RTPSå®ä½“çš„é»˜è®¤é…ç½®ä¸­çš„ä¿®æ”¹æ„å‘³ç€RTPSWriterå’ŒRTPSReaderä¹‹é—´çš„æ•°æ®äº¤æ¢æµå‘ç”Ÿäº†å˜åŒ–ã€‚æ­¤å¤–ï¼Œé€šè¿‡é€‰æ‹©æœåŠ¡è´¨é‡ï¼ˆQoSï¼‰ç­–ç•¥ï¼Œå¯ä»¥ä»¥å¤šç§æ–¹å¼å½±å“è¿™äº›å†å²ç¼“å­˜çš„ç®¡ç†æ–¹å¼ï¼Œä½†é€šä¿¡å¾ªç¯ä¿æŒä¸å˜ã€‚</p><h3 id="4-dds-api"><a class="markdownIt-Anchor" href="#4-dds-api"></a> 4 DDS API</h3><p>DDSé‡‡ç”¨çš„é€šä¿¡æ¨¡å‹æ˜¯å¤šå¯¹å¤šçš„å•å‘æ•°æ®äº¤æ¢ï¼Œå…¶ä¸­äº§ç”Ÿæ•°æ®çš„åº”ç”¨ç¨‹åºå°†æ•°æ®å‘å¸ƒåˆ°è®¢é˜…æ–¹çš„æœ¬åœ°ç¼“å­˜ã€‚ä¿¡æ¯æµç”±è´Ÿè´£æ•°æ®äº¤æ¢çš„å®ä½“ä¹‹é—´å»ºç«‹çš„æœåŠ¡è´¨é‡ï¼ˆQoSï¼‰ç­–ç•¥æ¥è°ƒèŠ‚ã€‚</p><p>ä½œä¸ºä¸€ä¸ªä»¥æ•°æ®ä¸ºä¸­å¿ƒçš„æ¨¡å‹ï¼ŒDDSå»ºç«‹åœ¨æ‰€æœ‰æ„Ÿå…´è¶£çš„åº”ç”¨ç¨‹åºéƒ½å¯ä»¥è®¿é—®çš„â€œå…¨å±€æ•°æ®ç©ºé—´â€çš„æ¦‚å¿µä¹‹ä¸Šã€‚å¸Œæœ›è´¡çŒ®ä¿¡æ¯çš„åº”ç”¨ç¨‹åºå£°æ˜å…¶æˆä¸ºå‘å¸ƒè€…çš„æ„å›¾ï¼Œè€Œå¸Œæœ›è®¿é—®éƒ¨åˆ†æ•°æ®ç©ºé—´çš„åº”ç”¨ç¨‹åºåˆ™å£°æ˜å…¶æˆä¸ºè®¢é˜…è€…çš„æ„å›¾ã€‚æ¯å½“å‘å¸ƒè€…å‘è¿™ä¸ªç©ºé—´å‘å¸ƒæ–°æ•°æ®æ—¶ï¼Œä¸­é—´ä»¶å°±ä¼šå°†ä¿¡æ¯ä¼ æ’­ç»™æ‰€æœ‰æ„Ÿå…´è¶£çš„è®¢é˜…è€…ã€‚</p><p>é€šä¿¡å‘ç”Ÿåœ¨åŸŸä¹‹é—´ï¼Œå³è¿æ¥æ‰€æœ‰èƒ½å¤Ÿç›¸äº’é€šä¿¡çš„åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºçš„éš”ç¦»æŠ½è±¡å¹³é¢ã€‚åªæœ‰å±äºåŒä¸€ä¸ªåŸŸçš„å®ä½“æ‰èƒ½è¿›è¡Œäº¤äº’ï¼Œè®¢é˜…æ•°æ®çš„å®ä½“å’Œå‘å¸ƒæ•°æ®çš„å®ä½“ä¹‹é—´çš„åŒ¹é…ç”±ä¸»é¢˜ç®¡ç†ã€‚ä¸»é¢˜æ˜¯æ˜ç¡®çš„æ ‡è¯†ç¬¦ï¼Œä¸»é¢˜åç§°åœ¨åŸŸä¸­å”¯ä¸€ï¼Œå¹¶ä¸æ•°æ®ç±»å‹å’Œä¸€ç»„ç‰¹å®šQoSæ•°æ®ç›¸å…³è”ã€‚</p><p>DDSå®ä½“å»ºæ¨¡ä¸ºç±»æˆ–ç±»å‹åŒ–æ¥å£ï¼Œåè€…æ„å‘³ç€æ›´æœ‰æ•ˆçš„èµ„æºå¤„ç†ï¼Œå› ä¸ºå¤„ç†å·²çŸ¥çš„æ•°æ®ç±»å‹æ¯”åŠ¨æ€åˆ†é…å†…å­˜æ›´æœ‰æ•ˆç‡ã€‚è¿™æ˜¯OMGçš„è¯´æ³•ï¼Œå’¸é±¼è®¤ä¸ºè¿™æ–¹é¢æé«˜çš„æ•ˆç‡ä¸æ˜æ˜¾ä¹Ÿä¸é‡è¦ï¼Œä½†æ˜¯æ¥å£æ¸…æ™°å¯¹é€šä¿¡å¼€å‘è€…ä¹‹é—´æ›´é‡è¦ï¼Œä½¿å¾—åä½œå¼€å‘æ›´æœ‰æ•ˆã€‚</p><p><img src="11c395d1034f91cc3c155e5946c74c76.bmp" alt="" /></p><p>DDSåŸŸå†…ä¿¡æ¯æµåŠ¨çš„æ¦‚å¿µå›¾ã€‚åªæœ‰å±äºåŒä¸€åŸŸçš„å®ä½“æ‰èƒ½é€šè¿‡åŒ¹é…ä¸»é¢˜å‘ç°å½¼æ­¤ï¼Œä»è€Œåœ¨å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¹‹é—´äº¤æ¢æ•°æ®ã€‚</p><h3 id="5-fast-dds-gen"><a class="markdownIt-Anchor" href="#5-fast-dds-gen"></a> 5 Fast DDS-Gen</h3><p>ä¾èµ–æ¥å£æ„å‘³ç€éœ€è¦ä¸€ç§ç”Ÿæˆå·¥å…·ï¼Œå°†ç±»å‹æè¿°è½¬æ¢ä¸ºé€‚å½“çš„å®ç°ï¼Œä»¥å¡«è¡¥æ¥å£å’Œä¸­é—´ä»¶ä¹‹é—´çš„ç©ºç™½ã€‚è¯¥ä»»åŠ¡ç”±ä¸“ç”¨ç”Ÿæˆå·¥å…·Fast DDS Genæ‰§è¡Œï¼ŒFast DDS Genæ˜¯ä¸€ä¸ªJavaåº”ç”¨ç¨‹åºï¼Œå®ƒä½¿ç”¨æ¥å£å®šä¹‰è¯­è¨€ï¼ˆIDLï¼‰æ–‡ä»¶ä¸­å®šä¹‰çš„æ•°æ®ç±»å‹ç”Ÿæˆæºä»£ç ã€‚</p><h3 id="6-rtps-wire-protocol"><a class="markdownIt-Anchor" href="#6-rtps-wire-protocol"></a> 6 RTPS Wire Protocol</h3><p>Fast DDSç”¨äºé€šè¿‡æ ‡å‡†ç½‘ç»œäº¤æ¢æ¶ˆæ¯çš„åè®®æ˜¯å®æ—¶å‘å¸ƒ-è®¢é˜…åè®®ï¼ˆRTPSï¼‰ï¼Œè¿™æ˜¯OMGè”ç›Ÿå®šä¹‰å’Œç»´æŠ¤çš„DDSäº’æ“ä½œæ€§æœ‰çº¿åè®®ã€‚è¯¥åè®®é€šè¿‡TCP/UDP/IPç­‰ä¼ è¾“æä¾›å‘å¸ƒè€…-è®¢é˜…è€…é€šä¿¡ï¼Œå¹¶ä¿è¯ä¸åŒDDSå®ç°ä¹‹é—´çš„å…¼å®¹æ€§ã€‚</p><p>è€ƒè™‘åˆ°å‘å¸ƒ-è®¢é˜…è®¾è®¡ç”¨äºæ»¡è¶³DDSåº”ç”¨é¢†åŸŸæ‰€è§£å†³çš„ç›¸åŒéœ€æ±‚çš„è§„èŒƒï¼ŒRTPSåè®®æ˜ å°„åˆ°è®¸å¤šDDSæ¦‚å¿µï¼Œå› æ­¤æ˜¯DDSå®ç°çš„è‡ªç„¶é€‰æ‹©ã€‚æ‰€æœ‰RTPSæ ¸å¿ƒå®ä½“éƒ½ä¸RTPSåŸŸç›¸å…³è”ï¼ŒRTPSåŸŸè¡¨ç¤ºç«¯ç‚¹åŒ¹é…çš„éš”ç¦»é€šä¿¡å¹³é¢ï¼ŒRTPSåè®®ä¸­æŒ‡å®šçš„å®ä½“ä¸DDSå®ä½“ä¸€ä¸€å¯¹åº”ï¼Œä»è€Œå…è®¸é€šä¿¡å‘ç”Ÿã€‚</p><h3 id="7-fast-ddsä¸»è¦ç‰¹å¾"><a class="markdownIt-Anchor" href="#7-fast-ddsä¸»è¦ç‰¹å¾"></a> 7 Fast DDSä¸»è¦ç‰¹å¾</h3><ul><li><p>ä¸¤ä¸ªAPIå±‚ã€‚Fast DDSåŒ…æ‹¬å…³æ³¨å¯ç”¨æ€§çš„é«˜çº§DDSå…¼å®¹å±‚å’Œæä¾›å¯¹RTPSåè®®çš„æ›´ç²¾ç»†è®¿é—®çš„ä½çº§RTPSå…¼å®¹å±‚ã€‚</p></li><li><p>å®æ—¶è¡Œä¸ºã€‚Fast DDSå¯ä»¥é…ç½®ä¸ºæä¾›å®æ—¶åŠŸèƒ½ï¼Œä¿è¯åœ¨æŒ‡å®šçš„æ—¶é—´é™åˆ¶å†…åšå‡ºå“åº”ã€‚</p></li><li><p>å†…ç½®å‘ç°æœåŠ¡å™¨ã€‚Fast DDSåŸºäºå¯¹ç°æœ‰å‘å¸ƒè€…å’Œè®¢é˜…è€…çš„åŠ¨æ€å‘ç°ï¼Œæ— éœ€è”ç³»æˆ–è®¾ç½®ä»»ä½•æœåŠ¡å™¨å³å¯è¿ç»­æ‰§è¡Œæ­¤ä»»åŠ¡ã€‚ä½†æ˜¯ï¼Œä¹Ÿå¯ä»¥é…ç½®å®¢æˆ·æœºæœåŠ¡å™¨å‘ç°ä»¥åŠå…¶ä»–å‘ç°èŒƒä¾‹ã€‚</p></li><li><p>åŒæ­¥å’Œå¼‚æ­¥å‘å¸ƒæ¨¡å¼ã€‚Fast DDSæ”¯æŒåŒæ­¥å’Œå¼‚æ­¥æ•°æ®å‘å¸ƒã€‚</p></li><li><p>å°½æœ€å¤§åŠªåŠ›å’Œå¯é çš„æ²Ÿé€šã€‚Fast DDSæ”¯æŒåœ¨å°½åŠ›å°±å¥½é€šä¿¡åè®®ï¼ˆå¦‚UDPï¼‰ä¸Šçš„å¯é€‰å¯é é€šä¿¡æ¨¡å¼ã€‚æ­¤å¤–ï¼Œè®¾ç½®å¯é é€šä¿¡çš„å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨æˆ‘ä»¬çš„TCPä¼ è¾“ã€‚</p></li><li><p>ä¼ è¾“å±‚ã€‚Fast DDSå®ç°äº†å¯æ’æ‹”ä¼ è¾“çš„ä½“ç³»ç»“æ„ã€‚å®ç°äº†äº”ç§ä¼ è¾“ï¼šUDPv4ã€UDPv6ã€TCPv4ã€TCPv6å’ŒSHMï¼ˆå…±äº«å†…å­˜ï¼‰ã€‚</p></li><li><p>å®‰å…¨Fast DDSå¯é…ç½®ä¸ºæä¾›å®‰å…¨é€šä¿¡ã€‚ä¸ºæ­¤ï¼Œå®ƒåœ¨ä¸‰ä¸ªçº§åˆ«å®ç°äº†å¯æ’æ‹”çš„å®‰å…¨æ€§ï¼šè¿œç¨‹å‚ä¸è€…çš„èº«ä»½éªŒè¯ã€å®ä½“çš„è®¿é—®æ§åˆ¶å’Œæ•°æ®åŠ å¯†ã€‚</p></li><li><p>ç»Ÿè®¡æ¨¡å—ã€‚Fast DDSå¯ä»¥è¢«é…ç½®ä¸ºæ”¶é›†å’Œæä¾›å…³äºç”¨æˆ·åº”ç”¨ç¨‹åºæ­£åœ¨äº¤æ¢çš„æ•°æ®çš„ä¿¡æ¯ã€‚</p></li><li><p>ååé‡æ§åˆ¶å™¨ã€‚æ”¯æŒç”¨æˆ·å¯é…ç½®çš„ååé‡æ§åˆ¶å™¨ï¼Œå¯ç”¨äºé™åˆ¶åœ¨ç‰¹å®šæ¡ä»¶ä¸‹å‘é€çš„æ•°æ®é‡ã€‚</p></li><li><p>å³æ’å³ç”¨è¿æ¥ã€‚æ–°çš„åº”ç”¨ç¨‹åºå’ŒæœåŠ¡è¢«è‡ªåŠ¨å‘ç°ï¼Œå¯ä»¥éšæ—¶åŠ å…¥å’Œç¦»å¼€ç½‘ç»œï¼Œè€Œæ— éœ€é‡æ–°é…ç½®ã€‚</p></li><li><p>å¯æ‰©å±•æ€§å’Œçµæ´»æ€§ã€‚DDSå»ºç«‹åœ¨å…¨çƒæ•°æ®ç©ºé—´çš„æ¦‚å¿µä¹‹ä¸Šã€‚ä¸­é—´ä»¶è´Ÿè´£åœ¨å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¹‹é—´ä¼ æ’­ä¿¡æ¯ã€‚è¿™ä¿è¯äº†åˆ†å¸ƒå¼ç½‘ç»œèƒ½å¤Ÿé€‚åº”é‡æ–°é…ç½®å¹¶å¯æ‰©å±•åˆ°å¤§é‡å®ä½“ã€‚</p></li><li><p>åº”ç”¨ç¨‹åºå¯ç§»æ¤æ€§ã€‚DDSè§„èŒƒåŒ…æ‹¬åˆ°IDLçš„å¹³å°ç‰¹å®šæ˜ å°„ï¼Œå…è®¸ä½¿ç”¨DDSçš„åº”ç”¨ç¨‹åºåœ¨DDSå®ç°ä¹‹é—´åˆ‡æ¢ï¼Œåªéœ€é‡æ–°ç¼–è¯‘ã€‚</p></li><li><p>å¯æ‰©å±•æ€§ã€‚Fast DDSå…è®¸é€šè¿‡æ–°æœåŠ¡æ‰©å±•å’Œå¢å¼ºåè®®ï¼Œè€Œä¸ç ´åå‘åå…¼å®¹æ€§å’Œäº’æ“ä½œæ€§ã€‚</p></li><li><p>å¯é…ç½®æ€§å’Œæ¨¡å—æ€§ã€‚Fast DDSé€šè¿‡ä»£ç æˆ–XMLé…ç½®æ–‡ä»¶æä¾›äº†ä¸€ç§ç›´è§‚çš„é…ç½®æ–¹å¼ã€‚æ¨¡å—åŒ–å…è®¸ç®€å•è®¾å¤‡å®ç°åè®®çš„ä¸€ä¸ªå­é›†ï¼Œå¹¶ä»ç„¶å‚ä¸ç½‘ç»œã€‚</p></li><li><p>é«˜æ€§èƒ½ã€‚Fast DDSä½¿ç”¨é™æ€ä½çº§ä¸²è¡ŒåŒ–åº“Fast CDRï¼Œè¿™æ˜¯ä¸€ä¸ªC++åº“ï¼Œæ ¹æ®RTPSè§„èŒƒä¸­å®šä¹‰çš„æ ‡å‡†CDRä¸²è¡ŒåŒ–æœºåˆ¶è¿›è¡Œä¸²è¡ŒåŒ–ã€‚</p></li><li><p>æ˜“äºä½¿ç”¨ã€‚è¯¥é¡¹ç›®é™„å¸¦äº†ä¸€ä¸ªå¼€ç®±å³ç”¨çš„ç¤ºä¾‹ï¼Œå³HelloWorldç¤ºä¾‹ã€‚DDSå±‚å’ŒRTPSå±‚éƒ¨åˆ†å°†å¯¹DDSå’ŒRTPSè¿›è¡Œè¯¦ç»†è¯´æ˜ã€‚</p></li><li><p>èµ„æºæ¶ˆè€—ä½ã€‚</p></li><li><p>å…è®¸é¢„åˆ†é…èµ„æºï¼Œä»¥æœ€å°åŒ–åŠ¨æ€èµ„æºåˆ†é…ã€‚</p></li><li><p>é¿å…ä½¿ç”¨æ— é™èµ„æºã€‚</p></li><li><p>å°†å¤åˆ¶æ•°æ®çš„éœ€è¦é™è‡³æœ€ä½ã€‚</p></li><li><p>å¤šå¹³å°ã€‚æ“ä½œç³»ç»Ÿä¾èµ–é¡¹è¢«è§†ä¸ºå¯æ’æ‹”æ¨¡å—ã€‚ç”¨æˆ·å¯ä»¥åœ¨å…¶ç›®æ ‡å¹³å°ä¸Šä½¿ç”¨Fast DDSåº“è½»æ¾å®ç°å¹³å°æ¨¡å—ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥é¡¹ç›®å¯ä»¥åœ¨Linuxã€Windowså’ŒMacOSä¸Šè¿è¡Œã€‚</p></li><li><p>å…è´¹å¼€æºã€‚Fast DDSåº“ã€ä¸‹é¢çš„RTPSåº“ã€ç”Ÿæˆå™¨å·¥å…·ã€å†…éƒ¨ä¾èµ–é¡¹ï¼ˆä¾‹å¦‚eProsima Fast CDRï¼‰å’Œå¤–éƒ¨ä¾èµ–é¡¹ï¼ˆå¦‚foonathanåº“ï¼‰æ˜¯å…è´¹çš„å¼€æºçš„ã€‚</p></li></ul><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br />åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/weixin_43369786/article/details/128988734">https://blog.csdn.net/weixin_43369786/article/details/128988734</a></p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œé€šè®¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DDS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>fastDDSå­¦ä¹ è®°å½•</title>
      <link href="/2024/12/06/DDS/fastDDS%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
      <url>/2024/12/06/DDS/fastDDS%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-windowsç³»ç»Ÿä¸‹fastddsä½¿ç”¨"><a class="markdownIt-Anchor" href="#ä¸€-windowsç³»ç»Ÿä¸‹fastddsä½¿ç”¨"></a> ä¸€. Windowsç³»ç»Ÿä¸‹fastDDSä½¿ç”¨</h2><ol><li>å®˜ç½‘ä¸‹è½½fastDDSï¼Œå·²ç»æ˜¯ç¼–è¯‘å¥½çš„äºŒçº§åˆ¶å®‰è£…æ–‡ä»¶ï¼Œå®‰è£…å¥½ä¹‹åï¼Œå¯¹åº”çš„fastDDS genå’Œéœ€è¦çš„ç¯å¢ƒå˜é‡å·²ç»è‡ªåŠ¨è£…å¥½äº†ã€‚</li><li>ç›´æ¥æŒ‰ç…§ç½‘ä¸Šæ•™ç¨‹ï¼Œå…ˆå†™ä¸€ä¸ªidlåç¼€æ–‡ä»¶ï¼Œç”¨æ¥è®¾ç½®ä¼ è¾“çš„æ•°æ®ç±»å‹</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">HelloSeven</span> &#123; string sevenData; &#125;;</span><br></pre></td></tr></table></figure><ol start="3"><li><p>ç„¶åè¿è¡Œï¼š<code>fastddsgen -example CMake HelloSevenPubSubMain.idl</code>ï¼Œä¸å‡ºæ„å¤–ï¼ŒæŠ¥é”™äº†</p><p><img src="imageMogr2auto-orientstripimageView22w1095format.webp" alt="" /></p><p>æŠ¥é”™1</p><p>æŸ¥äº†ä¸€ä¸‹ï¼Œcl.exeæ–‡ä»¶å·²ç»è£…å¥½äº†ï¼Œåº”è¯¥æ˜¯cl.exeçš„ç¯å¢ƒå˜é‡æ²¡è®¾ç½®å¥½ï¼Œæœäº†ä¸€ä¸‹ï¼Œgithubä¸Šæœ‰ä¸€æ ·çš„é—®é¢˜ï¼Œç­”æ¡ˆé‡Œæœ‰è§£å†³æ–¹æ¡ˆã€‚å¯ä»¥é€šè¿‡vsé‡Œçš„å‘½ä»¤è¡Œï¼ˆå·¥å…·â€”&gt;å‘½ä»¤è¡Œâ€”&gt;å¼€å‘è€…å‘½ä»¤å·¥å…·ï¼‰æ¥æ‰§è¡Œè¿™ä¸ªæŒ‡ä»¤ï¼ŒæˆåŠŸï¼Œç”Ÿæˆäº†ä¸€ç³»åˆ—æ–‡ä»¶ã€‚</p><p><img src="imageMogr2auto-orientstripimageView22w906format.webp" alt="" /></p><p>VSå‘½ä»¤è¡Œå·¥å…·.png</p></li><li><p>è¿™ä»£è¡¨å·²ç»ç”¨fastddsgenå·¥å…·ç”Ÿæˆäº†å·¥ç¨‹æ–‡ä»¶äº†ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯ç¼–è¯‘è¿™ä¸ªå·¥ç¨‹æ–‡ä»¶ã€‚æ‘¸ç´¢äº†å¥½å‡ æ¬¡ï¼Œè¿˜æ˜¯ç”¨æœ€åŸå§‹çš„æ–¹æ³•ï¼Œå°±æ˜¯å…ˆæ‹¿cmakeè½¯ä»¶makeä¸€ä¸‹è¿™ä¸ªå·¥ç¨‹ï¼ŒæŠ¥é”™ï¼ŒæŠ¥çš„é”™æ˜¯ç³»ç»Ÿæ²¡æœ‰opensslçš„ç¯å¢ƒå˜é‡ï¼ŒæŸ¥äº†ä¸€ä¸‹ï¼Œç³»ç»Ÿæ²¡æœ‰è£…opensslï¼Œå»å®˜ç½‘ä¸‹è½½ï¼Œå¼€å§‹è£…äº†ä¸ªlightç‰ˆï¼Œä¸è¡Œï¼Œå¿…é¡»è£…å®Œæ•´ç‰ˆã€‚è£…å®Œä¹‹åï¼Œæ·»åŠ ä¸‰ä¸ªç¯å¢ƒå˜é‡<code>OPENSSL_ROOT_DIR OPENSSL_CRYPTO_LIBRARY OPENSSL_INCLUDE_DIR</code><br />å†ç¼–è¯‘ï¼Œé€šè¿‡äº†ã€‚<br />å‚è€ƒä»£ç å¦‚ä¸‹</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> build <span class="built_in">cd</span> build cmake ..</span><br></pre></td></tr></table></figure><ol start="5"><li><p>ä¸­é—´cmake --buildæ—¶ï¼Œè¿˜æœ‰æŠ¥é”™ï¼Œâ€œMSBuild version 17.6.3+07e294721 for .NET Framework<br />MSBUILD : error MSB1009: é¡¹ç›®æ–‡ä»¶ä¸å­˜åœ¨ã€‚â€åœ¨ç³»ç»Ÿå˜é‡pathä¸­æ·»åŠ msbuildçš„è·¯å¾„â€œC:\Program Files\Microsoft Visual Studio\2022\Community\MSBuildâ€å°±å¥½äº†ã€‚</p></li><li><p>ç”¨vsæ‰“å¼€å·¥ç¨‹ï¼Œç”Ÿæˆè§£å†³æ–¹æ¡ˆï¼Œç”Ÿæˆäº†ä¸€ä¸ªexeæ–‡ä»¶ï¼Œå«HelloSevenPubSubMain.exeå’Œä¸€ä¸ªlibæ–‡ä»¶ã€‚</p></li><li><p>è¿è¡Œç¤ºä¾‹é¡¹ç›®ï¼Œç”¨è¿™ä¸ªexeæ–‡ä»¶ç»™ä¸Šä¸åŒçš„å‚æ•°ï¼Œåˆ†åˆ«è¿è¡Œpublisherå’Œsubscriberï¼ŒæˆåŠŸ</p><p><img src="imageMogr2auto-orientstripimageView22w638format.webp" alt="" /></p><p>publisher.png</p><p><img src="imageMogr2auto-orientstripimageView22w605format.webp" alt="" /></p><p>subscriber.png</p></li></ol><h2 id="2-ç”¨dockerè¿è¡Œfastdds"><a class="markdownIt-Anchor" href="#2-ç”¨dockerè¿è¡Œfastdds"></a> 2. ç”¨dockerè¿è¡Œfastdds</h2><p>åœ¨Windowsä¸Šå®‰è£…docker-desktopã€‚ç„¶åå»ä¸‹è½½fastddsçš„imageï¼Œfastddså®˜ç½‘æœ‰ï¼Œä¸‹è½½ä¸‹æ¥æ˜¯ä¸€ä¸ªtaræ–‡ä»¶ã€‚ç„¶åæŠŠè¿™ä¸ªimageè½½å…¥è¿›dockerä¸­ï¼Œåœ¨taræ–‡ä»¶æ‰€åœ¨æ–‡ä»¶å¤¹è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker load -i <span class="string">&quot;ubuntu-fastdds &lt;FastDDS-Version&gt;.tar&quot;</span></span><br></pre></td></tr></table></figure><p>åŒå¼•å·é‡Œæ˜¯taræ–‡ä»¶çš„åç§°ï¼Œæ”¹æˆå®é™…æ–‡ä»¶çš„åç§°ã€‚<br />è¿™æ—¶å€™å»docker-desktopé‡Œé¢å»çœ‹ï¼Œå¯ä»¥çœ‹åˆ°imageé‡Œå·²ç»æœ‰äº†è¿™ä¸ªimageäº†ã€‚ç„¶åå°±æ˜¯ç”¨è¿™ä¸ªimageå¯åŠ¨ä¸€ä¸ªcontainerï¼Œè¿è¡ŒæŒ‡ä»¤</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --rm --network=host --ipc=host <span class="tag">&lt;<span class="name">docker-image</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­çš„<docker-image>ç”¨å®é™…imageåæ›¿æ¢ï¼Œå¯ä»¥å»docker-desktopé‡Œå»å¤åˆ¶ï¼Œ</p><p><img src="imageMogr2auto-orientstripimageView22w1200format.webp" alt="" /></p><p>å¤åˆ¶imageå</p><p>è¿™æ ·å°±å¯åŠ¨äº†è¿™ä¸ªfastddsçš„imageã€‚networkå’Œhostçš„ä¸¤ä¸ªå‚æ•°ï¼Œæ˜¯ä¸ºäº†å®¹å™¨ä¹‹é—´å…±äº«å†…å­˜ï¼Œå¯ä»¥ä½¿å¾—å®¹å™¨ä¹‹é—´é€šè¿‡å…±äº«å†…å­˜é€šè®¯ï¼Œè¯¦è§å®˜æ–¹è¯´æ˜<a href="https://fast-dds.docs.eprosima.com/en/latest/docker/shm_docker.html">1.1. Leveraging Fast DDS SHM in Docker deployments â€” Fast DDS 2.13.1 documentation (eprosima.com)</a><br />å†æ ¹æ®å®˜ç½‘æŒ‡ç¤ºï¼Œè¿è¡Œä¸€ä¸ªimageå†…éƒ¨è‡ªå¸¦çš„ä¾‹ç¨‹</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root<span class="meta">@docker</span>-<span class="attr">desktop</span>:<span class="regexp">/usr/</span>local/eprosima/fastrtps/examples/cpp/dds/<span class="title class_">HelloWorldExample</span>/bin# tmux <span class="keyword">new</span>-session <span class="string">&quot;./DDSHelloWorldExample publisher 0 1000&quot;</span> \; split-<span class="variable language_">window</span> <span class="string">&quot;./DDSHelloWorldExample subscriber&quot;</span> \; select-layout even-vertical</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹</p><p><img src="imageMogr2auto-orientstripimageView22w1200format.1.webp" alt="" /></p><p>ä¾‹ç¨‹è¿è¡Œæ•ˆæœ</p><p>è¿™æ˜¯åœ¨åŒä¸€ä¸ªcontainerä¸­subscriberå’ŒpublisheråŒæ—¶è¿è¡Œå¹¶é€šè®¯ã€‚<br />æ¥ç€æµ‹è¯•äº†å¼€å¯ä¸¤ä¸ªcontaineråˆ†åˆ«åšpublisherå’Œsubscriberï¼Œä¹ŸæˆåŠŸè¿›è¡Œäº†é€šè®¯ã€‚<br />ä¾‹ç¨‹å‚è€ƒ<a href="https://fast-dds.docs.eprosima.com/en/latest/docker/fastdds/fast_dds.html">1.2. Fast DDS Image â€” Fast DDS 2.13.1 documentation (eprosima.com)</a></p><h2 id="fastddså…±äº«å†…å­˜shmæ¨¡å¼"><a class="markdownIt-Anchor" href="#fastddså…±äº«å†…å­˜shmæ¨¡å¼"></a> FastDDSå…±äº«å†…å­˜shmæ¨¡å¼</h2><p>æŒ‰ç…§å®˜æ–¹æ•™ç¨‹<a href="https://fast-dds.docs.eprosima.com/en/latest/docker/shm_docker.html">1.1. Leveraging Fast DDS SHM in Docker deployments â€” Fast DDS 2.13.2 documentation (eprosima.com)</a>ï¼Œæµ‹è¯•æœ‰dockerç«¯å‚ä¸çš„å…±äº«å†…å­˜æ–¹å¼ä¸‹çš„ddsé€šè®¯ã€‚<br />ç”¨å®˜æ–¹çš„è¿™ä¸ªdockeré…ç½®æ–¹æ³•</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --rm --network=host --ipc=host --name cont1 <span class="tag">&lt;<span class="name">image</span> <span class="attr">name</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¯åŠ¨ä¿©å®¹å™¨ä¹‹åï¼Œè¿è¡Œå…±äº«å†…å­˜ä¸“ç”¨æµ‹è¯•ç¨‹åºHelloWorldExampleSharedMemï¼Œä¿©å®¹å™¨æ­£å¸¸æ”¶å‘ï¼Œé€šè®¯æ­£å¸¸ã€‚<br />ç”¨â€“ipc=shareableå’Œâ€“ipc=container:cont1æ–¹å¼å¯åŠ¨ä¿©äº’ç›¸å…±äº«å†…å­˜çš„å®¹å™¨åï¼Œ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --rm --network=host --ipc=shareable --name cont1 <span class="tag">&lt;<span class="name">image</span> <span class="attr">name</span>&gt;</span> docker run -it --rm --network=host --ipc=container:cont1 <span class="tag">&lt;<span class="name">image</span> <span class="attr">name</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å…±äº«å†…å­˜çš„ddsç¨‹åºå¯ä»¥è·‘é€šï¼Œä¿©å®¹å™¨æ­£å¸¸æ”¶å‘ã€‚<br />ä¹‹å‰å¯åŠ¨å®¹å™¨æ—¶ï¼Œæ²¡æœ‰åŠ â€“network=hostï¼Œè·‘è¿™ä¸ªå…±äº«å†…å­˜çš„fastddså°±ä¸é€šã€‚çœ‹æ¥è·Ÿç½‘ç»œè¿˜æœ‰å…³ç³»ï¼Œæ‰€ä»¥å¿…é¡»ç½‘ç»œé…ç½®æˆhostæ¨¡å¼ã€‚åœ¨ä¸Šè¾¹é“¾æ¥é‡Œçš„å®˜æ–¹æ•™ç¨‹ä¸­ä¹Ÿæœ‰ç›¸å…³è¯´æ˜ã€‚<br />ä¸¤ä¸ªå®¹å™¨çš„å…±äº«å†…å­˜é€šè®¯é€šäº†ï¼Œä½†æ˜¯æµ‹è¯•å®¹å™¨å’Œwindowså…±äº«å†…å­˜è·‘FastDDSè¿˜æ˜¯ä¸è¡Œï¼Œåº”è¯¥æ˜¯å› ä¸ºWindowså’Œdockerå®¹å™¨ä¸­é—´è¿˜éš”äº†ä¸€ä¸ªwslï¼Œå¹¶æ²¡æœ‰å…±äº«å†…å­˜ã€‚</p><h2 id="ä¸¤å®¹å™¨é€šè®¯"><a class="markdownIt-Anchor" href="#ä¸¤å®¹å™¨é€šè®¯"></a> ä¸¤å®¹å™¨é€šè®¯</h2><p>åœ¨é»˜è®¤bridgeçš„ç½‘ç»œæ¨¡å¼ä¸‹å¯åŠ¨ä¸¤ä¸ªå®¹å™¨ï¼Œhello worldexampleè¿è¡Œï¼Œä¸¤å®¹å™¨é€šè®¯æˆåŠŸã€‚</p><h2 id="å®¹å™¨å’Œwsl2çš„äº’è”äº’é€š"><a class="markdownIt-Anchor" href="#å®¹å™¨å’Œwsl2çš„äº’è”äº’é€š"></a> å®¹å™¨å’Œwsl2çš„äº’è”äº’é€š</h2><ol><li>åœ¨é»˜è®¤bridgeç½‘ç»œæ¨¡å¼ä¸‹å¯åŠ¨å®¹å™¨ï¼Œç„¶ååœ¨wsl2ä¸Šå¯åŠ¨DDSHelloWorldExampleï¼Œä½œä¸ºpublisherï¼Œåœ¨å®¹å™¨ä¸Šè¿è¡Œsubscriberï¼Œæ— æ³•è¿é€šã€‚</li><li>ç”¨hostç½‘ç»œæ¨¡å¼ä¸‹å¯åŠ¨å®¹å™¨ï¼Œç„¶åæµ‹è¯•ä¸wsl2è¿›è¡Œddsé€šè®¯ï¼Œè¿˜æ˜¯æ— æ³•è”é€šã€‚</li></ol><h2 id="linuxä¸‹docker-å®¹å™¨è¿è¡Œfastdds"><a class="markdownIt-Anchor" href="#linuxä¸‹docker-å®¹å™¨è¿è¡Œfastdds"></a> linuxä¸‹docker å®¹å™¨è¿è¡ŒfastDDS</h2><p>ubuntuçš„å®¿ä¸»æœºè¿è¡Œä¸€ä¸ªFastDDSçš„dockerå®¹å™¨ï¼Œå®¹å™¨ç½‘ç»œè®¾ç½®ä¸ºhostæ¨¡å¼ï¼Œå³å¯åŠ¨æ—¶å€™ç”¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --rm --network=host --ipc=host <span class="tag">&lt;<span class="name">docker-image</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨å±€åŸŸç½‘å¦ä¸€å°çš„Windowsæœºä¸­è¿è¡Œhelloworldexampleç¨‹åºï¼Œä¸€è¾¹å‘å¸ƒï¼Œä¸€è¾¹è®¢é˜…ï¼Œ<strong>å®¹å™¨ä¸­ç¨‹åºæˆåŠŸå®ç°åŒWindowsç³»ç»Ÿé€šè®¯</strong>ã€‚æ³¨æ„è¦å…³é—­é˜²ç«å¢™ï¼Œæˆ–è€…å•ç‹¬è®¾ç½®é˜²ç«å¢™è§„åˆ™ã€‚</p><h2 id="ä¸‰ç”¨roså¸¸ç”¨çš„ä¸€ç»„msgæ–‡ä»¶æ„å»ºfastddsçš„å‘å¸ƒä¸è®¢é˜…cå·¥ç¨‹"><a class="markdownIt-Anchor" href="#ä¸‰ç”¨roså¸¸ç”¨çš„ä¸€ç»„msgæ–‡ä»¶æ„å»ºfastddsçš„å‘å¸ƒä¸è®¢é˜…cå·¥ç¨‹"></a> ä¸‰.ç”¨roså¸¸ç”¨çš„ä¸€ç»„msgæ–‡ä»¶æ„å»ºfastDDSçš„å‘å¸ƒä¸è®¢é˜…c++å·¥ç¨‹</h2><p>æ‹¿åˆ°å¦‚ä¸‹çš„æ¥å£æ•°æ®ç»“æ„æè¿°æ–‡ä»¶å¤¹</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">F:. â”‚ CMakeLists.txt â”‚ darknetf.txt â”‚ package.xml â”‚ â””â”€msg DeadZoneOccupancyGrid.msg GirdNormalInfo.msg GirdNormalInfo2.msg LeaderVehicle.msg LqEntryState.msg LqOccupancyGrid.msg NoObstacleFlag.msg OccupancyGridInfo.msg PercepVehicleState.msg TargetGlobal.msg TargetGlobalInfo.msg TargetLocal.msg TargetLocalInfo.msg UnderWaterOccupancyGrid.msg VehiclePose.msg WaterOccupancyGrid.msg</span><br></pre></td></tr></table></figure><p>æ•°æ®æ˜¯åµŒå¥—æ„é€ çš„ï¼Œæˆ‘ä»¬éœ€è¦çš„æœ€å¤–å±‚æ•°æ®æ˜¯WaterOccupancyGrid.msgå®šä¹‰çš„æ•°æ®ã€‚ä»msgæ–‡ä»¶ç”Ÿæˆidlå¯ä»¥é€šè¿‡ros2ç³»ç»Ÿpackagesæ„å»ºè¿‡ç¨‹é™„å¸¦å®Œæˆï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ„å»ºè„šæœ¬æ‰‹åŠ¨ç”Ÿæˆï¼Œåœ¨chatæŸæŸTçš„ååŠ©å†™ï¼Œç¼–å†™äº†pythonè„šæœ¬ï¼Œå°†msgæ–‡ä»¶æ‰¹é‡è½¬æ¢ä¸ºäº†idlæ–‡ä»¶ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os <span class="comment"># å®šä¹‰ç±»å‹æ˜ å°„å…³ç³» type_mapping = &#123; &#x27;bool&#x27;: &#x27;boolean&#x27;, &#x27;int8&#x27;: &#x27;int8&#x27;, &#x27;uint8&#x27;: &#x27;uint8&#x27;, &#x27;int16&#x27;: &#x27;int16&#x27;, &#x27;uint16&#x27;: &#x27;uint16&#x27;, &#x27;int32&#x27;: &#x27;int32&#x27;, &#x27;uint32&#x27;: &#x27;uint32&#x27;, &#x27;int64&#x27;: &#x27;int64&#x27;, &#x27;uint64&#x27;: &#x27;uint64&#x27;, &#x27;float32&#x27;: &#x27;float&#x27;, &#x27;float64&#x27;: &#x27;double&#x27;, &#x27;string&#x27;: &#x27;string&#x27; &#125; def convert_msg_type_to_idl_type(msg_type): &quot;&quot;&quot;å°†ROS 2çš„æ¶ˆæ¯ç±»å‹è½¬æ¢ä¸ºIDLç±»å‹&quot;&quot;&quot; if msg_type in type_mapping: return type_mapping[msg_type] elif msg_type.endswith(&quot;[]&quot;): # å¤„ç†æ•°ç»„ base_type = msg_type[:-2] return f&quot;sequence&lt;&#123;type_mapping.get(base_type, base_type)&#125;&gt;&quot; else: return msg_type # è‡ªå®šä¹‰ç±»å‹ä¿æŒä¸å˜ def convert_msg_file_to_idl(msg_file, idl_file): &quot;&quot;&quot;å°†ä¸€ä¸ª.msgæ–‡ä»¶è½¬æ¢ä¸º.idlæ–‡ä»¶&quot;&quot;&quot; print(f&quot;Converting &#123;msg_file&#125; to &#123;idl_file&#125;&quot;) with open(msg_file, &#x27;r&#x27;, encoding=&#x27;utf-8&#x27;) as msg_f, open(idl_file, &#x27;w&#x27;, encoding=&#x27;utf-8&#x27;) as idl_f: msg_name = os.path.splitext(os.path.basename(msg_file))[0] # å†™å…¥IDLæ–‡ä»¶çš„å¤´ idl_f.write(f&quot;module &#123;msg_name&#125; &#123;&#123;\n&quot;) idl_f.write(&quot; struct Msg &#123;\n&quot;) # è¯»å–æ¯ä¸€è¡Œå¹¶è½¬æ¢ä¸ºIDLæ ¼å¼ for line in msg_f: line = line.strip() if not line or line.startswith(&#x27;#&#x27;): # å¿½ç•¥ç©ºè¡Œå’Œæ³¨é‡Š continue parts = line.split() if len(parts) &lt; 2: print(f&quot;Skipping invalid line: &#123;line&#125;&quot;) continue msg_type, msg_field = parts[0], parts[1] idl_type = convert_msg_type_to_idl_type(msg_type) idl_f.write(f&quot; &#123;idl_type&#125; &#123;msg_field&#125;;\n&quot;) # å†™å…¥ç»“æ„ä½“å’Œæ¨¡å—ç»“æŸç¬¦ idl_f.write(&quot; &#125;;\n&quot;) idl_f.write(&quot;&#125;;\n&quot;) print(f&quot;Finished writing &#123;idl_file&#125;&quot;) def convert_all_msg_files_to_idl(msg_dir, idl_dir): &quot;&quot;&quot;å°†ä¸€ä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰.msgæ–‡ä»¶è½¬æ¢ä¸º.idlæ–‡ä»¶&quot;&quot;&quot; if not os.path.exists(idl_dir): os.makedirs(idl_dir) for root, dirs, files in os.walk(msg_dir): for file in files: if file.endswith(&#x27;.msg&#x27;): msg_file = os.path.join(root, file) idl_file = os.path.join(idl_dir, file.replace(&#x27;.msg&#x27;, &#x27;.idl&#x27;)) print(f&quot;Converting &#123;msg_file&#125; to &#123;idl_file&#125;&quot;) convert_msg_file_to_idl(msg_file, idl_file) if __name__ == &quot;__main__&quot;: # è®¾ç½®msgæ–‡ä»¶ç›®å½•å’Œç”Ÿæˆçš„idlæ–‡ä»¶ç›®å½• msg_directory = &#x27;./msg&#x27; # ä½ çš„.msgæ–‡ä»¶ç›®å½• idl_directory = &#x27;./idl&#x27; # è¾“å‡º.idlæ–‡ä»¶çš„ç›®å½• # æ‰§è¡Œè½¬æ¢ convert_all_msg_files_to_idl(msg_directory, idl_directory)</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå®Œè½¬æ¢ä¹‹åï¼Œè¿˜éœ€è¦è§£å†³æ•°æ®ç»“æ„åœ¨ä¸åŒidlæ–‡ä»¶ä¹‹é—´åµŒå¥—çš„é—®é¢˜ï¼Œæœ¬æ–‡ç¬¬ä¸€ç« èŠ‚çš„å†…å®¹æ˜¯é’ˆå¯¹å•ä¸ªidlæ–‡ä»¶çš„å·¥ç¨‹ç”Ÿæˆï¼Œéœ€è¦è¿›è¡Œé’ˆå¯¹æ€§çš„ä¿®æ­£å·¥ä½œï¼Œæ‰èƒ½é’ˆå¯¹å¤šidlæ–‡ä»¶ç”Ÿæˆå·¥ç¨‹ã€‚</p><ol><li>è¦å°†åµŒå¥—å¼•ç”¨çš„idlæ–‡ä»¶includeè¿›idlæ–‡ä»¶ä¸­ï¼Œç„¶åè¦ä¿è¯åŒä¸€ä¸ªå·¥ç¨‹çš„moduleåç›¸åŒï¼ŒstructååŒºåˆ†ï¼Œ</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;GirdNormalInfo.idl&quot;</span> <span class="comment">//ç»“æ„ä½“çš„ç¬¬ä¸€ä¸ªå…ƒç´ GirdNormalInfoæ˜¯è‡ªå®šä¹‰æ•°æ®æ ¼å¼ï¼Œéœ€è¦includeè¯¥ç»“æ„ä½“æ‰€åœ¨çš„GirdNormalInfo.idlæ–‡ä»¶ module WaterOccupancyGrid &#123; struct GirdNormalInfo2 &#123; GirdNormalInfo info; uint16 us_height; uint16 uc_target_type; &#125;; &#125;;</span></span></span><br></pre></td></tr></table></figure><ol start="2"><li>fastddsgenæŒ‡ä»¤ä½¿ç”¨æ—¶ï¼Œéœ€è¦å°†æ‰€æœ‰ç”¨åˆ°çš„idlæ–‡ä»¶å…¨éƒ¨æ”¾å…¥æŒ‡ä»¤ä¸­</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastddsgen -example CMake GirdNormalInfo<span class="selector-class">.idl</span> UniHeader<span class="selector-class">.idl</span> OccupancyGridInfo<span class="selector-class">.idl</span> VehiclePose<span class="selector-class">.idl</span> GirdNormalInfo2<span class="selector-class">.idl</span> WaterOccupancyGrid<span class="selector-class">.idl</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±ç”Ÿæˆäº†å‘å¸ƒå’Œè®¢é˜…çš„å·¥ç¨‹æºæ–‡ä»¶ï¼Œå†é€šè¿‡æœ¬æ–‡ç¬¬ä¸€ç« èŠ‚çš„ç¼–è¯‘ç”Ÿæˆè¿‡ç¨‹ï¼Œå°±èƒ½å®ç°å‘å¸ƒå’Œè®¢é˜…åŠŸèƒ½äº†ã€‚ä¸­é—´æœ‰ä¸€äº›å°é—®é¢˜ï¼Œè°ƒè¯•åå‘å¸ƒå’Œè®¢é˜…åŠŸèƒ½æ­£å¸¸ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œé€šè®¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DDS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS2019å®‰è£…é…ç½®QTæ’ä»¶</title>
      <link href="/2024/12/06/Qt/VS2019%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEQT%E6%8F%92%E4%BB%B6/"/>
      <url>/2024/12/06/Qt/VS2019%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEQT%E6%8F%92%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h3 id="1-ä»‹ç»"><a class="markdownIt-Anchor" href="#1-ä»‹ç»"></a> 1ã€ä»‹ç»</h3><p>Windowsçš„Qtå¼€å‘ï¼Œä¸€èˆ¬é‡‡ç”¨Visual Studioå®‰è£…Qtæ’ä»¶çš„æ–¹æ³•å¼€å‘Qtç¨‹åºï¼Œæ¯•ç«ŸVSå¼€å‘å·¥å…·è¿˜æ˜¯æ¯”QtCreatorå¼€å‘å·¥å…·å¼ºå¤§ã€å¥½ç”¨çš„å¤šã€‚</p><p>æœ¬æ•™ç¨‹é‡‡ç”¨VS2019å®‰è£…é…ç½®Qtæ’ä»¶ï¼ˆqt-vsaddin-msvc2019-2.6.0.vsixï¼‰ï¼Œé»˜è®¤å·²ç»å®‰è£…äº†VS2019ï¼ˆå·²å®‰è£…â€œMSVC V141-VS 2017 C++ x64/x86 ç”Ÿæˆâ€¦â€é€‰é¡¹ï¼‰å’ŒQt5.14ï¼ˆå·²å®‰è£…â€œmsvc2017 32-bitâ€å’Œâ€œmsvc2017 64-bitâ€é€‰é¡¹ï¼‰ã€‚</p><p>å¦‚æœæœªå®‰è£…åˆ™éœ€å®‰è£…VS2019å’ŒQt5.14ï¼Œå®‰è£…VS2019å’ŒQt5.14éœ€è¦æ³¨æ„ä»¥ä¸‹ï¼š</p><p>å®‰è£…VS2019ï¼Œåˆ™éœ€é€‰æ‹©â€œMSVCV141-VS 2017 C++ x64/x86 ç”Ÿæˆâ€¦â€é€‰é¡¹ï¼Œä»¥æ”¯æŒVS2017çš„ç¼–è¯‘å™¨ï¼Œå› ä¸ºQt5.14æœ€é«˜æ”¯æŒVS2017ç‰ˆæœ¬ç¼–è¯‘çš„QtåŸºç¡€åº“ã€‚</p><p><img src="8d006fd85e003f26051c9ae7095ad6a4.png" alt="" /></p><p>å®‰è£…Qt5.14ï¼Œé€‰ä¸­msvc201732-bitå’Œmsvc2017 64-bité€‰é¡¹ï¼ŒVSå®‰è£…Qtæ’ä»¶åæ‰èƒ½é…ç½®ä½¿ç”¨Qtçš„åŸºç¡€åº“ï¼ˆåŒ…æ‹¬msvc201732-bitå’Œmsvc2017 64-bitç¼–è¯‘ç‰ˆæœ¬ï¼‰ï¼ŒVSæ˜¯ä¸èƒ½ç›´æ¥ä½¿ç”¨å…¶MinGWçš„QtåŸºç¡€åº“çš„ï¼Œä¸åŒç¼–è¯‘å™¨ç¼–è¯‘çš„åŸºç¡€åº“ç”±äºå¯¼å‡ºå’Œå¼•ç”¨è§„åˆ™ä¸ç»Ÿä¸€ï¼Œæ— æ³•é€šç”¨ã€‚</p><p><img src="38e80854d0f5db8a7540ff0dba2acdd7.png" alt="" /></p><h3 id="2-vs2019å®‰è£…qtæ’ä»¶"><a class="markdownIt-Anchor" href="#2-vs2019å®‰è£…qtæ’ä»¶"></a> 2ã€VS2019å®‰è£…Qtæ’ä»¶</h3><p>æ³¨æ„ï¼šæ–­å¼€äº’è”ç½‘ï¼Œé˜²æ­¢qt-vsaddinæ’ä»¶å®‰è£…åï¼ŒVS2019è‡ªåŠ¨å‡çº§ä¸ºæ›´é«˜ç‰ˆæœ¬ï¼Œæ›´é«˜ç‰ˆæœ¬çš„qt-vsaddinåœ¨VS2019ä¸­æœ‰ç¼ºé™·ã€‚</p><p>å»å®˜ç½‘ä¸‹è½½qt-vsaddin-msvc2019-2.6.0.vsixï¼Œç„¶ååŒå‡»å®‰è£…ã€‚</p><p><img src="17b9f751b1d95d5b7876430a8ffdd6e7.png" alt="" /></p><p>ç‚¹å‡»InstallæŒ‰é’®ï¼Œå¼€å§‹å®‰è£…VS2019çš„Qtæ’ä»¶ï¼Œå®‰è£…æˆåŠŸç•Œé¢å¦‚ä¸‹ï¼š</p><p><img src="81c8a608bbf7b377106fb71e5229db42.png" alt="" /></p><h3 id="3-vs2019é…ç½®qtæ’ä»¶"><a class="markdownIt-Anchor" href="#3-vs2019é…ç½®qtæ’ä»¶"></a> 3ã€VS2019é…ç½®Qtæ’ä»¶</h3><h4 id="1è®¾ç½®qtæ’ä»¶ç¦ç”¨è‡ªåŠ¨å‡çº§"><a class="markdownIt-Anchor" href="#1è®¾ç½®qtæ’ä»¶ç¦ç”¨è‡ªåŠ¨å‡çº§"></a> ï¼ˆ1ï¼‰è®¾ç½®Qtæ’ä»¶ç¦ç”¨è‡ªåŠ¨å‡çº§</h4><p>åœ¨äº’è”ç½‘æ–­å¼€æƒ…å†µä¸‹ï¼ŒQtæ’ä»¶å®‰è£…æˆåŠŸåï¼Œæ‰“å¼€VS2019å¼€å‘å·¥å…·åï¼Œé€‰æ‹©VS2019æ‰©å±•èœå•â€”â€”&gt;ç®¡ç†æ‰©å±•ï¼Œæ‰“å¼€ç®¡ç†æ‰©å±•çª—å£ï¼Œé€‰æ‹©å·²å®‰è£…çš„Qt Visual StudioToolsæ’ä»¶ï¼Œå–æ¶ˆè‡ªåŠ¨æ›´æ–°æ‰©å±•å¤é€‰æ¡†ï¼Œä¹‹åå°±å¯ä»¥è¿æ¥äº’è”ç½‘äº†ã€‚</p><p><img src="fda68940411f8ff9a161ad64caf25004.png" alt="" /></p><h4 id="2vs2019è®¾ç½®qtçš„åŸºç¡€åº“è·¯å¾„"><a class="markdownIt-Anchor" href="#2vs2019è®¾ç½®qtçš„åŸºç¡€åº“è·¯å¾„"></a> ï¼ˆ2ï¼‰VS2019è®¾ç½®Qtçš„åŸºç¡€åº“è·¯å¾„</h4><p>VS2019æ‰©å±•èœå•â€”â€”&gt;QtVS Toolsâ€”â€”&gt;Qt Optionsï¼Œæ‰“å¼€Qtçš„åŸºç¡€åº“è·¯å¾„è®¾ç½®çª—å£ï¼š</p><p><img src="5ee7adfa0d25065c07feefe8f669f61f.png" alt="" /></p><p>ç‚¹å‡»AddæŒ‰é’®ï¼Œé€‰æ‹©Qtçš„msvc2017 64bitè·¯å¾„ï¼š</p><p><img src="c066dfc09344f66b142e5b40a1fa2872.png" alt="" /></p><p>ç¡®å®šåï¼Œè‡ªåŠ¨ç”ŸæˆVersion nameï¼š</p><p><img src="4fb04ff3af411cd64195fa448c0a9d11.png" alt="" /></p><p>åŒæ ·ä¹Ÿå¯ä»¥å¢åŠ msvc2017 32bitçš„è®¾ç½®ï¼š</p><p><img src="e13df35a521831fb07be6c9b1c2f1a76.png" alt="" /></p><p>è®¾ç½®å®Œæˆåï¼š</p><p><img src="8713c745195210461bc72b3a25636489.png" alt="" /></p><p>çª—å£ä¸‹æ–¹Default Qt/Win versionï¼šå¯è®¾ç½®é»˜è®¤msvc2017 64ä½è¿˜æ˜¯32ä½çš„Qtåº“è·¯å¾„ï¼Œä»¥é€‚ç”¨ç”Ÿæˆ64ä½è¿˜æ˜¯32ä½åº”ç”¨ç¨‹åºã€‚</p><h3 id="4-vs2019åˆ›å»ºå’Œæ‰“å¼€qté¡¹ç›®"><a class="markdownIt-Anchor" href="#4-vs2019åˆ›å»ºå’Œæ‰“å¼€qté¡¹ç›®"></a> 4ã€VS2019åˆ›å»ºå’Œæ‰“å¼€Qté¡¹ç›®</h3><h4 id="1æ–°å»ºqté¡¹ç›®"><a class="markdownIt-Anchor" href="#1æ–°å»ºqté¡¹ç›®"></a> ï¼ˆ1ï¼‰æ–°å»ºQté¡¹ç›®</h4><p>VS2019æ–‡ä»¶èœå•â€”â€”&gt;æ–°å»ºâ€”â€”&gt;é¡¹ç›®ï¼Œæ‰“å¼€åˆ›å»ºæ–°é¡¹ç›®çª—å£ï¼Œä¸‹æ‹‰é¡¹ç›®ç±»å‹ï¼Œæœ€åå¯çœ‹åˆ°æ”¯æŒæ–°å»ºQtå„ç±»é¡¹ç›®ï¼ˆåç»­ä¸Qt Creatoråˆ›å»ºé¡¹ç›®æµç¨‹åŸºæœ¬ä¸€è‡´ï¼‰ï¼š</p><p><img src="d102506b1e628b1cf9c6470807003116.png" alt="" /></p><h4 id="2æ‰“å¼€qté¡¹ç›®"><a class="markdownIt-Anchor" href="#2æ‰“å¼€qté¡¹ç›®"></a> ï¼ˆ2ï¼‰æ‰“å¼€Qté¡¹ç›®</h4><p>VS2019æ‰©å±•èœå•â€”â€”&gt; QtVS Toolsâ€”â€”&gt;â€œOpen Qt ProjectFile(.pro)â€¦â€ï¼Œå¼¹å‡ºâ€œæ‰“å¼€Qté¡¹ç›®â€çª—å£ï¼Œé€‰æ‹©å·²å»ºçš„Qté¡¹ç›®(.pro)ï¼ŒVS2019åƒQt Creatorä¸€æ ·æ‰“å¼€å·²å»ºçš„Qté¡¹ç›®ã€‚</p><p><img src="71eabe18d0908d4a39b7b29489485610.png" alt="" /></p><h4 id="3è®¾ç½®vs2019çš„qté¡¹ç›®å±æ€§"><a class="markdownIt-Anchor" href="#3è®¾ç½®vs2019çš„qté¡¹ç›®å±æ€§"></a> ï¼ˆ3ï¼‰è®¾ç½®VS2019çš„Qté¡¹ç›®å±æ€§</h4><p>VS2019ç•Œé¢ä¸­é€‰æ‹©Qté¡¹ç›®ï¼Œå³é”®ç‚¹å‡»å±æ€§ï¼š</p><p>å¸¸è§„â€”â€”&gt;Windows SDKç‰ˆæœ¬ï¼šé€‰æ‹©å·²ç»å®‰è£…çš„æœ‰æ•ˆWindows SDKç‰ˆæœ¬ã€‚</p><p>å¸¸è§„â€”â€”&gt;å¹³å°å·¥å…·é›†ï¼šé€‰æ‹©VisualStudio 2017ï¼ˆv141ï¼‰ã€‚</p><p><img src="4f5aa62e76b7558bd8c4e430f35b01ed.png" alt="" /></p><p>Qt Project Settingsâ€”â€”&gt;Qt Installationï¼šé€‰æ‹©64ä½è¿˜æ˜¯32ä½msvc2017ï¼Œè¦ä¸ç¼–è¯‘çš„ç¨‹åºæ˜¯64ä½è¿˜æ˜¯32ä½ä¸€è‡´ã€‚</p><p><img src="15396249fe134c50bc666eb5e44e1ab5.png" alt="" /></p><p>Qt Project Settingsâ€”â€”&gt;Qt Modulesï¼šè®¾ç½®é¡¹ç›®è¦ä¾èµ–çš„Qtæ¨¡å—ï¼Œæœ¬ä¾‹æ”¯æŒxmlå’Œguiç•Œé¢ã€‚</p><p><img src="e8f168136921ac30cf9e6ff8adfbc44e.png" alt="" /></p><h4 id="4ç¼–è¯‘è¿è¡Œqté¡¹ç›®"><a class="markdownIt-Anchor" href="#4ç¼–è¯‘è¿è¡Œqté¡¹ç›®"></a> ï¼ˆ4ï¼‰ç¼–è¯‘è¿è¡ŒQté¡¹ç›®</h4><p>VS2019ä¸­ç¼–è¯‘è¿è¡ŒQté¡¹ç›®ä¸å…¶ä»–é¡¹ç›®ä¸€æ ·buildå’Œrunã€‚</p><h3 id="5-vs2019çš„qté¡¹ç›®æ·»åŠ å’Œç¼–è¾‘qtç±»-qtæ–‡ä»¶"><a class="markdownIt-Anchor" href="#5-vs2019çš„qté¡¹ç›®æ·»åŠ å’Œç¼–è¾‘qtç±»-qtæ–‡ä»¶"></a> 5ã€VS2019çš„Qté¡¹ç›®æ·»åŠ å’Œç¼–è¾‘Qtç±»ã€Qtæ–‡ä»¶</h3><h4 id="1æ·»åŠ qtç±»"><a class="markdownIt-Anchor" href="#1æ·»åŠ qtç±»"></a> ï¼ˆ1ï¼‰æ·»åŠ Qtç±»</h4><p>VS2019ç•Œé¢ä¸­é€‰æ‹©Qté¡¹ç›®ï¼Œå³é”®ç‚¹å‡»æ·»åŠ â€”â€”&gt;â€Add Qt Classâ€¦â€ï¼Œå¼¹å‡ºQtæ·»åŠ çª—å£ï¼Œå¯æ·»åŠ Qt Classå’ŒQt Widgets Classï¼Œåƒåœ¨Qt Creatorä¸­ä¸€æ ·æ·»åŠ Qtç±»ï¼š</p><p><img src="86a2cf262e87c201cdcdfeb77478bb55.png" alt="" /></p><h4 id="2ç¼–è¾‘qtç±»"><a class="markdownIt-Anchor" href="#2ç¼–è¾‘qtç±»"></a> ï¼ˆ2ï¼‰ç¼–è¾‘Qtç±»</h4><p>Qtç±»çš„.hå’Œ.cppæ–‡ä»¶åŒå‡»ç›´æ¥åœ¨VS2019ä¸­ç¼–è¾‘ï¼Œè€Œuiæ–‡ä»¶åŒå‡»åè°ƒç”¨Qt Desineræ‰“å¼€æ–‡ä»¶å¹¶ç¼–è¾‘ã€‚</p><p><img src="b393d16187db05e52aeb899117b5597c.png" alt="" /></p><h3 id="6-vs2019å¸è½½qtæ’ä»¶"><a class="markdownIt-Anchor" href="#6-vs2019å¸è½½qtæ’ä»¶"></a> 6ã€VS2019å¸è½½Qtæ’ä»¶</h3><p>VS2019èœå•â€”â€”&gt;ç®¡ç†æ‰©å±•ï¼Œæ‰“å¼€ç®¡ç†æ‰©å±•çª—å£ï¼Œç‚¹å‡»å¸è½½ï¼š</p><p><img src="eea1e33e9bcfae3cd5d89da0e0b351b3.png" alt="" /></p><p>ç¡®å®šå¸è½½åï¼Œçª—å£ä¸‹æ–¹æç¤ºï¼š</p><p><img src="72173617a8b275842af3b4ce70160433.png" alt="" /></p><p>å…³é—­VS2019ï¼Œåˆ™ç”µè„‘ç«‹å³å¼¹å‡ºVSIXInstallerçª—å£ï¼Œç‚¹å‡»ModifyæŒ‰é’®ï¼Œå¯åŠ¨å¸è½½:</p><p><img src="23e035588e6fbac2f6d5d4d0848dc771.png" alt="" /></p><p>æ˜¾ç¤ºå¸è½½è¿›åº¦ï¼š</p><p><img src="7fe4037c9864bcef99247758f4ce0083.png" alt="" /></p><p>æœ€åå¸è½½æˆåŠŸï¼š</p><p><img src="4e3214d4439e240acb94941c00c80001.png" alt="" /></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VS </tag>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1553Bå‘½ä»¤å­—ä¸æ¶ˆæ¯ä¼ è¾“</title>
      <link href="/2024/12/03/1553B/1553B%E5%91%BD%E4%BB%A4%E5%AD%97%E4%B8%8E%E6%B6%88%E6%81%AF%E4%BC%A0%E8%BE%93/"/>
      <url>/2024/12/03/1553B/1553B%E5%91%BD%E4%BB%A4%E5%AD%97%E4%B8%8E%E6%B6%88%E6%81%AF%E4%BC%A0%E8%BE%93/</url>
      
        <content type="html"><![CDATA[<h3 id="1553bç®€è¦ä»‹ç»"><a class="markdownIt-Anchor" href="#1553bç®€è¦ä»‹ç»"></a> &gt;&gt;1553Bç®€è¦ä»‹ç»</h3><p>â‘ 1553Bç»ˆç«¯ç±»å‹æœ‰æ€»çº¿æ§åˆ¶å™¨BCã€è¿œç¨‹ç»ˆç«¯RTå’Œæ€»çº¿ç›‘è§†å™¨MTã€‚</p><p>â‘¡1553Bå­—ç±»å‹æœ‰å‘½ä»¤å­—ã€æ•°æ®å­—ã€çŠ¶æ€å­—ã€‚</p><p>â‘¢1553Bé€šè®¯æ–¹å¼ä¸ºå‘½ä»¤å“åº”å¼ï¼Œå› æ­¤æ‰€æœ‰æ¶ˆæ¯ä¼ è¾“éƒ½å¿…é¡»ç”±æ€»çº¿æ§åˆ¶å™¨å‘å‡ºçš„å‘½ä»¤å­—æ¥è¿›è¡Œæ§åˆ¶ã€‚</p><h3 id="1553b-å‘½ä»¤å­—å®šä¹‰"><a class="markdownIt-Anchor" href="#1553b-å‘½ä»¤å­—å®šä¹‰"></a> &gt;&gt;1553BÂ å‘½ä»¤å­—å®šä¹‰</h3><p>â‘ è°ƒåˆ¶ä¿¡å·ä¸ºæ›¼å½»æ–¯ç‰¹ç ï¼Œä¿¡å·ç”µå¹³ç”±é«˜åˆ°ä½ä¸ºâ€œ1â€ï¼Œç”±ä½åˆ°é«˜ä¸ºâ€œ0â€ã€‚</p><p>â‘¡æ€»çº¿ä¼ è¾“é€Ÿç‡ä¸º1Mb/sï¼Œå³1us/ä½ã€‚</p><p>â‘¢åŒæ­¥å¤´ç”±é«˜åˆ°ä½å 3ä½ï¼Œå…±3å¾®ç§’ï¼Œä¸çŠ¶æ€å­—åŒæ­¥å¤´ç›¸åŒï¼Œä¸æ•°æ®å­—åŒæ­¥å¤´ç›¸åã€‚</p><p>â‘£RTåœ°å€ä¸º11111æ—¶è¡¨ç¤ºå¹¿æ’­å‘½ä»¤ï¼Œæ­¤æ—¶T/R=0ï¼›</p><p>â‘¤æ–¹å¼åŸŸä¸ºå…¨0ï¼ˆ00000ï¼‰æˆ–å…¨1ï¼ˆ11111ï¼‰æ—¶è¡¨ç¤ºæ–¹å¼å‘½ä»¤ï¼Œå…·ä½“ç”±æ–¹å¼ç å†³å®šã€‚</p><p>â‘¥æ ¡éªŒä½ä¸ºå¥‡æ ¡éªŒï¼Œå½“1â€”19ä½1çš„ä¸ªæ•°ä¸ºå¶æ•°æ—¶æ ¡éªŒä½P=1;å¦åˆ™P=0ã€‚</p><h3 id="1553båç§æ¶ˆæ¯æ ¼å¼"><a class="markdownIt-Anchor" href="#1553båç§æ¶ˆæ¯æ ¼å¼"></a> &gt;&gt;1553Båç§æ¶ˆæ¯æ ¼å¼</h3><p>è¯´æ˜ï¼š** è¡¨ç¤ºçŠ¶æ€å“åº”æ—¶é—´ Â  Â  # è¡¨ç¤ºæ¶ˆæ¯é—´éš”æ—¶é—´</p><p>â‘ BC-&gt;RTæ•°æ®ä¼ è¾“</p><p>â‘¡RT-&gt;BCæ•°æ®ä¼ è¾“</p><p>â‘¢RT-&gt;RTæ•°æ®ä¼ è¾“</p><p>â‘£å¹¿æ’­å‘½ä»¤æ•°æ®ä¼ è¾“</p><p>â‘¤RT-&gt;RTå¹¿æ’­å‘½ä»¤æ•°æ®ä¼ è¾“</p><p>â‘¥ä¸å¸¦æ•°æ®å­—çš„æ–¹å¼å‘½ä»¤</p><p>â‘¦å¸¦æ•°æ®æ”¶æ–¹å¼å‘½ä»¤</p><p>â‘§å¸¦æ•°æ®å‘æ–¹å¼å‘½ä»¤</p><p>â‘¨ä¸å¸¦æ•°æ®å¹¿æ’­æ–¹å¼å‘½ä»¤</p><p>â‘©å¸¦æ•°æ®å¹¿æ’­æ–¹å¼å‘½ä»¤</p><h3 id="1553bå‘½ä»¤å­—ä¸æ¶ˆæ¯è¯´æ˜"><a class="markdownIt-Anchor" href="#1553bå‘½ä»¤å­—ä¸æ¶ˆæ¯è¯´æ˜"></a> &gt;&gt;1553Bå‘½ä»¤å­—ä¸æ¶ˆæ¯è¯´æ˜</h3><p>â‘ æ€»çº¿ä½¿ç”¨æ•ˆç‡</p><p>å¼ä¸­ï¼šNDWè¡¨ç¤ºæ•°æ®å­—æ•°ï¼›CWè¡¨ç¤ºæŒ‡ä»¤å­—æ•°ï¼›SWè¡¨ç¤º<br />çŠ¶æ€å­—æ•°ï¼› è¡¨ç¤ºæŒ‡ä»¤å“åº”æ—¶é—´ï¼› è¡¨ç¤ºæ¶ˆæ¯é—´éš”æ—¶é—´ã€‚</p><p>â‘¡æœ‰å‘½ä»¤å­—ï¼Œè€Œä¸è§çš„æœ‰æ•°æ®å­—ï¼›</p><p>â‘¢æœ‰å‘½ä»¤å­—ï¼Œè€Œä¸è§çš„æœ‰çŠ¶æ€å­—ã€‚</p><p>â‘£æœ‰æ•°æ®å­—ä¸€å®šæœ‰å‘½ä»¤å­—ï¼›</p><p>â‘¤æœ‰çŠ¶æ€å­—ä¸€å®šæœ‰å‘½ä»¤å­—ï¼›</p><h3 id="å‘½ä»¤å­—ä¸çŠ¶æ€å­—çš„åŒæ­¥å¤´ç›¸åŒåœ¨æ€»çº¿ä¸Šå¦‚ä½•åŒºåˆ†"><a class="markdownIt-Anchor" href="#å‘½ä»¤å­—ä¸çŠ¶æ€å­—çš„åŒæ­¥å¤´ç›¸åŒåœ¨æ€»çº¿ä¸Šå¦‚ä½•åŒºåˆ†"></a> â€»å‘½ä»¤å­—ä¸çŠ¶æ€å­—çš„åŒæ­¥å¤´ç›¸åŒï¼Œåœ¨æ€»çº¿ä¸Šå¦‚ä½•åŒºåˆ†ï¼Ÿ</h3><p>ç­”ï¼šå› ä¸ºå‘½ä»¤å­—ä¸çŠ¶æ€å­—è¦ä¹ˆæˆå¯¹å‡ºç°ï¼Œè¦ä¹ˆåªæœ‰å‘½ä»¤å­—ï¼Œ</p><p>æ‰€ä»¥åœ¨æ€»çº¿ä¸Šæœ€å…ˆå‡ºç°çš„è‚¯å®šæ˜¯å‘½ä»¤å­—ï¼Œä»¥æ­¤å¯ä»¥åŒºåˆ†ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br />åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/phnumber/article/details/49611913">https://blog.csdn.net/phnumber/article/details/49611913</a></p>]]></content>
      
      
      <categories>
          
          <category> ä¸²è¡Œé€šè®¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 1553B </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MIL-STD-1553Bç‰¹æ€§å¿…çŸ¥å¿…ä¼š</title>
      <link href="/2024/12/03/1553B/MIL-STD-1553B%E7%89%B9%E6%80%A7%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A/"/>
      <url>/2024/12/03/1553B/MIL-STD-1553B%E7%89%B9%E6%80%A7%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A/</url>
      
        <content type="html"><![CDATA[<h2 id="åŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#åŸºæœ¬æ¦‚å¿µ"></a> åŸºæœ¬æ¦‚å¿µ</h2><p>1553Bæ˜¯<strong>MILï¼STDï¼1553B</strong> çš„ç®€ç§°ï¼ŒMIL-STD-1553Bæ˜¯ä¸€ç§æŒ‡ä»¤/å“åº”å¼ä¸²è¡Œæ€»çº¿æ ‡å‡†ã€‚è¯¥æ€»çº¿æ ‡å‡†ç”±ç¾å›½å›½é˜²éƒ¨äº 1973 å¹´åˆ¶å®šå¹¶é¢å¸ƒï¼Œå…¨ç§°ä¸º<strong>é£æœºå†…æ—¶åˆ†åˆ¶æŒ‡ä»¤/å“åº”å¼å¤ç”¨æ•°æ®æ€»çº¿</strong>ã€‚ ä½¿ç”¨å…‰ç¼†ä»£æ›¿ç”µç¼†çš„ç‰ˆæœ¬ç§°ä¸ºMIL-STD-1773Bã€‚</p><h2 id="å†å²èƒŒæ™¯"><a class="markdownIt-Anchor" href="#å†å²èƒŒæ™¯"></a> å†å²èƒŒæ™¯</h2><p>åœ¨20ä¸–çºª60å¹´ä»£ä»¥å‰ï¼Œé£æœºæœºè½½ç”µå­ç³»ç»Ÿæ²¡æœ‰ æ ‡å‡†çš„é€šç”¨æ•°æ®é€šé“ï¼Œå„ä¸ªç”µå­è®¾å¤‡å•å…ƒä¹‹é—´è¿æ¥å¾€å¾€éœ€è¦å¤§é‡çš„ç”µç¼†ã€‚éšç€æœºè½½ç”µå­ç³»ç»Ÿçš„ä¸æ–­å¤æ‚åŒ–ï¼Œè¿™ç§é€šä¿¡æ–¹å¼æ‰€ç”¨çš„ç”µç¼†å°†ä¼šå ç”¨å¾ˆå¤§çš„ç©ºé—´å’Œé‡é‡ï¼Œè€Œä¸”å¯¹ä¼ è¾“çº¿çš„å®šä¹‰å’Œæµ‹è¯•ä¹Ÿè¾ƒä¸ºå¤æ‚ï¼Œè´¹ç”¨è¾ƒé«˜ã€‚ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œç¾å›½ SAE A2Kå§”å‘˜ä¼šåœ¨å†›æ–¹å’Œå·¥ä¸šç•Œçš„æ”¯æŒä¸‹äº1968å¹´å†³å®šå¼€å‘æ ‡å‡†çš„ä¿¡å·å¤šè·¯ä¼ è¾“ç³»ç»Ÿï¼Œå¹¶äº1973å¹´å…¬å¸ƒäº†MIL-STD-1553Bæ ‡å‡†ã€‚1973å¹´çš„1553Bå¤šè·¯ä¼ è¾“æ•°æ®æ€»çº¿æˆä¸ºäº†æœªæ¥å†›æœºå°†é‡‡ç”¨çš„æŠ€æœ¯ï¼Œå®ƒå–ä»£äº†åœ¨ä¼ æ„Ÿå™¨ã€è®¡ç®—æœºã€æŒ‡ç¤ºå™¨å’Œå…¶ä»–é£æœºè®¾å¤‡é—´ä¼ é€’æ•°æ®çš„åºå¤§è®¾å¤‡ï¼Œå¤§å¤§å‡å°‘äº†é£æœºé‡é‡ï¼Œå¹¶ä¸”ä½¿ç”¨ç®€å•ã€çµæ´»ï¼Œæ­¤æ ‡å‡†çš„ä¿®è®¢æœ¬äº1978å¹´å…¬å¸ƒï¼Œå³MIL-STD-1553Bæ ‡å‡†ã€‚1980å¹´ï¼Œç¾å›½ç©ºå†›åˆå¯¹è¯¥æ ‡å‡†ä½œäº†å±€éƒ¨ä¿®æ”¹å’Œè¡¥å……æ¨å‡ºäº† MIL-STD-1553B Notice Iã€‚1986 å¹´æ¨å‡ºäº† MIL-STD-1553B Notice IIï¼Œ å¹¶æ›´åä¸ºæ•°å­—å¼æ—¶åˆ†åˆ¶æŒ‡ä»¤/å“åº”å¼å¤ç”¨æ•°æ®æ€»çº¿ã€‚ã€‚è¯¥æ ‡å‡†ä½œä¸ºç¾å›½å›½é˜²éƒ¨æ­¦å™¨ç³»ç»Ÿé›†æˆå’Œæ ‡å‡†åŒ–ç®¡ç†çš„åŸºç¡€ä¹‹ä¸€ï¼Œè¢«å¹¿æ³›çš„ç”¨äºé£æœºç»¼åˆèˆªç”µç³»ç»Ÿã€å¤–æŒ‚ç‰©ç®¡ç†ä¸é›†æˆç³»ç»Ÿï¼Œå¹¶é€æ­¥æ‰©å±•åˆ°é£è¡Œ æ§åˆ¶ç­‰ç³»ç»ŸåŠå¦å…‹ã€èˆ°èˆ¹ã€èˆªå¤©ç­‰é¢†åŸŸã€‚å®ƒæœ€åˆç”±ç¾å›½ç©ºå†›ç”¨äºé£æœºèˆªç©ºç”µå­ç³»ç»Ÿï¼Œç›®å‰å·²å¹¿æ³›åº”ç”¨äºç¾å›½å’Œæ¬§æ´²æµ·ã€é™†ã€ç©ºä¸‰å†›ï¼Œè€Œä¸”æ­£åœ¨æˆä¸ºä¸€ç§å›½é™…æ ‡å‡†ã€‚æˆ‘å›½äº1987å¹´é¢å¸ƒäº†ç›¸åº”çš„å†›æ ‡ã€‚</p><h2 id="ä¸»è¦ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#ä¸»è¦ç‰¹ç‚¹"></a> ä¸»è¦ç‰¹ç‚¹</h2><ol><li>ä¸²è¡Œé€šä¿¡</li><li>ä¸»ä»å¼</li><li>åŠåŒå·¥</li><li>æ€»çº¿å‹æ‹“æ‰‘</li><li>åŒå†—ä½™ï¼Œçƒ­å¤‡</li><li>æ›¼å½»æ–¯ç‰¹ II å‹ç¼–ç </li><li>3 ç§ä¼ è¾“å­—</li><li>10 ç§æ¶ˆæ¯</li></ol><h2 id="ä¼ è¾“å­—"><a class="markdownIt-Anchor" href="#ä¼ è¾“å­—"></a> ä¼ è¾“å­—</h2><p>1553B ä¸€èˆ¬ä»¥å±è”½åŒç»çº¿ä¸ºä¼ è¾“ä»‹è´¨ã€é‡‡ç”¨æ›¼å½»æ–¯ç‰¹ II å‹åŒç›¸ç”µå¹³ç¼–ç ï¼ˆå³ç”±é«˜ç”µå¹³è·³å˜ä¸ºä½ç”µå¹³ è¡¨ç¤ºé€»è¾‘â€˜1â€™ï¼Œç”±ä½ç”µå¹³è·³å˜ä¸ºé«˜ç”µå¹³è¡¨ç¤ºé€»è¾‘â€˜0â€™ï¼‰ã€æ ‡å‡†æ³¢ç‰¹ç‡ä¸º 1MHzã€‚<br />1553Bæ¯ 20 ä½æ„æˆä¸€ä¸ªä¼ è¾“å­—ã€å‰ 3 ä½æ˜¯åŒæ­¥ä½ï¼Œä¸­é—´ 16 ä½æ˜¯æ•°æ®ä½ï¼Œæœ€åä¸€ä½æ˜¯å¥‡å¶æ ¡éªŒä½ï¼Œæ€»å…±æœ‰ä¸‰ç§ä¼ è¾“å­—ã€‚</p><ul><li><strong>å‘½ä»¤å­— CW</strong>ï¼šcommand wordï¼Œä¸€æ¡æ¶ˆæ¯çš„å¼€å¤´ï¼Œåªèƒ½ç”±ä¸»æœºå‘å‡ºï¼Œç”¨äºä¸»æœºå‘èµ·å¯¹ä»æœºçš„å‘½ä»¤ï¼Œä¸€æ¡æ¶ˆæ¯è‡³å°‘è¦å…·å¤‡ä¸€ä¸ªå‘½ä»¤å­—ã€‚</li><li><strong>æ•°æ®å­— DW</strong>ï¼šdata wordï¼Œç”¨äºä¼ è¾“æ•°æ®ï¼Œä¸»æœºå’Œä»æœºéƒ½å¯ä»¥å‘é€ã€‚</li><li><strong>çŠ¶æ€å­— SW</strong>ï¼šstatus wordï¼Œç”¨äºä»æœºå‘ä¸»æœºå›åº”å•æ’­å‘½ä»¤ã€‚åªèƒ½ç”±ä»æœºå‘é€ã€‚</li></ul><p><img src="46858de23fd6fe2415b9e65883115e20.png" alt="" /><br /><strong>å‘½ä»¤å­—è¯¦ç»†è¯´æ˜ï¼š</strong></p><table><thead><tr><th><strong>ä½åŸŸ</strong></th><th><strong>åç§°</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>[15-11]</td><td>RT åœ°å€</td><td>1553B æ€»çº¿ä¸Šçš„æ¯ä¸€ä¸ª RT éƒ½éœ€å…·æœ‰å”¯ä¸€çš„ RT åœ°å€ï¼Œä¸€èˆ¬ä½¿ç”¨èŒƒå›´ä¸ºâ€œ00000â€è‡³â€œ11110â€ã€‚</td></tr><tr><td>å½“å¹¿æ’­ä½¿èƒ½æ—¶ï¼ŒRT åœ°å€â€œ11111â€è¡¨ç¤ºå½“å‰æ¶ˆæ¯ä¸ºå¹¿æ’­æ¶ˆæ¯ã€‚</td><td></td><td></td></tr><tr><td>å½“ç³»ç»Ÿä¸å…è®¸å¹¿æ’­æ—¶ï¼Œâ€œ11111â€ä¹Ÿå¯ç”¨æ¥è¡¨ç¤ºä¸€ä¸ª RT åœ°å€ã€‚</td><td></td><td></td></tr><tr><td>[10]</td><td>T/Rä½</td><td>è¯¥ä½ç½®â€˜1â€™æ—¶ï¼Œè¡¨ç¤º RT å°†æ‰§è¡Œå‘é€æ“ä½œï¼›</td></tr><tr><td>è¯¥ä½ç½®â€˜0â€™æ—¶ï¼Œè¡¨ç¤º RT å°†æ‰§è¡Œæ¥æ”¶æ“ä½œã€‚</td><td></td><td></td></tr><tr><td>[9-5]</td><td>å­åœ°å€/æ–¹å¼æŒ‡ä»¤</td><td>ä¸ºâ€œ00000â€æˆ–â€œ11111â€æ—¶ï¼Œè¡¨ç¤º BC å°†é€šè¿‡æ¶ˆæ¯ä¸­çš„æ–¹å¼æŒ‡ ä»¤æ§åˆ¶ RT æ‰§è¡Œç›¸å…³æ“ä½œï¼Œbit4-bit0 è¡¨ç¤ºä¸€æ¡æ–¹å¼æŒ‡ä»¤ç¼–ç ã€‚</td></tr><tr><td>ä¸ºå…¶ä»–å€¼æ—¶è¡¨ç¤ºä¸ºå­åœ°å€ï¼Œå¯è§ä¸€ä¸ª èŠ‚ç‚¹å¯ä»¥æœ‰ 30 ä¸ªå­—åœ°å€ã€‚</td><td></td><td></td></tr><tr><td>[4-0]</td><td>æ•°æ®å­—è®¡æ•°/æ–¹å¼æŒ‡ä»¤</td><td>å½“æŒ‡ä»¤å­— bit9-bit5 ä½ä¸ºâ€œ00000â€æˆ–â€œ11111â€æ—¶ï¼Œbit4-bit0 è¡¨ç¤ºä¸€æ¡æ–¹å¼æŒ‡ä»¤ç¼–ç ã€‚</td></tr><tr><td>å½“æŒ‡ä»¤å­— bit9-bit5 ä½ä¸ä¸ºâ€œ00000â€å’Œâ€œ11111â€æ—¶ï¼Œbit4-bit0 è¡¨ç¤ºæ¶ˆæ¯ä¸­çš„æ•°æ®å­— ä¸ªæ•°ã€‚æ•°æ®å­—çš„ä¸ªæ•°æœ€å¤šä¸º 32 ä¸ªï¼Œbit4-bit0 ä¸ºâ€œ11111â€è¡¨ç¤ºæ•°æ®å­—ä¸ªæ•°ä¸º 31ï¼Œä¸ºâ€œ00000â€ è¡¨ç¤ºæ•°æ®å­—ä¸ªæ•°ä¸º 32ã€‚</td><td></td><td></td></tr></tbody></table><p>æ–¹å¼æŒ‡ä»¤è¡¨<br />æ–¹å¼ç æœ‰ 5 ä½ï¼Œå³æœ€å¤š 32 æ¡æŒ‡ä»¤ã€‚å…¶ä¸­ 0-15 å·æ–¹å¼ç ä¸å¸¦æ•°æ®ï¼Œ16-31 å·æ–¹å¼ç å¸¦ä¸€ä¸ªå­—çš„æ•°æ®ã€‚</p><table><thead><tr><th>æ–¹å¼æŒ‡ä»¤</th><th>åŠŸèƒ½</th><th>T/Rä½</th><th>æ˜¯å¦å¸¦æ•°æ®å­—</th><th>æ˜¯å¦å…è®¸å¹¿æ’­</th></tr></thead><tbody><tr><td>0x00</td><td>åŠ¨æ€æ€»çº¿æ§åˆ¶</td><td>1</td><td>å¦</td><td>å¦</td></tr><tr><td>0x01</td><td>åŒæ­¥</td><td>1</td><td>å¦</td><td>æ˜¯</td></tr><tr><td>0x02</td><td>å‘é€çŠ¶æ€å­—</td><td>1</td><td>å¦</td><td>å¦</td></tr><tr><td>0x03</td><td>å¼€å§‹è‡ªæ£€</td><td>1</td><td>å¦</td><td>æ˜¯</td></tr><tr><td>0x04</td><td>å‘é€å™¨å…³é—­</td><td>1</td><td>å¦</td><td>æ˜¯</td></tr><tr><td>0x05</td><td>å–æ¶ˆå‘é€å™¨å…³é—­</td><td>1</td><td>å¦</td><td>æ˜¯</td></tr><tr><td>0x06</td><td>ç¦æ­¢ç»ˆç«¯æ ‡è®°</td><td>1</td><td>å¦</td><td>æ˜¯</td></tr><tr><td>0x07</td><td>å–æ¶ˆç¦æ­¢ç»ˆç«¯æ ‡è®°</td><td>1</td><td>å¦</td><td>æ˜¯</td></tr><tr><td>0x08</td><td>å¤ä½RT</td><td>1</td><td>å¦</td><td>æ˜¯</td></tr><tr><td>0x10</td><td>å‘é€çŸ¢é‡å­—</td><td>1</td><td>ä»MEMORYå–å­—</td><td>å¦</td></tr><tr><td>0x11</td><td>å¸¦å­—åŒæ­¥</td><td>0</td><td>å­˜å‚¨åˆ°MEMORYï¼ˆä¹Ÿå¯èƒ½å­˜å‚¨åˆ°æ—¶é—´æ ‡å¿—å¯„å­˜å™¨</td><td>æ˜¯</td></tr><tr><td>0x12</td><td>å‘é€ä¸Šä¸€æ¡æŒ‡ä»¤å­—</td><td>1</td><td>ä»å†…éƒ¨å¯„å­˜å™¨å–å­—</td><td>å¦</td></tr><tr><td>0x13</td><td>å‘é€BITå­—</td><td>1</td><td>ä»å†…éƒ¨å¯„å­˜å™¨æˆ–è€…RAMå•å…ƒ</td><td>å¦</td></tr><tr><td>0x14</td><td>é€‰æ‹©çš„å‘é€å™¨å…³é—­</td><td>0</td><td>å­˜å‚¨åˆ°MEMORY</td><td>æ˜¯</td></tr><tr><td>0x15</td><td>é€‰æ‹©çš„å‘é€å™¨æ‰“å¼€</td><td>0</td><td>å­˜å‚¨åˆ°MEMORY</td><td>æ˜¯</td></tr></tbody></table><p><strong>çŠ¶æ€å­—è¯¦ç»†è¯´æ˜</strong>ï¼š</p><table><thead><tr><th><strong>ä½åŸŸ</strong></th><th><strong>åç§°</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>[15-11]</td><td>RT åœ°å€å­—æ®µ</td><td>è¿œç¨‹ç»ˆç«¯åœ°å€</td></tr><tr><td>[10]</td><td>æ¶ˆæ¯å‡ºé”™ä½</td><td>ç”¨æ¥è¡¨ç¤ºè¿œç¨‹ç»ˆç«¯åœ¨å·²æ”¶åˆ°çš„æ¶ˆæ¯ä¸­ï¼Œæœ‰ä¸€ä¸ªå­—æˆ–å¤šä¸ªå­—æ²¡æœ‰é€šè¿‡è§„å®šçš„æœ‰æ•ˆæ€§æµ‹è¯•ã€‚é€»è¾‘1è¡¨ç¤ºæ¶ˆæ¯æœ‰å·®é”™ï¼Œé€»è¾‘0è¡¨ç¤ºæ¶ˆæ¯æ— å·®é”™ã€‚æ‰€æœ‰çš„ç»ˆç«¯åº”æä¾›æ¶ˆæ¯å·®é”™ä½ã€‚</td></tr><tr><td>[9]</td><td>æµ‹è¯•æ‰‹æ®µä½</td><td>å®ƒåœ¨æ‰€æœ‰æ¡ä»¶ä¸‹æ€»ç½®ä¸ºé€»è¾‘0ã€‚è¯¥ä½ä¸ºå¯é€‰ä½ï¼Œå¦‚æœä½¿ç”¨ï¼ŒæŒ‡ä»¤å­—ä¸­çš„ç›¸åº”ä½ç½®ä¸ºé€»è¾‘1ï¼Œç”¨æ¥åŒºåˆ†æŒ‡ä»¤å­—å’ŒçŠ¶æ€å­—ã€‚</td></tr><tr><td>[8]</td><td>æœåŠ¡è¯·æ±‚ä½</td><td>è¡¨ç¤ºæœ¬è¿œç¨‹ç»ˆç«¯éœ€è¦æœåŠ¡ã€‚è¦æ±‚æ€»çº¿æ§åˆ¶å™¨å¯åŠ¨ä¸æœ¬è¿œç¨‹ç»ˆç«¯æˆ–å­ç³»ç»Ÿæœ‰å…³çš„é¢„å®šæ“ä½œã€‚å½“ä¸å•ä¸€è¿œç¨‹ç»ˆç«¯ç›¸è¿çš„å¤šä¸ªå­ç³»ç»Ÿåˆ†åˆ«è¯·æ±‚æœåŠ¡æ—¶ï¼Œè¿œç¨‹ç»ˆç«¯åº”å°†å®ƒä»¬å„è‡ªçš„æœåŠ¡è¯·æ±‚ä¿¡å·é€»è¾‘â€œæˆ–â€æˆçŠ¶æ€å­—ä¸­çš„å•ä¸€æœåŠ¡è¯·æ±‚ã€‚é€»è¾‘â€œæˆ–â€å®Œæˆåè®¾è®¡è€…å¿…é¡»å‡†å¤‡å¥½ä¸€ä¸ªæ•°æ®å­—ï¼Œå¹¶ä»¥ç›¸åº”ä½ç½®1æ¥æ ‡å¿—å…·ä½“çš„è¯·æ±‚æœåŠ¡å­ç³»ç»Ÿã€‚çŠ¶æ€å­—ä¸­çš„â€œæœåŠ¡è¯·æ±‚ä½â€ï¼Œåº”ç»´æŒåˆ°å‡ ä¸ªè¯·æ±‚ä¿¡å·éƒ½å¤„ç†å®Œä¸ºæ­¢ã€‚è¯¥ä½ä»…ç”¨æ¥æ¿€å‘éšæœºå‘ç”Ÿçš„æ•°æ®ä¼ è¾“æ“ä½œã€‚</td></tr><tr><td>[7-5]</td><td>å¤‡ç”¨çŠ¶æ€ä½</td><td>ç½®ä¸ºé€»è¾‘0ï¼Œè¿™äº›ä½ç•™ä½œä»Šåä½¿ç”¨</td></tr><tr><td>[4]</td><td>å¹¿æ’­æŒ‡ä»¤æ¥æ”¶ä½</td><td>è¡¨ç¤ºæœ¬è¿œç¨‹ç»ˆç«¯æ¥æ”¶åˆ°çš„ä¸Šä¸€æœ‰æ•ˆæŒ‡ä»¤å­—æ˜¯å¹¿æ’­æŒ‡ä»¤å­—ã€‚å½“ç³»ç»Ÿä¸­æœªé‡‡ç”¨å¹¿æ’­æ–¹å¼ï¼Œç½®è¯¥ä½ä¸ºé€»è¾‘0ã€‚</td></tr><tr><td>[3]</td><td>å¿™ä½</td><td>å¦‚æœè¿œç¨‹ç»ˆç«¯åœ¨å“åº”å‘é€ã€æŒ‡ä»¤æ—¶ç½®å¿™ä½ï¼Œé‚£ä¹ˆåªå‘å‡ºå®ƒçš„çŠ¶æ€å­—ã€‚è¯¥ä½ä¸ºå¯é€‰ä½ï¼Œé€»è¾‘0è¡¨ç¤ºç©ºé—²çŠ¶æ€æˆ–è€…éå¿™çŠ¶æ€ã€‚</td></tr><tr><td>[2]</td><td>å­ç³»ç»Ÿæ ‡å¿—ä½</td><td>å¦‚æœä¸ä¸€ä¸ªè¿œç¨‹ç»ˆç«¯ç›¸è¿çš„å‡ ä¸ªå­ç³»ç»Ÿéƒ½å‘ˆç°æ•…éšœçŠ¶æ€æ—¶ï¼Œåº”å°†å®ƒä»¬å„è‡ªçš„ä¿¡å·é€»è¾‘â€œæˆ–â€ï¼Œå½¢æˆçŠ¶æ€å­—ä¸­çš„å­ç³»ç»Ÿæ ‡å¿—ä½ï¼Œå¹¶å°†äº‹å…ˆå‡†å¤‡å¥½çš„ä¸€ä¸ªæ•°æ®å­—ä¸­çš„ç›¸åº”ä½ç½®1ï¼Œè®°å½•å®ƒä»¬çš„æ•…éšœæŠ¥å‘Šï¼Œç”¨äºè¿›ä¸€æ­¥æ£€æµ‹ã€åˆ†æã€‚è¯¥ä½ä¸ºå¯é€‰ä½ã€‚é€»è¾‘1è¡¨ç¤ºæœ‰æ ‡å¿—ï¼Œé€»è¾‘0è¡¨ç¤ºæ— æ ‡ã€‚ç”¨æ¥å‘æ€»çº¿æ§åˆ¶å™¨æŒ‡å‡ºå­ç³»ç»Ÿæ•…éšœçŠ¶æ€ï¼Œä¸”è­¦å‘Šæ€»çº¿æ§åˆ¶å™¨æœ¬è¿œç¨‹ç»ˆç«¯æä¾›çš„æ•°æ®å¯èƒ½æ— æ•ˆã€‚</td></tr><tr><td>[1]</td><td>åŠ¨æ€æ€»çº¿æ§åˆ¶æ¥æ”¶ä½</td><td>è‹¥ç½®ä¸ºé€»è¾‘ 1ï¼Œç”¨æ¥è¡¨ç¤ºæœ¬è¿œç¨‹ç»ˆç«¯æ¥å—ç¬¦åˆåè®®æœ¬èº«è§„å®šçš„åŠ¨æ€æ€»çº¿æ§åˆ¶çš„æˆå‘½ã€‚é€»è¾‘ 0 è¡¨ç¤ºä¸æ¥å—ã€‚è¯¥ä½ä¸ºå¯é€‰ä½ã€‚</td></tr><tr><td>[0]</td><td>ç»ˆç«¯æ ‡å¿—ä½</td><td>é€»è¾‘1è¡¨ç¤ºæœ¬è¿œç¨‹ç»ˆç«¯å†…éƒ¨å­˜åœ¨æ•…éšœï¼Œè¯·æ±‚æ€»çº¿æ§åˆ¶å™¨å¹²é¢„ã€‚é€»è¾‘0è¡¨ç¤ºä¸å­˜åœ¨æ•…éšœã€‚è¯¥ä½ä¸ºå¯é€‰ä½ã€‚</td></tr></tbody></table><h2 id="ä¼ è¾“æ¶ˆæ¯"><a class="markdownIt-Anchor" href="#ä¼ è¾“æ¶ˆæ¯"></a> ä¼ è¾“æ¶ˆæ¯</h2><p>1553B æ€»çº¿çš„ä¿¡æ¯ä¼ è¾“ä»¥æ¶ˆæ¯ä¸ºå•ä½ï¼Œæ¶ˆæ¯æ˜¯ä»¥ä¸åŒçš„å­—å’ŒçŠ¶æ€å“åº”é—´éš”ç»„æˆçš„ä¿¡å·åºåˆ—ã€‚ä¿¡æ¯é‡æœ€å¤§é•¿åº¦è¾¾ 32 ä¸ªå­—ï¼Œå¹¶é‡‡ç”¨æŒ‡ä»¤/å“åº”å¼ä¼ è¾“åè®®å®ç°åŠåŒå·¥ä¼ è¾“æ–¹å¼ã€‚ 1553B æ€»çº¿æ”¯æŒæ€»å…±10ç§æ¶ˆæ¯æ ¼å¼ï¼ŒåŒ…æ‹¬ï¼š<br />ï¼ˆ1ï¼‰ BC-RT æ¶ˆæ¯ï¼›<br />ï¼ˆ2ï¼‰ RT-BC æ¶ˆæ¯ï¼›<br />ï¼ˆ3ï¼‰ RT-RT æ¶ˆæ¯ï¼›<br />ï¼ˆ4ï¼‰ ä¸å¸¦æ•°æ®å­—çš„æ–¹å¼æŒ‡ä»¤ï¼›<br />ï¼ˆ5ï¼‰ å‘é€æ–¹å¼æŒ‡ä»¤ï¼ˆå¸¦æ•°æ®å­—ï¼‰ï¼›<br />ï¼ˆ6ï¼‰ æ¥æ”¶æ–¹å¼æŒ‡ä»¤ï¼ˆå¸¦æ•°æ®å­—ï¼‰ï¼›<br />ï¼ˆ7ï¼‰ BC-RT å¹¿æ’­æ¶ˆæ¯ï¼›<br />ï¼ˆ8ï¼‰ RT-RTs å¹¿æ’­æ¶ˆæ¯ï¼›<br />ï¼ˆ9ï¼‰ ä¸å¸¦æ•°æ®å­—çš„å¹¿æ’­æ–¹å¼æŒ‡ä»¤ï¼›<br />ï¼ˆ10ï¼‰ å¸¦æ•°æ®å­—çš„å¹¿æ’­æ–¹å¼æŒ‡ä»¤ã€‚<br />æ¶ˆæ¯æ˜¯æ„æˆ1553Bæ€»çº¿é€šè®¯çš„åŸºæœ¬å•ä½ï¼Œå¦‚æœéœ€è¦å®Œæˆä¸€å®šçš„åŠŸèƒ½ï¼Œå°±è¦å°†å¤šä¸ªæ¶ˆæ¯ç»„ç»‡èµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªæ–°çš„ç»“æ„å«åšå¸§(Frame)ã€‚<br /><img src="398d0ac05e081085ffe69487343f195a.png" alt="image.png" /></p><h2 id="å…³é”®æ—¶é—´å‚æ•°"><a class="markdownIt-Anchor" href="#å…³é”®æ—¶é—´å‚æ•°"></a> å…³é”®æ—¶é—´å‚æ•°</h2><ul><li><strong>å“åº”æ—¶é—´</strong>ï¼š è¿œç¨‹ç»ˆç«¯å“åº”æœ‰æ•ˆæŒ‡ä»¤å­—çš„é—´éš”æ—¶é—´ä¸º4.0~12.0Âµsã€‚è¯¥æ—¶é—´ä¸ºä»çŠ¶æ€å­—ä¹‹å‰çš„æœ€åä¸€ä¸ªå­—çš„æœ€åä¸€ä½çš„ä¸­é—´è¿‡é›¶ç‚¹åˆ°çŠ¶æ€å­—åŒæ­¥å¤´ä¸­é—´è¿‡é›¶ç‚¹çš„æ—¶é—´ã€‚</li><li><strong>æœ€å°æ— å“åº”è¶…æ—¶</strong>ï¼š æ€»çº¿æ§åˆ¶å™¨åœ¨ä¸€è·¯æ€»çº¿ä¸Šå¯åŠ¨ä¼ è¾“æ—¶ï¼Œæµ‹é‡ç”±å®ƒå‘å‡ºçš„æœ€åä¸€ä¸ªå­—çš„æœ€åä¸€ä½çš„ä¸­é—´è¿‡é›¶ç‚¹èµ·ï¼Œåˆ°æœŸæœ›çš„çŠ¶æ€å­—åŒæ­¥å¤´çš„ä¸­é—´è¿‡é›¶ç‚¹çš„æ—¶é—´ã€‚å½“è¯¥æ—¶é—´è¶…è¿‡14.0Âµsæ—¶ï¼Œä½œæ— å“åº”è¶…æ—¶å¤„ç†ã€‚</li><li><strong>æ¶ˆæ¯é—´éš”</strong>ï¼š æ€»çº¿æ§åˆ¶å™¨æ‰€å‘æ¶ˆæ¯ä¹‹é—´çš„æœ€å°é—´éš”æ—¶é—´ä¸º4.0Âµsã€‚è¯¥æ—¶é—´ä¸ºä»å‰ä¸€æ¶ˆæ¯æœ€åä¸€ä½çš„ä¸­é—´è¿‡é›¶ç‚¹åˆ°é‚»æ¥çš„æ¶ˆæ¯ä¸­æŒ‡ä»¤å­—åŒæ­¥å¤´çš„ä¸­é—´è¿‡é›¶ç‚¹çš„æ—¶é—´ã€‚</li></ul><h2 id="è®¾å¤‡åˆ†ç±»"><a class="markdownIt-Anchor" href="#è®¾å¤‡åˆ†ç±»"></a> è®¾å¤‡åˆ†ç±»</h2><p>æ ¹æ®è®¾å¤‡åœ¨æ€»çº¿ç³»ç»Ÿä¸­çš„åŠŸèƒ½ï¼Œ1553B æ€»çº¿é€šä¿¡åè®®å°†æ€»çº¿ä¸Šçš„ç»ˆç«¯å•å…ƒåˆ†ä¸ºæ€»çº¿æ§åˆ¶å™¨ã€è¿œç½®ç»ˆç«¯å’Œæ€»çº¿ç›‘è§†å™¨ä¸‰ç§ã€‚</p><ol><li><strong>æ€»çº¿æ§åˆ¶å™¨</strong>ï¼ˆBus Controllerï¼Œä»¥ä¸‹ç®€ç§°ä¸º <strong>BC</strong>ï¼‰æ˜¯æŒ‡å¯åŠ¨æ€»çº¿ä¸Šæ¶ˆæ¯ä¼ è¾“çš„ç»ˆç«¯ï¼Œä¹Ÿæ˜¯æ€»çº¿ä¸Šå”¯ä¸€å…·æœ‰æ€»çº¿æ§åˆ¶æƒçš„ç»ˆç«¯ã€‚æŒ‰ç…§åè®®è§„å®šä»»ä½•æ—¶å€™æ€»çº¿ä¸Šå¿…é¡»æœ‰ä¸”åªèƒ½æœ‰ä¸€ä¸ªæ€»çº¿æ§åˆ¶å™¨ã€‚BCè´Ÿè´£æ€»çº¿çš„è°ƒåº¦ã€ç®¡ç†ï¼Œæ˜¯æ€»çº¿é€šè®¯çš„å‘èµ·è€…å’Œç»„ç»‡è€…ã€‚</li><li><strong>æ€»çº¿ç›‘è§†å™¨</strong>ï¼ˆBus Monitor Terminalï¼Œä»¥ä¸‹ç®€ç§°ä¸º <strong>BM <strong>æˆ–</strong> MT</strong>ï¼‰æ˜¯æŒ‡ç›‘è§†æ€»çº¿ä¸Šçš„æ•°æ®æµï¼Œå¹¶æœ‰é€‰æ‹©åœ°æå–æœ‰ç”¨ä¿¡æ¯çš„ç»ˆç«¯ã€‚BMå¯¹æ€»çº¿ä¸Šçš„æ‰€æœ‰é€šè®¯è¿‡ç¨‹å¯¹æ€»çº¿ç›‘è§†å™¨æ¥è¯´éƒ½æ˜¯å¯è§çš„ï¼Œå› è€Œæ€»çº¿ç›‘è§†å™¨èƒ½å¤Ÿå…¨éƒ¨æˆ–é€‰æ‹©æ€§çš„ç›‘è§†æ€»çº¿çš„é€šè®¯è¿‡ç¨‹ï¼Œå¯¹é€šè®¯çŠ¶æ€è¿›è¡Œåˆ†æå’Œåˆ¤æ–­ï¼Œç»™å‡ºå‚ä¸æ€»çº¿é€šè®¯çš„æ€»çº¿æ§åˆ¶å™¨å’Œå„ä¸ªè¿œç½®ç»ˆç«¯çš„è¿è¡ŒçŠ¶æ€å’Œå¥åº·çŠ¶æ€ï¼ŒBMåœ¨æ€»çº¿ä¸Šä¸æ˜¯å¿…é¡»çš„ã€‚</li><li><strong>è¿œç½®ç»ˆç«¯</strong>ï¼ˆRemote Terminalï¼Œä»¥ä¸‹ç®€ç§°ä¸º <strong>RT</strong>ï¼‰æ˜¯æŒ‡æ€»çº¿ä¸Šé™¤æ€»çº¿æ§åˆ¶å™¨å’Œç›‘è§†å™¨ä¹‹å¤–çš„æ‰€æœ‰å…¶ä»–ç»ˆç«¯ï¼Œæ¯ ä¸ª RT æœ€å¤šå¯ä»¥è¿æ¥ 30 ä¸ªå­ç³»ç»Ÿï¼ˆå­ç³»ç»Ÿæ˜¯æŒ‡é€šè¿‡ 1553B æ€»çº¿æ¥æ”¶æ•°æ®ä¼ è¾“æœåŠ¡çš„è®¾å¤‡æˆ–å•å…ƒï¼‰ã€‚RTåªèƒ½è¢«åŠ¨çš„æ¥æ”¶æˆ–è€…å‘é€å’Œè‡ªå·±æœ‰å…³çš„æ•°æ®ï¼Œå¯¹è¿œç¨‹ç»ˆç«¯æ¥è¯´ï¼Œå’Œè‡ªå·±æ— å…³çš„æ•°æ®æ˜¯é€æ˜çš„ï¼Œè¿œç¨‹ç»ˆç«¯æ ¹æ®é¢„å…ˆè®¾å®šçš„é€šè®¯åè®®æ¥æ”¶å’Œå‘é€æ•°æ®ã€‚</li></ol><h2 id="è¿æ¥æ‹“æ‰‘"><a class="markdownIt-Anchor" href="#è¿æ¥æ‹“æ‰‘"></a> è¿æ¥æ‹“æ‰‘</h2><p>1553Bä»¥æ€»çº¿å‹æ‹“æ‰‘å±è”½åŒç»çº¿è¿æ¥æ‰€æœ‰ç»ˆç«¯ï¼Œæ€»çº¿ä¸¤ç«¯æ— èŠ‚ç‚¹æ—¶éœ€è¦é…å¤‡ç»ˆç«¯ç”µé˜»ï¼Œå‡å°‘ä¿¡å·åå°„é€ æˆçš„å¹²æ‰°ã€‚å…¶ä»–èŠ‚ç‚¹é€šè¿‡è¾ƒçŸ­çš„åˆ†æ”¯çº¿è¿æ¥åˆ°ä¸»å¹²æ€»çº¿ä¸Šï¼Œåˆ†æ”¯çº¿å¯ä»¥æ˜¯ç›´è¿ä¹Ÿå¯ä»¥æ˜¯å˜å‹å™¨è€¦åˆè¿æ¥ï¼Œå˜å‹å™¨è€¦åˆè¿æ¥æ–¹å¼æŠ—å¹²æ‰°ç‰¹æ€§æ›´å¼ºï¼Œåˆ†æ”¯çº¿ä¹Ÿå…è®¸æ›´é•¿ï¼Œå¹¶ä¸”èƒ½è§„é¿å•ç‚¹çŸ­è·¯æ•…éšœã€‚ä¹‹æ‰€ä»¥é‡‡ç”¨æ›¼å½»æ–¯ç‰¹ç è¿›è¡Œç¼–ç ä¼ è¾“æ˜¯å› ä¸ºé€‚ç”¨äºå˜å‹å™¨è€¦åˆï¼Œç”±äºç›´æ¥è€¦åˆä¸åˆ©äºç»ˆç«¯æ•…éšœéš”ç¦»ï¼Œä¼šå› ä¸ºä¸€ä¸ªç»ˆç«¯æ•…éšœè€Œé€ æˆæ•´ä¸ªæ€»çº¿ç½‘ç»œçš„å®Œå…¨ç˜«ç—ªï¼Œæ‰€ä»¥åè®®ä¸­æ˜ç¡®æŒ‡å‡ºä¸æ¨èä½¿ç”¨ç›´æ¥è€¦åˆæ–¹å¼ã€‚<br />1553B æ•°æ®æ€»çº¿é‡‡ç”¨åŒå†—ä½™ç»“æ„ï¼Œåˆ†åˆ«ç§°ä¹‹ä¸ºæ€»çº¿ A å’Œæ€»çº¿ Bã€‚æ€»çº¿æ§åˆ¶å™¨å¯ä»¥æ ¹æ®éœ€è¦ï¼Œé€‰æ‹©é€šè¿‡æ€»çº¿ A ä¼ è¾“æ¶ˆæ¯æˆ–è€…é€šè¿‡æ€»çº¿ B ä¼ è¾“æ¶ˆæ¯ã€‚<br />1553B æ€»çº¿çš„ç½‘ç»œç»“æ„ç®€å•ã€ç»ˆç«¯æ‰©å±•æ–¹ä¾¿ã€ç›¸å¯¹æ˜“äºå®ç°å†—ä½™ï¼Œå¯ä»¥è½»å·§çµæ´»åœ°å®ç°ç³»ç»Ÿè®¾è®¡å’Œè®¾å¤‡æ›´æ–°ã€‚<br /><img src="47aae04dffe46c6c9fd503aae7166c38.png" alt="" /><br />åŸºäº 1553B æ€»çº¿çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæœ‰ä¸”åªæœ‰ä¸€ä¸ªBCï¼Œæœ€å¤šå¯ä»¥æ‹¥æœ‰ 32 ä¸ª RTï¼Œå¯é€‰æ‹©æ€§çš„é…å¤‡ä¸€ä¸ªMTã€‚å½“å…è®¸ä½¿ç”¨å¹¿æ’­æ¶ˆæ¯æ—¶ï¼Œ æœ€å¤šå¯ä»¥æ‹¥æœ‰ 31 ä¸ª RTã€‚æ•´ä¸ªç³»ç»Ÿé‡‡ç”¨åŠåŒå·¥çš„ä¼ è¾“æ¨¡å¼ï¼Œä»¥æŒ‡ä»¤/å“åº”æ–¹å¼å¼‚æ­¥å·¥ä½œã€‚<br /><img src="53c46a76ba51373c39c5e04a0e1a87d2.png" alt="image.png" /></p><h2 id="å®ç‰©å›¾ç‰‡"><a class="markdownIt-Anchor" href="#å®ç‰©å›¾ç‰‡"></a> å®ç‰©å›¾ç‰‡</h2><p><img src="24aa05b8c1eba6ac32c1c3597bf86109.png" alt="" /></p><p><img src="6c7cf9ea789421cfe0660c3aaf6635e3.gif" alt="" /><br /><img src="e4dbf8d7e080ebbf8d2ac7b99004284b.png" alt="" /><br /><img src="01474af530459ea285e30425135a2740.png" alt="" /></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br />åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/ScilogyHunter/article/details/140693514">https://blog.csdn.net/ScilogyHunter/article/details/140693514</a></p>]]></content>
      
      
      <categories>
          
          <category> ä¸²è¡Œé€šè®¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 1553B </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1553Bé€šä¿¡é¡¹ç›®å¼€å‘</title>
      <link href="/2024/12/03/1553B/1553B%E9%80%9A%E4%BF%A1%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/"/>
      <url>/2024/12/03/1553B/1553B%E9%80%9A%E4%BF%A1%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘æ¥äº†ä¸ªé¡¹ç›®ï¼Œéœ€è¦ç”¨1553Båè®®é€šä¿¡ï¼Œä»…ä½œä¸ºRTç«¯å£è¿›è¡Œé€šä¿¡ï¼Œæ§åˆ¶å™¨é‡‡ç”¨ARMã€‚</p><p>ä½¿ç”¨èŠ¯ç‰‡ä¸ºå›½äº§çš„BU61580èŠ¯ç‰‡ï¼ŒåŠŸèƒ½å’Œå¼•è„šå’ŒDDCã€‚</p><h2 id="ç³»ç»Ÿç»„æˆ"><a class="markdownIt-Anchor" href="#ç³»ç»Ÿç»„æˆ"></a> ç³»ç»Ÿç»„æˆ</h2><p>MIL-STD-1553Bæ—¶åˆ†åˆ¶æŒ‡ä»¤/å“åº”å¤šè·¯ä¼ è¾“æ•°æ®æ€»çº¿é‡‡ç”¨<strong>åŠåŒå·¥ä¼ è¾“æ–¹å¼</strong>ã€‚MIL-STD-1553Bæ•°æ®æ€»çº¿ä¸Šçš„èŠ‚ç‚¹åˆ†ä¸ºä¸‰ç§ä¸åŒçš„ç»ˆç«¯ç±»å‹:æ€»çº¿æ§åˆ¶å™¨BC( Bus controller)ã€ è¿œç¨‹ç»ˆç«¯RT ( Remote Terminal) åŠç›‘è§†å™¨MT ( MonitorTerminal)ï¼Œå…¸å‹æ‹“æ‰‘ç»“æ„è§å›¾</p><p><img src="b51f4850ae89ee51203be0169952dac0.png" alt="" /></p><p><img src="735d8c3fdc772c60f51fd55dcfb982df.png" alt="" /></p><p><img src="96ff720b6ca01c2796bf6d9794593879.png" alt="" /></p><p>æ€»çº¿æ§åˆ¶å™¨BCï¼š1553B æ€»çº¿ä¸Šçš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå”¯ä¸€ä¸”ä¸å¯æˆ–ç¼ºã€‚ä¸€ä¸ª1553Bæ€»çº¿ç½‘ç»œä¸Šåªèƒ½æœ‰ä¸€ä¸ªç»ˆç«¯å·¥ä½œäºBCæ¨¡å¼ï¼Œå®ƒç”¨æ¥å¯åŠ¨å’Œæ§åˆ¶æ•°æ®çš„ä¼ è¾“ã€‚æ€»çº¿æ§åˆ¶å™¨æŒ‰åŠŸèƒ½å¯åˆ†ä¸ºæ™®é€šæ¨¡å¼å’Œå¢å¼ºæ¨¡å¼ä¸¤ç§ã€‚å…¶ä¸­ï¼Œå¢å¼ºæ¨¡å¼è¿˜æä¾›äº†å¸§è‡ªåŠ¨é‡å¤ã€è‡ªåŠ¨é‡è¯•åŠç”±å¤„ç†å™¨ç¼–ç¨‹è®¾ç½®æ¶ˆæ¯æ—¶é—´é—´éš”ç­‰åŠŸèƒ½ã€‚</p><p>è¿œç¨‹ç»ˆç«¯RTï¼šå„ä¸ªå­ç³»ç»Ÿä¸æ•´ä¸ª1553B æ€»çº¿ç½‘ç»œçš„æ¥å£ï¼Œä¸åŒçš„RTåœ°å€ä»£è¡¨äº†ä¸åŒçš„RTç»ˆç«¯ï¼ŒÂ ä¸€ä¸ª1553Bæ€»çº¿ç½‘ç»œ<strong>æœ€å¤šæœ‰31ä¸ªç»ˆç«¯å·¥ä½œ</strong>äºRTæ¨¡å¼ã€‚RTåœ°å€ä¸€å…±ç”±å…­ä½ç»„æˆï¼Œå…¶ä¸­5ä½ä¸ºåœ°å€ä½ï¼Œä¸€ä½ä¸ºå¥‡å¶æ ¡éªŒä½ï¼ˆè¿™é‡Œè¦æ³¨æ„ï¼Œåœ°å€ä¹Ÿæœ‰æ ¡éªŒä½ï¼Œæœªå¿…å¤ªä¸¥è°¨äº†ç‚¹ï¼‰ã€‚åªæœ‰å½“æ€»çº¿æ§åˆ¶å™¨å‘æŸä¸ªRTå‘å‡ºæŒ‡ä»¤åï¼Œæ‰èƒ½å¯åŠ¨1553Bæ€»çº¿_ä¸Šçš„æ•°æ®ä¼ è¾“ï¼Œè¯¥RTæ‰èƒ½ è¿›è¡Œæ•°æ®ä¼ è¾“ã€‚è¿œç¨‹ç»ˆç«¯æŒ‰åŠŸèƒ½ä¹Ÿåˆ†ä¸ºæ™®é€šæ¨¡å¼å’Œå¢å¼ºæ¨¡å¼ã€‚åœ¨å¢å¼ºæ¨¡å¼ä¸‹ï¼Œå…¶æä¾›äº†åŒç¼“å†²æ¨¡å¼ã€å¾ªç¯ç¼“å†²æ¨¡å¼ç­‰å­˜å‚¨å™¨ç®¡ç†æ¨¡å¼ã€‚åç»­é¡¹ç›®è®¾è®¡æ˜¯ä½¿ç”¨RTçš„å¢å¼ºæ¨¡å¼ã€‚ è¿™é‡Œçš„ç¼“å†²æ¨¡å¼ï¼Œæ˜¯ç±»ä¼¼äºFIFOçš„ä¸œè¥¿ï¼Œè®¾è®¡æ˜¯ä¸ºäº†ä¿¡æ¯å¤„ç†çš„ä¸åŒæ­¥é—®é¢˜ã€‚æœ‰ç¼“å†²è¿˜ä¸æ­¢ä¸€ä¸ªï¼Œé‚£å°±ä¼šå­˜åœ¨å¯¹ç¼“å†²åŒºç¼–å·çš„éœ€è¦ï¼Œè¿™ä¸ªæœ‰ä¸ªé‡è¦æ¦‚å¿µåé¢ä¼šæåˆ°ï¼Œè¿™é‡Œä¸å¤šè¯´ã€‚</p><p>æ€»çº¿ç›‘æ§å™¨MTï¼šç›‘æ§å’Œè®°å½•æ€»çº¿ä¸Šå„ç±»çŠ¶å†µçš„ç»ˆç«¯ï¼Œå®ƒåŒæ ·æ˜¯ç”±æ€»çº¿æ§åˆ¶å™¨è¿›è¡Œæ§åˆ¶ï¼Œä½†å…¶ä¸å‚ä¸ä»»ä½•1553B æ€»çº¿ç½‘ç»œçš„ä¼ è¾“ã€‚æ€»çº¿ç›‘æ§å™¨æœ‰3ç§å·¥ä½œæ¨¡å¼:å­—ç›‘æ§æ¨¡å¼ã€å¯é€‰æ‹©æ¶ˆæ¯ç›‘æ§æ¨¡å¼å’ŒåŒæ­¥RT/ä½•é€‰æ‹©æ¶ˆæ¯ç›‘æ§æ¨¡å¼ã€‚</p><h2 id="åè®®è§„èŒƒ"><a class="markdownIt-Anchor" href="#åè®®è§„èŒƒ"></a> åè®®è§„èŒƒ</h2><h3 id="1-ä¼ è¾“æ ¼å¼å’Œæ–¹æ³•"><a class="markdownIt-Anchor" href="#1-ä¼ è¾“æ ¼å¼å’Œæ–¹æ³•"></a> 1 ä¼ è¾“æ ¼å¼å’Œæ–¹æ³•</h3><p>MIL-STD- 1553Bæ•°æ®æ€»çº¿çš„ä¼ è¾“é€Ÿç‡ä¸º1Mb/sï¼Œ ä»¥å‘½ä»¤/å“åº”æ–¹å¼è¿›è¡Œæ•°æ®æ¶ˆæ¯çš„ä¼ è¾“ï¼Œä¼ è¾“å­—çš„é•¿åº¦ä¸º20ä½ï¼Œå…¶é€šä¿¡æ–¹å¼é‡‡ç”¨çš„æ˜¯åŠåŒå·¥æ–¹å¼ã€‚åŒæ—¶ï¼Œå¯¹äºæ•…éšœå®¹é”™é‡‡ç”¨äº†åŒå†—ä½™ç³»ç»Ÿï¼Œåœ¨å®é™…ä¸­ç¬¬2æ¡é€šé“å¤„äºçƒ­å¤‡ä»½çŠ¶æ€ã€‚æ€»çº¿æ§åˆ¶å™¨å¯åŠ¨å¹¶æ§åˆ¶1553Bæ•°æ®æ€»çº¿ä¸Šæ‰€æœ‰æ•°æ®æ¶ˆæ¯çš„ä¼ è¾“ã€‚1553B æ•°æ®æ€»çº¿æœ‰10 ç§æ¶ˆæ¯ä¼ è¾“æ ¼å¼ï¼Œæ¯æ¡æ¶ˆæ¯ç”±è®¸å¤šå­—æ„æˆï¼Œæ‰€æœ‰æ¶ˆæ¯å­—åœ¨1553Bæ€»çº¿ä¸Šæ˜¯ä»¥åºåˆ—è„‰å†²ç è°ƒåˆ¶å½¢å¼ä¼ è¾“çš„ï¼Œæ•°æ®ç¼–ç é‡‡ç”¨ManchesterIIåŒææ€§ç ï¼Œæ‰€æœ‰ä¸ç”¨çš„ä½éƒ½è§†ä¸º0ã€‚è¿™ç§ç¼–ç çš„ç‰¹ç‚¹æ˜¯æ¯ä¸ªç ä½ä¸­é—´æœ‰ä¸€ä¸ªè·³å˜ï¼Œâ€œ1â€ä¿¡å·çš„è·³å˜æ˜¯ç”±é«˜ç”µå¹³åˆ°ä½ç”µå¹³çš„è´Ÿè·³å˜;è€Œâ€œ0â€ä¿¡å·æ˜¯ç”±ä½ç”µå¹³åˆ°é«˜ç”µå¹³çš„æ­£è·³å˜ï¼Œä¿¡å·çš„è¿‡ é›¶ç‚¹åœ¨ä¸­é—´ã€‚å¦‚å›¾æ‰€ç¤ºã€‚</p><p><img src="2781e80693fdc434dd0c3b7ff194503a.png" alt="" /></p><p>åŒå†—ä½™ï¼šå°±æ˜¯ABä¸¤æ¡çº¿è¿›è¡Œä¼ è¾“ï¼ŒAè¿™è¾¹å¦‚æœæ–­å¼€å°±å»Bçº¿ä¼ è¾“ã€‚</p><p><img src="6f8fbd871cf7f768de79f3865de2c197.png" alt="" /></p><p>è¿™ä¸ªä»€ä¹ˆä»€ä¹ˆç¼–ç æ–¹å¼ï¼Œç®€å•æ¥è¯´ï¼šä¸Šå‡æ²¿ä»£è¡¨0ï¼Œä¸‹é™æ²¿ä»£è¡¨1ï¼Œè¿™æ ·ç›¸å¯¹äºé«˜ä½ç”µå¹³çš„ç¼–ç æ–¹å¼ï¼Œä¼šé™ä½ä¸€åŠçš„æ•°æ®å¸¦å®½ï¼Œä¸è¿‡ä¼šæ›´ä¸¥è°¨ï¼Œå®¹é”™ç‡ä¼šæ›´é«˜ã€‚</p><h4 id="ä¼ è¾“å­—æ ¼å¼"><a class="markdownIt-Anchor" href="#ä¼ è¾“å­—æ ¼å¼"></a> ä¼ è¾“å­—æ ¼å¼</h4><p>1553Bæ¶ˆæ¯ç”±ä¸‰ç§ç±»å‹çš„å­—ç»„æˆ:å‘½ä»¤å­—ã€æ•°æ®å­—å’ŒçŠ¶æ€å­—ã€‚æ¯ä¸ªå­—æœ‰20ä½ï¼Œå‰3ä½æ˜¯åŒæ­¥å­—å¤´ï¼Œç´§è·Ÿçš„16ä½æ˜¯ä¿¡æ¯æœ‰æ•ˆä½ï¼Œä¹‹åè¿˜æœ‰1ä½å¥‡å¶æ ¡éªŒä½ã€‚</p><p><img src="5325e9ab36fc3a8867fcd390d33795ff.png" alt="" /></p><p>1)å‘½ä»¤å­—ç”±3ä½åŒæ­¥å­—å¤´ä½ã€5ä½RTåœ°å€ä½ã€1ä½å‘é€/æ¥æ”¶ä½ã€5ä½å­åœ°å€/æ–¹å¼ä½ã€5ä½æ•°æ®å­—è®¡æ•°1æ–¹å¼ç ä½ï¼Œä»¥åŠ1ä½å¥‡å¶æ ¡éªŒä½æ„æˆã€‚</p><p>è¿™é‡Œå‰ä¸‰ä¸ªå­—èŠ‚ä¸æ˜¯æ ‡å‡†çš„é‚£ä»€ä¹ˆæ–¯ç‰¹ç ï¼Œæ‹‰ä¿©å­—èŠ‚é«˜ï¼Œç„¶åæ‹‰ä½å°±è¡¨ç¤ºå‘½ä»¤å­—</p><p>è¿™é‡Œæ¶‰åŠåˆ°ä¸¤ä¸ªé‡è¦æ¦‚å¿µï¼šç»ˆç«¯åœ°å€å’Œå­åœ°å€ã€‚</p><p>æˆ‘çš„ç†è§£ï¼šç»ˆç«¯åœ°å€æ˜¯æ¯ä¸ªç»ˆç«¯çš„ç‰¹æœ‰ç¼–å·ï¼Œé€šè¿‡ç»ˆç«¯åœ°å€å¯ä»¥å¯¹åº”æ‰¾åˆ°ç³»ç»Ÿä¸­çš„æŸä¸ªç»ˆç«¯ã€‚å­åœ°å€å°±ç›¸å½“äºè¿™ä¸ªç»ˆç«¯å†…éƒ¨çš„å­åŠŸèƒ½ï¼Œå¯ä»¥ç†è§£æˆå¤šä¸ªFIFOç¼“å†²åŒºè¢«ç¼–å·äº†ï¼Œéœ€è¦è¯»å†™å“ªä¸ªFIFOå°±å†™å¯¹åº”å­åœ°å€ã€‚</p><p>è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„T/Rä½ï¼Œå½“T/R=1æ—¶ï¼Œä»£è¡¨å‘½ä»¤å­—ä»¥åä¼ è¾“çš„å­—æ˜¯éœ€è¦ç”±RTæ¥å‘é€ï¼ŒBCæ¥æ”¶ã€‚å½“T/R=0æ—¶ï¼Œä»£è¡¨å‘½ä»¤å­—ä»¥åä¼ è¾“çš„å­—æ˜¯éœ€è¦åˆBCæ¥å‘å‡ºï¼ŒRTæ¥æ¥æ”¶ã€‚</p><p>ç„¶åæ˜¯æ•°æ®è®¡æ•°/æ–¹å¼å­—åŒºåŸŸï¼Œè¿™éƒ¨åˆ†æœ‰ä¸¤ä¸ªå¤ç”¨çš„ä½œç”¨ï¼šå¦‚æœæ¥ä¸‹æ¥éœ€è¦ä¼ è¾“æ•°æ®ï¼Œè¿™ä¸€åŒºåŸŸå¯ä»¥ä»£è¡¨æ¥ä¸‹æ¥ä¼ è¾“æ•°æ®çš„é•¿åº¦ï¼ˆåç»­ä¼šä¼ è¾“å¤šå°‘æ¬¡æ•°æ®å­—ï¼‰ï¼Œå¦‚æœæ¥ä¸‹æ¥ä¸éœ€è¦ä¼ è¾“æ•°æ®ï¼Œåªæ˜¯è¿›è¡Œæ–¹å¼è®¾ç½®ï¼Œé‚£å°±æ˜¯ä»£è¡¨çš„æ–¹å¼å­—ï¼ˆç›¸å½“äºæ§åˆ¶å‘½ä»¤ï¼Œä¸éœ€è¦æ•°æ®ä¼ è¾“çš„æƒ…å†µï¼‰ã€‚</p><p><img src="9beafe7a93cc50e0d227db8fecb517e4.png" alt="" /></p><p>æ–¹å¼å­—çš„è¯å°±æŒ‰ç…§è¡¨å¯¹åº”å°±è¡Œï¼Œæˆ‘è¿™ä¸ªé¡¹ç›®éœ€è¦ç€é‡çœ‹Â 00011è¿™ä¸ªå¯åŠ¨è‡ªæµ‹è¯•æ–¹å¼å­—ã€‚</p><p>æœ€åä¸€ä½ï¼šå¥‡å¶æ ¡éªŒä½ï¼Œè¿™ä¸ªå°±ä¸å¤šè¯´äº†ã€‚</p><p>ä»‹ç»å®Œäº†æœ€éš¾ç†è§£çš„å‘½ä»¤å­—ï¼Œæ¥ä¸‹æ¥æ•°æ®å­—å’ŒçŠ¶æ€å­—å°±å¥½ç†è§£äº†ã€‚</p><p>éœ€è¦å¼ºè°ƒçš„ä¸€ç‚¹å°±æ˜¯ï¼Œå‘½ä»¤å­—åªèƒ½ç”±BCå‘é€çš„ï¼Œè€ŒçŠ¶æ€å­—åªèƒ½ç”±RTæ¥å‘ã€‚</p><p>ä»‹ç»å®Œäº†3ç§å­—ä»£è¡¨ä»€ä¹ˆæ„æ€ä¹‹åï¼Œæˆ‘ä»¬æ¥çœ‹æ•´ä¸ªä¼ è¾“æµç¨‹ã€‚</p><h4 id="æ¶ˆæ¯æ ¼å¼"><a class="markdownIt-Anchor" href="#æ¶ˆæ¯æ ¼å¼"></a> æ¶ˆæ¯æ ¼å¼</h4><p>æ¶ˆæ¯æ ¼å¼åˆ†ä¸ºï¼šå¹¿æ’­å’Œéå¹¿æ’­æ¨¡å¼</p><p><img src="728eec0f54ead27abf17af999fc8df19.png" alt="" /></p><p>å›¾ä¸Šå‰å…­ç§ä¸ºéå¹¿æ’­æ¨¡å¼ï¼Œå°±æ˜¯ç‚¹å¯¹ç‚¹ä¼ è¾“ï¼ŒåŸºäºå‘½ä»¤å’Œå“åº”çš„ä¼ è¾“æœºåˆ¶ã€‚éƒ½æœ‰ä¸€ä¸ªå…±æ€§ï¼Œç”±BCå‘å‡ºå‘½ä»¤å­—åæ‰å¼€å§‹åç»­ä¼ è¾“ï¼ˆçŠ¶æ€å­—æˆ–æ˜¯æ•°æ®å­—ï¼‰ã€‚è¿™é‡Œå°±æœ‰ä¸€ä¸ª1553Bçš„åè®®ç‰¹æ€§ï¼šå¤§å¤šæ•°æƒ…å†µåªèƒ½æœ‰BCæ¥å¯åŠ¨ä¼ è¾“ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯é¿å…å¤šå¤´ä¼ è¾“çš„æ—¶å€™ä¸çŸ¥é“å¬è°çš„ã€‚åœ¨éå¹¿æ’­æ¨¡å¼ä¸‹ï¼Œå°±ç®—æ˜¯RTéœ€è¦ä¼ è¾“æ•°æ®åˆ°å¦ä¸€ä¸ªRTï¼Œä¹Ÿéœ€è¦ç”±BCè¿›è¡Œä¸­è½¬ã€‚</p><p>BC- RTçš„ä¼ è¾“æ˜¯ç”±BCå‘è¦æ¥å—æ¶ˆæ¯çš„RTå‘é€ä¸€ä¸€ä¸ªå‘½ä»¤å­—ï¼Œå‘½ä»¤å­—ä¸­5ä½RTåœ°å€ä½æŒ‡æ˜æ¥æ”¶æ¶ˆæ¯çš„RTçš„åœ°å€ã€‚T/Rä½è®¾ç½®ä¸ºâ€œ0â€è¡¨ç¤ºRTæ˜¯æ¥æ”¶æ•°æ®ï¼Œå­åœ°å€æŒ‡å‘è¯¥RTæ¥æ”¶æ•°æ®çš„å­˜å‚¨ç©ºé—´ä½ç½®ï¼Œæ•°æ®å­—è®¡æ•°è§„å®šäº†æ­¤å‘½ä»¤è¦æ±‚è¯¥RTæ¥æ”¶çš„æ•°æ®å­—å­—æ•°ã€‚åœ¨RTæ¥æ”¶åˆ°æ­¤æ¶ˆæ¯åï¼Œå‘BCè¿”å›ä¸€ä¸ªçŠ¶æ€å­—ä»¥æ­¤å‘ŠçŸ¥BCæ­¤æ¬¡ä¼ è¾“çš„çŠ¶å†µï¼Œè‡³æ­¤å®Œæˆäº†BCåˆ°RTçš„ä¼ è¾“ã€‚<br />Â Â Â Â Â Â Â Â RT- -BCçš„ä¼ è¾“æ˜¯ç”±BCå‘è¦å‘é€æ¶ˆæ¯çš„RTå‘é€ä¸€ä¸ªå‘½ä»¤å­—ï¼ŒæŒ‡ç¤ºè¯¥RTå‘é€ç”±å‘½ä»¤å­—çš„å­åœ°å€æ‰€æŒ‡å®šçš„å­˜å‚¨ç©ºé—´é‡Œçš„å†…å®¹ï¼Œå‘é€çš„æ•°æ®å­—ä¸ªæ•°ç”±5ä½æ•°æ®å­—è®¡æ•°ä½è§„å®šã€‚RTåœ¨æ”¶åˆ°BCå‘½ä»¤å­—åï¼Œè¿”å›BCä¸€ä¸ªçŠ¶æ€å­—ï¼Œå¹¶ä¸”å…¶åç´§æ¥ç€æ˜¯è§„å®šæ•°ç›®çš„æ•°æ®å­—ï¼ŒéšåBCå°†ç¡®è®¤è¿”å›çš„æ¶ˆæ¯ï¼Œè‡³æ­¤å®Œæˆäº†RTåˆ°BCçš„ä¼ è¾“ã€‚</p><p>å‰©ä¸‹çš„éå¹¿æ’­æ¨¡å¼å°±å¥½ç†è§£äº†ï¼Œä¸ç»è¿‡BCç›´æ¥ç”±RTä¼ è¾“åˆ°RTã€‚</p><p>æˆ‘è¿™ä¸ªé¡¹ç›®ä¸»è¦æ˜¯RTå’ŒBCç›´æ¥çš„ä¼ è¾“ï¼Œä¸å­˜åœ¨RTåˆ°RTå’Œå¹¿æ’­æ¨¡å¼ï¼Œå°±ä¸æ·±ç©¶åˆ«çš„è¿‡ç¨‹äº†ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br />åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/u010396127/article/details/124716384">https://blog.csdn.net/u010396127/article/details/124716384</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 1553B </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1553Bæ€»çº¿ä½¿ç”¨ä»‹ç»</title>
      <link href="/2024/12/03/1553B/1553B%E6%80%BB%E7%BA%BF%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D/"/>
      <url>/2024/12/03/1553B/1553B%E6%80%BB%E7%BA%BF%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D/</url>
      
        <content type="html"><![CDATA[<p><strong><strong>ï¼ˆ1ï¼‰å¸¸ç”¨åœºæ™¯</strong></strong></p><p>MIL-STD-1553Bæ€»çº¿æ ‡å‡†å·²å¹¿æ³›ç”¨äºé£æœºç»¼åˆèˆªç”µç³»ç»Ÿã€è£…ç”²è½¦è¾†ç»¼åˆç”µå­ç³»ç»Ÿã€èˆ°èˆ¹ç»¼åˆç”µå­ç³»ç»Ÿç­‰èˆªç©ºã€èˆªå¤©ã€èˆ¹èˆ¶ã€å…µå™¨ã€ç”µå­ç­‰é¢†åŸŸã€‚</p><p>å›½å¤–èˆªç”µç³»ç»Ÿèµ·æ­¥è¾ƒæ—©ï¼ŒMIL-STD-1553Bä»¥å…¶é«˜å¯é ã€ç¨³å®šçš„ç‰¹æ€§ï¼Œåœ¨ç¾å›½ç­‰æ—©å·²å¾—åˆ°è®¤å¯ï¼Œä¸”å¯¹1553Bæ€»çº¿çš„ä½¿ç”¨å·²ç”±å†›ç”¨é£æœºæ‰©å±•åˆ°å¦å…‹ã€èˆ¹èˆ¶ã€å«æ˜Ÿã€å¯¼å¼¹ç­‰é¢†åŸŸã€‚</p><p>æˆ‘å›½äº90å¹´ä»£å¼€å§‹è¿›è¡Œ1553Båè®®çš„ç ”ç©¶ä¸äº§å“ç ”åˆ¶å·¥ä½œï¼Œä¸”ç›®å‰å·²å¹¿æ³›åº”ç”¨ã€‚</p><p><strong><strong>ï¼ˆ2ï¼‰æ€»çº¿æ‹“æ‰‘åŠç»ˆç«¯</strong></strong></p><p>1553Bæ€»çº¿æ‹“æ‰‘ç»“æ„å¦‚å›¾1æ‰€ç¤ºï¼Œä»å›¾å¯ä»¥çœ‹å‡ºï¼Œæ€»çº¿åŒ…å«æ€»çº¿æ§åˆ¶å™¨ï¼ˆBCï¼‰ã€è¿œç¨‹ç»ˆç«¯ï¼ˆRTï¼‰æˆ–æ€»çº¿ç›‘æ§å™¨ï¼ˆBMï¼‰ã€è€¦åˆå™¨ã€ç»ˆç«¯ç”µé˜»ã€æ€»çº¿ç»„æˆã€‚</p><p><strong>BCè´Ÿè´£æ€»çº¿çš„è°ƒåº¦ã€ç®¡ç†ï¼Œæ˜¯æ€»çº¿é€šè®¯çš„å‘èµ·è€…å’Œç»„ç»‡è€…</strong>**ã€‚**ç”±äº1553Bæ€»çº¿é‡‡ç”¨ä¸­å¤®é›†æƒå¼çš„æ€»çº¿ç®¡ç†ï¼Œ åœ¨æ•´ä¸ªé€šè®¯è¿‡ç¨‹ä¸­ï¼Œ åªæœ‰æ€»çº¿æ§åˆ¶å™¨æ˜¯ä¸»åŠ¨å‚ä¸æ€»çº¿é€šè®¯çš„ï¼Œ æ‰€æœ‰çš„æ•°æ®ä¼ è¾“å¿…é¡»ç”±æ€»çº¿æ§åˆ¶å™¨å¯åŠ¨ã€‚</p><p>RTåªèƒ½è¢«åŠ¨çš„æ¥æ”¶æˆ–è€…å‘é€å’Œè‡ªå·±æœ‰å…³çš„æ•°æ®ï¼Œå¯¹è¿œç¨‹ç»ˆç«¯æ¥è¯´ï¼Œå’Œè‡ªå·±æ— å…³çš„æ•°æ®æ˜¯é€æ˜çš„ï¼Œè¿œç¨‹ç»ˆç«¯æ ¹æ®é¢„å…ˆè®¾å®šçš„é€šè®¯åè®®æ¥æ”¶å’Œå‘é€æ•°æ®ã€‚</p><p>BMå¯¹æ€»çº¿ä¸Šçš„æ‰€æœ‰é€šè®¯è¿‡ç¨‹å¯¹æ€»çº¿ç›‘è§†å™¨æ¥è¯´éƒ½æ˜¯å¯è§çš„ï¼Œå› è€Œæ€»çº¿ç›‘è§†å™¨èƒ½å¤Ÿå…¨éƒ¨æˆ–é€‰æ‹©æ€§çš„ç›‘è§†æ€»çº¿çš„é€šè®¯è¿‡ç¨‹ï¼Œå¯¹é€šè®¯çŠ¶æ€è¿›è¡Œåˆ†æå’Œåˆ¤æ–­ï¼Œç»™å‡ºå‚ä¸æ€»çº¿é€šè®¯çš„æ€»çº¿æ§åˆ¶å™¨å’Œå„ä¸ªè¿œç½®ç»ˆç«¯çš„è¿è¡ŒçŠ¶æ€å’Œå¥åº·çŠ¶æ€ï¼Œ<strong>BMåœ¨æ€»çº¿ä¸Šä¸æ˜¯å¿…é¡»çš„ã€‚</strong></p><p>1553Bæ•°æ®æ€»çº¿åŒ…æ‹¬æ€»çº¿Aå’Œæ€»çº¿Bï¼ŒäºŒè€…äº’ä¸ºå†—ä½™å¤‡ä»½ï¼Œæ‰€æœ‰çš„æ€»çº¿è®¾å¤‡BCã€RTã€BMéƒ½ä»¥å¹¶è”æ–¹å¼å…±äº«æ€»çº¿ï¼Œæ€»çº¿Aä¸æ€»çº¿Bä¹‹é—´é‡‡ç”¨å˜å‹å™¨è€¦åˆï¼Œæ€»çº¿ä¸1553Bè®¾å¤‡ä¹‹é—´ä¹Ÿé‡‡ç”¨å˜å‹å™¨è€¦åˆã€‚</p><p>1553Bç»ˆç«¯ç”µé˜»å’Œè€¦åˆå™¨æ˜¯è¿æ¥æ€»çº¿çš„é‡è¦ç”µå­ç»„ä»¶ï¼Œå…¶ä¸1553Bç»ˆç«¯è®¾å¤‡ï¼ˆæ¿å¡ï¼‰è¿æ¥å…³ç³»å¦‚å›¾2æ‰€ç¤ºï¼ˆ<strong>æ³¨æ„ï¼šè€¦åˆå™¨å·¦å³ä¸¤ä¾§è¿æ¥ç»ˆç«¯ç”µé˜»ã€ä¸‹ä¾§ç”¨äºè¿æ¥1553Bç»ˆç«¯è®¾å¤‡</strong>ï¼‰ã€‚</p><p><img src="83766b6a4abcc5b065c721b4b4d135bc.png" alt="" /></p><p>å›¾1 1553Bæ€»çº¿æ‹“æ‰‘ç»“æ„</p><p><img src="b91d8844b09f91bc6d9f1e655a0ae25e.png" alt="" /><img src="d312919b4626fe48c736c776aeaeb36d.png" alt="" /><img src="511beb9265bdbe38ee259ba78e8bd71a.png" alt="" /></p><p>å›¾2 1553Bè€¦åˆå™¨ã€ç»ˆç«¯ç”µé˜»ä»¥åŠå®é™…è¿æ¥å…³ç³»</p><p><strong><strong>ï¼ˆ3ï¼‰å·¥ä½œæ–¹å¼åŠä¿¡æ¯ä¼ è¾“æ ¼å¼</strong></strong></p><p>ä¸€èˆ¬1553Bæ€»çº¿çš„ä¼ è¾“é€Ÿåº¦ä¸º1Mbpsï¼Œé‡‡ç”¨æ›¼å½»æ–¯ç‰¹â…¡ å‹ç¼–ç ï¼Œ<strong>åŠåŒå·¥å·¥ä½œæ–¹å¼</strong>ã€‚ä¿¡å·ä»¥ä¸²è¡Œæ•°å­—è„‰å†²ç¼–ç è°ƒåˆ¶å½¢å¼åœ¨æ•°æ®æ€»çº¿ä¸Šä¼ è¾“ã€‚é€»è¾‘1ä¸ºåŒæç¼–ç ä¿¡å· 1/0ï¼Œå³ä¸€ä¸ªæ­£è„‰å†²ç»§ä¹‹ä¸€ä¸ªè´Ÿè„‰å†²ï¼Œé€»è¾‘0ä¸ºåŒæç¼–ç ä¿¡å·0/1ï¼Œå³ä¸€ä¸ªè´Ÿè„‰å†²ç»§ä¹‹ä¸€ä¸ªæ­£è„‰å†²ã€‚æ›¼å½»æ–¯ç‰¹â…¡å‹ç¼–ç æ–¹å¼å¦‚å›¾3æ‰€ç¤ºã€‚</p><p><img src="48e59441a020a4080988adeac43650ef.png" alt="" /></p><p>å›¾3 1553Bé‡‡ç”¨æ›¼å½»æ–¯ç‰¹IIå‹ç å¯¹0å’Œ1ç¼–ç ç¤ºæ„å›¾</p><p>1553Bæ¶ˆæ¯ç”±å‘½ä»¤å­—ã€æ•°æ®å­—ã€çŠ¶æ€å­—ç»„æˆï¼Œ1553Bæ¶ˆæ¯çš„æœ€å°å•ä½ä¸º1bitï¼Œæ¯20bitå½¢æˆä¸€ä¸ªå­—wordï¼Œæ¯ä¸ªå­—çš„æœ‰æ•ˆä¿¡æ¯ä½ä¸º16bitï¼Œåœ¨æœ‰æ•ˆä¿¡æ¯ä½çš„å‰é¢æœ‰3bitçš„åŒæ­¥å¤´ï¼Œæœ‰æ•ˆä¿¡æ¯ä½çš„åé¢æœ‰1ä½æ ¡å¥‡å¶éªŒä½ï¼Œå³ï¼š**3ä½åŒæ­¥å¤´ + Â 16ä½æœ‰æ•ˆæ•°æ®/å‘½ä»¤/çŠ¶æ€ä½ + 1ä½å¥‡æ ¡éªŒä½ã€‚**å›¾4~å›¾6ç»™å‡ºäº†æ•°æ®å‘½ä»¤å­—ã€æ•°æ®å­—ã€çŠ¶æ€å­—çš„å…·ä½“æ ¼å¼ä¿¡æ¯ï¼Œä»æ¶ˆæ¯æ ¼å¼å¯ä»¥çœ‹å‡ºï¼ŒRTåœ°å€åªæœ‰5bitï¼Œå› æ­¤æ€»çº¿æœ€å¤š32 RTç»ˆç«¯ï¼Œä¸€èˆ¬ä»1~30é€‰å–ä½œä¸ºRTåœ°å€ï¼ˆ<strong>æ³¨æ„ï¼šå‘½ä»¤å­—ä¸­RTåœ°å€ä¸å­åœ°å€å«ä¹‰æ˜¯ä¸åŒçš„</strong>ï¼‰ã€‚</p><p><img src="b4228e57fd4821842549c6f089c74123.png" alt="" />Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  å›¾4 å‘½ä»¤å­—ä¼ è¾“æ ¼å¼</p><p><img src="958f7534c641145f33e5b2f078451122.png" alt="" /></p><p>å›¾5 æ•°æ®å­—ä¼ è¾“æ ¼å¼</p><p><img src="ab24261c8977f632f8a549904d90e348.png" alt="" /></p><p>å›¾6 çŠ¶æ€å­—ä¼ è¾“æ ¼å¼</p><ul><li>1553Bæ€»çº¿ä½¿ç”¨çš„é‡è¦å¯„å­˜å™¨</li></ul><p>ä¸‹é¢ä»¥1553Bå¸¸ç”¨çš„å¯„å­˜å™¨ä¸ºä¾‹ï¼Œå¯¹å„ä¸ªå¯„å­˜å™¨çš„åŠŸèƒ½è¿›è¡Œç®€å•è¯´æ˜ï¼š</p><p>1ï¼‰ä¸­æ–­å±è”½å¯„å­˜å™¨ï¼ˆInterrupt Mask Registerï¼‰<br />è¯¥å¯„å­˜å™¨ä¸»è¦ç”¨äºæ§åˆ¶è¶…æ—¶ã€æ•°æ®å †æ ˆå›æ»šã€RTæ ¡éªŒé”™è¯¯ã€BC/RTæ¶ˆæ¯ç»“æŸç­‰ä¸­æ–­çš„ä½¿èƒ½æˆ–ç¦æ­¢ã€‚</p><p>2ï¼‰é…ç½®å¯„å­˜å™¨#1ã€#2ï¼ˆConfiguration Register#1ã€Configuration Register#2ï¼‰<br />ç”¨äºè®¾å®š1553Bçš„å·¥ä½œæ¨¡å¼ï¼ŒRT çŠ¶æ€å­—çš„è½¯ä»¶æ§åˆ¶ã€å½“å‰å·¥ä½œåŒºçš„é€‰æ‹©ã€é‡é”™ BC åœæ­¢è®¾ç½®ã€RT å†…å­˜ç®¡ç†æ¨¡å¼é€‰æ‹©å’Œæ—¶é—´æ ‡å¿—å¯„å­˜å™¨åˆ†è¾¨ç‡çš„é€‰æ‹©ã€‚</p><p>3ï¼‰å¯åŠ¨/å¤ä½å¯„å­˜å™¨ï¼ˆStart/Reset Registerï¼‰<br />ç”¨äºè½¯ä»¶å¤ä½ã€BC/BM å¯åŠ¨ã€ä¸­æ–­å¤ä½ã€æ—¶æ ‡å¤ä½ã€æ—¶é—´æ ‡å¿—å¯„å­˜å™¨æµ‹è¯•ã€è‡ªåŠ¨é‡å‘æ¨¡å¼ä¸‹ BC å¸§åœæ­¢åŠæ¶ˆæ¯åœæ­¢è®¾ç½®ã€BM æ¶ˆæ¯åœæ­¢è®¾ç½®ã€‚</p><p>4ï¼‰æŒ‡ä»¤å †æ ˆæŒ‡é’ˆå¯„å­˜å™¨ï¼ˆCommand Stack Pointer Registerï¼‰<br />åœ¨ BCã€RTã€BM ç­‰æ¨¡å¼ä¸‹ï¼Œå‘ä¸»æœºæä¾›å½“å‰æˆ–åˆšåˆšå¤„ç†çš„æ¶ˆæ¯å—çš„æŒ‡ä»¤å †æ ˆæŒ‡é’ˆåœ°å€ã€‚</p><p>5ï¼‰BC æ§åˆ¶å­—å¯„å­˜å™¨/ RT å­åœ°å€æ§åˆ¶å­—å¯„å­˜å™¨ï¼ˆBC Control Word/ RT Subaddress Control Word Registerï¼‰<br />BC æ¨¡å¼ä¸‹ï¼Œå­˜æ”¾å½“å‰æ¶ˆæ¯çš„ BC æ§åˆ¶å­—ï¼Œç”¨äºä¸»æœºè®¿é—®å½“å‰çš„ BC æ§åˆ¶å­—ï¼›RT æ¨¡å¼ä¸‹ï¼Œç”¨äºä¸»æœºè®¿é—®å½“å‰æˆ–æœ€è¿‘çš„å­åœ°å€æ§åˆ¶å­—ï¼Œå­åœ°å€æ§åˆ¶å­—ç”¨æ¥é€‰æ‹©å†…å­˜ç®¡ç†æ¨¡å¼ã€ä¸­æ–­ä½¿èƒ½ã€‚</p><p>6ï¼‰ä¸­æ–­çŠ¶æ€å¯„å­˜å™¨ï¼ˆInterrupt Status Registerï¼‰<br />è¯¥å¯„å­˜å™¨å‘ä¸»æœºåæ˜ å¼•èµ·ä¸­æ–­è¯·æ±‚çš„å…·ä½“åŸå› ã€‚</p><p>7ï¼‰é…ç½®å¯„å­˜å™¨#3\#4\#5ï¼ˆConfiguration Register#3\#4\#5ï¼‰<br />ç”¨ä»¥ä½¿èƒ½1553Bçš„é«˜çº§åŠŸèƒ½ã€‚</p><p>8ï¼‰æ•°æ®å †æ ˆåœ°å€å¯„å­˜å™¨ï¼ˆData Stack Address Registerï¼‰<br />RT æ¨¡å¼ä¸‹ï¼Œå‚¨å­˜å½“å‰æ¶ˆæ¯çš„æ•°æ®å­—çš„åœ°å€ï¼›BM æ¨¡å¼ä¸‹ï¼Œå­˜æ”¾å½“å‰æ¶ˆæ¯çš„å­—ï¼ˆåŒ…æ‹¬ç¬¬äºŒä¸ªæŒ‡ä»¤å­—ã€æ•°æ®å­—ã€RT çŠ¶æ€å­—ï¼‰çš„åœ°å€ã€‚</p><p>9ï¼‰RT çŠ¶æ€å­—å¯„å­˜å™¨ï¼ˆRT Status Word Registerï¼‰<br />å­˜æ”¾RTçš„çŠ¶æ€ä¿¡æ¯ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br />åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/wzl862/article/details/138366137">https://blog.csdn.net/wzl862/article/details/138366137</a></p>]]></content>
      
      
      <categories>
          
          <category> ä¸²è¡Œé€šè®¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 1553B </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»é›¶å¼€å§‹æ­å»ºHexoä¸ªäººåšå®¢</title>
      <link href="/2024/12/03/Hexo/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BAHexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
      <url>/2024/12/03/Hexo/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BAHexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-å‰è¨€"><a class="markdownIt-Anchor" href="#ä¸€-å‰è¨€"></a> ä¸€ã€å‰è¨€</h2><p>æœ¬æ–‡æ˜¯åŸºäº Hexo æ¡†æ¶æ¥æ„å»ºä¸ªäººåšå®¢çš„ï¼Œæ•´ä¸ªè¿‡ç¨‹ååˆ†ç®€å•ï¼Œå¦‚æœé¡ºåˆ©çš„è¯ï¼Œå¯èƒ½åªéœ€è¦ 10-20 åˆ†é’Ÿå°±å¯ä»¥å®Œç¾æ„å»ºéƒ¨ç½²å¥½ä¸€ä¸ªä¸“å±äºä½ çš„ä¸ªäººåšå®¢äº†ã€‚</p><p><img src="3e217878ffdc3cd54efab7b469d1cf3d.png" alt="" /></p><h2 id="äºŒ-hexo-åŸºæœ¬ä»‹ç»"><a class="markdownIt-Anchor" href="#äºŒ-hexo-åŸºæœ¬ä»‹ç»"></a> äºŒã€Hexo åŸºæœ¬ä»‹ç»</h2><p>Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€å•ä¸”åŠŸèƒ½å¼ºå¤§çš„åšå®¢æ¡†æ¶ã€‚ä½ ç”¨ Markdownï¼ˆæˆ–å…¶ä»–æ ‡è®°è¯­è¨€ï¼‰å†™å¸–å­ï¼ŒHexo ä¼šåœ¨å‡ ç§’é’Ÿå†…ç”Ÿæˆå¸¦æœ‰æ¼‚äº®ä¸»é¢˜çš„é™æ€æ–‡ä»¶ã€‚</p><p><img src="826c724f0c5ecf6fda6e60df7d6df172.png" alt="" /></p><h2 id="ä¸‰-hexogithub-æ­å»ºåšå®¢ç½‘ç«™æµç¨‹"><a class="markdownIt-Anchor" href="#ä¸‰-hexogithub-æ­å»ºåšå®¢ç½‘ç«™æµç¨‹"></a> ä¸‰ã€Hexo+Github æ­å»ºåšå®¢ç½‘ç«™æµç¨‹</h2><p><img src="fe868835d935b98d44a2712c295f2c95.png" alt="" /></p><h2 id="å››-å¼€å§‹åŠ¨æ‰‹åŠ¨è„‘"><a class="markdownIt-Anchor" href="#å››-å¼€å§‹åŠ¨æ‰‹åŠ¨è„‘"></a> å››ã€å¼€å§‹åŠ¨æ‰‹åŠ¨è„‘</h2><p>é¦–å…ˆæˆ‘ä»¬è¿›å…¥ Hexo çš„å®˜ç½‘ï¼š<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fhexo.io%2F">https://hexo.io/</a></p><p><img src="da6f6eeadcbe5ab1c77cd65c16d68fbe.png" alt="" /></p><p>å°±å¯ä»¥çœ‹åˆ°å¯¹äº Hexo çš„è¯¦ç»†ä»‹ç»ï¼Œç›´æ¥ä¸‹æ»‘ï¼Œç„¶åç‚¹å‡»`Get Started`ï¼Œå³å¯è¿›å…¥ Hexo ä½¿ç”¨ä»‹ç»æ–‡æ¡£ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è®¿é—®ï¼š<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fhexo.io%2Fdocs%2F">https://hexo.io/docs/</a> è¿›å…¥ã€‚</p><p><img src="970c1528a17f96e68014cf758ba13e1b.png" alt="" /></p><h3 id="41-åŸºç¡€å‡†å¤‡"><a class="markdownIt-Anchor" href="#41-åŸºç¡€å‡†å¤‡"></a> 4.1 åŸºç¡€å‡†å¤‡</h3><p>åœ¨æ­£å¼å¼€å§‹å‰ï¼Œç¡®ä¿ä½ å·²ç»å‡†å¤‡å¥½äº†ï¼š</p><p>1ã€ä¸€ä¸ª GitHub è´¦å·ï¼Œå¯ä»¥ç›´æ¥å»å®˜ç½‘æ³¨å†Œï¼š<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fgithub.com%2F">https://github.com</a></p><p>2ã€å®‰è£…å¥½äº† Gitã€Node.js</p><p><code>Git</code>å®‰è£…æ–¹æ³•å¾ˆå¤šï¼Œæœ€ç®€å•çš„æ˜¯ç›´æ¥å®˜ç½‘ä¸‹è½½è½¯ä»¶åŒ…ï¼Œç„¶åå®‰è£…ï¼ˆMac å’Œ Windows åŠå…¶ä»–ç‰ˆæœ¬éƒ½æœ‰ï¼‰ï¼Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://git-scm.com/downloads</span><br></pre></td></tr></table></figure><p>å¤åˆ¶ä»£ç </p><p><img src="abff79e0a2235222071848d76517ea32.png" alt="" /></p><p>Mac ç”µè„‘å®³å¯ä»¥ç›´æ¥åˆ©ç”¨`brew install git` è¿›è¡Œå®‰è£…ï¼ˆé»˜è®¤åº”è¯¥è‡ªå¸¦ gitï¼‰ï¼Œæˆ–è€… yumã€apt-get ç­‰åŒ…ç®¡ç†å·¥å…·å®‰è£…ã€‚</p><p><code>Node.js</code>ä¹Ÿå¯ä»¥ç›´æ¥å»å®˜ç½‘ä¸‹è½½å¯¹åº”ç³»ç»Ÿå®‰è£…åŒ…ï¼Œç„¶åä¸€æ­¥æ­¥å®‰è£…å³å¯ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://nodejs.org/zh-cn/download/</span><br></pre></td></tr></table></figure><p>å¤åˆ¶ä»£ç </p><p><img src="0b623af751ede15eb7d3cee3a094f1f2.png" alt="" /></p><p>ä¸‹è½½å¥½åç›´æ¥ç‚¹å‡»è½¯ä»¶åŒ…ï¼Œé»˜è®¤ä¼šç»™æˆ‘ä»¬å®‰è£…å¥½ Node.js å’Œ npmï¼ˆNode.js çš„åŒ…ç®¡ç†å·¥å…·ï¼‰ã€‚</p><p><img src="edcca3c2dbfb4bf01d174bbea7d6847e.png" alt="" /></p><p>Windows ç³»ç»Ÿå¯èƒ½éœ€è¦è‡ªå·±è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œå°†å¯¹åº”å®‰è£…ç›®å½•æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡å³å¯ï¼Œæµè§ˆå™¨æœç´¢ä¸‹å¯¹åº”æ–¹æ³•å³å¯ã€‚</p><p><strong>æŸ¥çœ‹ä¸‹ Gitã€Node.js ç‰ˆæœ¬ï¼Œç¡®ä¿å®‰è£…æ— è¯¯</strong> ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git --version</span><br></pre></td></tr></table></figure><p>å¤åˆ¶ä»£ç </p><p><img src="2d522e57c98441921ad573406cdbef7c.png" alt="" /></p><h3 id="42-å®‰è£…-hexo"><a class="markdownIt-Anchor" href="#42-å®‰è£…-hexo"></a> 4.2 å®‰è£… Hexo</h3><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦æ–°å»ºä¸€ä¸ªé¡¹ç›®ç›®å½•ï¼Œä»¥æˆ‘ä¸ºä¾‹ï¼šæˆ‘ä¼šåœ¨æ¡Œé¢çš„ Project ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª HexoBlog æ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾æ”¹é¡¹ç›®ç›¸å…³æ–‡ä»¶ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd Desktop/Project/</span><br></pre></td></tr></table></figure><p>å¤åˆ¶ä»£ç </p><p>è¿™ä¸ªæ—¶å€™å¦‚æœç›´æ¥è¿è¡Œä¸‹é¢è¯­å¥å®‰è£… Hexoï¼Œä½ å¯èƒ½ä¼šé‡åˆ°<code>rollbackFailedOptional</code>ã€‚</p><p><img src="52cd96522a2e48734665d86d333c43c4.png" alt="" /></p><p>è¿™æ˜¯å› ä¸ºç½‘ç»œé—®é¢˜ï¼ˆnpm çš„æœåŠ¡å™¨ä½äºå›½å¤–ä¸‹è½½æ…¢ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ cnpmï¼ˆæ·˜å®å›¢é˜Ÿåšçš„å›½å†…é•œåƒï¼‰çš„è·å–é•œåƒæˆ–è€…ç›´æ¥ä¿®æ”¹ npm çš„èµ„æºè·å–åœ°å€ä¸ºå›½å†…çš„ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># å®‰è£…cnmp</span><br></pre></td></tr></table></figure><p>å¤åˆ¶ä»£ç </p><p>å¦å¤–æˆ‘è‡ªå·±è¿˜é‡åˆ°äº†æ–‡ä»¶å†™å…¥æƒé™é—®é¢˜ï¼Œ</p><p><img src="06ff7364acb32153c7a7f2c0517139e9.png" alt="" /></p><p>ç›´æ¥ä¿®æ”¹ç›®å½•æ–‡ä»¶æƒé™å³å¯ï¼Œå¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod -R 777 /usr/local/lib</span><br></pre></td></tr></table></figure><p>å¤åˆ¶ä»£ç </p><p>è§£å†³ä¸Šé¢é—®é¢˜åï¼Œæˆ‘ä»¬åœ¨å®‰è£…å°±å¯ä»¥æˆåŠŸå•¦ï½ï¼ˆå¦‚ä¸‹æˆªå›¾æ‰€ç¤ºï¼‰</p><p><img src="92bff32f215c426110ef03b107e72958.png" alt="" /></p><h3 id="43-åˆå§‹åŒ–ä¸€ä¸ª-hexo-blog"><a class="markdownIt-Anchor" href="#43-åˆå§‹åŒ–ä¸€ä¸ª-hexo-blog"></a> 4.3 åˆå§‹åŒ–ä¸€ä¸ª Hexo Blog</h3><p>å‰é¢å·²ç»å‡†å¤‡å¥½äº†æ‰€æœ‰ç›¸å…³ç¯å¢ƒï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ­£å¼æ¥åˆå§‹åŒ–ä¸€ä¸ª Hexo åšå®¢å§ï½åˆå§‹åŒ–çš„å‘½ä»¤æ ¼å¼ä¸º<code>hexo init &lt;é¡¹ç›®åç§°&gt;</code>ï¼Œè¿™é‡Œæˆ‘ä»¬æš‚ä¸”å«åš blogã€‚</p><p><img src="5c972ad677e86cc8d1ae205a2ceb0d4b.png" alt="" /></p><p>æˆåŠŸåˆå§‹åŒ–åï¼Œä¼šåœ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹`blog`ï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p><p><img src="c81a7cec1a28b0452f8d9489b84997ce.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ _config.landscape.ymlï¼šä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œå¦‚æœ</span><br></pre></td></tr></table></figure><p>å¤åˆ¶ä»£ç </p><p>åˆå§‹åŒ–é¡¹ç›®åï¼Œæˆ‘ä»¬åªéœ€åœ¨æœ¬åœ°æ‰§è¡Œä¸‹é¢å‘½ä»¤å³å¯åœ¨æœ¬åœ°è¿›è¡Œé¢„è§ˆï¼Œ</p><p><img src="f2cce304b482ad75e5a86f939e42320c.png" alt="" /></p><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦è¿›å…¥åˆ°æ–°å»ºçš„é¡¹ç›®ç›®å½•ä¸‹ï¼Œç„¶åæ‰§è¡Œ`hexo s`å³å¯å¯åŠ¨é¡¹ç›®ï¼Œç„¶åæˆ‘ä»¬è®¿é—®<code>http://localhost:4000/</code>å³å¯æŸ¥çœ‹ç½‘ç«™å•¦ï½</p><p><img src="d950742559b1c71de2395acc350cb724.png" alt="" /></p><p>ç›®å‰æ˜¯é»˜è®¤çš„ä¸»é¢˜ï¼Œå¦å¤–è¿˜æœ‰ä¸€ç¯‡é»˜è®¤çš„åšå®¢`Hello World`ã€‚</p><h3 id="44-hexo-åŸºæœ¬å‘½ä»¤ä»‹ç»"><a class="markdownIt-Anchor" href="#44-hexo-åŸºæœ¬å‘½ä»¤ä»‹ç»"></a> 4.4 Hexo åŸºæœ¬å‘½ä»¤ä»‹ç»</h3><ul><li>æœ¬åœ°å¯åŠ¨é¡¹ç›®ï¼Œs è¡¨ç¤º server</li></ul><p><img src="409b4daf5b0ccfaaf4b5b2e39da256a2.png" alt="" /></p><ul><li>åˆ›å»ºä¸€ä¸ªæ–°çš„åšå®¢ï¼Œn è¡¨ç¤º new</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo n [layout] &amp;lt;title&amp;gt;</span><br></pre></td></tr></table></figure><p>å¤åˆ¶ä»£ç </p><p>layout è¡¨ç¤ºæ–‡ç« å¸ƒå±€ï¼Œå¯é€‰ï¼ˆpost page draftï¼‰ï¼Œé»˜è®¤ä½¿ç”¨ <code>_config.yml</code>ä¸­çš„ default_layout å‚æ•°ä»£æ›¿ï¼ˆpostï¼‰ã€‚</p><p>title è¡¨ç¤ºæ–‡ç« æ ‡é¢˜ï¼Œå¦‚æœæ ‡é¢˜åŒ…å«ç©ºæ ¼çš„è¯ï¼Œè¯·ä½¿ç”¨å¼•å·æ‹¬èµ·æ¥ã€‚</p><p><img src="7b528c36195c39dd6144e012fa52b8d2.png" alt="" /></p><ul><li>ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œg è¡¨ç¤º generate</li></ul><p><img src="a8105f908c06c6bb7e43617d70b9fa16.png" alt="" /></p><ul><li><p>éƒ¨ç½² Hexo ç½‘ç«™ï¼Œd è¡¨ç¤º deploy</p></li><li><p>æ¸…é™¤ç¼“å­˜æ–‡ä»¶ (db.json) å’Œå·²ç”Ÿæˆçš„é™æ€æ–‡ä»¶ (public)</p></li></ul><p>æ›´å¤šç›¸å…³æŒ‡ä»¤å¤§å®¶å¯ä»¥å‰å¾€å®˜ç½‘æŸ¥çœ‹ï¼š<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fhexo.io%2Fzh-cn%2Fdocs%2Fcommands">https://hexo.io/zh-cn/docs/commands</a></p><h3 id="45-hexo-åŸºæœ¬é…ç½®ä»‹ç»ä¿®æ”¹"><a class="markdownIt-Anchor" href="#45-hexo-åŸºæœ¬é…ç½®ä»‹ç»ä¿®æ”¹"></a> 4.5 Hexo åŸºæœ¬é…ç½®ä»‹ç»ä¿®æ”¹</h3><p><strong>ã€å¿…æ”¹éƒ¨åˆ†ã€‘</strong> ç«™ç‚¹çš„åŸºæœ¬è®¾ç½®ï¼Œé¦–é¡µæ ‡é¢˜ã€å­æ ‡é¢˜ã€ç®€ä»‹ã€å…³é”®è¯ï¼ˆè‹±æ–‡,éš”å¼€ï¼‰ã€ä½œè€…ã€è¯­è¨€å’Œæ—¶åŒºï¼Œéƒ½éœ€è¦ä¿®æ”¹ï¼Œè¿™æ ·æ‰ç®—è‡ªå·±çš„ç½‘ç«™å˜›ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># Site</span><br></pre></td></tr></table></figure><p>å¤åˆ¶ä»£ç </p><p>&gt; è¸©ä¸ªå‘ï¼Œ<code>keywords:</code>å’Œ<code>ç”Ÿæ´»</code>ä¹‹é—´å¿…é¡»è¦æœ‰ç©ºæ ¼ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚</p><p><img src="2365b192cb8002f42abd5ac2cc3a6bc0.png" alt="" /></p><p>é‡å¯ä¸‹ Hexo æœåŠ¡ï¼Œæˆ‘ä»¬åˆ·æ–°é¡µé¢ï¼Œå°±ä¼šå‘ç°ä¸Šé¢çš„ä¿®æ”¹ç”Ÿæ•ˆå•¦ï½å¦‚æœæ²¡æœ‰ç”Ÿæ•ˆï¼Œä½ å¯ä»¥å…ˆè¿è¡Œä¸‹`hexo clean`å…ˆæ¸…é™¤ç¼“å­˜ï¼Œç„¶åå†æ‰§è¡Œ`hexo s`å¯åŠ¨æœåŠ¡å™¨ã€‚</p><p><img src="36b09e80996c3dc45f5a76e547d0c998.png" alt="" /></p><p><strong>ã€é€‰æ”¹éƒ¨åˆ†ã€‘</strong></p><p>è®¿é—®è·¯å¾„ç›¸å…³è®¾ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># URL</span><br></pre></td></tr></table></figure><p>å¤åˆ¶ä»£ç </p><p>åŸä¸»é¢˜å¤ªç®€é™‹äº†ï¼Œæˆ‘ä»å®˜ç½‘ä¸»é¢˜åœ°å€ï¼š<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fhexo.io%2Fthemes%2F">https://hexo.io/themes/</a>ä¸­ä¸‹è½½äº†<code>amber</code>ä¸»é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å°†é…ç½®ä¸­çš„ä¸»é¢˜æ”¹ä¸º<code>amber</code>ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥é€‰æ‹©å…¶ä»–ä¸»é¢˜ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># Extensions</span><br></pre></td></tr></table></figure><p>å¤åˆ¶ä»£ç </p><h3 id="46-å°†-hexo-åšå®¢éƒ¨ç½²åˆ°-github"><a class="markdownIt-Anchor" href="#46-å°†-hexo-åšå®¢éƒ¨ç½²åˆ°-github"></a> 4.6 å°† Hexo åšå®¢éƒ¨ç½²åˆ° GitHub</h3><p>é¦–å…ˆæˆ‘ä»¬å…ˆéœ€è¦æ–°å»ºåœ¨ GitHub ä¸Šæ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼š<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fgithub.com%2Fnew">https://github.com/new</a>ï¼Œé¡¹ç›®åç§°æ ¼å¼éœ€è¦æ³¨æ„ï¼Œå¿…é¡»æ˜¯<code>ç”¨æˆ·å.github.io</code>ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="4c53b04bbcacdb6266e34ff03dee8fff.png" alt="" /></p><p>åŒæ—¶æˆ‘ä»¬éœ€è¦é…ç½®ä¸‹ SSH å¯†é’¥ï¼Œå…·ä½“é…ç½®æ–¹æ³•å¯ä»¥æŸ¥çœ‹ï¼š<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FkRjdSH-o8xULo8iiUyyhgw">mac å¦‚ä½•å¿«é€Ÿç”ŸæˆSSH keyï¼Œé…ç½®github SSHå…¬é’¥è¿æ¥(è§£å†³git push 413é—®é¢˜</a></p><p>æ¥ç€æˆ‘ä»¬è¦ä¿®æ”¹ä¸‹é…ç½®æ–‡ä»¶<code>_config.yml</code>ï¼Œä¸‹æ»‘åˆ°æœ€åï¼Œå°†éƒ¨ç½²ä¿¡æ¯æ”¹ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br></pre></td></tr></table></figure><p>å¤åˆ¶ä»£ç </p><p><img src="d284f2f17ec88e38196d526ab0096239.png" alt="" /></p><p>éƒ¨ç½²åˆ° GitHubï¼Œéœ€è¦å®‰è£…ç›¸å…³å·¥å…· hexo-deployer-gitã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>å¤åˆ¶ä»£ç </p><p>æ¥ä¸‹æ¥ç›´æ¥è¾“å…¥æŒ‡ä»¤é…ç½®å°±è¡Œäº†ï¼Œ<code>hexo clean</code>æ¸…é™¤ç¼“å­˜æ•°æ®ï¼Œ<code>hexo g</code>ç”Ÿæˆç›¸å…³é™æ€æ–‡ä»¶ã€‚</p><p>å¦‚æœç»§ç»­è¾“å…¥<code>hexo d</code>è¿›è¡Œéƒ¨ç½²çš„æ—¶å€™ï¼Œä¼šæŠ¥é”™ï¼Œ<code>Deployer not found: git</code></p><p><img src="e5813ab9b3659dd19edc08b6f624d653.png" alt="" /></p><p>è¿™ä¸ªæ—¶å€™ä¸è¦æ…Œï¼Œè¿™æ˜¯å› ä¸ºåœ¨æœ¬åœ° Hexo é¡¹ç›®ç›®å½•è¿˜æ²¡æœ‰åˆå§‹åŒ– git é€ æˆçš„ï¼Œæˆ‘ä»¬è¿è¡Œä¸‹é¢å‘½ä»¤è¿›è¡Œåˆå§‹åŒ–å³å¯ã€‚</p><p>æˆ‘ä»¬å†æ¬¡è¾“å…¥<code>hexo d</code>è¿›è¡Œéƒ¨ç½²å³å¯ï¼Œå¯èƒ½ä¼šè¦æ±‚è¾“å…¥ GitHub è´¦å·å’Œå¯†ç ï¼ˆé…ç½®äº† ssh å…¬é’¥å°±ä¸éœ€è¦äº†ï¼Œä¸Šé¢æœ‰è¯´å¦‚ä½•é…ç½®ï¼‰ï¼Œç›´æ¥è¾“å…¥å³å¯ï¼Œä¸Šä¼ å®Œæˆåï¼Œå†åˆ·æ–° GitHub é¡µé¢ä¼šå‘ç°å¤šäº†ä¸€äº›æ–‡ä»¶ï¼ŒåŸæ¥çš„ readme ä¹Ÿä¸è§äº†ï¼Œè¿™æ˜¯å› ä¸º Hexo æ¯æ¬¡éƒ¨ç½²éƒ½ä¼šå°†`hexo g`ç”Ÿæˆçš„é™æ€æ–‡ä»¶ï¼ˆåœ¨ blog/public ç›®å½•ä¸‹ï¼‰ä¸Šä¼ åˆ° GitHubï¼Œ<strong>å¹¶è¦†ç›–åŸå…ˆæ‰€æœ‰çš„å†…å®¹</strong>ã€‚</p><p><img src="a515ccdf241b727e5ccc0d3d0fd18018.png" alt="" /></p><p>è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬åœ¨æµè§ˆå™¨å†…è®¿é—®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://&amp;lt;ä½ çš„ç”¨æˆ·å&amp;gt;.github.io/</span><br></pre></td></tr></table></figure><p>å¤åˆ¶ä»£ç </p><p>å³å¯è®¿é—®æˆ‘ä»¬çš„åšå®¢é¦–é¡µå•¦ï¼Œç‚¹å‡»åšå®¢ä¹Ÿå¯ä»¥è¿›å…¥å¯¹åº”çš„åšå®¢é¡µé¢ã€‚</p><p><img src="d5389a73ee13e093e6747cf4a6bf55ec.png" alt="" /></p><p>é€šè¿‡ä¸Šé¢ï¼Œæˆ‘ä»¬å·²ç»å¾—åˆ°äº†ä¸€ä¸ªåœ¨çº¿çš„ã€å¯ä»¥éšæ—¶éšåœ°è®¿é—®çš„ä¸ªäººåšå®¢ï¼Œæ•´ä¸ªæ“ä½œè¿‡ç¨‹è¿˜æ˜¯å¾ˆç®€å•çš„ï¼Œéº»çƒ¦çš„å°±æ˜¯ä¸Šä¼ æ›´æ–°æ–‡ç« å’Œéƒ¨ç½²é¡¹ç›®äº†ï¼Œæ¯æ¬¡éƒ¨ç½²éƒ½éœ€è¦è¾“å…¥è´¦å·å¯†ç ï¼Œå¦å¤–ç”±äº GitHub æœåŠ¡å™¨åœ¨å›½å¤–ï¼Œå›½å†…è®¿é—®é€Ÿåº¦ä¹Ÿå¾ˆå ªå¿§ï¼Œä¸ç”¨æ‹…å¿ƒï¼Œåœ¨åé¢çš„åšå®¢ä¼˜åŒ–ä¸­æˆ‘ä»¬ä¸€èµ·æ¥è§£å†³è¿™äº›é—®é¢˜ï¼Œè®©æ¨¡å‹å…ˆè·‘èµ·æ¥ã€‚</p><h3 id="47-è®¾ç½®åº”ç”¨è‡ªå·±çš„åŸŸå"><a class="markdownIt-Anchor" href="#47-è®¾ç½®åº”ç”¨è‡ªå·±çš„åŸŸå"></a> 4.7 è®¾ç½®åº”ç”¨è‡ªå·±çš„åŸŸå</h3><p>å¦‚æœä½ æœ‰åŸŸåçš„è¯ï¼Œè¿˜å¯ä»¥è®¾ç½®ä¸“å±åŸŸåï¼Œæ¯”å¦‚æˆ‘ä¹‹å‰åœ¨<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fwww.aliyun.com%2Fminisite%2Fgoods%3FtaskPkg%3D1111ydsrwb%26pkgSid%3D588%26recordId%3D952736%26userCode%3Dg49jjzzx">é˜¿é‡Œäº‘ä¹°çš„åŸŸåç‚¹å‡»æŸ¥çœ‹</a>ï¼Œå½“ç„¶å¤§å®¶ä¹Ÿå¯ä»¥ä¹°<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fcurl.qcloud.com%2FjaJqULOo">è…¾è®¯äº‘çš„ç‚¹å‡»æŸ¥çœ‹</a>ï¼Œå›½å†…æ¯”è¾ƒé è°±çš„ä¸¤ä¸ªäº‘æœåŠ¡å™¨å’ŒåŸŸåæœåŠ¡å…¬å¸äº†ï½</p><p><img src="c01a7af7fff87e8c65a3f165ccc1faad.png" alt="" /></p><p>ï¼ˆä»¥æˆ‘è‡ªå·±ä¸ºä¾‹ï¼‰é¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨é˜¿é‡Œäº‘åŸŸåç®¡ç†åå°ï¼Œè¿›è¡ŒåŸŸåè§£æï¼Œæˆ‘ä»¬ç›´æ¥ä»æˆ‘ä»¬è‡ªå·±çš„åŸŸåè§£æåˆ°åšå®¢çš„ github åœ°å€ï¼Œè°ˆåŠä¸€æ¡ CNAME è®°å½•å³å¯ï¼Œä¸»æœºè®°å½•å°±æ˜¯æˆ‘ä»¬åé¢é€šè¿‡ä»€ä¹ˆé“¾æ¥è®¿é—®ï¼Œè®°å½•å€¼å°±æ˜¯ github è®¿é—®åœ°å€äº†ã€‚</p><p><img src="099c54d523262ebc139e8165ca8625e2.png" alt="" /></p><p>ç„¶åæˆ‘ä»¬éœ€è¦åˆ° GitHub å¯¹åº”é¡¹ç›®ä¸­è®¾ç½®é¡¹ç›®çš„åŸŸåï¼Œè¿›å…¥é¡¹ç›®-&gt; Settings -&gt; Page -&gt; <code>Custom domain</code>ï¼Œå°†æˆ‘ä»¬è®¾ç½®çš„ CNAME åŸŸåå†™å…¥å³å¯ï¼ˆæ³¨æ„æ˜¯åœ¨è¿™ä¸ªé¡¹ç›®çš„è®¾ç½®é‡Œï¼Œå¹¶é GitHub çš„è®¾ç½®ï¼‰ã€‚</p><p><img src="b2a253a084672ace93b53627b713ff7e.png" alt="" /></p><p>æœ€åæˆ‘ä»¬è¿˜éœ€è¦åœ¨æœ¬åœ°é¡¹ç›®ä¸­çš„ blog/source æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª<code>CNAME</code>æ–‡ä»¶ï¼Œç¼–è¾‘å†™å…¥æˆ‘ä»¬çš„åŸŸåï¼Œå°±æ˜¯åˆšåˆšå¡«å…¥ GitHub çš„ï¼Œè¿™æ ·åé¢ GitHub å°±èƒ½æ˜ å°„åˆ°æˆ‘ä»¬çš„åŸŸåå•¦ã€‚</p><p><img src="bb19c036ffb1d3ad21834591c49e32ec.png" alt="" /></p><p>å†æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼Œé‡æ–°æ›´æ–°å’Œéƒ¨ç½²é¡¹ç›®ï¼Œ</p><p><img src="f440f0c21225945292142698aee6c3ac.png" alt="" /></p><p>éƒ¨ç½²æˆåŠŸåï¼Œæˆ‘ä»¬ç›´æ¥è®¿é—®<code>https://blog.python-brief.com/</code>ï¼ˆæˆ‘è‡ªå®šä¹‰çš„åŸŸåï¼‰æ¥æŸ¥çœ‹æˆ‘ä»¬çš„åšå®¢å•¦ï½</p><p><img src="65800b2fb1ad8d46d1918550d034c4cc.png" alt="" /></p><h2 id="äº”-å…¶å®ƒ"><a class="markdownIt-Anchor" href="#äº”-å…¶å®ƒ"></a> äº”ã€å…¶å®ƒ</h2><p>ç»è¿‡ä¸Šé¢æ“ä½œï¼Œä½ ä¼šå‘ç°æ­å»ºç¡®å®å¾ˆç®€å•ï¼Œä½†æ˜¯è®¿é—®çœŸçš„æ˜¯æ…¢ï¼ï¼ï¼</p><p>ä¸»è¦åŸå› æ˜¯ GitHub æœåŠ¡å™¨åœ¨å›½å¤–ï¼Œè¿™ä¸ªè§£å†³è¿˜æ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥åŒæ—¶å°†é¡¹ç›®éƒ¨ç½²åˆ°å›½å†…ç äº‘ï¼š<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fgitee.com%2F">https://gitee.com/</a>æˆ–è€… Codingï¼š<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fcoding.net%2F">https://coding.net/</a>ï¼Œæ•´ä¸ªè¿‡ç¨‹å’Œå°†é¡¹ç›®éƒ¨ç½²åˆ° GitHub å·®ä¸å¤šã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br />ç‰ˆæƒè¯´æ˜: æœ¬æ–‡ä¸º InfoQ ä½œè€…ã€è€è¡¨ã€‘çš„åŸåˆ›æ–‡ç« ã€‚<br />åŸæ–‡é“¾æ¥ï¼š<a href="https://xie.infoq.cn/article/90dc08c57463df3a1b2ad960f">https://xie.infoq.cn/article/90dc08c57463df3a1b2ad960f</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MarkDownloadå‰ªè£ç½‘é¡µæ’ä»¶é…ç½®ä½¿ç”¨å…¨æµç¨‹</title>
      <link href="/2024/12/02/Hexo/MarkDownload%E5%89%AA%E8%A3%81%E7%BD%91%E9%A1%B5%E6%8F%92%E4%BB%B6%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8%E5%85%A8%E6%B5%81%E7%A8%8B/"/>
      <url>/2024/12/02/Hexo/MarkDownload%E5%89%AA%E8%A3%81%E7%BD%91%E9%A1%B5%E6%8F%92%E4%BB%B6%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8%E5%85%A8%E6%B5%81%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<blockquote><h2 id="excerpt"><a class="markdownIt-Anchor" href="#excerpt"></a> Excerpt</h2><p>å‰è¨€å†™åœ¨å‰é¢ï¼Œå¤§å®¶æœ‰ä»€ä¹ˆé—®é¢˜å’Œéœ€è¦å¯ä»¥è·Ÿæˆ‘äº¤æµ éœ€æ±‚ä¹‹å‰ä¸€ç›´ä½¿ç”¨ Joplin çš„å‰ªè£ç½‘é¡µåŠŸèƒ½ï¼Œä½†æ˜¯å‰ªè£ä¸‹æ¥åä¸å¯é¿å…çš„éœ€è¦ä½¿ç”¨ Joplin å¯¹å‰ªè£ä¸‹æ¥çš„å†…å®¹åšå¤„ç†ï¼ŒJoplin ç”¨èµ·æ¥ä¸æ˜¯å¾ˆä¹ æƒ¯ï¼Œæ‰€ä»¥åœ¨æƒ³å¯ä¸å¯ä»¥ç”¨ Obsâ€¦</p></blockquote><hr /><h3 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h3><p>å†™åœ¨å‰é¢ï¼Œå¤§å®¶æœ‰ä»€ä¹ˆé—®é¢˜å’Œéœ€è¦å¯ä»¥è·Ÿæˆ‘äº¤æµ</p><h3 id="éœ€æ±‚"><a class="markdownIt-Anchor" href="#éœ€æ±‚"></a> éœ€æ±‚</h3><p>ä¹‹å‰ä¸€ç›´ä½¿ç”¨ Joplin çš„å‰ªè£ç½‘é¡µåŠŸèƒ½ï¼Œä½†æ˜¯å‰ªè£ä¸‹æ¥åä¸å¯é¿å…çš„éœ€è¦ä½¿ç”¨ Joplin å¯¹å‰ªè£ä¸‹æ¥çš„å†…å®¹åšå¤„ç†ï¼ŒJoplin ç”¨èµ·æ¥ä¸æ˜¯å¾ˆä¹ æƒ¯ï¼Œæ‰€ä»¥åœ¨æƒ³å¯ä¸å¯ä»¥ç”¨ Obsidian æ¥å®ç°ç½‘é¡µå‰ªè£å’Œå¤„ç†ï¼Œæœ€ç»ˆé€‰æ‹©çš„ MarkDownload ä½œä¸ºå‰ªè£çš„å·¥å…·</p><h3 id="ä¸‹è½½å®‰è£…"><a class="markdownIt-Anchor" href="#ä¸‹è½½å®‰è£…"></a> ä¸‹è½½å®‰è£…</h3><p>æœ‰ä¸¤ç§æ–¹å¼ï¼Œç¬¬ä¸€ç§æœ€ç®€å•ç›´æ¥æ‰“å¼€è°·æ­Œæ’ä»¶å•†åŸæœç´¢ MarkDownload å°±å¯ä»¥ä¸‹è½½ï¼Œç¬¬äºŒç§æ–¹å¼æ˜¯ä» github ä¸‹è½½å‹ç¼©æ–‡ä»¶ç„¶åè§£å‹åˆ°æ‰©å±•ä¸­ï¼Œå¦‚æœä¸æ–¹ä¾¿ä¸‹è½½å¯ä»¥å…³æ³¨å¾®ä¿¡å…¬ä¼—å· &lt;æ–‡ä»¶å¤¹çš„çŸ¥è¯†åœˆ&gt; å›å¤ &lt;æ’ä»¶ä¸‹è½½&gt; è·å¾—ï¼Œå‹ç¼©åŒ…å¯¹åº”çš„åå­—ä¸º <a href="https://link.zhihu.com/?target=http%3A//markdownload-main.zip">markdownload-main.zip</a>ï¼Œè§£å‹åˆ°æ‰©å±•ä¸­çš„æµç¨‹å¦‚ä¸‹</p><ol><li>æ‰“å¼€ MarkDownload çš„ Github ä»“åº“ï¼š <a href="https://link.zhihu.com/?target=https%3A//github.com/deathau/markdownload">https://github.com/deathau/markdownload</a></li><li>ä¾æ¬¡ç‚¹å‡» Code å’Œ Download ZIP å¦‚ä¸‹å›¾ï¼Œä¼šè·å¾—ä¸€ä¸ªåä¸º markdownload-main çš„å‹ç¼©æ–‡ä»¶</li></ol><p><img src="v2-b7f7ca8711e523b8398bb34b56650823_1440w.jpg" alt="" /></p><p>image.png|500</p><p>3. æ‰“å¼€æµè§ˆå™¨çš„æ‰©å±•ç®¡ç†é¡µé¢ï¼Œå¯ä»¥æŒ‰ç…§ä¸‹é¢æ­¥éª¤æ‰“å¼€</p><ol><li>Firefoxï¼šåœ¨åœ°å€æ è¾“å…¥ <code>about:addons</code>ï¼Œç„¶åç‚¹å‡»â€œæ‰©å±•â€ã€‚</li><li>Google Chromeï¼šåœ¨åœ°å€æ è¾“å…¥ <code>chrome://extensions/</code>ï¼Œç„¶åç‚¹å‡»â€œæ‰©å±•ç¨‹åºâ€ã€‚</li><li>Microsoft Edge: åœ¨åœ°å€æ è¾“å…¥ <code>edge://extensions/</code>ï¼Œç„¶åç‚¹å‡»â€œæ‰©å±•â€ã€‚</li><li>Safari: æ‰“å¼€ Safari è®¾ç½®ï¼Œç‚¹å‡»â€œæ‰©å±•â€ã€‚</li></ol><p>4. åœ¨æ‰©å±•ç®¡ç†é¡µé¢æ‰“å¼€å¼€å‘è€…æ¨¡å¼å¹¶ç‚¹å‡»åŠ è½½å·²è§£å‹æ‰©å±•ç¨‹åºï¼Œç„¶åé€‰æ‹©å¯¹åº”çš„å‹ç¼©åŒ…ç¨‹åº</p><p><img src="v2-c94e4644d3d19a4c43f17f5e1b825606_1440w.jpg" alt="" /></p><p>image.png</p><h3 id="é…ç½®"><a class="markdownIt-Anchor" href="#é…ç½®"></a> é…ç½®</h3><p>å®‰è£…å®Œæˆåè¿˜éœ€è¦å¯¹æ’ä»¶è¿›è¡Œé…ç½®æ‰å¯ä»¥æ­£å¸¸çš„åœ¨ Obsidian ä¸­ä½¿ç”¨</p><ol><li>å·¦é”®ç‚¹å‡» MarkDownload å›¾æ ‡ç„¶åç‚¹å‡»è®¾ç½®æŒ‰é’®ï¼Œå¦‚ä¸‹å›¾</li></ol><p><img src="v2-14ef4ab696b960123803146b0eb02e9f_1440w.jpg" alt="" /></p><p>image.png</p><p>2. è¿›è¡Œè®¾ç½®</p><h3 id="å¿…è¦çš„è®¾ç½®"><a class="markdownIt-Anchor" href="#å¿…è¦çš„è®¾ç½®"></a> å¿…è¦çš„è®¾ç½®</h3><p>å¦‚æœæƒ³ä¸‹è½½çš„ markdown æ–‡ä»¶ç›´æ¥æ”¾åˆ° obsidian æ–‡ä»¶å¤¹éœ€è¦è®¾ç½®è¿™é‡Œ</p><p><img src="v2-d444f56991045e67cf8ca80d07a9efb2_1440w.jpg" alt="" /></p><p>image.png</p><p>å¡«å†™å†…å®¹çš„åœ°æ–¹æ˜¯æŒ‡æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤çš„ä¸‹è½½ä½ç½®æ˜¯æµè§ˆå™¨çš„ä¸‹è½½ä½ç½®ï¼Œå¦‚æœæƒ³ç›´æ¥ä¸‹è½½åˆ°å¯¹åº”æ–‡ä»¶å¤¹éœ€è¦åœ¨ Downloads æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ª Obsidian ä»“åº“ï¼Œæˆ‘è¿™é‡Œçš„å‰ªåˆ‡å¥½çš„æ–‡ä»¶å°±ä¸‹è½½åˆ°äº† <code>Downloads/resource/00 Inbox/</code> æ–‡ä»¶å¤¹ä¸‹</p><p>å…¶æ¬¡æ˜¯ä¸‹è½½çš„ markdown ä¸­çš„å›¾ç‰‡ï¼Œå¦‚æœä¸è¿›è¡Œè®¾ç½®é»˜è®¤æ˜¯åœ¨çº¿çš„å›¾ç‰‡é“¾æ¥ï¼ŒObsidian çš„å›¾ç‰‡æˆ‘ä¹ æƒ¯æœ¬åœ°åŒ–ä¿å­˜ï¼Œè¿™é‡Œéœ€è¦å‹¾é€‰</p><p><img src="v2-266a22aa928104dbb96be8f92c76b61f_1440w.jpg" alt="" /></p><p>image.png|500</p><p>æœ€åä¸€ä¸ªå¿…é¡»è®¾ç½®çš„æ˜¯è¿™é‡Œï¼Œéœ€è¦é€‰æ‹© Indentedï¼Œå¦åˆ™åœ¨å‰ªåˆ‡çš„ç½‘é¡µä¸­æœ‰ä»£ç çš„åœ°æ–¹ä¼šå˜æˆä¸€å¨</p><p><img src="v2-0479c1cdd8e7e829f099f7ad720b0873_1440w.jpg" alt="" /></p><p>image.png|500</p><h3 id="å…¶å®ƒè®¾ç½®"><a class="markdownIt-Anchor" href="#å…¶å®ƒè®¾ç½®"></a> å…¶å®ƒè®¾ç½®</h3><p>å…¶å®ƒè®¾ç½®å¦‚ä¸‹ï¼Œæœ‰éœ€æ±‚çš„å¯ä»¥è‡ªå·±è‡ªå®šä¹‰ï¼š</p><ul><li>Title templateï¼šè®¾ç½®ä¸‹è½½çš„æ–‡ä»¶çš„æ–‡ä»¶å</li><li>Disallowed Characters (to strip out of title/filenameï¼šç³»ç»Ÿä¸­åˆ›å»ºæ–‡ä»¶åéœ€è¦é¿å¼€çš„ç¬¦å·</li><li>Front-matter templateï¼šä¸‹è½½æ–‡ä»¶çš„å‰é¢æ·»åŠ çš„æ¨¡æ¿</li><li>Back-matter templateï¼šä¸‹è½½æ–‡ä»¶çš„åé¢æ·»åŠ çš„æ¨¡æ¿</li><li>Append front/back template to clipped textï¼šæ˜¯å¦å¯ç”¨å‰åæ¨¡æ¿</li><li>Markdown conversion optionsï¼šä¸€äº›æ ·å¼çš„è®¾ç½®</li></ul><p>MarkDownload æ”¯æŒç›´æ¥å¯¼å…¥å¯¹åº”çš„é…ç½®æ¨¡æ¿ï¼Œå¦‚æœ‰éœ€è¦å¯è‡ªå–ï¼Œåç¼€åä¸º json çš„é…ç½®æ–‡ä»¶ï¼Œå¯¼å…¥çš„æµç¨‹ä¸º</p><ol><li>æ–°å»ºä¸€ä¸ªåç¼€åä¸º .json çš„æ–‡ä»¶</li><li>æ‰“å¼€ MarkDownload çš„é…ç½®ç•Œé¢ï¼Œæ‹‰åˆ°æœ€ä¸‹é¢ Import / Export</li><li>ç‚¹å‡» Choose file é€‰ä¸­å¯¹åº”çš„ json æ–‡ä»¶å³å¯</li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span> <span class="attr">&quot;backmatter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;bulletListMarker&quot;</span><span class="punctuation">:</span> <span class="string">&quot;-&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;codeBlockStyle&quot;</span><span class="punctuation">:</span> <span class="string">&quot;indented&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;contextMenus&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span> <span class="attr">&quot;disallowedChars&quot;</span><span class="punctuation">:</span> <span class="string">&quot;[]#^&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;downloadImages&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span> <span class="attr">&quot;downloadMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;downloadsApi&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;emDelimiter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;_&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;fence&quot;</span><span class="punctuation">:</span> <span class="string">&quot;```&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;frontmatter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;---\ncreated: &#123;date:YYYY-MM-DDTHH:mm:ss&#125; (UTC &#123;date:Z&#125;)\ntags: [&#123;keywords&#125;]\nsource: &#123;baseURI&#125;\nauthor: &#123;byline&#125;\n---\n\n# &#123;pageTitle&#125;\n\n&gt; ## Excerpt\n&gt; &#123;excerpt&#125;\n\n---&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;headingStyle&quot;</span><span class="punctuation">:</span> <span class="string">&quot;atx&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;hr&quot;</span><span class="punctuation">:</span> <span class="string">&quot;___&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;imagePrefix&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;imageRefStyle&quot;</span><span class="punctuation">:</span> <span class="string">&quot;inlined&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;imageStyle&quot;</span><span class="punctuation">:</span> <span class="string">&quot;obsidian-nofolder&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;includeTemplate&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span> <span class="attr">&quot;linkReferenceStyle&quot;</span><span class="punctuation">:</span> <span class="string">&quot;full&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;linkStyle&quot;</span><span class="punctuation">:</span> <span class="string">&quot;inlined&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;mdClipsFolder&quot;</span><span class="punctuation">:</span> <span class="string">&quot;resource/00 Inbox/&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;obsidianFolder&quot;</span><span class="punctuation">:</span> <span class="string">&quot;00 ING&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;obsidianIntegration&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span> <span class="attr">&quot;obsidianVault&quot;</span><span class="punctuation">:</span> <span class="string">&quot;notes&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;saveAs&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span> <span class="attr">&quot;strongDelimiter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;**&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&#123;pageTitle&#125;&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;turndownEscape&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span> <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br />åŸæ–‡é“¾æ¥ï¼š<a href="https://zhuanlan.zhihu.com/p/2340252011">https://zhuanlan.zhihu.com/p/2340252011</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Butterflyä¸»é¢˜ä½¿ç”¨åŠç¾åŒ–</title>
      <link href="/2024/12/02/Hexo/Butterfly%E4%B8%BB%E9%A2%98%E4%BD%BF%E7%94%A8%E5%8F%8A%E7%BE%8E%E5%8C%96/"/>
      <url>/2024/12/02/Hexo/Butterfly%E4%B8%BB%E9%A2%98%E4%BD%BF%E7%94%A8%E5%8F%8A%E7%BE%8E%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æœŸå°†ä¸ºå¤§å®¶è®²è§£Hexo Butterflyä¸»é¢˜çš„ä½¿ç”¨ã€‚</p><h2 id="1-ä¸»é¢˜ä»‹ç»"><a class="markdownIt-Anchor" href="#1-ä¸»é¢˜ä»‹ç»"></a> 1. ä¸»é¢˜ä»‹ç»</h2><p><code>hexo-theme-butterfly</code>æ˜¯åŸºäº <a href="https://github.com/Molunerfinn">Molunerfinn</a> çš„ <a href="https://github.com/Molunerfinn/hexo-theme-melody">hexo-theme-melody</a> çš„åŸºç¡€ä¸Šè¿›è¡Œå¼€å‘çš„ï¼Œå½“å‰ç‰ˆæœ¬æ˜¯<code>v4.13.0</code>ã€‚</p><p>ä¸»é¢˜å®˜ç½‘ï¼š<a href="https://github.com/jerryc127/hexo-theme-butterfly">https://github.com/jerryc127/hexo-theme-butterfly</a></p><p>å®˜ç½‘æ•ˆæœå›¾ï¼š</p><p><img src="93e5620d9f3c4995865718031e02028f.png" alt="image-20240725002747897" /></p><h2 id="2-ä¸»é¢˜å®‰è£…"><a class="markdownIt-Anchor" href="#2-ä¸»é¢˜å®‰è£…"></a> 2. ä¸»é¢˜å®‰è£…</h2><h3 id="21-ä¸‹è½½ä¸»é¢˜"><a class="markdownIt-Anchor" href="#21-ä¸‹è½½ä¸»é¢˜"></a> 2.1 ä¸‹è½½ä¸»é¢˜</h3><p>å»ºè®®ä½ ä½¿ç”¨cloneæœ€æ–°ç‰ˆæœ¬çš„æ–¹å¼ï¼Œä¹‹åçš„æ›´æ–°å¯ä»¥é€šè¿‡ <a href="https://edu.csdn.net/cloud/sd_summit?utm_source=glcblog&amp;spm=1001.2101.3001.7020">git</a> pull æ¥å¿«é€Ÿæ›´æ–°ï¼Œ è€Œä¸ç”¨å†æ¬¡ä¸‹è½½å‹ç¼©åŒ…æ›¿æ¢ã€‚</p><p>åˆ‡æ¢åˆ°åšå®¢çš„ä¸»é¢˜æ ¹ç›®å½•ä¸‹æ‰“å¼€<code>Git Bash</code>å¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><p>ä¸‹è½½å®Œæˆåï¼Œä¼šåœ¨é¡¹ç›®themesç›®å½•ä¸‹ç”Ÿæˆbutterflyæ–‡ä»¶å¤¹ã€‚</p><p><img src="41ddfb252b847cf481714f4ce05f746f.png" alt="image-20240725002906207" /></p><p>å¦‚æœæ²¡æœ‰ä¿®æ”¹ä»£ç çš„éœ€æ±‚å¯ä»¥ç›´æ¥é€šè¿‡<a href="https://edu.csdn.net/cloud/sd_summit?utm_source=glcblog&amp;spm=1001.2101.3001.7020">npm</a>æ¥å®‰è£…ã€‚</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">npm</span> <span class="selector-tag">i</span> <span class="selector-tag">hexo-theme-butterfly</span></span><br></pre></td></tr></table></figure><blockquote><p>ä»…æ”¯æŒHexo 5.0.0åŠä»¥ä¸Šç‰ˆæœ¬</p></blockquote><h3 id="22-æ¸²æŸ“å™¨ä¸‹è½½"><a class="markdownIt-Anchor" href="#22-æ¸²æŸ“å™¨ä¸‹è½½"></a> 2.2 æ¸²æŸ“å™¨ä¸‹è½½</h3><p>éœ€è¦å®‰è£…å®‰è£…<code>pug</code> å’Œ <code>stylus</code> æ¸²æŸ“å™¨ï¼Œå¦åˆ™å¯åŠ¨ä¹‹åè®¿é—®é¡µé¢ä¼šæŠ¥é”™ã€‚</p><blockquote><p>é”™è¯¯å†…å®¹ï¼š extends includes/layout.pug block content include ./includes/mixins/post-ui.pug #recent-posts.recent-posts +postUI include includes/pagination.pug</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo<span class="operator">-</span>renderer<span class="operator">-</span>pug hexo<span class="operator">-</span>renderer<span class="operator">-</span>stylus <span class="comment">--save</span></span><br></pre></td></tr></table></figure><h3 id="23-åˆ‡æ¢ä¸»é¢˜"><a class="markdownIt-Anchor" href="#23-åˆ‡æ¢ä¸»é¢˜"></a> 2.3 åˆ‡æ¢ä¸»é¢˜</h3><p>ä¸æ‰€æœ‰ <a href="https://so.csdn.net/so/search?q=Hexo%20%E4%B8%BB%E9%A2%98&amp;spm=1001.2101.3001.7020">Hexo ä¸»é¢˜</a>å¯ç”¨çš„æ¨¡å¼ä¸€æ ·ã€‚å½“ å…‹éš†/ä¸‹è½½ å®Œæˆåï¼Œæ‰“å¼€ <strong><code>ç«™ç‚¹é…ç½®æ–‡ä»¶</code></strong>ï¼Œ æ‰¾åˆ° <code>theme</code> å­—æ®µï¼Œå¹¶å°†å…¶å€¼æ›´æ”¹ä¸º <code>butterfly</code>ã€‚</p><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">theme:</span> butterfly</span><br></pre></td></tr></table></figure><p>åˆ°æ­¤ï¼ŒButterflyä¸»é¢˜å®‰è£…å®Œæˆã€‚</p><h3 id="24-éªŒè¯ä¸»é¢˜"><a class="markdownIt-Anchor" href="#24-éªŒè¯ä¸»é¢˜"></a> 2.4 éªŒè¯ä¸»é¢˜</h3><p>å¯åŠ¨æœåŠ¡å¹¶è®¿é—®http://localhost:4000æŸ¥çœ‹æ•ˆæœ.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo s</span><br></pre></td></tr></table></figure><p><img src="22885e3b179f1f043a6311afe49e2f63.png" alt="image-20240725003448163" /></p><h2 id="3-ä¸»é¢˜é…ç½®"><a class="markdownIt-Anchor" href="#3-ä¸»é¢˜é…ç½®"></a> 3. ä¸»é¢˜é…ç½®</h2><p><code>ä¸»é¢˜é…ç½®æ–‡ä»¶</code>æ˜¯<code>themes/butterfly/_config.yml</code>ã€‚</p><h3 id="31-é…ç½®è¯´æ˜"><a class="markdownIt-Anchor" href="#31-é…ç½®è¯´æ˜"></a> 3.1 é…ç½®è¯´æ˜</h3><p>ä»¥ä¸‹æ˜¯<code>themes/butterfly/_config.yml</code>æ–‡ä»¶çš„ç¿»è¯‘ç‰ˆæœ¬ï¼Œå¯ä»¥å¤åˆ¶è¿›å»æ›¿æ¢åŸæ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br><span class="line">1245</span><br><span class="line">1246</span><br><span class="line">1247</span><br><span class="line">1248</span><br><span class="line">1249</span><br><span class="line">1250</span><br><span class="line">1251</span><br><span class="line">1252</span><br><span class="line">1253</span><br><span class="line">1254</span><br><span class="line">1255</span><br><span class="line">1256</span><br><span class="line">1257</span><br><span class="line">1258</span><br><span class="line">1259</span><br><span class="line">1260</span><br><span class="line">1261</span><br><span class="line">1262</span><br><span class="line">1263</span><br><span class="line">1264</span><br><span class="line">1265</span><br><span class="line">1266</span><br><span class="line">1267</span><br><span class="line">1268</span><br><span class="line">1269</span><br><span class="line">1270</span><br><span class="line">1271</span><br><span class="line">1272</span><br><span class="line">1273</span><br><span class="line">1274</span><br><span class="line">1275</span><br><span class="line">1276</span><br><span class="line">1277</span><br><span class="line">1278</span><br><span class="line">1279</span><br><span class="line">1280</span><br><span class="line">1281</span><br><span class="line">1282</span><br><span class="line">1283</span><br><span class="line">1284</span><br><span class="line">1285</span><br><span class="line">1286</span><br><span class="line">1287</span><br><span class="line">1288</span><br><span class="line">1289</span><br><span class="line">1290</span><br><span class="line">1291</span><br><span class="line">1292</span><br><span class="line">1293</span><br><span class="line">1294</span><br><span class="line">1295</span><br><span class="line">1296</span><br><span class="line">1297</span><br><span class="line">1298</span><br><span class="line">1299</span><br><span class="line">1300</span><br><span class="line">1301</span><br><span class="line">1302</span><br><span class="line">1303</span><br><span class="line">1304</span><br><span class="line">1305</span><br><span class="line">1306</span><br><span class="line">1307</span><br><span class="line">1308</span><br><span class="line">1309</span><br><span class="line">1310</span><br><span class="line">1311</span><br><span class="line">1312</span><br><span class="line">1313</span><br><span class="line">1314</span><br><span class="line">1315</span><br><span class="line">1316</span><br><span class="line">1317</span><br><span class="line">1318</span><br><span class="line">1319</span><br><span class="line">1320</span><br><span class="line">1321</span><br><span class="line">1322</span><br><span class="line">1323</span><br><span class="line">1324</span><br><span class="line">1325</span><br><span class="line">1326</span><br><span class="line">1327</span><br><span class="line">1328</span><br><span class="line">1329</span><br><span class="line">1330</span><br><span class="line">1331</span><br><span class="line">1332</span><br><span class="line">1333</span><br><span class="line">1334</span><br><span class="line">1335</span><br><span class="line">1336</span><br><span class="line">1337</span><br><span class="line">1338</span><br><span class="line">1339</span><br><span class="line">1340</span><br><span class="line">1341</span><br><span class="line">1342</span><br><span class="line">1343</span><br><span class="line">1344</span><br><span class="line">1345</span><br><span class="line">1346</span><br><span class="line">1347</span><br><span class="line">1348</span><br><span class="line">1349</span><br><span class="line">1350</span><br><span class="line">1351</span><br><span class="line">1352</span><br><span class="line">1353</span><br><span class="line">1354</span><br><span class="line">1355</span><br><span class="line">1356</span><br><span class="line">1357</span><br><span class="line">1358</span><br><span class="line">1359</span><br><span class="line">1360</span><br><span class="line">1361</span><br><span class="line">1362</span><br><span class="line">1363</span><br><span class="line">1364</span><br><span class="line">1365</span><br><span class="line">1366</span><br><span class="line">1367</span><br><span class="line">1368</span><br><span class="line">1369</span><br><span class="line">1370</span><br><span class="line">1371</span><br><span class="line">1372</span><br><span class="line">1373</span><br><span class="line">1374</span><br><span class="line">1375</span><br><span class="line">1376</span><br><span class="line">1377</span><br><span class="line">1378</span><br><span class="line">1379</span><br><span class="line">1380</span><br><span class="line">1381</span><br><span class="line">1382</span><br><span class="line">1383</span><br><span class="line">1384</span><br><span class="line">1385</span><br><span class="line">1386</span><br><span class="line">1387</span><br><span class="line">1388</span><br><span class="line">1389</span><br><span class="line">1390</span><br><span class="line">1391</span><br><span class="line">1392</span><br><span class="line">1393</span><br><span class="line">1394</span><br><span class="line">1395</span><br><span class="line">1396</span><br><span class="line">1397</span><br><span class="line">1398</span><br><span class="line">1399</span><br><span class="line">1400</span><br><span class="line">1401</span><br><span class="line">1402</span><br><span class="line">1403</span><br><span class="line">1404</span><br><span class="line">1405</span><br><span class="line">1406</span><br><span class="line">1407</span><br><span class="line">1408</span><br><span class="line">1409</span><br><span class="line">1410</span><br><span class="line">1411</span><br><span class="line">1412</span><br><span class="line">1413</span><br><span class="line">1414</span><br><span class="line">1415</span><br><span class="line">1416</span><br><span class="line">1417</span><br><span class="line">1418</span><br><span class="line">1419</span><br><span class="line">1420</span><br><span class="line">1421</span><br><span class="line">1422</span><br><span class="line">1423</span><br><span class="line">1424</span><br><span class="line">1425</span><br><span class="line">1426</span><br><span class="line">1427</span><br><span class="line">1428</span><br><span class="line">1429</span><br><span class="line">1430</span><br><span class="line">1431</span><br><span class="line">1432</span><br><span class="line">1433</span><br><span class="line">1434</span><br><span class="line">1435</span><br><span class="line">1436</span><br><span class="line">1437</span><br><span class="line">1438</span><br><span class="line">1439</span><br><span class="line">1440</span><br><span class="line">1441</span><br><span class="line">1442</span><br><span class="line">1443</span><br><span class="line">1444</span><br><span class="line">1445</span><br><span class="line">1446</span><br><span class="line">1447</span><br><span class="line">1448</span><br><span class="line">1449</span><br><span class="line">1450</span><br><span class="line">1451</span><br><span class="line">1452</span><br><span class="line">1453</span><br><span class="line">1454</span><br><span class="line">1455</span><br><span class="line">1456</span><br><span class="line">1457</span><br><span class="line">1458</span><br><span class="line">1459</span><br><span class="line">1460</span><br><span class="line">1461</span><br><span class="line">1462</span><br><span class="line">1463</span><br><span class="line">1464</span><br><span class="line">1465</span><br><span class="line">1466</span><br><span class="line">1467</span><br><span class="line">1468</span><br><span class="line">1469</span><br><span class="line">1470</span><br><span class="line">1471</span><br><span class="line">1472</span><br><span class="line">1473</span><br><span class="line">1474</span><br><span class="line">1475</span><br><span class="line">1476</span><br><span class="line">1477</span><br><span class="line">1478</span><br><span class="line">1479</span><br><span class="line">1480</span><br><span class="line">1481</span><br><span class="line">1482</span><br><span class="line">1483</span><br><span class="line">1484</span><br><span class="line">1485</span><br><span class="line">1486</span><br><span class="line">1487</span><br><span class="line">1488</span><br><span class="line">1489</span><br><span class="line">1490</span><br><span class="line">1491</span><br><span class="line">1492</span><br><span class="line">1493</span><br><span class="line">1494</span><br><span class="line">1495</span><br><span class="line">1496</span><br><span class="line">1497</span><br><span class="line">1498</span><br><span class="line">1499</span><br><span class="line">1500</span><br><span class="line">1501</span><br><span class="line">1502</span><br><span class="line">1503</span><br><span class="line">1504</span><br><span class="line">1505</span><br><span class="line">1506</span><br><span class="line">1507</span><br><span class="line">1508</span><br><span class="line">1509</span><br><span class="line">1510</span><br><span class="line">1511</span><br><span class="line">1512</span><br><span class="line">1513</span><br><span class="line">1514</span><br><span class="line">1515</span><br><span class="line">1516</span><br><span class="line">1517</span><br><span class="line">1518</span><br><span class="line">1519</span><br><span class="line">1520</span><br><span class="line">1521</span><br><span class="line">1522</span><br><span class="line">1523</span><br><span class="line">1524</span><br><span class="line">1525</span><br><span class="line">1526</span><br><span class="line">1527</span><br><span class="line">1528</span><br><span class="line">1529</span><br><span class="line">1530</span><br><span class="line">1531</span><br><span class="line">1532</span><br><span class="line">1533</span><br><span class="line">1534</span><br><span class="line">1535</span><br><span class="line">1536</span><br><span class="line">1537</span><br><span class="line">1538</span><br><span class="line">1539</span><br><span class="line">1540</span><br><span class="line">1541</span><br><span class="line">1542</span><br><span class="line">1543</span><br><span class="line">1544</span><br><span class="line">1545</span><br><span class="line">1546</span><br><span class="line">1547</span><br><span class="line">1548</span><br><span class="line">1549</span><br><span class="line">1550</span><br><span class="line">1551</span><br><span class="line">1552</span><br><span class="line">1553</span><br><span class="line">1554</span><br><span class="line">1555</span><br><span class="line">1556</span><br><span class="line">1557</span><br><span class="line">1558</span><br><span class="line">1559</span><br><span class="line">1560</span><br><span class="line">1561</span><br><span class="line">1562</span><br><span class="line">1563</span><br><span class="line">1564</span><br><span class="line">1565</span><br><span class="line">1566</span><br><span class="line">1567</span><br><span class="line">1568</span><br><span class="line">1569</span><br><span class="line">1570</span><br><span class="line">1571</span><br><span class="line">1572</span><br><span class="line">1573</span><br><span class="line">1574</span><br><span class="line">1575</span><br><span class="line">1576</span><br><span class="line">1577</span><br><span class="line">1578</span><br><span class="line">1579</span><br><span class="line">1580</span><br><span class="line">1581</span><br><span class="line">1582</span><br><span class="line">1583</span><br><span class="line">1584</span><br><span class="line">1585</span><br><span class="line">1586</span><br><span class="line">1587</span><br><span class="line">1588</span><br><span class="line">1589</span><br><span class="line">1590</span><br><span class="line">1591</span><br><span class="line">1592</span><br><span class="line">1593</span><br><span class="line">1594</span><br><span class="line">1595</span><br><span class="line">1596</span><br><span class="line">1597</span><br><span class="line">1598</span><br><span class="line">1599</span><br><span class="line">1600</span><br><span class="line">1601</span><br><span class="line">1602</span><br><span class="line">1603</span><br><span class="line">1604</span><br><span class="line">1605</span><br><span class="line">1606</span><br><span class="line">1607</span><br><span class="line">1608</span><br><span class="line">1609</span><br><span class="line">1610</span><br><span class="line">1611</span><br><span class="line">1612</span><br><span class="line">1613</span><br><span class="line">1614</span><br><span class="line">1615</span><br><span class="line">1616</span><br><span class="line">1617</span><br><span class="line">1618</span><br><span class="line">1619</span><br><span class="line">1620</span><br><span class="line">1621</span><br><span class="line">1622</span><br><span class="line">1623</span><br><span class="line">1624</span><br><span class="line">1625</span><br><span class="line">1626</span><br><span class="line">1627</span><br><span class="line">1628</span><br><span class="line">1629</span><br><span class="line">1630</span><br><span class="line">1631</span><br><span class="line">1632</span><br><span class="line">1633</span><br><span class="line">1634</span><br><span class="line">1635</span><br><span class="line">1636</span><br><span class="line">1637</span><br><span class="line">1638</span><br><span class="line">1639</span><br><span class="line">1640</span><br><span class="line">1641</span><br><span class="line">1642</span><br><span class="line">1643</span><br><span class="line">1644</span><br><span class="line">1645</span><br><span class="line">1646</span><br><span class="line">1647</span><br><span class="line">1648</span><br><span class="line">1649</span><br><span class="line">1650</span><br><span class="line">1651</span><br><span class="line">1652</span><br><span class="line">1653</span><br><span class="line">1654</span><br><span class="line">1655</span><br><span class="line">1656</span><br><span class="line">1657</span><br><span class="line">1658</span><br><span class="line">1659</span><br><span class="line">1660</span><br><span class="line">1661</span><br><span class="line">1662</span><br><span class="line">1663</span><br><span class="line">1664</span><br><span class="line">1665</span><br><span class="line">1666</span><br><span class="line">1667</span><br><span class="line">1668</span><br><span class="line">1669</span><br><span class="line">1670</span><br><span class="line">1671</span><br><span class="line">1672</span><br><span class="line">1673</span><br><span class="line">1674</span><br><span class="line">1675</span><br><span class="line">1676</span><br><span class="line">1677</span><br><span class="line">1678</span><br><span class="line">1679</span><br><span class="line">1680</span><br><span class="line">1681</span><br><span class="line">1682</span><br><span class="line">1683</span><br><span class="line">1684</span><br><span class="line">1685</span><br><span class="line">1686</span><br><span class="line">1687</span><br><span class="line">1688</span><br><span class="line">1689</span><br><span class="line">1690</span><br><span class="line">1691</span><br><span class="line">1692</span><br><span class="line">1693</span><br><span class="line">1694</span><br><span class="line">1695</span><br><span class="line">1696</span><br><span class="line">1697</span><br><span class="line">1698</span><br><span class="line">1699</span><br><span class="line">1700</span><br><span class="line">1701</span><br><span class="line">1702</span><br><span class="line">1703</span><br><span class="line">1704</span><br><span class="line">1705</span><br><span class="line">1706</span><br><span class="line">1707</span><br><span class="line">1708</span><br><span class="line">1709</span><br><span class="line">1710</span><br><span class="line">1711</span><br><span class="line">1712</span><br><span class="line">1713</span><br><span class="line">1714</span><br><span class="line">1715</span><br><span class="line">1716</span><br><span class="line">1717</span><br><span class="line">1718</span><br><span class="line">1719</span><br><span class="line">1720</span><br><span class="line">1721</span><br><span class="line">1722</span><br><span class="line">1723</span><br><span class="line">1724</span><br><span class="line">1725</span><br><span class="line">1726</span><br><span class="line">1727</span><br></pre></td><td class="code"><pre><span class="line"># Navigation bar settings (å¯¼èˆªæ è®¾ç½®)</span><br><span class="line"></span><br><span class="line"># è§ https://butterfly.js.org/posts/4aa8abbe/##å¯¼èˆªæ è®¾ç½®-Navigation-bar-settings</span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line">nav:</span><br><span class="line"></span><br><span class="line">logo: # å›¾ç‰‡</span><br><span class="line"></span><br><span class="line">display_title: true</span><br><span class="line"></span><br><span class="line">fixed: false # å›ºå®šå¯¼èˆªæ </span><br><span class="line"></span><br><span class="line"># Menu ç›®å½•</span><br><span class="line"></span><br><span class="line">menu:</span><br><span class="line"></span><br><span class="line"># Home: / || fas fa-home</span><br><span class="line"></span><br><span class="line"># Archives: /archives/ || fas fa-archive</span><br><span class="line"></span><br><span class="line"># Tags: /tags/ || fas fa-tags</span><br><span class="line"></span><br><span class="line"># Categories: /categories/ || fas fa-folder-open</span><br><span class="line"></span><br><span class="line"># List||fas fa-list:</span><br><span class="line"></span><br><span class="line"># Music: /music/ || fas fa-music</span><br><span class="line"></span><br><span class="line"># Movie: /movies/ || fas fa-video</span><br><span class="line"></span><br><span class="line"># Link: /link/ || fas fa-link</span><br><span class="line"></span><br><span class="line"># About: /about/ || fas fa-heart</span><br><span class="line"></span><br><span class="line"># Code Blocks (ä»£ç å—ç›¸å…³)</span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line">highlight_theme: light # darker / pale night / light / ocean / false</span><br><span class="line"></span><br><span class="line">highlight_height_limit: false # å•ä½ï¼šåƒç´ </span><br><span class="line"></span><br><span class="line">code_word_wrap: false</span><br><span class="line"></span><br><span class="line"># é«˜äº®å·¥å…·æ </span><br><span class="line"></span><br><span class="line">highlight_theme_macStyle: false # ä½¿ç”¨ Mac é£æ ¼</span><br><span class="line"></span><br><span class="line">highlight_copy: true # å¤åˆ¶æŒ‰é’®</span><br><span class="line"></span><br><span class="line">highlight_lang: true # æ˜¾ç¤ºä»£ç è¯­è¨€</span><br><span class="line"></span><br><span class="line">highlight_shrink: false # true: æ”¶ç¼©ä»£ç å— / false: å±•å¼€ä»£ç å— | none: å±•å¼€ä»£ç å—å¹¶éšè—æŒ‰é’®</span><br><span class="line"></span><br><span class="line">highlight_fullpage: true # true: æ·»åŠ åˆ‡æ¢å…¨å±çš„æŒ‰é’®</span><br><span class="line"></span><br><span class="line"># Social Settings (ç¤¾äº¤å›¾æ ‡è®¾ç½®)</span><br><span class="line"></span><br><span class="line"># æ­£å¼:</span><br><span class="line"></span><br><span class="line"># icon: é“¾æ¥ || æè¿° || é¢œè‰²</span><br><span class="line"></span><br><span class="line">social:</span><br><span class="line"></span><br><span class="line"># fab fa-github: https://github.com/xxxxx || Github || &#x27;#24292e&#x27;</span><br><span class="line"></span><br><span class="line"># fas fa-envelope: mailto:xxxxxx@gmail.com || Email || &#x27;#4a7dbe&#x27;</span><br><span class="line"></span><br><span class="line"># Image (å›¾ç‰‡è®¾ç½®)</span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># Faviconï¼ˆç½‘ç«™å›¾æ ‡ï¼‰</span><br><span class="line"></span><br><span class="line">favicon: /img/favicon.png</span><br><span class="line"></span><br><span class="line"># Avatar (å¤´åƒ)</span><br><span class="line"></span><br><span class="line">avatar:</span><br><span class="line"></span><br><span class="line">img: https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png</span><br><span class="line"></span><br><span class="line">effect: false</span><br><span class="line"></span><br><span class="line"># ç¦ç”¨æ‰€æœ‰æ¨ªå¹…å›¾ç‰‡</span><br><span class="line"></span><br><span class="line">disable_top_img: false</span><br><span class="line"></span><br><span class="line"># é¦–é¡µçš„æ¨ªå¹…å›¾ç‰‡</span><br><span class="line"></span><br><span class="line">index_img:</span><br><span class="line"></span><br><span class="line"># å¦‚æœé¡µé¢æ²¡æœ‰è®¾ç½®æ¨ªå¹…ï¼Œåˆ™æ˜¾ç¤ºé¡¶éƒ¨å›¾ç‰‡</span><br><span class="line"></span><br><span class="line">default_top_img:</span><br><span class="line"></span><br><span class="line"># å½’æ¡£é¡µé¢çš„æ¨ªå¹…å›¾ç‰‡</span><br><span class="line"></span><br><span class="line">archive_img:</span><br><span class="line"></span><br><span class="line"># å¦‚æœæ ‡ç­¾é¡µé¢æ²¡æœ‰è®¾ç½®æ¨ªå¹…ï¼Œåˆ™æ˜¾ç¤ºé¡¶éƒ¨å›¾ç‰‡</span><br><span class="line"></span><br><span class="line"># æ³¨æ„ï¼šæ ‡ç­¾é¡µé¢ï¼Œä¸æ˜¯æ ‡ç­¾é¡µé¢ï¼ˆå­æ ‡ç­¾é¡µé¢çš„é¡¶éƒ¨å›¾ç‰‡ï¼‰</span><br><span class="line"></span><br><span class="line">tag_img:</span><br><span class="line"></span><br><span class="line"># æ ‡ç­¾é¡µé¢çš„æ¨ªå¹…å›¾ç‰‡</span><br><span class="line"></span><br><span class="line"># æ ¼å¼:</span><br><span class="line"></span><br><span class="line"># - æ ‡ç­¾å: xxxxx</span><br><span class="line"></span><br><span class="line">tag_per_img:</span><br><span class="line"></span><br><span class="line"># å¦‚æœåˆ†ç±»é¡µé¢æ²¡æœ‰è®¾ç½®æ¨ªå¹…ï¼Œåˆ™æ˜¾ç¤ºé¡¶éƒ¨å›¾ç‰‡</span><br><span class="line"></span><br><span class="line"># æ³¨æ„ï¼šåˆ†ç±»é¡µé¢ï¼Œä¸æ˜¯åˆ†ç±»é¡µé¢ï¼ˆå­åˆ†ç±»é¡µé¢çš„é¡¶éƒ¨å›¾ç‰‡ï¼‰</span><br><span class="line"></span><br><span class="line">category_img:</span><br><span class="line"></span><br><span class="line"># åˆ†ç±»é¡µé¢çš„æ¨ªå¹…å›¾ç‰‡</span><br><span class="line"></span><br><span class="line"># æ ¼å¼:</span><br><span class="line"></span><br><span class="line"># - åˆ†ç±»å: xxxxx</span><br><span class="line"></span><br><span class="line">category_per_img:</span><br><span class="line"></span><br><span class="line"># å°é¢</span><br><span class="line"></span><br><span class="line">cover:</span><br><span class="line"></span><br><span class="line"># æ˜¯å¦æ˜¾ç¤ºæ–‡ç« å°é¢</span><br><span class="line"></span><br><span class="line">index_enable: true</span><br><span class="line"></span><br><span class="line">aside_enable: true</span><br><span class="line"></span><br><span class="line">archives_enable: true</span><br><span class="line"></span><br><span class="line"># é¦–é¡µå°é¢æ˜¾ç¤ºçš„ä½ç½®</span><br><span class="line"></span><br><span class="line"># left/right/both</span><br><span class="line"></span><br><span class="line">position: both</span><br><span class="line"></span><br><span class="line"># å½“æ²¡æœ‰è®¾ç½®å°é¢æ—¶ï¼Œæ˜¾ç¤ºé»˜è®¤å°é¢</span><br><span class="line"></span><br><span class="line">default_cover:</span><br><span class="line"></span><br><span class="line"># - https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg</span><br><span class="line"></span><br><span class="line"># æ›¿æ¢æ— æ³•æ˜¾ç¤ºçš„å›¾ç‰‡</span><br><span class="line"></span><br><span class="line">error_img:</span><br><span class="line"></span><br><span class="line">flink: /img/friend_404.gif</span><br><span class="line"></span><br><span class="line">post_page: /img/404.jpg</span><br><span class="line"></span><br><span class="line"># ä¸€ä¸ªç®€å•çš„ 404 é¡µé¢</span><br><span class="line"></span><br><span class="line">error_404:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">subtitle: &#x27;é¡µé¢æœªæ‰¾åˆ°&#x27;</span><br><span class="line"></span><br><span class="line">background: https://i.loli.net/2020/05/19/aKOcLiyPl2JQdFD.png</span><br><span class="line"></span><br><span class="line"># post_meta é¡µé¢å…ƒæ•°æ®</span><br><span class="line"></span><br><span class="line">post_meta:</span><br><span class="line"></span><br><span class="line">page: # é¦–é¡µ</span><br><span class="line"></span><br><span class="line">date_type: created # created æˆ– updated æˆ– both ä¸»é¡µæ–‡ç« æ—¥æœŸæ˜¾ç¤ºåˆ›å»ºæ—¥æˆ–è€…æ›´æ–°æ—¥æˆ–éƒ½æ˜¾ç¤º</span><br><span class="line"></span><br><span class="line">date_format: date # date æˆ– relative æ˜¾ç¤ºæ—¥æœŸè¿˜æ˜¯ç›¸å¯¹æ—¥æœŸ</span><br><span class="line"></span><br><span class="line">categories: true # true æˆ– false ä¸»é¡µæ˜¯å¦æ˜¾ç¤ºåˆ†ç±»</span><br><span class="line"></span><br><span class="line">tags: false # true æˆ– false ä¸»é¡µæ˜¯å¦æ˜¾ç¤ºæ ‡ç­¾</span><br><span class="line"></span><br><span class="line">label: true # true æˆ– false æ˜¾ç¤ºæè¿°æ€§æ–‡å­—</span><br><span class="line"></span><br><span class="line">post:</span><br><span class="line"></span><br><span class="line">position: left # left æˆ– center æ–‡ç« é¡µæ ‡é¢˜ä½ç½®</span><br><span class="line"></span><br><span class="line">date_type: both # created æˆ– updated æˆ– both æ–‡ç« é¡µæ—¥æœŸæ˜¾ç¤ºåˆ›å»ºæ—¥æˆ–è€…æ›´æ–°æ—¥æˆ–éƒ½æ˜¾ç¤º</span><br><span class="line"></span><br><span class="line">date_format: date # date æˆ– relative æ˜¾ç¤ºæ—¥æœŸè¿˜æ˜¯ç›¸å¯¹æ—¥æœŸ</span><br><span class="line"></span><br><span class="line">categories: true # true æˆ– false æ–‡ç« é¡µæ˜¯å¦æ˜¾ç¤ºåˆ†ç±»</span><br><span class="line"></span><br><span class="line">tags: true # true æˆ– false æ–‡ç« é¡µæ˜¯å¦æ˜¾ç¤ºæ ‡ç­¾</span><br><span class="line"></span><br><span class="line">label: true # true æˆ– false æ˜¾ç¤ºæè¿°æ€§æ–‡å­—</span><br><span class="line"></span><br><span class="line"># åœ¨é¦–é¡µæ˜¾ç¤ºæ–‡ç« ä»‹ç»</span><br><span class="line"></span><br><span class="line"># 1: description</span><br><span class="line"></span><br><span class="line"># 2: both (å¦‚æœæè¿°å­˜åœ¨ï¼Œåˆ™æ˜¾ç¤ºæè¿°ï¼Œå¦åˆ™æ˜¾ç¤ºè‡ªåŠ¨æ‘˜è¦)</span><br><span class="line"></span><br><span class="line"># 3: auto_excerpt (é»˜è®¤)</span><br><span class="line"></span><br><span class="line"># false: ä¸æ˜¾ç¤ºæ–‡ç« ä»‹ç»</span><br><span class="line"></span><br><span class="line">index_post_content:</span><br><span class="line"></span><br><span class="line">method: 3</span><br><span class="line"></span><br><span class="line">length: 500 # å¦‚æœä½ è®¾ç½®æ–¹æ³•ä¸º 2 æˆ– 3ï¼Œéœ€è¦é…ç½®é•¿åº¦</span><br><span class="line"></span><br><span class="line"># é”šç‚¹</span><br><span class="line"></span><br><span class="line">anchor:</span><br><span class="line"></span><br><span class="line"># å½“ä½ æ»šåŠ¨æ—¶ï¼ŒURL å°†æ ¹æ®æ ‡é¢˜ id æ›´æ–°</span><br><span class="line"></span><br><span class="line">auto_update: false</span><br><span class="line"></span><br><span class="line"># ç‚¹å‡»æ ‡é¢˜æ»šåŠ¨å¹¶æ›´æ–°é”šç‚¹</span><br><span class="line"></span><br><span class="line">click_to_scroll: false</span><br><span class="line"></span><br><span class="line"># å›¾ç‰‡æè¿°æ–‡å­—</span><br><span class="line"></span><br><span class="line">photofigcaption: false</span><br><span class="line"></span><br><span class="line"># å¤åˆ¶è®¾ç½®</span><br><span class="line"></span><br><span class="line"># copyright: åœ¨å¤åˆ¶å†…å®¹åé¢æ·»åŠ ç‰ˆæƒä¿¡æ¯</span><br><span class="line"></span><br><span class="line">copy:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line">copyright:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">limit_count: 50</span><br><span class="line"></span><br><span class="line"># æ–‡ç« </span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># toc (ç›®å½•)</span><br><span class="line"></span><br><span class="line">toc:</span><br><span class="line"></span><br><span class="line">post: true</span><br><span class="line"></span><br><span class="line">page: false</span><br><span class="line"></span><br><span class="line">number: true</span><br><span class="line"></span><br><span class="line">expand: false</span><br><span class="line"></span><br><span class="line">style_simple: false # é’ˆå¯¹æ–‡ç« </span><br><span class="line"></span><br><span class="line">scroll_percent: true</span><br><span class="line"></span><br><span class="line"># æ–‡ç« ç‰ˆæƒ</span><br><span class="line"></span><br><span class="line">post_copyright:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line">decode: false</span><br><span class="line"></span><br><span class="line">author_href:</span><br><span class="line"></span><br><span class="line">license: CC BY-NC-SA 4.0</span><br><span class="line"></span><br><span class="line">license_url: https://creativecommons.org/licenses/by-nc-sa/4.0/</span><br><span class="line"></span><br><span class="line"># èµåŠ©/æ‰“èµ</span><br><span class="line"></span><br><span class="line">reward:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">text:</span><br><span class="line"></span><br><span class="line">QR_code:</span><br><span class="line"></span><br><span class="line"># - img: /img/wechat.jpg</span><br><span class="line"></span><br><span class="line"># link:</span><br><span class="line"></span><br><span class="line"># text: wechat</span><br><span class="line"></span><br><span class="line"># - img: /img/alipay.jpg</span><br><span class="line"></span><br><span class="line"># link:</span><br><span class="line"></span><br><span class="line"># text: alipay</span><br><span class="line"></span><br><span class="line"># æ–‡ç« ç¼–è¾‘</span><br><span class="line"></span><br><span class="line"># åœ¨çº¿è½»æ¾æµè§ˆå’Œç¼–è¾‘åšå®¢æºä»£ç </span><br><span class="line"></span><br><span class="line">post_edit:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line"># url: https://github.com/user-name/repo-name/edit/branch-name/subdirectory-name/</span><br><span class="line"></span><br><span class="line"># ä¾‹å¦‚: https://github.com/jerryc127/butterfly.js.org/edit/main/source/</span><br><span class="line"></span><br><span class="line">url:</span><br><span class="line"></span><br><span class="line"># ç›¸å…³æ–‡ç« </span><br><span class="line"></span><br><span class="line">related_post:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line">limit: 6 # æ˜¾ç¤ºçš„æ–‡ç« æ•°é‡</span><br><span class="line"></span><br><span class="line">date_type: created # æˆ–è€… created æˆ– updated æ–‡ç« æ—¥æœŸæ˜¾ç¤ºåˆ›å»ºæ—¥æˆ–è€…æ›´æ–°æ—¥</span><br><span class="line"></span><br><span class="line"># æ–‡ç« åˆ†é¡µ</span><br><span class="line"></span><br><span class="line"># value: 1 || 2 || false</span><br><span class="line"></span><br><span class="line"># 1: ä¸‹ä¸€ç¯‡æ–‡ç« å°†é“¾æ¥åˆ°æ—§æ–‡ç« </span><br><span class="line"></span><br><span class="line"># 2: ä¸‹ä¸€ç¯‡æ–‡ç« å°†é“¾æ¥åˆ°æ–°æ–‡ç« </span><br><span class="line"></span><br><span class="line"># false: ç¦ç”¨åˆ†é¡µ</span><br><span class="line"></span><br><span class="line">post_pagination: 1</span><br><span class="line"></span><br><span class="line"># æ˜¾ç¤ºæ–‡ç« çš„è¿‡æ—¶æé†’</span><br><span class="line"></span><br><span class="line">noticeOutdate:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">style: flat # é£æ ¼: simple/flat</span><br><span class="line"></span><br><span class="line">limit_day: 500 # ä½•æ—¶æ˜¾ç¤º</span><br><span class="line"></span><br><span class="line">position: top # ä½ç½®: top/bottom</span><br><span class="line"></span><br><span class="line">message_prev: å·²ç»æœ‰</span><br><span class="line"></span><br><span class="line">message_next: å¤©æœªæ›´æ–°ï¼Œæ–‡ç« å†…å®¹å¯èƒ½å·²è¿‡æ—¶ã€‚</span><br><span class="line"></span><br><span class="line"># é¡µè„šè®¾ç½®</span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line">footer:</span><br><span class="line"></span><br><span class="line">owner:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line">since: 2020</span><br><span class="line"></span><br><span class="line">custom_text:</span><br><span class="line"></span><br><span class="line">copyright: true # ä¸»é¢˜å’Œæ¡†æ¶çš„ç‰ˆæƒ</span><br><span class="line"></span><br><span class="line"># ä¾§è¾¹æ </span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line">aside:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line">hide: false</span><br><span class="line"></span><br><span class="line">button: true</span><br><span class="line"></span><br><span class="line">mobile: true # åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæ˜¾ç¤º</span><br><span class="line"></span><br><span class="line">position: right # left or right</span><br><span class="line"></span><br><span class="line">display:</span><br><span class="line"></span><br><span class="line">archive: true</span><br><span class="line"></span><br><span class="line">tag: true</span><br><span class="line"></span><br><span class="line">category: true</span><br><span class="line"></span><br><span class="line">card_author:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line">description:</span><br><span class="line"></span><br><span class="line">button:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line">icon: fab fa-github</span><br><span class="line"></span><br><span class="line">text: å…³æ³¨æˆ‘</span><br><span class="line"></span><br><span class="line">link: https://github.com/xxxxxx</span><br><span class="line"></span><br><span class="line">card_announcement:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line">content: è¿™æ˜¯æˆ‘çš„åšå®¢</span><br><span class="line"></span><br><span class="line">card_recent_post:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line">limit: 5 # å¦‚æœè®¾ç½®ä¸º 0 å°†æ˜¾ç¤ºå…¨éƒ¨</span><br><span class="line"></span><br><span class="line">sort: date # date æˆ– updated</span><br><span class="line"></span><br><span class="line">sort_order: # é™¤éä½ çŸ¥é“å®ƒå¦‚ä½•å·¥ä½œï¼Œå¦åˆ™ä¸è¦ä¿®æ”¹è®¾ç½®</span><br><span class="line"></span><br><span class="line">card_categories:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line">limit: 8 # å¦‚æœè®¾ç½®ä¸º 0 å°†æ˜¾ç¤ºå…¨éƒ¨</span><br><span class="line"></span><br><span class="line">expand: none # none/true/false</span><br><span class="line"></span><br><span class="line">sort_order: # é™¤éä½ çŸ¥é“å®ƒå¦‚ä½•å·¥ä½œï¼Œå¦åˆ™ä¸è¦ä¿®æ”¹è®¾ç½®</span><br><span class="line"></span><br><span class="line">card_tags:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line">limit: 40 # å¦‚æœè®¾ç½®ä¸º 0 å°†æ˜¾ç¤ºå…¨éƒ¨</span><br><span class="line"></span><br><span class="line">color: false</span><br><span class="line"></span><br><span class="line">orderby: random # æ ‡ç­¾é¡ºåºï¼Œrandom/name/length</span><br><span class="line"></span><br><span class="line">order: 1 # æ’åºæ–¹å¼ã€‚1ï¼Œå‡åºï¼›-1ï¼Œé™åº</span><br><span class="line"></span><br><span class="line">sort_order: # é™¤éä½ çŸ¥é“å®ƒå¦‚ä½•å·¥ä½œï¼Œå¦åˆ™ä¸è¦ä¿®æ”¹è®¾ç½®</span><br><span class="line"></span><br><span class="line">card_archives:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line">type: monthly # yearly æˆ– monthly</span><br><span class="line"></span><br><span class="line">format: MMMM YYYY # ä¾‹å¦‚ï¼šYYYYå¹´MMæœˆ</span><br><span class="line"></span><br><span class="line">order: -1 # æ’åºæ–¹å¼ã€‚1ï¼Œå‡åºï¼›-1ï¼Œé™åº</span><br><span class="line"></span><br><span class="line">limit: 8 # å¦‚æœè®¾ç½®ä¸º 0 å°†æ˜¾ç¤ºå…¨éƒ¨</span><br><span class="line"></span><br><span class="line">sort_order: # é™¤éä½ çŸ¥é“å®ƒå¦‚ä½•å·¥ä½œï¼Œå¦åˆ™ä¸è¦ä¿®æ”¹è®¾ç½®</span><br><span class="line"></span><br><span class="line">card_webinfo:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line">post_count: true</span><br><span class="line"></span><br><span class="line">last_push_date: true</span><br><span class="line"></span><br><span class="line">sort_order: # é™¤éä½ çŸ¥é“å®ƒå¦‚ä½•å·¥ä½œï¼Œå¦åˆ™ä¸è¦ä¿®æ”¹è®¾ç½®</span><br><span class="line"></span><br><span class="line">card_post_series:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line">series_title: false # æ ‡é¢˜æ˜¾ç¤ºç³»åˆ—åç§°</span><br><span class="line"></span><br><span class="line">orderBy: &#x27;date&#x27; # æŒ‰æ ‡é¢˜æˆ–æ—¥æœŸæ’åº</span><br><span class="line"></span><br><span class="line">order: -1 # æ’åºæ–¹å¼ã€‚1ï¼Œå‡åºï¼›-1ï¼Œé™åº</span><br><span class="line"></span><br><span class="line"># ç½‘ç«™è®¿é—®äººæ•°ç»Ÿè®¡</span><br><span class="line"></span><br><span class="line">busuanzi:</span><br><span class="line"></span><br><span class="line">site_uv: true</span><br><span class="line"></span><br><span class="line">site_pv: true</span><br><span class="line"></span><br><span class="line">page_pv: true</span><br><span class="line"></span><br><span class="line"># ç½‘é¡µè¿è¡Œæ—¶é—´ï¼ˆå‘å¸ƒæ—¥æœŸä¸ç°åœ¨çš„æ—¶é—´å·®ï¼‰</span><br><span class="line"></span><br><span class="line"># æ ¼å¼ï¼šMonth/Day/Year Time or Year/Month/Day Time</span><br><span class="line"></span><br><span class="line">runtimeshow:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">publish_date:</span><br><span class="line"></span><br><span class="line"># ä¾§è¾¹æ å°éƒ¨ä»¶ - æœ€æ–°è¯„è®º</span><br><span class="line"></span><br><span class="line">newest_comments:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">sort_order:</span><br><span class="line"></span><br><span class="line">limit: 6</span><br><span class="line"></span><br><span class="line">storage: 10 # å•ä½ï¼šåˆ†é’Ÿï¼Œæ•°æ®ä¿å­˜åˆ° localStorage</span><br><span class="line"></span><br><span class="line">avatar: true</span><br><span class="line"></span><br><span class="line"># å³ä¸‹è§’æŒ‰é’®</span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># ç®€ç¹è½¬æ¢</span><br><span class="line"></span><br><span class="line">translate:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line"># æŒ‰é’®çš„æ–‡æœ¬</span><br><span class="line"></span><br><span class="line">default: ç¹</span><br><span class="line"></span><br><span class="line"># ç½‘ç«™çš„è¯­è¨€ (1 - ç¹ä½“ä¸­æ–‡ / 2 - ç®€ä½“ä¸­æ–‡ï¼‰</span><br><span class="line"></span><br><span class="line">defaultEncoding: 2</span><br><span class="line"></span><br><span class="line"># æ—¶é—´å»¶è¿Ÿ</span><br><span class="line"></span><br><span class="line">translateDelay: 0</span><br><span class="line"></span><br><span class="line"># ç®€ä½“å­—çŠ¶æ€ä¸‹æŒ‰é’®çš„æ–‡æœ¬</span><br><span class="line"></span><br><span class="line">msgToTraditionalChinese: &#x27;ç¹&#x27;</span><br><span class="line"></span><br><span class="line"># ç¹ä½“å­—çŠ¶æ€ä¸‹æŒ‰é’®çš„æ–‡æœ¬</span><br><span class="line"></span><br><span class="line">msgToSimplifiedChinese: &#x27;ç®€&#x27;</span><br><span class="line"></span><br><span class="line"># é˜…è¯»æ¨¡å¼</span><br><span class="line"></span><br><span class="line">readmode: true</span><br><span class="line"></span><br><span class="line"># æš—è‰²æ¨¡å¼</span><br><span class="line"></span><br><span class="line">darkmode:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line"># åˆ‡æ¢æš—è‰²/æµ…è‰²æ¨¡å¼çš„æŒ‰é’®</span><br><span class="line"></span><br><span class="line">button: true</span><br><span class="line"></span><br><span class="line"># è‡ªåŠ¨åˆ‡æ¢æš—è‰²/æµ…è‰²æ¨¡å¼ (è‡ªåŠ¨åˆ‡æ¢ dark mode å’Œ light mode)</span><br><span class="line"></span><br><span class="line"># autoChangeMode: 1 è·Ÿéšç³»ç»Ÿè®¾ç½®ï¼Œå¦‚æœç³»ç»Ÿä¸æ”¯æŒæš—è‰²æ¨¡å¼ï¼Œåˆ™åœ¨ä¸‹åˆ 6 ç‚¹åˆ°æ—©ä¸Š 6 ç‚¹ä¹‹é—´åˆ‡æ¢æš—è‰²æ¨¡å¼</span><br><span class="line"></span><br><span class="line"># autoChangeMode: 2 åœ¨ä¸‹åˆ 6 ç‚¹åˆ°æ—©ä¸Š 6 ç‚¹ä¹‹é—´åˆ‡æ¢æš—è‰²æ¨¡å¼</span><br><span class="line"></span><br><span class="line"># autoChangeMode: false</span><br><span class="line"></span><br><span class="line">autoChangeMode: false</span><br><span class="line"></span><br><span class="line"># è®¾ç½®æµ…è‰²æ¨¡å¼çš„æ—¶é—´ã€‚å–å€¼èŒƒå›´æ˜¯ 0 åˆ° 24ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œé»˜è®¤å€¼æ˜¯ 6 å’Œ 18</span><br><span class="line"></span><br><span class="line">start:</span><br><span class="line"></span><br><span class="line">end:</span><br><span class="line"></span><br><span class="line"># åœ¨è¿”å›é¡¶éƒ¨æŒ‰é’®ä¸­æ˜¾ç¤ºæ»šåŠ¨ç™¾åˆ†æ¯”</span><br><span class="line"></span><br><span class="line">rightside_scroll_percent: false</span><br><span class="line"></span><br><span class="line"># é™¤éä½ çŸ¥é“å®ƒä»¬å¦‚ä½•å·¥ä½œï¼Œå¦åˆ™ä¸è¦ä¿®æ”¹ä»¥ä¸‹è®¾ç½®</span><br><span class="line"></span><br><span class="line"># é€‰æ‹©ï¼šreadmode,translate,darkmode,hideAside,toc,chat,comment</span><br><span class="line"></span><br><span class="line"># ä¸è¦é‡å¤</span><br><span class="line"></span><br><span class="line">rightside_item_order:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">hide: # readmode,translate,darkmode,hideAside</span><br><span class="line"></span><br><span class="line">show: # toc,chat,comment</span><br><span class="line"></span><br><span class="line"># Math (æ•¸å­¸)</span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># å…³äºæ¯é¡µçš„è®¾ç½®</span><br><span class="line"></span><br><span class="line"># å¦‚æœä½ è®¾ç½®ä¸º trueï¼Œå®ƒå°†åœ¨æ¯ä¸€é¡µéƒ½åŠ è½½ mathjax/katex è„šæœ¬ (true è¡¨ç¤ºæ¯ä¸€é¡µéƒ½åŠ è½½ js)</span><br><span class="line"></span><br><span class="line"># å¦‚æœä½ è®¾ç½®ä¸º falseï¼Œå®ƒå°†æ ¹æ®ä½ çš„è®¾ç½®åŠ è½½ mathjax/katex è„šæœ¬ (éœ€è¦åœ¨é¡µé¢çš„ Markdown Front-matter ä¸­æ·»åŠ  mathjax: true)</span><br><span class="line"></span><br><span class="line"># (false æŒ‰éœ€åŠ è½½ï¼Œå¿…é¡»åœ¨ä½¿ç”¨çš„ Markdown Front-matter ä¸­æ·»åŠ  mathjax: true)</span><br><span class="line"></span><br><span class="line"># MathJax</span><br><span class="line"></span><br><span class="line">mathjax:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">per_page: false</span><br><span class="line"></span><br><span class="line"># KaTeX</span><br><span class="line"></span><br><span class="line">katex:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">per_page: false</span><br><span class="line"></span><br><span class="line">hide_scrollbar: true</span><br><span class="line"></span><br><span class="line"># æœç´¢</span><br><span class="line"></span><br><span class="line"># è§ https://butterfly.js.org/posts/ceeb73f/#æœç´¢ç³»ç»Ÿ</span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># Algolia æœç´¢</span><br><span class="line"></span><br><span class="line">algolia_search:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">hits:</span><br><span class="line"></span><br><span class="line">per_page: 6</span><br><span class="line"></span><br><span class="line"># æœ¬åœ°æœç´¢</span><br><span class="line"></span><br><span class="line">local_search:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line"># é¡µé¢åŠ è½½æ—¶é¢„åŠ è½½æœç´¢æ•°æ®</span><br><span class="line"></span><br><span class="line">preload: false</span><br><span class="line"></span><br><span class="line"># æ¯ç¯‡æ–‡ç« æ˜¾ç¤ºå‰ n ä¸ªç»“æœï¼Œè®¾ç½®ä¸º -1 æ˜¾ç¤ºæ‰€æœ‰ç»“æœ</span><br><span class="line"></span><br><span class="line">top_n_per_article: 1</span><br><span class="line"></span><br><span class="line"># å°† HTML å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯è¯»çš„æ ¼å¼</span><br><span class="line"></span><br><span class="line">unescape: false</span><br><span class="line"></span><br><span class="line">CDN:</span><br><span class="line"></span><br><span class="line"># Docsearch</span><br><span class="line"></span><br><span class="line">docsearch:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">appId:</span><br><span class="line"></span><br><span class="line">apiKey:</span><br><span class="line"></span><br><span class="line">indexName:</span><br><span class="line"></span><br><span class="line">option:</span><br><span class="line"></span><br><span class="line"># åˆ†äº«ç³»ç»Ÿ</span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># Share.js</span><br><span class="line"></span><br><span class="line"># https://github.com/overtrue/share.js</span><br><span class="line"></span><br><span class="line">sharejs:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line">sites: facebook,twitter,wechat,weibo,qq</span><br><span class="line"></span><br><span class="line"># AddToAny</span><br><span class="line"></span><br><span class="line"># https://www.addtoany.com/</span><br><span class="line"></span><br><span class="line">addtoany:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">item: facebook,twitter,wechat,sina_weibo,facebook_messenger,email,copy_link</span><br><span class="line"></span><br><span class="line"># è¯„è®ºç³»ç»Ÿ</span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line">comments:</span><br><span class="line"></span><br><span class="line"># æœ€å¤šå¯ä»¥é€‰æ‹©ä¸¤ä¸ªè¯„è®ºç³»ç»Ÿï¼Œç¬¬ä¸€ä¸ªå°†ä½œä¸ºé»˜è®¤æ˜¾ç¤º</span><br><span class="line"></span><br><span class="line"># é€‰æ‹©ï¼šDisqus/Disqusjs/Livere/Gitalk/Valine/Waline/Utterances/Facebook Comments/Twikoo/Giscus/Remark42/Artalk</span><br><span class="line"></span><br><span class="line">use:</span><br><span class="line"></span><br><span class="line">text: true # åœ¨æŒ‰é’®æ—è¾¹æ˜¾ç¤ºè¯„è®ºåç§°</span><br><span class="line"></span><br><span class="line"># lazyload: å½“è¯„è®ºå…ƒç´ è¿›å…¥æµè§ˆå™¨è§†å£æ—¶ï¼Œè¯„è®ºç³»ç»Ÿå°†è¢«åŠ è½½ã€‚</span><br><span class="line"></span><br><span class="line"># å¦‚æœä½ è®¾ç½®ä¸º trueï¼Œåˆ™è¯„è®ºè®¡æ•°å°†æ— æ•ˆ</span><br><span class="line"></span><br><span class="line">lazyload: false</span><br><span class="line"></span><br><span class="line">count: false # åœ¨æ–‡ç« é¡¶éƒ¨å›¾ç‰‡ä¸­æ˜¾ç¤ºè¯„è®ºè®¡æ•°</span><br><span class="line"></span><br><span class="line">card_post_count: false # åœ¨é¦–é¡µæ˜¾ç¤ºè¯„è®ºè®¡æ•°</span><br><span class="line"></span><br><span class="line"># Disqus</span><br><span class="line"></span><br><span class="line"># https://disqus.com/</span><br><span class="line"></span><br><span class="line">disqus:</span><br><span class="line"></span><br><span class="line">shortname:</span><br><span class="line"></span><br><span class="line">apikey: # ç”¨äºæœ€æ–°è¯„è®ºå°éƒ¨ä»¶</span><br><span class="line"></span><br><span class="line"># DisqusJS è¯„è®ºç³»ç»Ÿï¼Œå¯ä»¥åœ¨ç½‘ç»œå®¡æŸ¥åœ°åŒºåŠ è½½ Disqus è¯„è®ºåˆ—è¡¨ï¼Œå…¼å®¹åŸç‰ˆ</span><br><span class="line"></span><br><span class="line"># https://github.com/SukkaW/DisqusJS</span><br><span class="line"></span><br><span class="line">disqusjs:</span><br><span class="line"></span><br><span class="line">shortname:</span><br><span class="line"></span><br><span class="line">apikey:</span><br><span class="line"></span><br><span class="line">option:</span><br><span class="line"></span><br><span class="line"># Livere (æ¥å¿…åŠ›)</span><br><span class="line"></span><br><span class="line"># https://www.livere.com/</span><br><span class="line"></span><br><span class="line">livere:</span><br><span class="line"></span><br><span class="line">uid:</span><br><span class="line"></span><br><span class="line"># Gitalk</span><br><span class="line"></span><br><span class="line"># https://github.com/gitalk/gitalk</span><br><span class="line"></span><br><span class="line">gitalk:</span><br><span class="line"></span><br><span class="line">client_id:</span><br><span class="line"></span><br><span class="line">client_secret:</span><br><span class="line"></span><br><span class="line">repo:</span><br><span class="line"></span><br><span class="line">owner:</span><br><span class="line"></span><br><span class="line">admin:</span><br><span class="line"></span><br><span class="line">option:</span><br><span class="line"></span><br><span class="line"># Valine</span><br><span class="line"></span><br><span class="line"># https://valine.js.org</span><br><span class="line"></span><br><span class="line">valine:</span><br><span class="line"></span><br><span class="line">appId: # Leancloud åº”ç”¨ App ID</span><br><span class="line"></span><br><span class="line">appKey: # Leancloud åº”ç”¨ App å¯†é’¥</span><br><span class="line"></span><br><span class="line">avatar: monsterid # Gravatar é£æ ¼ https://valine.js.org/#/avatar</span><br><span class="line"></span><br><span class="line">serverURLs: # æ­¤é…ç½®é€‚ç”¨äºå›½å†…è‡ªå®šä¹‰åŸŸåç”¨æˆ·ï¼Œæµ·å¤–ç‰ˆæœ¬å°†è‡ªåŠ¨æ£€æµ‹ï¼ˆæ— éœ€æ‰‹åŠ¨å¡«å†™ï¼‰</span><br><span class="line"></span><br><span class="line">bg: # Valine èƒŒæ™¯</span><br><span class="line"></span><br><span class="line">visitor: false</span><br><span class="line"></span><br><span class="line">option:</span><br><span class="line"></span><br><span class="line"># Waline - ä¸€ä¸ªç®€å•çš„å¸¦æœ‰åç«¯æ”¯æŒçš„è¯„è®ºç³»ç»Ÿï¼ŒValine çš„ä¸€ä¸ªåˆ†æ”¯</span><br><span class="line"></span><br><span class="line"># https://waline.js.org/</span><br><span class="line"></span><br><span class="line">waline:</span><br><span class="line"></span><br><span class="line">serverURL: # Waline æœåŠ¡å™¨åœ°å€ URL</span><br><span class="line"></span><br><span class="line">bg: # Waline èƒŒæ™¯</span><br><span class="line"></span><br><span class="line">pageview: false</span><br><span class="line"></span><br><span class="line">option:</span><br><span class="line"></span><br><span class="line"># Utterances</span><br><span class="line"></span><br><span class="line"># https://utteranc.es/</span><br><span class="line"></span><br><span class="line">utterances:</span><br><span class="line"></span><br><span class="line">repo:</span><br><span class="line"></span><br><span class="line"># é—®é¢˜æ˜ å°„ï¼špathname/url/title/og:title</span><br><span class="line"></span><br><span class="line">issue_term: pathname</span><br><span class="line"></span><br><span class="line"># ä¸»é¢˜ï¼šgithub-light/github-dark/github-dark-orange/icy-dark/dark-blue/photon-dark</span><br><span class="line"></span><br><span class="line">light_theme: github-light</span><br><span class="line"></span><br><span class="line">dark_theme: photon-dark</span><br><span class="line"></span><br><span class="line"># Facebook Comments Plugin</span><br><span class="line"></span><br><span class="line"># https://developers.facebook.com/docs/plugins/comments/</span><br><span class="line"></span><br><span class="line">facebook_comments:</span><br><span class="line"></span><br><span class="line">app_id:</span><br><span class="line"></span><br><span class="line">user_id: # å¯é€‰</span><br><span class="line"></span><br><span class="line">pageSize: 10 # æ˜¾ç¤ºçš„è¯„è®ºæ•°é‡</span><br><span class="line"></span><br><span class="line">order_by: social # social/time/reverse_time</span><br><span class="line"></span><br><span class="line">lang: zh_TW # è¯­è¨€ en_US/zh_CN/zh_TW ç­‰</span><br><span class="line"></span><br><span class="line"># Twikoo</span><br><span class="line"></span><br><span class="line"># https://github.com/imaegoo/twikoo</span><br><span class="line"></span><br><span class="line">twikoo:</span><br><span class="line"></span><br><span class="line">envId:</span><br><span class="line"></span><br><span class="line">region:</span><br><span class="line"></span><br><span class="line">visitor: false</span><br><span class="line"></span><br><span class="line">option:</span><br><span class="line"></span><br><span class="line"># Giscus</span><br><span class="line"></span><br><span class="line"># https://giscus.app/</span><br><span class="line"></span><br><span class="line">giscus:</span><br><span class="line"></span><br><span class="line">repo:</span><br><span class="line"></span><br><span class="line">repo_id:</span><br><span class="line"></span><br><span class="line">category_id:</span><br><span class="line"></span><br><span class="line">theme:</span><br><span class="line"></span><br><span class="line">light: light</span><br><span class="line"></span><br><span class="line">dark: dark</span><br><span class="line"></span><br><span class="line">option:</span><br><span class="line"></span><br><span class="line"># Remark42</span><br><span class="line"></span><br><span class="line"># https://remark42.com/docs/configuration/frontend/</span><br><span class="line"></span><br><span class="line">remark42:</span><br><span class="line"></span><br><span class="line">host: # ä½ çš„ä¸»æœº URL</span><br><span class="line"></span><br><span class="line">siteId: # ä½ çš„ç«™ç‚¹ ID</span><br><span class="line"></span><br><span class="line">option:</span><br><span class="line"></span><br><span class="line"># Artalk</span><br><span class="line"></span><br><span class="line"># https://artalk.js.org/guide/frontend/config.html</span><br><span class="line"></span><br><span class="line">artalk:</span><br><span class="line"></span><br><span class="line">server:</span><br><span class="line"></span><br><span class="line">site:</span><br><span class="line"></span><br><span class="line">visitor: false</span><br><span class="line"></span><br><span class="line">option:</span><br><span class="line"></span><br><span class="line"># èŠå¤©æœåŠ¡</span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># èŠå¤©æŒ‰é’® [æ¨è]</span><br><span class="line"></span><br><span class="line"># å®ƒå°†åœ¨ç½‘ç«™å³ä¸‹è§’åˆ›å»ºä¸€ä¸ªæŒ‰é’®ï¼Œå¹¶éšè—åŸå§‹æŒ‰é’®</span><br><span class="line"></span><br><span class="line">chat_btn: false</span><br><span class="line"></span><br><span class="line"># å½“æ»šåŠ¨è‡³ä¸Šéƒ¨æ—¶æ˜¾ç¤ºåŸå§‹èŠå¤©æŒ‰é’®ï¼Œæ»šåŠ¨ä¸‹æ¥æ—¶éšè—æŒ‰é’®</span><br><span class="line"></span><br><span class="line">chat_hide_show: false</span><br><span class="line"></span><br><span class="line"># Chatra</span><br><span class="line"></span><br><span class="line"># https://chatra.io/</span><br><span class="line"></span><br><span class="line">chatra:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">id:</span><br><span class="line"></span><br><span class="line"># Tidio</span><br><span class="line"></span><br><span class="line"># https://www.tidio.com/</span><br><span class="line"></span><br><span class="line">tidio:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">public_key:</span><br><span class="line"></span><br><span class="line"># Daovoice</span><br><span class="line"></span><br><span class="line"># http://dashboard.daovoice.io/app</span><br><span class="line"></span><br><span class="line">daovoice:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">app_id:</span><br><span class="line"></span><br><span class="line"># Crisp</span><br><span class="line"></span><br><span class="line"># https://crisp.chat/en/</span><br><span class="line"></span><br><span class="line">crisp:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">website_id:</span><br><span class="line"></span><br><span class="line"># Messenger</span><br><span class="line"></span><br><span class="line"># https://developers.facebook.com/docs/messenger-platform/discovery/facebook-chat-plugin/</span><br><span class="line"></span><br><span class="line">messenger:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">pageID:</span><br><span class="line"></span><br><span class="line">lang: zh_TW # è¯­è¨€ en_US/zh_CN/zh_TW ç­‰</span><br><span class="line"></span><br><span class="line"># åˆ†æ</span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># Baidu Analytics</span><br><span class="line"></span><br><span class="line"># https://tongji.baidu.com/web/welcome/login</span><br><span class="line"></span><br><span class="line">baidu_analytics:</span><br><span class="line"></span><br><span class="line"># Google Analytics</span><br><span class="line"></span><br><span class="line"># https://analytics.google.com/analytics/web/</span><br><span class="line"></span><br><span class="line">google_analytics:</span><br><span class="line"></span><br><span class="line"># Cloudflare Analytics</span><br><span class="line"></span><br><span class="line"># https://www.cloudflare.com/zh-tw/web-analytics/</span><br><span class="line"></span><br><span class="line">cloudflare_analytics:</span><br><span class="line"></span><br><span class="line"># Microsoft Clarity</span><br><span class="line"></span><br><span class="line"># https://clarity.microsoft.com/</span><br><span class="line"></span><br><span class="line">microsoft_clarity:</span><br><span class="line"></span><br><span class="line"># å¹¿å‘Š</span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># Google Adsense (è°·æ­Œå¹¿å‘Š)</span><br><span class="line"></span><br><span class="line">google_adsense:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">auto_ads: true</span><br><span class="line"></span><br><span class="line">js: https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js</span><br><span class="line"></span><br><span class="line">client:</span><br><span class="line"></span><br><span class="line">enable_page_level_ads: true</span><br><span class="line"></span><br><span class="line"># æ‰‹åŠ¨æ’å…¥å¹¿å‘Š</span><br><span class="line"></span><br><span class="line"># ad:</span><br><span class="line"></span><br><span class="line"># index:</span><br><span class="line"></span><br><span class="line"># aside:</span><br><span class="line"></span><br><span class="line"># post:</span><br><span class="line"></span><br><span class="line"># ç«™é•¿éªŒè¯</span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line">site_verification:</span><br><span class="line"></span><br><span class="line"># - name: google-site-verification</span><br><span class="line"></span><br><span class="line"># content: xxxxxx</span><br><span class="line"></span><br><span class="line"># - name: baidu-site-verification</span><br><span class="line"></span><br><span class="line"># content: xxxxxxx</span><br><span class="line"></span><br><span class="line"># ç¾åŒ–/æ•ˆæœ</span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># è‡ªå®šä¹‰ä¸»é¢˜é¢œè‰²</span><br><span class="line"></span><br><span class="line"># æ³¨æ„ï¼šé¢œè‰²å€¼å¿…é¡»ç”¨åŒå¼•å·å¼•èµ·æ¥ï¼Œå¦‚ &quot;#000&quot;ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´é”™è¯¯ï¼</span><br><span class="line"></span><br><span class="line"># theme_color:</span><br><span class="line"></span><br><span class="line"># enable: true</span><br><span class="line"></span><br><span class="line"># main: &quot;#49B1F5&quot;</span><br><span class="line"></span><br><span class="line"># paginator: &quot;#00c4b6&quot;</span><br><span class="line"></span><br><span class="line"># button_hover: &quot;#FF7242&quot;</span><br><span class="line"></span><br><span class="line"># text_selection: &quot;#00c4b6&quot;</span><br><span class="line"></span><br><span class="line"># link_color: &quot;#99a9bf&quot;</span><br><span class="line"></span><br><span class="line"># meta_color: &quot;#858585&quot;</span><br><span class="line"></span><br><span class="line"># hr_color: &quot;#A4D8FA&quot;</span><br><span class="line"></span><br><span class="line"># code_foreground: &quot;#F47466&quot;</span><br><span class="line"></span><br><span class="line"># code_background: &quot;rgba(27, 31, 35, .05)&quot;</span><br><span class="line"></span><br><span class="line"># toc_color: &quot;#00c4b6&quot;</span><br><span class="line"></span><br><span class="line"># blockquote_padding_color: &quot;#49b1f5&quot;</span><br><span class="line"></span><br><span class="line"># blockquote_background_color: &quot;#49b1f5&quot;</span><br><span class="line"></span><br><span class="line"># scrollbar_color: &quot;#49b1f5&quot;</span><br><span class="line"></span><br><span class="line"># meta_theme_color_light: &quot;ffffff&quot;</span><br><span class="line"></span><br><span class="line"># meta_theme_color_dark: &quot;#0d0d0d&quot;</span><br><span class="line"></span><br><span class="line"># é¦–é¡µçš„ top_img è®¾ç½®</span><br><span class="line"></span><br><span class="line"># é»˜è®¤ï¼štop img - å…¨å±ï¼Œsite info - ä¸­é—´ï¼ˆé»˜è®¤ top_img å…¨å±ï¼Œsite_info åœ¨ä¸­é—´ï¼‰</span><br><span class="line"></span><br><span class="line"># ç½‘ç«™ä¿¡æ¯çš„ä½ç½®ï¼Œä¾‹å¦‚ï¼š300px/300em/300rem/10%ï¼ˆé¦–é¡µæ ‡é¢˜è·ç¦»é¡¶éƒ¨çš„è·ç¦»ï¼‰</span><br><span class="line"></span><br><span class="line">index_site_info_top:</span><br><span class="line"></span><br><span class="line"># é¦–é¡µ top_img çš„é«˜åº¦ï¼Œä¾‹å¦‚ï¼š300px/300em/300rem</span><br><span class="line"></span><br><span class="line">index_top_img_height:</span><br><span class="line"></span><br><span class="line"># åˆ†ç±»å’Œæ ‡ç­¾é¡µé¢çš„ç”¨æˆ·ç•Œé¢è®¾ç½® (category å’Œ tag é¡µçš„ UI è®¾ç½®)</span><br><span class="line"></span><br><span class="line"># index - ä¸é¦–é¡µ UI ç›¸åŒï¼ˆindex å€¼ä»£è¡¨ UI å°†ä¸é¦–é¡µçš„ UI ä¸€æ ·ï¼‰</span><br><span class="line"></span><br><span class="line"># default - ä¸å½’æ¡£ UI ç›¸åŒï¼Œé»˜è®¤è·Ÿ archives é¡µé¢ UI ä¸€æ ·</span><br><span class="line"></span><br><span class="line">category_ui: # ç•™ç©ºæˆ– index</span><br><span class="line"></span><br><span class="line">tag_ui: # ç•™ç©ºæˆ– index</span><br><span class="line"></span><br><span class="line"># æ‹‰ä¼¸è¡Œå®½ï¼Œä½¿æ¯ä¸€è¡Œå®½åº¦ç›¸ç­‰ï¼ˆæ–‡å­—ä¸¤ç«¯å¯¹é½ï¼Œå¯¹æœ€åä¸€è¡Œæ— æ•ˆï¼‰</span><br><span class="line"></span><br><span class="line">text_align_justify: false</span><br><span class="line"></span><br><span class="line"># è®¾ç½®ç½‘ç«™èƒŒæ™¯</span><br><span class="line"></span><br><span class="line"># å¯ä»¥è®¾ç½®ä¸ºé¢œè‰²æˆ–å›¾ç‰‡ï¼ˆå¯è®¾ç½®å›¾ç‰‡ æˆ–è€… é¢œè‰²ï¼‰</span><br><span class="line"></span><br><span class="line"># å›¾ç‰‡æ ¼å¼ï¼šurl(http://xxxxxx.com/xxx.jpg)</span><br><span class="line"></span><br><span class="line">background:</span><br><span class="line"></span><br><span class="line"># é¡µè„šèƒŒæ™¯</span><br><span class="line"></span><br><span class="line">footer_bg: false</span><br><span class="line"></span><br><span class="line"># ä¸º header æˆ– footer æ·»åŠ é»‘è‰²åŠé€æ˜é®ç½©</span><br><span class="line"></span><br><span class="line">mask:</span><br><span class="line"></span><br><span class="line">header: true</span><br><span class="line"></span><br><span class="line">footer: true</span><br><span class="line"></span><br><span class="line"># å³ä¸‹è§’æŒ‰é’®è·ç¦»åº•éƒ¨çš„ä½ç½®ï¼Œé»˜è®¤å•ä½ä¸ºåƒç´ </span><br><span class="line"></span><br><span class="line">rightside_bottom:</span><br><span class="line"></span><br><span class="line"># å¼€å¯ç½‘é¡µè¿›å…¥æ•ˆæœ</span><br><span class="line"></span><br><span class="line">enter_transitions: true</span><br><span class="line"></span><br><span class="line"># æ‰“å­—æ•ˆæœ</span><br><span class="line"></span><br><span class="line"># https://github.com/disjukr/activate-power-mode</span><br><span class="line"></span><br><span class="line">activate_power_mode:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">colorful: true # å¼€å¯ç²’å­åŠ¨ç”»ï¼ˆå‘å…‰ç‰¹æ•ˆï¼‰</span><br><span class="line"></span><br><span class="line">shake: true # å¼€å¯ shakeï¼ˆæŠ–åŠ¨ç‰¹æ•ˆï¼‰</span><br><span class="line"></span><br><span class="line">mobile: false</span><br><span class="line"></span><br><span class="line"># èƒŒæ™¯ç‰¹æ•ˆ</span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># canvas_ribbon (é™æ­¢å½©å¸¦èƒŒæ™¯)</span><br><span class="line"></span><br><span class="line"># è§: https://github.com/hustcc/ribbon.js</span><br><span class="line"></span><br><span class="line">canvas_ribbon:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">size: 150</span><br><span class="line"></span><br><span class="line">alpha: 0.6</span><br><span class="line"></span><br><span class="line">zIndex: -1</span><br><span class="line"></span><br><span class="line">click_to_change: false</span><br><span class="line"></span><br><span class="line">mobile: false</span><br><span class="line"></span><br><span class="line"># Fluttering Ribbon (åŠ¨æ€å½©å¸¦)</span><br><span class="line"></span><br><span class="line">canvas_fluttering_ribbon:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">mobile: false</span><br><span class="line"></span><br><span class="line"># canvas_nest</span><br><span class="line"></span><br><span class="line"># https://github.com/hustcc/canvas-nest.js</span><br><span class="line"></span><br><span class="line">canvas_nest:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">color: &#x27;0,0,255&#x27; # çº¿æ¡çš„é¢œè‰²ï¼Œé»˜è®¤: &#x27;0,0,0&#x27;ï¼›RGB å€¼ï¼š(R,G,B)ã€‚ï¼ˆæ³¨æ„ï¼šç”¨ &#x27;,&#x27; åˆ†éš”ï¼‰</span><br><span class="line"></span><br><span class="line">opacity: 0.7 # çº¿æ¡çš„é€æ˜åº¦ (0~1)ï¼Œé»˜è®¤: 0.5</span><br><span class="line"></span><br><span class="line">zIndex: -1 # èƒŒæ™¯çš„ z-index å±æ€§ï¼Œé»˜è®¤: -1</span><br><span class="line"></span><br><span class="line">count: 99 # çº¿æ¡çš„æ•°é‡ï¼Œé»˜è®¤: 99</span><br><span class="line"></span><br><span class="line">mobile: false</span><br><span class="line"></span><br><span class="line"># é¼ æ ‡ç‚¹å‡»æ•ˆæœï¼šçƒŸèŠ±ç‰¹æ•ˆ</span><br><span class="line"></span><br><span class="line">fireworks:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">zIndex: 9999 # -1 æˆ– 9999</span><br><span class="line"></span><br><span class="line">mobile: false</span><br><span class="line"></span><br><span class="line"># é¼ æ ‡ç‚¹å‡»æ•ˆæœï¼šçˆ±å¿ƒ</span><br><span class="line"></span><br><span class="line">click_heart:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">mobile: false</span><br><span class="line"></span><br><span class="line"># é¼ æ ‡ç‚¹å‡»æ•ˆæœï¼šæ–‡å­—</span><br><span class="line"></span><br><span class="line">clickShowText:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">text:</span><br><span class="line"></span><br><span class="line"># - æˆ‘</span><br><span class="line"></span><br><span class="line"># - çˆ±</span><br><span class="line"></span><br><span class="line"># - ä½ </span><br><span class="line"></span><br><span class="line">fontSize: 15px</span><br><span class="line"></span><br><span class="line">random: false</span><br><span class="line"></span><br><span class="line">mobile: false</span><br><span class="line"></span><br><span class="line"># ç½‘ç«™é»˜è®¤çš„æ˜¾ç¤ºæ¨¡å¼</span><br><span class="line"></span><br><span class="line"># light (é»˜è®¤) / dark</span><br><span class="line"></span><br><span class="line">display_mode: light</span><br><span class="line"></span><br><span class="line"># ç¾åŒ–é¡µé¢æ˜¾ç¤º</span><br><span class="line"></span><br><span class="line">beautify:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">field: post # site/post</span><br><span class="line"></span><br><span class="line">title-prefix-icon: # &#x27;\\f0c1&#x27;</span><br><span class="line"></span><br><span class="line">title-prefix-icon-color: # &#x27;#F47466&#x27;</span><br><span class="line"></span><br><span class="line"># å…¨å±€å­—ä½“è®¾ç½®</span><br><span class="line"></span><br><span class="line"># é™¤éä½ çŸ¥é“å®ƒä»¬å¦‚ä½•å·¥ä½œï¼Œå¦åˆ™ä¸è¦ä¿®æ”¹ä»¥ä¸‹è®¾ç½®</span><br><span class="line"></span><br><span class="line">font:</span><br><span class="line"></span><br><span class="line">global-font-size:</span><br><span class="line"></span><br><span class="line">code-font-size:</span><br><span class="line"></span><br><span class="line">font-family:</span><br><span class="line"></span><br><span class="line">code-font-family:</span><br><span class="line"></span><br><span class="line"># ç½‘ç«™æ ‡é¢˜å’Œå‰¯æ ‡é¢˜çš„å­—ä½“è®¾ç½®</span><br><span class="line"></span><br><span class="line"># å·¦ä¸Šè§’ç½‘ç«™åå­— ä¸»é¡µå±…ä¸­ç½‘ç«™åå­—</span><br><span class="line"></span><br><span class="line">blog_title_font:</span><br><span class="line"></span><br><span class="line">font_link:</span><br><span class="line"></span><br><span class="line">font-family:</span><br><span class="line"></span><br><span class="line"># æ°´å¹³åˆ†éš”çº¿å›¾æ ‡è®¾ç½®</span><br><span class="line"></span><br><span class="line">hr_icon:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line">icon: # å­—ä½“å›¾æ ‡çš„ Unicode å€¼ï¼Œä¾‹å¦‚ &#x27;\\3423&#x27;</span><br><span class="line"></span><br><span class="line">icon-top:</span><br><span class="line"></span><br><span class="line"># é¦–é¡µå‰¯æ ‡é¢˜</span><br><span class="line"></span><br><span class="line">subtitle:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line"># æ‰“å­—æ•ˆæœ</span><br><span class="line"></span><br><span class="line">effect: true</span><br><span class="line"></span><br><span class="line"># å®šåˆ¶ typed.js</span><br><span class="line"></span><br><span class="line"># https://github.com/mattboldt/typed.js/#customization</span><br><span class="line"></span><br><span class="line">typed_option:</span><br><span class="line"></span><br><span class="line"># source è°ƒç”¨ç¬¬ä¸‰æ–¹æœåŠ¡</span><br><span class="line"></span><br><span class="line"># source: false å…³é—­è°ƒç”¨</span><br><span class="line"></span><br><span class="line"># source: 1 è°ƒç”¨ä¸€è¨€ç½‘çš„ä¸€å¥è¯ï¼ˆç®€ä½“ï¼‰ https://hitokoto.cn/</span><br><span class="line"></span><br><span class="line"># source: 2 è°ƒç”¨ä¸€å¥ç½‘ï¼ˆç®€ä½“ï¼‰ https://yijuzhan.com/</span><br><span class="line"></span><br><span class="line"># source: 3 è°ƒç”¨ä»Šæ—¥è¯—è¯ï¼ˆç®€ä½“ï¼‰ https://www.jinrishici.com/</span><br><span class="line"></span><br><span class="line"># subtitle ä¼šå…ˆæ˜¾ç¤º source , å†æ˜¾ç¤º sub çš„å†…å®¹</span><br><span class="line"></span><br><span class="line">source: false</span><br><span class="line"></span><br><span class="line"># å¦‚æœå…³é—­æ‰“å­—æ•ˆæœï¼Œsubtitle åªä¼šæ˜¾ç¤º sub çš„ç¬¬ä¸€è¡Œæ–‡å­—</span><br><span class="line"></span><br><span class="line">sub:</span><br><span class="line"></span><br><span class="line"># åŠ è½½åŠ¨ç”»</span><br><span class="line"></span><br><span class="line">preloader:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line"># source</span><br><span class="line"></span><br><span class="line"># 1. fullpage-loading</span><br><span class="line"></span><br><span class="line"># 2. pace (progress bar)</span><br><span class="line"></span><br><span class="line">source:</span><br><span class="line"></span><br><span class="line"># pace ä¸»é¢˜ (è§ https://codebyzach.github.io/pace/)</span><br><span class="line"></span><br><span class="line">pace_css_url:</span><br><span class="line"></span><br><span class="line"># å­—æ•°ç»Ÿè®¡</span><br><span class="line"></span><br><span class="line"># è§ https://butterfly.js.org/posts/ceeb73f/#å­—æ•°ç»Ÿè®¡</span><br><span class="line"></span><br><span class="line">wordcount:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">post_wordcount: true</span><br><span class="line"></span><br><span class="line">min2read: true</span><br><span class="line"></span><br><span class="line">total_wordcount: true</span><br><span class="line"></span><br><span class="line"># å›¾ç‰‡å¤§å›¾æŸ¥çœ‹æ¨¡å¼</span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># åªèƒ½é€‰æ‹©ä¸€ä¸ªï¼Œæˆ–è€…ä¸¤ä¸ªéƒ½ä¸é€‰</span><br><span class="line"></span><br><span class="line"># medium-zoom</span><br><span class="line"></span><br><span class="line"># https://github.com/francoischalifour/medium-zoom</span><br><span class="line"></span><br><span class="line">medium_zoom: false</span><br><span class="line"></span><br><span class="line"># fancybox</span><br><span class="line"></span><br><span class="line"># https://fancyapps.com/fancybox/</span><br><span class="line"></span><br><span class="line">fancybox: true</span><br><span class="line"></span><br><span class="line"># æ ‡ç­¾æ’ä»¶è®¾ç½®</span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># series (ç³»åˆ—æ–‡ç« )</span><br><span class="line"></span><br><span class="line">series:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line">orderBy: &#x27;title&#x27; # æŒ‰æ ‡é¢˜æˆ–æ—¥æœŸæ’åº</span><br><span class="line"></span><br><span class="line">order: 1 # æ’åºæ–¹å¼ã€‚1, å‡åºï¼›-1, é™åº</span><br><span class="line"></span><br><span class="line">number: true</span><br><span class="line"></span><br><span class="line"># abcjs (ä¹è°±æ¸²æŸ“)</span><br><span class="line"></span><br><span class="line"># è§ https://github.com/paulrosen/abcjs</span><br><span class="line"></span><br><span class="line">abcjs:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">per_page: true</span><br><span class="line"></span><br><span class="line"># Mermaid</span><br><span class="line"></span><br><span class="line"># è§ https://github.com/mermaid-js/mermaid</span><br><span class="line"></span><br><span class="line">mermaid:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line"># ä»¥ä»£ç å—å½¢å¼ä¹¦å†™ Mermaid å›¾è¡¨ï¼ˆä»¥ä»£ç å—å½¢å¼ä¹¦å†™ Mermaidï¼‰</span><br><span class="line"></span><br><span class="line">code_write: false</span><br><span class="line"></span><br><span class="line"># å†…ç½®ä¸»é¢˜: default/forest/dark/neutral</span><br><span class="line"></span><br><span class="line">theme:</span><br><span class="line"></span><br><span class="line">light: default</span><br><span class="line"></span><br><span class="line">dark: dark</span><br><span class="line"></span><br><span class="line"># Note (Bootstrap Callout)</span><br><span class="line"></span><br><span class="line">note:</span><br><span class="line"></span><br><span class="line"># Note æ ‡ç­¾æ ·å¼å€¼:</span><br><span class="line"></span><br><span class="line"># - simple bs-callout æ—§ç‰ˆè­¦å‘Šæ ·å¼ã€‚é»˜è®¤ã€‚</span><br><span class="line"></span><br><span class="line"># - modern bs-callout æ–°ç‰ˆ (v2-v3) è­¦å‘Šæ ·å¼ã€‚</span><br><span class="line"></span><br><span class="line"># - flat å¸¦æœ‰èƒŒæ™¯çš„ flat callout æ ·å¼ï¼Œç±»ä¼¼äº Mozilla æˆ– StackOverflowã€‚</span><br><span class="line"></span><br><span class="line"># - disabled ç¦ç”¨æ‰€æœ‰ CSS æ ·å¼çš„å¯¼å…¥ã€‚</span><br><span class="line"></span><br><span class="line">style: flat</span><br><span class="line"></span><br><span class="line">icons: true</span><br><span class="line"></span><br><span class="line">border_radius: 3</span><br><span class="line"></span><br><span class="line"># å¯¹ç°ä»£å’Œå¹³é¢é£æ ¼çš„èƒŒæ™¯è¿›è¡Œç™¾åˆ†æ¯”çš„åç§»é‡æ›´äº® (ç°ä»£: -12 | 12; å¹³é¢: -18 | 6)ã€‚</span><br><span class="line"></span><br><span class="line"># åç§»é‡ä¹Ÿåº”ç”¨äºæ ‡ç­¾å˜é‡ã€‚æ­¤é€‰é¡¹å¯ä»¥ä¸ç¦ç”¨çš„ note æ ‡ç­¾ä¸€èµ·ä½¿ç”¨ã€‚</span><br><span class="line"></span><br><span class="line">light_bg_offset: 0</span><br><span class="line"></span><br><span class="line"># å…¶ä»–</span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># Pjax</span><br><span class="line"></span><br><span class="line"># å®ƒå¯èƒ½åŒ…å«é”™è¯¯å¹¶ä¸”ä¸ç¨³å®šï¼Œè¯·åœ¨å‘ç°é”™è¯¯æ—¶æä¾›åé¦ˆã€‚</span><br><span class="line"></span><br><span class="line"># https://github.com/MoOx/pjax</span><br><span class="line"></span><br><span class="line">pjax:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">exclude:</span><br><span class="line"></span><br><span class="line"># - xxxx</span><br><span class="line"></span><br><span class="line"># - xxxx</span><br><span class="line"></span><br><span class="line"># æ³¨å…¥ CSS å’Œè„šæœ¬ (aplayer/meting)</span><br><span class="line"></span><br><span class="line">aplayerInject:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">per_page: true</span><br><span class="line"></span><br><span class="line"># Snackbar (Toast é€šçŸ¥å¼¹çª—)</span><br><span class="line"></span><br><span class="line"># https://github.com/polonel/SnackBar</span><br><span class="line"></span><br><span class="line"># position å¼¹çª—ä½ç½®</span><br><span class="line"></span><br><span class="line"># å¯é€‰ top-left / top-center / top-right / bottom-left / bottom-center / bottom-right</span><br><span class="line"></span><br><span class="line">snackbar:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">position: bottom-left</span><br><span class="line"></span><br><span class="line">bg_light: &#x27;#49b1f5&#x27; # æµ…è‰²æ¨¡å¼ä¸‹ Toast é€šçŸ¥çš„èƒŒæ™¯é¢œè‰²</span><br><span class="line"></span><br><span class="line">bg_dark: &#x27;#1f1f1f&#x27; # æ·±è‰²æ¨¡å¼ä¸‹ Toast é€šçŸ¥çš„èƒŒæ™¯é¢œè‰²</span><br><span class="line"></span><br><span class="line"># https://instant.page/</span><br><span class="line"></span><br><span class="line"># prefetch (é¢„åŠ è½½)</span><br><span class="line"></span><br><span class="line">instantpage: false</span><br><span class="line"></span><br><span class="line"># https://github.com/vinta/pangu.js</span><br><span class="line"></span><br><span class="line"># åœ¨ä¸­è‹±æ–‡ä¹‹é—´æ·»åŠ ç©ºæ ¼</span><br><span class="line"></span><br><span class="line">pangu:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">field: site # site/post</span><br><span class="line"></span><br><span class="line"># æ‡’åŠ è½½ (å›¾ç‰‡æ‡’åŠ è½½)</span><br><span class="line"></span><br><span class="line"># https://github.com/verlok/vanilla-lazyload</span><br><span class="line"></span><br><span class="line">lazyload:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">field: site # site/post</span><br><span class="line"></span><br><span class="line">placeholder:</span><br><span class="line"></span><br><span class="line">blur: false</span><br><span class="line"></span><br><span class="line"># PWA</span><br><span class="line"></span><br><span class="line"># è§ https://github.com/JLHwung/hexo-offline</span><br><span class="line"></span><br><span class="line"># ---------------</span><br><span class="line"></span><br><span class="line"># pwa:</span><br><span class="line"></span><br><span class="line"># enable: false</span><br><span class="line"></span><br><span class="line"># manifest: /pwa/manifest.json</span><br><span class="line"></span><br><span class="line"># apple_touch_icon: /pwa/apple-touch-icon.png</span><br><span class="line"></span><br><span class="line"># favicon_32_32: /pwa/32.png</span><br><span class="line"></span><br><span class="line"># favicon_16_16: /pwa/16.png</span><br><span class="line"></span><br><span class="line"># mask_icon: /pwa/safari-pinned-tab.svg</span><br><span class="line"></span><br><span class="line"># Open graph å…ƒæ ‡ç­¾</span><br><span class="line"></span><br><span class="line"># https://developers.facebook.com/docs/sharing/webmasters/</span><br><span class="line"></span><br><span class="line">Open_Graph_meta:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line">option:</span><br><span class="line"></span><br><span class="line"># twitter_card:</span><br><span class="line"></span><br><span class="line"># twitter_image:</span><br><span class="line"></span><br><span class="line"># twitter_id:</span><br><span class="line"></span><br><span class="line"># twitter_site:</span><br><span class="line"></span><br><span class="line"># google_plus:</span><br><span class="line"></span><br><span class="line"># fb_admins:</span><br><span class="line"></span><br><span class="line"># fb_app_id:</span><br><span class="line"></span><br><span class="line"># æ·»åŠ å‚å•†å‰ç¼€ä»¥ç¡®ä¿å…¼å®¹æ€§</span><br><span class="line"></span><br><span class="line">css_prefix: true</span><br><span class="line"></span><br><span class="line"># æ³¨å…¥</span><br><span class="line"></span><br><span class="line"># åœ¨å¤´éƒ¨ (&#x27;&lt;head&gt;&#x27; æ ‡ç­¾ä¹‹å‰) å’Œåº•éƒ¨ (&#x27;&lt;body&gt;&#x27; æ ‡ç­¾ä¹‹å‰) æ’å…¥ä»£ç </span><br><span class="line"></span><br><span class="line"># åœ¨å¤´éƒ¨ &lt;head&gt; ä¹‹å‰ å’Œ åº•éƒ¨ &lt;body&gt; ä¹‹å‰æ’å…¥ä»£ç </span><br><span class="line"></span><br><span class="line">inject:</span><br><span class="line"></span><br><span class="line">head:</span><br><span class="line"></span><br><span class="line"># - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"></span><br><span class="line">bottom:</span><br><span class="line"></span><br><span class="line"># - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"># CDN</span><br><span class="line"></span><br><span class="line"># é™¤éä½ çŸ¥é“å®ƒä»¬å¦‚ä½•å·¥ä½œï¼Œå¦åˆ™ä¸è¦ä¿®æ”¹ä»¥ä¸‹è®¾ç½®</span><br><span class="line"></span><br><span class="line"># éå¿…è¦è¯·ä¸è¦ä¿®æ”¹</span><br><span class="line"></span><br><span class="line">CDN:</span><br><span class="line"></span><br><span class="line"># ä¸»é¢˜å†…éƒ¨ js çš„ CDN é…ç½®</span><br><span class="line"></span><br><span class="line"># é€‰é¡¹: local/jsdelivr/unpkg/cdnjs/custom</span><br><span class="line"></span><br><span class="line"># Dev ç‰ˆæœ¬åªèƒ½é€‰æ‹© (dev ç‰ˆçš„ä¸»ä½“åªèƒ½è®¾ç½®ä¸º local)</span><br><span class="line"></span><br><span class="line">internal_provider: local</span><br><span class="line"></span><br><span class="line"># ç¬¬ä¸‰æ–¹ js çš„ CDN é…ç½®</span><br><span class="line"></span><br><span class="line"># é€‰é¡¹: local/jsdelivr/unpkg/cdnjs/custom</span><br><span class="line"></span><br><span class="line"># å½“è®¾ç½®ä¸º local æ—¶ï¼Œä½ éœ€è¦å®‰è£… hexo-butterfly-extjs</span><br><span class="line"></span><br><span class="line">third_party_provider: jsdelivr</span><br><span class="line"></span><br><span class="line"># åœ¨ URL ä¸­æ·»åŠ ç‰ˆæœ¬å·ï¼Œtrue æˆ– false</span><br><span class="line"></span><br><span class="line">version: true</span><br><span class="line"></span><br><span class="line"># è‡ªå®šä¹‰æ ¼å¼</span><br><span class="line"></span><br><span class="line"># ä¾‹å¦‚: https://cdn.staticfile.org/$&#123;cdnjs_name&#125;/$&#123;version&#125;/$&#123;min_cdnjs_file&#125;</span><br><span class="line"></span><br><span class="line">custom_format:</span><br><span class="line"></span><br><span class="line">option:</span><br><span class="line"></span><br><span class="line"># abcjs_basic_js:</span><br><span class="line"></span><br><span class="line"># activate_power_mode:</span><br><span class="line"></span><br><span class="line"># algolia_js:</span><br><span class="line"></span><br><span class="line"># algolia_search:</span><br><span class="line"></span><br><span class="line"># aplayer_css:</span><br><span class="line"></span><br><span class="line"># aplayer_js:</span><br><span class="line"></span><br><span class="line"># artalk_css:</span><br><span class="line"></span><br><span class="line"># artalk_js:</span><br><span class="line"></span><br><span class="line"># blueimp_md5:</span><br><span class="line"></span><br><span class="line"># busuanzi:</span><br><span class="line"></span><br><span class="line"># canvas_fluttering_ribbon:</span><br><span class="line"></span><br><span class="line"># canvas_nest:</span><br><span class="line"></span><br><span class="line"># canvas_ribbon:</span><br><span class="line"></span><br><span class="line"># click_heart:</span><br><span class="line"></span><br><span class="line"># clickShowText:</span><br><span class="line"></span><br><span class="line"># disqusjs:</span><br><span class="line"></span><br><span class="line"># disqusjs_css:</span><br><span class="line"></span><br><span class="line"># docsearch_css:</span><br><span class="line"></span><br><span class="line"># docsearch_js:</span><br><span class="line"></span><br><span class="line"># egjs_infinitegrid:</span><br><span class="line"></span><br><span class="line"># fancybox:</span><br><span class="line"></span><br><span class="line"># fancybox_css:</span><br><span class="line"></span><br><span class="line"># fireworks:</span><br><span class="line"></span><br><span class="line"># fontawesome:</span><br><span class="line"></span><br><span class="line"># gitalk:</span><br><span class="line"></span><br><span class="line"># gitalk_css:</span><br><span class="line"></span><br><span class="line"># giscus:</span><br><span class="line"></span><br><span class="line"># instantpage:</span><br><span class="line"></span><br><span class="line"># instantsearch:</span><br><span class="line"></span><br><span class="line"># katex:</span><br><span class="line"></span><br><span class="line"># katex_copytex:</span><br><span class="line"></span><br><span class="line"># lazyload:</span><br><span class="line"></span><br><span class="line"># local_search:</span><br><span class="line"></span><br><span class="line"># main:</span><br><span class="line"></span><br><span class="line"># main_css:</span><br><span class="line"></span><br><span class="line"># mathjax:</span><br><span class="line"></span><br><span class="line"># medium_zoom:</span><br><span class="line"></span><br><span class="line"># mermaid:</span><br><span class="line"></span><br><span class="line"># meting_js:</span><br><span class="line"></span><br><span class="line"># pangu:</span><br><span class="line"></span><br><span class="line"># prismjs_autoloader:</span><br><span class="line"></span><br><span class="line"># prismjs_js:</span><br><span class="line"></span><br><span class="line"># prismjs_lineNumber_js:</span><br><span class="line"></span><br><span class="line"># pjax:</span><br><span class="line"></span><br><span class="line"># sharejs:</span><br><span class="line"></span><br><span class="line"># sharejs_css:</span><br><span class="line"></span><br><span class="line"># snackbar:</span><br><span class="line"></span><br><span class="line"># snackbar_css:</span><br><span class="line"></span><br><span class="line"># translate:</span><br><span class="line"></span><br><span class="line"># twikoo:</span><br><span class="line"></span><br><span class="line"># typed:</span><br><span class="line"></span><br><span class="line"># utils:</span><br><span class="line"></span><br><span class="line"># valine:</span><br><span class="line"></span><br><span class="line"># waline_css:</span><br><span class="line"></span><br><span class="line"># waline_js:</span><br></pre></td></tr></table></figure><h3 id="32-æ›´æ”¹è¯­è¨€"><a class="markdownIt-Anchor" href="#32-æ›´æ”¹è¯­è¨€"></a> 3.2 æ›´æ”¹è¯­è¨€</h3><p>é¦–å…ˆæˆ‘ä»¬è¦å°†è‹±è¯­æ”¹ä¸ºä¸­æ–‡ï¼›butterflyä¸»é¢˜è‡ªå¸¦4ç§è¯­è¨€ã€‚</p><p><img src="23b8f5d04cf83b08bbb065eae00f2997.png" alt="image-20240725012044302" /></p><p>ç¼–è¾‘**<code>ç«™ç‚¹é…ç½®æ–‡ä»¶</code>**ï¼Œä¿®æ”¹è¯­è¨€è®¾ç½®ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">language</span>: zh<span class="operator">-</span>CN</span><br></pre></td></tr></table></figure><p><img src="cd3f146921c00d513c58e967c5871dce.png" alt="image-20240723183636553" /></p><h3 id="33-è®¾ç½®ç«™ç‚¹ä¿¡æ¯"><a class="markdownIt-Anchor" href="#33-è®¾ç½®ç«™ç‚¹ä¿¡æ¯"></a> 3.3 è®¾ç½®ç«™ç‚¹ä¿¡æ¯</h3><p>æ•ˆæœå›¾ï¼š</p><p><img src="240bcd422b49b03babffcf830e321a57.png" alt="image-20240725201201567" /></p><p>æ‰“å¼€**<code>ç«™ç‚¹é…ç½®æ–‡ä»¶</code><strong>ï¼ˆ<code>_config.yml</code>ï¼‰ä¿®æ”¹ç½‘ç«™å„ç§</strong>èµ„æ–™ï¼Œä¾‹å¦‚æ ‡é¢˜ã€å‰¯æ ‡é¢˜å’Œè¯­è¨€**ç­‰ä¸ªäººèµ„æ–™ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># Site</span></span><br><span class="line"></span><br><span class="line">title: <span class="string">&#x27;ä»–ä¹¡é‡æ•…çŸ¥&#x27;</span> <span class="meta">#æ ‡é¢˜</span></span><br><span class="line"></span><br><span class="line">subtitle: <span class="string">&#x27;ä¸€æ­¥ä¸€å¥æ˜¯ç›¸æ€&#x27;</span> <span class="meta">#å‰¯æ ‡é¢˜</span></span><br><span class="line"></span><br><span class="line">description: <span class="string">&#x27;å°ä¸‹äººé‡‘æ¦œæ­£é¢˜åï¼Œä¸æ›¾è®¤å°ä¸Šæ—§ç›¸è¯†&#x27;</span> <span class="meta">#ä¸ªæ€§ç­¾å</span></span><br><span class="line"></span><br><span class="line">keywords: <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">author: æ¢çª— <span class="meta">#ä½œè€…</span></span><br><span class="line"></span><br><span class="line">language: zh-CN <span class="meta">#è¯­è¨€</span></span><br><span class="line"></span><br><span class="line">timezone: <span class="string">&#x27;&#x27;</span> <span class="meta">#æ—¶åŒº</span></span><br></pre></td></tr></table></figure><h3 id="34-è®¾ç½®å¯¼èˆªèœå•"><a class="markdownIt-Anchor" href="#34-è®¾ç½®å¯¼èˆªèœå•"></a> 3.4 è®¾ç½®å¯¼èˆªèœå•</h3><p>æ•ˆæœå›¾ï¼š</p><p><img src="37dcd28d7ff199d3b9dcd002eea033fb.png" alt="image-20240725201705809" /></p><p>ç¼–è¾‘ <code>themes/butterfly/_config.yml</code>ï¼Œä¿®æ”¹ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># Menu ç›®éŒ„</span><br><span class="line"></span><br><span class="line">menu:</span><br><span class="line"></span><br><span class="line">é¦–é¡µ: / || fas fa-home</span><br><span class="line"></span><br><span class="line">å½’æ¡£: /archives/ || fas fa-archive</span><br><span class="line"></span><br><span class="line">æ ‡ç­¾: /tags/ || fas fa-tags</span><br><span class="line"></span><br><span class="line">ç›®å½•: /categories/ || fas fa-folder-open</span><br><span class="line"></span><br><span class="line">åˆ—è¡¨||fas fa-list:</span><br><span class="line"></span><br><span class="line">éŸ³ä¹: /music/ || fas fa-music</span><br><span class="line"></span><br><span class="line">ç”µå½±: /movies/ || fas fa-video</span><br><span class="line"></span><br><span class="line">å‹æƒ…é“¾æ¥: /link/ || fas fa-link</span><br><span class="line"></span><br><span class="line">å…³äºæˆ‘ä»¬: /about/ || fas fa-heart</span><br></pre></td></tr></table></figure><h3 id="35-ä»£ç å—æ˜¾ç¤ºè®¾ç½®"><a class="markdownIt-Anchor" href="#35-ä»£ç å—æ˜¾ç¤ºè®¾ç½®"></a> 3.5 ä»£ç å—æ˜¾ç¤ºè®¾ç½®</h3><p>æ•ˆæœå›¾ç›¸å½“æ¼‚äº®ï¼š</p><p><img src="d03f982b906dfdb56483b1209cbf1056.png" alt="image-20240725235111621" /></p><p>ç¼–è¾‘ <code>themes/butterfly/_config.yml</code>ï¼Œä¿®æ”¹ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># Code Blocks (ä»£ç å—ç›¸å…³)</span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line">highlight_theme: darker # darker / pale night / light / ocean / false</span><br><span class="line"></span><br><span class="line">highlight_height_limit: false # å•ä½ï¼šåƒç´ </span><br><span class="line"></span><br><span class="line">code_word_wrap: true</span><br><span class="line"></span><br><span class="line"># é«˜äº®å·¥å…·æ </span><br><span class="line"></span><br><span class="line">highlight_theme_macStyle: true # ä½¿ç”¨ Mac é£æ ¼</span><br><span class="line"></span><br><span class="line">highlight_copy: true # å¤åˆ¶æŒ‰é’®</span><br><span class="line"></span><br><span class="line">highlight_lang: true # æ˜¾ç¤ºä»£ç è¯­è¨€</span><br><span class="line"></span><br><span class="line">highlight_shrink: false # true: æ”¶ç¼©ä»£ç å— / false: å±•å¼€ä»£ç å— | none: å±•å¼€ä»£ç å—å¹¶éšè—æŒ‰é’®</span><br><span class="line"></span><br><span class="line">highlight_fullpage: true # true: æ·»åŠ åˆ‡æ¢å…¨å±çš„æŒ‰é’®</span><br></pre></td></tr></table></figure><p>åŒæ—¶ï¼Œå°†**<code>ç«™ç‚¹é…ç½®æ–‡ä»¶</code>**ï¼ˆ<code>_config.yml</code>ï¼‰ä¸­çš„<code>highlight</code>ç›¸å…³çš„é…ç½®æ³¨é‡Šæ‰ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#highlight:</span><br><span class="line"></span><br><span class="line"># line_number: false</span><br><span class="line"></span><br><span class="line"># auto_detect: false</span><br><span class="line"></span><br><span class="line"># tab_replace: &#x27;&#x27;</span><br><span class="line"></span><br><span class="line"># wrap: false</span><br><span class="line"></span><br><span class="line"># hljs: false</span><br></pre></td></tr></table></figure><h3 id="36-è®¾ç½®å¯¼èˆªæ å›¾ç‰‡"><a class="markdownIt-Anchor" href="#36-è®¾ç½®å¯¼èˆªæ å›¾ç‰‡"></a> 3.6 è®¾ç½®å¯¼èˆªæ å›¾ç‰‡</h3><p>æ•ˆæœå›¾å¦‚ä¸‹ï¼š</p><p><img src="736a308521cbd62049c996d7abf97f98.png" alt="image-20240725235610529" /></p><p>ç¼–è¾‘ <code>themes/butterfly/_config.yml</code>ï¼Œä¿®æ”¹ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Navigation bar settings (å¯¼èˆªæ è®¾ç½®)</span><br><span class="line"></span><br><span class="line"># è§ https://butterfly.js.org/posts/4aa8abbe/##å¯¼èˆªæ è®¾ç½®-Navigation-bar-settings</span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line">nav:</span><br><span class="line"></span><br><span class="line">logo: /images/butterfly.png</span><br></pre></td></tr></table></figure><blockquote><p>æœ¬åœ°å›¾ç‰‡åœ¨ç«™ç‚¹æ ¹ç›®å½•çš„<code>source</code>æ–‡ä»¶å¤¹é‡Œã€‚</p></blockquote><h3 id="37-ä¿®æ”¹é¦–é¡µå‰¯æ ‡é¢˜"><a class="markdownIt-Anchor" href="#37-ä¿®æ”¹é¦–é¡µå‰¯æ ‡é¢˜"></a> 3.7 ä¿®æ”¹é¦–é¡µå‰¯æ ‡é¢˜</h3><p>æ•ˆæœå›¾ï¼š</p><p><img src="ce7f81f8e81966c1621c9b30a93ef565.png" alt="image-20240726000432143" /></p><p>ç¼–è¾‘ <code>themes/butterfly/_config.yml</code>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"># é¦–é¡µå‰¯æ ‡é¢˜</span><br><span class="line"></span><br><span class="line">subtitle:</span><br><span class="line"></span><br><span class="line"># æ˜¯å¦å¼€å¯ï¼štrueï¼šå¼€å¯ï¼Œfalseï¼šä¸å¼€å¯</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line"># æ‰“å­—æ•ˆæœ</span><br><span class="line"></span><br><span class="line">effect: true</span><br><span class="line"></span><br><span class="line"># å®šåˆ¶ typed.js</span><br><span class="line"></span><br><span class="line"># https://github.com/mattboldt/typed.js/#customization</span><br><span class="line"></span><br><span class="line">typed_option:</span><br><span class="line"></span><br><span class="line"># source è°ƒç”¨ç¬¬ä¸‰æ–¹æœåŠ¡</span><br><span class="line"></span><br><span class="line"># source: false å…³é—­è°ƒç”¨</span><br><span class="line"></span><br><span class="line"># source: 1 è°ƒç”¨ä¸€è¨€ç½‘çš„ä¸€å¥è¯ï¼ˆç®€ä½“ï¼‰ https://hitokoto.cn/</span><br><span class="line"></span><br><span class="line"># source: 2 è°ƒç”¨ä¸€å¥ç½‘ï¼ˆç®€ä½“ï¼‰ https://yijuzhan.com/</span><br><span class="line"></span><br><span class="line"># source: 3 è°ƒç”¨ä»Šæ—¥è¯—è¯ï¼ˆç®€ä½“ï¼‰ https://www.jinrishici.com/</span><br><span class="line"></span><br><span class="line"># subtitle ä¼šå…ˆæ˜¾ç¤º source , å†æ˜¾ç¤º sub çš„å†…å®¹</span><br><span class="line"></span><br><span class="line">source: false</span><br><span class="line"></span><br><span class="line"># å¦‚æœå…³é—­æ‰“å­—æ•ˆæœï¼Œsubtitle åªä¼šæ˜¾ç¤º sub çš„ç¬¬ä¸€è¡Œæ–‡å­—</span><br><span class="line"></span><br><span class="line">sub:</span><br><span class="line"></span><br><span class="line">- ä½ åœ¨æŠ±æ€¨ä»€ä¹ˆå‘¢</span><br><span class="line"></span><br><span class="line">- ä¸ºæ˜å¤©åˆ°æ¥çš„äº‹ï¼Œè¯´äººç”Ÿåƒæ˜¯æ²¡æœ‰æ„ä¹‰</span><br><span class="line"></span><br><span class="line">- æ²¡æœ‰é€‰æ‹©ä¼šæ˜¯å”¯ä¸€çš„è·¯</span><br><span class="line"></span><br><span class="line">- è¿™ä¸æ˜¯ä½ è‡ªå·±çš„é—®é¢˜ï¼Œäººç»ˆå½’è¦å¥½å¥½å»ç”Ÿæ´»</span><br></pre></td></tr></table></figure><h3 id="38-å›¾ç‰‡è®¾ç½®"><a class="markdownIt-Anchor" href="#38-å›¾ç‰‡è®¾ç½®"></a> 3.8 å›¾ç‰‡è®¾ç½®</h3><p>å›¾ç‰‡é“¾æ¥åœ°å€å¯ä»¥æ˜¯ï¼š</p><ul><li>å®Œæ•´çš„äº’è”ç½‘ URIï¼Œå¦‚ï¼š<a href="http://example.com/avatar.png">http://example.com/avatar.png</a></li><li>ç«™ç‚¹å†…çš„åœ°å€ï¼Œä¸»é¢˜æˆ–ç«™ç‚¹çš„sourceç›®å½•ä¸‹ã€‚æ³¨æ„ï¼šæ˜¯ç«™ç‚¹æ ¹ç›®å½•çš„<code>source</code>æ–‡ä»¶å¤¹é‡Œã€‚</li></ul><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code>ï¼š</p><ol><li><p>ç½‘ç«™å›¾æ ‡</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">favicon: <span class="regexp">/img/</span>favicon.png</span><br></pre></td></tr></table></figure></li><li><p>å¤´åƒ</p><p><img src="f88b6118ac2e2d16c6b56eff5f89ad6b.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Avatar (å¤´åƒ)</span><br><span class="line"></span><br><span class="line">avatar:</span><br><span class="line"></span><br><span class="line">img: /images/next_icon.png #https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png</span><br><span class="line"></span><br><span class="line">effect: false #æ˜¯å¦ä¸€ç›´è½¬åœˆ falseï¼šä¸å¼€å¯ï¼Œtrueå¼€å¯</span><br></pre></td></tr></table></figure></li><li><p>ä¸»é¡µæ¨ªå¹…å›¾ç‰‡</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># é¦–é¡µçš„æ¨ªå¹…å›¾ç‰‡</span></span><br><span class="line"></span><br><span class="line">index_img:</span><br></pre></td></tr></table></figure></li><li><p>æ–‡ç« è¯¦æƒ…é¡µé¡¶éƒ¨å›¾ç‰‡</p><p>å½“æ²¡æœ‰åœ¨<code>front-matter</code>è®¾ç½®<code>top_img</code>å’Œ<code>cover</code>çš„æƒ…å†µä¸‹ä¼šæ˜¾ç¤ºè¯¥å›¾</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># å¦‚æœé¡µé¢æ²¡æœ‰è®¾ç½®æ¨ªå¹…ï¼Œåˆ™æ˜¾ç¤ºé¡¶éƒ¨å›¾ç‰‡</span><br><span class="line"></span><br><span class="line">default_top_img: /img/default_top_img.png</span><br></pre></td></tr></table></figure></li><li><p>å½’æ¡£é¡µæ¨ªå¹…å›¾ç‰‡</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># å½’æ¡£é¡µé¢çš„æ¨ªå¹…å›¾ç‰‡</span></span><br><span class="line"></span><br><span class="line">archive_img:</span><br></pre></td></tr></table></figure></li><li><p><code>tag</code>æ ‡ç­¾é¡µæ¨ªå¹…å›¾ç‰‡</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># å¦‚æœæ ‡ç­¾é¡µé¢æ²¡æœ‰è®¾ç½®æ¨ªå¹…ï¼Œåˆ™æ˜¾ç¤ºé¡¶éƒ¨å›¾ç‰‡</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># æ³¨æ„ï¼šæ ‡ç­¾é¡µé¢ï¼Œä¸æ˜¯æ ‡ç­¾é¡µé¢ï¼ˆå­æ ‡ç­¾é¡µé¢çš„é¡¶éƒ¨å›¾ç‰‡ï¼‰</span></span><br><span class="line"></span><br><span class="line">tag_img:</span><br><span class="line"></span><br><span class="line"><span class="meta"># å…·ä½“æ ‡ç­¾é¡µé¢çš„æ¨ªå¹…å›¾ç‰‡</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># æ ¼å¼:</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># - æ ‡ç­¾å: xxxxx</span></span><br><span class="line"></span><br><span class="line">tag_per_img:</span><br></pre></td></tr></table></figure></li><li><p><code>category</code>ç›®å½•é¡µæ¨ªå¹…å›¾ç‰‡</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># å¦‚æœåˆ†ç±»é¡µé¢æ²¡æœ‰è®¾ç½®æ¨ªå¹…ï¼Œåˆ™æ˜¾ç¤ºé¡¶éƒ¨å›¾ç‰‡</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># æ³¨æ„ï¼šåˆ†ç±»é¡µé¢ï¼Œä¸æ˜¯åˆ†ç±»é¡µé¢ï¼ˆå­åˆ†ç±»é¡µé¢çš„é¡¶éƒ¨å›¾ç‰‡ï¼‰</span></span><br><span class="line"></span><br><span class="line">category_img:</span><br><span class="line"></span><br><span class="line"><span class="meta"># å…·ä½“åˆ†ç±»é¡µé¢çš„æ¨ªå¹…å›¾ç‰‡ï¼Œå¯ä»¥ä¸ºä¸åŒçš„categoryè®¾ç½®ä¸åŒçš„æ¨ªå¹…å›¾ç‰‡</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># æ ¼å¼:</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># - åˆ†ç±»å: xxxxx</span></span><br><span class="line"></span><br><span class="line">category_per_img:</span><br></pre></td></tr></table></figure></li><li><p>æ–‡ç« ç»Ÿä¸€å°é¢</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"># å°é¢</span><br><span class="line"></span><br><span class="line">cover:</span><br><span class="line"></span><br><span class="line"># æ˜¯å¦æ˜¾ç¤ºæ–‡ç« å°é¢</span><br><span class="line"></span><br><span class="line">index_enable: true</span><br><span class="line"></span><br><span class="line">aside_enable: true</span><br><span class="line"></span><br><span class="line">archives_enable: true</span><br><span class="line"></span><br><span class="line"># é¦–é¡µå°é¢æ˜¾ç¤ºçš„ä½ç½®</span><br><span class="line"></span><br><span class="line">position: both # left/right/both</span><br><span class="line"></span><br><span class="line"># å½“æ²¡æœ‰è®¾ç½®å°é¢æ—¶ï¼Œæ˜¾ç¤ºé»˜è®¤å°é¢</span><br><span class="line"></span><br><span class="line">default_cover:</span><br><span class="line"></span><br><span class="line"># å½“é…ç½®å¤šå¼ å›¾ç‰‡æ—¶ï¼Œä¼šéšæœºé€‰æ‹©ä¸€å¼ ä½œä¸º cover. æ­¤æ—¶å†™æ³•ä¸º</span><br><span class="line"></span><br><span class="line">- https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg</span><br><span class="line"></span><br><span class="line">- https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg</span><br><span class="line"></span><br><span class="line">- https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg</span><br><span class="line"></span><br><span class="line">- https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg</span><br><span class="line"></span><br><span class="line">- https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg</span><br></pre></td></tr></table></figure><p>å¦‚æœéœ€è¦ä¸ºæ¯ä¸€ç¯‡æ–‡ç« è®¾ç½®ä¸åŒçš„å°é¢ï¼Œå¯ä»¥åœ¨æ–‡ç« çš„<code>md</code>æ–‡ä»¶ä¸­æ·»åŠ é…ç½®ã€‚</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"></span><br><span class="line">title: Hello World</span><br><span class="line"></span><br><span class="line">tags: [hello]</span><br><span class="line"></span><br><span class="line">categories:</span><br><span class="line"></span><br><span class="line">description: hello word~</span><br><span class="line"></span><br><span class="line">top_img: <span class="regexp">/img/</span>hello-<span class="number">1</span>.png</span><br><span class="line"></span><br><span class="line">cover: <span class="regexp">/img/</span>hello-<span class="number">1</span>.png</span><br><span class="line"></span><br><span class="line">---</span><br></pre></td></tr></table></figure></li><li><p>é”™è¯¯é¡µé¢</p><p>é…ç½®äº†è¯¥å±æ€§åä¼šæ›¿æ¢æ— æ³•å±•ç¤ºçš„å›¾ç‰‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># æ›¿æ¢æ— æ³•æ˜¾ç¤ºçš„å›¾ç‰‡</span><br><span class="line"></span><br><span class="line">error_img:</span><br><span class="line"></span><br><span class="line">flink: /img/friend_404.gif</span><br><span class="line"></span><br><span class="line">post_page: /img/404.jpg</span><br></pre></td></tr></table></figure></li></ol><h3 id="39-å›¾ç‰‡æ‡’åŠ è½½"><a class="markdownIt-Anchor" href="#39-å›¾ç‰‡æ‡’åŠ è½½"></a> 3.9 å›¾ç‰‡æ‡’åŠ è½½</h3><ol><li><p>æ–°å¢<code>hexo-lazyload-image</code>æ¨¡å—</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo<span class="operator">-</span>lazyload<span class="operator">-</span>image <span class="comment">--save</span></span><br></pre></td></tr></table></figure></li><li><p>ç¼–è¾‘**<code>ç«™ç‚¹é…ç½®æ–‡ä»¶</code>**ï¼ˆ<code>_config.yml</code>ï¼‰å¢åŠ é…ç½®ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">lazyload</span>:</span><br><span class="line"></span><br><span class="line"><span class="attr">enable</span>: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">loadingImg</span>: <span class="regexp">/img/</span>loading.<span class="property">gif</span></span><br></pre></td></tr></table></figure><p>åœ¨å›¾ç‰‡æ²¡åŠ è½½å‡ºæ¥çš„æ—¶å€™ï¼Œå‡ºç°ä¸€ä¸ªåŠ¨å›¾è½¬åŠ¨çš„å›¾ç‰‡æ ·å¼ã€‚</p></li></ol><h3 id="310-å›¾ç‰‡å¤§å›¾æŸ¥çœ‹"><a class="markdownIt-Anchor" href="#310-å›¾ç‰‡å¤§å›¾æŸ¥çœ‹"></a> 3.10 å›¾ç‰‡å¤§å›¾æŸ¥çœ‹</h3><p>ç¼–è¾‘ <code>themes/butterfly/_config.yml</code>ï¼Œä¿®æ”¹ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># å›¾ç‰‡å¤§å›¾æŸ¥çœ‹æ¨¡å¼</span><br><span class="line"></span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># åªèƒ½é€‰æ‹©ä¸€ä¸ªï¼Œæˆ–è€…ä¸¤ä¸ªéƒ½ä¸é€‰</span><br><span class="line"></span><br><span class="line"># medium-zoom</span><br><span class="line"></span><br><span class="line"># https://github.com/francoischalifour/medium-zoom</span><br><span class="line"></span><br><span class="line">medium_zoom: false</span><br><span class="line"></span><br><span class="line"># fancybox</span><br><span class="line"></span><br><span class="line"># https://fancyapps.com/fancybox/</span><br><span class="line"></span><br><span class="line">fancybox: true</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šè¿™ä¸¤ä¸ªé€‰é¡¹åªèƒ½äºŒé€‰ä¸€æˆ–è€…ä¸é€‰</p></blockquote><h3 id="311-ç‰ˆæƒæ ·å¼"><a class="markdownIt-Anchor" href="#311-ç‰ˆæƒæ ·å¼"></a> 3.11 ç‰ˆæƒæ ·å¼</h3><p>ç¼–è¾‘ <code>themes/butterfly/_config.yml</code>ï¼Œä¿®æ”¹ä»¥ä¸‹å†…å®¹ï¼š</p><ol><li>å¤åˆ¶çš„å†…å®¹åé¢åŠ ä¸Šç‰ˆæƒä¿¡æ¯</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">copy:</span><br><span class="line"></span><br><span class="line"><span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">copyright:</span><br><span class="line"></span><br><span class="line"><span class="built_in">enable</span>: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">limit_count: 50</span><br></pre></td></tr></table></figure><ol start="2"><li><p>æ–‡ç« ç‰ˆæƒä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># æ–‡ç« ç‰ˆæƒ</span><br><span class="line"></span><br><span class="line">post_copyright:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line">decode: true</span><br><span class="line"></span><br><span class="line">author_href:</span><br><span class="line"></span><br><span class="line">license: CC BY-NC-SA 4.0</span><br><span class="line"></span><br><span class="line">license_url: https://creativecommons.org/licenses/by-nc-sa/4.0/</span><br></pre></td></tr></table></figure><p>æ•ˆæœå›¾ï¼š</p><p><img src="38a7af336cfb6fb0238f2858b243680c.png" alt="image-20240726002835343" /></p></li></ol><h3 id="312-ç›¸å…³æ–‡ç« "><a class="markdownIt-Anchor" href="#312-ç›¸å…³æ–‡ç« "></a> 3.12 ç›¸å…³æ–‡ç« </h3><p>æ•ˆæœå›¾ï¼š</p><p><img src="b22953e01cb2ddb5444d88f63e9e8a58.png" alt="image-20240726003029032" /></p><p>åœ¨æ–‡ç« æœ€ä¸‹é¢å‡ºç°ç›¸å…³æ–‡ç« æ¨èã€‚</p><p>ç¼–è¾‘ <code>themes/butterfly/_config.yml</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">related_post:</span><br><span class="line"></span><br><span class="line"><span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">limit</span>: 6</span><br><span class="line"></span><br><span class="line">date_type: created</span><br></pre></td></tr></table></figure><h3 id="313-æ‰“èµ"><a class="markdownIt-Anchor" href="#313-æ‰“èµ"></a> 3.13 æ‰“èµ</h3><p>æ•ˆæœå›¾ï¼š</p><p><img src="09a0f6e91a56471b31d133c3c26f48b7.png" alt="image-20240726003341192" /></p><p>ç»™æ–‡ç« ç»“å°¾è®¾ç½®æ‰“èµæŒ‰é’®ï¼Œå¯ä»¥æ”¾ä¸Šæ”¶æ¬¾äºŒç»´ç ã€‚</p><p>ç¼–è¾‘ <code>themes/butterfly/_config.yml</code>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># èµåŠ©/æ‰“èµ</span><br><span class="line"></span><br><span class="line">reward:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line">text:</span><br><span class="line"></span><br><span class="line">QR_code:</span><br><span class="line"></span><br><span class="line">- img: /img/wechat.png</span><br><span class="line"></span><br><span class="line">link:</span><br><span class="line"></span><br><span class="line">text: wechat</span><br><span class="line"></span><br><span class="line">- img: /img/alipay.png</span><br><span class="line"></span><br><span class="line">link:</span><br><span class="line"></span><br><span class="line">text: alipay</span><br></pre></td></tr></table></figure><h3 id="314-ä¾§è¾¹æ æ ·å¼"><a class="markdownIt-Anchor" href="#314-ä¾§è¾¹æ æ ·å¼"></a> 3.14 ä¾§è¾¹æ æ ·å¼</h3><p>ç¼–è¾‘ <code>themes/butterfly/_config.yml</code>ï¼š</p><ol><li><p>è°ƒæ•´ä¾§è¾¹æ å‡ºç°ä½ç½®</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">aside:</span><br><span class="line"></span><br><span class="line">enable: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">hide: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">button: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">mobile: <span class="literal">true</span> # åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæ˜¾ç¤º</span><br><span class="line"></span><br><span class="line">position: <span class="keyword">right</span> # <span class="keyword">left</span> <span class="keyword">or</span> <span class="keyword">right</span></span><br></pre></td></tr></table></figure></li><li><p>ä¸ªäººä¿¡æ¯</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">social:</span><br><span class="line"></span><br><span class="line">fab fa-github: https:<span class="regexp">//gi</span>thub.com/xxxxx || Github || <span class="string">&#x27;#24292e&#x27;</span></span><br><span class="line"></span><br><span class="line">fas fa-envelope: mailto:xxxxxx@gmail.com || Email || <span class="string">&#x27;#4a7dbe&#x27;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå›¾ï¼š</p><p><img src="ecbe276085abfe32d46f407a945fe883.png" alt="image-20240726003807888" /></p></li></ol><h3 id="315-å…¬å‘Šæ è®¾ç½®"><a class="markdownIt-Anchor" href="#315-å…¬å‘Šæ è®¾ç½®"></a> 3.15 å…¬å‘Šæ è®¾ç½®</h3><p>æ•ˆæœå›¾ï¼š</p><p><img src="4bc2769ebee30a52a2bb6d7346671e0a.png" alt="image-20240726003941853" /></p><p>ç¼–è¾‘ <code>themes/butterfly/_config.yml</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">card_announcement:</span><br><span class="line"></span><br><span class="line"><span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">content: è¿™æ˜¯æˆ‘çš„åšå®¢</span><br></pre></td></tr></table></figure><h3 id="316-tocç›®å½•"><a class="markdownIt-Anchor" href="#316-tocç›®å½•"></a> 3.16 Tocç›®å½•</h3><p>æ•ˆæœå›¾ï¼š</p><p><img src="51862d8d7fa1e8d1247ad067caef2e38.png" alt="image-20240726004047129" /></p><p>ç¼–è¾‘ <code>themes/butterfly/_config.yml</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">toc:</span><br><span class="line"></span><br><span class="line">post: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">page: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">number: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">expand</span>: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">style_simple: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">scroll_percent: <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="317-å­—æ•°ç»Ÿè®¡"><a class="markdownIt-Anchor" href="#317-å­—æ•°ç»Ÿè®¡"></a> 3.17 å­—æ•°ç»Ÿè®¡</h3><p>æ•ˆæœå›¾ï¼š</p><p><img src="d3b963e802e133c560c582b198a6d017.png" alt="image-20240726004256247" /></p><ol><li><p>å®‰è£…ç»Ÿè®¡<a href="https://edu.csdn.net/cloud/houjie?utm_source=highword&amp;spm=1001.2101.3001.7020">ç»„ä»¶</a></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-wordcount --save <span class="keyword">or</span> yarn <span class="keyword">add</span> hexo-wordcount</span><br></pre></td></tr></table></figure></li><li><p>ç¼–è¾‘ <code>themes/butterfly/_config.yml</code>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># å­—æ•°ç»Ÿè®¡</span><br><span class="line"></span><br><span class="line"># è§ https://butterfly.js.org/posts/ceeb73f/#å­—æ•°ç»Ÿè®¡</span><br><span class="line"></span><br><span class="line">wordcount:</span><br><span class="line"></span><br><span class="line">enable: true</span><br><span class="line"></span><br><span class="line">post_wordcount: true</span><br><span class="line"></span><br><span class="line">min2read: true</span><br><span class="line"></span><br><span class="line">total_wordcount: true</span><br></pre></td></tr></table></figure></li></ol><h3 id="318-æ–‡ç« åˆ†äº«åŠŸèƒ½"><a class="markdownIt-Anchor" href="#318-æ–‡ç« åˆ†äº«åŠŸèƒ½"></a> 3.18 æ–‡ç« åˆ†äº«åŠŸèƒ½</h3><p><code>share.js</code>ã€<code>addtoany</code>äºŒé€‰ä¸€å¼€å¯ã€‚</p><p>ç¼–è¾‘ <code>themes/butterfly/_config.yml</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sharejs:</span><br><span class="line"></span><br><span class="line"><span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">sites: facebook,twitter,wechat,weibo,qq</span><br><span class="line"></span><br><span class="line">addtoany:</span><br><span class="line"></span><br><span class="line"><span class="built_in">enable</span>: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">item: facebook,twitter,wechat,sina_weibo,facebook_messenger,email,copy_link</span><br></pre></td></tr></table></figure><p>æ•ˆæœå›¾ï¼š</p><p><strong>Share.js</strong></p><p><img src="6ffad9826b680ed7d07c4cd4b38b4f23.png" alt="image-20240726004517874" /></p><p><strong>AddToAny</strong></p><p><img src="89110cbe28476f28b6f1ea2b2bb832fc.png" alt="image-20240726004610810" /></p><h3 id="319-èƒŒæ™¯ç‰¹æ•ˆç¾åŒ–"><a class="markdownIt-Anchor" href="#319-èƒŒæ™¯ç‰¹æ•ˆç¾åŒ–"></a> 3.19 èƒŒæ™¯ç‰¹æ•ˆ/ç¾åŒ–</h3><p>ç¼–è¾‘ <code>themes/butterfly/_config.yml</code>ï¼š</p><h4 id="1-é¼ æ ‡ç‚¹å‡»æ•ˆæœ"><a class="markdownIt-Anchor" href="#1-é¼ æ ‡ç‚¹å‡»æ•ˆæœ"></a> <strong>1. é¼ æ ‡ç‚¹å‡»æ•ˆæœ</strong></h4><p>æœ‰çƒŸç«ç‰¹æ•ˆã€çˆ±å¿ƒç‰¹æ•ˆã€æ–‡å­—ç‰¹æ•ˆï¼Œé€‰æ‹©å…¶ä¸­ä¸€ä¸ªå°†<code>enable</code>è®¾ç½®ä¸º<code>true</code>å°±å¯ä»¥ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">fireworks:</span><br><span class="line"></span><br><span class="line"><span class="built_in">enable</span>: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">zIndex: 9999</span><br><span class="line"></span><br><span class="line">mobile: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">click_heart:</span><br><span class="line"></span><br><span class="line"><span class="built_in">enable</span>: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">mobile: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">clickShowText:</span><br><span class="line"></span><br><span class="line"><span class="built_in">enable</span>: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">text:</span><br><span class="line"></span><br><span class="line">fontSize: 15px</span><br><span class="line"></span><br><span class="line">random: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">mobile: <span class="literal">false</span></span><br></pre></td></tr></table></figure><h4 id="2-æ‰“å­—æ•ˆæœ"><a class="markdownIt-Anchor" href="#2-æ‰“å­—æ•ˆæœ"></a> <strong>2. æ‰“å­—æ•ˆæœ</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">activate_power_mode:</span><br><span class="line"></span><br><span class="line"><span class="built_in">enable</span>: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">colorful: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">shake: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">mobile: <span class="literal">false</span></span><br></pre></td></tr></table></figure><h4 id="3-èƒŒæ™¯ç‰¹æ•ˆ"><a class="markdownIt-Anchor" href="#3-èƒŒæ™¯ç‰¹æ•ˆ"></a> <strong>3. èƒŒæ™¯ç‰¹æ•ˆ</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"># canvas_ribbon (é™æ­¢å½©å¸¦èƒŒæ™¯)</span><br><span class="line"></span><br><span class="line"># è§: https://github.com/hustcc/ribbon.js</span><br><span class="line"></span><br><span class="line">canvas_ribbon:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">size: 150</span><br><span class="line"></span><br><span class="line">alpha: 0.6</span><br><span class="line"></span><br><span class="line">zIndex: -1</span><br><span class="line"></span><br><span class="line">click_to_change: false</span><br><span class="line"></span><br><span class="line">mobile: false</span><br><span class="line"></span><br><span class="line"># Fluttering Ribbon (åŠ¨æ€å½©å¸¦)</span><br><span class="line"></span><br><span class="line">canvas_fluttering_ribbon:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">mobile: false</span><br><span class="line"></span><br><span class="line"># canvas_nest</span><br><span class="line"></span><br><span class="line"># https://github.com/hustcc/canvas-nest.js</span><br><span class="line"></span><br><span class="line">canvas_nest:</span><br><span class="line"></span><br><span class="line">enable: false</span><br><span class="line"></span><br><span class="line">color: &#x27;0,0,255&#x27; # çº¿æ¡çš„é¢œè‰²ï¼Œé»˜è®¤: &#x27;0,0,0&#x27;ï¼›RGB å€¼ï¼š(R,G,B)ã€‚ï¼ˆæ³¨æ„ï¼šç”¨ &#x27;,&#x27; åˆ†éš”ï¼‰</span><br><span class="line"></span><br><span class="line">opacity: 0.7 # çº¿æ¡çš„é€æ˜åº¦ (0~1)ï¼Œé»˜è®¤: 0.5</span><br><span class="line"></span><br><span class="line">zIndex: -1 # èƒŒæ™¯çš„ z-index å±æ€§ï¼Œé»˜è®¤: -1</span><br><span class="line"></span><br><span class="line">count: 99 # çº¿æ¡çš„æ•°é‡ï¼Œé»˜è®¤: 99</span><br><span class="line"></span><br><span class="line">mobile: false</span><br></pre></td></tr></table></figure><h4 id="4-è‡ªå®šä¹‰èƒŒæ™¯ä¸»é¢˜è‰²"><a class="markdownIt-Anchor" href="#4-è‡ªå®šä¹‰èƒŒæ™¯ä¸»é¢˜è‰²"></a> <strong>4. è‡ªå®šä¹‰èƒŒæ™¯ä¸»é¢˜è‰²</strong></h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># ç¾åŒ–/æ•ˆæœ</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># --------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># è‡ªå®šä¹‰ä¸»é¢˜é¢œè‰²</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># æ³¨æ„ï¼šé¢œè‰²å€¼å¿…é¡»ç”¨åŒå¼•å·å¼•èµ·æ¥ï¼Œå¦‚ &quot;#000&quot;ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´é”™è¯¯ï¼</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># theme_color:</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># enable: true</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># main: &quot;#49B1F5&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># paginator: &quot;#00c4b6&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># button_hover: &quot;#FF7242&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># text_selection: &quot;#00c4b6&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># link_color: &quot;#99a9bf&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># meta_color: &quot;#858585&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># hr_color: &quot;#A4D8FA&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># code_foreground: &quot;#F47466&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># code_background: &quot;rgba(27, 31, 35, .05)&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># toc_color: &quot;#00c4b6&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># blockquote_padding_color: &quot;#49b1f5&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># blockquote_background_color: &quot;#49b1f5&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># scrollbar_color: &quot;#49b1f5&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># meta_theme_color_light: &quot;ffffff&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># meta_theme_color_dark: &quot;#0d0d0d&quot;</span></span><br></pre></td></tr></table></figure><h4 id="5-æ¸å˜èƒŒæ™¯"><a class="markdownIt-Anchor" href="#5-æ¸å˜èƒŒæ™¯"></a> <strong>5. æ¸å˜èƒŒæ™¯</strong></h4><p>é»˜è®¤æ˜¾ç¤ºç™½è‰²ï¼Œå¯è®¾ç½®å›¾ç‰‡æˆ–è€…é¢œè‰²</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># è®¾ç½®ç½‘ç«™èƒŒæ™¯</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># å¯ä»¥è®¾ç½®ä¸ºé¢œè‰²æˆ–å›¾ç‰‡ï¼ˆå¯è®¾ç½®å›¾ç‰‡ æˆ–è€… é¢œè‰²ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># å›¾ç‰‡æ ¼å¼ï¼šurl(http://xxxxxx.com/xxx.jpg)</span></span><br><span class="line"></span><br><span class="line">background:</span><br></pre></td></tr></table></figure><p>å¢åŠ èƒŒæ™¯æ¸å˜è‰²æ­¥éª¤ï¼š</p><ol><li><p>åœ¨<code>themes/butterfly/source/css/</code>ç›®å½•ä¸‹åˆ›å»ºcssæ–‡ä»¶ <code>background.css</code>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line">#web_bg &#123;</span><br><span class="line"></span><br><span class="line">background: -webkit-linear-gradient(</span><br><span class="line"></span><br><span class="line">0deg,</span><br><span class="line"></span><br><span class="line">rgba(247, 149, 51, 0.1) 0,</span><br><span class="line"></span><br><span class="line">rgba(243, 112, 85, 0.1) 15%,</span><br><span class="line"></span><br><span class="line">rgba(239, 78, 123, 0.1) 30%,</span><br><span class="line"></span><br><span class="line">rgba(161, 102, 171, 0.1) 44%,</span><br><span class="line"></span><br><span class="line">rgba(80, 115, 184, 0.1) 58%,</span><br><span class="line"></span><br><span class="line">rgba(16, 152, 173, 0.1) 72%,</span><br><span class="line"></span><br><span class="line">rgba(7, 179, 155, 0.1) 86%,</span><br><span class="line"></span><br><span class="line">rgba(109, 186, 130, 0.1) 100%</span><br><span class="line"></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">background: -moz-linear-gradient(</span><br><span class="line"></span><br><span class="line">0deg,</span><br><span class="line"></span><br><span class="line">rgba(247, 149, 51, 0.1) 0,</span><br><span class="line"></span><br><span class="line">rgba(243, 112, 85, 0.1) 15%,</span><br><span class="line"></span><br><span class="line">rgba(239, 78, 123, 0.1) 30%,</span><br><span class="line"></span><br><span class="line">rgba(161, 102, 171, 0.1) 44%,</span><br><span class="line"></span><br><span class="line">rgba(80, 115, 184, 0.1) 58%,</span><br><span class="line"></span><br><span class="line">rgba(16, 152, 173, 0.1) 72%,</span><br><span class="line"></span><br><span class="line">rgba(7, 179, 155, 0.1) 86%,</span><br><span class="line"></span><br><span class="line">rgba(109, 186, 130, 0.1) 100%</span><br><span class="line"></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">background: -o-linear-gradient(</span><br><span class="line"></span><br><span class="line">0deg,</span><br><span class="line"></span><br><span class="line">rgba(247, 149, 51, 0.1) 0,</span><br><span class="line"></span><br><span class="line">rgba(243, 112, 85, 0.1) 15%,</span><br><span class="line"></span><br><span class="line">rgba(239, 78, 123, 0.1) 30%,</span><br><span class="line"></span><br><span class="line">rgba(161, 102, 171, 0.1) 44%,</span><br><span class="line"></span><br><span class="line">rgba(80, 115, 184, 0.1) 58%,</span><br><span class="line"></span><br><span class="line">rgba(16, 152, 173, 0.1) 72%,</span><br><span class="line"></span><br><span class="line">rgba(7, 179, 155, 0.1) 86%,</span><br><span class="line"></span><br><span class="line">rgba(109, 186, 130, 0.1) 100%</span><br><span class="line"></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">background: -ms-linear-gradient(</span><br><span class="line"></span><br><span class="line">0deg,</span><br><span class="line"></span><br><span class="line">rgba(247, 149, 51, 0.1) 0,</span><br><span class="line"></span><br><span class="line">rgba(243, 112, 85, 0.1) 15%,</span><br><span class="line"></span><br><span class="line">rgba(239, 78, 123, 0.1) 30%,</span><br><span class="line"></span><br><span class="line">rgba(161, 102, 171, 0.1) 44%,</span><br><span class="line"></span><br><span class="line">rgba(80, 115, 184, 0.1) 58%,</span><br><span class="line"></span><br><span class="line">rgba(16, 152, 173, 0.1) 72%,</span><br><span class="line"></span><br><span class="line">rgba(7, 179, 155, 0.1) 86%,</span><br><span class="line"></span><br><span class="line">rgba(109, 186, 130, 0.1) 100%</span><br><span class="line"></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">background: linear-gradient(</span><br><span class="line"></span><br><span class="line">90deg,</span><br><span class="line"></span><br><span class="line">rgba(247, 149, 51, 0.1) 0,</span><br><span class="line"></span><br><span class="line">rgba(243, 112, 85, 0.1) 15%,</span><br><span class="line"></span><br><span class="line">rgba(239, 78, 123, 0.1) 30%,</span><br><span class="line"></span><br><span class="line">rgba(161, 102, 171, 0.1) 44%,</span><br><span class="line"></span><br><span class="line">rgba(80, 115, 184, 0.1) 58%,</span><br><span class="line"></span><br><span class="line">rgba(16, 152, 173, 0.1) 72%,</span><br><span class="line"></span><br><span class="line">rgba(7, 179, 155, 0.1) 86%,</span><br><span class="line"></span><br><span class="line">rgba(109, 186, 130, 0.1) 100%</span><br><span class="line"></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨ <code>themes/butterfly/_config.yml</code>ä¸­æ·»åŠ æ ·å¼æ–‡ä»¶å¼•å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># æ³¨å…¥</span><br><span class="line"></span><br><span class="line"># åœ¨å¤´éƒ¨ (&#x27;&lt;head&gt;&#x27; æ ‡ç­¾ä¹‹å‰) å’Œåº•éƒ¨ (&#x27;&lt;body&gt;&#x27; æ ‡ç­¾ä¹‹å‰) æ’å…¥ä»£ç </span><br><span class="line"></span><br><span class="line"># åœ¨å¤´éƒ¨ &lt;head&gt; ä¹‹å‰ å’Œ åº•éƒ¨ &lt;body&gt; ä¹‹å‰æ’å…¥ä»£ç </span><br><span class="line"></span><br><span class="line">inject:</span><br><span class="line"></span><br><span class="line">head:</span><br><span class="line"></span><br><span class="line">- &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/background.css&quot;&gt;</span><br><span class="line"></span><br><span class="line">bottom:</span><br><span class="line"></span><br><span class="line"># - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœèƒŒæ™¯è‰²ä¸ç”Ÿæ•ˆï¼Œåœ¨<code>_config.butterfly.yml</code>è®¾ç½®ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># è®¾ç½®ç½‘ç«™èƒŒæ™¯</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># å¯ä»¥è®¾ç½®ä¸ºé¢œè‰²æˆ–å›¾ç‰‡ï¼ˆå¯è®¾ç½®å›¾ç‰‡ æˆ–è€… é¢œè‰²ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># å›¾ç‰‡æ ¼å¼ï¼šurl(http://xxxxxx.com/xxx.jpg)</span></span><br><span class="line"></span><br><span class="line">background: <span class="string">&#x27;#efefef&#x27;</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="6-footer-èƒŒæ™¯"><a class="markdownIt-Anchor" href="#6-footer-èƒŒæ™¯"></a> <strong>6. footer èƒŒæ™¯</strong></h4><p><code>footer</code> çš„èƒŒæ™¯ï¼Œå½“è®¾ç½® <code>false</code> æ—¶ï¼Œå°†ä¸ä¸»é¢˜è‰²ä¸€è‡´ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># é¡µè„šèƒŒæ™¯</span></span><br><span class="line"></span><br><span class="line">footer_bg: <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br />åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/2301_76884890/article/details/141507802">https://blog.csdn.net/2301_76884890/article/details/141507802</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoæ­å»ºä¸ªäººåšå®¢ç½‘ç«™</title>
      <link href="/2024/11/29/Hexo/Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99/"/>
      <url>/2024/11/29/Hexo/Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99/</url>
      
        <content type="html"><![CDATA[<h3 id="æ‘˜è¦"><a class="markdownIt-Anchor" href="#æ‘˜è¦"></a> æ‘˜è¦</h3><p>ä¸»è¦è®°å½•ä¸€ä¸‹<a href="https://so.csdn.net/so/search?q=%E6%90%AD%E5%BB%BA%E7%BD%91%E7%AB%99&amp;spm=1001.2101.3001.7020">æ­å»ºç½‘ç«™</a>çš„æ­¥éª¤ï¼Œä»¥åŠæ­å»ºå¥½ä¹‹åè¯¥æ€ä¹ˆä¿®æ”¹ymlæ–‡ä»¶ï¼Œä½¿è‡ªå·±çš„ç½‘ç«™çœ‹èµ·æ¥å¥½çœ‹äº›ï¼ŒåæœŸå‘å¸ƒæ–‡ç« ç­‰ç­‰ã€‚ã€‚ã€‚æ­¤æ­å»ºå…¨ç¨‹å…è´¹ï¼Œéå¸¸çš„ä¸é”™ï¼ˆé™¤äº†æ›´æ”¹åŸŸåä¹‹å¤–)<br />æœ‰ä»€ä¹ˆé™„åŠ åŠŸèƒ½å¤§å®¶å¯ä»¥ä¸€å—åœ¨ç•™è¨€åŒºè®¨è®ºã€‚<br /><em>ğŸ”‘ æ³¨é‡Šï¼šæˆ‘çš„å†…å®¹ä»è®¸å¤šåšå®¢ï¼Œå¸–å­ä¸­æ±²å–</em></p><p>æ¥ä¸‹æ¥å’±ä»¬å¼€å§‹è¿›å…¥æ­£é¢˜</p><h3 id="æ­å»ºç½‘ç«™çš„å‰ç½®å·¥å…·"><a class="markdownIt-Anchor" href="#æ­å»ºç½‘ç«™çš„å‰ç½®å·¥å…·"></a> æ­å»ºç½‘ç«™çš„å‰ç½®å·¥å…·</h3><p>éƒ¨åˆ†å†…å®¹å‚è€ƒ<a href="https://pdpeng.github.io/2022/01/19/setup-personal-blog/#%E5%BA%8F%E8%A8%80">æ­å»ºç½‘ç«™</a></p><h4 id="webstorm"><a class="markdownIt-Anchor" href="#webstorm"></a> WebStorm</h4><p>ä½¿ç”¨<a href="https://www.jetbrains.com/webstorm/">WebStorm</a>è¿›è¡Œç¼–å†™ä»£ç <br /><img src="0553829ce7294eac9a1c35728a31239a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ç”¨_<strong>VSCODE</strong>_ä¹Ÿå¯ä»¥ã€‚</p><h4 id="hexo"><a class="markdownIt-Anchor" href="#hexo"></a> Hexo</h4><p>ä¸‹è½½å®Œä¹‹åï¼Œæˆ‘ä»¬ç”¨<a href="https://hexo.io/zh-cn/index.html">Hexo</a>æ¡†æ¶æ¥æ­å»ºç½‘ç«™ï¼Œè¿™ä¸ªç½‘ç«™ä¸­æœ‰è®¸å¤šå·²ç»æ­å»ºå¥½çš„ç½‘ç«™<a href="https://marketing.csdn.net/p/3127db09a98e0723b83b2914d9256174?pId=2782?utm_source=glcblog&amp;spm=1001.2101.3001.7020">æ¨¡æ¿</a>ä¸»é¢˜ã€‚</p><p>åœ¨æœ¬æ–‡ä¸­æˆ‘ä»¬ä½¿ç”¨_<strong>butterfly</strong>_ä¸»é¢˜ã€‚<br /><img src="e3e797cc42bf4b9e9f17d24ed6b96b6f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />åœ¨æ­å»ºæ­¤æ¡†æ¶ä¹‹å‰ï¼Œå’±ä»¬éœ€è¦ä¸‹è½½å¥½Nodejså’Œ<a href="https://edu.csdn.net/cloud/sd_summit?utm_source=glcblog&amp;spm=1001.2101.3001.7020">Git</a><br />å¯ä»¥å‚è€ƒ<a href="https://blog.csdn.net/WHF__/article/details/129362462?spm=1001.2014.3001.5506">Nodejs</a>å’Œ<a href="https://blog.csdn.net/mukes/article/details/115693833?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522D9F3249D-5AF4-40E2-BD5F-397A4A6B34AE%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=D9F3249D-5AF4-40E2-BD5F-397A4A6B34AE&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-4-115693833-null-null.142%5Ev100%5Epc_search_result_base1&amp;utm_term=Git&amp;spm=1018.2226.3001.4187">Git</a>è¿™ä¸¤ä¸ªåšå®¢è¿›è¡Œä¸‹è½½ã€‚</p><p>å¥½çš„ï¼Œè¿™äº›ä¸œè¥¿é…ç½®å¥½ä¹‹åå¼€å§‹æ­å»ºç½‘ç«™ã€‚</p><h3 id="hexoé…ç½®"><a class="markdownIt-Anchor" href="#hexoé…ç½®"></a> Hexoé…ç½®</h3><p>æ¡Œé¢å³å‡»ï¼Œæ‰“å¼€git bash hereè¾“å…¥å‘½ä»¤å®‰è£…ï¼ˆé»˜è®¤ä½ç½®å³å¯ï¼Œæ–¹é¢åç»­é…ç½®ï¼Œä¸å»ºè®®ä¿®æ”¹ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨ç”µè„‘é‡Œè‡ªå·±æƒ³è¦æ”¾ç½®åšå®¢é…ç½®å’Œå†…å®¹çš„åœ°æ–¹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼š<br />æ¯”å¦‚è¯´æˆ‘åœ¨Eç›˜å»ºç«‹äº†ä¸€ä¸ªpenny_blogæ–‡ä»¶å¤¹ï¼Œä»¥åæ‰€æœ‰å…³äºåšå®¢ç½‘ç«™çš„å†…å®¹éƒ½æ”¾åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ã€‚</p><h4 id="åˆå§‹åŒ–"><a class="markdownIt-Anchor" href="#åˆå§‹åŒ–"></a> åˆå§‹åŒ–</h4><p>æ¥ä¸‹æ¥åœ¨æ–°å»ºç«‹çš„æ–‡ä»¶å¤¹ä¸‹æ‰“å¼€ git bash here è¾“å…¥å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ–ä¹‹åï¼Œè¯¥æ–‡ä»¶ä¸‹é¢ä¼šå‡ºç°ä»¥ä¸‹å†…å®¹ï¼š<br /><img src="9ca0e3ed06eb42b693eba42b2490f656.png" alt="" /><br />è¿™é‡Œå€Ÿç”¨äº†å…¶ä»–åšä¸»çš„å›¾ç‰‡ã€‚<br />ç®€å•ä»‹ç»ä¸‹hexoçš„æ–‡ä»¶ç»“æ„ï¼š<br />public æœ€ç»ˆæ‰€è§ç½‘é¡µçš„æ‰€æœ‰å†…å®¹<br />node_modules æ’ä»¶ä»¥åŠhexoæ‰€éœ€node.jsæ¨¡å—<br />_config.yml ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œè®¾å®šä¸€äº›å…¬å¼€ä¿¡æ¯ç­‰<br />package.json åº”ç”¨ç¨‹åºä¿¡æ¯ï¼Œé…ç½®hexoè¿è¡Œæ‰€éœ€jsåŒ…<br />scaffolds æ¨¡æ¿æ–‡ä»¶å¤¹ï¼Œæ–°å»ºæ–‡ç« ï¼Œä¼šé»˜è®¤åŒ…å«å¯¹åº”æ¨¡æ¿å†…å®¹<br />themes å­˜æ”¾ä¸»é¢˜æ–‡ä»¶ï¼Œhexoæ ¹æ®ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µï¼ˆé€Ÿåº¦è´¼å¿«ï¼‰<br />source ç”¨äºå­˜æ”¾ç”¨æˆ·èµ„æºï¼ˆé™¤ posts æ–‡ä»¶å¤¹ï¼Œå…¶ä½™å‘½åæ–¹å¼ä¸º â€œ + æ–‡ä»¶åâ€çš„æ–‡ä»¶è¢«å¿½ç•¥ï¼‰<br />æˆ‘ä»¬æ—¥å¸¸å†™æ–‡çš„æ“ä½œéƒ½åœ¨ source/_postä¸‹ã€‚</p><h4 id="æœ¬åœ°è¿è¡Œ"><a class="markdownIt-Anchor" href="#æœ¬åœ°è¿è¡Œ"></a> æœ¬åœ°è¿è¡Œ</h4><p>æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨WebStormæ‰“å¼€æ ¹ç›®å½•æ–‡ä»¶å¤¹ï¼ˆæ¯”å¦‚è¯´:penny_blogè¿™ä¸ªæ ¹ç›®å½•æ–‡ä»¶å¤¹ï¼‰<br />ç„¶ååœ¨ç»ˆç«¯è¾“å…¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><blockquote><p><em>è¿™ä¸ªsæŒ‡çš„æ˜¯serverï¼ˆæœ¬åœ°æœåŠ¡å™¨ï¼‰</em></p></blockquote><p>è¿è¡Œä¹‹åï¼Œä¼šæ˜¾ç¤º<br /><img src="2c68f74b1a614e4b91af5dd9ba2e1fed.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ç‚¹å‡»é“¾æ¥ <a href="http://localhost:4000">http://localhost:4000</a>ï¼ˆå›¾ä¸­é»„è‰²ä¸‹åˆ’çº¿ä½ç½®ï¼‰è¿›è¡Œæœ¬åœ°é¢„è§ˆï¼Œé»˜è®¤æ˜¯hexoå†…ç½®çš„landscape ä¸»é¢˜<br /><img src="4f943f5eab504150b0045de560151549.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />åœ¨ç»ˆç«¯æŒ‰Ctrl+Cé€€å‡ºè¿è¡Œã€‚</p><p>è¿™ä¸ªä¸»é¢˜æŒºä¸‘çš„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ›´æ¢ä¸»é¢˜ï¼Œåœ¨<a href="https://hexo.io/themes/">Hexo themes</a>å¯ä»¥æ‰¾åˆ°è®¸å¤šä¸»é¢˜ï¼Œå¯ä»¥é€‰æ‹©ä½ è‡ªå·±å–œæ¬¢çš„å°±è¡Œã€‚æˆ‘è§‰å¾—butterflyè¿™ä¸ªä¸»é¢˜ç‰¹åˆ«å¥½çœ‹ï¼Œå¾ˆå¯çˆ±å“ˆå“ˆï¼Œè€Œä¸”åŠŸèƒ½å¾ˆå¤šã€‚</p><p>å¥½çš„æ¥ä¸‹æ¥æˆ‘ä»¬æ¥è®²ä¸€ä¸‹æ›´æ”¹ä¸»é¢˜</p><h3 id="ä¸»é¢˜æ›´æ”¹"><a class="markdownIt-Anchor" href="#ä¸»é¢˜æ›´æ”¹"></a> ä¸»é¢˜æ›´æ”¹</h3><p>ä»¥ä¸‹å†…å®¹å‚è€ƒåšæ–‡<a href="https://blog.csdn.net/mjh1667002013/article/details/129290903?spm=1001.2014.3001.5506">butterflyä¸»é¢˜é…ç½®</a></p><h4 id="å®‰è£…butterflyä¸»é¢˜"><a class="markdownIt-Anchor" href="#å®‰è£…butterflyä¸»é¢˜"></a> å®‰è£…butterflyä¸»é¢˜</h4><ol><li>åœ¨hexoé¡¹ç›®æ ¹ç›®å½•ä¸‹(penny_blog)ä¸‹è½½ä¸»é¢˜ã€‚<br /><img src="d56b0d2655504c7b8c5b7825e3823b86.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />åœ¨å‘½ä»¤ç«¯è¾“å…¥ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><ol start="2"><li>å®‰è£…pug å’Œ stylus æ¸²æŸ“å™¨ã€‚</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><ol start="3"><li>ä¿®æ”¹é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶ï¼ˆç§°ä¸ºç«™ç‚¹é…ç½®æ–‡ä»¶ï¼‰</li></ol><p><img src="3accfa950e9a4e6a93ec6124987834a5.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¼€å¯ä¸»é¢˜</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Extensions ## Plugins: https://hexo.io/plugins/ ## Themes: https://hexo.io/themes/ theme: butterfly</span></span><br></pre></td></tr></table></figure><p><img src="745d720d2cc746c4be1804b7c5422d10.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />4. å‡çº§å»ºè®®<br />ä¸ºäº†æ¸›å°‘å‡çº§ä¸»é¢˜å¸¦æ¥çš„ä¸ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸»é¢˜æ–‡ä»¶å¤¹ä¸­çš„ _config.yml é‡å‘½åä¸º _config.butterfly.ymlï¼Œå¤åˆ¶åˆ° Hexo æ ¹ç›®å½•ä¸‹ä¸_config.ymlåŒçº§ã€‚ï¼ˆæœ¬äººè§‰å¾—éå¸¸å¥½ï¼Œè¦ä¸å®¹æ˜“æŠ¥é”™ï¼‰<br />Hexoä¼šè‡ªåŠ¨åˆå¹¶ä¸»é¢˜ä¸­çš„_config.ymlå’Œ _config.butterfly.yml ï¼Œå¦‚æœå­˜åœ¨åŒåé…ç½®ï¼Œä¼šä½¿ç”¨_config.butterfly.ymlçš„é…ç½®ï¼Œå…¶ä¼˜å…ˆåº¦è¾ƒé«˜ã€‚æ‰€ä»¥åƒå’Œåšå®¢ç½‘å€ç›¸å…³è”çš„å›ºå®šèµ„æ–™å¯ä»¥è®¾ç½®åœ¨_config.ymlä¸­ï¼Œæ¯”<img src="290b56a3b9da47d08c4308c736ce8d25.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />å¦‚åšå®¢çš„æ ‡é¢˜ã€ä½œè€…ä¿¡æ¯å’Œé‚®ç®±ç­‰ç­‰èµ„æ–™ï¼Œè€Œå’Œä¸»é¢˜æ ·å¼ç›¸å…³çš„é…ç½®æ”¾åœ¨ _config.butterfly.yml ä¸­ï¼Œé‚£ä¹ˆåœ¨å°†æ¥ä½ æƒ³æ¢ä¸€ä¸ªä¸»é¢˜æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚<br /><strong>æ›´æ”¹å¥½ä¸»é¢˜ä¹‹åï¼Œ</strong><br />åœ¨ç»ˆç«¯ä¾æ¬¡è¾“å…¥:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean hexo g hexo s</span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨æœ¬åœ°çœ‹çœ‹æ›´æ”¹å¥½çš„çš„ä¸»é¢˜æ ·å¼ï¼Œé•¿è¿™ä¸ªæ ·å­<br /><img src="f7f0c081a8dc4fe889a8d6fb9713ee25.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />è¿™å¼ å›¾æ˜¯æœ¬äººå·²ç»ä¿®æ”¹äº†ä¸€ä¸‹ymlçš„é…ç½®å†…å®¹ï¼Œè¯¦ç»†ä¿®æ”¹å†…å®¹è¿˜æ˜¯å¯ä»¥çœ‹çœ‹<br /><a href="https://blog.csdn.net/mjh1667002013/article/details/129290903?spm=1001.2014.3001.5506">butterflyä¸»é¢˜é…ç½®</a>è¿™ä¸ªåšä¸»å†™çš„å†…å®¹ï¼Œå¾ˆè¯¦ç»†ã€‚</p><h3 id="æ­£å¼ä¸Šçº¿"><a class="markdownIt-Anchor" href="#æ­£å¼ä¸Šçº¿"></a> æ­£å¼ä¸Šçº¿</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦å‘å¸ƒè‡ªå·±åšçš„ç½‘ç«™ï¼Œè¿™é‡Œè¦å€ŸåŠ©githubå¹³å°</p><h4 id="github-pagesé…ç½®"><a class="markdownIt-Anchor" href="#github-pagesé…ç½®"></a> GitHub Pagesé…ç½®</h4><p>å¯ä»¥é€šè¿‡githubåˆ›å»ºç½‘é¡µï¼Œè€Œä¸”å…è´¹ï¼Œæ›´æ–°é€Ÿåº¦æå¿«ï¼Œåˆ·æ–°githubä»“åº“é¡µé¢ï¼Œç½‘ç«™ä¹Ÿå°±è‡ªåŠ¨æ›´æ–°äº†</p><h5 id="æ–°å»ºä»“åº“"><a class="markdownIt-Anchor" href="#æ–°å»ºä»“åº“"></a> æ–°å»ºä»“åº“</h5><p>å¡«å†™å†…å®¹å¦‚ä¸‹ï¼Œç‰¹åˆ«æ³¨æ„çº¢æ¡†ä½ç½®<br /><img src="9a8547a41f3a499e9a6023c52ea6c499.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br /><strong>ä¸€å®šè¦æ˜¯è‡ªå·±çš„githubçš„ç”¨æˆ·åï¼Œè¦ä¸ç„¶å°±ç”¨ä¸äº†å“ˆï¼ï¼ï¼ï¼</strong><br />ä¿è¯ä»“åº“publicï¼Œ<a href="http://xn--g7qq3dba485blwormnhuqsfgfvd.github.io">åç§°å¡«å†™æ­£ç¡®ç”¨æˆ·å.github.io</a>ï¼Œç³»ç»Ÿè‡ªåŠ¨å˜æ›´ä¸ºPages</p><p>åœ¨ä»“åº“è®¾ç½®ä¸­æ‰¾åˆ°Pages</p><p><img src="bfa603635bed476ca08e3d00cbe882a8.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />è®°ä½ä»“åº“åœ°å€ï¼Œæˆ‘ä»¬ä¼šå°†æœ¬åœ°çš„æ–‡ä»¶ä¸Šä¼ åˆ°ä»“åº“<br /><img src="7d67abc4c84a46fa850ff98ba987401d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h5 id="sshå¯†é’¥é…ç½®"><a class="markdownIt-Anchor" href="#sshå¯†é’¥é…ç½®"></a> SSHå¯†é’¥é…ç½®</h5><p>å¦‚æœä½ æ˜¯åœ¨ç”µè„‘ä¸Šç¬¬ä¸€æ¬¡ä½¿ç”¨gitï¼Œè¯·å…ˆé…ç½®SSHå…¬é’¥ï¼ˆä¸€ç§å®‰å…¨åè®®ï¼Œä½ å¯ä»¥ç†è§£ä¸ºç™»é™†æŸç½‘ç«™éœ€è¦çš„éªŒè¯ç ï¼‰<br />å¯ä»¥å‚è€ƒï¼š<a href="https://blog.csdn.net/2301_80864686/article/details/136207178?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=github%20ssh&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-3-136207178.142%5Ev100%5Epc_search_result_base1&amp;spm=1018.2226.3001.4187">GitHub SSHé…ç½®</a><br />é…ç½®å¥½sshä¹‹åæˆ‘ä»¬å°±å¯ä»¥æŠŠæœ¬åœ°çš„hexoå’Œgithubä»“åº“è”ç³»èµ·æ¥äº†</p><h4 id="å°†hexoéƒ¨ç½²åˆ°github"><a class="markdownIt-Anchor" href="#å°†hexoéƒ¨ç½²åˆ°github"></a> å°†hexoéƒ¨ç½²åˆ°GitHub</h4><p>æ‰“å¼€ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.ymlï¼Œç¿»åˆ°æœ€åæœ‰ä¸ªDeploymentï¼Œä¿®æ”¹å†…å®¹å¦‚ä¸‹ï¼Œtypeå’ŒbranchæŒ‰ç…§å›¾ç‰‡çš„å†…å®¹ä¿®æ”¹å°±å¥½ï¼Œç„¶årepositoryä¿®æ”¹æˆä½ è‡ªå·±çš„ä»“åº“é“¾æ¥å°±è¡Œï¼Œä¸€å®šè¦æ³¨æ„æ¯ä¸ªåç§°å’Œå€¼ä¹‹é—´éƒ½æœ‰ä¸ª<strong>ç©ºæ ¼</strong><br /><img src="cfbd6a2447c247398fc0c75d1e06542f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />å¦‚æœå®³æ€•å‡ºé”™ï¼Œç›´æ¥å¤åˆ¶æˆ‘çš„ï¼Œç„¶åæŠŠrepositoryé“¾æ¥ä¿®æ”¹æˆä½ å°±è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment ## Docs: https://hexo.io/docs/one-command-deployment deploy: type: git repository: https://github.com/pennyzhao1507288/pennyzhao1507288.github.io.git branch: master</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™éœ€è¦å…ˆå®‰è£…deploy-git ï¼Œä¹Ÿå°±æ˜¯éƒ¨ç½²çš„å‘½ä»¤,è¿™æ ·ä½ æ‰èƒ½ç”¨å‘½ä»¤éƒ¨ç½²åˆ°GitHubã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨æœ¬åœ°æ ¹ç›®å½•ä¸‹(penny_blog)æ‰“å¼€ git bash here ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean //æ‰§è¡Œæ­¤å‘½ä»¤åç»§ç»­ä¸‹ä¸€æ¡ hexo g //ç”Ÿæˆåšå®¢ç›®å½• hexo s //æœ¬åœ°é¢„è§ˆ hexo d //éƒ¨ç½²é¡¹ç›®</span><br></pre></td></tr></table></figure><p>æ³¨æ„deployæ—¶å¯èƒ½è¦ä½ è¾“å…¥usernameå’Œpasswordã€‚<br />æ‰§è¡Œå®Œæ¯•åï¼Œæ‰€æœ‰äººå°±èƒ½é€šè¿‡ä½ çš„ç”¨æˆ·å+github.ioè¿™ä¸ªåŸŸåè®¿é—®ä½ çš„ç½‘ç«™äº†ã€‚åˆ°è¿™å„¿ï¼Œæˆ‘ä»¬å°±æˆåŠŸä¸Šçº¿äº†è‡ªå·±çš„ç½‘ç«™ã€‚</p><h3 id="ä¸ªæ€§åŒ–è®¾ç½®"><a class="markdownIt-Anchor" href="#ä¸ªæ€§åŒ–è®¾ç½®"></a> ä¸ªæ€§åŒ–è®¾ç½®</h3><p>æƒ³è¦æ›´æ”¹è‡ªå·±ç½‘ç«™çš„ä¸€äº›é…ç½® ï¼Œå¯ä»¥çœ‹åˆšåˆšä¸Šæ–‡çš„é‚£ä¸ªbutterflyåšæ–‡ï¼Œä¹Ÿå¯ä»¥çœ‹butterflyå®˜ç½‘çš„æ•™ç¨‹ï¼š</p><p><a href="https://butterfly.js.org/posts/4aa8abbe/">butterflyæ•™ç¨‹å®˜ç½‘</a></p><h3 id="åç»­ç½‘ç«™æ›´æ–°å†…å®¹"><a class="markdownIt-Anchor" href="#åç»­ç½‘ç«™æ›´æ–°å†…å®¹"></a> åç»­ç½‘ç«™æ›´æ–°å†…å®¹</h3><h4 id="åˆ†ç±»å’Œæ ‡ç­¾è®¾ç½®"><a class="markdownIt-Anchor" href="#åˆ†ç±»å’Œæ ‡ç­¾è®¾ç½®"></a> åˆ†ç±»å’Œæ ‡ç­¾è®¾ç½®</h4><h5 id="åˆ†ç±»categories"><a class="markdownIt-Anchor" href="#åˆ†ç±»categories"></a> åˆ†ç±»ï¼ˆcategoriesï¼‰</h5><p>1ã€åˆ›å»ºâ€œåˆ†ç±»â€é€‰é¡¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page categories</span><br></pre></td></tr></table></figure><p>æˆåŠŸåä¼šæç¤ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO Created: ~/Documents/blog/source/categories/index.md</span><br></pre></td></tr></table></figure><ol start="2"><li>æ ¹æ®ä¸Šé¢çš„è·¯å¾„ï¼Œæ‰¾åˆ°index.mdè¿™ä¸ªæ–‡ä»¶ï¼Œæ‰“å¼€åé»˜è®¤å†…å®¹æ˜¯è¿™æ ·çš„ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--- title: categories <span class="built_in">date</span>: 2024-11-09 08:18:17 ---</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶é—´dateæ˜¯ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆçš„ï¼Œæ˜¯ä½ è¾“å…¥å‘½ä»¤ç”Ÿæˆindex.mdçš„æ—¶é—´</p><ol start="3"><li>æ·»åŠ type: &quot;categories&quot;åˆ°å†…å®¹ä¸­ï¼Œæ·»åŠ åæ˜¯è¿™æ ·çš„ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--- title: categories <span class="built_in">date</span>: 2024-11-09 08:18:17 <span class="built_in">type</span>: <span class="string">&quot;categories&quot;</span> ---</span><br></pre></td></tr></table></figure><h5 id="æ ‡ç­¾tags"><a class="markdownIt-Anchor" href="#æ ‡ç­¾tags"></a> æ ‡ç­¾ï¼ˆtagsï¼‰</h5><p>ç„¶åtagæ ‡ç­¾çš„åˆ›å»ºæ–¹æ³•ä¹Ÿæ˜¯å¦‚æ­¤ï¼š</p><ol><li>åˆ›å»ºtagsé€‰é¡¹</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page tags</span><br></pre></td></tr></table></figure><ol start="2"><li>æ‰¾åˆ°tagsä¸€ä¸‹çš„<code>index.md</code><br /><img src="3964f1b555204c3baa60009e3961346b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />åˆå§‹å†…å®¹ä¸ºï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--- title: categories <span class="built_in">date</span>: 2024-11-09 08:18:17 ---</span><br></pre></td></tr></table></figure><ol start="3"><li>æ·»åŠ type</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--- title: categories <span class="built_in">date</span>: 2024-11-09 08:18:17 <span class="built_in">type</span>: <span class="string">&quot;categories&quot;</span> ---</span><br></pre></td></tr></table></figure><h5 id="å‘å¸ƒæ–‡ç« "><a class="markdownIt-Anchor" href="#å‘å¸ƒæ–‡ç« "></a> å‘å¸ƒæ–‡ç« </h5><p>æ¥ä¸‹æ¥ä¸ºä½ è¦å‘è¡¨çš„åšå®¢æ·»åŠ åˆ†ç±»å’Œæ ‡ç­¾<br />æ¯”å¦‚è¯´æˆ‘è¦å‘è¡¨AIçš„æ–‡ç« <br />é‚£ä¹ˆè¾“å…¥å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo n <span class="string">&quot;introduction to AI(1)&quot;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·å­åœ¨æ ¹ç›®å½•çš„sourceä¸‹çš„_postsä¸‹é¢ä¼šç”Ÿæˆ<code>introduction to AI(1).md</code><br /><img src="04e4db5e1a124feda731f5bfceb6bd7a.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ç„¶åä½ å°±å¯ä»¥æŒ‰ç…§typoraçš„æ ¼å¼è¿›è¡Œå†™æ–‡æ¡£ã€‚<br />å¯¹äº†ï¼Œåœ¨è¿™ä¸ªæ–‡æ¡£ä¸­æ’å…¥å›¾ç‰‡è§†é¢‘è¿™äº›çš„ï¼Œå¾—ç”¨<strong>ç›¸å¯¹è·¯å¾„</strong>ï¼Œä½ è¦æŠŠè¿™äº›èµ„æºå›¾ç‰‡è§†é¢‘æ”¾åœ¨hexoï¼ˆæ¯”å¦‚è¯´ï¼špenny_blogï¼‰æ ¹ç›®å½•çš„sourceä¸‹çš„æ–°å»ºæ–‡ä»¶å¤¹ä¸­ï¼ˆæˆ‘è¿™è¾¹æ˜¯åˆ›å»ºäº†ä¸€ä¸ªAIæ–°æ–‡ä»¶å¤¹ï¼‰<br /><img src="857317a74dd049338dd7873f7f20ef64.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />æˆ‘æ˜¯ç°åœ¨æ˜¯åœ¨æœ¬åœ°å…¶ä»–åœ°æ–¹ä¿å­˜äº†è¿™äº›å›¾ç‰‡å’Œè§†é¢‘ï¼Œç„¶åå†å¤åˆ¶åˆ°hexoæ ¹ç›®å½•çš„sourceä¸­ï¼Œç„¶åç”Ÿæˆç›¸å¯¹è·¯å¾„å†…å®¹ã€‚<br />è¿™ä¸ªè½¬æ¢çš„è„šæœ¬å¯ä»¥ç”¨ä»¥ä¸‹pythonä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os <span class="keyword">import</span> sys <span class="keyword">import</span> shutil <span class="keyword">import</span> subprocess <span class="keyword">def</span> <span class="title function_">hexoimg</span>(<span class="params">img_path</span>): <span class="comment"># è·å–æ–‡ä»¶åå’Œæ‰©å±•å fname = os.path.basename(img_path) # ç›®æ ‡ç›®å½• dest_dir = r&quot;E:\web\penny_blog\source\AI&quot; # ä¿®æ”¹ä¸ºä½ å®é™…çš„ç›®å½• # ç¡®ä¿ç›®æ ‡ç›®å½•å­˜åœ¨ os.makedirs(dest_dir, exist_ok=True) # å¤åˆ¶æ–‡ä»¶åˆ°ç›®æ ‡ç›®å½• dest_path = os.path.join(dest_dir, fname) shutil.copy(img_path, dest_path) # ç”Ÿæˆ Markdown æ ¼å¼çš„é“¾æ¥ markdown_link = f&quot;![Image](/AI/&#123;fname&#125;)&quot; # å°†é“¾æ¥å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼ˆé€‚ç”¨äº Windowsï¼‰ subprocess.run(&quot;echo &quot; + markdown_link.strip() + &quot;| clip&quot;, shell=True) # è¾“å‡ºæç¤ºä¿¡æ¯ print(f&quot;&#123;markdown_link&#125; Copied to Clipboard :)&quot;) if __name__ == &quot;__main__&quot;: if len(sys.argv) &lt; 2: print(&quot;Usage: python hexoimg.py path/to/your/image.jpg&quot;) else: hexoimg(sys.argv[1])</span></span><br></pre></td></tr></table></figure><p>ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨ç»ˆç«¯è¾“å…¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python hexoimg.py E:\å­¦ä¹ \uni\year3\ai\img\week7_14.png</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![Image](/AI/week7_14.png) Copied to Clipboard :)</span><br></pre></td></tr></table></figure><p>ç„¶åç›´æ¥ç²˜è´´åˆ°typoraä¸­å°±å¯ä»¥äº†<br /><img src="38ae541abdaa4cafb22e45b7528a8876.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />å†™å¥½ä¹‹ååœ¨gitå‘½ä»¤è¡Œä¸­ä¾æ¬¡è¾“å…¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean hexo g hexo d</span><br></pre></td></tr></table></figure><p>å°±å¯ä»¥åœ¨githubä¸­æ›´æ–°ï¼Œç„¶ååˆ·æ–°ç½‘ç«™å°±å¯ä»¥çœ‹åˆ°äº†ã€‚</p><p>æ­å»ºç½‘ç«™è¿˜æœ‰è®¸å¤šéœ€è¦çš„çŸ¥è¯†ï¼Œåç»­æˆ‘å†æ›´æ–°ç½‘ç«™çš„æ—¶å€™ï¼Œä¼šç»§ç»­åˆ†äº«å¿ƒå¾—çš„ã€‚</p><hr /><p>é©¬ä¸Šæ›´æ–°å“ˆå“ˆ</p><h4 id="åˆ©ç”¨giscusé…ç½®è¯„è®º"><a class="markdownIt-Anchor" href="#åˆ©ç”¨giscusé…ç½®è¯„è®º"></a> åˆ©ç”¨giscusé…ç½®è¯„è®º</h4><p>æˆ‘ä»¬ä½¿ç”¨Giscusæ¥é…ç½®è¿™ä¸ªè¯„è®ºã€‚<br />è¿™æ˜¯ä¸€ä¸ªåŸºäº GitHub Discussions çš„è¯„è®º<br />è¿™æ˜¯é…ç½®æ–‡ä»¶<a href="https://giscus.app/zh-CN">giscus</a><br />é€‰æ‹© giscus è¿æ¥åˆ°çš„ä»“åº“ã€‚è¯·ç¡®ä¿ï¼š</p><blockquote><ul><li>è¯¥ä»“åº“æ˜¯å…¬å¼€çš„ï¼Œå¦åˆ™è®¿å®¢å°†æ— æ³•æŸ¥çœ‹ discussionã€‚</li><li><a href="https://github.com/apps/giscus">giscus</a> app å·²å®‰è£…ï¼Œå¦åˆ™è®¿å®¢å°†æ— æ³•è¯„è®ºå’Œå›åº”ã€‚</li><li><a href="https://docs.github.com/en/github/administering-a-repository/managing-repository-settings/enabling-or-disabling-github-discussions-for-a-repository">Disscussion</a> åŠŸèƒ½å·²åœ¨ä½ çš„ä»“åº“ä¸­å¯ç”¨ã€‚</li></ul></blockquote><p><img src="c055b0a04b964979969c8f355c83af36.png" alt="" /></p><p><img src="584b3f3d49284fac9cd5d63ade9da8f5.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ä»¥ä¸Šä¸‰ä¸ªæ¡ä»¶æ»¡è¶³ä¹‹åå°±å¯ä»¥äº†ï¼Œç„¶åç½‘é¡µå¾€ä¸‹ç¿»æœ‰ç”Ÿæˆå¥½çš„é…ç½®ï¼š<br /><img src="b2aecb6270f3450caa3073bcef1a91ff.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />ç„¶ååœ¨<code>_configure_butterfly.yml</code> æ–‡æ¡£ä¸­æ‰¾åˆ°Comments,<code>use</code>å†…å®¹æ”¹æˆ<code>Giscus</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">comments:</span> <span class="comment"># Up to two comments system, the first will be shown as default # Leave it empty if you don&#x27;t need comments # Choose: Disqus/Disqusjs/Livere/Gitalk/Valine/Waline/Utterances/Facebook Comments/Twikoo/Giscus/Remark42/Artalk # Format of two comments system : Disqus,Waline use: Giscus # Display the comment name next to the button text: true # Lazyload: The comment system will be load when comment element enters the browser&#x27;s viewport. # If you set it to true, the comment count will be invalid lazyload: true # Display comment count in post&#x27;s top_img count: true # Display comment count in Home Page card_post_count: true</span></span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨ä¸‹æ–¹giscusçš„éƒ¨åˆ†æ·»åŠ ä»¥ä¸‹é…ç½®ï¼Œ<strong>ç”¨ä½ è‡ªå·±åœ¨giscusç”Ÿæˆçš„å‚æ•°</strong>ï¼Œè¿™é‡Œæ˜¯æˆ‘çš„<br /><img src="7883e0024b784ef69b6837aa383862b5.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">giscus: repo: pennyzhao1507288/pennyzhao1507288.github.io repo_id: R_kgDONMjCuQ category_id: DIC_kwDONMjCuc4CkIEb light_theme: light dark_theme: dark js: https://giscus.app/client.js option:</span></span><br></pre></td></tr></table></figure><p>é…ç½®å¥½ä¹‹åï¼Œæˆ‘ä»¬åœ¨åšæ–‡mdæœ€åæ·»åŠ åˆšåˆšgiscusç½‘é¡µä¸­ç”Ÿæˆçš„é…ç½®å¤åˆ¶åˆ°mdä¸­ï¼ˆæ¯”å¦‚è¯´è¿™ä¸ªAI markdownæ–‡ä»¶ä¸­æ·»åŠ è¯„è®ºï¼‰ï¼š<br /><img src="52352a474921479cba527640e4700677.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><p>å®Œæˆä¹‹å<br />ç»§ç»­ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean hexo g hexo d</span><br></pre></td></tr></table></figure><p>æ›´æ–°å†…å®¹åˆ°githubï¼Œç„¶ååˆ·æ–°ç½‘é¡µå°±è¡Œäº†ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š<br /><img src="c5171042d0be4201979aaa10e2b0688d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p><h4 id="markdownä¸­æ•°å­¦å…¬å¼ä»¥åŠemojiæ˜¾ç¤º"><a class="markdownIt-Anchor" href="#markdownä¸­æ•°å­¦å…¬å¼ä»¥åŠemojiæ˜¾ç¤º"></a> markdownä¸­æ•°å­¦å…¬å¼ä»¥åŠemojiæ˜¾ç¤º</h4><p>ä½¿ç”¨ä»¥ä¸‹æ’ä»¶<a href="https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus">math plugin</a><br />åœ¨å‘½ä»¤è¡Œè¾“å…¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm un hexo-renderer-marked --save npm i hexo-renderer-markdown-it-plus --save</span><br></pre></td></tr></table></figure><p>åœ¨æ ¹ç›®å½•çš„ <code>_config.yml</code> ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">markdown_it_plus: highlight: true html: true xhtmlOut: true breaks: true langPrefix: linkify: true typographer: quotes:</span> <span class="string">â€œâ€â€˜â€™</span> <span class="attr">plugins: - plugin: name: markdown-it-mark enable:</span> <span class="literal">false</span> <span class="string">markdown-it-emoji</span> <span class="string">markdown-it-sub</span> <span class="string">markdown-it-sup</span> <span class="string">markdown-it-deflist</span> <span class="string">markdown-it-abbr</span> <span class="string">markdown-it-footnote</span> <span class="string">markdown-it-ins</span> <span class="string">markdown-it-mark</span> <span class="string">@iktakahiro/markdown-it-katex</span> <span class="string">markdown-it-toc-and-anchor</span></span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨<code>_config_butterfly.yml</code> ä¸­çš„mathå¤„ä¿®æ”¹ä¸€ä¸‹ä»£ç <br /><img src="c488b0fae2024095b5462fad024be4ad.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /><br />useå¤„æ·»åŠ ä¸ºkatex<br />ç„¶ååœ¨katexé‡Œçš„copy_texæ”¹æˆtrue</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">math:</span> <span class="comment"># Choose: mathjax, katex # Leave it empty if you don&#x27;t need math use: katex per_page: true hide_scrollbar: false mathjax: # Enable the contextual menu enableMenu: false # Choose: all / ams / none, This controls whether equations are numbered and how tags: none katex: # Enable the copy KaTeX formula # enable: true copy_tex: true</span></span><br></pre></td></tr></table></figure><p>æ›´å¤šå¥½çœ‹çš„markdownè¯­æ³•å¯ä»¥å‚è€ƒ<a href="https://meoww.top/2024/06/05/extendedtags/">markdownè¯­æ³•</a><br />åœ¨hexoä¸­çš„markdownè¯­æ³•å’Œtyporaæœ‰ç‚¹ä¸åŒã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br />åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/m0_69003698/article/details/143652280">https://blog.csdn.net/m0_69003698/article/details/143652280</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoçš„å¿«é€Ÿå¼€å§‹</title>
      <link href="/2024/11/29/Hexo/Hexo%E7%9A%84%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/"/>
      <url>/2024/11/29/Hexo/Hexo%E7%9A%84%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/</url>
      
        <content type="html"><![CDATA[<p>æ¬¢è¿ä½¿ç”¨<a href="https://hexo.io/">Hexo</a>! æˆ‘çš„åšå®¢çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œå°±æ˜¯ç”¨Hexoæ­å»ºçš„ã€‚ <a href="https://hexo.io/docs/">è¿™é‡Œ</a> æœ‰æ›´å¤šå®ƒçš„ä¿¡æ¯. å¦‚æœåœ¨ä½¿ç”¨Hexoè¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œä½ å¯ä»¥åœ¨ <a href="https://hexo.io/docs/troubleshooting.html">è¿™é‡Œ</a> æ‰¾åˆ°ç­”æ¡ˆï¼Œä¹Ÿå¯ä»¥åœ¨æŸ¥çœ‹ <a href="https://github.com/hexojs/hexo/issues">GitHub</a>ã€‚</p><h2 id="å¿«é€Ÿå¼€å§‹"><a class="markdownIt-Anchor" href="#å¿«é€Ÿå¼€å§‹"></a> å¿«é€Ÿå¼€å§‹</h2><h3 id="åˆ›å»ºæ–‡ç« "><a class="markdownIt-Anchor" href="#åˆ›å»ºæ–‡ç« "></a> åˆ›å»ºæ–‡ç« </h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>æ›´å¤š: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="è¿è¡ŒæœåŠ¡"><a class="markdownIt-Anchor" href="#è¿è¡ŒæœåŠ¡"></a> è¿è¡ŒæœåŠ¡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>æ›´å¤š: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="ç”Ÿæˆé™æ€æ–‡ä»¶"><a class="markdownIt-Anchor" href="#ç”Ÿæˆé™æ€æ–‡ä»¶"></a> ç”Ÿæˆé™æ€æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>æ›´å¤š: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="éƒ¨ç½²åˆ°è¿œç¨‹æœåŠ¡å™¨"><a class="markdownIt-Anchor" href="#éƒ¨ç½²åˆ°è¿œç¨‹æœåŠ¡å™¨"></a> éƒ¨ç½²åˆ°è¿œç¨‹æœåŠ¡å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>æ›´å¤š: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
